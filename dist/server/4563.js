var __defProp=Object.defineProperty,__name=(target,value)=>__defProp(target,"name",{value,configurable:!0});exports.id=4563,exports.ids=[4563],exports.modules={9830:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{CommunityListPageComponent:()=>CommunityListPageComponent});var _angular_core__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(70074),_community_list_themed_community_list_component__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(53508),_ngx_translate_core__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(47241);class CommunityListPageComponent{}__name(CommunityListPageComponent,"CommunityListPageComponent"),CommunityListPageComponent.\u0275fac=__name(function(t){return new(t||CommunityListPageComponent)},"CommunityListPageComponent_Factory"),CommunityListPageComponent.\u0275cmp=_angular_core__WEBPACK_IMPORTED_MODULE_1__.Xpm({type:CommunityListPageComponent,selectors:[["ds-community-list-page"]],decls:5,vars:3,consts:[[1,"container"]],template:__name(function(rf,ctx){1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_1__.TgZ(0,"div",0)(1,"h2"),_angular_core__WEBPACK_IMPORTED_MODULE_1__._uU(2),_angular_core__WEBPACK_IMPORTED_MODULE_1__.ALo(3,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_1__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_1__._UZ(4,"ds-themed-community-list"),_angular_core__WEBPACK_IMPORTED_MODULE_1__.qZA()),2&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_1__.xp6(2),_angular_core__WEBPACK_IMPORTED_MODULE_1__.Oqu(_angular_core__WEBPACK_IMPORTED_MODULE_1__.lcZ(3,1,"communityList.title")))},"CommunityListPageComponent_Template"),directives:[_community_list_themed_community_list_component__WEBPACK_IMPORTED_MODULE_0__.J],pipes:[_ngx_translate_core__WEBPACK_IMPORTED_MODULE_2__.X$],encapsulation:2})},24563:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{CommunityListPageModule:()=>CommunityListPageModule});var common=__webpack_require__(10210),shared_module=__webpack_require__(66004),community_list_page_component=__webpack_require__(9830),router=__webpack_require__(37895),tree=__webpack_require__(47722),community_list_service=__webpack_require__(42466),themed_component=__webpack_require__(46533),core=__webpack_require__(70074);function ThemedCommunityListPageComponent_ng_template_0_Template(rf,ctx){}__name(ThemedCommunityListPageComponent_ng_template_0_Template,"ThemedCommunityListPageComponent_ng_template_0_Template");class ThemedCommunityListPageComponent extends themed_component.F{getComponentName(){return"CommunityListPageComponent"}importThemedComponent(themeName){return __webpack_require__(94015)(`./${themeName}/app/community-list-page/community-list-page.component`)}importUnthemedComponent(){return Promise.resolve().then(__webpack_require__.bind(__webpack_require__,9830))}}__name(ThemedCommunityListPageComponent,"ThemedCommunityListPageComponent"),ThemedCommunityListPageComponent.\u0275fac=function(){let \u0275ThemedCommunityListPageComponent_BaseFactory;return __name(function(t){return(\u0275ThemedCommunityListPageComponent_BaseFactory||(\u0275ThemedCommunityListPageComponent_BaseFactory=core.n5z(ThemedCommunityListPageComponent)))(t||ThemedCommunityListPageComponent)},"ThemedCommunityListPageComponent_Factory")}(),ThemedCommunityListPageComponent.\u0275cmp=core.Xpm({type:ThemedCommunityListPageComponent,selectors:[["ds-themed-community-list-page"]],features:[core.qOj],decls:2,vars:0,consts:[["vcr",""]],template:__name(function(rf,ctx){1&rf&&core.YNc(0,ThemedCommunityListPageComponent_ng_template_0_Template,0,0,"ng-template",null,0,core.W1O)},"ThemedCommunityListPageComponent_Template"),encapsulation:2});var i18n_breadcrumb_resolver=__webpack_require__(64561);class CommunityListPageRoutingModule{}__name(CommunityListPageRoutingModule,"CommunityListPageRoutingModule"),CommunityListPageRoutingModule.\u0275fac=__name(function(t){return new(t||CommunityListPageRoutingModule)},"CommunityListPageRoutingModule_Factory"),CommunityListPageRoutingModule.\u0275mod=core.oAB({type:CommunityListPageRoutingModule}),CommunityListPageRoutingModule.\u0275inj=core.cJS({providers:[community_list_service.rv],imports:[[router.Bz.forChild([{path:"",component:ThemedCommunityListPageComponent,pathMatch:"full",resolve:{breadcrumb:i18n_breadcrumb_resolver.t},data:{title:"communityList.tabTitle",breadcrumbKey:"communityList"}}]),tree.nZ]]});var community_list_component=__webpack_require__(66143),themed_community_list_component=__webpack_require__(53508);community_list_page_component.CommunityListPageComponent,community_list_component.CommunityListComponent,themed_community_list_component.J;class CommunityListPageModule{}__name(CommunityListPageModule,"CommunityListPageModule"),CommunityListPageModule.\u0275fac=__name(function(t){return new(t||CommunityListPageModule)},"CommunityListPageModule_Factory"),CommunityListPageModule.\u0275mod=core.oAB({type:CommunityListPageModule}),CommunityListPageModule.\u0275inj=core.cJS({imports:[[common.ez,shared_module.m,CommunityListPageRoutingModule]]})},42466:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{rv:()=>CommunityListService});var ngrx_store=__webpack_require__(93179),cjs=__webpack_require__(39942),operators=__webpack_require__(5796),community_data_service=__webpack_require__(63749),community_model=__webpack_require__(70920),page_info_model=__webpack_require__(45419),empty_util=__webpack_require__(25839),paginated_list_model=__webpack_require__(73535),collection_data_service=__webpack_require__(64508),community_list_actions=__webpack_require__(25013),community_page_routing_paths=__webpack_require__(18595),collection_page_routing_paths=__webpack_require__(10954),shared_operators=__webpack_require__(63281),follow_link_config_model=__webpack_require__(8183);class ShowMoreFlatNode{}__name(ShowMoreFlatNode,"ShowMoreFlatNode");var find_list_options_model=__webpack_require__(30292),app_config_interface=__webpack_require__(19349),core=__webpack_require__(70074);const combineAndFlatten=__name(obsList=>(0,cjs.combineLatest)([...obsList]).pipe((0,operators.UI)(matrix=>[].concat(...matrix)),(0,operators.hX)(arr=>arr.every(e=>(0,empty_util.Uh)(e)))),"combineAndFlatten"),toFlatNode=__name((c,isExpandable,level,isExpanded,parent)=>({isExpandable$:isExpandable,name:c.name,id:c.id,level,isExpanded,parent,payload:c,isShowMoreNode:!1,route:c instanceof community_model.S?(0,community_page_routing_paths.Ke)(c.id):(0,collection_page_routing_paths.MI)(c.id)}),"toFlatNode"),showMoreFlatNode=__name((id,level,parent)=>({isExpandable$:(0,cjs.of)(!1),name:"Show More Flatnode",id,level,isExpanded:!1,parent,payload:new ShowMoreFlatNode,isShowMoreNode:!0}),"showMoreFlatNode"),communityListStateSelector=__name(state=>state.communityList,"communityListStateSelector"),expandedNodesSelector=(0,ngrx_store.P1)(communityListStateSelector,communityList=>communityList.expandedNodes),loadingNodeSelector=(0,ngrx_store.P1)(communityListStateSelector,communityList=>communityList.loadingNode);class CommunityListService{constructor(appConfig,communityDataService,collectionDataService,store){this.appConfig=appConfig,this.communityDataService=communityDataService,this.collectionDataService=collectionDataService,this.store=store,this.configOnePage=Object.assign(new find_list_options_model.R,{elementsPerPage:1}),this.pageSize=appConfig.communityList.pageSize}saveCommunityListStateToStore(expandedNodes,loadingNode){this.store.dispatch(new community_list_actions.Q(expandedNodes,loadingNode))}getExpandedNodesFromStore(){return this.store.select(expandedNodesSelector)}getLoadingNodeFromStore(){return this.store.select(loadingNodeSelector)}loadCommunities(findOptions,expandedNodes){const currentPage=findOptions.currentPage,topCommunities=[];for(let i=1;i<=currentPage;i++){const pagination=Object.assign({},findOptions,{currentPage:i});topCommunities.push(this.getTopCommunities(pagination))}return(0,cjs.combineLatest)([...topCommunities]).pipe((0,operators.UI)(coms=>{const newPages=coms.map(unit=>unit.page),newPage=[].concat(...newPages);let newPageInfo=new page_info_model.S;return coms&&coms.length>0&&(newPageInfo=Object.assign({},coms[0].pageInfo,{currentPage})),(0,paginated_list_model.b)(newPageInfo,newPage)})).pipe((0,operators.wt)(topComs=>this.transformListOfCommunities(topComs,0,null,expandedNodes)))}getTopCommunities(options){return this.communityDataService.findTop({currentPage:options.currentPage,elementsPerPage:this.pageSize,sort:{field:options.sort.field,direction:options.sort.direction}},(0,follow_link_config_model.l)("subcommunities",{findListOptions:this.configOnePage}),(0,follow_link_config_model.l)("collections",{findListOptions:this.configOnePage})).pipe((0,shared_operators.xw)(),(0,operators.UI)(results=>results.payload))}transformListOfCommunities(listOfPaginatedCommunities,level,parent,expandedNodes){if((0,empty_util.UE)(listOfPaginatedCommunities.page)){let currentPage=listOfPaginatedCommunities.currentPage;(0,empty_util.UE)(parent)&&(currentPage=expandedNodes.find(node=>node.id===parent.id).currentCommunityPage);let obsList=listOfPaginatedCommunities.page.map(community=>this.transformCommunity(community,level,parent,expandedNodes));return currentPage<listOfPaginatedCommunities.totalPages&&currentPage===listOfPaginatedCommunities.currentPage&&(obsList=[...obsList,(0,cjs.of)([showMoreFlatNode("community",level,parent)])]),combineAndFlatten(obsList)}return(0,cjs.of)([])}transformCommunity(community,level,parent,expandedNodes){let isExpanded=!1;(0,empty_util.UE)(expandedNodes)&&(isExpanded=(0,empty_util.Uh)(expandedNodes.find(node=>node.id===community.id)));const isExpandable$=this.getIsExpandable(community),communityFlatNode=toFlatNode(community,isExpandable$,level,isExpanded,parent);let obsList=[(0,cjs.of)([communityFlatNode])];if(isExpanded){const currentCommunityPage=expandedNodes.find(node=>node.id===community.id).currentCommunityPage;let subcoms=[];for(let i=1;i<=currentCommunityPage;i++){const nextSetOfSubcommunitiesPage=this.communityDataService.findByParent(community.uuid,{elementsPerPage:this.pageSize,currentPage:i},(0,follow_link_config_model.l)("subcommunities",{findListOptions:this.configOnePage}),(0,follow_link_config_model.l)("collections",{findListOptions:this.configOnePage})).pipe((0,shared_operators.hC)(),(0,operators.wt)(rd=>(0,empty_util.Uh)(rd)&&(0,empty_util.Uh)(rd.payload)?this.transformListOfCommunities(rd.payload,level+1,communityFlatNode,expandedNodes):(0,cjs.of)([])));subcoms=[...subcoms,nextSetOfSubcommunitiesPage]}obsList=[...obsList,combineAndFlatten(subcoms)];const currentCollectionPage=expandedNodes.find(node=>node.id===community.id).currentCollectionPage;let collections=[];for(let i=1;i<=currentCollectionPage;i++){const nextSetOfCollectionsPage=this.collectionDataService.findByParent(community.uuid,{elementsPerPage:this.pageSize,currentPage:i}).pipe((0,shared_operators.hC)(),(0,operators.UI)(rd=>{if((0,empty_util.Uh)(rd)&&(0,empty_util.Uh)(rd.payload)){let nodes=rd.payload.page.map(collection=>toFlatNode(collection,(0,cjs.of)(!1),level+1,!1,communityFlatNode));return currentCollectionPage<rd.payload.totalPages&&currentCollectionPage===rd.payload.currentPage&&(nodes=[...nodes,showMoreFlatNode("collection",level+1,communityFlatNode)]),nodes}return[]}));collections=[...collections,nextSetOfCollectionsPage]}obsList=[...obsList,combineAndFlatten(collections)]}return combineAndFlatten(obsList)}getIsExpandable(community){let hasSubcoms$,hasColls$,hasChildren$;return hasSubcoms$=this.communityDataService.findByParent(community.uuid,this.configOnePage).pipe((0,operators.UI)(rd=>!(!(0,empty_util.Uh)(rd)||!(0,empty_util.Uh)(rd.payload))&&rd.payload.totalElements>0)),hasColls$=this.collectionDataService.findByParent(community.uuid,this.configOnePage).pipe((0,operators.UI)(rd=>!(!(0,empty_util.Uh)(rd)||!(0,empty_util.Uh)(rd.payload))&&rd.payload.totalElements>0)),hasChildren$=(0,cjs.combineLatest)(hasSubcoms$,hasColls$).pipe((0,operators.UI)(([hasSubcoms,hasColls])=>hasSubcoms||hasColls)),hasChildren$}}__name(CommunityListService,"CommunityListService"),CommunityListService.\u0275fac=__name(function(t){return new(t||CommunityListService)(core.LFG(app_config_interface.q),core.LFG(community_data_service.w),core.LFG(collection_data_service.W),core.LFG(ngrx_store.yh))},"CommunityListService_Factory"),CommunityListService.\u0275prov=core.Yz7({token:CommunityListService,factory:CommunityListService.\u0275fac})},66143:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{CommunityListComponent:()=>CommunityListComponent});var operators=__webpack_require__(5796),sort_options_model=__webpack_require__(1367),community_list_service=__webpack_require__(42466),empty_util=__webpack_require__(25839),cjs=__webpack_require__(39942);class CommunityListDatasource{constructor(communityListService){this.communityListService=communityListService,this.communityList$=new cjs.BehaviorSubject([]),this.loading$=new cjs.BehaviorSubject(!1)}connect(collectionViewer){return this.communityList$.asObservable()}loadCommunities(findOptions,expandedNodes){this.loading$.next(!0),(0,empty_util.Uh)(this.subLoadCommunities)&&this.subLoadCommunities.unsubscribe(),this.subLoadCommunities=this.communityListService.loadCommunities(findOptions,expandedNodes).pipe((0,operators.xS)(()=>this.loading$.next(!1))).subscribe(flatNodes=>{this.communityList$.next(flatNodes)})}disconnect(collectionViewer){this.communityList$.complete(),this.loading$.complete()}}__name(CommunityListDatasource,"CommunityListDatasource");var tree=__webpack_require__(47722),find_list_options_model=__webpack_require__(30292),core=__webpack_require__(70074),common=__webpack_require__(10210),themed_loading_component=__webpack_require__(76924),router=__webpack_require__(37895),truncatable_component=__webpack_require__(14748),truncatable_part_component=__webpack_require__(71708),ngx_translate_core=__webpack_require__(47241);function CommunityListComponent_ds_themed_loading_0_Template(rf,ctx){1&rf&&core._UZ(0,"ds-themed-loading",5)}__name(CommunityListComponent_ds_themed_loading_0_Template,"CommunityListComponent_ds_themed_loading_0_Template");const _c0=__name(function(){return[]},"_c0");function CommunityListComponent_cdk_tree_node_3_a_5_Template(rf,ctx){if(1&rf){const _r9=core.EpF();core.TgZ(0,"a",14),core.NdJ("click",__name(function(){core.CHM(_r9);const node_r4=core.oxw().$implicit;return core.oxw().getNextPage(node_r4)},"CommunityListComponent_cdk_tree_node_3_a_5_Template_a_click_0_listener")),core._UZ(1,"i",15),core._uU(2),core.ALo(3,"translate"),core.qZA()}2&rf&&(core.Q6J("routerLink",core.DdM(4,_c0)),core.xp6(2),core.hij(" ",core.lcZ(3,2,"communityList.showMore")," "))}function CommunityListComponent_cdk_tree_node_3_ds_themed_loading_6_Template(rf,ctx){1&rf&&core._UZ(0,"ds-themed-loading",5)}function CommunityListComponent_cdk_tree_node_3_Template(rf,ctx){if(1&rf&&(core.TgZ(0,"cdk-tree-node",6)(1,"div",7)(2,"button",8),core._UZ(3,"span",9),core.qZA(),core.TgZ(4,"div",10),core.YNc(5,CommunityListComponent_cdk_tree_node_3_a_5_Template,4,5,"a",11),core.YNc(6,CommunityListComponent_cdk_tree_node_3_ds_themed_loading_6_Template,1,0,"ds-themed-loading",0),core.ALo(7,"async"),core.qZA()(),core.TgZ(8,"div",12),core._UZ(9,"div",13),core.qZA()()),2&rf){const node_r4=ctx.$implicit,ctx_r1=core.oxw();core.xp6(5),core.Q6J("ngIf",node_r4!==ctx_r1.loadingNode),core.xp6(1),core.Q6J("ngIf",core.lcZ(7,2,node_r4===ctx_r1.loadingNode&&ctx_r1.dataSource.loading$))}}function CommunityListComponent_cdk_tree_node_4_div_10_Template(rf,ctx){if(1&rf&&(core.TgZ(0,"div",13)(1,"button",23),core._UZ(2,"span",18),core.qZA(),core.TgZ(3,"ds-truncatable-part",24)(4,"span"),core._uU(5),core.qZA()()()),2&rf){const node_r10=core.oxw().$implicit;core.xp6(2),core.Tol(node_r10.isExpanded?"fa fa-chevron-down":"fa fa-chevron-right"),core.xp6(1),core.Q6J("id",node_r10.id)("minLines",3),core.xp6(2),core.Oqu(node_r10.payload.shortDescription)}}function CommunityListComponent_cdk_tree_node_4_div_11_Template(rf,ctx){if(1&rf&&(core.TgZ(0,"div",25)(1,"button",23),core._UZ(2,"span",18),core.qZA(),core._UZ(3,"ds-themed-loading",5),core.qZA()),2&rf){const node_r10=core.oxw().$implicit;core.xp6(2),core.Tol(node_r10.isExpanded?"fa fa-chevron-down":"fa fa-chevron-right")}}function CommunityListComponent_cdk_tree_node_4_Template(rf,ctx){if(1&rf){const _r16=core.EpF();core.TgZ(0,"cdk-tree-node",16)(1,"div",7)(2,"button",17),core.NdJ("click",__name(function(){const node_r10=core.CHM(_r16).$implicit;return core.oxw().toggleExpanded(node_r10)},"CommunityListComponent_cdk_tree_node_4_Template_button_click_2_listener")),core.ALo(3,"async"),core._UZ(4,"span",18),core.qZA(),core.TgZ(5,"h5",10)(6,"a",19),core._uU(7),core.qZA()()(),core.TgZ(8,"ds-truncatable",20)(9,"div",12),core.YNc(10,CommunityListComponent_cdk_tree_node_4_div_10_Template,6,6,"div",21),core.qZA()(),core.YNc(11,CommunityListComponent_cdk_tree_node_4_div_11_Template,4,3,"div",22),core.ALo(12,"async"),core.qZA()}if(2&rf){const node_r10=ctx.$implicit,ctx_r2=core.oxw();core.xp6(2),core.Q6J("title","toggle "+node_r10.name)("ngClass",core.lcZ(3,11,ctx_r2.hasChild(null,node_r10))?"visible":"invisible"),core.uIk("aria-label","toggle "+node_r10.name),core.xp6(2),core.Tol(node_r10.isExpanded?"fa fa-chevron-down":"fa fa-chevron-right"),core.xp6(2),core.Q6J("routerLink",node_r10.route),core.xp6(1),core.hij(" ",node_r10.name," "),core.xp6(1),core.Q6J("id",node_r10.id),core.xp6(2),core.Q6J("ngIf",node_r10.payload.shortDescription),core.xp6(1),core.Q6J("ngIf",core.lcZ(12,13,node_r10===ctx_r2.loadingNode&&ctx_r2.dataSource.loading$))}}function CommunityListComponent_cdk_tree_node_5_div_9_Template(rf,ctx){if(1&rf&&(core.TgZ(0,"div",13)(1,"button",23),core._UZ(2,"span",18),core.qZA(),core.TgZ(3,"ds-truncatable-part",24)(4,"span"),core._uU(5),core.qZA()()()),2&rf){const node_r17=core.oxw().$implicit;core.xp6(2),core.Tol(node_r17.isExpanded?"fa fa-chevron-down":"fa fa-chevron-right"),core.xp6(1),core.Q6J("id",node_r17.id)("minLines",3),core.xp6(2),core.Oqu(node_r17.payload.shortDescription)}}function CommunityListComponent_cdk_tree_node_5_Template(rf,ctx){if(1&rf&&(core.TgZ(0,"cdk-tree-node",26)(1,"div",7)(2,"button",8),core._UZ(3,"span",9),core.qZA(),core.TgZ(4,"h6",10)(5,"a",19),core._uU(6),core.qZA()()(),core.TgZ(7,"ds-truncatable",20)(8,"div",12),core.YNc(9,CommunityListComponent_cdk_tree_node_5_div_9_Template,6,6,"div",21),core.qZA()()()),2&rf){const node_r17=ctx.$implicit;core.xp6(5),core.Q6J("routerLink",node_r17.route),core.xp6(1),core.hij(" ",node_r17.name," "),core.xp6(1),core.Q6J("id",node_r17.id),core.xp6(2),core.Q6J("ngIf",node_r17.payload.shortDescription)}}__name(CommunityListComponent_cdk_tree_node_3_a_5_Template,"CommunityListComponent_cdk_tree_node_3_a_5_Template"),__name(CommunityListComponent_cdk_tree_node_3_ds_themed_loading_6_Template,"CommunityListComponent_cdk_tree_node_3_ds_themed_loading_6_Template"),__name(CommunityListComponent_cdk_tree_node_3_Template,"CommunityListComponent_cdk_tree_node_3_Template"),__name(CommunityListComponent_cdk_tree_node_4_div_10_Template,"CommunityListComponent_cdk_tree_node_4_div_10_Template"),__name(CommunityListComponent_cdk_tree_node_4_div_11_Template,"CommunityListComponent_cdk_tree_node_4_div_11_Template"),__name(CommunityListComponent_cdk_tree_node_4_Template,"CommunityListComponent_cdk_tree_node_4_Template"),__name(CommunityListComponent_cdk_tree_node_5_div_9_Template,"CommunityListComponent_cdk_tree_node_5_div_9_Template"),__name(CommunityListComponent_cdk_tree_node_5_Template,"CommunityListComponent_cdk_tree_node_5_Template");class CommunityListComponent{constructor(communityListService){this.communityListService=communityListService,this.expandedNodes=[],this.treeControl=new tree.C2(node=>node.level,node=>!0),this.paginationConfig=new find_list_options_model.R,this.paginationConfig.elementsPerPage=2,this.paginationConfig.currentPage=1,this.paginationConfig.sort=new sort_options_model.o("dc.title",sort_options_model.S.ASC)}ngOnInit(){this.dataSource=new CommunityListDatasource(this.communityListService),this.communityListService.getLoadingNodeFromStore().pipe((0,operators.qn)(1)).subscribe(result=>{this.loadingNode=result}),this.communityListService.getExpandedNodesFromStore().pipe((0,operators.qn)(1)).subscribe(result=>{this.expandedNodes=[...result],this.dataSource.loadCommunities(this.paginationConfig,this.expandedNodes)})}ngOnDestroy(){this.communityListService.saveCommunityListStateToStore(this.expandedNodes,this.loadingNode)}hasChild(_,node){return node.isExpandable$}isShowMore(_,node){return node.isShowMoreNode}toggleExpanded(node){this.loadingNode=node,node.isExpanded?(this.expandedNodes=this.expandedNodes.filter(node2=>node2.name!==node.name),node.isExpanded=!1):(this.expandedNodes.push(node),node.isExpanded=!0,(0,empty_util.xb)(node.currentCollectionPage)&&(node.currentCollectionPage=1),(0,empty_util.xb)(node.currentCommunityPage)&&(node.currentCommunityPage=1)),this.dataSource.loadCommunities(this.paginationConfig,this.expandedNodes)}getNextPage(node){if(this.loadingNode=node,null!=node.parent){if("collection"===node.id){this.expandedNodes.find(node2=>node.parent.id===node2.id).currentCollectionPage++}if("community"===node.id){this.expandedNodes.find(node2=>node.parent.id===node2.id).currentCommunityPage++}this.dataSource.loadCommunities(this.paginationConfig,this.expandedNodes)}else this.paginationConfig.currentPage++,this.dataSource.loadCommunities(this.paginationConfig,this.expandedNodes)}}__name(CommunityListComponent,"CommunityListComponent"),CommunityListComponent.\u0275fac=__name(function(t){return new(t||CommunityListComponent)(core.Y36(community_list_service.rv))},"CommunityListComponent_Factory"),CommunityListComponent.\u0275cmp=core.Xpm({type:CommunityListComponent,selectors:[["ds-community-list"]],decls:6,vars:8,consts:[["class","ds-themed-loading",4,"ngIf"],[3,"dataSource","treeControl"],["cdkTreeNodePadding","","class","example-tree-node show-more-node",4,"cdkTreeNodeDef","cdkTreeNodeDefWhen"],["cdkTreeNodePadding","","class","example-tree-node expandable-node",4,"cdkTreeNodeDef","cdkTreeNodeDefWhen"],["cdkTreeNodePadding","","class","example-tree-node childless-node",4,"cdkTreeNodeDef","cdkTreeNodeDefWhen"],[1,"ds-themed-loading"],["cdkTreeNodePadding","",1,"example-tree-node","show-more-node"],[1,"btn-group"],["type","button","cdkTreeNodeToggle","",1,"btn","btn-default"],["aria-hidden","true",1,"fa","fa-chevron-right","invisible"],[1,"align-middle","pt-2"],["class","btn btn-outline-primary btn-sm","role","button",3,"routerLink","click",4,"ngIf"],["cdkTreeNodePadding","",1,"text-muted"],[1,"d-flex"],["role","button",1,"btn","btn-outline-primary","btn-sm",3,"routerLink","click"],[1,"fas","fa-angle-down"],["cdkTreeNodePadding","",1,"example-tree-node","expandable-node"],["type","button","cdkTreeNodeToggle","",1,"btn","btn-default",3,"title","ngClass","click"],["aria-hidden","true"],[1,"lead",3,"routerLink"],[3,"id"],["class","d-flex",4,"ngIf"],["class","d-flex","cdkTreeNodePadding","",4,"ngIf"],["type","button",1,"btn","btn-default","invisible"],[3,"id","minLines"],["cdkTreeNodePadding","",1,"d-flex"],["cdkTreeNodePadding","",1,"example-tree-node","childless-node"]],template:__name(function(rf,ctx){1&rf&&(core.YNc(0,CommunityListComponent_ds_themed_loading_0_Template,1,0,"ds-themed-loading",0),core.ALo(1,"async"),core.TgZ(2,"cdk-tree",1),core.YNc(3,CommunityListComponent_cdk_tree_node_3_Template,10,4,"cdk-tree-node",2),core.YNc(4,CommunityListComponent_cdk_tree_node_4_Template,13,15,"cdk-tree-node",3),core.YNc(5,CommunityListComponent_cdk_tree_node_5_Template,10,4,"cdk-tree-node",4),core.qZA()),2&rf&&(core.Q6J("ngIf",core.lcZ(1,6,ctx.dataSource.loading$)&&!ctx.loadingNode),core.xp6(2),core.Q6J("dataSource",ctx.dataSource)("treeControl",ctx.treeControl),core.xp6(1),core.Q6J("cdkTreeNodeDefWhen",ctx.isShowMore),core.xp6(1),core.Q6J("cdkTreeNodeDefWhen",ctx.hasChild),core.xp6(1),core.Q6J("cdkTreeNodeDefWhen",!(ctx.hasChild&&ctx.isShowMore)))},"CommunityListComponent_Template"),directives:[common.O5,themed_loading_component.Z,tree._0,tree.rO,tree.Hs,tree.XJ,tree.Ud,router.yS,common.mk,truncatable_component.n,truncatable_part_component.L],pipes:[common.Ov,ngx_translate_core.X$],styles:["a[_ngcontent-%COMP%]{color:var(--cs-a-col)}a[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:focus   [_ngcontent-%COMP%]:hover{color:var(--cs-a-col-hover)}"]})},53508:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{J:()=>ThemedCommunityListComponent});var _shared_theme_support_themed_component__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(46533),_angular_core__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(70074);function ThemedCommunityListComponent_ng_template_0_Template(rf,ctx){}__name(ThemedCommunityListComponent_ng_template_0_Template,"ThemedCommunityListComponent_ng_template_0_Template");class ThemedCommunityListComponent extends _shared_theme_support_themed_component__WEBPACK_IMPORTED_MODULE_0__.F{getComponentName(){return"CommunityListComponent"}importThemedComponent(themeName){return __webpack_require__(65978)(`./${themeName}/app/community-list-page/community-list/community-list.component`)}importUnthemedComponent(){return Promise.resolve().then(__webpack_require__.bind(__webpack_require__,66143))}}__name(ThemedCommunityListComponent,"ThemedCommunityListComponent"),ThemedCommunityListComponent.\u0275fac=function(){let \u0275ThemedCommunityListComponent_BaseFactory;return __name(function(t){return(\u0275ThemedCommunityListComponent_BaseFactory||(\u0275ThemedCommunityListComponent_BaseFactory=_angular_core__WEBPACK_IMPORTED_MODULE_1__.n5z(ThemedCommunityListComponent)))(t||ThemedCommunityListComponent)},"ThemedCommunityListComponent_Factory")}(),ThemedCommunityListComponent.\u0275cmp=_angular_core__WEBPACK_IMPORTED_MODULE_1__.Xpm({type:ThemedCommunityListComponent,selectors:[["ds-themed-community-list"]],features:[_angular_core__WEBPACK_IMPORTED_MODULE_1__.qOj],decls:2,vars:0,consts:[["vcr",""]],template:__name(function(rf,ctx){1&rf&&_angular_core__WEBPACK_IMPORTED_MODULE_1__.YNc(0,ThemedCommunityListComponent_ng_template_0_Template,0,0,"ng-template",null,0,_angular_core__WEBPACK_IMPORTED_MODULE_1__.W1O)},"ThemedCommunityListComponent_Template"),encapsulation:2})},94015:(module,__unused_webpack_exports,__webpack_require__)=>{var map={"./custom/app/community-list-page/community-list-page.component":[40777,777],"./gusi/app/community-list-page/community-list-page.component":[28658,8658]};function webpackAsyncContext(req){if(!__webpack_require__.o(map,req))return Promise.resolve().then(()=>{var e=new Error("Cannot find module '"+req+"'");throw e.code="MODULE_NOT_FOUND",e});var ids=map[req],id=ids[0];return __webpack_require__.e(ids[1]).then(()=>__webpack_require__(id))}__name(webpackAsyncContext,"webpackAsyncContext"),webpackAsyncContext.keys=()=>Object.keys(map),webpackAsyncContext.id=94015,module.exports=webpackAsyncContext},65978:(module,__unused_webpack_exports,__webpack_require__)=>{var map={"./custom/app/community-list-page/community-list/community-list.component":[35776,5776],"./gusi/app/community-list-page/community-list/community-list.component":[86585,6585]};function webpackAsyncContext(req){if(!__webpack_require__.o(map,req))return Promise.resolve().then(()=>{var e=new Error("Cannot find module '"+req+"'");throw e.code="MODULE_NOT_FOUND",e});var ids=map[req],id=ids[0];return __webpack_require__.e(ids[1]).then(()=>__webpack_require__(id))}__name(webpackAsyncContext,"webpackAsyncContext"),webpackAsyncContext.keys=()=>Object.keys(map),webpackAsyncContext.id=65978,module.exports=webpackAsyncContext}};