"use strict";var __defProp=Object.defineProperty,__name=(target,value)=>__defProp(target,"name",{value,configurable:!0});exports.id=4196,exports.ids=[4196,8951],exports.modules={92414:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{CH:()=>GROUP_EDIT_PATH,EV:()=>getGroupEditRoute});var _core_url_combiner_url_combiner__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(23631),_app_routing_paths__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(50503);const GROUP_EDIT_PATH="groups";function getGroupEditRoute(id){return new _core_url_combiner_url_combiner__WEBPACK_IMPORTED_MODULE_1__.R((0,_app_routing_paths__WEBPACK_IMPORTED_MODULE_0__.sr)(),GROUP_EDIT_PATH,id).toString()}__name(function getGroupsRoute(){return new URLCombiner(getAccessControlModuleRoute(),GROUP_EDIT_PATH).toString()},"getGroupsRoute"),__name(getGroupEditRoute,"getGroupEditRoute")},98951:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{AccessControlModule:()=>AccessControlModule});var common=__webpack_require__(69808),router=__webpack_require__(74202),shared_module=__webpack_require__(57981),cjs=__webpack_require__(76477),operators=__webpack_require__(83292),paginated_list_model=__webpack_require__(24789),eperson_data_service=__webpack_require__(45061),empty_util=__webpack_require__(24702),notifications_service=__webpack_require__(82596),pagination_component_options_model=__webpack_require__(26638);class EpersonDtoModel{}__name(EpersonDtoModel,"EpersonDtoModel");var feature_id=__webpack_require__(47235),authorization_data_service=__webpack_require__(19937),shared_operators=__webpack_require__(13730),confirmation_modal_component=__webpack_require__(18916),request_service=__webpack_require__(31241),page_info_model=__webpack_require__(62713),pagination_service=__webpack_require__(77467),core=__webpack_require__(5e3),ngx_translate_core=__webpack_require__(42466),fesm2015_forms=__webpack_require__(93075),ng_bootstrap=__webpack_require__(13707),fesm2015_core=__webpack_require__(87098),group_data_service=__webpack_require__(43499),eperson_model=__webpack_require__(36146),form_builder_service=__webpack_require__(71022),auth_service=__webpack_require__(24755),follow_link_config_model=__webpack_require__(93369);class ValidateEmailNotTaken{static createValidator(ePersonDataService){return control=>ePersonDataService.getEPersonByEmail(control.value).pipe((0,shared_operators.xw)(),(0,operators.UI)(res=>res.payload?{emailTaken:!0}:null))}}__name(ValidateEmailNotTaken,"ValidateEmailNotTaken");var eperson_registration_service=__webpack_require__(93459),form_component=__webpack_require__(63311),themed_loading_component=__webpack_require__(48106),pagination_component=__webpack_require__(62697);function EPersonFormComponent_div_0_Template(rf,ctx){1&rf&&core._UZ(0,"div")}function EPersonFormComponent_ng_template_2_Template(rf,ctx){if(1&rf&&(core.TgZ(0,"h4"),core._uU(1),core.ALo(2,"translate"),core.qZA()),2&rf){const ctx_r2=core.oxw();core.xp6(1),core.Oqu(core.lcZ(2,1,ctx_r2.messagePrefix+".create"))}}function EPersonFormComponent_ng_template_4_Template(rf,ctx){if(1&rf&&(core.TgZ(0,"h4"),core._uU(1),core.ALo(2,"translate"),core.qZA()),2&rf){const ctx_r4=core.oxw();core.xp6(1),core.Oqu(core.lcZ(2,1,ctx_r4.messagePrefix+".edit"))}}__name(EPersonFormComponent_div_0_Template,"EPersonFormComponent_div_0_Template"),__name(EPersonFormComponent_ng_template_2_Template,"EPersonFormComponent_ng_template_2_Template"),__name(EPersonFormComponent_ng_template_4_Template,"EPersonFormComponent_ng_template_4_Template");const _c0=__name(function(a0){return{"d-none":a0}},"_c0");function EPersonFormComponent_button_19_Template(rf,ctx){if(1&rf){const _r10=core.EpF();core.TgZ(0,"button",17),core.NdJ("click",__name(function(){return core.CHM(_r10),core.oxw().impersonate()},"EPersonFormComponent_button_19_Template_button_click_0_listener")),core.ALo(1,"async"),core._UZ(2,"i",18),core._uU(3),core.ALo(4,"translate"),core.qZA()}if(2&rf){const ctx_r5=core.oxw();core.Q6J("ngClass",core.VKq(6,_c0,!core.lcZ(1,2,ctx_r5.canImpersonate$))),core.xp6(3),core.hij(" ",core.lcZ(4,4,"admin.access-control.epeople.actions.impersonate")," ")}}function EPersonFormComponent_button_20_Template(rf,ctx){if(1&rf){const _r12=core.EpF();core.TgZ(0,"button",19),core.NdJ("click",__name(function(){return core.CHM(_r12),core.oxw().stopImpersonating()},"EPersonFormComponent_button_20_Template_button_click_0_listener")),core._UZ(1,"i",18),core._uU(2),core.ALo(3,"translate"),core.qZA()}2&rf&&(core.xp6(2),core.hij(" ",core.lcZ(3,1,"admin.access-control.epeople.actions.stop-impersonating")," "))}function EPersonFormComponent_ds_themed_loading_26_Template(rf,ctx){1&rf&&core._UZ(0,"ds-themed-loading",20),2&rf&&core.Q6J("showMessage",!1)}function EPersonFormComponent_div_27_ds_themed_loading_4_Template(rf,ctx){1&rf&&core._UZ(0,"ds-themed-loading",20),2&rf&&core.Q6J("showMessage",!1)}__name(EPersonFormComponent_button_19_Template,"EPersonFormComponent_button_19_Template"),__name(EPersonFormComponent_button_20_Template,"EPersonFormComponent_button_20_Template"),__name(EPersonFormComponent_ds_themed_loading_26_Template,"EPersonFormComponent_ds_themed_loading_26_Template"),__name(EPersonFormComponent_div_27_ds_themed_loading_4_Template,"EPersonFormComponent_div_27_ds_themed_loading_4_Template");const _c1=__name(function(a0){return[a0]},"_c1");function EPersonFormComponent_div_27_ds_pagination_6_tr_17_Template(rf,ctx){if(1&rf){const _r19=core.EpF();core.TgZ(0,"tr")(1,"td",28),core._uU(2),core.qZA(),core.TgZ(3,"td",28)(4,"a",29),core.NdJ("click",__name(function(){const group_r17=core.CHM(_r19).$implicit;return core.oxw(3).groupsDataService.startEditingNewGroup(group_r17)},"EPersonFormComponent_div_27_ds_pagination_6_tr_17_Template_a_click_4_listener")),core._uU(5),core.qZA()(),core.TgZ(6,"td",28),core._uU(7),core.ALo(8,"async"),core.qZA()()}if(2&rf){const group_r17=ctx.$implicit,ctx_r16=core.oxw(3);let tmp_3_0;core.xp6(2),core.Oqu(group_r17.id),core.xp6(2),core.Q6J("routerLink",core.VKq(6,_c1,ctx_r16.groupsDataService.getGroupEditPageRouterLink(group_r17))),core.xp6(1),core.Oqu(group_r17.name),core.xp6(2),core.Oqu(null==(tmp_3_0=core.lcZ(8,4,group_r17.object))||null==tmp_3_0.payload?null:tmp_3_0.payload.name)}}function EPersonFormComponent_div_27_ds_pagination_6_Template(rf,ctx){if(1&rf){const _r21=core.EpF();core.TgZ(0,"ds-pagination",23),core.NdJ("pageChange",__name(function($event){return core.CHM(_r21),core.oxw(2).onPageChange($event)},"EPersonFormComponent_div_27_ds_pagination_6_Template_ds_pagination_pageChange_0_listener")),core.ALo(1,"async"),core.ALo(2,"async"),core.TgZ(3,"div",24)(4,"table",25)(5,"thead")(6,"tr")(7,"th",26),core._uU(8),core.ALo(9,"translate"),core.qZA(),core.TgZ(10,"th",26),core._uU(11),core.ALo(12,"translate"),core.qZA(),core.TgZ(13,"th",26),core._uU(14),core.ALo(15,"translate"),core.qZA()()(),core.TgZ(16,"tbody"),core.YNc(17,EPersonFormComponent_div_27_ds_pagination_6_tr_17_Template,9,8,"tr",27),core.ALo(18,"async"),core.qZA()()()()}if(2&rf){const ctx_r14=core.oxw(2);let tmp_1_0,tmp_2_0,tmp_8_0;core.Q6J("paginationOptions",ctx_r14.config)("pageInfoState",null==(tmp_1_0=core.lcZ(1,9,ctx_r14.groups))?null:tmp_1_0.payload)("collectionSize",null==(tmp_2_0=core.lcZ(2,11,ctx_r14.groups))||null==tmp_2_0.payload?null:tmp_2_0.payload.totalElements)("hideGear",!0)("hidePagerWhenSinglePage",!0),core.xp6(8),core.Oqu(core.lcZ(9,13,ctx_r14.messagePrefix+".table.id")),core.xp6(3),core.Oqu(core.lcZ(12,15,ctx_r14.messagePrefix+".table.name")),core.xp6(3),core.Oqu(core.lcZ(15,17,ctx_r14.messagePrefix+".table.collectionOrCommunity")),core.xp6(3),core.Q6J("ngForOf",null==(tmp_8_0=core.lcZ(18,19,ctx_r14.groups))||null==tmp_8_0.payload?null:tmp_8_0.payload.page)}}function EPersonFormComponent_div_27_div_8_Template(rf,ctx){if(1&rf&&(core.TgZ(0,"div",30)(1,"div"),core._uU(2),core.ALo(3,"translate"),core.qZA(),core.TgZ(4,"div")(5,"button",31),core._uU(6),core.ALo(7,"translate"),core.qZA()()()),2&rf){const ctx_r15=core.oxw(2);core.xp6(2),core.Oqu(core.lcZ(3,3,ctx_r15.messagePrefix+".memberOfNoGroups")),core.xp6(3),core.Q6J("routerLink",core.VKq(7,_c1,ctx_r15.groupsDataService.getGroupRegistryRouterLink())),core.xp6(1),core.Oqu(core.lcZ(7,5,ctx_r15.messagePrefix+".goToGroups"))}}function EPersonFormComponent_div_27_Template(rf,ctx){if(1&rf&&(core.TgZ(0,"div")(1,"h5"),core._uU(2),core.ALo(3,"translate"),core.qZA(),core.YNc(4,EPersonFormComponent_div_27_ds_themed_loading_4_Template,1,1,"ds-themed-loading",15),core.ALo(5,"async"),core.YNc(6,EPersonFormComponent_div_27_ds_pagination_6_Template,19,21,"ds-pagination",21),core.ALo(7,"async"),core.YNc(8,EPersonFormComponent_div_27_div_8_Template,8,9,"div",22),core.ALo(9,"async"),core.qZA()),2&rf){const ctx_r8=core.oxw();let tmp_2_0,tmp_3_0;core.xp6(2),core.Oqu(core.lcZ(3,4,ctx_r8.messagePrefix+".groupsEPersonIsMemberOf")),core.xp6(2),core.Q6J("ngIf",!core.lcZ(5,6,ctx_r8.groups)),core.xp6(2),core.Q6J("ngIf",(null==(tmp_2_0=core.lcZ(7,8,ctx_r8.groups))||null==tmp_2_0.payload?null:tmp_2_0.payload.totalElements)>0),core.xp6(2),core.Q6J("ngIf",0==(null==(tmp_3_0=core.lcZ(9,10,ctx_r8.groups))||null==tmp_3_0.payload?null:tmp_3_0.payload.totalElements))}}__name(EPersonFormComponent_div_27_ds_pagination_6_tr_17_Template,"EPersonFormComponent_div_27_ds_pagination_6_tr_17_Template"),__name(EPersonFormComponent_div_27_ds_pagination_6_Template,"EPersonFormComponent_div_27_ds_pagination_6_Template"),__name(EPersonFormComponent_div_27_div_8_Template,"EPersonFormComponent_div_27_div_8_Template"),__name(EPersonFormComponent_div_27_Template,"EPersonFormComponent_div_27_Template");class EPersonFormComponent{constructor(changeDetectorRef,epersonService,groupsDataService,formBuilderService,translateService,notificationsService,authService,authorizationService,modalService,paginationService,requestService,epersonRegistrationService){this.changeDetectorRef=changeDetectorRef,this.epersonService=epersonService,this.groupsDataService=groupsDataService,this.formBuilderService=formBuilderService,this.translateService=translateService,this.notificationsService=notificationsService,this.authService=authService,this.authorizationService=authorizationService,this.modalService=modalService,this.paginationService=paginationService,this.requestService=requestService,this.epersonRegistrationService=epersonRegistrationService,this.labelPrefix="admin.access-control.epeople.form.",this.formId="eperson-form",this.messagePrefix="admin.access-control.epeople.form",this.formLayout={firstName:{grid:{host:"row"}},lastName:{grid:{host:"row"}},email:{grid:{host:"row"}},canLogIn:{grid:{host:"col col-sm-6 d-inline-block"}},requireCertificate:{grid:{host:"col col-sm-6 d-inline-block"}}},this.submitForm=new core.vpe,this.cancelForm=new core.vpe,this.subs=[],this.config=Object.assign(new pagination_component_options_model.r,{id:"gem",pageSize:5,currentPage:1}),this.isImpersonated=!1,this.subs.push(this.epersonService.getActiveEPerson().subscribe(eperson=>{this.epersonInitial=eperson,(0,empty_util.Uh)(eperson)&&(this.isImpersonated=this.authService.isImpersonatingUser(eperson.id))}))}ngOnInit(){this.initialisePage()}initialisePage(){(0,cjs.combineLatest)(this.translateService.get(`${this.messagePrefix}.firstName`),this.translateService.get(`${this.messagePrefix}.lastName`),this.translateService.get(`${this.messagePrefix}.email`),this.translateService.get(`${this.messagePrefix}.canLogIn`),this.translateService.get(`${this.messagePrefix}.requireCertificate`),this.translateService.get(`${this.messagePrefix}.emailHint`)).subscribe(([firstName,lastName,email,canLogIn,requireCertificate,emailHint])=>{this.firstName=new fesm2015_core.b1u({id:"firstName",label:firstName,name:"firstName",validators:{required:null},required:!0}),this.lastName=new fesm2015_core.b1u({id:"lastName",label:lastName,name:"lastName",validators:{required:null},required:!0}),this.email=new fesm2015_core.b1u({id:"email",label:email,name:"email",validators:{required:null,pattern:"^[a-z0-9._%+-]+@[a-z0-9.-]+\\.[a-z]{2,4}$"},required:!0,errorMessages:{emailTaken:"error.validation.emailTaken",pattern:"error.validation.NotValidEmail"},hint:emailHint}),this.canLogIn=new fesm2015_core.dwp({id:"canLogIn",label:canLogIn,name:"canLogIn",value:null==this.epersonInitial||this.epersonInitial.canLogIn}),this.requireCertificate=new fesm2015_core.dwp({id:"requireCertificate",label:requireCertificate,name:"requireCertificate",value:null!=this.epersonInitial&&this.epersonInitial.requireCertificate}),this.formModel=[this.firstName,this.lastName,this.email,this.canLogIn,this.requireCertificate],this.formGroup=this.formBuilderService.createFormGroup(this.formModel),this.subs.push(this.epersonService.getActiveEPerson().subscribe(eperson=>{null!=eperson&&(this.groups=this.groupsDataService.findListByHref(eperson._links.groups.href,{currentPage:1,elementsPerPage:this.config.pageSize})),this.formGroup.patchValue({firstName:null!=eperson?eperson.firstMetadataValue("eperson.firstname"):"",lastName:null!=eperson?eperson.firstMetadataValue("eperson.lastname"):"",email:null!=eperson?eperson.email:"",canLogIn:null==eperson||eperson.canLogIn,requireCertificate:null!=eperson&&eperson.requireCertificate}),null===eperson&&this.formGroup.controls.email&&(this.formGroup.controls.email.setAsyncValidators(ValidateEmailNotTaken.createValidator(this.epersonService)),this.emailValueChangeSubscribe=this.email.valueChanges.pipe((0,operators.bh)(300)).subscribe(()=>{this.changeDetectorRef.detectChanges()}))}));const activeEPerson$=this.epersonService.getActiveEPerson();this.groups=activeEPerson$.pipe((0,operators.wt)(eperson=>(0,cjs.combineLatest)([(0,cjs.of)(eperson),this.paginationService.getFindListOptions(this.config.id,{currentPage:1,elementsPerPage:this.config.pageSize})])),(0,operators.wt)(([eperson,findListOptions])=>null!=eperson?this.groupsDataService.findListByHref(eperson._links.groups.href,findListOptions,!0,!0,(0,follow_link_config_model.l)("object")):(0,cjs.of)(void 0))),this.canImpersonate$=activeEPerson$.pipe((0,operators.wt)(eperson=>(0,empty_util.Uh)(eperson)?this.authorizationService.isAuthorized(feature_id.i.LoginOnBehalfOf,eperson.self):(0,cjs.of)(!1))),this.canDelete$=activeEPerson$.pipe((0,operators.wt)(eperson=>this.authorizationService.isAuthorized(feature_id.i.CanDelete,(0,empty_util.Uh)(eperson)?eperson.self:void 0))),this.canReset$=(0,cjs.of)(!0)})}onCancel(){this.epersonService.cancelEditEPerson(),this.cancelForm.emit()}onSubmit(){this.epersonService.getActiveEPerson().pipe((0,operators.qn)(1)).subscribe(ePerson=>{const values={metadata:{"eperson.firstname":[{value:this.firstName.value}],"eperson.lastname":[{value:this.lastName.value}]},email:this.email.value,canLogIn:this.canLogIn.value,requireCertificate:this.requireCertificate.value};null==ePerson?this.createNewEPerson(values):this.editEPerson(ePerson,values)})}createNewEPerson(values){const ePersonToCreate=Object.assign(new eperson_model.T,values);this.epersonService.create(ePersonToCreate).pipe((0,shared_operators.hC)()).subscribe(rd=>{rd.hasSucceeded?(this.notificationsService.success(this.translateService.get(this.labelPrefix+"notification.created.success",{name:ePersonToCreate.name})),this.submitForm.emit(ePersonToCreate)):(this.notificationsService.error(this.translateService.get(this.labelPrefix+"notification.created.failure",{name:ePersonToCreate.name})),this.cancelForm.emit())}),this.showNotificationIfEmailInUse(ePersonToCreate,"created")}editEPerson(ePerson,values){const editedEperson=Object.assign(new eperson_model.T,{id:ePerson.id,metadata:{"eperson.firstname":[{value:this.firstName.value?this.firstName.value:ePerson.firstMetadataValue("eperson.firstname")}],"eperson.lastname":[{value:this.lastName.value?this.lastName.value:ePerson.firstMetadataValue("eperson.lastname")}]},email:(0,empty_util.Uh)(values.email)?values.email:ePerson.email,canLogIn:(0,empty_util.Uh)(values.canLogIn)?values.canLogIn:ePerson.canLogIn,requireCertificate:(0,empty_util.Uh)(values.requireCertificate)?values.requireCertificate:ePerson.requireCertificate,_links:ePerson._links});this.epersonService.updateEPerson(editedEperson).pipe((0,shared_operators.hC)()).subscribe(rd=>{rd.hasSucceeded?(this.notificationsService.success(this.translateService.get(this.labelPrefix+"notification.edited.success",{name:editedEperson.name})),this.submitForm.emit(editedEperson)):(this.notificationsService.error(this.translateService.get(this.labelPrefix+"notification.edited.failure",{name:editedEperson.name})),this.cancelForm.emit())}),null!=values.email&&values.email!==ePerson.email&&this.showNotificationIfEmailInUse(editedEperson,"edited")}onPageChange(event2){this.updateGroups({currentPage:event2,elementsPerPage:this.config.pageSize})}impersonate(){this.authService.impersonate(this.epersonInitial.id),this.isImpersonated=!0}delete(){this.epersonService.getActiveEPerson().pipe((0,operators.qn)(1)).subscribe(eperson=>{const modalRef=this.modalService.open(confirmation_modal_component.Y);modalRef.componentInstance.dso=eperson,modalRef.componentInstance.headerLabel="confirmation-modal.delete-eperson.header",modalRef.componentInstance.infoLabel="confirmation-modal.delete-eperson.info",modalRef.componentInstance.cancelLabel="confirmation-modal.delete-eperson.cancel",modalRef.componentInstance.confirmLabel="confirmation-modal.delete-eperson.confirm",modalRef.componentInstance.brandColor="danger",modalRef.componentInstance.confirmIcon="fas fa-trash",modalRef.componentInstance.response.pipe((0,operators.qn)(1)).subscribe(confirm=>{confirm&&(0,empty_util.Uh)(eperson.id)&&this.epersonService.deleteEPerson(eperson).pipe((0,shared_operators.hC)()).subscribe(restResponse=>{restResponse.hasSucceeded?(this.notificationsService.success(this.translateService.get(this.labelPrefix+"notification.deleted.success",{name:eperson.name})),this.submitForm.emit()):this.notificationsService.error("Error occured when trying to delete EPerson with id: "+eperson.id+" with code: "+restResponse.statusCode+" and message: "+restResponse.errorMessage),this.cancelForm.emit()})})})}stopImpersonating(){this.authService.stopImpersonatingAndRefresh(),this.isImpersonated=!1}resetPassword(){(0,empty_util.Uh)(this.epersonInitial.email)&&this.epersonRegistrationService.registerEmail(this.epersonInitial.email).pipe((0,shared_operators.hC)()).subscribe(response=>{response.hasSucceeded?this.notificationsService.success(this.translateService.get("admin.access-control.epeople.actions.reset"),this.translateService.get("forgot-email.form.success.content",{email:this.epersonInitial.email})):this.notificationsService.error(this.translateService.get("forgot-email.form.error.head"),this.translateService.get("forgot-email.form.error.content",{email:this.epersonInitial.email}))})}ngOnDestroy(){this.onCancel(),this.subs.filter(sub=>(0,empty_util.Uh)(sub)).forEach(sub=>sub.unsubscribe()),this.paginationService.clearPagination(this.config.id),(0,empty_util.Uh)(this.emailValueChangeSubscribe)&&this.emailValueChangeSubscribe.unsubscribe()}reset(){this.epersonService.getActiveEPerson().pipe((0,operators.qn)(1)).subscribe(eperson=>{this.requestService.removeByHrefSubstring(eperson.self)}),this.initialisePage()}showNotificationIfEmailInUse(ePerson,notificationSection){this.subs.push(this.epersonService.searchByScope("email",ePerson.email,{currentPage:1,elementsPerPage:0}).pipe((0,shared_operators.xw)(),(0,shared_operators.xe)()).subscribe(list=>{list.totalElements>0&&this.notificationsService.error(this.translateService.get(this.labelPrefix+"notification."+notificationSection+".failure.emailInUse",{name:ePerson.name,email:ePerson.email}))}))}updateGroups(options){this.subs.push(this.epersonService.getActiveEPerson().subscribe(eperson=>{this.groups=this.groupsDataService.findListByHref(eperson._links.groups.href,options)}))}}function EPeopleRegistryComponent_div_7_Template(rf,ctx){if(1&rf){const _r4=core.EpF();core.TgZ(0,"div")(1,"button",7),core.NdJ("click",__name(function(){core.CHM(_r4);return core.oxw().isEPersonFormShown=!0},"EPeopleRegistryComponent_div_7_Template_button_click_1_listener")),core._UZ(2,"i",8),core.TgZ(3,"span",9),core._uU(4),core.ALo(5,"translate"),core.qZA()()()}if(2&rf){const ctx_r0=core.oxw();core.xp6(4),core.Oqu(core.lcZ(5,1,ctx_r0.labelPrefix+"button.add"))}}function EPeopleRegistryComponent_ds_eperson_form_8_Template(rf,ctx){if(1&rf){const _r6=core.EpF();core.TgZ(0,"ds-eperson-form",10),core.NdJ("submitForm",__name(function(){return core.CHM(_r6),core.oxw().reset()},"EPeopleRegistryComponent_ds_eperson_form_8_Template_ds_eperson_form_submitForm_0_listener"))("cancelForm",__name(function(){core.CHM(_r6);return core.oxw().isEPersonFormShown=!1},"EPeopleRegistryComponent_ds_eperson_form_8_Template_ds_eperson_form_cancelForm_0_listener")),core.qZA()}}function EPeopleRegistryComponent_div_9_ds_themed_loading_27_Template(rf,ctx){1&rf&&core._UZ(0,"ds-themed-loading")}__name(EPersonFormComponent,"EPersonFormComponent"),EPersonFormComponent.\u0275fac=__name(function(t){return new(t||EPersonFormComponent)(core.Y36(core.sBO),core.Y36(eperson_data_service.k),core.Y36(group_data_service.O),core.Y36(form_builder_service.c),core.Y36(ngx_translate_core.sK),core.Y36(notifications_service.T),core.Y36(auth_service.e8),core.Y36(authorization_data_service._),core.Y36(ng_bootstrap.FF),core.Y36(pagination_service.N),core.Y36(request_service.s),core.Y36(eperson_registration_service.m))},"EPersonFormComponent_Factory"),EPersonFormComponent.\u0275cmp=core.Xpm({type:EPersonFormComponent,selectors:[["ds-eperson-form"]],outputs:{submitForm:"submitForm",cancelForm:"cancelForm"},decls:29,vars:31,consts:[[4,"ngIf","ngIfThen","ngIfElse"],["createHeader",""],["editheader",""],[3,"formId","formModel","formGroup","formLayout","displayCancel","submitForm"],["before","",1,"btn-group"],[1,"btn","btn-outline-secondary",3,"click"],[1,"fas","fa-arrow-left"],["between","",1,"btn-group"],[1,"btn","btn-primary",3,"disabled","click"],[1,"fa","fa-key"],["between","",1,"btn-group","ml-1"],["class","btn btn-primary",3,"ngClass","click",4,"ngIf"],["class","btn btn-primary",3,"click",4,"ngIf"],["after","",1,"btn","btn-danger","delete-button",3,"disabled","click"],[1,"fas","fa-trash"],[3,"showMessage",4,"ngIf"],[4,"ngIf"],[1,"btn","btn-primary",3,"ngClass","click"],[1,"fa","fa-user-secret"],[1,"btn","btn-primary",3,"click"],[3,"showMessage"],[3,"paginationOptions","pageInfoState","collectionSize","hideGear","hidePagerWhenSinglePage","pageChange",4,"ngIf"],["class","alert alert-info w-100 mb-2","role","alert",4,"ngIf"],[3,"paginationOptions","pageInfoState","collectionSize","hideGear","hidePagerWhenSinglePage","pageChange"],[1,"table-responsive"],["id","groups",1,"table","table-striped","table-hover","table-bordered"],["scope","col",1,"align-middle"],[4,"ngFor","ngForOf"],[1,"align-middle"],[3,"routerLink","click"],["role","alert",1,"alert","alert-info","w-100","mb-2"],[1,"btn","btn-primary",3,"routerLink"]],template:__name(function(rf,ctx){if(1&rf&&(core.YNc(0,EPersonFormComponent_div_0_Template,1,0,"div",0),core.ALo(1,"async"),core.YNc(2,EPersonFormComponent_ng_template_2_Template,3,3,"ng-template",null,1,core.W1O),core.YNc(4,EPersonFormComponent_ng_template_4_Template,3,3,"ng-template",null,2,core.W1O),core.TgZ(6,"ds-form",3),core.NdJ("submitForm",__name(function(){return ctx.onSubmit()},"EPersonFormComponent_Template_ds_form_submitForm_6_listener")),core.TgZ(7,"div",4)(8,"button",5),core.NdJ("click",__name(function(){return ctx.onCancel()},"EPersonFormComponent_Template_button_click_8_listener")),core._UZ(9,"i",6),core._uU(10),core.ALo(11,"translate"),core.qZA()(),core.TgZ(12,"div",7)(13,"button",8),core.NdJ("click",__name(function(){return ctx.resetPassword()},"EPersonFormComponent_Template_button_click_13_listener")),core.ALo(14,"async"),core._UZ(15,"i",9),core._uU(16),core.ALo(17,"translate"),core.qZA()(),core.TgZ(18,"div",10),core.YNc(19,EPersonFormComponent_button_19_Template,5,8,"button",11),core.YNc(20,EPersonFormComponent_button_20_Template,4,3,"button",12),core.qZA(),core.TgZ(21,"button",13),core.NdJ("click",__name(function(){return ctx.delete()},"EPersonFormComponent_Template_button_click_21_listener")),core.ALo(22,"async"),core._UZ(23,"i",14),core._uU(24),core.ALo(25,"translate"),core.qZA()(),core.YNc(26,EPersonFormComponent_ds_themed_loading_26_Template,1,1,"ds-themed-loading",15),core.YNc(27,EPersonFormComponent_div_27_Template,10,12,"div",16),core.ALo(28,"async")),2&rf){const _r1=core.MAs(3),_r3=core.MAs(5);core.Q6J("ngIf",core.lcZ(1,17,ctx.epersonService.getActiveEPerson()))("ngIfThen",_r3)("ngIfElse",_r1),core.xp6(6),core.Q6J("formId",ctx.formId)("formModel",ctx.formModel)("formGroup",ctx.formGroup)("formLayout",ctx.formLayout)("displayCancel",!1),core.xp6(4),core.hij(" ",core.lcZ(11,19,ctx.messagePrefix+".return"),""),core.xp6(3),core.Q6J("disabled",!core.lcZ(14,21,ctx.canReset$)),core.xp6(3),core.hij(" ",core.lcZ(17,23,"admin.access-control.epeople.actions.reset")," "),core.xp6(3),core.Q6J("ngIf",!ctx.isImpersonated),core.xp6(1),core.Q6J("ngIf",ctx.isImpersonated),core.xp6(1),core.Q6J("disabled",!core.lcZ(22,25,ctx.canDelete$)),core.xp6(3),core.hij(" ",core.lcZ(25,27,"admin.access-control.epeople.actions.delete")," "),core.xp6(2),core.Q6J("ngIf",!ctx.formGroup),core.xp6(1),core.Q6J("ngIf",core.lcZ(28,29,ctx.epersonService.getActiveEPerson()))}},"EPersonFormComponent_Template"),directives:[common.O5,form_component.U,fesm2015_forms.JL,fesm2015_forms.sg,common.mk,themed_loading_component.Z,pagination_component.Q,common.sg,router.yS,router.rH],pipes:[common.Ov,ngx_translate_core.X$],encapsulation:2}),__name(EPeopleRegistryComponent_div_7_Template,"EPeopleRegistryComponent_div_7_Template"),__name(EPeopleRegistryComponent_ds_eperson_form_8_Template,"EPeopleRegistryComponent_ds_eperson_form_8_Template"),__name(EPeopleRegistryComponent_div_9_ds_themed_loading_27_Template,"EPeopleRegistryComponent_div_9_ds_themed_loading_27_Template");const epeople_registry_component_c0=__name(function(a0){return{"table-primary":a0}},"epeople_registry_component_c0"),epeople_registry_component_c1=__name(function(a0){return{name:a0}},"epeople_registry_component_c1");function EPeopleRegistryComponent_div_9_ds_pagination_29_tr_19_Template(rf,ctx){if(1&rf){const _r14=core.EpF();core.TgZ(0,"tr",30),core.ALo(1,"async"),core.TgZ(2,"td"),core._uU(3),core.qZA(),core.TgZ(4,"td"),core._uU(5),core.qZA(),core.TgZ(6,"td"),core._uU(7),core.qZA(),core.TgZ(8,"td")(9,"div",31)(10,"button",32),core.NdJ("click",__name(function(){const epersonDto_r12=core.CHM(_r14).$implicit;return core.oxw(3).toggleEditEPerson(epersonDto_r12.eperson)},"EPeopleRegistryComponent_div_9_ds_pagination_29_tr_19_Template_button_click_10_listener")),core.ALo(11,"translate"),core._UZ(12,"i",33),core.qZA(),core.TgZ(13,"button",34),core.NdJ("click",__name(function(){const epersonDto_r12=core.CHM(_r14).$implicit;return core.oxw(3).deleteEPerson(epersonDto_r12.eperson)},"EPeopleRegistryComponent_div_9_ds_pagination_29_tr_19_Template_button_click_13_listener")),core.ALo(14,"translate"),core._UZ(15,"i",35),core.qZA()()()()}if(2&rf){const epersonDto_r12=ctx.$implicit,ctx_r11=core.oxw(3);core.Q6J("ngClass",core.VKq(15,epeople_registry_component_c0,core.lcZ(1,7,ctx_r11.isActive(epersonDto_r12.eperson)))),core.xp6(3),core.Oqu(epersonDto_r12.eperson.id),core.xp6(2),core.Oqu(epersonDto_r12.eperson.name),core.xp6(2),core.Oqu(epersonDto_r12.eperson.email),core.xp6(3),core.s9C("title",core.xi3(11,9,ctx_r11.labelPrefix+"table.edit.buttons.edit",core.VKq(17,epeople_registry_component_c1,epersonDto_r12.eperson.name))),core.xp6(3),core.s9C("title",core.xi3(14,12,ctx_r11.labelPrefix+"table.edit.buttons.remove",core.VKq(19,epeople_registry_component_c1,epersonDto_r12.eperson.name))),core.Q6J("disabled",!epersonDto_r12.ableToDelete)}}function EPeopleRegistryComponent_div_9_ds_pagination_29_Template(rf,ctx){if(1&rf&&(core.TgZ(0,"ds-pagination",25),core.ALo(1,"async"),core.TgZ(2,"div",26)(3,"table",27)(4,"thead")(5,"tr")(6,"th",28),core._uU(7),core.ALo(8,"translate"),core.qZA(),core.TgZ(9,"th",28),core._uU(10),core.ALo(11,"translate"),core.qZA(),core.TgZ(12,"th",28),core._uU(13),core.ALo(14,"translate"),core.qZA(),core.TgZ(15,"th"),core._uU(16),core.ALo(17,"translate"),core.qZA()()(),core.TgZ(18,"tbody"),core.YNc(19,EPeopleRegistryComponent_div_9_ds_pagination_29_tr_19_Template,16,21,"tr",29),core.ALo(20,"async"),core.qZA()()()()),2&rf){const ctx_r9=core.oxw(2);let tmp_2_0,tmp_9_0;core.Q6J("paginationOptions",ctx_r9.config)("pageInfoState",ctx_r9.pageInfoState$)("collectionSize",null==(tmp_2_0=core.lcZ(1,10,ctx_r9.pageInfoState$))?null:tmp_2_0.totalElements)("hideGear",!0)("hidePagerWhenSinglePage",!0),core.xp6(7),core.Oqu(core.lcZ(8,12,ctx_r9.labelPrefix+"table.id")),core.xp6(3),core.Oqu(core.lcZ(11,14,ctx_r9.labelPrefix+"table.name")),core.xp6(3),core.Oqu(core.lcZ(14,16,ctx_r9.labelPrefix+"table.email")),core.xp6(3),core.Oqu(core.lcZ(17,18,ctx_r9.labelPrefix+"table.edit")),core.xp6(3),core.Q6J("ngForOf",null==(tmp_9_0=core.lcZ(20,20,ctx_r9.ePeopleDto$))?null:tmp_9_0.page)}}function EPeopleRegistryComponent_div_9_div_32_Template(rf,ctx){if(1&rf&&(core.TgZ(0,"div",36),core._uU(1),core.ALo(2,"translate"),core.qZA()),2&rf){const ctx_r10=core.oxw(2);core.xp6(1),core.hij(" ",core.lcZ(2,1,ctx_r10.labelPrefix+"no-items")," ")}}function EPeopleRegistryComponent_div_9_Template(rf,ctx){if(1&rf){const _r17=core.EpF();core.TgZ(0,"div")(1,"h3",11),core._uU(2),core.ALo(3,"translate"),core.qZA(),core.TgZ(4,"form",12),core.NdJ("ngSubmit",__name(function(){core.CHM(_r17);const ctx_r16=core.oxw();return ctx_r16.search(ctx_r16.searchForm.value)},"EPeopleRegistryComponent_div_9_Template_form_ngSubmit_4_listener")),core.TgZ(5,"div")(6,"select",13)(7,"option",14),core._uU(8),core.ALo(9,"translate"),core.qZA(),core.TgZ(10,"option",15),core._uU(11),core.ALo(12,"translate"),core.qZA()()(),core.TgZ(13,"div",16)(14,"div",17),core._UZ(15,"input",18),core.ALo(16,"translate"),core.ALo(17,"translate"),core.TgZ(18,"span",19)(19,"button",20),core._UZ(20,"i",21),core._uU(21),core.ALo(22,"translate"),core.qZA()()()(),core.TgZ(23,"div")(24,"button",22),core.NdJ("click",__name(function(){return core.CHM(_r17),core.oxw().clearFormAndResetResult()},"EPeopleRegistryComponent_div_9_Template_button_click_24_listener")),core._uU(25),core.ALo(26,"translate"),core.qZA()()(),core.YNc(27,EPeopleRegistryComponent_div_9_ds_themed_loading_27_Template,1,0,"ds-themed-loading",5),core.ALo(28,"async"),core.YNc(29,EPeopleRegistryComponent_div_9_ds_pagination_29_Template,21,22,"ds-pagination",23),core.ALo(30,"async"),core.ALo(31,"async"),core.YNc(32,EPeopleRegistryComponent_div_9_div_32_Template,3,3,"div",24),core.ALo(33,"async"),core.qZA()}if(2&rf){const ctx_r2=core.oxw();let tmp_9_0,tmp_10_0;core.xp6(2),core.hij("",core.lcZ(3,11,ctx_r2.labelPrefix+"search.head")," "),core.xp6(2),core.Q6J("formGroup",ctx_r2.searchForm),core.xp6(4),core.Oqu(core.lcZ(9,13,ctx_r2.labelPrefix+"search.scope.metadata")),core.xp6(3),core.Oqu(core.lcZ(12,15,ctx_r2.labelPrefix+"search.scope.email")),core.xp6(4),core.Q6J("placeholder",core.lcZ(17,19,ctx_r2.labelPrefix+"search.placeholder")),core.uIk("aria-label",core.lcZ(16,17,ctx_r2.labelPrefix+"search.placeholder")),core.xp6(6),core.hij(" ",core.lcZ(22,21,ctx_r2.labelPrefix+"search.button")," "),core.xp6(4),core.Oqu(core.lcZ(26,23,ctx_r2.labelPrefix+"button.see-all")),core.xp6(2),core.Q6J("ngIf",core.lcZ(28,25,ctx_r2.searching$)),core.xp6(2),core.Q6J("ngIf",(null==(tmp_9_0=core.lcZ(30,27,ctx_r2.pageInfoState$))?null:tmp_9_0.totalElements)>0&&!core.lcZ(31,29,ctx_r2.searching$)),core.xp6(3),core.Q6J("ngIf",0==(null==(tmp_10_0=core.lcZ(33,31,ctx_r2.pageInfoState$))?null:tmp_10_0.totalElements))}}__name(EPeopleRegistryComponent_div_9_ds_pagination_29_tr_19_Template,"EPeopleRegistryComponent_div_9_ds_pagination_29_tr_19_Template"),__name(EPeopleRegistryComponent_div_9_ds_pagination_29_Template,"EPeopleRegistryComponent_div_9_ds_pagination_29_Template"),__name(EPeopleRegistryComponent_div_9_div_32_Template,"EPeopleRegistryComponent_div_9_div_32_Template"),__name(EPeopleRegistryComponent_div_9_Template,"EPeopleRegistryComponent_div_9_Template");class EPeopleRegistryComponent{constructor(epersonService,translateService,notificationsService,authorizationService,formBuilder,router2,modalService,paginationService,requestService){this.epersonService=epersonService,this.translateService=translateService,this.notificationsService=notificationsService,this.authorizationService=authorizationService,this.formBuilder=formBuilder,this.router=router2,this.modalService=modalService,this.paginationService=paginationService,this.requestService=requestService,this.labelPrefix="admin.access-control.epeople.",this.ePeople$=new cjs.BehaviorSubject((0,paginated_list_model.b)(new page_info_model.S,[])),this.ePeopleDto$=new cjs.BehaviorSubject({}),this.pageInfoState$=new cjs.BehaviorSubject(void 0),this.searching$=new cjs.BehaviorSubject(!1),this.config=Object.assign(new pagination_component_options_model.r,{id:"elp",pageSize:5,currentPage:1}),this.subs=[],this.currentSearchQuery="",this.currentSearchScope="metadata",this.searchForm=this.formBuilder.group({scope:"metadata",query:""})}ngOnInit(){this.initialisePage()}initialisePage(){this.searching$.next(!0),this.isEPersonFormShown=!1,this.search({scope:this.currentSearchScope,query:this.currentSearchQuery}),this.subs.push(this.epersonService.getActiveEPerson().subscribe(eperson=>{null!=eperson&&eperson.id&&(this.isEPersonFormShown=!0)})),this.subs.push(this.ePeople$.pipe((0,operators.wt)(epeople=>epeople.pageInfo.totalElements>0?(0,cjs.combineLatest)(...epeople.page.map(eperson=>this.authorizationService.isAuthorized(feature_id.i.CanDelete,(0,empty_util.Uh)(eperson)?eperson.self:void 0).pipe((0,operators.UI)(authorized=>{const epersonDtoModel=new EpersonDtoModel;return epersonDtoModel.ableToDelete=authorized,epersonDtoModel.eperson=eperson,epersonDtoModel})))).pipe((0,operators.UI)(dtos=>(0,paginated_list_model.b)(epeople.pageInfo,dtos))):[epeople])).subscribe(value=>{this.searching$.next(!1),this.ePeopleDto$.next(value),this.pageInfoState$.next(value.pageInfo)}))}search(data){this.searching$.next(!0),(0,empty_util.Uh)(this.findListOptionsSub)&&this.findListOptionsSub.unsubscribe(),this.findListOptionsSub=this.paginationService.getCurrentPagination(this.config.id,this.config).pipe((0,operators.wt)(findListOptions=>{const query=data.query,scope=data.scope;return null!=query&&this.currentSearchQuery!==query&&(this.router.navigate([this.epersonService.getEPeoplePageRouterLink()],{queryParamsHandling:"merge"}),this.currentSearchQuery=query,this.paginationService.resetPage(this.config.id)),null!=scope&&this.currentSearchScope!==scope&&(this.router.navigate([this.epersonService.getEPeoplePageRouterLink()],{queryParamsHandling:"merge"}),this.currentSearchScope=scope,this.paginationService.resetPage(this.config.id)),this.epersonService.searchByScope(this.currentSearchScope,this.currentSearchQuery,{currentPage:findListOptions.currentPage,elementsPerPage:findListOptions.pageSize})}),(0,shared_operators.g1)()).subscribe(peopleRD=>{this.ePeople$.next(peopleRD.payload),this.pageInfoState$.next(peopleRD.payload.pageInfo)})}isActive(eperson){return this.getActiveEPerson().pipe((0,operators.UI)(activeEPerson=>eperson===activeEPerson))}getActiveEPerson(){return this.epersonService.getActiveEPerson()}toggleEditEPerson(ePerson){this.getActiveEPerson().pipe((0,operators.qn)(1)).subscribe(activeEPerson=>{ePerson===activeEPerson?(this.epersonService.cancelEditEPerson(),this.isEPersonFormShown=!1):(this.epersonService.editEPerson(ePerson),this.isEPersonFormShown=!0)}),this.scrollToTop()}deleteEPerson(ePerson){if((0,empty_util.Uh)(ePerson.id)){const modalRef=this.modalService.open(confirmation_modal_component.Y);modalRef.componentInstance.dso=ePerson,modalRef.componentInstance.headerLabel="confirmation-modal.delete-eperson.header",modalRef.componentInstance.infoLabel="confirmation-modal.delete-eperson.info",modalRef.componentInstance.cancelLabel="confirmation-modal.delete-eperson.cancel",modalRef.componentInstance.confirmLabel="confirmation-modal.delete-eperson.confirm",modalRef.componentInstance.brandColor="danger",modalRef.componentInstance.confirmIcon="fas fa-trash",modalRef.componentInstance.response.pipe((0,operators.qn)(1)).subscribe(confirm=>{confirm&&(0,empty_util.Uh)(ePerson.id)&&this.epersonService.deleteEPerson(ePerson).pipe((0,shared_operators.hC)()).subscribe(restResponse=>{restResponse.hasSucceeded?this.notificationsService.success(this.translateService.get(this.labelPrefix+"notification.deleted.success",{name:ePerson.name})):this.notificationsService.error("Error occured when trying to delete EPerson with id: "+ePerson.id+" with code: "+restResponse.statusCode+" and message: "+restResponse.errorMessage)})})}}ngOnDestroy(){this.cleanupSubscribes(),this.paginationService.clearPagination(this.config.id)}cleanupSubscribes(){this.subs.filter(sub=>(0,empty_util.Uh)(sub)).forEach(sub=>sub.unsubscribe())}scrollToTop(){__name(function smoothscroll(){const currentScroll=document.documentElement.scrollTop||document.body.scrollTop;currentScroll>0&&(window.requestAnimationFrame(smoothscroll),window.scrollTo(0,currentScroll-currentScroll/8))},"smoothscroll")()}clearFormAndResetResult(){this.searchForm.patchValue({query:""}),this.search({query:""})}reset(){this.epersonService.getBrowseEndpoint().pipe((0,operators.qn)(1)).subscribe(href=>{this.requestService.setStaleByHrefSubstring(href).pipe((0,operators.qn)(1)).subscribe(()=>{this.epersonService.cancelEditEPerson(),this.isEPersonFormShown=!1})})}}__name(EPeopleRegistryComponent,"EPeopleRegistryComponent"),EPeopleRegistryComponent.\u0275fac=__name(function(t){return new(t||EPeopleRegistryComponent)(core.Y36(eperson_data_service.k),core.Y36(ngx_translate_core.sK),core.Y36(notifications_service.T),core.Y36(authorization_data_service._),core.Y36(fesm2015_forms.qu),core.Y36(router.F0),core.Y36(ng_bootstrap.FF),core.Y36(pagination_service.N),core.Y36(request_service.s))},"EPeopleRegistryComponent_Factory"),EPeopleRegistryComponent.\u0275cmp=core.Xpm({type:EPeopleRegistryComponent,selectors:[["ds-epeople-registry"]],decls:10,vars:6,consts:[[1,"container"],[1,"epeople-registry","row"],[1,"col-12"],[1,"d-flex","justify-content-between","border-bottom","mb-3"],["id","header",1,"pb-2"],[4,"ngIf"],[3,"submitForm","cancelForm",4,"ngIf"],[1,"mr-auto","btn","btn-success","addEPerson-button",3,"click"],[1,"fas","fa-plus"],[1,"d-none","d-sm-inline"],[3,"submitForm","cancelForm"],["id","search",1,"border-bottom","pb-2"],[1,"d-flex","justify-content-between",3,"formGroup","ngSubmit"],["name","scope","id","scope","formControlName","scope","aria-label","Search scope",1,"form-control"],["value","metadata"],["value","email"],[1,"flex-grow-1","mr-3","ml-3"],[1,"form-group","input-group"],["type","text","name","query","id","query","formControlName","query",1,"form-control",3,"placeholder"],[1,"input-group-append"],["type","submit",1,"search-button","btn","btn-primary"],[1,"fas","fa-search"],[1,"search-button","btn","btn-secondary",3,"click"],[3,"paginationOptions","pageInfoState","collectionSize","hideGear","hidePagerWhenSinglePage",4,"ngIf"],["class","alert alert-info w-100 mb-2","role","alert",4,"ngIf"],[3,"paginationOptions","pageInfoState","collectionSize","hideGear","hidePagerWhenSinglePage"],[1,"table-responsive"],["id","epeople",1,"table","table-striped","table-hover","table-bordered"],["scope","col"],[3,"ngClass",4,"ngFor","ngForOf"],[3,"ngClass"],[1,"btn-group","edit-field"],[1,"btn","btn-outline-primary","btn-sm","access-control-editEPersonButton",3,"title","click"],[1,"fas","fa-edit","fa-fw"],[1,"btn","btn-outline-danger","btn-sm","access-control-deleteEPersonButton",3,"disabled","title","click"],[1,"fas","fa-trash-alt","fa-fw"],["role","alert",1,"alert","alert-info","w-100","mb-2"]],template:__name(function(rf,ctx){1&rf&&(core.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h2",4),core._uU(5),core.ALo(6,"translate"),core.qZA(),core.YNc(7,EPeopleRegistryComponent_div_7_Template,6,3,"div",5),core.qZA(),core.YNc(8,EPeopleRegistryComponent_ds_eperson_form_8_Template,1,0,"ds-eperson-form",6),core.YNc(9,EPeopleRegistryComponent_div_9_Template,34,33,"div",5),core.qZA()()()),2&rf&&(core.xp6(5),core.Oqu(core.lcZ(6,4,ctx.labelPrefix+"head")),core.xp6(2),core.Q6J("ngIf",!ctx.isEPersonFormShown),core.xp6(1),core.Q6J("ngIf",ctx.isEPersonFormShown),core.xp6(1),core.Q6J("ngIf",!ctx.isEPersonFormShown))},"EPeopleRegistryComponent_Template"),directives:[common.O5,EPersonFormComponent,fesm2015_forms._Y,fesm2015_forms.JL,fesm2015_forms.sg,fesm2015_forms.EJ,fesm2015_forms.JJ,fesm2015_forms.u,fesm2015_forms.YN,fesm2015_forms.Kr,fesm2015_forms.Fj,themed_loading_component.Z,pagination_component.Q,common.sg,common.mk],pipes:[ngx_translate_core.X$,common.Ov],encapsulation:2});var collection_page_routing_paths=__webpack_require__(95376),community_page_routing_paths=__webpack_require__(43438),dspace_object_data_service=__webpack_require__(83360),group_model=__webpack_require__(13748),collection_model=__webpack_require__(22979),community_model=__webpack_require__(21721),aletr_type=__webpack_require__(74711);class ValidateGroupExists{static createValidator(groupDataService){return control=>groupDataService.searchGroups(control.value,{currentPage:1,elementsPerPage:100}).pipe((0,shared_operators.LQ)(),(0,operators.UI)(groups=>groups.filter(group=>group.name===control.value)),(0,operators.UI)(groups=>groups.length>0?{groupExists:!0}:null))}}__name(ValidateGroupExists,"ValidateGroupExists");var alert_component=__webpack_require__(38605);const members_list_component_c0=__name(function(a0){return{name:a0}},"members_list_component_c0");function MembersListComponent_ds_pagination_28_tr_20_button_14_Template(rf,ctx){if(1&rf){const _r10=core.EpF();core.TgZ(0,"button",25),core.NdJ("click",__name(function(){core.CHM(_r10);const ePerson_r5=core.oxw().$implicit;return core.oxw(2).deleteMemberFromGroup(ePerson_r5)},"MembersListComponent_ds_pagination_28_tr_20_button_14_Template_button_click_0_listener")),core.ALo(1,"translate"),core._UZ(2,"i",26),core.qZA()}if(2&rf){const ePerson_r5=core.oxw().$implicit,ctx_r6=core.oxw(2);core.s9C("title",core.xi3(1,1,ctx_r6.messagePrefix+".table.edit.buttons.remove",core.VKq(4,members_list_component_c0,ePerson_r5.eperson.name)))}}function MembersListComponent_ds_pagination_28_tr_20_button_15_Template(rf,ctx){if(1&rf){const _r14=core.EpF();core.TgZ(0,"button",27),core.NdJ("click",__name(function(){core.CHM(_r14);const ePerson_r5=core.oxw().$implicit;return core.oxw(2).addMemberToGroup(ePerson_r5)},"MembersListComponent_ds_pagination_28_tr_20_button_15_Template_button_click_0_listener")),core.ALo(1,"translate"),core._UZ(2,"i",28),core.qZA()}if(2&rf){const ePerson_r5=core.oxw().$implicit,ctx_r7=core.oxw(2);core.s9C("title",core.xi3(1,1,ctx_r7.messagePrefix+".table.edit.buttons.add",core.VKq(4,members_list_component_c0,ePerson_r5.eperson.name)))}}__name(MembersListComponent_ds_pagination_28_tr_20_button_14_Template,"MembersListComponent_ds_pagination_28_tr_20_button_14_Template"),__name(MembersListComponent_ds_pagination_28_tr_20_button_15_Template,"MembersListComponent_ds_pagination_28_tr_20_button_15_Template");const members_list_component_c1=__name(function(a0){return[a0]},"members_list_component_c1");function MembersListComponent_ds_pagination_28_tr_20_Template(rf,ctx){if(1&rf){const _r17=core.EpF();core.TgZ(0,"tr")(1,"td",19),core._uU(2),core.qZA(),core.TgZ(3,"td",19)(4,"a",21),core.NdJ("click",__name(function(){const ePerson_r5=core.CHM(_r17).$implicit;return core.oxw(2).ePersonDataService.startEditingNewEPerson(ePerson_r5.eperson)},"MembersListComponent_ds_pagination_28_tr_20_Template_a_click_4_listener")),core._uU(5),core.qZA()(),core.TgZ(6,"td",19),core._uU(7),core.ALo(8,"translate"),core._UZ(9,"br"),core._uU(10),core.ALo(11,"translate"),core.qZA(),core.TgZ(12,"td",19)(13,"div",22),core.YNc(14,MembersListComponent_ds_pagination_28_tr_20_button_14_Template,3,6,"button",23),core.YNc(15,MembersListComponent_ds_pagination_28_tr_20_button_15_Template,3,6,"button",24),core.qZA()()()}if(2&rf){const ePerson_r5=ctx.$implicit,ctx_r4=core.oxw(2);core.xp6(2),core.Oqu(ePerson_r5.eperson.id),core.xp6(2),core.Q6J("routerLink",core.VKq(13,members_list_component_c1,ctx_r4.ePersonDataService.getEPeoplePageRouterLink())),core.xp6(1),core.Oqu(ePerson_r5.eperson.name),core.xp6(2),core.AsE(" ",core.lcZ(8,9,ctx_r4.messagePrefix+".table.email"),": ",ePerson_r5.eperson.email?ePerson_r5.eperson.email:"-",""),core.xp6(3),core.AsE(" ",core.lcZ(11,11,ctx_r4.messagePrefix+".table.netid"),": ",ePerson_r5.eperson.netid?ePerson_r5.eperson.netid:"-"," "),core.xp6(4),core.Q6J("ngIf",ePerson_r5.memberOfGroup),core.xp6(1),core.Q6J("ngIf",!ePerson_r5.memberOfGroup)}}function MembersListComponent_ds_pagination_28_Template(rf,ctx){if(1&rf&&(core.TgZ(0,"ds-pagination",15),core.ALo(1,"async"),core.ALo(2,"async"),core.TgZ(3,"div",16)(4,"table",17)(5,"thead")(6,"tr")(7,"th",18),core._uU(8),core.ALo(9,"translate"),core.qZA(),core.TgZ(10,"th",18),core._uU(11),core.ALo(12,"translate"),core.qZA(),core.TgZ(13,"th",18),core._uU(14),core.ALo(15,"translate"),core.qZA(),core.TgZ(16,"th",19),core._uU(17),core.ALo(18,"translate"),core.qZA()()(),core.TgZ(19,"tbody"),core.YNc(20,MembersListComponent_ds_pagination_28_tr_20_Template,16,15,"tr",20),core.ALo(21,"async"),core.qZA()()()()),2&rf){const ctx_r0=core.oxw();let tmp_2_0,tmp_9_0;core.Q6J("paginationOptions",ctx_r0.configSearch)("pageInfoState",core.lcZ(1,10,ctx_r0.ePeopleSearchDtos))("collectionSize",null==(tmp_2_0=core.lcZ(2,12,ctx_r0.ePeopleSearchDtos))?null:tmp_2_0.totalElements)("hideGear",!0)("hidePagerWhenSinglePage",!0),core.xp6(8),core.Oqu(core.lcZ(9,14,ctx_r0.messagePrefix+".table.id")),core.xp6(3),core.Oqu(core.lcZ(12,16,ctx_r0.messagePrefix+".table.name")),core.xp6(3),core.Oqu(core.lcZ(15,18,ctx_r0.messagePrefix+".table.identity")),core.xp6(3),core.Oqu(core.lcZ(18,20,ctx_r0.messagePrefix+".table.edit")),core.xp6(3),core.Q6J("ngForOf",null==(tmp_9_0=core.lcZ(21,22,ctx_r0.ePeopleSearchDtos))?null:tmp_9_0.page)}}function MembersListComponent_div_30_Template(rf,ctx){if(1&rf&&(core.TgZ(0,"div",29),core._uU(1),core.ALo(2,"translate"),core.qZA()),2&rf){const ctx_r1=core.oxw();core.xp6(1),core.hij(" ",core.lcZ(2,1,ctx_r1.messagePrefix+".no-items")," ")}}function MembersListComponent_ds_pagination_35_tr_20_Template(rf,ctx){if(1&rf){const _r21=core.EpF();core.TgZ(0,"tr")(1,"td",19),core._uU(2),core.qZA(),core.TgZ(3,"td",19)(4,"a",21),core.NdJ("click",__name(function(){const ePerson_r19=core.CHM(_r21).$implicit;return core.oxw(2).ePersonDataService.startEditingNewEPerson(ePerson_r19.eperson)},"MembersListComponent_ds_pagination_35_tr_20_Template_a_click_4_listener")),core._uU(5),core.qZA()(),core.TgZ(6,"td",19),core._uU(7),core.ALo(8,"translate"),core._UZ(9,"br"),core._uU(10),core.ALo(11,"translate"),core.qZA(),core.TgZ(12,"td",19)(13,"div",22)(14,"button",25),core.NdJ("click",__name(function(){const ePerson_r19=core.CHM(_r21).$implicit;return core.oxw(2).deleteMemberFromGroup(ePerson_r19)},"MembersListComponent_ds_pagination_35_tr_20_Template_button_click_14_listener")),core.ALo(15,"translate"),core._UZ(16,"i",26),core.qZA()()()()}if(2&rf){const ePerson_r19=ctx.$implicit,ctx_r18=core.oxw(2);core.xp6(2),core.Oqu(ePerson_r19.eperson.id),core.xp6(2),core.Q6J("routerLink",core.VKq(15,members_list_component_c1,ctx_r18.ePersonDataService.getEPeoplePageRouterLink())),core.xp6(1),core.Oqu(ePerson_r19.eperson.name),core.xp6(2),core.AsE(" ",core.lcZ(8,8,ctx_r18.messagePrefix+".table.email"),": ",ePerson_r19.eperson.email?ePerson_r19.eperson.email:"-",""),core.xp6(3),core.AsE(" ",core.lcZ(11,10,ctx_r18.messagePrefix+".table.netid"),": ",ePerson_r19.eperson.netid?ePerson_r19.eperson.netid:"-"," "),core.xp6(4),core.s9C("title",core.xi3(15,12,ctx_r18.messagePrefix+".table.edit.buttons.remove",core.VKq(17,members_list_component_c0,ePerson_r19.eperson.name)))}}function MembersListComponent_ds_pagination_35_Template(rf,ctx){if(1&rf&&(core.TgZ(0,"ds-pagination",15),core.ALo(1,"async"),core.ALo(2,"async"),core.TgZ(3,"div",16)(4,"table",30)(5,"thead")(6,"tr")(7,"th",18),core._uU(8),core.ALo(9,"translate"),core.qZA(),core.TgZ(10,"th",18),core._uU(11),core.ALo(12,"translate"),core.qZA(),core.TgZ(13,"th",18),core._uU(14),core.ALo(15,"translate"),core.qZA(),core.TgZ(16,"th",19),core._uU(17),core.ALo(18,"translate"),core.qZA()()(),core.TgZ(19,"tbody"),core.YNc(20,MembersListComponent_ds_pagination_35_tr_20_Template,17,19,"tr",20),core.ALo(21,"async"),core.qZA()()()()),2&rf){const ctx_r2=core.oxw();let tmp_2_0,tmp_9_0;core.Q6J("paginationOptions",ctx_r2.config)("pageInfoState",core.lcZ(1,10,ctx_r2.ePeopleMembersOfGroupDtos))("collectionSize",null==(tmp_2_0=core.lcZ(2,12,ctx_r2.ePeopleMembersOfGroupDtos))?null:tmp_2_0.totalElements)("hideGear",!0)("hidePagerWhenSinglePage",!0),core.xp6(8),core.Oqu(core.lcZ(9,14,ctx_r2.messagePrefix+".table.id")),core.xp6(3),core.Oqu(core.lcZ(12,16,ctx_r2.messagePrefix+".table.name")),core.xp6(3),core.Oqu(core.lcZ(15,18,ctx_r2.messagePrefix+".table.identity")),core.xp6(3),core.Oqu(core.lcZ(18,20,ctx_r2.messagePrefix+".table.edit")),core.xp6(3),core.Q6J("ngForOf",null==(tmp_9_0=core.lcZ(21,22,ctx_r2.ePeopleMembersOfGroupDtos))?null:tmp_9_0.page)}}function MembersListComponent_div_37_Template(rf,ctx){if(1&rf&&(core.TgZ(0,"div",29),core._uU(1),core.ALo(2,"translate"),core.qZA()),2&rf){const ctx_r3=core.oxw();core.xp6(1),core.hij(" ",core.lcZ(2,1,ctx_r3.messagePrefix+".no-members-yet")," ")}}var SubKey,SubKey2;__name(MembersListComponent_ds_pagination_28_tr_20_Template,"MembersListComponent_ds_pagination_28_tr_20_Template"),__name(MembersListComponent_ds_pagination_28_Template,"MembersListComponent_ds_pagination_28_Template"),__name(MembersListComponent_div_30_Template,"MembersListComponent_div_30_Template"),__name(MembersListComponent_ds_pagination_35_tr_20_Template,"MembersListComponent_ds_pagination_35_tr_20_Template"),__name(MembersListComponent_ds_pagination_35_Template,"MembersListComponent_ds_pagination_35_Template"),__name(MembersListComponent_div_37_Template,"MembersListComponent_div_37_Template"),(SubKey2=SubKey||(SubKey={}))[SubKey2.ActiveGroup=0]="ActiveGroup",SubKey2[SubKey2.MembersDTO=1]="MembersDTO",SubKey2[SubKey2.SearchResultsDTO=2]="SearchResultsDTO";class MembersListComponent{constructor(groupDataService,ePersonDataService,translateService,notificationsService,formBuilder,paginationService,router2){this.groupDataService=groupDataService,this.ePersonDataService=ePersonDataService,this.translateService=translateService,this.notificationsService=notificationsService,this.formBuilder=formBuilder,this.paginationService=paginationService,this.router=router2,this.ePeopleSearchDtos=new cjs.BehaviorSubject(void 0),this.ePeopleMembersOfGroupDtos=new cjs.BehaviorSubject(void 0),this.configSearch=Object.assign(new pagination_component_options_model.r,{id:"sml",pageSize:5,currentPage:1}),this.config=Object.assign(new pagination_component_options_model.r,{id:"ml",pageSize:5,currentPage:1}),this.subs=new Map,this.currentSearchQuery="",this.currentSearchScope="metadata"}ngOnInit(){this.searchForm=this.formBuilder.group({scope:"metadata",query:""}),this.subs.set(SubKey.ActiveGroup,this.groupDataService.getActiveGroup().subscribe(activeGroup=>{null!=activeGroup&&(this.groupBeingEdited=activeGroup,this.retrieveMembers(this.config.currentPage))}))}retrieveMembers(page){this.unsubFrom(SubKey.MembersDTO),this.subs.set(SubKey.MembersDTO,this.paginationService.getCurrentPagination(this.config.id,this.config).pipe((0,operators.wt)(currentPagination=>this.ePersonDataService.findListByHref(this.groupBeingEdited._links.epersons.href,{currentPage:currentPagination.currentPage,elementsPerPage:currentPagination.pageSize})),(0,shared_operators.f1)(),(0,operators.UI)(rd=>{if(!rd.hasFailed)return rd;this.notificationsService.error(this.translateService.get(this.messagePrefix+".notification.failure",{cause:rd.errorMessage}))}),(0,operators.wt)(epersonListRD=>(0,cjs.combineLatest)([...epersonListRD.payload.page.map(member=>(0,cjs.combineLatest)(this.isMemberOfGroup(member),isMember=>{const epersonDtoModel=new EpersonDtoModel;return epersonDtoModel.eperson=member,epersonDtoModel.memberOfGroup=isMember,epersonDtoModel}))]).pipe((0,operators.dL)([]),(0,operators.UI)(dtos=>(0,paginated_list_model.b)(epersonListRD.payload.pageInfo,dtos))))).subscribe(paginatedListOfDTOs=>{this.ePeopleMembersOfGroupDtos.next(paginatedListOfDTOs)}))}isMemberOfGroup(possibleMember){return this.groupDataService.getActiveGroup().pipe((0,operators.qn)(1),(0,operators.zg)(group=>null!=group?this.ePersonDataService.findListByHref(group._links.epersons.href,{currentPage:1,elementsPerPage:9999}).pipe((0,shared_operators.xw)(),(0,shared_operators.xe)(),(0,operators.UI)(listEPeopleInGroup=>listEPeopleInGroup.page.filter(ePersonInList=>ePersonInList.id===possibleMember.id)),(0,operators.UI)(epeople=>epeople.length>0)):(0,cjs.of)(!1)))}unsubFrom(key){this.subs.has(key)&&(this.subs.get(key).unsubscribe(),this.subs.delete(key))}deleteMemberFromGroup(ePerson){this.groupDataService.getActiveGroup().pipe((0,operators.qn)(1)).subscribe(activeGroup=>{if(null!=activeGroup){const response=this.groupDataService.deleteMemberFromGroup(activeGroup,ePerson.eperson);this.showNotifications("deleteMember",response,ePerson.eperson.name,activeGroup)}else this.notificationsService.error(this.translateService.get(this.messagePrefix+".notification.failure.noActiveGroup"))})}addMemberToGroup(ePerson){ePerson.memberOfGroup=!0,this.groupDataService.getActiveGroup().pipe((0,operators.qn)(1)).subscribe(activeGroup=>{if(null!=activeGroup){const response=this.groupDataService.addMemberToGroup(activeGroup,ePerson.eperson);this.showNotifications("addMember",response,ePerson.eperson.name,activeGroup)}else this.notificationsService.error(this.translateService.get(this.messagePrefix+".notification.failure.noActiveGroup"))})}search(data){this.unsubFrom(SubKey.SearchResultsDTO),this.subs.set(SubKey.SearchResultsDTO,this.paginationService.getCurrentPagination(this.configSearch.id,this.configSearch).pipe((0,operators.wt)(paginationOptions=>{const query=data.query,scope=data.scope;return null!=query&&this.currentSearchQuery!==query&&this.groupBeingEdited&&(this.router.navigate([],{queryParamsHandling:"merge"}),this.currentSearchQuery=query,this.paginationService.resetPage(this.configSearch.id)),null!=scope&&this.currentSearchScope!==scope&&this.groupBeingEdited&&(this.router.navigate([],{queryParamsHandling:"merge"}),this.currentSearchScope=scope,this.paginationService.resetPage(this.configSearch.id)),this.searchDone=!0,this.ePersonDataService.searchByScope(this.currentSearchScope,this.currentSearchQuery,{currentPage:paginationOptions.currentPage,elementsPerPage:paginationOptions.pageSize})}),(0,shared_operators.f1)(),(0,operators.UI)(rd=>{if(!rd.hasFailed)return rd;this.notificationsService.error(this.translateService.get(this.messagePrefix+".notification.failure",{cause:rd.errorMessage}))}),(0,operators.wt)(epersonListRD=>(0,cjs.combineLatest)([...epersonListRD.payload.page.map(member=>(0,cjs.combineLatest)(this.isMemberOfGroup(member),isMember=>{const epersonDtoModel=new EpersonDtoModel;return epersonDtoModel.eperson=member,epersonDtoModel.memberOfGroup=isMember,epersonDtoModel}))]).pipe((0,operators.dL)([]),(0,operators.UI)(dtos=>(0,paginated_list_model.b)(epersonListRD.payload.pageInfo,dtos))))).subscribe(paginatedListOfDTOs=>{this.ePeopleSearchDtos.next(paginatedListOfDTOs)}))}ngOnDestroy(){for(const key of this.subs.keys())this.unsubFrom(key);this.paginationService.clearPagination(this.config.id),this.paginationService.clearPagination(this.configSearch.id)}showNotifications(messageSuffix,response,nameObject,activeGroup){response.pipe((0,shared_operators.hC)()).subscribe(rd=>{rd.hasSucceeded?this.notificationsService.success(this.translateService.get(this.messagePrefix+".notification.success."+messageSuffix,{name:nameObject})):this.notificationsService.error(this.translateService.get(this.messagePrefix+".notification.failure."+messageSuffix,{name:nameObject}))})}clearFormAndResetResult(){this.searchForm.patchValue({query:""}),this.search({query:""})}}__name(MembersListComponent,"MembersListComponent"),MembersListComponent.\u0275fac=__name(function(t){return new(t||MembersListComponent)(core.Y36(group_data_service.O),core.Y36(eperson_data_service.k),core.Y36(ngx_translate_core.sK),core.Y36(notifications_service.T),core.Y36(fesm2015_forms.qu),core.Y36(pagination_service.N),core.Y36(router.F0))},"MembersListComponent_Factory"),MembersListComponent.\u0275cmp=core.Xpm({type:MembersListComponent,selectors:[["ds-members-list"]],inputs:{messagePrefix:"messagePrefix"},decls:40,vars:36,consts:[[1,"border-bottom","pb-2"],["id","search",1,"border-bottom","pb-2"],[1,"d-flex","justify-content-between",3,"formGroup","ngSubmit"],["name","scope","id","scope","formControlName","scope","aria-label","Search scope",1,"form-control"],["value","metadata"],["value","email"],[1,"flex-grow-1","mr-3","ml-3"],[1,"form-group","input-group"],["type","text","name","query","id","query","formControlName","query","aria-label","Search input",1,"form-control"],[1,"input-group-append"],["type","submit",1,"search-button","btn","btn-primary"],[1,"fas","fa-search"],[1,"btn","btn-secondary",3,"click"],[3,"paginationOptions","pageInfoState","collectionSize","hideGear","hidePagerWhenSinglePage",4,"ngIf"],["class","alert alert-info w-100 mb-2","role","alert",4,"ngIf"],[3,"paginationOptions","pageInfoState","collectionSize","hideGear","hidePagerWhenSinglePage"],[1,"table-responsive"],["id","epersonsSearch",1,"table","table-striped","table-hover","table-bordered"],["scope","col",1,"align-middle"],[1,"align-middle"],[4,"ngFor","ngForOf"],[3,"routerLink","click"],[1,"btn-group","edit-field"],["class","btn btn-outline-danger btn-sm",3,"title","click",4,"ngIf"],["class","btn btn-outline-primary btn-sm",3,"title","click",4,"ngIf"],[1,"btn","btn-outline-danger","btn-sm",3,"title","click"],[1,"fas","fa-trash-alt","fa-fw"],[1,"btn","btn-outline-primary","btn-sm",3,"title","click"],[1,"fas","fa-plus","fa-fw"],["role","alert",1,"alert","alert-info","w-100","mb-2"],["id","ePeopleMembersOfGroup",1,"table","table-striped","table-hover","table-bordered"]],template:__name(function(rf,ctx){if(1&rf&&(core.ynx(0),core.TgZ(1,"h3",0),core._uU(2),core.ALo(3,"translate"),core.qZA(),core.TgZ(4,"h4",1),core._uU(5),core.ALo(6,"translate"),core.qZA(),core.TgZ(7,"form",2),core.NdJ("ngSubmit",__name(function(){return ctx.search(ctx.searchForm.value)},"MembersListComponent_Template_form_ngSubmit_7_listener")),core.TgZ(8,"div")(9,"select",3)(10,"option",4),core._uU(11),core.ALo(12,"translate"),core.qZA(),core.TgZ(13,"option",5),core._uU(14),core.ALo(15,"translate"),core.qZA()()(),core.TgZ(16,"div",6)(17,"div",7),core._UZ(18,"input",8),core.TgZ(19,"span",9)(20,"button",10),core._UZ(21,"i",11),core._uU(22),core.ALo(23,"translate"),core.qZA()()()(),core.TgZ(24,"div")(25,"button",12),core.NdJ("click",__name(function(){return ctx.clearFormAndResetResult()},"MembersListComponent_Template_button_click_25_listener")),core._uU(26),core.ALo(27,"translate"),core.qZA()()(),core.YNc(28,MembersListComponent_ds_pagination_28_Template,22,24,"ds-pagination",13),core.ALo(29,"async"),core.YNc(30,MembersListComponent_div_30_Template,3,3,"div",14),core.ALo(31,"async"),core.TgZ(32,"h4"),core._uU(33),core.ALo(34,"translate"),core.qZA(),core.YNc(35,MembersListComponent_ds_pagination_35_Template,22,24,"ds-pagination",13),core.ALo(36,"async"),core.YNc(37,MembersListComponent_div_37_Template,3,3,"div",14),core.ALo(38,"async"),core.ALo(39,"async"),core.BQk()),2&rf){let tmp_7_0,tmp_8_0,tmp_10_0,tmp_11_0;core.xp6(2),core.Oqu(core.lcZ(3,12,ctx.messagePrefix+".head")),core.xp6(3),core.hij("",core.lcZ(6,14,ctx.messagePrefix+".search.head")," "),core.xp6(2),core.Q6J("formGroup",ctx.searchForm),core.xp6(4),core.Oqu(core.lcZ(12,16,ctx.messagePrefix+".search.scope.metadata")),core.xp6(3),core.Oqu(core.lcZ(15,18,ctx.messagePrefix+".search.scope.email")),core.xp6(8),core.hij(" ",core.lcZ(23,20,ctx.messagePrefix+".search.button"),""),core.xp6(4),core.Oqu(core.lcZ(27,22,ctx.messagePrefix+".button.see-all")),core.xp6(2),core.Q6J("ngIf",(null==(tmp_7_0=core.lcZ(29,24,ctx.ePeopleSearchDtos))?null:tmp_7_0.totalElements)>0),core.xp6(2),core.Q6J("ngIf",0==(null==(tmp_8_0=core.lcZ(31,26,ctx.ePeopleSearchDtos))?null:tmp_8_0.totalElements)&&ctx.searchDone),core.xp6(3),core.Oqu(core.lcZ(34,28,ctx.messagePrefix+".headMembers")),core.xp6(2),core.Q6J("ngIf",(null==(tmp_10_0=core.lcZ(36,30,ctx.ePeopleMembersOfGroupDtos))?null:tmp_10_0.totalElements)>0),core.xp6(2),core.Q6J("ngIf",null==core.lcZ(38,32,ctx.ePeopleMembersOfGroupDtos)||0==(null==(tmp_11_0=core.lcZ(39,34,ctx.ePeopleMembersOfGroupDtos))?null:tmp_11_0.totalElements))}},"MembersListComponent_Template"),directives:[fesm2015_forms._Y,fesm2015_forms.JL,fesm2015_forms.sg,fesm2015_forms.EJ,fesm2015_forms.JJ,fesm2015_forms.u,fesm2015_forms.YN,fesm2015_forms.Kr,fesm2015_forms.Fj,common.O5,pagination_component.Q,common.sg,router.yS],pipes:[ngx_translate_core.X$,common.Ov],encapsulation:2});const subgroups_list_component_c0=__name(function(a0){return{name:a0}},"subgroups_list_component_c0");function SubgroupsListComponent_ds_pagination_20_tr_20_button_11_Template(rf,ctx){if(1&rf){const _r11=core.EpF();core.TgZ(0,"button",23),core.NdJ("click",__name(function(){core.CHM(_r11);const group_r5=core.oxw().$implicit;return core.oxw(2).deleteSubgroupFromGroup(group_r5)},"SubgroupsListComponent_ds_pagination_20_tr_20_button_11_Template_button_click_0_listener")),core.ALo(1,"translate"),core._UZ(2,"i",24),core.qZA()}if(2&rf){const group_r5=core.oxw().$implicit,ctx_r6=core.oxw(2);core.s9C("title",core.xi3(1,1,ctx_r6.messagePrefix+".table.edit.buttons.remove",core.VKq(4,subgroups_list_component_c0,group_r5.name)))}}function SubgroupsListComponent_ds_pagination_20_tr_20_p_14_Template(rf,ctx){if(1&rf&&(core.TgZ(0,"p"),core._uU(1),core.ALo(2,"translate"),core.qZA()),2&rf){const ctx_r7=core.oxw(3);core.xp6(1),core.Oqu(core.lcZ(2,1,ctx_r7.messagePrefix+".table.edit.currentGroup"))}}function SubgroupsListComponent_ds_pagination_20_tr_20_button_16_Template(rf,ctx){if(1&rf){const _r15=core.EpF();core.TgZ(0,"button",25),core.NdJ("click",__name(function(){core.CHM(_r15);const group_r5=core.oxw().$implicit;return core.oxw(2).addSubgroupToGroup(group_r5)},"SubgroupsListComponent_ds_pagination_20_tr_20_button_16_Template_button_click_0_listener")),core.ALo(1,"translate"),core._UZ(2,"i",26),core.qZA()}if(2&rf){const group_r5=core.oxw().$implicit,ctx_r8=core.oxw(2);core.s9C("title",core.xi3(1,1,ctx_r8.messagePrefix+".table.edit.buttons.add",core.VKq(4,subgroups_list_component_c0,group_r5.name)))}}__name(SubgroupsListComponent_ds_pagination_20_tr_20_button_11_Template,"SubgroupsListComponent_ds_pagination_20_tr_20_button_11_Template"),__name(SubgroupsListComponent_ds_pagination_20_tr_20_p_14_Template,"SubgroupsListComponent_ds_pagination_20_tr_20_p_14_Template"),__name(SubgroupsListComponent_ds_pagination_20_tr_20_button_16_Template,"SubgroupsListComponent_ds_pagination_20_tr_20_button_16_Template");const subgroups_list_component_c1=__name(function(a0){return[a0]},"subgroups_list_component_c1");function SubgroupsListComponent_ds_pagination_20_tr_20_Template(rf,ctx){if(1&rf){const _r18=core.EpF();core.TgZ(0,"tr")(1,"td",16),core._uU(2),core.qZA(),core.TgZ(3,"td",16)(4,"a",18),core.NdJ("click",__name(function(){const group_r5=core.CHM(_r18).$implicit;return core.oxw(2).groupDataService.startEditingNewGroup(group_r5)},"SubgroupsListComponent_ds_pagination_20_tr_20_Template_a_click_4_listener")),core._uU(5),core.qZA()(),core.TgZ(6,"td",16),core._uU(7),core.ALo(8,"async"),core.qZA(),core.TgZ(9,"td",16)(10,"div",19),core.YNc(11,SubgroupsListComponent_ds_pagination_20_tr_20_button_11_Template,3,6,"button",20),core.ALo(12,"async"),core.ALo(13,"async"),core.YNc(14,SubgroupsListComponent_ds_pagination_20_tr_20_p_14_Template,3,3,"p",21),core.ALo(15,"async"),core.YNc(16,SubgroupsListComponent_ds_pagination_20_tr_20_button_16_Template,3,6,"button",22),core.ALo(17,"async"),core.ALo(18,"async"),core.qZA()()()}if(2&rf){const group_r5=ctx.$implicit,ctx_r4=core.oxw(2);let tmp_3_0;core.xp6(2),core.Oqu(group_r5.id),core.xp6(2),core.Q6J("routerLink",core.VKq(19,subgroups_list_component_c1,ctx_r4.groupDataService.getGroupEditPageRouterLink(group_r5))),core.xp6(1),core.Oqu(group_r5.name),core.xp6(2),core.Oqu(null==(tmp_3_0=core.lcZ(8,7,group_r5.object))||null==tmp_3_0.payload?null:tmp_3_0.payload.name),core.xp6(4),core.Q6J("ngIf",core.lcZ(12,9,ctx_r4.isSubgroupOfGroup(group_r5))&&!core.lcZ(13,11,ctx_r4.isActiveGroup(group_r5))),core.xp6(3),core.Q6J("ngIf",core.lcZ(15,13,ctx_r4.isActiveGroup(group_r5))),core.xp6(2),core.Q6J("ngIf",!core.lcZ(17,15,ctx_r4.isSubgroupOfGroup(group_r5))&&!core.lcZ(18,17,ctx_r4.isActiveGroup(group_r5)))}}function SubgroupsListComponent_ds_pagination_20_Template(rf,ctx){if(1&rf&&(core.TgZ(0,"ds-pagination",12),core.ALo(1,"async"),core.ALo(2,"async"),core.TgZ(3,"div",13)(4,"table",14)(5,"thead")(6,"tr")(7,"th",15),core._uU(8),core.ALo(9,"translate"),core.qZA(),core.TgZ(10,"th",15),core._uU(11),core.ALo(12,"translate"),core.qZA(),core.TgZ(13,"th",15),core._uU(14),core.ALo(15,"translate"),core.qZA(),core.TgZ(16,"th",16),core._uU(17),core.ALo(18,"translate"),core.qZA()()(),core.TgZ(19,"tbody"),core.YNc(20,SubgroupsListComponent_ds_pagination_20_tr_20_Template,19,21,"tr",17),core.ALo(21,"async"),core.qZA()()()()),2&rf){const ctx_r0=core.oxw();let tmp_1_0,tmp_2_0,tmp_9_0;core.Q6J("paginationOptions",ctx_r0.configSearch)("pageInfoState",null==(tmp_1_0=core.lcZ(1,10,ctx_r0.searchResults$))?null:tmp_1_0.payload)("collectionSize",null==(tmp_2_0=core.lcZ(2,12,ctx_r0.searchResults$))||null==tmp_2_0.payload?null:tmp_2_0.payload.totalElements)("hideGear",!0)("hidePagerWhenSinglePage",!0),core.xp6(8),core.Oqu(core.lcZ(9,14,ctx_r0.messagePrefix+".table.id")),core.xp6(3),core.Oqu(core.lcZ(12,16,ctx_r0.messagePrefix+".table.name")),core.xp6(3),core.Oqu(core.lcZ(15,18,ctx_r0.messagePrefix+".table.collectionOrCommunity")),core.xp6(3),core.Oqu(core.lcZ(18,20,ctx_r0.messagePrefix+".table.edit")),core.xp6(3),core.Q6J("ngForOf",null==(tmp_9_0=core.lcZ(21,22,ctx_r0.searchResults$))||null==tmp_9_0.payload?null:tmp_9_0.payload.page)}}function SubgroupsListComponent_div_22_Template(rf,ctx){if(1&rf&&(core.TgZ(0,"div",27),core._uU(1),core.ALo(2,"translate"),core.qZA()),2&rf){const ctx_r1=core.oxw();core.xp6(1),core.hij(" ",core.lcZ(2,1,ctx_r1.messagePrefix+".no-items")," ")}}function SubgroupsListComponent_ds_pagination_27_tr_20_Template(rf,ctx){if(1&rf){const _r22=core.EpF();core.TgZ(0,"tr")(1,"td",16),core._uU(2),core.qZA(),core.TgZ(3,"td",16)(4,"a",18),core.NdJ("click",__name(function(){const group_r20=core.CHM(_r22).$implicit;return core.oxw(2).groupDataService.startEditingNewGroup(group_r20)},"SubgroupsListComponent_ds_pagination_27_tr_20_Template_a_click_4_listener")),core._uU(5),core.qZA()(),core.TgZ(6,"td",16),core._uU(7),core.ALo(8,"async"),core.qZA(),core.TgZ(9,"td",16)(10,"div",19)(11,"button",23),core.NdJ("click",__name(function(){const group_r20=core.CHM(_r22).$implicit;return core.oxw(2).deleteSubgroupFromGroup(group_r20)},"SubgroupsListComponent_ds_pagination_27_tr_20_Template_button_click_11_listener")),core.ALo(12,"translate"),core._UZ(13,"i",24),core.qZA()()()()}if(2&rf){const group_r20=ctx.$implicit,ctx_r19=core.oxw(2);let tmp_3_0;core.xp6(2),core.Oqu(group_r20.id),core.xp6(2),core.Q6J("routerLink",core.VKq(10,subgroups_list_component_c1,ctx_r19.groupDataService.getGroupEditPageRouterLink(group_r20))),core.xp6(1),core.Oqu(group_r20.name),core.xp6(2),core.Oqu(null==(tmp_3_0=core.lcZ(8,5,group_r20.object))||null==tmp_3_0.payload?null:tmp_3_0.payload.name),core.xp6(4),core.s9C("title",core.xi3(12,7,ctx_r19.messagePrefix+".table.edit.buttons.remove",core.VKq(12,subgroups_list_component_c0,group_r20.name)))}}function SubgroupsListComponent_ds_pagination_27_Template(rf,ctx){if(1&rf&&(core.TgZ(0,"ds-pagination",12),core.ALo(1,"async"),core.ALo(2,"async"),core.TgZ(3,"div",13)(4,"table",28)(5,"thead")(6,"tr")(7,"th",15),core._uU(8),core.ALo(9,"translate"),core.qZA(),core.TgZ(10,"th",15),core._uU(11),core.ALo(12,"translate"),core.qZA(),core.TgZ(13,"th",15),core._uU(14),core.ALo(15,"translate"),core.qZA(),core.TgZ(16,"th"),core._uU(17),core.ALo(18,"translate"),core.qZA()()(),core.TgZ(19,"tbody"),core.YNc(20,SubgroupsListComponent_ds_pagination_27_tr_20_Template,14,14,"tr",17),core.ALo(21,"async"),core.qZA()()()()),2&rf){const ctx_r2=core.oxw();let tmp_1_0,tmp_2_0,tmp_9_0;core.Q6J("paginationOptions",ctx_r2.config)("pageInfoState",null==(tmp_1_0=core.lcZ(1,10,ctx_r2.subGroups$))?null:tmp_1_0.payload)("collectionSize",null==(tmp_2_0=core.lcZ(2,12,ctx_r2.subGroups$))||null==tmp_2_0.payload?null:tmp_2_0.payload.totalElements)("hideGear",!0)("hidePagerWhenSinglePage",!0),core.xp6(8),core.Oqu(core.lcZ(9,14,ctx_r2.messagePrefix+".table.id")),core.xp6(3),core.Oqu(core.lcZ(12,16,ctx_r2.messagePrefix+".table.name")),core.xp6(3),core.Oqu(core.lcZ(15,18,ctx_r2.messagePrefix+".table.collectionOrCommunity")),core.xp6(3),core.Oqu(core.lcZ(18,20,ctx_r2.messagePrefix+".table.edit")),core.xp6(3),core.Q6J("ngForOf",null==(tmp_9_0=core.lcZ(21,22,ctx_r2.subGroups$))||null==tmp_9_0.payload?null:tmp_9_0.payload.page)}}function SubgroupsListComponent_div_29_Template(rf,ctx){if(1&rf&&(core.TgZ(0,"div",27),core._uU(1),core.ALo(2,"translate"),core.qZA()),2&rf){const ctx_r3=core.oxw();core.xp6(1),core.hij(" ",core.lcZ(2,1,ctx_r3.messagePrefix+".no-subgroups-yet")," ")}}var subgroups_list_component_SubKey;__name(SubgroupsListComponent_ds_pagination_20_tr_20_Template,"SubgroupsListComponent_ds_pagination_20_tr_20_Template"),__name(SubgroupsListComponent_ds_pagination_20_Template,"SubgroupsListComponent_ds_pagination_20_Template"),__name(SubgroupsListComponent_div_22_Template,"SubgroupsListComponent_div_22_Template"),__name(SubgroupsListComponent_ds_pagination_27_tr_20_Template,"SubgroupsListComponent_ds_pagination_27_tr_20_Template"),__name(SubgroupsListComponent_ds_pagination_27_Template,"SubgroupsListComponent_ds_pagination_27_Template"),__name(SubgroupsListComponent_div_29_Template,"SubgroupsListComponent_div_29_Template"),function(SubKey2){SubKey2[SubKey2.Members=0]="Members",SubKey2[SubKey2.ActiveGroup=1]="ActiveGroup",SubKey2[SubKey2.SearchResults=2]="SearchResults"}(subgroups_list_component_SubKey||(subgroups_list_component_SubKey={}));class SubgroupsListComponent{constructor(groupDataService,translateService,notificationsService,formBuilder,paginationService,router2){this.groupDataService=groupDataService,this.translateService=translateService,this.notificationsService=notificationsService,this.formBuilder=formBuilder,this.paginationService=paginationService,this.router=router2,this.searchResults$=new cjs.BehaviorSubject(void 0),this.subGroups$=new cjs.BehaviorSubject(void 0),this.subs=new Map,this.configSearch=Object.assign(new pagination_component_options_model.r,{id:"ssgl",pageSize:5,currentPage:1}),this.config=Object.assign(new pagination_component_options_model.r,{id:"sgl",pageSize:5,currentPage:1}),this.currentSearchQuery=""}ngOnInit(){this.searchForm=this.formBuilder.group({query:""}),this.subs.set(subgroups_list_component_SubKey.ActiveGroup,this.groupDataService.getActiveGroup().subscribe(activeGroup=>{null!=activeGroup&&(this.groupBeingEdited=activeGroup,this.retrieveSubGroups())}))}retrieveSubGroups(){this.unsubFrom(subgroups_list_component_SubKey.Members),this.subs.set(subgroups_list_component_SubKey.Members,this.paginationService.getCurrentPagination(this.config.id,this.config).pipe((0,operators.wt)(config=>this.groupDataService.findListByHref(this.groupBeingEdited._links.subgroups.href,{currentPage:config.currentPage,elementsPerPage:config.pageSize},!0,!0,(0,follow_link_config_model.l)("object")))).subscribe(rd=>{this.subGroups$.next(rd)}))}isSubgroupOfGroup(possibleSubgroup){return this.groupDataService.getActiveGroup().pipe((0,operators.qn)(1),(0,operators.zg)(activeGroup=>null!=activeGroup?activeGroup.uuid===possibleSubgroup.uuid?(0,cjs.of)(!1):this.groupDataService.findListByHref(activeGroup._links.subgroups.href,{currentPage:1,elementsPerPage:9999}).pipe((0,shared_operators.xw)(),(0,shared_operators.xe)(),(0,operators.UI)(listTotalGroups=>listTotalGroups.page.filter(groupInList=>groupInList.id===possibleSubgroup.id)),(0,operators.UI)(groups=>groups.length>0)):(0,cjs.of)(!1)))}isActiveGroup(group){return this.groupDataService.getActiveGroup().pipe((0,operators.qn)(1),(0,operators.zg)(activeGroup=>null!=activeGroup&&activeGroup.uuid===group.uuid?(0,cjs.of)(!0):(0,cjs.of)(!1)))}deleteSubgroupFromGroup(subgroup){this.groupDataService.getActiveGroup().pipe((0,operators.qn)(1)).subscribe(activeGroup=>{if(null!=activeGroup){const response=this.groupDataService.deleteSubGroupFromGroup(activeGroup,subgroup);this.showNotifications("deleteSubgroup",response,subgroup.name,activeGroup)}else this.notificationsService.error(this.translateService.get(this.messagePrefix+".notification.failure.noActiveGroup"))})}addSubgroupToGroup(subgroup){this.groupDataService.getActiveGroup().pipe((0,operators.qn)(1)).subscribe(activeGroup=>{if(null!=activeGroup)if(activeGroup.uuid!==subgroup.uuid){const response=this.groupDataService.addSubGroupToGroup(activeGroup,subgroup);this.showNotifications("addSubgroup",response,subgroup.name,activeGroup)}else this.notificationsService.error(this.translateService.get(this.messagePrefix+".notification.failure.subgroupToAddIsActiveGroup"));else this.notificationsService.error(this.translateService.get(this.messagePrefix+".notification.failure.noActiveGroup"))})}search(data){const query=data.query;null!=query&&this.currentSearchQuery!==query&&(this.router.navigateByUrl(this.groupDataService.getGroupEditPageRouterLink(this.groupBeingEdited)),this.currentSearchQuery=query,this.configSearch.currentPage=1),this.searchDone=!0,this.unsubFrom(subgroups_list_component_SubKey.SearchResults),this.subs.set(subgroups_list_component_SubKey.SearchResults,this.paginationService.getCurrentPagination(this.configSearch.id,this.configSearch).pipe((0,operators.wt)(config=>this.groupDataService.searchGroups(this.currentSearchQuery,{currentPage:config.currentPage,elementsPerPage:config.pageSize},!0,!0,(0,follow_link_config_model.l)("object")))).subscribe(rd=>{this.searchResults$.next(rd)}))}unsubFrom(key){this.subs.has(key)&&(this.subs.get(key).unsubscribe(),this.subs.delete(key))}ngOnDestroy(){for(const key of this.subs.keys())this.unsubFrom(key);this.paginationService.clearPagination(this.config.id),this.paginationService.clearPagination(this.configSearch.id)}showNotifications(messageSuffix,response,nameObject,activeGroup){response.pipe((0,shared_operators.hC)()).subscribe(rd=>{rd.hasSucceeded?(this.notificationsService.success(this.translateService.get(this.messagePrefix+".notification.success."+messageSuffix,{name:nameObject})),this.groupDataService.clearGroupLinkRequests(activeGroup._links.subgroups.href)):this.notificationsService.error(this.translateService.get(this.messagePrefix+".notification.failure."+messageSuffix,{name:nameObject}))})}clearFormAndResetResult(){this.searchForm.patchValue({query:""}),this.search({query:""})}}function GroupFormComponent_div_3_Template(rf,ctx){1&rf&&core._UZ(0,"div")}function GroupFormComponent_ng_template_5_Template(rf,ctx){if(1&rf&&(core.TgZ(0,"h2",14),core._uU(1),core.ALo(2,"translate"),core.qZA()),2&rf){const ctx_r2=core.oxw();core.xp6(1),core.Oqu(core.lcZ(2,1,ctx_r2.messagePrefix+".head.create"))}}function GroupFormComponent_ng_template_7_Template(rf,ctx){if(1&rf&&(core.TgZ(0,"h2",14),core._uU(1),core.ALo(2,"translate"),core.qZA()),2&rf){const ctx_r4=core.oxw();core.xp6(1),core.Oqu(core.lcZ(2,1,ctx_r4.messagePrefix+".head.edit"))}}function GroupFormComponent_ds_alert_9_Template(rf,ctx){if(1&rf&&core._UZ(0,"ds-alert",15),2&rf){const ctx_r5=core.oxw();core.Q6J("type",ctx_r5.AlertTypeEnum.Warning)("content",ctx_r5.messagePrefix+".alert.permanent")}}__name(SubgroupsListComponent,"SubgroupsListComponent"),SubgroupsListComponent.\u0275fac=__name(function(t){return new(t||SubgroupsListComponent)(core.Y36(group_data_service.O),core.Y36(ngx_translate_core.sK),core.Y36(notifications_service.T),core.Y36(fesm2015_forms.qu),core.Y36(pagination_service.N),core.Y36(router.F0))},"SubgroupsListComponent_Factory"),SubgroupsListComponent.\u0275cmp=core.Xpm({type:SubgroupsListComponent,selectors:[["ds-subgroups-list"]],inputs:{messagePrefix:"messagePrefix"},decls:31,vars:28,consts:[[1,"border-bottom","pb-2"],["id","search",1,"border-bottom","pb-2"],[1,"d-flex","justify-content-between",3,"formGroup","ngSubmit"],[1,"flex-grow-1","mr-3"],[1,"form-group","input-group","mr-3"],["type","text","name","query","id","query","formControlName","query","aria-label","Search input",1,"form-control"],[1,"input-group-append"],["type","submit",1,"search-button","btn","btn-primary"],[1,"fas","fa-search"],[1,"btn","btn-secondary","float-right",3,"click"],[3,"paginationOptions","pageInfoState","collectionSize","hideGear","hidePagerWhenSinglePage",4,"ngIf"],["class","alert alert-info w-100 mb-2","role","alert",4,"ngIf"],[3,"paginationOptions","pageInfoState","collectionSize","hideGear","hidePagerWhenSinglePage"],[1,"table-responsive"],["id","groupsSearch",1,"table","table-striped","table-hover","table-bordered"],["scope","col",1,"align-middle"],[1,"align-middle"],[4,"ngFor","ngForOf"],[3,"routerLink","click"],[1,"btn-group","edit-field"],["class","btn btn-outline-danger btn-sm deleteButton",3,"title","click",4,"ngIf"],[4,"ngIf"],["class","btn btn-outline-primary btn-sm addButton",3,"title","click",4,"ngIf"],[1,"btn","btn-outline-danger","btn-sm","deleteButton",3,"title","click"],[1,"fas","fa-trash-alt","fa-fw"],[1,"btn","btn-outline-primary","btn-sm","addButton",3,"title","click"],[1,"fas","fa-plus","fa-fw"],["role","alert",1,"alert","alert-info","w-100","mb-2"],["id","subgroupsOfGroup",1,"table","table-striped","table-hover","table-bordered"]],template:__name(function(rf,ctx){if(1&rf&&(core.ynx(0),core.TgZ(1,"h3",0),core._uU(2),core.ALo(3,"translate"),core.qZA(),core.TgZ(4,"h4",1),core._uU(5),core.ALo(6,"translate"),core.qZA(),core.TgZ(7,"form",2),core.NdJ("ngSubmit",__name(function(){return ctx.search(ctx.searchForm.value)},"SubgroupsListComponent_Template_form_ngSubmit_7_listener")),core.TgZ(8,"div",3)(9,"div",4),core._UZ(10,"input",5),core.TgZ(11,"span",6)(12,"button",7),core._UZ(13,"i",8),core._uU(14),core.ALo(15,"translate"),core.qZA()()()(),core.TgZ(16,"div")(17,"button",9),core.NdJ("click",__name(function(){return ctx.clearFormAndResetResult()},"SubgroupsListComponent_Template_button_click_17_listener")),core._uU(18),core.ALo(19,"translate"),core.qZA()()(),core.YNc(20,SubgroupsListComponent_ds_pagination_20_Template,22,24,"ds-pagination",10),core.ALo(21,"async"),core.YNc(22,SubgroupsListComponent_div_22_Template,3,3,"div",11),core.ALo(23,"async"),core.TgZ(24,"h4"),core._uU(25),core.ALo(26,"translate"),core.qZA(),core.YNc(27,SubgroupsListComponent_ds_pagination_27_Template,22,24,"ds-pagination",10),core.ALo(28,"async"),core.YNc(29,SubgroupsListComponent_div_29_Template,3,3,"div",11),core.ALo(30,"async"),core.BQk()),2&rf){let tmp_5_0,tmp_6_0,tmp_8_0,tmp_9_0;core.xp6(2),core.Oqu(core.lcZ(3,10,ctx.messagePrefix+".head")),core.xp6(3),core.hij("",core.lcZ(6,12,ctx.messagePrefix+".search.head")," "),core.xp6(2),core.Q6J("formGroup",ctx.searchForm),core.xp6(7),core.hij(" ",core.lcZ(15,14,ctx.messagePrefix+".search.button")," "),core.xp6(4),core.hij(" ",core.lcZ(19,16,ctx.messagePrefix+".button.see-all")," "),core.xp6(2),core.Q6J("ngIf",(null==(tmp_5_0=core.lcZ(21,18,ctx.searchResults$))||null==tmp_5_0.payload?null:tmp_5_0.payload.totalElements)>0),core.xp6(2),core.Q6J("ngIf",0==(null==(tmp_6_0=core.lcZ(23,20,ctx.searchResults$))||null==tmp_6_0.payload?null:tmp_6_0.payload.totalElements)&&ctx.searchDone),core.xp6(3),core.Oqu(core.lcZ(26,22,ctx.messagePrefix+".headSubgroups")),core.xp6(2),core.Q6J("ngIf",(null==(tmp_8_0=core.lcZ(28,24,ctx.subGroups$))||null==tmp_8_0.payload?null:tmp_8_0.payload.totalElements)>0),core.xp6(2),core.Q6J("ngIf",0==(null==(tmp_9_0=core.lcZ(30,26,ctx.subGroups$))||null==tmp_9_0.payload?null:tmp_9_0.payload.totalElements))}},"SubgroupsListComponent_Template"),directives:[fesm2015_forms._Y,fesm2015_forms.JL,fesm2015_forms.sg,fesm2015_forms.Fj,fesm2015_forms.JJ,fesm2015_forms.u,common.O5,pagination_component.Q,common.sg,router.yS],pipes:[ngx_translate_core.X$,common.Ov],encapsulation:2}),__name(GroupFormComponent_div_3_Template,"GroupFormComponent_div_3_Template"),__name(GroupFormComponent_ng_template_5_Template,"GroupFormComponent_ng_template_5_Template"),__name(GroupFormComponent_ng_template_7_Template,"GroupFormComponent_ng_template_7_Template"),__name(GroupFormComponent_ds_alert_9_Template,"GroupFormComponent_ds_alert_9_Template");const group_form_component_c0=__name(function(a0,a1,a2){return{name:a0,comcol:a1,comcolEditRolesRoute:a2}},"group_form_component_c0");function GroupFormComponent_ds_alert_10_Template(rf,ctx){if(1&rf&&(core._UZ(0,"ds-alert",15),core.ALo(1,"translate"),core.ALo(2,"async"),core.ALo(3,"async"),core.ALo(4,"async")),2&rf){const ctx_r6=core.oxw();let tmp_1_0;core.Q6J("type",ctx_r6.AlertTypeEnum.Warning)("content",core.xi3(1,2,ctx_r6.messagePrefix+".alert.workflowGroup",core.kEZ(11,group_form_component_c0,null==(tmp_1_0=core.lcZ(2,5,ctx_r6.getLinkedDSO(ctx_r6.groupBeingEdited)))||null==tmp_1_0.payload?null:tmp_1_0.payload.name,null==(tmp_1_0=core.lcZ(3,7,ctx_r6.getLinkedDSO(ctx_r6.groupBeingEdited)))||null==tmp_1_0.payload?null:tmp_1_0.payload.type,core.lcZ(4,9,ctx_r6.getLinkedEditRolesRoute(ctx_r6.groupBeingEdited)))))}}function GroupFormComponent_div_19_Template(rf,ctx){if(1&rf){const _r11=core.EpF();core.TgZ(0,"div",16)(1,"button",17),core.NdJ("click",__name(function(){return core.CHM(_r11),core.oxw().delete()},"GroupFormComponent_div_19_Template_button_click_1_listener")),core.ALo(2,"async"),core._UZ(3,"i",18),core._uU(4),core.ALo(5,"translate"),core.qZA()()}if(2&rf){const ctx_r7=core.oxw();core.xp6(1),core.Q6J("disabled",!core.lcZ(2,2,ctx_r7.canEdit$)||ctx_r7.groupBeingEdited.permanent),core.xp6(3),core.hij(" ",core.lcZ(5,4,ctx_r7.messagePrefix+".actions.delete")," ")}}function GroupFormComponent_ds_members_list_21_Template(rf,ctx){if(1&rf&&core._UZ(0,"ds-members-list",19),2&rf){const ctx_r8=core.oxw();core.Q6J("messagePrefix",ctx_r8.messagePrefix+".members-list")}}function GroupFormComponent_ds_subgroups_list_22_Template(rf,ctx){if(1&rf&&core._UZ(0,"ds-subgroups-list",19),2&rf){const ctx_r9=core.oxw();core.Q6J("messagePrefix",ctx_r9.messagePrefix+".subgroups-list")}}__name(GroupFormComponent_ds_alert_10_Template,"GroupFormComponent_ds_alert_10_Template"),__name(GroupFormComponent_div_19_Template,"GroupFormComponent_div_19_Template"),__name(GroupFormComponent_ds_members_list_21_Template,"GroupFormComponent_ds_members_list_21_Template"),__name(GroupFormComponent_ds_subgroups_list_22_Template,"GroupFormComponent_ds_subgroups_list_22_Template");class GroupFormComponent{constructor(groupDataService,ePersonDataService,dSpaceObjectDataService,formBuilderService,translateService,notificationsService,route,router2,authorizationService,modalService,requestService,changeDetectorRef){this.groupDataService=groupDataService,this.ePersonDataService=ePersonDataService,this.dSpaceObjectDataService=dSpaceObjectDataService,this.formBuilderService=formBuilderService,this.translateService=translateService,this.notificationsService=notificationsService,this.route=route,this.router=router2,this.authorizationService=authorizationService,this.modalService=modalService,this.requestService=requestService,this.changeDetectorRef=changeDetectorRef,this.messagePrefix="admin.access-control.groups.form",this.formId="group-form",this.formLayout={groupName:{grid:{host:"row"}},groupDescription:{grid:{host:"row"}}},this.submitForm=new core.vpe,this.cancelForm=new core.vpe,this.subs=[],this.AlertTypeEnum=aletr_type.N}ngOnInit(){this.initialisePage()}initialisePage(){this.subs.push(this.route.params.subscribe(params=>{"newGroup"!==params.groupId&&this.setActiveGroup(params.groupId)})),this.canEdit$=this.groupDataService.getActiveGroup().pipe((0,empty_util.tz)(),(0,operators.wt)(group=>(0,cjs.combineLatest)(this.authorizationService.isAuthorized(feature_id.i.CanDelete,(0,empty_util.UE)(group)?group.self:void 0),this.hasLinkedDSO(group),(isAuthorized,hasLinkedDSO)=>isAuthorized&&!hasLinkedDSO))),(0,cjs.combineLatest)(this.translateService.get(`${this.messagePrefix}.groupName`),this.translateService.get(`${this.messagePrefix}.groupCommunity`),this.translateService.get(`${this.messagePrefix}.groupDescription`)).subscribe(([groupName,groupCommunity,groupDescription])=>{this.groupName=new fesm2015_core.b1u({id:"groupName",label:groupName,name:"groupName",validators:{required:null},required:!0}),this.groupCommunity=new fesm2015_core.b1u({id:"groupCommunity",label:groupCommunity,name:"groupCommunity",required:!1,readOnly:!0}),this.groupDescription=new fesm2015_core.HBf({id:"groupDescription",label:groupDescription,name:"groupDescription",required:!1}),this.formModel=[this.groupName,this.groupDescription],this.formGroup=this.formBuilderService.createFormGroup(this.formModel),this.formGroup.controls.groupName&&(this.formGroup.controls.groupName.setAsyncValidators(ValidateGroupExists.createValidator(this.groupDataService)),this.groupNameValueChangeSubscribe=this.groupName.valueChanges.pipe((0,operators.bh)(300)).subscribe(()=>{this.changeDetectorRef.detectChanges()})),this.subs.push((0,cjs.combineLatest)(this.groupDataService.getActiveGroup(),this.canEdit$,this.groupDataService.getActiveGroup().pipe((0,operators.hX)(activeGroup=>(0,empty_util.Uh)(activeGroup)),(0,operators.wt)(activeGroup=>this.getLinkedDSO(activeGroup).pipe((0,shared_operators.Gp)())))).subscribe(([activeGroup,canEdit,linkedObject])=>{var _a;null!=activeGroup&&(this.formGroup.controls.groupName.clearAsyncValidators(),this.groupBeingEdited=activeGroup,(null==linkedObject?void 0:linkedObject.name)?(this.formBuilderService.insertFormGroupControl(1,this.formGroup,this.formModel,this.groupCommunity),this.formGroup.patchValue({groupName:activeGroup.name,groupCommunity:null!==(_a=null==linkedObject?void 0:linkedObject.name)&&void 0!==_a?_a:"",groupDescription:activeGroup.firstMetadataValue("dc.description")})):(this.formModel=[this.groupName,this.groupDescription],this.formGroup.patchValue({groupName:activeGroup.name,groupDescription:activeGroup.firstMetadataValue("dc.description")})),setTimeout(()=>{(!canEdit||activeGroup.permanent)&&this.formGroup.disable()},200))}))})}onCancel(){this.groupDataService.cancelEditGroup(),this.cancelForm.emit(),this.router.navigate([this.groupDataService.getGroupRegistryRouterLink()])}onSubmit(){this.groupDataService.getActiveGroup().pipe((0,operators.qn)(1)).subscribe(group=>{const values={name:this.groupName.value,metadata:{"dc.description":[{value:this.groupDescription.value}]}};null===group?this.createNewGroup(values):this.editGroup(group)})}createNewGroup(values){const groupToCreate=Object.assign(new group_model.Z,values);this.groupDataService.create(groupToCreate).pipe((0,shared_operators.hC)()).subscribe(rd=>{if(rd.hasSucceeded){if(this.notificationsService.success(this.translateService.get(this.messagePrefix+".notification.created.success",{name:groupToCreate.name})),this.submitForm.emit(groupToCreate),(0,empty_util.UE)(rd.payload)){const groupSelfLink=rd.payload._links.self.href;this.setActiveGroupWithLink(groupSelfLink),this.groupDataService.clearGroupsRequests(),this.router.navigateByUrl(this.groupDataService.getGroupEditPageRouterLinkWithID(rd.payload.uuid))}}else this.notificationsService.error(this.translateService.get(this.messagePrefix+".notification.created.failure",{name:groupToCreate.name})),this.showNotificationIfNameInUse(groupToCreate,"created"),this.cancelForm.emit()})}showNotificationIfNameInUse(group,notificationSection){this.subs.push(this.groupDataService.searchGroups(group.name,{currentPage:1,elementsPerPage:0}).pipe((0,shared_operators.xw)(),(0,shared_operators.xe)()).subscribe(list=>{list.totalElements>0&&this.notificationsService.error(this.translateService.get(this.messagePrefix+".notification."+notificationSection+".failure.groupNameInUse",{name:group.name}))}))}editGroup(group){let operations=[];(0,empty_util.Uh)(this.groupDescription.value)&&(operations=[...operations,{op:"replace",path:"/metadata/dc.description/0/value",value:this.groupDescription.value}]),(0,empty_util.Uh)(this.groupName.value)&&(operations=[...operations,{op:"replace",path:"/name",value:this.groupName.value}]),this.groupDataService.patch(group,operations).pipe((0,shared_operators.hC)()).subscribe(rd=>{rd.hasSucceeded?(this.notificationsService.success(this.translateService.get(this.messagePrefix+".notification.edited.success",{name:rd.payload.name})),this.submitForm.emit(rd.payload)):(this.notificationsService.error(this.translateService.get(this.messagePrefix+".notification.edited.failure",{name:group.name})),this.cancelForm.emit())})}setActiveGroup(groupId){this.groupDataService.cancelEditGroup(),this.groupDataService.findById(groupId).pipe((0,shared_operators.xw)(),(0,shared_operators.xe)()).subscribe(group=>{this.groupDataService.editGroup(group)})}setActiveGroupWithLink(groupSelfLink){this.groupDataService.getActiveGroup().pipe((0,operators.qn)(1)).subscribe(activeGroup=>{null===activeGroup&&(this.groupDataService.cancelEditGroup(),this.groupDataService.findByHref(groupSelfLink,!1,!1,(0,follow_link_config_model.l)("subgroups"),(0,follow_link_config_model.l)("epersons"),(0,follow_link_config_model.l)("object")).pipe((0,shared_operators.xw)(),(0,shared_operators.xe)()).subscribe(group=>{this.groupDataService.editGroup(group)}))})}delete(){this.groupDataService.getActiveGroup().pipe((0,operators.qn)(1)).subscribe(group=>{const modalRef=this.modalService.open(confirmation_modal_component.Y);modalRef.componentInstance.dso=group,modalRef.componentInstance.headerLabel=this.messagePrefix+".delete-group.modal.header",modalRef.componentInstance.infoLabel=this.messagePrefix+".delete-group.modal.info",modalRef.componentInstance.cancelLabel=this.messagePrefix+".delete-group.modal.cancel",modalRef.componentInstance.confirmLabel=this.messagePrefix+".delete-group.modal.confirm",modalRef.componentInstance.brandColor="danger",modalRef.componentInstance.confirmIcon="fas fa-trash",modalRef.componentInstance.response.pipe((0,operators.qn)(1)).subscribe(confirm=>{confirm&&(0,empty_util.Uh)(group.id)&&this.groupDataService.delete(group.id).pipe((0,shared_operators.hC)()).subscribe(rd=>{rd.hasSucceeded?(this.notificationsService.success(this.translateService.get(this.messagePrefix+".notification.deleted.success",{name:group.name})),this.onCancel()):this.notificationsService.error(this.translateService.get(this.messagePrefix+".notification.deleted.failure.title",{name:group.name}),this.translateService.get(this.messagePrefix+".notification.deleted.failure.content",{cause:rd.errorMessage}))})})})}ngOnDestroy(){this.groupDataService.cancelEditGroup(),this.subs.filter(sub=>(0,empty_util.Uh)(sub)).forEach(sub=>sub.unsubscribe()),(0,empty_util.Uh)(this.groupNameValueChangeSubscribe)&&this.groupNameValueChangeSubscribe.unsubscribe()}hasLinkedDSO(group){if((0,empty_util.Uh)(group)&&(0,empty_util.Uh)(group._links.object.href))return this.getLinkedDSO(group).pipe((0,operators.UI)(rd=>(0,empty_util.Uh)(rd)&&(0,empty_util.Uh)(rd.payload)),(0,operators.KQ)(()=>(0,cjs.of)(!1)))}getLinkedDSO(group){if((0,empty_util.Uh)(group)&&(0,empty_util.Uh)(group._links.object.href))return void 0===group.object?this.dSpaceObjectDataService.findByHref(group._links.object.href):group.object}getLinkedEditRolesRoute(group){if((0,empty_util.Uh)(group)&&(0,empty_util.Uh)(group._links.object.href))return this.getLinkedDSO(group).pipe((0,operators.UI)(rd=>{if((0,empty_util.Uh)(rd)&&(0,empty_util.Uh)(rd.payload))switch(rd.payload.type){case community_model.S.type.value:return(0,community_page_routing_paths.eq)(rd.payload.id);case collection_model.F.type.value:return(0,collection_page_routing_paths.Po)(rd.payload.id)}}))}}__name(GroupFormComponent,"GroupFormComponent"),GroupFormComponent.\u0275fac=__name(function(t){return new(t||GroupFormComponent)(core.Y36(group_data_service.O),core.Y36(eperson_data_service.k),core.Y36(dspace_object_data_service.D),core.Y36(form_builder_service.c),core.Y36(ngx_translate_core.sK),core.Y36(notifications_service.T),core.Y36(router.gz),core.Y36(router.F0),core.Y36(authorization_data_service._),core.Y36(ng_bootstrap.FF),core.Y36(request_service.s),core.Y36(core.sBO))},"GroupFormComponent_Factory"),GroupFormComponent.\u0275cmp=core.Xpm({type:GroupFormComponent,selectors:[["ds-group-form"]],hostBindings:__name(function(rf,ctx){1&rf&&core.NdJ("beforeunload",__name(function(){return ctx.ngOnDestroy()},"GroupFormComponent_beforeunload_HostBindingHandler"),!1,core.Jf7)},"GroupFormComponent_HostBindings"),outputs:{submitForm:"submitForm",cancelForm:"cancelForm"},decls:23,vars:22,consts:[[1,"container"],[1,"group-form","row"],[1,"col-12"],[4,"ngIf","ngIfThen","ngIfElse"],["createHeader",""],["editheader",""],[3,"type","content",4,"ngIf"],[3,"formId","formModel","formGroup","formLayout","displayCancel","submitForm"],["before","",1,"btn-group"],[1,"btn","btn-outline-secondary",3,"click"],[1,"fas","fa-arrow-left"],["after","","class","btn-group",4,"ngIf"],[1,"mb-5"],[3,"messagePrefix",4,"ngIf"],[1,"border-bottom","pb-2"],[3,"type","content"],["after","",1,"btn-group"],[1,"btn","btn-danger","delete-button",3,"disabled","click"],[1,"fa","fa-trash"],[3,"messagePrefix"]],template:__name(function(rf,ctx){if(1&rf&&(core.TgZ(0,"div",0)(1,"div",1)(2,"div",2),core.YNc(3,GroupFormComponent_div_3_Template,1,0,"div",3),core.ALo(4,"async"),core.YNc(5,GroupFormComponent_ng_template_5_Template,3,3,"ng-template",null,4,core.W1O),core.YNc(7,GroupFormComponent_ng_template_7_Template,3,3,"ng-template",null,5,core.W1O),core.YNc(9,GroupFormComponent_ds_alert_9_Template,1,2,"ds-alert",6),core.YNc(10,GroupFormComponent_ds_alert_10_Template,5,15,"ds-alert",6),core.ALo(11,"async"),core.ALo(12,"async"),core.TgZ(13,"ds-form",7),core.NdJ("submitForm",__name(function(){return ctx.onSubmit()},"GroupFormComponent_Template_ds_form_submitForm_13_listener")),core.TgZ(14,"div",8)(15,"button",9),core.NdJ("click",__name(function(){return ctx.onCancel()},"GroupFormComponent_Template_button_click_15_listener")),core._UZ(16,"i",10),core._uU(17),core.ALo(18,"translate"),core.qZA()(),core.YNc(19,GroupFormComponent_div_19_Template,6,6,"div",11),core.qZA(),core.TgZ(20,"div",12),core.YNc(21,GroupFormComponent_ds_members_list_21_Template,1,1,"ds-members-list",13),core.qZA(),core.YNc(22,GroupFormComponent_ds_subgroups_list_22_Template,1,1,"ds-subgroups-list",13),core.qZA()()()),2&rf){const _r1=core.MAs(6),_r3=core.MAs(8);core.xp6(3),core.Q6J("ngIf",core.lcZ(4,14,ctx.groupDataService.getActiveGroup()))("ngIfThen",_r3)("ngIfElse",_r1),core.xp6(6),core.Q6J("ngIf",null==ctx.groupBeingEdited?null:ctx.groupBeingEdited.permanent),core.xp6(1),core.Q6J("ngIf",!core.lcZ(11,16,ctx.canEdit$)&&core.lcZ(12,18,ctx.groupDataService.getActiveGroup())),core.xp6(3),core.Q6J("formId",ctx.formId)("formModel",ctx.formModel)("formGroup",ctx.formGroup)("formLayout",ctx.formLayout)("displayCancel",!1),core.xp6(4),core.hij(" ",core.lcZ(18,20,ctx.messagePrefix+".return"),""),core.xp6(2),core.Q6J("ngIf",null!=ctx.groupBeingEdited),core.xp6(2),core.Q6J("ngIf",null!=ctx.groupBeingEdited),core.xp6(1),core.Q6J("ngIf",null!=ctx.groupBeingEdited)}},"GroupFormComponent_Template"),directives:[common.O5,alert_component.w,form_component.U,fesm2015_forms.JL,fesm2015_forms.sg,MembersListComponent,SubgroupsListComponent],pipes:[common.Ov,ngx_translate_core.X$],encapsulation:2});class GroupDtoModel{}__name(GroupDtoModel,"GroupDtoModel");var route_service=__webpack_require__(5360);function GroupsRegistryComponent_ds_themed_loading_31_Template(rf,ctx){1&rf&&core._UZ(0,"ds-themed-loading")}__name(GroupsRegistryComponent_ds_themed_loading_31_Template,"GroupsRegistryComponent_ds_themed_loading_31_Template");const groups_registry_component_c0=__name(function(a0){return{name:a0}},"groups_registry_component_c0");function GroupsRegistryComponent_ds_pagination_33_tr_22_button_13_Template(rf,ctx){if(1&rf&&(core.TgZ(0,"button",30),core.ALo(1,"translate"),core._UZ(2,"i",31),core.qZA()),2&rf){const groupDto_r4=core.oxw().$implicit,ctx_r5=core.oxw(2);core.s9C("title",core.xi3(1,2,ctx_r5.messagePrefix+"table.edit.buttons.edit",core.VKq(5,groups_registry_component_c0,groupDto_r4.group.name))),core.Q6J("routerLink",ctx_r5.groupService.getGroupEditPageRouterLink(groupDto_r4.group))}}function GroupsRegistryComponent_ds_pagination_33_tr_22_button_14_Template(rf,ctx){1&rf&&(core.TgZ(0,"button",32),core.ALo(1,"translate"),core._UZ(2,"i",31),core.qZA()),2&rf&&core.Q6J("disabled",!0)("ngbTooltip",core.lcZ(1,2,"admin.access-control.epeople.table.edit.buttons.edit-disabled"))}function GroupsRegistryComponent_ds_pagination_33_tr_22_button_15_Template(rf,ctx){if(1&rf){const _r11=core.EpF();core.TgZ(0,"button",33),core.NdJ("click",__name(function(){core.CHM(_r11);const groupDto_r4=core.oxw().$implicit;return core.oxw(2).deleteGroup(groupDto_r4)},"GroupsRegistryComponent_ds_pagination_33_tr_22_button_15_Template_button_click_0_listener")),core.ALo(1,"translate"),core._UZ(2,"i",34),core.qZA()}if(2&rf){const groupDto_r4=core.oxw().$implicit,ctx_r7=core.oxw(2);core.s9C("title",core.xi3(1,1,ctx_r7.messagePrefix+"table.edit.buttons.remove",core.VKq(4,groups_registry_component_c0,groupDto_r4.group.name)))}}function GroupsRegistryComponent_ds_pagination_33_tr_22_Template(rf,ctx){if(1&rf&&(core.TgZ(0,"tr")(1,"td"),core._uU(2),core.qZA(),core.TgZ(3,"td"),core._uU(4),core.qZA(),core.TgZ(5,"td"),core._uU(6),core.ALo(7,"async"),core.qZA(),core.TgZ(8,"td"),core._uU(9),core.qZA(),core.TgZ(10,"td")(11,"div",25),core.ynx(12,26),core.YNc(13,GroupsRegistryComponent_ds_pagination_33_tr_22_button_13_Template,3,7,"button",27),core.YNc(14,GroupsRegistryComponent_ds_pagination_33_tr_22_button_14_Template,3,4,"button",28),core.BQk(),core.YNc(15,GroupsRegistryComponent_ds_pagination_33_tr_22_button_15_Template,3,6,"button",29),core.qZA()()()),2&rf){const groupDto_r4=ctx.$implicit;let tmp_2_0;core.xp6(2),core.Oqu(groupDto_r4.group.id),core.xp6(2),core.Oqu(groupDto_r4.group.name),core.xp6(2),core.Oqu(null==(tmp_2_0=core.lcZ(7,8,groupDto_r4.group.object))||null==tmp_2_0.payload?null:tmp_2_0.payload.name),core.xp6(3),core.Oqu((null==groupDto_r4.epersons?null:groupDto_r4.epersons.totalElements)+(null==groupDto_r4.subgroups?null:groupDto_r4.subgroups.totalElements)),core.xp6(3),core.Q6J("ngSwitch",groupDto_r4.ableToEdit),core.xp6(1),core.Q6J("ngSwitchCase",!0),core.xp6(1),core.Q6J("ngSwitchCase",!1),core.xp6(1),core.Q6J("ngIf",!(null!=groupDto_r4.group&&groupDto_r4.group.permanent)&&groupDto_r4.ableToDelete)}}function GroupsRegistryComponent_ds_pagination_33_Template(rf,ctx){if(1&rf&&(core.TgZ(0,"ds-pagination",20),core.ALo(1,"async"),core.TgZ(2,"div",21)(3,"table",22)(4,"thead")(5,"tr")(6,"th",23),core._uU(7),core.ALo(8,"translate"),core.qZA(),core.TgZ(9,"th",23),core._uU(10),core.ALo(11,"translate"),core.qZA(),core.TgZ(12,"th",23),core._uU(13),core.ALo(14,"translate"),core.qZA(),core.TgZ(15,"th",23),core._uU(16),core.ALo(17,"translate"),core.qZA(),core.TgZ(18,"th"),core._uU(19),core.ALo(20,"translate"),core.qZA()()(),core.TgZ(21,"tbody"),core.YNc(22,GroupsRegistryComponent_ds_pagination_33_tr_22_Template,16,10,"tr",24),core.ALo(23,"async"),core.qZA()()()()),2&rf){const ctx_r1=core.oxw();let tmp_2_0,tmp_10_0;core.Q6J("paginationOptions",ctx_r1.config)("pageInfoState",ctx_r1.pageInfoState$)("collectionSize",null==(tmp_2_0=core.lcZ(1,11,ctx_r1.pageInfoState$))?null:tmp_2_0.totalElements)("hideGear",!0)("hidePagerWhenSinglePage",!0),core.xp6(7),core.Oqu(core.lcZ(8,13,ctx_r1.messagePrefix+"table.id")),core.xp6(3),core.Oqu(core.lcZ(11,15,ctx_r1.messagePrefix+"table.name")),core.xp6(3),core.Oqu(core.lcZ(14,17,ctx_r1.messagePrefix+"table.collectionOrCommunity")),core.xp6(3),core.Oqu(core.lcZ(17,19,ctx_r1.messagePrefix+"table.members")),core.xp6(3),core.Oqu(core.lcZ(20,21,ctx_r1.messagePrefix+"table.edit")),core.xp6(3),core.Q6J("ngForOf",null==(tmp_10_0=core.lcZ(23,23,ctx_r1.groupsDto$))?null:tmp_10_0.page)}}function GroupsRegistryComponent_div_36_Template(rf,ctx){if(1&rf&&(core.TgZ(0,"div",35),core._uU(1),core.ALo(2,"translate"),core.qZA()),2&rf){const ctx_r2=core.oxw();core.xp6(1),core.hij(" ",core.lcZ(2,1,ctx_r2.messagePrefix+"no-items")," ")}}__name(GroupsRegistryComponent_ds_pagination_33_tr_22_button_13_Template,"GroupsRegistryComponent_ds_pagination_33_tr_22_button_13_Template"),__name(GroupsRegistryComponent_ds_pagination_33_tr_22_button_14_Template,"GroupsRegistryComponent_ds_pagination_33_tr_22_button_14_Template"),__name(GroupsRegistryComponent_ds_pagination_33_tr_22_button_15_Template,"GroupsRegistryComponent_ds_pagination_33_tr_22_button_15_Template"),__name(GroupsRegistryComponent_ds_pagination_33_tr_22_Template,"GroupsRegistryComponent_ds_pagination_33_tr_22_Template"),__name(GroupsRegistryComponent_ds_pagination_33_Template,"GroupsRegistryComponent_ds_pagination_33_Template"),__name(GroupsRegistryComponent_div_36_Template,"GroupsRegistryComponent_div_36_Template");const groups_registry_component_c1=__name(function(){return["newGroup"]},"groups_registry_component_c1");class GroupsRegistryComponent{constructor(groupService,ePersonDataService,dSpaceObjectDataService,translateService,notificationsService,formBuilder,routeService,router2,authorizationService,paginationService,requestService){this.groupService=groupService,this.ePersonDataService=ePersonDataService,this.dSpaceObjectDataService=dSpaceObjectDataService,this.translateService=translateService,this.notificationsService=notificationsService,this.formBuilder=formBuilder,this.routeService=routeService,this.router=router2,this.authorizationService=authorizationService,this.paginationService=paginationService,this.requestService=requestService,this.messagePrefix="admin.access-control.groups.",this.config=Object.assign(new pagination_component_options_model.r,{id:"gl",pageSize:5,currentPage:1}),this.groupsDto$=new cjs.BehaviorSubject({}),this.deletedGroupsIds=[],this.pageInfoState$=new cjs.BehaviorSubject(void 0),this.loading$=new cjs.BehaviorSubject(!1),this.subs=[],this.currentSearchQuery="",this.searchForm=this.formBuilder.group({query:this.currentSearchQuery})}ngOnInit(){this.search({query:this.currentSearchQuery})}search(data){(0,empty_util.Uh)(this.searchSub)&&(this.searchSub.unsubscribe(),this.subs=this.subs.filter(sub=>sub!==this.searchSub)),this.searchSub=this.paginationService.getCurrentPagination(this.config.id,this.config).pipe((0,operators.bw)(()=>this.loading$.next(!0)),(0,operators.wt)(paginationOptions=>{const query=data.query;return null!=query&&this.currentSearchQuery!==query&&(this.currentSearchQuery=query,this.paginationService.updateRouteWithUrl(this.config.id,[],{page:1})),this.groupService.searchGroups(this.currentSearchQuery.trim(),{currentPage:paginationOptions.currentPage,elementsPerPage:paginationOptions.pageSize},!0,!0,(0,follow_link_config_model.l)("object"))}),(0,shared_operators.g1)(),(0,shared_operators.xe)(),(0,operators.wt)(groups=>0===groups.page.length?(0,cjs.of)((0,paginated_list_model.b)(groups.pageInfo,[])):this.authorizationService.isAuthorized(feature_id.i.AdministratorOf).pipe((0,operators.wt)(isSiteAdmin=>(0,cjs.combineLatest)([...groups.page.map(group=>(0,empty_util.Uh)(group)&&!this.deletedGroupsIds.includes(group.id)?(0,cjs.combineLatest)([this.authorizationService.isAuthorized(feature_id.i.CanDelete,group.self),this.canManageGroup$(isSiteAdmin,group),this.hasLinkedDSO(group),this.getSubgroups(group),this.getMembers(group)]).pipe((0,operators.UI)(([canDelete,canManageGroup,hasLinkedDSO,subgroups,members])=>{const groupDtoModel=new GroupDtoModel;return groupDtoModel.ableToDelete=canDelete&&!hasLinkedDSO,groupDtoModel.ableToEdit=canManageGroup,groupDtoModel.group=group,groupDtoModel.subgroups=subgroups.payload,groupDtoModel.epersons=members.payload,groupDtoModel})):cjs.EMPTY)]).pipe((0,operators.dL)([]),(0,operators.UI)(dtos=>(0,paginated_list_model.b)(groups.pageInfo,dtos))))))).subscribe(value=>{this.groupsDto$.next(value),this.pageInfoState$.next(value.pageInfo),this.loading$.next(!1)}),this.subs.push(this.searchSub)}canManageGroup$(isSiteAdmin,group){return isSiteAdmin?(0,cjs.of)(!0):this.authorizationService.isAuthorized(feature_id.i.CanManageGroup,group.self)}deleteGroup(group){(0,empty_util.Uh)(group.group.id)&&this.groupService.delete(group.group.id).pipe((0,shared_operators.hC)()).subscribe(rd=>{rd.hasSucceeded?(this.deletedGroupsIds=[...this.deletedGroupsIds,group.group.id],this.notificationsService.success(this.translateService.get(this.messagePrefix+"notification.deleted.success",{name:group.group.name}))):this.notificationsService.error(this.translateService.get(this.messagePrefix+"notification.deleted.failure.title",{name:group.group.name}),this.translateService.get(this.messagePrefix+"notification.deleted.failure.content",{cause:rd.errorMessage}))})}getMembers(group){return this.ePersonDataService.findListByHref(group._links.epersons.href).pipe((0,shared_operators.xw)())}getSubgroups(group){return this.groupService.findListByHref(group._links.subgroups.href).pipe((0,shared_operators.xw)())}hasLinkedDSO(group){return this.dSpaceObjectDataService.findByHref(group._links.object.href).pipe((0,shared_operators.xw)(),(0,operators.UI)(rd=>(0,empty_util.Uh)(rd)&&(0,empty_util.Uh)(rd.payload)),(0,operators.KQ)(()=>(0,cjs.of)(!1)))}clearFormAndResetResult(){this.searchForm.patchValue({query:""}),this.search({query:""})}ngOnDestroy(){this.cleanupSubscribes(),this.paginationService.clearPagination(this.config.id)}cleanupSubscribes(){(0,empty_util.Uh)(this.paginationSub)&&this.paginationSub.unsubscribe(),this.subs.filter(sub=>(0,empty_util.Uh)(sub)).forEach(sub=>sub.unsubscribe()),this.paginationService.clearPagination(this.config.id)}}__name(GroupsRegistryComponent,"GroupsRegistryComponent"),GroupsRegistryComponent.\u0275fac=__name(function(t){return new(t||GroupsRegistryComponent)(core.Y36(group_data_service.O),core.Y36(eperson_data_service.k),core.Y36(dspace_object_data_service.D),core.Y36(ngx_translate_core.sK),core.Y36(notifications_service.T),core.Y36(fesm2015_forms.qu),core.Y36(route_service.MZ),core.Y36(router.F0),core.Y36(authorization_data_service._),core.Y36(pagination_service.N),core.Y36(request_service.s))},"GroupsRegistryComponent_Factory"),GroupsRegistryComponent.\u0275cmp=core.Xpm({type:GroupsRegistryComponent,selectors:[["ds-groups-registry"]],decls:38,vars:35,consts:[[1,"container"],[1,"groups-registry","row"],[1,"col-12"],[1,"d-flex","justify-content-between","border-bottom","mb-3"],["id","header",1,"pb-2"],[1,"mr-auto","btn","btn-success",3,"routerLink"],[1,"fas","fa-plus"],[1,"d-none","d-sm-inline"],["id","search",1,"border-bottom","pb-2"],[1,"d-flex","justify-content-between",3,"formGroup","ngSubmit"],[1,"flex-grow-1","mr-3"],[1,"form-group","input-group"],["type","text","name","query","id","query","formControlName","query",1,"form-control",3,"placeholder"],[1,"input-group-append"],["type","submit",1,"search-button","btn","btn-primary"],[1,"fas","fa-search"],[1,"btn","btn-secondary",3,"click"],[4,"ngIf"],[3,"paginationOptions","pageInfoState","collectionSize","hideGear","hidePagerWhenSinglePage",4,"ngIf"],["class","alert alert-info w-100 mb-2","role","alert",4,"ngIf"],[3,"paginationOptions","pageInfoState","collectionSize","hideGear","hidePagerWhenSinglePage"],[1,"table-responsive"],["id","groups",1,"table","table-striped","table-hover","table-bordered"],["scope","col"],[4,"ngFor","ngForOf"],[1,"btn-group","edit-field"],[3,"ngSwitch"],["class","btn btn-outline-primary btn-sm btn-edit",3,"routerLink","title",4,"ngSwitchCase"],["class","btn btn-outline-primary btn-sm btn-edit","placement","left",3,"disabled","ngbTooltip",4,"ngSwitchCase"],["class","btn btn-outline-danger btn-sm btn-delete",3,"title","click",4,"ngIf"],[1,"btn","btn-outline-primary","btn-sm","btn-edit",3,"routerLink","title"],[1,"fas","fa-edit","fa-fw"],["placement","left",1,"btn","btn-outline-primary","btn-sm","btn-edit",3,"disabled","ngbTooltip"],[1,"btn","btn-outline-danger","btn-sm","btn-delete",3,"title","click"],[1,"fas","fa-trash-alt","fa-fw"],["role","alert",1,"alert","alert-info","w-100","mb-2"]],template:__name(function(rf,ctx){if(1&rf&&(core.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h2",4),core._uU(5),core.ALo(6,"translate"),core.qZA(),core.TgZ(7,"div")(8,"button",5),core._UZ(9,"i",6),core.TgZ(10,"span",7),core._uU(11),core.ALo(12,"translate"),core.qZA()()()(),core.TgZ(13,"h3",8),core._uU(14),core.ALo(15,"translate"),core.qZA(),core.TgZ(16,"form",9),core.NdJ("ngSubmit",__name(function(){return ctx.search(ctx.searchForm.value)},"GroupsRegistryComponent_Template_form_ngSubmit_16_listener")),core.TgZ(17,"div",10)(18,"div",11),core._UZ(19,"input",12),core.ALo(20,"translate"),core.ALo(21,"translate"),core.TgZ(22,"span",13)(23,"button",14),core._UZ(24,"i",15),core._uU(25),core.ALo(26,"translate"),core.qZA()()()(),core.TgZ(27,"div")(28,"button",16),core.NdJ("click",__name(function(){return ctx.clearFormAndResetResult()},"GroupsRegistryComponent_Template_button_click_28_listener")),core._uU(29),core.ALo(30,"translate"),core.qZA()()(),core.YNc(31,GroupsRegistryComponent_ds_themed_loading_31_Template,1,0,"ds-themed-loading",17),core.ALo(32,"async"),core.YNc(33,GroupsRegistryComponent_ds_pagination_33_Template,24,25,"ds-pagination",18),core.ALo(34,"async"),core.ALo(35,"async"),core.YNc(36,GroupsRegistryComponent_div_36_Template,3,3,"div",19),core.ALo(37,"async"),core.qZA()()()),2&rf){let tmp_10_0,tmp_11_0;core.xp6(5),core.Oqu(core.lcZ(6,12,ctx.messagePrefix+"head")),core.xp6(3),core.Q6J("routerLink",core.DdM(34,groups_registry_component_c1)),core.xp6(3),core.Oqu(core.lcZ(12,14,ctx.messagePrefix+"button.add")),core.xp6(3),core.Oqu(core.lcZ(15,16,ctx.messagePrefix+"search.head")),core.xp6(2),core.Q6J("formGroup",ctx.searchForm),core.xp6(3),core.Q6J("placeholder",core.lcZ(21,20,ctx.messagePrefix+"search.placeholder")),core.uIk("aria-label",core.lcZ(20,18,ctx.messagePrefix+"search.placeholder")),core.xp6(6),core.hij(" ",core.lcZ(26,22,ctx.messagePrefix+"search.button")," "),core.xp6(4),core.hij(" ",core.lcZ(30,24,ctx.messagePrefix+"button.see-all")," "),core.xp6(2),core.Q6J("ngIf",core.lcZ(32,26,ctx.loading$)),core.xp6(2),core.Q6J("ngIf",(null==(tmp_10_0=core.lcZ(34,28,ctx.pageInfoState$))?null:tmp_10_0.totalElements)>0&&!core.lcZ(35,30,ctx.loading$)),core.xp6(3),core.Q6J("ngIf",0==(null==(tmp_11_0=core.lcZ(37,32,ctx.pageInfoState$))?null:tmp_11_0.totalElements))}},"GroupsRegistryComponent_Template"),directives:[router.rH,fesm2015_forms._Y,fesm2015_forms.JL,fesm2015_forms.sg,fesm2015_forms.Fj,fesm2015_forms.JJ,fesm2015_forms.u,common.O5,themed_loading_component.Z,pagination_component.Q,common.sg,common.RF,common.n9,ng_bootstrap._L],pipes:[ngx_translate_core.X$,common.Ov],encapsulation:2});var access_control_routing_paths=__webpack_require__(92414),i18n_breadcrumb_resolver=__webpack_require__(98655),some_feature_authorization_guard=__webpack_require__(89141),hal_endpoint_service=__webpack_require__(93498);class GroupPageGuard extends some_feature_authorization_guard.I{constructor(halEndpointService,authorizationService,router2,authService){super(authorizationService,router2,authService),this.halEndpointService=halEndpointService,this.authorizationService=authorizationService,this.router=router2,this.authService=authService,this.groupsEndpoint="groups"}getFeatureIDs(route,state){return(0,cjs.of)([feature_id.i.CanManageGroup])}getObjectUrl(route,state){return this.halEndpointService.getEndpoint(this.groupsEndpoint).pipe((0,operators.UI)(groupsUrl=>{var _a;return`${groupsUrl}/${null===(_a=null==route?void 0:route.params)||void 0===_a?void 0:_a.groupId}`}))}}__name(GroupPageGuard,"GroupPageGuard"),GroupPageGuard.\u0275fac=__name(function(t){return new(t||GroupPageGuard)(core.LFG(hal_endpoint_service.q),core.LFG(authorization_data_service._),core.LFG(router.F0),core.LFG(auth_service.e8))},"GroupPageGuard_Factory"),GroupPageGuard.\u0275prov=core.Yz7({token:GroupPageGuard,factory:GroupPageGuard.\u0275fac,providedIn:"root"});var group_administrator_guard=__webpack_require__(20066),site_administrator_guard=__webpack_require__(97874);class AccessControlRoutingModule{}__name(AccessControlRoutingModule,"AccessControlRoutingModule"),AccessControlRoutingModule.\u0275fac=__name(function(t){return new(t||AccessControlRoutingModule)},"AccessControlRoutingModule_Factory"),AccessControlRoutingModule.\u0275mod=core.oAB({type:AccessControlRoutingModule}),AccessControlRoutingModule.\u0275inj=core.cJS({imports:[[router.Bz.forChild([{path:"epeople",component:EPeopleRegistryComponent,resolve:{breadcrumb:i18n_breadcrumb_resolver.t},data:{title:"admin.access-control.epeople.title",breadcrumbKey:"admin.access-control.epeople"},canActivate:[site_administrator_guard.X]},{path:access_control_routing_paths.CH,component:GroupsRegistryComponent,resolve:{breadcrumb:i18n_breadcrumb_resolver.t},data:{title:"admin.access-control.groups.title",breadcrumbKey:"admin.access-control.groups"},canActivate:[group_administrator_guard.E]},{path:`${access_control_routing_paths.CH}/newGroup`,component:GroupFormComponent,resolve:{breadcrumb:i18n_breadcrumb_resolver.t},data:{title:"admin.access-control.groups.title.addGroup",breadcrumbKey:"admin.access-control.groups.addGroup"},canActivate:[group_administrator_guard.E]},{path:`${access_control_routing_paths.CH}/:groupId`,component:GroupFormComponent,resolve:{breadcrumb:i18n_breadcrumb_resolver.t},data:{title:"admin.access-control.groups.title.singleGroup",breadcrumbKey:"admin.access-control.groups.singleGroup"},canActivate:[GroupPageGuard]}])]]});var form_module=__webpack_require__(10194);class AccessControlModule{}__name(AccessControlModule,"AccessControlModule"),AccessControlModule.\u0275fac=__name(function(t){return new(t||AccessControlModule)},"AccessControlModule_Factory"),AccessControlModule.\u0275mod=core.oAB({type:AccessControlModule}),AccessControlModule.\u0275inj=core.cJS({imports:[[common.ez,shared_module.m,router.Bz,AccessControlRoutingModule,form_module.e]]})},8824:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{T:()=>BITSTREAMFORMATS_MODULE_PATH,e:()=>getBitstreamFormatsModuleRoute});var _core_url_combiner_url_combiner__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(23631),_admin_routing_paths__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(10047);const BITSTREAMFORMATS_MODULE_PATH="bitstream-formats";function getBitstreamFormatsModuleRoute(){return new _core_url_combiner_url_combiner__WEBPACK_IMPORTED_MODULE_1__.R((0,_admin_routing_paths__WEBPACK_IMPORTED_MODULE_0__.T)(),BITSTREAMFORMATS_MODULE_PATH).toString()}__name(getBitstreamFormatsModuleRoute,"getBitstreamFormatsModuleRoute")},20110:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{AdminRegistriesModule:()=>AdminRegistriesModule});var registry_service=__webpack_require__(45879),cjs=__webpack_require__(76477),pagination_component_options_model=__webpack_require__(26638),operators=__webpack_require__(83292),empty_util=__webpack_require__(24702),notifications_service=__webpack_require__(82596),find_list_options_model=__webpack_require__(17481);function toFindListOptions(pagination,original){return Object.assign(new find_list_options_model.R,original,{currentPage:pagination.currentPage,elementsPerPage:pagination.pageSize})}__name(toFindListOptions,"toFindListOptions");var shared_operators=__webpack_require__(13730),pagination_service=__webpack_require__(77467),core=__webpack_require__(5e3),router=__webpack_require__(74202),ngx_translate_core=__webpack_require__(42466),fesm2015_core=__webpack_require__(87098),form_builder_service=__webpack_require__(71022),metadata_schema_model=__webpack_require__(43061),common=__webpack_require__(69808),form_component=__webpack_require__(63311),fesm2015_forms=__webpack_require__(93075);function MetadataSchemaFormComponent_div_0_Template(rf,ctx){1&rf&&core._UZ(0,"div")}function MetadataSchemaFormComponent_ng_template_2_Template(rf,ctx){if(1&rf&&(core.TgZ(0,"h4"),core._uU(1),core.ALo(2,"translate"),core.qZA()),2&rf){const ctx_r2=core.oxw();core.xp6(1),core.Oqu(core.lcZ(2,1,ctx_r2.messagePrefix+".create"))}}function MetadataSchemaFormComponent_ng_template_4_Template(rf,ctx){if(1&rf&&(core.TgZ(0,"h4"),core._uU(1),core.ALo(2,"translate"),core.qZA()),2&rf){const ctx_r4=core.oxw();core.xp6(1),core.Oqu(core.lcZ(2,1,ctx_r4.messagePrefix+".edit"))}}__name(MetadataSchemaFormComponent_div_0_Template,"MetadataSchemaFormComponent_div_0_Template"),__name(MetadataSchemaFormComponent_ng_template_2_Template,"MetadataSchemaFormComponent_ng_template_2_Template"),__name(MetadataSchemaFormComponent_ng_template_4_Template,"MetadataSchemaFormComponent_ng_template_4_Template");class MetadataSchemaFormComponent{constructor(registryService,formBuilderService,translateService){this.registryService=registryService,this.formBuilderService=formBuilderService,this.translateService=translateService,this.formId="metadata-schema-form",this.messagePrefix="admin.registries.metadata.form",this.formLayout={name:{grid:{host:"col col-sm-6 d-inline-block"}},namespace:{grid:{host:"col col-sm-6 d-inline-block"}}},this.submitForm=new core.vpe}ngOnInit(){(0,cjs.combineLatest)(this.translateService.get(`${this.messagePrefix}.name`),this.translateService.get(`${this.messagePrefix}.namespace`)).subscribe(([name,namespace])=>{this.name=new fesm2015_core.b1u({id:"name",label:name,name:"name",validators:{required:null,pattern:"^[^ ,_]{1,32}$"},required:!0}),this.namespace=new fesm2015_core.b1u({id:"namespace",label:namespace,name:"namespace",validators:{required:null},required:!0}),this.formModel=[new fesm2015_core.S_O({id:"metadatadataschemagroup",group:[this.namespace,this.name]})],this.formGroup=this.formBuilderService.createFormGroup(this.formModel),this.registryService.getActiveMetadataSchema().subscribe(schema=>{this.formGroup.patchValue({metadatadataschemagroup:{name:null!=schema?schema.prefix:"",namespace:null!=schema?schema.namespace:""}})})})}onCancel(){this.registryService.cancelEditMetadataSchema()}onSubmit(){this.registryService.clearMetadataSchemaRequests().subscribe(),this.registryService.getActiveMetadataSchema().pipe((0,operators.qn)(1)).subscribe(schema=>{const values={prefix:this.name.value,namespace:this.namespace.value};null==schema?this.registryService.createOrUpdateMetadataSchema(Object.assign(new metadata_schema_model.B,values)).subscribe(newSchema=>{this.submitForm.emit(newSchema)}):this.registryService.createOrUpdateMetadataSchema(Object.assign(new metadata_schema_model.B,schema,{id:schema.id,prefix:values.prefix?values.prefix:schema.prefix,namespace:values.namespace?values.namespace:schema.namespace})).subscribe(updatedSchema=>{this.submitForm.emit(updatedSchema)}),this.clearFields(),this.registryService.cancelEditMetadataSchema()})}clearFields(){this.formGroup.patchValue({metadatadataschemagroup:{prefix:"",namespace:""}})}ngOnDestroy(){this.onCancel()}}__name(MetadataSchemaFormComponent,"MetadataSchemaFormComponent"),MetadataSchemaFormComponent.\u0275fac=__name(function(t){return new(t||MetadataSchemaFormComponent)(core.Y36(registry_service.k),core.Y36(form_builder_service.c),core.Y36(ngx_translate_core.sK))},"MetadataSchemaFormComponent_Factory"),MetadataSchemaFormComponent.\u0275cmp=core.Xpm({type:MetadataSchemaFormComponent,selectors:[["ds-metadata-schema-form"]],outputs:{submitForm:"submitForm"},decls:7,vars:9,consts:[[4,"ngIf","ngIfThen","ngIfElse"],["createHeader",""],["editheader",""],[3,"formId","formModel","formGroup","formLayout","cancel","submitForm"]],template:__name(function(rf,ctx){if(1&rf&&(core.YNc(0,MetadataSchemaFormComponent_div_0_Template,1,0,"div",0),core.ALo(1,"async"),core.YNc(2,MetadataSchemaFormComponent_ng_template_2_Template,3,3,"ng-template",null,1,core.W1O),core.YNc(4,MetadataSchemaFormComponent_ng_template_4_Template,3,3,"ng-template",null,2,core.W1O),core.TgZ(6,"ds-form",3),core.NdJ("cancel",__name(function(){return ctx.onCancel()},"MetadataSchemaFormComponent_Template_ds_form_cancel_6_listener"))("submitForm",__name(function(){return ctx.onSubmit()},"MetadataSchemaFormComponent_Template_ds_form_submitForm_6_listener")),core.qZA()),2&rf){const _r1=core.MAs(3),_r3=core.MAs(5);core.Q6J("ngIf",core.lcZ(1,7,ctx.registryService.getActiveMetadataSchema()))("ngIfThen",_r3)("ngIfElse",_r1),core.xp6(6),core.Q6J("formId",ctx.formId)("formModel",ctx.formModel)("formGroup",ctx.formGroup)("formLayout",ctx.formLayout)}},"MetadataSchemaFormComponent_Template"),directives:[common.O5,form_component.U,fesm2015_forms.JL,fesm2015_forms.sg],pipes:[common.Ov,ngx_translate_core.X$],encapsulation:2});var pagination_component=__webpack_require__(62697);const _c0=__name(function(a0){return{"table-primary":a0}},"_c0"),_c1=__name(function(a0){return[a0]},"_c1");function MetadataRegistryComponent_ds_pagination_10_tr_17_Template(rf,ctx){if(1&rf){const _r6=core.EpF();core.TgZ(0,"tr",14),core.ALo(1,"async"),core.TgZ(2,"td")(3,"label")(4,"input",15),core.NdJ("change",__name(function($event){const schema_r4=core.CHM(_r6).$implicit;return core.oxw(2).selectMetadataSchema(schema_r4,$event)},"MetadataRegistryComponent_ds_pagination_10_tr_17_Template_input_change_4_listener")),core.ALo(5,"async"),core.qZA()()(),core.TgZ(6,"td",16),core.NdJ("click",__name(function(){const schema_r4=core.CHM(_r6).$implicit;return core.oxw(2).editSchema(schema_r4)},"MetadataRegistryComponent_ds_pagination_10_tr_17_Template_td_click_6_listener")),core.TgZ(7,"a",17),core._uU(8),core.qZA()(),core.TgZ(9,"td",16),core.NdJ("click",__name(function(){const schema_r4=core.CHM(_r6).$implicit;return core.oxw(2).editSchema(schema_r4)},"MetadataRegistryComponent_ds_pagination_10_tr_17_Template_td_click_9_listener")),core.TgZ(10,"a",17),core._uU(11),core.qZA()(),core.TgZ(12,"td",16),core.NdJ("click",__name(function(){const schema_r4=core.CHM(_r6).$implicit;return core.oxw(2).editSchema(schema_r4)},"MetadataRegistryComponent_ds_pagination_10_tr_17_Template_td_click_12_listener")),core.TgZ(13,"a",17),core._uU(14),core.qZA()()()}if(2&rf){const schema_r4=ctx.$implicit,ctx_r3=core.oxw(2);core.Q6J("ngClass",core.VKq(12,_c0,core.lcZ(1,8,ctx_r3.isActive(schema_r4)))),core.xp6(4),core.Q6J("checked",core.lcZ(5,10,ctx_r3.isSelected(schema_r4))),core.xp6(3),core.Q6J("routerLink",core.VKq(14,_c1,schema_r4.prefix)),core.xp6(1),core.Oqu(schema_r4.id),core.xp6(2),core.Q6J("routerLink",core.VKq(16,_c1,schema_r4.prefix)),core.xp6(1),core.Oqu(schema_r4.namespace),core.xp6(2),core.Q6J("routerLink",core.VKq(18,_c1,schema_r4.prefix)),core.xp6(1),core.Oqu(schema_r4.prefix)}}function MetadataRegistryComponent_ds_pagination_10_Template(rf,ctx){if(1&rf&&(core.TgZ(0,"ds-pagination",9),core.ALo(1,"async"),core.TgZ(2,"div",10)(3,"table",11)(4,"thead")(5,"tr"),core._UZ(6,"th",12),core.TgZ(7,"th",12),core._uU(8),core.ALo(9,"translate"),core.qZA(),core.TgZ(10,"th",12),core._uU(11),core.ALo(12,"translate"),core.qZA(),core.TgZ(13,"th",12),core._uU(14),core.ALo(15,"translate"),core.qZA()()(),core.TgZ(16,"tbody"),core.YNc(17,MetadataRegistryComponent_ds_pagination_10_tr_17_Template,15,20,"tr",13),core.ALo(18,"async"),core.qZA()()()()),2&rf){const ctx_r0=core.oxw();let tmp_1_0,tmp_7_0;core.Q6J("paginationOptions",ctx_r0.config)("collectionSize",null==(tmp_1_0=core.lcZ(1,8,ctx_r0.metadataSchemas))||null==tmp_1_0.payload?null:tmp_1_0.payload.totalElements)("hideGear",!0)("hidePagerWhenSinglePage",!0),core.xp6(8),core.Oqu(core.lcZ(9,10,"admin.registries.metadata.schemas.table.id")),core.xp6(3),core.Oqu(core.lcZ(12,12,"admin.registries.metadata.schemas.table.namespace")),core.xp6(3),core.Oqu(core.lcZ(15,14,"admin.registries.metadata.schemas.table.name")),core.xp6(3),core.Q6J("ngForOf",null==(tmp_7_0=core.lcZ(18,16,ctx_r0.metadataSchemas))||null==tmp_7_0.payload?null:tmp_7_0.payload.page)}}function MetadataRegistryComponent_div_12_Template(rf,ctx){1&rf&&(core.TgZ(0,"div",18),core._uU(1),core.ALo(2,"translate"),core.qZA()),2&rf&&(core.xp6(1),core.hij(" ",core.lcZ(2,1,"admin.registries.metadata.schemas.no-items")," "))}function MetadataRegistryComponent_button_15_Template(rf,ctx){if(1&rf){const _r11=core.EpF();core.TgZ(0,"button",19),core.NdJ("click",__name(function(){return core.CHM(_r11),core.oxw().deleteSchemas()},"MetadataRegistryComponent_button_15_Template_button_click_0_listener")),core._uU(1),core.ALo(2,"translate"),core.qZA()}2&rf&&(core.xp6(1),core.Oqu(core.lcZ(2,1,"admin.registries.metadata.schemas.table.delete")))}__name(MetadataRegistryComponent_ds_pagination_10_tr_17_Template,"MetadataRegistryComponent_ds_pagination_10_tr_17_Template"),__name(MetadataRegistryComponent_ds_pagination_10_Template,"MetadataRegistryComponent_ds_pagination_10_Template"),__name(MetadataRegistryComponent_div_12_Template,"MetadataRegistryComponent_div_12_Template"),__name(MetadataRegistryComponent_button_15_Template,"MetadataRegistryComponent_button_15_Template");class MetadataRegistryComponent{constructor(registryService,notificationsService,router2,paginationService,translateService){this.registryService=registryService,this.notificationsService=notificationsService,this.router=router2,this.paginationService=paginationService,this.translateService=translateService,this.config=Object.assign(new pagination_component_options_model.r,{id:"rm",pageSize:25}),this.needsUpdate$=new cjs.BehaviorSubject(!0),this.updateSchemas()}updateSchemas(){this.metadataSchemas=this.needsUpdate$.pipe((0,operators.hX)(update=>!0===update),(0,operators.wt)(()=>this.paginationService.getCurrentPagination(this.config.id,this.config)),(0,operators.wt)(currentPagination=>this.registryService.getMetadataSchemas(toFindListOptions(currentPagination))))}forceUpdateSchemas(){this.needsUpdate$.next(!0)}editSchema(schema){this.getActiveSchema().pipe((0,operators.qn)(1)).subscribe(activeSchema=>{schema===activeSchema?this.registryService.cancelEditMetadataSchema():this.registryService.editMetadataSchema(schema)})}isActive(schema){return this.getActiveSchema().pipe((0,operators.UI)(activeSchema=>schema===activeSchema))}getActiveSchema(){return this.registryService.getActiveMetadataSchema()}selectMetadataSchema(schema,event2){event2.target.checked?this.registryService.selectMetadataSchema(schema):this.registryService.deselectMetadataSchema(schema)}isSelected(schema){return this.registryService.getSelectedMetadataSchemas().pipe((0,operators.UI)(schemas=>null!=schemas.find(selectedSchema=>selectedSchema===schema)))}deleteSchemas(){this.registryService.getSelectedMetadataSchemas().pipe((0,operators.qn)(1)).subscribe(schemas=>{const tasks$=[];for(const schema of schemas)(0,empty_util.Uh)(schema.id)&&tasks$.push(this.registryService.deleteMetadataSchema(schema.id).pipe((0,shared_operators.hC)()));(0,cjs.zip)(...tasks$).subscribe(responses=>{const successResponses=responses.filter(response=>response.hasSucceeded),failedResponses=responses.filter(response=>response.hasFailed);successResponses.length>0&&this.showNotification(!0,successResponses.length),failedResponses.length>0&&this.showNotification(!1,failedResponses.length),this.registryService.deselectAllMetadataSchema(),this.registryService.cancelEditMetadataSchema()})})}showNotification(success,amount){const prefix="admin.registries.schema.notification",suffix=success?"success":"failure";(0,cjs.combineLatest)(this.translateService.get(`${prefix}.${suffix}`),this.translateService.get(`${prefix}.deleted.${suffix}`,{amount})).subscribe(([head,content])=>{success?this.notificationsService.success(head,content):this.notificationsService.error(head,content)})}ngOnDestroy(){this.paginationService.clearPagination(this.config.id)}}__name(MetadataRegistryComponent,"MetadataRegistryComponent"),MetadataRegistryComponent.\u0275fac=__name(function(t){return new(t||MetadataRegistryComponent)(core.Y36(registry_service.k),core.Y36(notifications_service.T),core.Y36(router.F0),core.Y36(pagination_service.N),core.Y36(ngx_translate_core.sK))},"MetadataRegistryComponent_Factory"),MetadataRegistryComponent.\u0275cmp=core.Xpm({type:MetadataRegistryComponent,selectors:[["ds-metadata-registry"]],decls:17,vars:15,consts:[[1,"container"],[1,"metadata-registry","row"],[1,"col-12"],["id","header",1,"border-bottom","pb-2"],["id","description",1,"pb-2"],[3,"submitForm"],[3,"paginationOptions","collectionSize","hideGear","hidePagerWhenSinglePage",4,"ngIf"],["class","alert alert-info w-100 mb-2","role","alert",4,"ngIf"],["type","submit","class","btn btn-danger float-right",3,"click",4,"ngIf"],[3,"paginationOptions","collectionSize","hideGear","hidePagerWhenSinglePage"],[1,"table-responsive"],["id","metadata-schemas",1,"table","table-striped","table-hover"],["scope","col"],[3,"ngClass",4,"ngFor","ngForOf"],[3,"ngClass"],["type","checkbox",3,"checked","change"],[1,"selectable-row",3,"click"],[3,"routerLink"],["role","alert",1,"alert","alert-info","w-100","mb-2"],["type","submit",1,"btn","btn-danger","float-right",3,"click"]],template:__name(function(rf,ctx){if(1&rf&&(core.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h2",3),core._uU(4),core.ALo(5,"translate"),core.qZA(),core.TgZ(6,"p",4),core._uU(7),core.ALo(8,"translate"),core.qZA(),core.TgZ(9,"ds-metadata-schema-form",5),core.NdJ("submitForm",__name(function(){return ctx.forceUpdateSchemas()},"MetadataRegistryComponent_Template_ds_metadata_schema_form_submitForm_9_listener")),core.qZA(),core.YNc(10,MetadataRegistryComponent_ds_pagination_10_Template,19,18,"ds-pagination",6),core.ALo(11,"async"),core.YNc(12,MetadataRegistryComponent_div_12_Template,3,3,"div",7),core.ALo(13,"async"),core.TgZ(14,"div"),core.YNc(15,MetadataRegistryComponent_button_15_Template,3,3,"button",8),core.ALo(16,"async"),core.qZA()()()()),2&rf){let tmp_2_0,tmp_3_0,tmp_4_0;core.xp6(4),core.Oqu(core.lcZ(5,5,"admin.registries.metadata.head")),core.xp6(3),core.Oqu(core.lcZ(8,7,"admin.registries.metadata.description")),core.xp6(3),core.Q6J("ngIf",(null==(tmp_2_0=core.lcZ(11,9,ctx.metadataSchemas))||null==tmp_2_0.payload?null:tmp_2_0.payload.totalElements)>0),core.xp6(2),core.Q6J("ngIf",0==(null==(tmp_3_0=core.lcZ(13,11,ctx.metadataSchemas))||null==tmp_3_0.payload?null:tmp_3_0.payload.totalElements)),core.xp6(3),core.Q6J("ngIf",(null==(tmp_4_0=core.lcZ(16,13,ctx.metadataSchemas))||null==tmp_4_0.payload||null==tmp_4_0.payload.page?null:tmp_4_0.payload.page.length)>0)}},"MetadataRegistryComponent_Template"),directives:[MetadataSchemaFormComponent,common.O5,pagination_component.Q,common.sg,common.mk,router.yS],pipes:[ngx_translate_core.X$,common.Ov],styles:[".selectable-row[_ngcontent-%COMP%]:hover{cursor:pointer}"]});var var_directive=__webpack_require__(98605),metadata_field_model=__webpack_require__(10015);function MetadataFieldFormComponent_div_0_Template(rf,ctx){1&rf&&core._UZ(0,"div")}function MetadataFieldFormComponent_ng_template_2_Template(rf,ctx){if(1&rf&&(core.TgZ(0,"h4"),core._uU(1),core.ALo(2,"translate"),core.qZA()),2&rf){const ctx_r2=core.oxw();core.xp6(1),core.Oqu(core.lcZ(2,1,ctx_r2.messagePrefix+".create"))}}function MetadataFieldFormComponent_ng_template_4_Template(rf,ctx){if(1&rf&&(core.TgZ(0,"h4"),core._uU(1),core.ALo(2,"translate"),core.qZA()),2&rf){const ctx_r4=core.oxw();core.xp6(1),core.Oqu(core.lcZ(2,1,ctx_r4.messagePrefix+".edit"))}}__name(MetadataFieldFormComponent_div_0_Template,"MetadataFieldFormComponent_div_0_Template"),__name(MetadataFieldFormComponent_ng_template_2_Template,"MetadataFieldFormComponent_ng_template_2_Template"),__name(MetadataFieldFormComponent_ng_template_4_Template,"MetadataFieldFormComponent_ng_template_4_Template");class MetadataFieldFormComponent{constructor(registryService,formBuilderService,translateService){this.registryService=registryService,this.formBuilderService=formBuilderService,this.translateService=translateService,this.formId="metadata-field-form",this.messagePrefix="admin.registries.schema.form",this.formLayout={element:{grid:{host:"col col-sm-6 d-inline-block"}},qualifier:{grid:{host:"col col-sm-6 d-inline-block"}},scopeNote:{grid:{host:"col col-sm-12 d-inline-block"}}},this.submitForm=new core.vpe}ngOnInit(){(0,cjs.combineLatest)(this.translateService.get(`${this.messagePrefix}.element`),this.translateService.get(`${this.messagePrefix}.qualifier`),this.translateService.get(`${this.messagePrefix}.scopenote`)).subscribe(([element,qualifier,scopenote])=>{this.element=new fesm2015_core.b1u({id:"element",label:element,name:"element",validators:{required:null},required:!0}),this.qualifier=new fesm2015_core.b1u({id:"qualifier",label:qualifier,name:"qualifier",required:!1}),this.scopeNote=new fesm2015_core.b1u({id:"scopeNote",label:scopenote,name:"scopeNote",required:!1}),this.formModel=[new fesm2015_core.S_O({id:"metadatadatafieldgroup",group:[this.element,this.qualifier,this.scopeNote]})],this.formGroup=this.formBuilderService.createFormGroup(this.formModel),this.registryService.getActiveMetadataField().subscribe(field=>{this.formGroup.patchValue({metadatadatafieldgroup:{element:null!=field?field.element:"",qualifier:null!=field?field.qualifier:"",scopeNote:null!=field?field.scopeNote:""}})})})}onCancel(){this.registryService.cancelEditMetadataField()}onSubmit(){this.registryService.getActiveMetadataField().pipe((0,operators.qn)(1)).subscribe(field=>{const values={element:this.element.value,qualifier:this.qualifier.value,scopeNote:this.scopeNote.value};null==field?this.registryService.createMetadataField(Object.assign(new metadata_field_model.b,values),this.metadataSchema).subscribe(newField=>{this.submitForm.emit(newField)}):this.registryService.updateMetadataField(Object.assign(new metadata_field_model.b,field,{id:field.id,element:values.element?values.element:field.element,qualifier:values.qualifier?values.qualifier:field.qualifier,scopeNote:values.scopeNote?values.scopeNote:field.scopeNote})).subscribe(updatedField=>{this.submitForm.emit(updatedField)}),this.clearFields(),this.registryService.cancelEditMetadataField()})}clearFields(){this.formGroup.patchValue({metadatadatafieldgroup:{element:"",qualifier:"",scopeNote:""}})}ngOnDestroy(){this.onCancel()}}function MetadataSchemaComponent_div_2_ng_container_11_ds_pagination_1_tr_13_label_8_Template(rf,ctx){1&rf&&(core.TgZ(0,"label"),core._uU(1,"."),core.qZA())}__name(MetadataFieldFormComponent,"MetadataFieldFormComponent"),MetadataFieldFormComponent.\u0275fac=__name(function(t){return new(t||MetadataFieldFormComponent)(core.Y36(registry_service.k),core.Y36(form_builder_service.c),core.Y36(ngx_translate_core.sK))},"MetadataFieldFormComponent_Factory"),MetadataFieldFormComponent.\u0275cmp=core.Xpm({type:MetadataFieldFormComponent,selectors:[["ds-metadata-field-form"]],inputs:{metadataSchema:"metadataSchema"},outputs:{submitForm:"submitForm"},decls:7,vars:9,consts:[[4,"ngIf","ngIfThen","ngIfElse"],["createHeader",""],["editheader",""],[3,"formId","formModel","formLayout","formGroup","cancel","submit"]],template:__name(function(rf,ctx){if(1&rf&&(core.YNc(0,MetadataFieldFormComponent_div_0_Template,1,0,"div",0),core.ALo(1,"async"),core.YNc(2,MetadataFieldFormComponent_ng_template_2_Template,3,3,"ng-template",null,1,core.W1O),core.YNc(4,MetadataFieldFormComponent_ng_template_4_Template,3,3,"ng-template",null,2,core.W1O),core.TgZ(6,"ds-form",3),core.NdJ("cancel",__name(function(){return ctx.onCancel()},"MetadataFieldFormComponent_Template_ds_form_cancel_6_listener"))("submit",__name(function(){return ctx.onSubmit()},"MetadataFieldFormComponent_Template_ds_form_submit_6_listener")),core.qZA()),2&rf){const _r1=core.MAs(3),_r3=core.MAs(5);core.Q6J("ngIf",core.lcZ(1,7,ctx.registryService.getActiveMetadataField()))("ngIfThen",_r3)("ngIfElse",_r1),core.xp6(6),core.Q6J("formId",ctx.formId)("formModel",ctx.formModel)("formLayout",ctx.formLayout)("formGroup",ctx.formGroup)}},"MetadataFieldFormComponent_Template"),directives:[common.O5,form_component.U,fesm2015_forms.JL,fesm2015_forms.sg],pipes:[common.Ov,ngx_translate_core.X$],encapsulation:2}),__name(MetadataSchemaComponent_div_2_ng_container_11_ds_pagination_1_tr_13_label_8_Template,"MetadataSchemaComponent_div_2_ng_container_11_ds_pagination_1_tr_13_label_8_Template");const metadata_schema_component_c0=__name(function(a0){return{"table-primary":a0}},"metadata_schema_component_c0");function MetadataSchemaComponent_div_2_ng_container_11_ds_pagination_1_tr_13_Template(rf,ctx){if(1&rf){const _r11=core.EpF();core.TgZ(0,"tr",17),core.ALo(1,"async"),core.TgZ(2,"td")(3,"label")(4,"input",18),core.NdJ("change",__name(function($event){const field_r8=core.CHM(_r11).$implicit;return core.oxw(4).selectMetadataField(field_r8,$event)},"MetadataSchemaComponent_div_2_ng_container_11_ds_pagination_1_tr_13_Template_input_change_4_listener")),core.ALo(5,"async"),core.qZA()()(),core.TgZ(6,"td",19),core.NdJ("click",__name(function(){const field_r8=core.CHM(_r11).$implicit;return core.oxw(4).editField(field_r8)},"MetadataSchemaComponent_div_2_ng_container_11_ds_pagination_1_tr_13_Template_td_click_6_listener")),core._uU(7),core.YNc(8,MetadataSchemaComponent_div_2_ng_container_11_ds_pagination_1_tr_13_label_8_Template,2,0,"label",20),core._uU(9),core.qZA(),core.TgZ(10,"td",19),core.NdJ("click",__name(function(){const field_r8=core.CHM(_r11).$implicit;return core.oxw(4).editField(field_r8)},"MetadataSchemaComponent_div_2_ng_container_11_ds_pagination_1_tr_13_Template_td_click_10_listener")),core._uU(11),core.qZA()()}if(2&rf){const field_r8=ctx.$implicit,schema_r1=core.oxw(3).ngVar,ctx_r7=core.oxw();core.Q6J("ngClass",core.VKq(11,metadata_schema_component_c0,core.lcZ(1,7,ctx_r7.isActive(field_r8)))),core.xp6(4),core.Q6J("checked",core.lcZ(5,9,ctx_r7.isSelected(field_r8))),core.xp6(3),core.AsE("",null==schema_r1?null:schema_r1.prefix,".",field_r8.element,""),core.xp6(1),core.Q6J("ngIf",field_r8.qualifier),core.xp6(1),core.Oqu(field_r8.qualifier),core.xp6(2),core.Oqu(field_r8.scopeNote)}}function MetadataSchemaComponent_div_2_ng_container_11_ds_pagination_1_Template(rf,ctx){if(1&rf&&(core.TgZ(0,"ds-pagination",12)(1,"div",13)(2,"table",14)(3,"thead")(4,"tr"),core._UZ(5,"th"),core.TgZ(6,"th",15),core._uU(7),core.ALo(8,"translate"),core.qZA(),core.TgZ(9,"th",15),core._uU(10),core.ALo(11,"translate"),core.qZA()()(),core.TgZ(12,"tbody"),core.YNc(13,MetadataSchemaComponent_div_2_ng_container_11_ds_pagination_1_tr_13_Template,12,13,"tr",16),core.qZA()()()()),2&rf){const fields_r3=core.oxw().ngVar,ctx_r4=core.oxw(2);core.Q6J("paginationOptions",ctx_r4.config)("pageInfoState",fields_r3)("collectionSize",null==fields_r3?null:fields_r3.totalElements)("hideGear",!1)("hidePagerWhenSinglePage",!0),core.xp6(7),core.Oqu(core.lcZ(8,8,"admin.registries.schema.fields.table.field")),core.xp6(3),core.Oqu(core.lcZ(11,10,"admin.registries.schema.fields.table.scopenote")),core.xp6(3),core.Q6J("ngForOf",null==fields_r3?null:fields_r3.page)}}function MetadataSchemaComponent_div_2_ng_container_11_div_2_Template(rf,ctx){1&rf&&(core.TgZ(0,"div",21),core._uU(1),core.ALo(2,"translate"),core.qZA()),2&rf&&(core.xp6(1),core.hij(" ",core.lcZ(2,1,"admin.registries.schema.fields.no-items")," "))}function MetadataSchemaComponent_div_2_ng_container_11_button_7_Template(rf,ctx){if(1&rf){const _r17=core.EpF();core.TgZ(0,"button",22),core.NdJ("click",__name(function(){return core.CHM(_r17),core.oxw(3).deleteFields()},"MetadataSchemaComponent_div_2_ng_container_11_button_7_Template_button_click_0_listener")),core._uU(1),core.ALo(2,"translate"),core.qZA()}2&rf&&(core.xp6(1),core.Oqu(core.lcZ(2,1,"admin.registries.schema.fields.table.delete")))}__name(MetadataSchemaComponent_div_2_ng_container_11_ds_pagination_1_tr_13_Template,"MetadataSchemaComponent_div_2_ng_container_11_ds_pagination_1_tr_13_Template"),__name(MetadataSchemaComponent_div_2_ng_container_11_ds_pagination_1_Template,"MetadataSchemaComponent_div_2_ng_container_11_ds_pagination_1_Template"),__name(MetadataSchemaComponent_div_2_ng_container_11_div_2_Template,"MetadataSchemaComponent_div_2_ng_container_11_div_2_Template"),__name(MetadataSchemaComponent_div_2_ng_container_11_button_7_Template,"MetadataSchemaComponent_div_2_ng_container_11_button_7_Template");const metadata_schema_component_c1=__name(function(){return["/admin/registries/metadata"]},"metadata_schema_component_c1");function MetadataSchemaComponent_div_2_ng_container_11_Template(rf,ctx){if(1&rf&&(core.ynx(0),core.YNc(1,MetadataSchemaComponent_div_2_ng_container_11_ds_pagination_1_Template,14,12,"ds-pagination",8),core.YNc(2,MetadataSchemaComponent_div_2_ng_container_11_div_2_Template,3,3,"div",9),core.TgZ(3,"div")(4,"button",10),core._uU(5),core.ALo(6,"translate"),core.qZA(),core.YNc(7,MetadataSchemaComponent_div_2_ng_container_11_button_7_Template,3,3,"button",11),core.qZA(),core.BQk()),2&rf){const fields_r3=ctx.ngVar;core.xp6(1),core.Q6J("ngIf",(null==fields_r3?null:fields_r3.totalElements)>0),core.xp6(1),core.Q6J("ngIf",0==(null==fields_r3?null:fields_r3.totalElements)),core.xp6(2),core.Q6J("routerLink",core.DdM(7,metadata_schema_component_c1)),core.xp6(1),core.Oqu(core.lcZ(6,5,"admin.registries.schema.return")),core.xp6(2),core.Q6J("ngIf",(null==fields_r3||null==fields_r3.page?null:fields_r3.page.length)>0)}}__name(MetadataSchemaComponent_div_2_ng_container_11_Template,"MetadataSchemaComponent_div_2_ng_container_11_Template");const _c2=__name(function(a0){return{namespace:a0}},"_c2");function MetadataSchemaComponent_div_2_Template(rf,ctx){if(1&rf){const _r19=core.EpF();core.TgZ(0,"div",3)(1,"h2",4),core._uU(2),core.ALo(3,"translate"),core.qZA(),core.TgZ(4,"p",5),core._uU(5),core.ALo(6,"translate"),core.qZA(),core.TgZ(7,"ds-metadata-field-form",6),core.NdJ("submitForm",__name(function(){return core.CHM(_r19),core.oxw().forceUpdateFields()},"MetadataSchemaComponent_div_2_Template_ds_metadata_field_form_submitForm_7_listener")),core.qZA(),core.TgZ(8,"h3"),core._uU(9),core.ALo(10,"translate"),core.qZA(),core.YNc(11,MetadataSchemaComponent_div_2_ng_container_11_Template,8,8,"ng-container",7),core.ALo(12,"async"),core.qZA()}if(2&rf){const schema_r1=ctx.ngVar,ctx_r0=core.oxw();let tmp_4_0;core.xp6(2),core.AsE("",core.lcZ(3,6,"admin.registries.schema.head"),': "',null==schema_r1?null:schema_r1.prefix,'"'),core.xp6(3),core.Oqu(core.xi3(6,8,"admin.registries.schema.description",core.VKq(15,_c2,null==schema_r1?null:schema_r1.namespace))),core.xp6(2),core.Q6J("metadataSchema",schema_r1),core.xp6(2),core.Oqu(core.lcZ(10,11,"admin.registries.schema.fields.head")),core.xp6(2),core.Q6J("ngVar",null==(tmp_4_0=core.lcZ(12,13,ctx_r0.metadataFields$))?null:tmp_4_0.payload)}}__name(MetadataSchemaComponent_div_2_Template,"MetadataSchemaComponent_div_2_Template");class MetadataSchemaComponent{constructor(registryService,route,notificationsService,router2,paginationService,translateService){this.registryService=registryService,this.route=route,this.notificationsService=notificationsService,this.router=router2,this.paginationService=paginationService,this.translateService=translateService,this.config=Object.assign(new pagination_component_options_model.r,{id:"rm",pageSize:25,pageSizeOptions:[25,50,100,200]}),this.needsUpdate$=new cjs.BehaviorSubject(!0)}ngOnInit(){this.route.params.subscribe(params=>{this.initialize(params)})}initialize(params){this.metadataSchema$=this.registryService.getMetadataSchemaByPrefix(params.schemaName).pipe((0,shared_operators.Gp)()),this.updateFields()}updateFields(){this.metadataFields$=this.paginationService.getCurrentPagination(this.config.id,this.config).pipe((0,operators.wt)(currentPagination=>(0,cjs.combineLatest)(this.metadataSchema$,this.needsUpdate$,(0,cjs.of)(currentPagination))),(0,operators.wt)(([schema,update,currentPagination])=>(update&&this.needsUpdate$.next(!1),this.registryService.getMetadataFieldsBySchema(schema,toFindListOptions(currentPagination),!update,!0))))}forceUpdateFields(){this.registryService.clearMetadataFieldRequests(),this.needsUpdate$.next(!0)}editField(field){this.getActiveField().pipe((0,operators.qn)(1)).subscribe(activeField=>{field===activeField?this.registryService.cancelEditMetadataField():this.registryService.editMetadataField(field)})}isActive(field){return this.getActiveField().pipe((0,operators.UI)(activeField=>field===activeField))}getActiveField(){return this.registryService.getActiveMetadataField()}selectMetadataField(field,event2){event2.target.checked?this.registryService.selectMetadataField(field):this.registryService.deselectMetadataField(field)}isSelected(field){return this.registryService.getSelectedMetadataFields().pipe((0,operators.UI)(fields=>null!=fields.find(selectedField=>selectedField===field)))}deleteFields(){this.registryService.getSelectedMetadataFields().pipe((0,operators.qn)(1)).subscribe(fields=>{const tasks$=[];for(const field of fields)(0,empty_util.Uh)(field.id)&&tasks$.push(this.registryService.deleteMetadataField(field.id).pipe((0,shared_operators.hC)()));(0,cjs.zip)(...tasks$).subscribe(responses=>{const successResponses=responses.filter(response=>response.hasSucceeded),failedResponses=responses.filter(response=>response.hasFailed);successResponses.length>0&&this.showNotification(!0,successResponses.length),failedResponses.length>0&&this.showNotification(!1,failedResponses.length),this.registryService.deselectAllMetadataField(),this.registryService.cancelEditMetadataField()})})}showNotification(success,amount){const prefix="admin.registries.schema.notification",suffix=success?"success":"failure";(0,cjs.combineLatest)(this.translateService.get(`${prefix}.${suffix}`),this.translateService.get(`${prefix}.field.deleted.${suffix}`,{amount})).subscribe(([head,content])=>{success?this.notificationsService.success(head,content):this.notificationsService.error(head,content)})}ngOnDestroy(){this.paginationService.clearPagination(this.config.id)}}__name(MetadataSchemaComponent,"MetadataSchemaComponent"),MetadataSchemaComponent.\u0275fac=__name(function(t){return new(t||MetadataSchemaComponent)(core.Y36(registry_service.k),core.Y36(router.gz),core.Y36(notifications_service.T),core.Y36(router.F0),core.Y36(pagination_service.N),core.Y36(ngx_translate_core.sK))},"MetadataSchemaComponent_Factory"),MetadataSchemaComponent.\u0275cmp=core.Xpm({type:MetadataSchemaComponent,selectors:[["ds-metadata-schema"]],decls:4,vars:3,consts:[[1,"container"],[1,"metadata-schema","row"],["class","col-12",4,"ngVar"],[1,"col-12"],["id","header",1,"border-bottom","pb-2"],["id","description",1,"pb-2"],[3,"metadataSchema","submitForm"],[4,"ngVar"],[3,"paginationOptions","pageInfoState","collectionSize","hideGear","hidePagerWhenSinglePage",4,"ngIf"],["class","alert alert-info w-100 mb-2","role","alert",4,"ngIf"],[1,"btn","btn-primary",3,"routerLink"],["type","submit","class","btn btn-danger float-right",3,"click",4,"ngIf"],[3,"paginationOptions","pageInfoState","collectionSize","hideGear","hidePagerWhenSinglePage"],[1,"table-responsive"],["id","metadata-fields",1,"table","table-striped","table-hover"],["scope","col"],[3,"ngClass",4,"ngFor","ngForOf"],[3,"ngClass"],["type","checkbox",3,"checked","change"],[1,"selectable-row",3,"click"],[4,"ngIf"],["role","alert",1,"alert","alert-info","w-100","mb-2"],["type","submit",1,"btn","btn-danger","float-right",3,"click"]],template:__name(function(rf,ctx){1&rf&&(core.TgZ(0,"div",0)(1,"div",1),core.YNc(2,MetadataSchemaComponent_div_2_Template,13,17,"div",2),core.ALo(3,"async"),core.qZA()()),2&rf&&(core.xp6(2),core.Q6J("ngVar",core.lcZ(3,1,ctx.metadataSchema$)))},"MetadataSchemaComponent_Template"),directives:[var_directive.g,MetadataFieldFormComponent,common.O5,pagination_component.Q,common.sg,common.mk,router.rH],pipes:[common.Ov,ngx_translate_core.X$],styles:[".selectable-row[_ngcontent-%COMP%]:hover{cursor:pointer}"]});var i18n_breadcrumb_resolver=__webpack_require__(98655),admin_registries_routing_paths=__webpack_require__(8824);class AdminRegistriesRoutingModule{}__name(AdminRegistriesRoutingModule,"AdminRegistriesRoutingModule"),AdminRegistriesRoutingModule.\u0275fac=__name(function(t){return new(t||AdminRegistriesRoutingModule)},"AdminRegistriesRoutingModule_Factory"),AdminRegistriesRoutingModule.\u0275mod=core.oAB({type:AdminRegistriesRoutingModule}),AdminRegistriesRoutingModule.\u0275inj=core.cJS({imports:[[router.Bz.forChild([{path:"metadata",resolve:{breadcrumb:i18n_breadcrumb_resolver.t},data:{title:"admin.registries.metadata.title",breadcrumbKey:"admin.registries.metadata"},children:[{path:"",component:MetadataRegistryComponent},{path:":schemaName",resolve:{breadcrumb:i18n_breadcrumb_resolver.t},component:MetadataSchemaComponent,data:{title:"admin.registries.schema.title",breadcrumbKey:"admin.registries.schema"}}]},{path:admin_registries_routing_paths.T,resolve:{breadcrumb:i18n_breadcrumb_resolver.t},loadChildren:()=>Promise.resolve().then(__webpack_require__.bind(__webpack_require__,73803)).then(m=>m.BitstreamFormatsModule),data:{title:"admin.registries.bitstream-formats.title",breadcrumbKey:"admin.registries.bitstream-formats"}}])]]});var shared_module=__webpack_require__(57981),bitstream_formats_module=__webpack_require__(73803),form_module=__webpack_require__(10194);class AdminRegistriesModule{}__name(AdminRegistriesModule,"AdminRegistriesModule"),AdminRegistriesModule.\u0275fac=__name(function(t){return new(t||AdminRegistriesModule)},"AdminRegistriesModule_Factory"),AdminRegistriesModule.\u0275mod=core.oAB({type:AdminRegistriesModule}),AdminRegistriesModule.\u0275inj=core.cJS({imports:[[common.ez,shared_module.m,router.Bz,bitstream_formats_module.BitstreamFormatsModule,AdminRegistriesRoutingModule,form_module.e]]})},73803:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{BitstreamFormatsModule:()=>BitstreamFormatsModule});var common=__webpack_require__(69808),router=__webpack_require__(74202),shared_module=__webpack_require__(57981),bitstream_format_data_service=__webpack_require__(9367),operators=__webpack_require__(13730),core=__webpack_require__(5e3);class BitstreamFormatsResolver{constructor(bitstreamFormatDataService){this.bitstreamFormatDataService=bitstreamFormatDataService}resolve(route,state){return this.bitstreamFormatDataService.findById(route.params.id).pipe((0,operators.hC)())}}__name(BitstreamFormatsResolver,"BitstreamFormatsResolver"),BitstreamFormatsResolver.\u0275fac=__name(function(t){return new(t||BitstreamFormatsResolver)(core.LFG(bitstream_format_data_service.O))},"BitstreamFormatsResolver_Factory"),BitstreamFormatsResolver.\u0275prov=core.Yz7({token:BitstreamFormatsResolver,factory:BitstreamFormatsResolver.\u0275fac});var cjs_operators=__webpack_require__(83292),notifications_service=__webpack_require__(82596),admin_registries_routing_paths=__webpack_require__(8824),ngx_translate_core=__webpack_require__(42466),bitstream_format_model=__webpack_require__(25961),bitstream_format_support_level=__webpack_require__(70178),fesm2015_core=__webpack_require__(87098),empty_util=__webpack_require__(24702),form_component=__webpack_require__(63311);function FormatFormComponent_ds_form_0_Template(rf,ctx){if(1&rf){const _r2=core.EpF();core.TgZ(0,"ds-form",1),core.NdJ("submitForm",__name(function(){return core.CHM(_r2),core.oxw().onSubmit()},"FormatFormComponent_ds_form_0_Template_ds_form_submitForm_0_listener"))("cancel",__name(function(){return core.CHM(_r2),core.oxw().onCancel()},"FormatFormComponent_ds_form_0_Template_ds_form_cancel_0_listener")),core.qZA()}if(2&rf){const ctx_r0=core.oxw();core.Q6J("formId","comcol-form-id")("formModel",ctx_r0.formModel)}}__name(FormatFormComponent_ds_form_0_Template,"FormatFormComponent_ds_form_0_Template");class FormatFormComponent{constructor(dynamicFormService,translateService,router2){this.dynamicFormService=dynamicFormService,this.translateService=translateService,this.router=router2,this.bitstreamFormat=new bitstream_format_model.A,this.updatedFormat=new core.vpe,this.supportLevelOptions=[{label:bitstream_format_support_level.o.Known,value:bitstream_format_support_level.o.Known},{label:bitstream_format_support_level.o.Unknown,value:bitstream_format_support_level.o.Unknown},{label:bitstream_format_support_level.o.Supported,value:bitstream_format_support_level.o.Supported}],this.arrayElementLayout={grid:{group:"form-row"}},this.arrayInputElementLayout={grid:{host:"col"}},this.formModel=[new fesm2015_core.b1u({id:"shortDescription",name:"shortDescription",label:"admin.registries.bitstream-formats.edit.shortDescription.label",hint:"admin.registries.bitstream-formats.edit.shortDescription.hint",required:!0,validators:{required:null},errorMessages:{required:"Please enter a name for this bitstream format"}}),new fesm2015_core.b1u({id:"mimetype",name:"mimetype",label:"admin.registries.bitstream-formats.edit.mimetype.label",hint:"admin.registries.bitstream-formats.edit.mimetype.hint"}),new fesm2015_core.HBf({id:"description",name:"description",label:"admin.registries.bitstream-formats.edit.description.label",hint:"admin.registries.bitstream-formats.edit.description.hint"}),new fesm2015_core.nMt({id:"supportLevel",name:"supportLevel",options:this.supportLevelOptions,label:"admin.registries.bitstream-formats.edit.supportLevel.label",hint:"admin.registries.bitstream-formats.edit.supportLevel.hint",value:this.supportLevelOptions[0].value}),new fesm2015_core.dwp({id:"internal",name:"internal",label:"Internal",hint:"admin.registries.bitstream-formats.edit.internal.hint"}),new fesm2015_core.RRz({id:"extensions",name:"extensions",label:"admin.registries.bitstream-formats.edit.extensions.label",groupFactory:()=>[new fesm2015_core.b1u({id:"extension",placeholder:"admin.registries.bitstream-formats.edit.extensions.placeholder"},this.arrayInputElementLayout)]},this.arrayElementLayout)]}ngOnInit(){this.initValues()}initValues(){this.formModel.forEach(fieldModel=>{if("extensions"===fieldModel.name){if((0,empty_util.Uh)(this.bitstreamFormat.extensions)){const extenstions=this.bitstreamFormat.extensions,formArray=fieldModel;for(let i=0;i<extenstions.length;i++)formArray.insertGroup(i).group[0]=new fesm2015_core.b1u({id:`extension-${i}`,value:extenstions[i]},this.arrayInputElementLayout)}}else(0,empty_util.Uh)(this.bitstreamFormat[fieldModel.name])&&(fieldModel.value=this.bitstreamFormat[fieldModel.name])})}onSubmit(){const updatedBitstreamFormat=Object.assign(new bitstream_format_model.A,{id:this.bitstreamFormat.id});this.formModel.forEach(fieldModel=>{if("extensions"===fieldModel.name){const formArray=fieldModel,extensions=[];for(let i=0;i<formArray.groups.length;i++){const value=formArray.get(i).get(0).value;(0,empty_util.xb)(value)||extensions.push(formArray.get(i).get(0).value)}updatedBitstreamFormat.extensions=extensions}else updatedBitstreamFormat[fieldModel.name]=fieldModel.value}),this.updatedFormat.emit(updatedBitstreamFormat)}onCancel(){this.router.navigate([(0,admin_registries_routing_paths.e)()])}}__name(FormatFormComponent,"FormatFormComponent"),FormatFormComponent.\u0275fac=__name(function(t){return new(t||FormatFormComponent)(core.Y36(fesm2015_core.w1X),core.Y36(ngx_translate_core.sK),core.Y36(router.F0))},"FormatFormComponent_Factory"),FormatFormComponent.\u0275cmp=core.Xpm({type:FormatFormComponent,selectors:[["ds-bitstream-format-form"]],inputs:{bitstreamFormat:"bitstreamFormat"},outputs:{updatedFormat:"updatedFormat"},decls:1,vars:1,consts:[[3,"formId","formModel","submitForm","cancel",4,"ngIf"],[3,"formId","formModel","submitForm","cancel"]],template:__name(function(rf,ctx){1&rf&&core.YNc(0,FormatFormComponent_ds_form_0_Template,1,2,"ds-form",0),2&rf&&core.Q6J("ngIf",ctx.formModel)},"FormatFormComponent_Template"),directives:[common.O5,form_component.U],encapsulation:2});const _c0=__name(function(a0){return{format:a0}},"_c0");class EditBitstreamFormatComponent{constructor(route,router2,notificationService,translateService,bitstreamFormatDataService){this.route=route,this.router=router2,this.notificationService=notificationService,this.translateService=translateService,this.bitstreamFormatDataService=bitstreamFormatDataService}ngOnInit(){this.bitstreamFormatRD$=this.route.data.pipe((0,cjs_operators.UI)(data=>data.bitstreamFormat))}updateFormat(bitstreamFormat){this.bitstreamFormatDataService.updateBitstreamFormat(bitstreamFormat).pipe((0,operators.hC)()).subscribe(response=>{response.hasSucceeded?(this.notificationService.success(this.translateService.get("admin.registries.bitstream-formats.edit.success.head"),this.translateService.get("admin.registries.bitstream-formats.edit.success.content")),this.router.navigate([(0,admin_registries_routing_paths.e)()])):this.notificationService.error("admin.registries.bitstream-formats.edit.failure.head","admin.registries.bitstream-formats.create.edit.content")})}}__name(EditBitstreamFormatComponent,"EditBitstreamFormatComponent"),EditBitstreamFormatComponent.\u0275fac=__name(function(t){return new(t||EditBitstreamFormatComponent)(core.Y36(router.gz),core.Y36(router.F0),core.Y36(notifications_service.T),core.Y36(ngx_translate_core.sK),core.Y36(bitstream_format_data_service.O))},"EditBitstreamFormatComponent_Factory"),EditBitstreamFormatComponent.\u0275cmp=core.Xpm({type:EditBitstreamFormatComponent,selectors:[["ds-edit-bitstream-format"]],decls:9,vars:11,consts:[[1,"container"],[1,"row"],[1,"col-12","mb-4"],["id","sub-header",1,"border-bottom","mb-2"],[3,"bitstreamFormat","updatedFormat"]],template:__name(function(rf,ctx){if(1&rf&&(core.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h2",3),core._uU(4),core.ALo(5,"translate"),core.ALo(6,"async"),core.qZA(),core.TgZ(7,"ds-bitstream-format-form",4),core.NdJ("updatedFormat",__name(function($event){return ctx.updateFormat($event)},"EditBitstreamFormatComponent_Template_ds_bitstream_format_form_updatedFormat_7_listener")),core.ALo(8,"async"),core.qZA()()()()),2&rf){let tmp_0_0,tmp_1_0;core.xp6(4),core.Oqu(core.xi3(5,2,"admin.registries.bitstream-formats.edit.head",core.VKq(9,_c0,null==(tmp_0_0=core.lcZ(6,5,ctx.bitstreamFormatRD$))?null:tmp_0_0.payload.shortDescription))),core.xp6(3),core.Q6J("bitstreamFormat",null==(tmp_1_0=core.lcZ(8,7,ctx.bitstreamFormatRD$))?null:tmp_1_0.payload)}},"EditBitstreamFormatComponent_Template"),directives:[FormatFormComponent],pipes:[ngx_translate_core.X$,common.Ov],encapsulation:2});var cjs=__webpack_require__(76477),pagination_component_options_model=__webpack_require__(26638),pagination_service=__webpack_require__(77467),find_list_options_model=__webpack_require__(17481),pagination_component=__webpack_require__(62697);function BitstreamFormatsComponent_ds_pagination_13_tr_18_span_11_Template(rf,ctx){1&rf&&(core.TgZ(0,"span"),core._uU(1),core.ALo(2,"translate"),core.qZA()),2&rf&&(core.xp6(1),core.hij("(",core.lcZ(2,1,"admin.registries.bitstream-formats.table.internal"),")"))}__name(BitstreamFormatsComponent_ds_pagination_13_tr_18_span_11_Template,"BitstreamFormatsComponent_ds_pagination_13_tr_18_span_11_Template");const bitstream_formats_component_c0=__name(function(a1){return["/admin/registries/bitstream-formats",a1,"edit"]},"bitstream_formats_component_c0");function BitstreamFormatsComponent_ds_pagination_13_tr_18_Template(rf,ctx){if(1&rf){const _r8=core.EpF();core.TgZ(0,"tr")(1,"td")(2,"label")(3,"input",16),core.NdJ("change",__name(function($event){const bitstreamFormat_r5=core.CHM(_r8).$implicit;return core.oxw(2).selectBitStreamFormat(bitstreamFormat_r5,$event)},"BitstreamFormatsComponent_ds_pagination_13_tr_18_Template_input_change_3_listener")),core.ALo(4,"async"),core.qZA()()(),core.TgZ(5,"td")(6,"a",17),core._uU(7),core.qZA()(),core.TgZ(8,"td")(9,"a",17),core._uU(10),core.YNc(11,BitstreamFormatsComponent_ds_pagination_13_tr_18_span_11_Template,3,3,"span",18),core.qZA()(),core.TgZ(12,"td")(13,"a",17),core._uU(14),core.ALo(15,"translate"),core.qZA()()()}if(2&rf){const bitstreamFormat_r5=ctx.$implicit,ctx_r4=core.oxw(2);core.xp6(3),core.Q6J("checked",core.lcZ(4,8,ctx_r4.isSelected(bitstreamFormat_r5))),core.xp6(3),core.Q6J("routerLink",core.VKq(12,bitstream_formats_component_c0,bitstreamFormat_r5.id)),core.xp6(1),core.Oqu(bitstreamFormat_r5.shortDescription),core.xp6(2),core.Q6J("routerLink",core.VKq(14,bitstream_formats_component_c0,bitstreamFormat_r5.id)),core.xp6(1),core.hij("",bitstreamFormat_r5.mimetype," "),core.xp6(1),core.Q6J("ngIf",bitstreamFormat_r5.internal),core.xp6(2),core.Q6J("routerLink",core.VKq(16,bitstream_formats_component_c0,bitstreamFormat_r5.id)),core.xp6(1),core.Oqu(core.lcZ(15,10,"admin.registries.bitstream-formats.table.supportLevel."+bitstreamFormat_r5.supportLevel))}}function BitstreamFormatsComponent_ds_pagination_13_Template(rf,ctx){if(1&rf&&(core.TgZ(0,"ds-pagination",11),core.ALo(1,"async"),core.ALo(2,"async"),core.TgZ(3,"div",12)(4,"table",13)(5,"thead")(6,"tr"),core._UZ(7,"th",14),core.TgZ(8,"th",14),core._uU(9),core.ALo(10,"translate"),core.qZA(),core.TgZ(11,"th",14),core._uU(12),core.ALo(13,"translate"),core.qZA(),core.TgZ(14,"th",14),core._uU(15),core.ALo(16,"translate"),core.qZA()()(),core.TgZ(17,"tbody"),core.YNc(18,BitstreamFormatsComponent_ds_pagination_13_tr_18_Template,16,18,"tr",15),core.ALo(19,"async"),core.qZA()()()()),2&rf){const ctx_r0=core.oxw();let tmp_1_0,tmp_2_0,tmp_8_0;core.Q6J("paginationOptions",ctx_r0.pageConfig)("pageInfoState",null==(tmp_1_0=core.lcZ(1,9,ctx_r0.bitstreamFormats))?null:tmp_1_0.payload)("collectionSize",null==(tmp_2_0=core.lcZ(2,11,ctx_r0.bitstreamFormats))||null==tmp_2_0.payload?null:tmp_2_0.payload.totalElements)("hideGear",!0)("hidePagerWhenSinglePage",!0),core.xp6(9),core.Oqu(core.lcZ(10,13,"admin.registries.bitstream-formats.table.name")),core.xp6(3),core.Oqu(core.lcZ(13,15,"admin.registries.bitstream-formats.table.mimetype")),core.xp6(3),core.Oqu(core.lcZ(16,17,"admin.registries.bitstream-formats.table.supportLevel.head")),core.xp6(3),core.Q6J("ngForOf",null==(tmp_8_0=core.lcZ(19,19,ctx_r0.bitstreamFormats))||null==tmp_8_0.payload?null:tmp_8_0.payload.page)}}function BitstreamFormatsComponent_div_15_Template(rf,ctx){1&rf&&(core.TgZ(0,"div",19),core._uU(1),core.ALo(2,"translate"),core.qZA()),2&rf&&(core.xp6(1),core.hij(" ",core.lcZ(2,1,"admin.registries.bitstream-formats.no-items")," "))}function BitstreamFormatsComponent_button_18_Template(rf,ctx){if(1&rf){const _r10=core.EpF();core.TgZ(0,"button",20),core.NdJ("click",__name(function(){return core.CHM(_r10),core.oxw().deselectAll()},"BitstreamFormatsComponent_button_18_Template_button_click_0_listener")),core._uU(1),core.ALo(2,"translate"),core.qZA()}2&rf&&(core.xp6(1),core.Oqu(core.lcZ(2,1,"admin.registries.bitstream-formats.table.deselect-all")))}function BitstreamFormatsComponent_button_20_Template(rf,ctx){if(1&rf){const _r12=core.EpF();core.TgZ(0,"button",21),core.NdJ("click",__name(function(){return core.CHM(_r12),core.oxw().deleteFormats()},"BitstreamFormatsComponent_button_20_Template_button_click_0_listener")),core._uU(1),core.ALo(2,"translate"),core.qZA()}2&rf&&(core.xp6(1),core.Oqu(core.lcZ(2,1,"admin.registries.bitstream-formats.table.delete")))}__name(BitstreamFormatsComponent_ds_pagination_13_tr_18_Template,"BitstreamFormatsComponent_ds_pagination_13_tr_18_Template"),__name(BitstreamFormatsComponent_ds_pagination_13_Template,"BitstreamFormatsComponent_ds_pagination_13_Template"),__name(BitstreamFormatsComponent_div_15_Template,"BitstreamFormatsComponent_div_15_Template"),__name(BitstreamFormatsComponent_button_18_Template,"BitstreamFormatsComponent_button_18_Template"),__name(BitstreamFormatsComponent_button_20_Template,"BitstreamFormatsComponent_button_20_Template");class BitstreamFormatsComponent{constructor(notificationsService,router2,translateService,bitstreamFormatService,paginationService){this.notificationsService=notificationsService,this.router=router2,this.translateService=translateService,this.bitstreamFormatService=bitstreamFormatService,this.paginationService=paginationService,this.config=Object.assign(new find_list_options_model.R,{elementsPerPage:20}),this.pageConfig=Object.assign(new pagination_component_options_model.r,{id:"rbp",pageSize:20})}deleteFormats(){this.bitstreamFormatService.clearBitStreamFormatRequests(),this.bitstreamFormatService.getSelectedBitstreamFormats().pipe((0,cjs_operators.qn)(1),(0,cjs_operators.zg)(formats=>formats),(0,cjs_operators.zg)(format=>this.bitstreamFormatService.delete(format.id).pipe((0,operators.hC)(),(0,cjs_operators.UI)(response=>response.hasSucceeded))),(0,cjs_operators.qo)()).subscribe(results=>{const successResponses=results.filter(result=>result),failedResponses=results.filter(result=>!result);successResponses.length>0&&this.showNotification(!0,successResponses.length),failedResponses.length>0&&this.showNotification(!1,failedResponses.length),this.deselectAll(),this.paginationService.resetPage(this.pageConfig.id)})}deselectAll(){this.bitstreamFormatService.deselectAllBitstreamFormats()}isSelected(bitstreamFormat){return this.bitstreamFormatService.getSelectedBitstreamFormats().pipe((0,cjs_operators.UI)(bitstreamFormats=>null!=bitstreamFormats.find(selectedFormat=>selectedFormat.id===bitstreamFormat.id)))}selectBitStreamFormat(bitstreamFormat,event2){event2.target.checked?this.bitstreamFormatService.selectBitstreamFormat(bitstreamFormat):this.bitstreamFormatService.deselectBitstreamFormat(bitstreamFormat)}showNotification(success,amount){const prefix="admin.registries.bitstream-formats.delete",suffix=success?"success":"failure";(0,cjs.combineLatest)(this.translateService.get(`${prefix}.${suffix}.head`),this.translateService.get(`${prefix}.${suffix}.amount`,{amount})).subscribe(([head,content])=>{success?this.notificationsService.success(head,content):this.notificationsService.error(head,content)})}ngOnInit(){this.bitstreamFormats=this.paginationService.getFindListOptions(this.pageConfig.id,this.config).pipe((0,cjs_operators.wt)(findListOptions=>this.bitstreamFormatService.findAll(findListOptions)))}ngOnDestroy(){this.paginationService.clearPagination(this.pageConfig.id)}}__name(BitstreamFormatsComponent,"BitstreamFormatsComponent"),BitstreamFormatsComponent.\u0275fac=__name(function(t){return new(t||BitstreamFormatsComponent)(core.Y36(notifications_service.T),core.Y36(router.F0),core.Y36(ngx_translate_core.sK),core.Y36(bitstream_format_data_service.O),core.Y36(pagination_service.N))},"BitstreamFormatsComponent_Factory"),BitstreamFormatsComponent.\u0275cmp=core.Xpm({type:BitstreamFormatsComponent,selectors:[["ds-bitstream-formats"]],decls:22,vars:22,consts:[[1,"container"],[1,"bitstream-formats","row"],[1,"col-12"],["id","header",1,"border-bottom","pb-2"],["id","description"],["id","create-new",1,"mb-2"],[1,"btn","btn-success",3,"routerLink"],[3,"paginationOptions","pageInfoState","collectionSize","hideGear","hidePagerWhenSinglePage",4,"ngIf"],["class","alert alert-info","role","alert",4,"ngIf"],["class","btn btn-primary deselect",3,"click",4,"ngIf"],["type","submit","class","btn btn-danger float-right",3,"click",4,"ngIf"],[3,"paginationOptions","pageInfoState","collectionSize","hideGear","hidePagerWhenSinglePage"],[1,"table-responsive"],["id","formats",1,"table","table-striped","table-hover"],["scope","col"],[4,"ngFor","ngForOf"],["type","checkbox",3,"checked","change"],[3,"routerLink"],[4,"ngIf"],["role","alert",1,"alert","alert-info"],[1,"btn","btn-primary","deselect",3,"click"],["type","submit",1,"btn","btn-danger","float-right",3,"click"]],template:__name(function(rf,ctx){if(1&rf&&(core.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h2",3),core._uU(4),core.ALo(5,"translate"),core.qZA(),core.TgZ(6,"p",4),core._uU(7),core.ALo(8,"translate"),core.qZA(),core.TgZ(9,"p",5)(10,"a",6),core._uU(11),core.ALo(12,"translate"),core.qZA()(),core.YNc(13,BitstreamFormatsComponent_ds_pagination_13_Template,20,21,"ds-pagination",7),core.ALo(14,"async"),core.YNc(15,BitstreamFormatsComponent_div_15_Template,3,3,"div",8),core.ALo(16,"async"),core.TgZ(17,"div"),core.YNc(18,BitstreamFormatsComponent_button_18_Template,3,3,"button",9),core.ALo(19,"async"),core.YNc(20,BitstreamFormatsComponent_button_20_Template,3,3,"button",10),core.ALo(21,"async"),core.qZA()()()()),2&rf){let tmp_4_0,tmp_5_0,tmp_6_0,tmp_7_0;core.xp6(4),core.Oqu(core.lcZ(5,8,"admin.registries.bitstream-formats.head")),core.xp6(3),core.Oqu(core.lcZ(8,10,"admin.registries.bitstream-formats.description")),core.xp6(3),core.Q6J("routerLink","add"),core.xp6(1),core.Oqu(core.lcZ(12,12,"admin.registries.bitstream-formats.create.new")),core.xp6(2),core.Q6J("ngIf",(null==(tmp_4_0=core.lcZ(14,14,ctx.bitstreamFormats))||null==tmp_4_0.payload?null:tmp_4_0.payload.totalElements)>0),core.xp6(2),core.Q6J("ngIf",0==(null==(tmp_5_0=core.lcZ(16,16,ctx.bitstreamFormats))||null==tmp_5_0.payload?null:tmp_5_0.payload.totalElements)),core.xp6(3),core.Q6J("ngIf",(null==(tmp_6_0=core.lcZ(19,18,ctx.bitstreamFormats))||null==tmp_6_0.payload||null==tmp_6_0.payload.page?null:tmp_6_0.payload.page.length)>0),core.xp6(2),core.Q6J("ngIf",(null==(tmp_7_0=core.lcZ(21,20,ctx.bitstreamFormats))||null==tmp_7_0.payload||null==tmp_7_0.payload.page?null:tmp_7_0.payload.page.length)>0)}},"BitstreamFormatsComponent_Template"),directives:[router.yS,common.O5,pagination_component.Q,common.sg],pipes:[ngx_translate_core.X$,common.Ov],encapsulation:2});class AddBitstreamFormatComponent{constructor(router2,notificationService,translateService,bitstreamFormatDataService){this.router=router2,this.notificationService=notificationService,this.translateService=translateService,this.bitstreamFormatDataService=bitstreamFormatDataService}createBitstreamFormat(bitstreamFormat){this.bitstreamFormatDataService.createBitstreamFormat(bitstreamFormat).pipe((0,operators.hC)()).subscribe(response=>{response.hasSucceeded?(this.notificationService.success(this.translateService.get("admin.registries.bitstream-formats.create.success.head"),this.translateService.get("admin.registries.bitstream-formats.create.success.content")),this.router.navigate([(0,admin_registries_routing_paths.e)()]),this.bitstreamFormatDataService.clearBitStreamFormatRequests().subscribe()):this.notificationService.error(this.translateService.get("admin.registries.bitstream-formats.create.failure.head"),this.translateService.get("admin.registries.bitstream-formats.create.failure.content"))})}}__name(AddBitstreamFormatComponent,"AddBitstreamFormatComponent"),AddBitstreamFormatComponent.\u0275fac=__name(function(t){return new(t||AddBitstreamFormatComponent)(core.Y36(router.F0),core.Y36(notifications_service.T),core.Y36(ngx_translate_core.sK),core.Y36(bitstream_format_data_service.O))},"AddBitstreamFormatComponent_Factory"),AddBitstreamFormatComponent.\u0275cmp=core.Xpm({type:AddBitstreamFormatComponent,selectors:[["ds-add-bitstream-format"]],decls:7,vars:3,consts:[[1,"container"],[1,"row"],[1,"col-12","mb-4"],["id","sub-header",1,"border-bottom","mb-2"],[3,"updatedFormat"]],template:__name(function(rf,ctx){1&rf&&(core.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h2",3),core._uU(4),core.ALo(5,"translate"),core.qZA(),core.TgZ(6,"ds-bitstream-format-form",4),core.NdJ("updatedFormat",__name(function($event){return ctx.createBitstreamFormat($event)},"AddBitstreamFormatComponent_Template_ds_bitstream_format_form_updatedFormat_6_listener")),core.qZA()()()()),2&rf&&(core.xp6(4),core.Oqu(core.lcZ(5,1,"admin.registries.bitstream-formats.create.new")))},"AddBitstreamFormatComponent_Template"),directives:[FormatFormComponent],pipes:[ngx_translate_core.X$],encapsulation:2});var i18n_breadcrumb_resolver=__webpack_require__(98655);class BitstreamFormatsRoutingModule{}__name(BitstreamFormatsRoutingModule,"BitstreamFormatsRoutingModule"),BitstreamFormatsRoutingModule.\u0275fac=__name(function(t){return new(t||BitstreamFormatsRoutingModule)},"BitstreamFormatsRoutingModule_Factory"),BitstreamFormatsRoutingModule.\u0275mod=core.oAB({type:BitstreamFormatsRoutingModule}),BitstreamFormatsRoutingModule.\u0275inj=core.cJS({providers:[BitstreamFormatsResolver],imports:[[router.Bz.forChild([{path:"",component:BitstreamFormatsComponent},{path:"add",resolve:{breadcrumb:i18n_breadcrumb_resolver.t},component:AddBitstreamFormatComponent,data:{breadcrumbKey:"admin.registries.bitstream-formats.create"}},{path:":id/edit",component:EditBitstreamFormatComponent,resolve:{bitstreamFormat:BitstreamFormatsResolver,breadcrumb:i18n_breadcrumb_resolver.t},data:{breadcrumbKey:"admin.registries.bitstream-formats.edit"}}])]]});var form_module=__webpack_require__(10194);class BitstreamFormatsModule{}__name(BitstreamFormatsModule,"BitstreamFormatsModule"),BitstreamFormatsModule.\u0275fac=__name(function(t){return new(t||BitstreamFormatsModule)},"BitstreamFormatsModule_Factory"),BitstreamFormatsModule.\u0275mod=core.oAB({type:BitstreamFormatsModule}),BitstreamFormatsModule.\u0275inj=core.cJS({imports:[[common.ez,shared_module.m,router.Bz,BitstreamFormatsRoutingModule,form_module.e]]})},10047:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{B:()=>REGISTRIES_MODULE_PATH,T:()=>getRegistriesModuleRoute});var _core_url_combiner_url_combiner__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(23631),_app_routing_paths__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(50503);const REGISTRIES_MODULE_PATH="registries";function getRegistriesModuleRoute(){return new _core_url_combiner_url_combiner__WEBPACK_IMPORTED_MODULE_1__.R((0,_app_routing_paths__WEBPACK_IMPORTED_MODULE_0__.V5)(),REGISTRIES_MODULE_PATH).toString()}__name(getRegistriesModuleRoute,"getRegistriesModuleRoute")},64196:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{AdminModule:()=>AdminModule});var shared_module=__webpack_require__(57981),access_control_module=__webpack_require__(98951),admin_registries_module=__webpack_require__(20110),router=__webpack_require__(74202),script_data_service=__webpack_require__(47556),process_parameter_model=__webpack_require__(36094),empty_util=__webpack_require__(24702),notifications_service=__webpack_require__(82596),operators=__webpack_require__(13730),process_page_routing_paths=__webpack_require__(96482),core=__webpack_require__(5e3),common=__webpack_require__(69808),ngx_translate_core=__webpack_require__(42466),fesm2015_forms=__webpack_require__(93075),file_dropzone_no_uploader_component=__webpack_require__(90190);class MetadataImportPageComponent{constructor(location,translate,notificationsService,scriptDataService,router2){this.location=location,this.translate=translate,this.notificationsService=notificationsService,this.scriptDataService=scriptDataService,this.router=router2,this.validateOnly=!0}setFile(file){this.fileObject=file}onReturn(){this.location.back()}importMetadata(){if(null==this.fileObject)this.notificationsService.error(this.translate.get("admin.metadata-import.page.error.addFile"));else{const parameterValues=[Object.assign(new process_parameter_model.N,{name:"-f",value:this.fileObject.name})];this.validateOnly&&parameterValues.push(Object.assign(new process_parameter_model.N,{name:"-v",value:!0})),this.scriptDataService.invoke(script_data_service.As,parameterValues,[this.fileObject]).pipe((0,operators.hC)()).subscribe(rd=>{if(rd.hasSucceeded){const title=this.translate.get("process.new.notification.success.title"),content=this.translate.get("process.new.notification.success.content");this.notificationsService.success(title,content),(0,empty_util.UE)(rd.payload)&&this.router.navigateByUrl((0,process_page_routing_paths.Ah)(rd.payload.processId))}else{const title=this.translate.get("process.new.notification.error.title"),content=this.translate.get("process.new.notification.error.content");this.notificationsService.error(title,content)}})}}}__name(MetadataImportPageComponent,"MetadataImportPageComponent"),MetadataImportPageComponent.\u0275fac=__name(function(t){return new(t||MetadataImportPageComponent)(core.Y36(common.Ye),core.Y36(ngx_translate_core.sK),core.Y36(notifications_service.T),core.Y36(script_data_service.UY),core.Y36(router.F0))},"MetadataImportPageComponent_Factory"),MetadataImportPageComponent.\u0275cmp=core.Xpm({type:MetadataImportPageComponent,selectors:[["ds-metadata-import-page"]],decls:24,vars:21,consts:[[1,"container"],["id","header"],[1,"form-group"],[1,"form-check"],["type","checkbox","id","validateOnly",1,"form-check-input",3,"ngModel","ngModelChange"],["for","validateOnly",1,"form-check-label"],["id","validateOnlyHelpBlock",1,"form-text","text-muted"],[3,"dropMessageLabel","dropMessageLabelReplacement","onFileAdded"],[1,"space-children-mr"],["id","backButton",1,"btn","btn-secondary",3,"click"],["id","proceedButton",1,"btn","btn-primary",3,"click"]],template:__name(function(rf,ctx){1&rf&&(core.TgZ(0,"div",0)(1,"h2",1),core._uU(2),core.ALo(3,"translate"),core.qZA(),core.TgZ(4,"p"),core._uU(5),core.ALo(6,"translate"),core.qZA(),core.TgZ(7,"div",2)(8,"div",3)(9,"input",4),core.NdJ("ngModelChange",__name(function($event){return ctx.validateOnly=$event},"MetadataImportPageComponent_Template_input_ngModelChange_9_listener")),core.qZA(),core.TgZ(10,"label",5),core._uU(11),core.ALo(12,"translate"),core.qZA()(),core.TgZ(13,"small",6),core._uU(14),core.ALo(15,"translate"),core.qZA()(),core.TgZ(16,"ds-file-dropzone-no-uploader",7),core.NdJ("onFileAdded",__name(function($event){return ctx.setFile($event)},"MetadataImportPageComponent_Template_ds_file_dropzone_no_uploader_onFileAdded_16_listener")),core.qZA(),core.TgZ(17,"div",8)(18,"button",9),core.NdJ("click",__name(function(){return ctx.onReturn()},"MetadataImportPageComponent_Template_button_click_18_listener")),core._uU(19),core.ALo(20,"translate"),core.qZA(),core.TgZ(21,"button",10),core.NdJ("click",__name(function(){return ctx.importMetadata()},"MetadataImportPageComponent_Template_button_click_21_listener")),core._uU(22),core.ALo(23,"translate"),core.qZA()()()),2&rf&&(core.xp6(2),core.Oqu(core.lcZ(3,9,"admin.metadata-import.page.header")),core.xp6(3),core.Oqu(core.lcZ(6,11,"admin.metadata-import.page.help")),core.xp6(4),core.Q6J("ngModel",ctx.validateOnly),core.xp6(2),core.hij(" ",core.lcZ(12,13,"admin.metadata-import.page.validateOnly")," "),core.xp6(3),core.hij(" ",core.lcZ(15,15,"admin.metadata-import.page.validateOnly.hint")," "),core.xp6(2),core.Q6J("dropMessageLabel","admin.metadata-import.page.dropMsg")("dropMessageLabelReplacement","admin.metadata-import.page.dropMsgReplace"),core.xp6(3),core.Oqu(core.lcZ(20,17,"admin.metadata-import.page.button.return")),core.xp6(3),core.Oqu(core.lcZ(23,19,"admin.metadata-import.page.button.proceed")))},"MetadataImportPageComponent_Template"),directives:[fesm2015_forms.Wl,fesm2015_forms.JJ,fesm2015_forms.On,file_dropzone_no_uploader_component.n],pipes:[ngx_translate_core.X$],encapsulation:2});var context_model=__webpack_require__(84935),configuration_search_page_component=__webpack_require__(61208);class AdminSearchPageComponent{constructor(){this.context=context_model._.AdminSearch}}__name(AdminSearchPageComponent,"AdminSearchPageComponent"),AdminSearchPageComponent.\u0275fac=__name(function(t){return new(t||AdminSearchPageComponent)},"AdminSearchPageComponent_Factory"),AdminSearchPageComponent.\u0275cmp=core.Xpm({type:AdminSearchPageComponent,selectors:[["ds-admin-search-page"]],decls:1,vars:1,consts:[["configuration","administrativeView",3,"context"]],template:__name(function(rf,ctx){1&rf&&core._UZ(0,"ds-configuration-search-page",0),2&rf&&core.Q6J("context",ctx.context)},"AdminSearchPageComponent_Template"),directives:[configuration_search_page_component.ConfigurationSearchPageComponent],styles:[""]});var i18n_breadcrumb_resolver=__webpack_require__(98655);class AdminWorkflowPageComponent{constructor(){this.context=context_model._.AdminWorkflowSearch}}__name(AdminWorkflowPageComponent,"AdminWorkflowPageComponent"),AdminWorkflowPageComponent.\u0275fac=__name(function(t){return new(t||AdminWorkflowPageComponent)},"AdminWorkflowPageComponent_Factory"),AdminWorkflowPageComponent.\u0275cmp=core.Xpm({type:AdminWorkflowPageComponent,selectors:[["ds-admin-workflow-page"]],decls:1,vars:1,consts:[["configuration","workflowAdmin",3,"context"]],template:__name(function(rf,ctx){1&rf&&core._UZ(0,"ds-configuration-search-page",0),2&rf&&core.Q6J("context",ctx.context)},"AdminWorkflowPageComponent_Template"),directives:[configuration_search_page_component.ConfigurationSearchPageComponent],styles:[""]});var i18n_breadcrumbs_service=__webpack_require__(43001),curation_form_component=__webpack_require__(57189);class AdminCurationTasksComponent{}__name(AdminCurationTasksComponent,"AdminCurationTasksComponent"),AdminCurationTasksComponent.\u0275fac=__name(function(t){return new(t||AdminCurationTasksComponent)},"AdminCurationTasksComponent_Factory"),AdminCurationTasksComponent.\u0275cmp=core.Xpm({type:AdminCurationTasksComponent,selectors:[["ds-admin-curation-task"]],decls:5,vars:3,consts:[[1,"container"]],template:__name(function(rf,ctx){1&rf&&(core.TgZ(0,"div",0)(1,"h2"),core._uU(2),core.ALo(3,"translate"),core.qZA(),core._UZ(4,"ds-curation-form"),core.qZA()),2&rf&&(core.xp6(2),core.Oqu(core.lcZ(3,1,"admin.curation-tasks.header")))},"AdminCurationTasksComponent_Template"),directives:[curation_form_component._],pipes:[ngx_translate_core.X$],encapsulation:2});var admin_routing_paths=__webpack_require__(10047),import_batch_selector_component=__webpack_require__(57117),cjs_operators=__webpack_require__(83292),dso_name_service=__webpack_require__(83616),ng_bootstrap=__webpack_require__(13707);function BatchImportPageComponent_p_7_Template(rf,ctx){if(1&rf){const _r2=core.EpF();core.TgZ(0,"p"),core._uU(1," selected collection: "),core.TgZ(2,"b"),core._uU(3),core.qZA(),core._uU(4,"\xa0 "),core.TgZ(5,"a",13),core.NdJ("click",__name(function(){return core.CHM(_r2),core.oxw().removeDspaceObject()},"BatchImportPageComponent_p_7_Template_a_click_5_listener")),core._uU(6),core.ALo(7,"translate"),core.qZA()()}if(2&rf){const ctx_r0=core.oxw();core.xp6(3),core.Oqu(ctx_r0.getDspaceObjectName()),core.xp6(3),core.Oqu(core.lcZ(7,2,"admin.batch-import.page.remove"))}}__name(BatchImportPageComponent_p_7_Template,"BatchImportPageComponent_p_7_Template");class BatchImportPageComponent{constructor(location,translate,notificationsService,scriptDataService,router2,modalService,dsoNameService){this.location=location,this.translate=translate,this.notificationsService=notificationsService,this.scriptDataService=scriptDataService,this.router=router2,this.modalService=modalService,this.dsoNameService=dsoNameService,this.validateOnly=!0,this.dso=null}setFile(file){this.fileObject=file}onReturn(){this.location.back()}selectCollection(){this.modalService.open(import_batch_selector_component.w).componentInstance.response.pipe((0,cjs_operators.qn)(1)).subscribe(dso=>{this.dso=dso||null})}importMetadata(){if(null==this.fileObject)this.notificationsService.error(this.translate.get("admin.metadata-import.page.error.addFile"));else{const parameterValues=[Object.assign(new process_parameter_model.N,{name:"--zip",value:this.fileObject.name}),Object.assign(new process_parameter_model.N,{name:"--add"})];this.dso&&parameterValues.push(Object.assign(new process_parameter_model.N,{name:"--collection",value:this.dso.uuid})),this.validateOnly&&parameterValues.push(Object.assign(new process_parameter_model.N,{name:"-v",value:!0})),this.scriptDataService.invoke(script_data_service.rI,parameterValues,[this.fileObject]).pipe((0,operators.hC)()).subscribe(rd=>{if(rd.hasSucceeded){const title=this.translate.get("process.new.notification.success.title"),content=this.translate.get("process.new.notification.success.content");this.notificationsService.success(title,content),(0,empty_util.UE)(rd.payload)&&this.router.navigateByUrl((0,process_page_routing_paths.Ah)(rd.payload.processId))}else{const title=this.translate.get("process.new.notification.error.title"),content=this.translate.get("process.new.notification.error.content");this.notificationsService.error(title,content)}})}}getDspaceObjectName(){return this.dso?this.dsoNameService.getName(this.dso):null}removeDspaceObject(){this.dso=null}}__name(BatchImportPageComponent,"BatchImportPageComponent"),BatchImportPageComponent.\u0275fac=__name(function(t){return new(t||BatchImportPageComponent)(core.Y36(common.Ye),core.Y36(ngx_translate_core.sK),core.Y36(notifications_service.T),core.Y36(script_data_service.UY),core.Y36(router.F0),core.Y36(ng_bootstrap.FF),core.Y36(dso_name_service._))},"BatchImportPageComponent_Factory"),BatchImportPageComponent.\u0275cmp=core.Xpm({type:BatchImportPageComponent,selectors:[["ds-batch-import-page"]],decls:29,vars:25,consts:[[1,"container"],["id","header"],[4,"ngIf"],[1,"btn","btn-primary",3,"click"],[1,"form-group"],[1,"form-check"],["type","checkbox","id","validateOnly",1,"form-check-input",3,"ngModel","ngModelChange"],["for","validateOnly",1,"form-check-label"],["id","validateOnlyHelpBlock",1,"form-text","text-muted"],[3,"dropMessageLabel","dropMessageLabelReplacement","onFileAdded"],[1,"space-children-mr"],["id","backButton",1,"btn","btn-secondary",3,"click"],["id","proceedButton",1,"btn","btn-primary",3,"click"],["href","javascript:void(0)",3,"click"]],template:__name(function(rf,ctx){1&rf&&(core.TgZ(0,"div",0)(1,"h2",1),core._uU(2),core.ALo(3,"translate"),core.qZA(),core.TgZ(4,"p"),core._uU(5),core.ALo(6,"translate"),core.qZA(),core.YNc(7,BatchImportPageComponent_p_7_Template,8,4,"p",2),core.TgZ(8,"p")(9,"button",3),core.NdJ("click",__name(function(){return ctx.selectCollection()},"BatchImportPageComponent_Template_button_click_9_listener")),core._uU(10),core.ALo(11,"translate"),core.qZA()(),core.TgZ(12,"div",4)(13,"div",5)(14,"input",6),core.NdJ("ngModelChange",__name(function($event){return ctx.validateOnly=$event},"BatchImportPageComponent_Template_input_ngModelChange_14_listener")),core.qZA(),core.TgZ(15,"label",7),core._uU(16),core.ALo(17,"translate"),core.qZA()(),core.TgZ(18,"small",8),core._uU(19),core.ALo(20,"translate"),core.qZA()(),core.TgZ(21,"ds-file-dropzone-no-uploader",9),core.NdJ("onFileAdded",__name(function($event){return ctx.setFile($event)},"BatchImportPageComponent_Template_ds_file_dropzone_no_uploader_onFileAdded_21_listener")),core.qZA(),core.TgZ(22,"div",10)(23,"button",11),core.NdJ("click",__name(function(){return ctx.onReturn()},"BatchImportPageComponent_Template_button_click_23_listener")),core._uU(24),core.ALo(25,"translate"),core.qZA(),core.TgZ(26,"button",12),core.NdJ("click",__name(function(){return ctx.importMetadata()},"BatchImportPageComponent_Template_button_click_26_listener")),core._uU(27),core.ALo(28,"translate"),core.qZA()()()),2&rf&&(core.xp6(2),core.Oqu(core.lcZ(3,11,"admin.batch-import.page.header")),core.xp6(3),core.Oqu(core.lcZ(6,13,"admin.batch-import.page.help")),core.xp6(2),core.Q6J("ngIf",ctx.dso),core.xp6(3),core.Oqu(core.lcZ(11,15,"admin.metadata-import.page.button.select-collection")),core.xp6(4),core.Q6J("ngModel",ctx.validateOnly),core.xp6(2),core.hij(" ",core.lcZ(17,17,"admin.metadata-import.page.validateOnly")," "),core.xp6(3),core.hij(" ",core.lcZ(20,19,"admin.batch-import.page.validateOnly.hint")," "),core.xp6(2),core.Q6J("dropMessageLabel","admin.batch-import.page.dropMsg")("dropMessageLabelReplacement","admin.batch-import.page.dropMsgReplace"),core.xp6(3),core.Oqu(core.lcZ(25,21,"admin.metadata-import.page.button.return")),core.xp6(3),core.Oqu(core.lcZ(28,23,"admin.metadata-import.page.button.proceed")))},"BatchImportPageComponent_Template"),directives:[common.O5,fesm2015_forms.Wl,fesm2015_forms.JJ,fesm2015_forms.On,file_dropzone_no_uploader_component.n],pipes:[ngx_translate_core.X$],encapsulation:2});class AdminRoutingModule{}__name(AdminRoutingModule,"AdminRoutingModule"),AdminRoutingModule.\u0275fac=__name(function(t){return new(t||AdminRoutingModule)},"AdminRoutingModule_Factory"),AdminRoutingModule.\u0275mod=core.oAB({type:AdminRoutingModule}),AdminRoutingModule.\u0275inj=core.cJS({providers:[i18n_breadcrumb_resolver.t,i18n_breadcrumbs_service.d],imports:[[router.Bz.forChild([{path:admin_routing_paths.B,loadChildren:()=>Promise.resolve().then(__webpack_require__.bind(__webpack_require__,20110)).then(m=>m.AdminRegistriesModule)},{path:"search",resolve:{breadcrumb:i18n_breadcrumb_resolver.t},component:AdminSearchPageComponent,data:{title:"admin.search.title",breadcrumbKey:"admin.search"}},{path:"workflow",resolve:{breadcrumb:i18n_breadcrumb_resolver.t},component:AdminWorkflowPageComponent,data:{title:"admin.workflow.title",breadcrumbKey:"admin.workflow"}},{path:"curation-tasks",resolve:{breadcrumb:i18n_breadcrumb_resolver.t},component:AdminCurationTasksComponent,data:{title:"admin.curation-tasks.title",breadcrumbKey:"admin.curation-tasks"}},{path:"metadata-import",resolve:{breadcrumb:i18n_breadcrumb_resolver.t},component:MetadataImportPageComponent,data:{title:"admin.metadata-import.title",breadcrumbKey:"admin.metadata-import"}},{path:"batch-import",resolve:{breadcrumb:i18n_breadcrumb_resolver.t},component:BatchImportPageComponent,data:{title:"admin.batch-import.title",breadcrumbKey:"admin.batch-import"}}])]]});var tslib_es6=__webpack_require__(70655),view_mode_model=__webpack_require__(51121),listable_object_decorator=__webpack_require__(62921),search_result_grid_element_component=__webpack_require__(30150),truncatable_service=__webpack_require__(29602),bitstream_data_service=__webpack_require__(48532),listable_object_directive=__webpack_require__(8852),link_service=__webpack_require__(94476),follow_link_config_model=__webpack_require__(93369),workflow_item_search_result_model=__webpack_require__(2951),theme_service=__webpack_require__(96728),workflowitems_edit_page_routing_paths=(__webpack_require__(61200),__webpack_require__(53695));function WorkflowItemAdminWorkflowActionsComponent_span_4_Template(rf,ctx){1&rf&&(core.TgZ(0,"span",6),core._uU(1),core.ALo(2,"translate"),core.qZA()),2&rf&&(core.xp6(1),core.hij(" ",core.lcZ(2,1,"admin.workflow.item.delete"),""))}function WorkflowItemAdminWorkflowActionsComponent_span_8_Template(rf,ctx){1&rf&&(core.TgZ(0,"span",6),core._uU(1),core.ALo(2,"translate"),core.qZA()),2&rf&&(core.xp6(1),core.hij(" ",core.lcZ(2,1,"admin.workflow.item.send-back"),""))}__name(WorkflowItemAdminWorkflowActionsComponent_span_4_Template,"WorkflowItemAdminWorkflowActionsComponent_span_4_Template"),__name(WorkflowItemAdminWorkflowActionsComponent_span_8_Template,"WorkflowItemAdminWorkflowActionsComponent_span_8_Template");const _c0=__name(function(a0){return{"btn-sm":a0}},"_c0"),_c1=__name(function(a0){return[a0]},"_c1");class WorkflowItemAdminWorkflowActionsComponent{getDeleteRoute(){return(0,workflowitems_edit_page_routing_paths.fk)(this.wfi.id)}getSendBackRoute(){return(0,workflowitems_edit_page_routing_paths.Du)(this.wfi.id)}}__name(WorkflowItemAdminWorkflowActionsComponent,"WorkflowItemAdminWorkflowActionsComponent"),WorkflowItemAdminWorkflowActionsComponent.\u0275fac=__name(function(t){return new(t||WorkflowItemAdminWorkflowActionsComponent)},"WorkflowItemAdminWorkflowActionsComponent_Factory"),WorkflowItemAdminWorkflowActionsComponent.\u0275cmp=core.Xpm({type:WorkflowItemAdminWorkflowActionsComponent,selectors:[["ds-workflow-item-admin-workflow-actions-element"]],inputs:{wfi:"wfi",small:"small"},decls:9,vars:20,consts:[[1,"space-children-mr"],[1,"btn","btn-light","my-1","delete-link",3,"ngClass","routerLink","title"],[1,"fa","fa-trash"],["class","d-none d-sm-inline",4,"ngIf"],[1,"btn","btn-light","my-1","send-back-link",3,"ngClass","routerLink","title"],[1,"fa","fa-hand-point-left"],[1,"d-none","d-sm-inline"]],template:__name(function(rf,ctx){1&rf&&(core.TgZ(0,"div",0)(1,"a",1),core.ALo(2,"translate"),core._UZ(3,"i",2),core.YNc(4,WorkflowItemAdminWorkflowActionsComponent_span_4_Template,3,3,"span",3),core.qZA(),core.TgZ(5,"a",4),core.ALo(6,"translate"),core._UZ(7,"i",5),core.YNc(8,WorkflowItemAdminWorkflowActionsComponent_span_8_Template,3,3,"span",3),core.qZA()()),2&rf&&(core.xp6(1),core.Q6J("ngClass",core.VKq(12,_c0,ctx.small))("routerLink",core.VKq(14,_c1,ctx.getDeleteRoute()))("title",core.lcZ(2,8,"admin.workflow.item.delete")),core.xp6(3),core.Q6J("ngIf",!ctx.small),core.xp6(1),core.Q6J("ngClass",core.VKq(16,_c0,ctx.small))("routerLink",core.VKq(18,_c1,ctx.getSendBackRoute()))("title",core.lcZ(6,10,"admin.workflow.item.send-back")),core.xp6(3),core.Q6J("ngIf",!ctx.small))},"WorkflowItemAdminWorkflowActionsComponent_Template"),directives:[router.yS,common.mk,common.O5],pipes:[ngx_translate_core.X$],styles:[""]});const workflow_item_search_result_admin_workflow_grid_element_component_c0=["badges"],workflow_item_search_result_admin_workflow_grid_element_component_c1=["buttons"];function WorkflowItemSearchResultAdminWorkflowGridElementComponent_ng_template_0_Template(rf,ctx){}function WorkflowItemSearchResultAdminWorkflowGridElementComponent_ds_workflow_item_admin_workflow_actions_element_10_Template(rf,ctx){if(1&rf&&core._UZ(0,"ds-workflow-item-admin-workflow-actions-element",9),2&rf){const ctx_r3=core.oxw();core.Q6J("wfi",ctx_r3.dso)("small",!0)}}__name(WorkflowItemSearchResultAdminWorkflowGridElementComponent_ng_template_0_Template,"WorkflowItemSearchResultAdminWorkflowGridElementComponent_ng_template_0_Template"),__name(WorkflowItemSearchResultAdminWorkflowGridElementComponent_ds_workflow_item_admin_workflow_actions_element_10_Template,"WorkflowItemSearchResultAdminWorkflowGridElementComponent_ds_workflow_item_admin_workflow_actions_element_10_Template");let WorkflowItemSearchResultAdminWorkflowGridElementComponent=__name(class extends search_result_grid_element_component.h{constructor(componentFactoryResolver,linkService,truncatableService,themeService,bitstreamDataService){super(truncatableService,bitstreamDataService),this.componentFactoryResolver=componentFactoryResolver,this.linkService=linkService,this.truncatableService=truncatableService,this.themeService=themeService,this.bitstreamDataService=bitstreamDataService}ngOnInit(){super.ngOnInit(),this.dso=this.linkService.resolveLink(this.dso,(0,follow_link_config_model.l)("item")),this.item$=this.dso.item.pipe((0,operators.g1)(),(0,operators.xe)()),this.item$.pipe((0,cjs_operators.qn)(1)).subscribe(item=>{const componentFactory=this.componentFactoryResolver.resolveComponentFactory(this.getComponent(item)),viewContainerRef=this.listableObjectDirective.viewContainerRef;viewContainerRef.clear();const componentRef=viewContainerRef.createComponent(componentFactory,0,void 0,[[this.badges.nativeElement],[this.buttons.nativeElement]]);componentRef.instance.object=item,componentRef.instance.index=this.index,componentRef.instance.linkType=this.linkType,componentRef.instance.listID=this.listID,componentRef.changeDetectorRef.detectChanges()})}getComponent(item){return(0,listable_object_decorator.mt)(item.getRenderTypes(),view_mode_model.w.GridElement,void 0,this.themeService.getThemeName())}},"WorkflowItemSearchResultAdminWorkflowGridElementComponent");WorkflowItemSearchResultAdminWorkflowGridElementComponent.\u0275fac=__name(function(t){return new(t||WorkflowItemSearchResultAdminWorkflowGridElementComponent)(core.Y36(core._Vd),core.Y36(link_service.M),core.Y36(truncatable_service.F),core.Y36(theme_service.fY),core.Y36(bitstream_data_service.J))},"WorkflowItemSearchResultAdminWorkflowGridElementComponent_Factory"),WorkflowItemSearchResultAdminWorkflowGridElementComponent.\u0275cmp=core.Xpm({type:WorkflowItemSearchResultAdminWorkflowGridElementComponent,selectors:[["ds-workflow-item-search-result-admin-workflow-grid-element"]],viewQuery:__name(function(rf,ctx){if(1&rf&&(core.Gf(listable_object_directive.U,7),core.Gf(workflow_item_search_result_admin_workflow_grid_element_component_c0,7),core.Gf(workflow_item_search_result_admin_workflow_grid_element_component_c1,7)),2&rf){let _t;core.iGM(_t=core.CRH())&&(ctx.listableObjectDirective=_t.first),core.iGM(_t=core.CRH())&&(ctx.badges=_t.first),core.iGM(_t=core.CRH())&&(ctx.buttons=_t.first)}},"WorkflowItemSearchResultAdminWorkflowGridElementComponent_Query"),features:[core.qOj],decls:11,vars:4,consts:[["dsListableObject",""],[1,"position-absolute","ml-1"],["badges",""],[1,"workflow-badge"],[1,"badge","badge-info"],[1,"list-group","list-group-flush"],["buttons",""],[1,"list-group-item"],["class","d-flex justify-content-between",3,"wfi","small",4,"ngIf"],[1,"d-flex","justify-content-between",3,"wfi","small"]],template:__name(function(rf,ctx){1&rf&&(core.YNc(0,WorkflowItemSearchResultAdminWorkflowGridElementComponent_ng_template_0_Template,0,0,"ng-template",0),core.TgZ(1,"div",1,2)(3,"div",3)(4,"span",4),core._uU(5),core.ALo(6,"translate"),core.qZA()()(),core.TgZ(7,"ul",5,6)(9,"li",7),core.YNc(10,WorkflowItemSearchResultAdminWorkflowGridElementComponent_ds_workflow_item_admin_workflow_actions_element_10_Template,1,2,"ds-workflow-item-admin-workflow-actions-element",8),core.qZA()()),2&rf&&(core.xp6(5),core.Oqu(core.lcZ(6,2,"admin.workflow.item.workflow")),core.xp6(5),core.Q6J("ngIf",ctx.object))},"WorkflowItemSearchResultAdminWorkflowGridElementComponent_Template"),directives:[listable_object_directive.U,common.O5,WorkflowItemAdminWorkflowActionsComponent],pipes:[ngx_translate_core.X$],styles:[""]}),WorkflowItemSearchResultAdminWorkflowGridElementComponent=(0,tslib_es6.gn)([(0,listable_object_decorator.d$)(workflow_item_search_result_model.s,view_mode_model.w.GridElement,context_model._.AdminWorkflowSearch),(0,tslib_es6.w6)("design:paramtypes",[core._Vd,link_service.M,truncatable_service.F,theme_service.fY,bitstream_data_service.J])],WorkflowItemSearchResultAdminWorkflowGridElementComponent);var search_result_list_element_component=__webpack_require__(79691),app_config_interface=__webpack_require__(63645),listable_object_component_loader_component=__webpack_require__(51962);function WorkflowItemSearchResultAdminWorkflowListElementComponent_ds_listable_object_component_loader_4_Template(rf,ctx){if(1&rf&&(core._UZ(0,"ds-listable-object-component-loader",4),core.ALo(1,"async")),2&rf){const ctx_r0=core.oxw();core.Q6J("object",core.lcZ(1,5,ctx_r0.item$))("viewMode",ctx_r0.viewModes.ListElement)("index",ctx_r0.index)("linkType",ctx_r0.linkType)("listID",ctx_r0.listID)}}__name(WorkflowItemSearchResultAdminWorkflowListElementComponent_ds_listable_object_component_loader_4_Template,"WorkflowItemSearchResultAdminWorkflowListElementComponent_ds_listable_object_component_loader_4_Template");let WorkflowItemSearchResultAdminWorkflowListElementComponent=__name(class extends search_result_list_element_component.c{constructor(linkService,truncatableService,dsoNameService,appConfig){super(truncatableService,dsoNameService,appConfig),this.linkService=linkService,this.truncatableService=truncatableService,this.dsoNameService=dsoNameService,this.appConfig=appConfig}ngOnInit(){super.ngOnInit(),this.dso=this.linkService.resolveLink(this.dso,(0,follow_link_config_model.l)("item")),this.item$=this.dso.item.pipe((0,operators.g1)(),(0,operators.xe)())}},"WorkflowItemSearchResultAdminWorkflowListElementComponent");WorkflowItemSearchResultAdminWorkflowListElementComponent.\u0275fac=__name(function(t){return new(t||WorkflowItemSearchResultAdminWorkflowListElementComponent)(core.Y36(link_service.M),core.Y36(truncatable_service.F),core.Y36(dso_name_service._),core.Y36(app_config_interface.q))},"WorkflowItemSearchResultAdminWorkflowListElementComponent_Factory"),WorkflowItemSearchResultAdminWorkflowListElementComponent.\u0275cmp=core.Xpm({type:WorkflowItemSearchResultAdminWorkflowListElementComponent,selectors:[["ds-workflow-item-search-result-admin-workflow-list-element"]],features:[core.qOj],decls:7,vars:8,consts:[[1,"workflow-badge"],[1,"badge","badge-info"],[3,"object","viewMode","index","linkType","listID",4,"ngIf"],[3,"wfi","small"],[3,"object","viewMode","index","linkType","listID"]],template:__name(function(rf,ctx){1&rf&&(core.TgZ(0,"div",0)(1,"span",1),core._uU(2),core.ALo(3,"translate"),core.qZA()(),core.YNc(4,WorkflowItemSearchResultAdminWorkflowListElementComponent_ds_listable_object_component_loader_4_Template,2,7,"ds-listable-object-component-loader",2),core.ALo(5,"async"),core._UZ(6,"ds-workflow-item-admin-workflow-actions-element",3)),2&rf&&(core.xp6(2),core.Oqu(core.lcZ(3,4,"admin.workflow.item.workflow")),core.xp6(2),core.Q6J("ngIf",core.lcZ(5,6,ctx.item$)),core.xp6(2),core.Q6J("wfi",ctx.dso)("small",!1))},"WorkflowItemSearchResultAdminWorkflowListElementComponent_Template"),directives:[common.O5,listable_object_component_loader_component.p,WorkflowItemAdminWorkflowActionsComponent],pipes:[ngx_translate_core.X$,common.Ov],styles:[""]}),WorkflowItemSearchResultAdminWorkflowListElementComponent=(0,tslib_es6.gn)([(0,listable_object_decorator.d$)(workflow_item_search_result_model.s,view_mode_model.w.ListElement,context_model._.AdminWorkflowSearch),(0,tslib_es6.w6)("design:paramtypes",[link_service.M,truncatable_service.F,dso_name_service._,Object])],WorkflowItemSearchResultAdminWorkflowListElementComponent);var search_module=__webpack_require__(57262);const ENTRY_COMPONENTS=[WorkflowItemSearchResultAdminWorkflowListElementComponent,WorkflowItemSearchResultAdminWorkflowGridElementComponent];class AdminWorkflowModuleModule{static withEntryComponents(){return{ngModule:shared_module.m,providers:ENTRY_COMPONENTS.map(component=>({provide:component}))}}}__name(AdminWorkflowModuleModule,"AdminWorkflowModuleModule"),AdminWorkflowModuleModule.\u0275fac=__name(function(t){return new(t||AdminWorkflowModuleModule)},"AdminWorkflowModuleModule_Factory"),AdminWorkflowModuleModule.\u0275mod=core.oAB({type:AdminWorkflowModuleModule}),AdminWorkflowModuleModule.\u0275inj=core.cJS({imports:[[search_module.t,shared_module.m.withEntryComponents()]]});var item_search_result_model=__webpack_require__(84412),url_combiner=(__webpack_require__(33609),__webpack_require__(23631)),item_page_routing_paths=__webpack_require__(40747),edit_item_page_routing_paths=__webpack_require__(84254);function ItemAdminSearchResultActionsComponent_span_4_Template(rf,ctx){1&rf&&(core.TgZ(0,"span",12),core._uU(1),core.ALo(2,"translate"),core.qZA()),2&rf&&(core.xp6(1),core.hij(" ",core.lcZ(2,1,"admin.search.item.move"),""))}function ItemAdminSearchResultActionsComponent_a_5_span_3_Template(rf,ctx){1&rf&&(core.TgZ(0,"span",12),core._uU(1),core.ALo(2,"translate"),core.qZA()),2&rf&&(core.xp6(1),core.hij(" ",core.lcZ(2,1,"admin.search.item.make-private"),""))}__name(ItemAdminSearchResultActionsComponent_span_4_Template,"ItemAdminSearchResultActionsComponent_span_4_Template"),__name(ItemAdminSearchResultActionsComponent_a_5_span_3_Template,"ItemAdminSearchResultActionsComponent_a_5_span_3_Template");const item_admin_search_result_actions_component_c0=__name(function(a0){return{"btn-sm":a0}},"item_admin_search_result_actions_component_c0"),item_admin_search_result_actions_component_c1=__name(function(a0){return[a0]},"item_admin_search_result_actions_component_c1");function ItemAdminSearchResultActionsComponent_a_5_Template(rf,ctx){if(1&rf&&(core.TgZ(0,"a",13),core.ALo(1,"translate"),core._UZ(2,"i",14),core.YNc(3,ItemAdminSearchResultActionsComponent_a_5_span_3_Template,3,3,"span",3),core.qZA()),2&rf){const ctx_r1=core.oxw();core.Q6J("ngClass",core.VKq(6,item_admin_search_result_actions_component_c0,ctx_r1.small))("routerLink",core.VKq(8,item_admin_search_result_actions_component_c1,ctx_r1.getPrivateRoute()))("title",core.lcZ(1,4,"admin.search.item.make-private")),core.xp6(3),core.Q6J("ngIf",!ctx_r1.small)}}function ItemAdminSearchResultActionsComponent_a_6_span_3_Template(rf,ctx){1&rf&&(core.TgZ(0,"span",12),core._uU(1),core.ALo(2,"translate"),core.qZA()),2&rf&&(core.xp6(1),core.hij(" ",core.lcZ(2,1,"admin.search.item.make-public"),""))}function ItemAdminSearchResultActionsComponent_a_6_Template(rf,ctx){if(1&rf&&(core.TgZ(0,"a",15),core.ALo(1,"translate"),core._UZ(2,"i",16),core.YNc(3,ItemAdminSearchResultActionsComponent_a_6_span_3_Template,3,3,"span",3),core.qZA()),2&rf){const ctx_r2=core.oxw();core.Q6J("ngClass",core.VKq(6,item_admin_search_result_actions_component_c0,ctx_r2.small))("routerLink",core.VKq(8,item_admin_search_result_actions_component_c1,ctx_r2.getPublicRoute()))("title",core.lcZ(1,4,"admin.search.item.make-public")),core.xp6(3),core.Q6J("ngIf",!ctx_r2.small)}}function ItemAdminSearchResultActionsComponent_span_10_Template(rf,ctx){1&rf&&(core.TgZ(0,"span",12),core._uU(1),core.ALo(2,"translate"),core.qZA()),2&rf&&(core.xp6(1),core.hij(" ",core.lcZ(2,1,"admin.search.item.edit"),""))}function ItemAdminSearchResultActionsComponent_a_11_span_3_Template(rf,ctx){1&rf&&(core.TgZ(0,"span",12),core._uU(1),core.ALo(2,"translate"),core.qZA()),2&rf&&(core.xp6(1),core.hij(" ",core.lcZ(2,1,"admin.search.item.withdraw"),""))}function ItemAdminSearchResultActionsComponent_a_11_Template(rf,ctx){if(1&rf&&(core.TgZ(0,"a",17),core.ALo(1,"translate"),core._UZ(2,"i",18),core.YNc(3,ItemAdminSearchResultActionsComponent_a_11_span_3_Template,3,3,"span",3),core.qZA()),2&rf){const ctx_r4=core.oxw();core.Q6J("ngClass",core.VKq(6,item_admin_search_result_actions_component_c0,ctx_r4.small))("routerLink",core.VKq(8,item_admin_search_result_actions_component_c1,ctx_r4.getWithdrawRoute()))("title",core.lcZ(1,4,"admin.search.item.withdraw")),core.xp6(3),core.Q6J("ngIf",!ctx_r4.small)}}function ItemAdminSearchResultActionsComponent_a_12_span_3_Template(rf,ctx){1&rf&&(core.TgZ(0,"span",12),core._uU(1),core.ALo(2,"translate"),core.qZA()),2&rf&&(core.xp6(1),core.hij(" ",core.lcZ(2,1,"admin.search.item.reinstate"),""))}function ItemAdminSearchResultActionsComponent_a_12_Template(rf,ctx){if(1&rf&&(core.TgZ(0,"a",19),core.ALo(1,"translate"),core._UZ(2,"i",20),core.YNc(3,ItemAdminSearchResultActionsComponent_a_12_span_3_Template,3,3,"span",3),core.qZA()),2&rf){const ctx_r5=core.oxw();core.Q6J("ngClass",core.VKq(6,item_admin_search_result_actions_component_c0,ctx_r5.small))("routerLink",core.VKq(8,item_admin_search_result_actions_component_c1,ctx_r5.getReinstateRoute()))("title",core.lcZ(1,4,"admin.search.item.reinstate")),core.xp6(3),core.Q6J("ngIf",!ctx_r5.small)}}function ItemAdminSearchResultActionsComponent_span_16_Template(rf,ctx){1&rf&&(core.TgZ(0,"span",12),core._uU(1),core.ALo(2,"translate"),core.qZA()),2&rf&&(core.xp6(1),core.hij(" ",core.lcZ(2,1,"admin.search.item.delete"),""))}__name(ItemAdminSearchResultActionsComponent_a_5_Template,"ItemAdminSearchResultActionsComponent_a_5_Template"),__name(ItemAdminSearchResultActionsComponent_a_6_span_3_Template,"ItemAdminSearchResultActionsComponent_a_6_span_3_Template"),__name(ItemAdminSearchResultActionsComponent_a_6_Template,"ItemAdminSearchResultActionsComponent_a_6_Template"),__name(ItemAdminSearchResultActionsComponent_span_10_Template,"ItemAdminSearchResultActionsComponent_span_10_Template"),__name(ItemAdminSearchResultActionsComponent_a_11_span_3_Template,"ItemAdminSearchResultActionsComponent_a_11_span_3_Template"),__name(ItemAdminSearchResultActionsComponent_a_11_Template,"ItemAdminSearchResultActionsComponent_a_11_Template"),__name(ItemAdminSearchResultActionsComponent_a_12_span_3_Template,"ItemAdminSearchResultActionsComponent_a_12_span_3_Template"),__name(ItemAdminSearchResultActionsComponent_a_12_Template,"ItemAdminSearchResultActionsComponent_a_12_Template"),__name(ItemAdminSearchResultActionsComponent_span_16_Template,"ItemAdminSearchResultActionsComponent_span_16_Template");class ItemAdminSearchResultActionsComponent{getEditRoute(){return(0,item_page_routing_paths.tn)(this.item)}getMoveRoute(){return new url_combiner.R(this.getEditRoute(),edit_item_page_routing_paths.Gr).toString()}getDeleteRoute(){return new url_combiner.R(this.getEditRoute(),edit_item_page_routing_paths.kJ).toString()}getWithdrawRoute(){return new url_combiner.R(this.getEditRoute(),edit_item_page_routing_paths.M0).toString()}getReinstateRoute(){return new url_combiner.R(this.getEditRoute(),edit_item_page_routing_paths.Pu).toString()}getPrivateRoute(){return new url_combiner.R(this.getEditRoute(),edit_item_page_routing_paths.X$).toString()}getPublicRoute(){return new url_combiner.R(this.getEditRoute(),edit_item_page_routing_paths.dI).toString()}}__name(ItemAdminSearchResultActionsComponent,"ItemAdminSearchResultActionsComponent"),ItemAdminSearchResultActionsComponent.\u0275fac=__name(function(t){return new(t||ItemAdminSearchResultActionsComponent)},"ItemAdminSearchResultActionsComponent_Factory"),ItemAdminSearchResultActionsComponent.\u0275cmp=core.Xpm({type:ItemAdminSearchResultActionsComponent,selectors:[["ds-item-admin-search-result-actions-element"]],inputs:{item:"item",small:"small"},decls:17,vars:34,consts:[[1,"space-children-mr","my-1"],[1,"btn","btn-secondary","move-link",3,"ngClass","routerLink","title"],[1,"fa","fa-arrow-circle-right"],["class","d-none d-sm-inline",4,"ngIf"],["class","btn btn-secondary private-link",3,"ngClass","routerLink","title",4,"ngIf"],["class","btn btn-secondary public-link",3,"ngClass","routerLink","title",4,"ngIf"],[1,"btn","btn-secondary","edit-link",3,"ngClass","routerLink","title"],[1,"fa","fa-edit"],["class","btn btn-warning t withdraw-link",3,"ngClass","routerLink","title",4,"ngIf"],["class","btn btn-warning reinstate-link",3,"ngClass","routerLink","title",4,"ngIf"],[1,"btn","btn-danger","delete-link",3,"ngClass","routerLink","title"],[1,"fa","fa-trash"],[1,"d-none","d-sm-inline"],[1,"btn","btn-secondary","private-link",3,"ngClass","routerLink","title"],[1,"fa","fa-eye-slash"],[1,"btn","btn-secondary","public-link",3,"ngClass","routerLink","title"],[1,"fa","fa-eye"],[1,"btn","btn-warning","t","withdraw-link",3,"ngClass","routerLink","title"],[1,"fa","fa-ban"],[1,"btn","btn-warning","reinstate-link",3,"ngClass","routerLink","title"],[1,"fa","fa-undo"]],template:__name(function(rf,ctx){1&rf&&(core.TgZ(0,"div",0)(1,"a",1),core.ALo(2,"translate"),core._UZ(3,"i",2),core.YNc(4,ItemAdminSearchResultActionsComponent_span_4_Template,3,3,"span",3),core.qZA(),core.YNc(5,ItemAdminSearchResultActionsComponent_a_5_Template,4,10,"a",4),core.YNc(6,ItemAdminSearchResultActionsComponent_a_6_Template,4,10,"a",5),core.TgZ(7,"a",6),core.ALo(8,"translate"),core._UZ(9,"i",7),core.YNc(10,ItemAdminSearchResultActionsComponent_span_10_Template,3,3,"span",3),core.qZA(),core.YNc(11,ItemAdminSearchResultActionsComponent_a_11_Template,4,10,"a",8),core.YNc(12,ItemAdminSearchResultActionsComponent_a_12_Template,4,10,"a",9),core.TgZ(13,"a",10),core.ALo(14,"translate"),core._UZ(15,"i",11),core.YNc(16,ItemAdminSearchResultActionsComponent_span_16_Template,3,3,"span",3),core.qZA()()),2&rf&&(core.xp6(1),core.Q6J("ngClass",core.VKq(22,item_admin_search_result_actions_component_c0,ctx.small))("routerLink",core.VKq(24,item_admin_search_result_actions_component_c1,ctx.getMoveRoute()))("title",core.lcZ(2,16,"admin.search.item.move")),core.xp6(3),core.Q6J("ngIf",!ctx.small),core.xp6(1),core.Q6J("ngIf",ctx.item&&ctx.item.isDiscoverable),core.xp6(1),core.Q6J("ngIf",ctx.item&&!ctx.item.isDiscoverable),core.xp6(1),core.Q6J("ngClass",core.VKq(26,item_admin_search_result_actions_component_c0,ctx.small))("routerLink",core.VKq(28,item_admin_search_result_actions_component_c1,ctx.getEditRoute()))("title",core.lcZ(8,18,"admin.search.item.edit")),core.xp6(3),core.Q6J("ngIf",!ctx.small),core.xp6(1),core.Q6J("ngIf",ctx.item&&!ctx.item.isWithdrawn),core.xp6(1),core.Q6J("ngIf",ctx.item&&ctx.item.isWithdrawn),core.xp6(1),core.Q6J("ngClass",core.VKq(30,item_admin_search_result_actions_component_c0,ctx.small))("routerLink",core.VKq(32,item_admin_search_result_actions_component_c1,ctx.getDeleteRoute()))("title",core.lcZ(14,20,"admin.search.item.delete")),core.xp6(3),core.Q6J("ngIf",!ctx.small))},"ItemAdminSearchResultActionsComponent_Template"),directives:[router.yS,common.mk,common.O5],pipes:[ngx_translate_core.X$],styles:[""]});let ItemAdminSearchResultListElementComponent=__name(class extends search_result_list_element_component.c{},"ItemAdminSearchResultListElementComponent");ItemAdminSearchResultListElementComponent.\u0275fac=function(){let \u0275ItemAdminSearchResultListElementComponent_BaseFactory;return __name(function(t){return(\u0275ItemAdminSearchResultListElementComponent_BaseFactory||(\u0275ItemAdminSearchResultListElementComponent_BaseFactory=core.n5z(ItemAdminSearchResultListElementComponent)))(t||ItemAdminSearchResultListElementComponent)},"ItemAdminSearchResultListElementComponent_Factory")}(),ItemAdminSearchResultListElementComponent.\u0275cmp=core.Xpm({type:ItemAdminSearchResultListElementComponent,selectors:[["ds-item-admin-search-result-list-element"]],features:[core.qOj],decls:2,vars:8,consts:[[3,"object","viewMode","index","linkType","listID","hideBadges"],[3,"item","small"]],template:__name(function(rf,ctx){1&rf&&core._UZ(0,"ds-listable-object-component-loader",0)(1,"ds-item-admin-search-result-actions-element",1),2&rf&&(core.Q6J("object",ctx.object)("viewMode",ctx.viewModes.ListElement)("index",ctx.index)("linkType",ctx.linkType)("listID",ctx.listID)("hideBadges",!0),core.xp6(1),core.Q6J("item",ctx.dso)("small",!1))},"ItemAdminSearchResultListElementComponent_Template"),directives:[listable_object_component_loader_component.p,ItemAdminSearchResultActionsComponent],styles:[""]}),ItemAdminSearchResultListElementComponent=(0,tslib_es6.gn)([(0,listable_object_decorator.d$)(item_search_result_model.T,view_mode_model.w.ListElement,context_model._.AdminSearch)],ItemAdminSearchResultListElementComponent);var community_search_result_model=__webpack_require__(40332),community_page_routing_paths=__webpack_require__(43438),community_search_result_list_element_component=__webpack_require__(31927);const community_admin_search_result_list_element_component_c0=__name(function(a0){return[a0]},"community_admin_search_result_list_element_component_c0");let CommunityAdminSearchResultListElementComponent=__name(class extends search_result_list_element_component.c{ngOnInit(){super.ngOnInit(),this.editPath=(0,community_page_routing_paths.xm)(this.dso.uuid)}},"CommunityAdminSearchResultListElementComponent");CommunityAdminSearchResultListElementComponent.\u0275fac=function(){let \u0275CommunityAdminSearchResultListElementComponent_BaseFactory;return __name(function(t){return(\u0275CommunityAdminSearchResultListElementComponent_BaseFactory||(\u0275CommunityAdminSearchResultListElementComponent_BaseFactory=core.n5z(CommunityAdminSearchResultListElementComponent)))(t||CommunityAdminSearchResultListElementComponent)},"CommunityAdminSearchResultListElementComponent_Factory")}(),CommunityAdminSearchResultListElementComponent.\u0275cmp=core.Xpm({type:CommunityAdminSearchResultListElementComponent,selectors:[["ds-community-admin-search-result-list-element"]],features:[core.qOj],decls:6,vars:10,consts:[[3,"object","index","linkType","listID"],[1,"btn","btn-light","mt-1",3,"routerLink"],[1,"fa","fa-edit"]],template:__name(function(rf,ctx){1&rf&&(core._UZ(0,"ds-community-search-result-list-element",0),core.TgZ(1,"div")(2,"a",1),core._UZ(3,"i",2),core._uU(4),core.ALo(5,"translate"),core.qZA()()),2&rf&&(core.Q6J("object",ctx.object)("index",ctx.index)("linkType",ctx.linkType)("listID",ctx.listID),core.xp6(2),core.Q6J("routerLink",core.VKq(8,community_admin_search_result_list_element_component_c0,ctx.editPath)),core.xp6(2),core.hij(" ",core.lcZ(5,6,"admin.search.community.edit")," "))},"CommunityAdminSearchResultListElementComponent_Template"),directives:[community_search_result_list_element_component.K,router.yS],pipes:[ngx_translate_core.X$],styles:[""]}),CommunityAdminSearchResultListElementComponent=(0,tslib_es6.gn)([(0,listable_object_decorator.d$)(community_search_result_model.o,view_mode_model.w.ListElement,context_model._.AdminSearch)],CommunityAdminSearchResultListElementComponent);var collection_search_result_model=__webpack_require__(80251),collection_page_routing_paths=__webpack_require__(95376),collection_search_result_list_element_component=__webpack_require__(60908);const collection_admin_search_result_list_element_component_c0=__name(function(a0){return[a0]},"collection_admin_search_result_list_element_component_c0");let CollectionAdminSearchResultListElementComponent=__name(class extends search_result_list_element_component.c{ngOnInit(){super.ngOnInit(),this.editPath=(0,collection_page_routing_paths.Ou)(this.dso.uuid)}},"CollectionAdminSearchResultListElementComponent");CollectionAdminSearchResultListElementComponent.\u0275fac=function(){let \u0275CollectionAdminSearchResultListElementComponent_BaseFactory;return __name(function(t){return(\u0275CollectionAdminSearchResultListElementComponent_BaseFactory||(\u0275CollectionAdminSearchResultListElementComponent_BaseFactory=core.n5z(CollectionAdminSearchResultListElementComponent)))(t||CollectionAdminSearchResultListElementComponent)},"CollectionAdminSearchResultListElementComponent_Factory")}(),CollectionAdminSearchResultListElementComponent.\u0275cmp=core.Xpm({type:CollectionAdminSearchResultListElementComponent,selectors:[["ds-collection-admin-search-result-list-element"]],features:[core.qOj],decls:6,vars:10,consts:[[3,"object","index","linkType","listID"],[1,"btn","btn-light","mt-1",3,"routerLink"],[1,"fa","fa-edit"]],template:__name(function(rf,ctx){1&rf&&(core._UZ(0,"ds-collection-search-result-list-element",0),core.TgZ(1,"div")(2,"a",1),core._UZ(3,"i",2),core._uU(4),core.ALo(5,"translate"),core.qZA()()),2&rf&&(core.Q6J("object",ctx.object)("index",ctx.index)("linkType",ctx.linkType)("listID",ctx.listID),core.xp6(2),core.Q6J("routerLink",core.VKq(8,collection_admin_search_result_list_element_component_c0,ctx.editPath)),core.xp6(2),core.hij(" ",core.lcZ(5,6,"admin.search.collection.edit")," "))},"CollectionAdminSearchResultListElementComponent_Template"),directives:[collection_search_result_list_element_component.q,router.yS],pipes:[ngx_translate_core.X$],styles:[""]}),CollectionAdminSearchResultListElementComponent=(0,tslib_es6.gn)([(0,listable_object_decorator.d$)(collection_search_result_model.o,view_mode_model.w.ListElement,context_model._.AdminSearch)],CollectionAdminSearchResultListElementComponent);const item_admin_search_result_grid_element_component_c0=["badges"],item_admin_search_result_grid_element_component_c1=["buttons"];function ItemAdminSearchResultGridElementComponent_ng_template_0_Template(rf,ctx){}__name(ItemAdminSearchResultGridElementComponent_ng_template_0_Template,"ItemAdminSearchResultGridElementComponent_ng_template_0_Template");let ItemAdminSearchResultGridElementComponent=__name(class extends search_result_grid_element_component.h{constructor(truncatableService,bitstreamDataService,themeService,componentFactoryResolver){super(truncatableService,bitstreamDataService),this.truncatableService=truncatableService,this.bitstreamDataService=bitstreamDataService,this.themeService=themeService,this.componentFactoryResolver=componentFactoryResolver}ngOnInit(){super.ngOnInit();const componentFactory=this.componentFactoryResolver.resolveComponentFactory(this.getComponent()),viewContainerRef=this.listableObjectDirective.viewContainerRef;viewContainerRef.clear();const componentRef=viewContainerRef.createComponent(componentFactory,0,void 0,[[this.badges.nativeElement],[this.buttons.nativeElement]]);componentRef.instance.object=this.object,componentRef.instance.index=this.index,componentRef.instance.linkType=this.linkType,componentRef.instance.listID=this.listID}getComponent(){return(0,listable_object_decorator.mt)(this.object.getRenderTypes(),view_mode_model.w.GridElement,void 0,this.themeService.getThemeName())}},"ItemAdminSearchResultGridElementComponent");ItemAdminSearchResultGridElementComponent.\u0275fac=__name(function(t){return new(t||ItemAdminSearchResultGridElementComponent)(core.Y36(truncatable_service.F),core.Y36(bitstream_data_service.J),core.Y36(theme_service.fY),core.Y36(core._Vd))},"ItemAdminSearchResultGridElementComponent_Factory"),ItemAdminSearchResultGridElementComponent.\u0275cmp=core.Xpm({type:ItemAdminSearchResultGridElementComponent,selectors:[["ds-item-admin-search-result-grid-element"]],viewQuery:__name(function(rf,ctx){if(1&rf&&(core.Gf(listable_object_directive.U,7),core.Gf(item_admin_search_result_grid_element_component_c0,7),core.Gf(item_admin_search_result_grid_element_component_c1,7)),2&rf){let _t;core.iGM(_t=core.CRH())&&(ctx.listableObjectDirective=_t.first),core.iGM(_t=core.CRH())&&(ctx.badges=_t.first),core.iGM(_t=core.CRH())&&(ctx.buttons=_t.first)}},"ItemAdminSearchResultGridElementComponent_Query"),features:[core.qOj],ngContentSelectors:["*"],decls:8,vars:2,consts:[["dsListableObject",""],["badges",""],[1,"list-group","list-group-flush"],["buttons",""],[1,"list-group-item"],[1,"d-flex","justify-content-between",3,"item","small"]],template:__name(function(rf,ctx){1&rf&&(core.F$t(),core.YNc(0,ItemAdminSearchResultGridElementComponent_ng_template_0_Template,0,0,"ng-template",0),core.TgZ(1,"div",null,1),core.Hsn(3),core.qZA(),core.TgZ(4,"ul",2,3)(6,"li",4),core._UZ(7,"ds-item-admin-search-result-actions-element",5),core.qZA()()),2&rf&&(core.xp6(7),core.Q6J("item",ctx.dso)("small",!0))},"ItemAdminSearchResultGridElementComponent_Template"),directives:[listable_object_directive.U,ItemAdminSearchResultActionsComponent],styles:[""]}),ItemAdminSearchResultGridElementComponent=(0,tslib_es6.gn)([(0,listable_object_decorator.d$)(item_search_result_model.T,view_mode_model.w.GridElement,context_model._.AdminSearch),(0,tslib_es6.w6)("design:paramtypes",[truncatable_service.F,bitstream_data_service.J,theme_service.fY,core._Vd])],ItemAdminSearchResultGridElementComponent);var community_search_result_grid_element_component=__webpack_require__(82548);const community_admin_search_result_grid_element_component_c0=__name(function(a0){return[a0]},"community_admin_search_result_grid_element_component_c0");let CommunityAdminSearchResultGridElementComponent=__name(class extends search_result_grid_element_component.h{ngOnInit(){super.ngOnInit(),this.editPath=(0,community_page_routing_paths.xm)(this.dso.uuid)}},"CommunityAdminSearchResultGridElementComponent");CommunityAdminSearchResultGridElementComponent.\u0275fac=function(){let \u0275CommunityAdminSearchResultGridElementComponent_BaseFactory;return __name(function(t){return(\u0275CommunityAdminSearchResultGridElementComponent_BaseFactory||(\u0275CommunityAdminSearchResultGridElementComponent_BaseFactory=core.n5z(CommunityAdminSearchResultGridElementComponent)))(t||CommunityAdminSearchResultGridElementComponent)},"CommunityAdminSearchResultGridElementComponent_Factory")}(),CommunityAdminSearchResultGridElementComponent.\u0275cmp=core.Xpm({type:CommunityAdminSearchResultGridElementComponent,selectors:[["ds-community-admin-search-result-grid-element"]],features:[core.qOj],decls:5,vars:7,consts:[[3,"object","index","linkType","listID"],[1,"list-group","list-group-flush"],[1,"list-group-item","text-center"],[1,"btn","btn-light","btn-sm","btn-auto","my-1","edit-link",3,"routerLink"],[1,"fa","fa-edit"]],template:__name(function(rf,ctx){1&rf&&(core.TgZ(0,"ds-community-search-result-grid-element",0)(1,"ul",1)(2,"li",2)(3,"a",3),core._UZ(4,"i",4),core.qZA()()()()),2&rf&&(core.Q6J("object",ctx.object)("index",ctx.index)("linkType",ctx.linkType)("listID",ctx.listID),core.xp6(3),core.Q6J("routerLink",core.VKq(5,community_admin_search_result_grid_element_component_c0,ctx.editPath)))},"CommunityAdminSearchResultGridElementComponent_Template"),directives:[community_search_result_grid_element_component.g,router.yS],styles:[""]}),CommunityAdminSearchResultGridElementComponent=(0,tslib_es6.gn)([(0,listable_object_decorator.d$)(community_search_result_model.o,view_mode_model.w.GridElement,context_model._.AdminSearch)],CommunityAdminSearchResultGridElementComponent);var collection_search_result_grid_element_component=__webpack_require__(82353);const collection_admin_search_result_grid_element_component_c0=__name(function(a0){return[a0]},"collection_admin_search_result_grid_element_component_c0");let CollectionAdminSearchResultGridElementComponent=__name(class extends search_result_grid_element_component.h{ngOnInit(){super.ngOnInit(),this.editPath=(0,collection_page_routing_paths.Ou)(this.dso.uuid)}},"CollectionAdminSearchResultGridElementComponent");CollectionAdminSearchResultGridElementComponent.\u0275fac=function(){let \u0275CollectionAdminSearchResultGridElementComponent_BaseFactory;return __name(function(t){return(\u0275CollectionAdminSearchResultGridElementComponent_BaseFactory||(\u0275CollectionAdminSearchResultGridElementComponent_BaseFactory=core.n5z(CollectionAdminSearchResultGridElementComponent)))(t||CollectionAdminSearchResultGridElementComponent)},"CollectionAdminSearchResultGridElementComponent_Factory")}(),CollectionAdminSearchResultGridElementComponent.\u0275cmp=core.Xpm({type:CollectionAdminSearchResultGridElementComponent,selectors:[["ds-collection-admin-search-result-list-element"]],features:[core.qOj],decls:5,vars:7,consts:[[3,"object","index","linkType","listID"],[1,"list-group","list-group-flush"],[1,"list-group-item","text-center"],[1,"btn","btn-light","btn-sm","btn-auto","my-1","edit-link",3,"routerLink"],[1,"fa","fa-edit"]],template:__name(function(rf,ctx){1&rf&&(core.TgZ(0,"ds-collection-search-result-grid-element",0)(1,"ul",1)(2,"li",2)(3,"a",3),core._UZ(4,"i",4),core.qZA()()()()),2&rf&&(core.Q6J("object",ctx.object)("index",ctx.index)("linkType",ctx.linkType)("listID",ctx.listID),core.xp6(3),core.Q6J("routerLink",core.VKq(5,collection_admin_search_result_grid_element_component_c0,ctx.editPath)))},"CollectionAdminSearchResultGridElementComponent_Template"),directives:[collection_search_result_grid_element_component.a,router.yS],styles:[""]}),CollectionAdminSearchResultGridElementComponent=(0,tslib_es6.gn)([(0,listable_object_decorator.d$)(collection_search_result_model.o,view_mode_model.w.GridElement,context_model._.AdminSearch)],CollectionAdminSearchResultGridElementComponent);var journal_entities_module=__webpack_require__(74227),research_entities_module=__webpack_require__(84376);const admin_search_module_ENTRY_COMPONENTS=[ItemAdminSearchResultListElementComponent,CommunityAdminSearchResultListElementComponent,CollectionAdminSearchResultListElementComponent,ItemAdminSearchResultGridElementComponent,CommunityAdminSearchResultGridElementComponent,CollectionAdminSearchResultGridElementComponent,ItemAdminSearchResultActionsComponent];class AdminSearchModule{static withEntryComponents(){return{ngModule:shared_module.m,providers:admin_search_module_ENTRY_COMPONENTS.map(component=>({provide:component}))}}}__name(AdminSearchModule,"AdminSearchModule"),AdminSearchModule.\u0275fac=__name(function(t){return new(t||AdminSearchModule)},"AdminSearchModule_Factory"),AdminSearchModule.\u0275mod=core.oAB({type:AdminSearchModule}),AdminSearchModule.\u0275inj=core.cJS({imports:[[search_module.t,shared_module.m.withEntryComponents(),journal_entities_module.x.withEntryComponents(),research_entities_module.a.withEntryComponents()]]});var admin_sidebar_section_component=__webpack_require__(8473),expandable_admin_sidebar_section_component=__webpack_require__(95282);const admin_module_ENTRY_COMPONENTS=[admin_sidebar_section_component.F,expandable_admin_sidebar_section_component.O];class AdminModule{static withEntryComponents(){return{ngModule:AdminModule,providers:admin_module_ENTRY_COMPONENTS.map(component=>({provide:component}))}}}__name(AdminModule,"AdminModule"),AdminModule.\u0275fac=__name(function(t){return new(t||AdminModule)},"AdminModule_Factory"),AdminModule.\u0275mod=core.oAB({type:AdminModule}),AdminModule.\u0275inj=core.cJS({imports:[[AdminRoutingModule,admin_registries_module.AdminRegistriesModule,access_control_module.AccessControlModule,AdminSearchModule.withEntryComponents(),AdminWorkflowModuleModule.withEntryComponents(),shared_module.m]]})},83772:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{a:()=>Breadcrumb});class Breadcrumb{constructor(text,url){this.text=text,this.url=url}}__name(Breadcrumb,"Breadcrumb")},98655:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{t:()=>I18nBreadcrumbResolver});var _i18n_breadcrumbs_service__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(43001),_shared_empty_util__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(24702),_shared_utils_route_utils__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(78056),_angular_core__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(5e3);class I18nBreadcrumbResolver{constructor(breadcrumbService){this.breadcrumbService=breadcrumbService}resolve(route,state){const key=route.data.breadcrumbKey;if((0,_shared_empty_util__WEBPACK_IMPORTED_MODULE_1__.xI)(key))throw new Error('You provided an i18nBreadcrumbResolver for url "'+route.url+"\" but no breadcrumbKey in the route's data");const fullPath=(0,_shared_utils_route_utils__WEBPACK_IMPORTED_MODULE_2__.i)(route);return{provider:this.breadcrumbService,key,url:fullPath}}}__name(I18nBreadcrumbResolver,"I18nBreadcrumbResolver"),I18nBreadcrumbResolver.\u0275fac=__name(function(t){return new(t||I18nBreadcrumbResolver)(_angular_core__WEBPACK_IMPORTED_MODULE_3__.LFG(_i18n_breadcrumbs_service__WEBPACK_IMPORTED_MODULE_0__.d))},"I18nBreadcrumbResolver_Factory"),I18nBreadcrumbResolver.\u0275prov=_angular_core__WEBPACK_IMPORTED_MODULE_3__.Yz7({token:I18nBreadcrumbResolver,factory:I18nBreadcrumbResolver.\u0275fac,providedIn:"root"})},43001:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{d:()=>I18nBreadcrumbsService});var _breadcrumbs_breadcrumb_breadcrumb_model__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(83772),rxjs__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(76477),_angular_core__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(5e3);class I18nBreadcrumbsService{getBreadcrumbs(key,url){return(0,rxjs__WEBPACK_IMPORTED_MODULE_0__.of)([new _breadcrumbs_breadcrumb_breadcrumb_model__WEBPACK_IMPORTED_MODULE_1__.a(key+".breadcrumbs",url)])}}__name(I18nBreadcrumbsService,"I18nBreadcrumbsService"),I18nBreadcrumbsService.\u0275fac=__name(function(t){return new(t||I18nBreadcrumbsService)},"I18nBreadcrumbsService_Factory"),I18nBreadcrumbsService.\u0275prov=_angular_core__WEBPACK_IMPORTED_MODULE_2__.Yz7({token:I18nBreadcrumbsService,factory:I18nBreadcrumbsService.\u0275fac,providedIn:"root"})},93459:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{m:()=>EpersonRegistrationService});var request_service=__webpack_require__(31241),hal_endpoint_service=__webpack_require__(93498),request_models=__webpack_require__(60602),operators=__webpack_require__(83292),empty_util=__webpack_require__(24702),registration_model=__webpack_require__(37500),shared_operators=__webpack_require__(13730),response_models=__webpack_require__(47229),core=__webpack_require__(5e3);class RegistrationResponseParsingService{parse(request,data){const payload=data.payload,registration=Object.assign(new registration_model.Y,payload);return new response_models.tp(data.statusCode,void 0,registration)}}__name(RegistrationResponseParsingService,"RegistrationResponseParsingService"),RegistrationResponseParsingService.\u0275fac=__name(function(t){return new(t||RegistrationResponseParsingService)},"RegistrationResponseParsingService_Factory"),RegistrationResponseParsingService.\u0275prov=core.Yz7({token:RegistrationResponseParsingService,factory:RegistrationResponseParsingService.\u0275fac,providedIn:"root"});var remote_data_build_service=__webpack_require__(95611),http=__webpack_require__(40520);class EpersonRegistrationService{constructor(requestService,rdbService,halService){this.requestService=requestService,this.rdbService=rdbService,this.halService=halService,this.linkPath="registrations",this.searchByTokenPath="/search/findByToken?token="}getRegistrationEndpoint(){return this.halService.getEndpoint(this.linkPath)}getTokenSearchEndpoint(token){return this.halService.getEndpoint(this.linkPath).pipe((0,operators.hX)(href=>(0,empty_util.UE)(href)),(0,operators.UI)(href=>`${href}${this.searchByTokenPath}${token}`))}registerEmail(email,captchaToken=null){const registration=new registration_model.Y;registration.email=email;const requestId=this.requestService.generateRequestId(),href$=this.getRegistrationEndpoint(),options=Object.create({});let headers=new http.WM;return captchaToken&&(headers=headers.append("x-recaptcha-token",captchaToken)),options.headers=headers,href$.pipe((0,operators.sE)(href=>(0,empty_util.Uh)(href)),(0,operators.UI)(href=>{const request=new request_models.xo(requestId,href,registration,options);this.requestService.send(request)})).subscribe(),this.rdbService.buildFromRequestUUID(requestId).pipe((0,shared_operators.hC)())}searchByToken(token){const requestId=this.requestService.generateRequestId(),href$=this.getTokenSearchEndpoint(token).pipe((0,operators.sE)(href=>(0,empty_util.Uh)(href)));return href$.subscribe(href=>{const request=new request_models.Gl(requestId,href);Object.assign(request,{getResponseParser:()=>RegistrationResponseParsingService}),this.requestService.send(request,!0)}),this.rdbService.buildSingle(href$).pipe((0,operators.UI)(rd=>rd.hasSucceeded&&(0,empty_util.Uh)(rd.payload)?Object.assign(rd,{payload:Object.assign(rd.payload,{token})}):rd))}}__name(EpersonRegistrationService,"EpersonRegistrationService"),EpersonRegistrationService.\u0275fac=__name(function(t){return new(t||EpersonRegistrationService)(core.LFG(request_service.s),core.LFG(remote_data_build_service.Q),core.LFG(hal_endpoint_service.q))},"EpersonRegistrationService_Factory"),EpersonRegistrationService.\u0275prov=core.Yz7({token:EpersonRegistrationService,factory:EpersonRegistrationService.\u0275fac,providedIn:"root"})},74227:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{x:()=>JournalEntitiesModule});var common=__webpack_require__(69808),shared_module=__webpack_require__(57981),tslib_es6=__webpack_require__(70655),view_mode_model=__webpack_require__(51121),listable_object_decorator=__webpack_require__(62921),versioned_item_component=__webpack_require__(46659),core=__webpack_require__(5e3),item_page_title_field_component=__webpack_require__(34261),dso_page_version_button_component=__webpack_require__(56808),dso_page_edit_button_component=__webpack_require__(42257),metadata_field_wrapper_component=__webpack_require__(37796),thumbnail_component=__webpack_require__(4775),generic_item_page_field_component=__webpack_require__(98055),related_items_component=__webpack_require__(82542),router=__webpack_require__(74202),tabbed_related_entities_search_component=__webpack_require__(67797),ngx_translate_core=__webpack_require__(42466);const _c0=__name(function(){return["creativeworkseries.issn"]},"_c0"),_c1=__name(function(){return["creativework.publisher"]},"_c1"),_c2=__name(function(){return["creativework.editor"]},"_c2"),_c3=__name(function(){return["dc.description"]},"_c3"),_c4=__name(function(a0){return[a0]},"_c4"),_c5=__name(function(){return{label:"isJournalOfPublication",filter:"isJournalOfPublication",configuration:"default-relationships"}},"_c5");let JournalComponent=__name(class extends versioned_item_component.d{},"JournalComponent");JournalComponent.\u0275fac=function(){let \u0275JournalComponent_BaseFactory;return __name(function(t){return(\u0275JournalComponent_BaseFactory||(\u0275JournalComponent_BaseFactory=core.n5z(JournalComponent)))(t||JournalComponent)},"JournalComponent_Factory")}(),JournalComponent.\u0275cmp=core.Xpm({type:JournalComponent,selectors:[["ds-journal"]],features:[core.qOj],decls:23,vars:43,consts:[[1,"d-flex","flex-row"],[1,"mr-auto",3,"item"],[1,"pl-2","space-children-mr"],[3,"dso","tooltipMsgCreate","tooltipMsgHasDraft","newVersionEvent"],[3,"pageRoute","dso","tooltipMsg"],[1,"row"],[1,"col-xs-12","col-md-4"],[3,"hideIfNoTextContent"],[3,"thumbnail"],[1,"item-page-fields",3,"item","fields","label"],[3,"item","fields","label"],[1,"col-xs-12","col-md-6"],[3,"parentItem","relationType","label"],[1,"btn","btn-outline-primary",3,"routerLink"],[1,"mt-5","w-100"],[3,"item","relationTypes"]],template:__name(function(rf,ctx){1&rf&&(core.TgZ(0,"div",0),core._UZ(1,"ds-item-page-title-field",1),core.TgZ(2,"div",2)(3,"ds-dso-page-version-button",3),core.NdJ("newVersionEvent",__name(function(){return ctx.onCreateNewVersion()},"JournalComponent_Template_ds_dso_page_version_button_newVersionEvent_3_listener")),core.qZA(),core._UZ(4,"ds-dso-page-edit-button",4),core.qZA()(),core.TgZ(5,"div",5)(6,"div",6)(7,"ds-metadata-field-wrapper",7),core._UZ(8,"ds-thumbnail",8),core.ALo(9,"async"),core.qZA(),core._UZ(10,"ds-generic-item-page-field",9)(11,"ds-generic-item-page-field",9)(12,"ds-generic-item-page-field",10),core.qZA(),core.TgZ(13,"div",11),core._UZ(14,"ds-related-items",12),core.ALo(15,"translate"),core._UZ(16,"ds-generic-item-page-field",9),core.TgZ(17,"div")(18,"a",13),core._uU(19),core.ALo(20,"translate"),core.qZA()()(),core.TgZ(21,"div",14),core._UZ(22,"ds-tabbed-related-entities-search",15),core.qZA()()),2&rf&&(core.xp6(1),core.Q6J("item",ctx.object),core.xp6(2),core.Q6J("dso",ctx.object)("tooltipMsgCreate","item.page.version.create")("tooltipMsgHasDraft","item.page.version.hasDraft"),core.xp6(1),core.Q6J("pageRoute",ctx.itemPageRoute)("dso",ctx.object)("tooltipMsg","journal.page.edit"),core.xp6(3),core.Q6J("hideIfNoTextContent",!1),core.xp6(1),core.Q6J("thumbnail",core.lcZ(9,28,null==ctx.object?null:ctx.object.thumbnail)),core.xp6(2),core.Q6J("item",ctx.object)("fields",core.DdM(34,_c0))("label","journal.page.issn"),core.xp6(1),core.Q6J("item",ctx.object)("fields",core.DdM(35,_c1))("label","journal.page.publisher"),core.xp6(1),core.Q6J("item",ctx.object)("fields",core.DdM(36,_c2))("label","journal.page.editor"),core.xp6(2),core.Q6J("parentItem",ctx.object)("relationType","isVolumeOfJournal")("label",core.lcZ(15,30,"relationships.isVolumeOf")),core.xp6(2),core.Q6J("item",ctx.object)("fields",core.DdM(37,_c3))("label","journal.page.description"),core.xp6(2),core.Q6J("routerLink",core.VKq(38,_c4,ctx.itemPageRoute+"/full")),core.xp6(1),core.hij(" ",core.lcZ(20,32,"item.page.link.full")," "),core.xp6(3),core.Q6J("item",ctx.object)("relationTypes",core.VKq(41,_c4,core.DdM(40,_c5))))},"JournalComponent_Template"),directives:[item_page_title_field_component.k,dso_page_version_button_component._,dso_page_edit_button_component._,metadata_field_wrapper_component.n,thumbnail_component.Z,generic_item_page_field_component.w,related_items_component.e,router.yS,tabbed_related_entities_search_component.i],pipes:[common.Ov,ngx_translate_core.X$],styles:[""]}),JournalComponent=(0,tslib_es6.gn)([(0,listable_object_decorator.d$)("Journal",view_mode_model.w.StandalonePage)],JournalComponent);const journal_issue_component_c0=__name(function(){return["publicationvolume.volumeNumber"]},"journal_issue_component_c0"),journal_issue_component_c1=__name(function(){return["publicationissue.issueNumber"]},"journal_issue_component_c1"),journal_issue_component_c2=__name(function(){return["creativework.datePublished"]},"journal_issue_component_c2"),journal_issue_component_c3=__name(function(){return["journal.title"]},"journal_issue_component_c3"),journal_issue_component_c4=__name(function(){return["creativeworkseries.issn"]},"journal_issue_component_c4"),journal_issue_component_c5=__name(function(){return["dc.description"]},"journal_issue_component_c5"),_c6=__name(function(){return["creativework.keywords"]},"_c6"),_c7=__name(function(a0){return[a0]},"_c7");let JournalIssueComponent=__name(class extends versioned_item_component.d{},"JournalIssueComponent");JournalIssueComponent.\u0275fac=function(){let \u0275JournalIssueComponent_BaseFactory;return __name(function(t){return(\u0275JournalIssueComponent_BaseFactory||(\u0275JournalIssueComponent_BaseFactory=core.n5z(JournalIssueComponent)))(t||JournalIssueComponent)},"JournalIssueComponent_Factory")}(),JournalIssueComponent.\u0275cmp=core.Xpm({type:JournalIssueComponent,selectors:[["ds-journal-issue"]],features:[core.qOj],decls:26,vars:55,consts:[[1,"d-flex","flex-row"],[1,"mr-auto",3,"item"],[1,"pl-2","space-children-mr"],[3,"dso","tooltipMsgCreate","tooltipMsgHasDraft","newVersionEvent"],[3,"pageRoute","dso","tooltipMsg"],[1,"row"],[1,"col-xs-12","col-md-4"],[3,"hideIfNoTextContent"],[3,"thumbnail"],[3,"item","fields","label"],[1,"col-xs-12","col-md-6"],[3,"parentItem","relationType","label"],[1,"mb-1","mt-1",3,"parentItem","relationType","label"],[1,"btn","btn-outline-primary",3,"routerLink"]],template:__name(function(rf,ctx){1&rf&&(core.TgZ(0,"div",0),core._UZ(1,"ds-item-page-title-field",1),core.TgZ(2,"div",2)(3,"ds-dso-page-version-button",3),core.NdJ("newVersionEvent",__name(function(){return ctx.onCreateNewVersion()},"JournalIssueComponent_Template_ds_dso_page_version_button_newVersionEvent_3_listener")),core.qZA(),core._UZ(4,"ds-dso-page-edit-button",4),core.qZA()(),core.TgZ(5,"div",5)(6,"div",6)(7,"ds-metadata-field-wrapper",7),core._UZ(8,"ds-thumbnail",8),core.ALo(9,"async"),core.qZA(),core._UZ(10,"ds-generic-item-page-field",9)(11,"ds-generic-item-page-field",9)(12,"ds-generic-item-page-field",9)(13,"ds-generic-item-page-field",9)(14,"ds-generic-item-page-field",9),core.qZA(),core.TgZ(15,"div",10),core._UZ(16,"ds-related-items",11),core.ALo(17,"translate"),core._UZ(18,"ds-related-items",12),core.ALo(19,"translate"),core._UZ(20,"ds-generic-item-page-field",9)(21,"ds-generic-item-page-field",9),core.TgZ(22,"div")(23,"a",13),core._uU(24),core.ALo(25,"translate"),core.qZA()()()()),2&rf&&(core.xp6(1),core.Q6J("item",ctx.object),core.xp6(2),core.Q6J("dso",ctx.object)("tooltipMsgCreate","item.page.version.create")("tooltipMsgHasDraft","item.page.version.hasDraft"),core.xp6(1),core.Q6J("pageRoute",ctx.itemPageRoute)("dso",ctx.object)("tooltipMsg","journalissue.page.edit"),core.xp6(3),core.Q6J("hideIfNoTextContent",!1),core.xp6(1),core.Q6J("thumbnail",core.lcZ(9,38,null==ctx.object?null:ctx.object.thumbnail)),core.xp6(2),core.Q6J("item",ctx.object)("fields",core.DdM(46,journal_issue_component_c0))("label","journalvolume.page.volume"),core.xp6(1),core.Q6J("item",ctx.object)("fields",core.DdM(47,journal_issue_component_c1))("label","journalissue.page.number"),core.xp6(1),core.Q6J("item",ctx.object)("fields",core.DdM(48,journal_issue_component_c2))("label","journalissue.page.issuedate"),core.xp6(1),core.Q6J("item",ctx.object)("fields",core.DdM(49,journal_issue_component_c3))("label","journalissue.page.journal-title"),core.xp6(1),core.Q6J("item",ctx.object)("fields",core.DdM(50,journal_issue_component_c4))("label","journalissue.page.journal-issn"),core.xp6(2),core.Q6J("parentItem",ctx.object)("relationType","isJournalVolumeOfIssue")("label",core.lcZ(17,40,"relationships.isSingleVolumeOf")),core.xp6(2),core.Q6J("parentItem",ctx.object)("relationType","isPublicationOfJournalIssue")("label",core.lcZ(19,42,"relationships.isPublicationOfJournalIssue")),core.xp6(2),core.Q6J("item",ctx.object)("fields",core.DdM(51,journal_issue_component_c5))("label","journalissue.page.description"),core.xp6(1),core.Q6J("item",ctx.object)("fields",core.DdM(52,_c6))("label","journalissue.page.keyword"),core.xp6(2),core.Q6J("routerLink",core.VKq(53,_c7,ctx.itemPageRoute+"/full")),core.xp6(1),core.hij(" ",core.lcZ(25,44,"item.page.link.full")," "))},"JournalIssueComponent_Template"),directives:[item_page_title_field_component.k,dso_page_version_button_component._,dso_page_edit_button_component._,metadata_field_wrapper_component.n,thumbnail_component.Z,generic_item_page_field_component.w,related_items_component.e,router.yS],pipes:[common.Ov,ngx_translate_core.X$],styles:[""]}),JournalIssueComponent=(0,tslib_es6.gn)([(0,listable_object_decorator.d$)("JournalIssue",view_mode_model.w.StandalonePage)],JournalIssueComponent);const journal_volume_component_c0=__name(function(){return["publicationvolume.volumeNumber"]},"journal_volume_component_c0"),journal_volume_component_c1=__name(function(){return["creativework.datePublished"]},"journal_volume_component_c1"),journal_volume_component_c2=__name(function(){return["dc.description"]},"journal_volume_component_c2"),journal_volume_component_c3=__name(function(a0){return[a0]},"journal_volume_component_c3");let JournalVolumeComponent=__name(class extends versioned_item_component.d{},"JournalVolumeComponent");JournalVolumeComponent.\u0275fac=function(){let \u0275JournalVolumeComponent_BaseFactory;return __name(function(t){return(\u0275JournalVolumeComponent_BaseFactory||(\u0275JournalVolumeComponent_BaseFactory=core.n5z(JournalVolumeComponent)))(t||JournalVolumeComponent)},"JournalVolumeComponent_Factory")}(),JournalVolumeComponent.\u0275cmp=core.Xpm({type:JournalVolumeComponent,selectors:[["ds-journal-volume"]],features:[core.qOj],decls:22,vars:39,consts:[[1,"d-flex","flex-row"],[1,"mr-auto",3,"item"],[1,"pl-2","space-children-mr"],[3,"dso","tooltipMsgCreate","tooltipMsgHasDraft","newVersionEvent"],[3,"pageRoute","dso","tooltipMsg"],[1,"row"],[1,"col-xs-12","col-md-4"],[3,"hideIfNoTextContent"],[3,"thumbnail"],[3,"item","fields","label"],[1,"col-xs-12","col-md-6"],[3,"parentItem","relationType","label"],[1,"btn","btn-outline-primary",3,"routerLink"]],template:__name(function(rf,ctx){1&rf&&(core.TgZ(0,"div",0),core._UZ(1,"ds-item-page-title-field",1),core.TgZ(2,"div",2)(3,"ds-dso-page-version-button",3),core.NdJ("newVersionEvent",__name(function(){return ctx.onCreateNewVersion()},"JournalVolumeComponent_Template_ds_dso_page_version_button_newVersionEvent_3_listener")),core.qZA(),core._UZ(4,"ds-dso-page-edit-button",4),core.qZA()(),core.TgZ(5,"div",5)(6,"div",6)(7,"ds-metadata-field-wrapper",7),core._UZ(8,"ds-thumbnail",8),core.ALo(9,"async"),core.qZA(),core._UZ(10,"ds-generic-item-page-field",9)(11,"ds-generic-item-page-field",9),core.qZA(),core.TgZ(12,"div",10),core._UZ(13,"ds-related-items",11),core.ALo(14,"translate"),core._UZ(15,"ds-related-items",11),core.ALo(16,"translate"),core._UZ(17,"ds-generic-item-page-field",9),core.TgZ(18,"div")(19,"a",12),core._uU(20),core.ALo(21,"translate"),core.qZA()()()()),2&rf&&(core.xp6(1),core.Q6J("item",ctx.object),core.xp6(2),core.Q6J("dso",ctx.object)("tooltipMsgCreate","item.page.version.create")("tooltipMsgHasDraft","item.page.version.hasDraft"),core.xp6(1),core.Q6J("pageRoute",ctx.itemPageRoute)("dso",ctx.object)("tooltipMsg","journalvolume.page.edit"),core.xp6(3),core.Q6J("hideIfNoTextContent",!1),core.xp6(1),core.Q6J("thumbnail",core.lcZ(9,26,null==ctx.object?null:ctx.object.thumbnail)),core.xp6(2),core.Q6J("item",ctx.object)("fields",core.DdM(34,journal_volume_component_c0))("label","journalvolume.page.volume"),core.xp6(1),core.Q6J("item",ctx.object)("fields",core.DdM(35,journal_volume_component_c1))("label","journalvolume.page.issuedate"),core.xp6(2),core.Q6J("parentItem",ctx.object)("relationType","isJournalOfVolume")("label",core.lcZ(14,28,"relationships.isSingleJournalOf")),core.xp6(2),core.Q6J("parentItem",ctx.object)("relationType","isIssueOfJournalVolume")("label",core.lcZ(16,30,"relationships.isIssueOf")),core.xp6(2),core.Q6J("item",ctx.object)("fields",core.DdM(36,journal_volume_component_c2))("label","journalvolume.page.description"),core.xp6(2),core.Q6J("routerLink",core.VKq(37,journal_volume_component_c3,ctx.itemPageRoute+"/full")),core.xp6(1),core.hij(" ",core.lcZ(21,32,"item.page.link.full")," "))},"JournalVolumeComponent_Template"),directives:[item_page_title_field_component.k,dso_page_version_button_component._,dso_page_edit_button_component._,metadata_field_wrapper_component.n,thumbnail_component.Z,generic_item_page_field_component.w,related_items_component.e,router.yS],pipes:[common.Ov,ngx_translate_core.X$],styles:[""]}),JournalVolumeComponent=(0,tslib_es6.gn)([(0,listable_object_decorator.d$)("JournalVolume",view_mode_model.w.StandalonePage)],JournalVolumeComponent);var abstract_listable_element_component=__webpack_require__(88829),item_search_result_list_element_component=__webpack_require__(30892),type_badge_component=__webpack_require__(64617),truncatable_component=__webpack_require__(57416),truncatable_part_component=__webpack_require__(84630);const journal_search_result_list_element_component_c0=__name(function(a0){return[a0]},"journal_search_result_list_element_component_c0");function JournalSearchResultListElementComponent_div_1_a_1_Template(rf,ctx){if(1&rf&&(core.TgZ(0,"a",13),core._UZ(1,"ds-thumbnail",14),core.ALo(2,"async"),core.qZA()),2&rf){const ctx_r5=core.oxw(2);core.Q6J("target",ctx_r5.linkType==ctx_r5.linkTypes.ExternalLink?"_blank":"_self")("routerLink",core.VKq(6,journal_search_result_list_element_component_c0,ctx_r5.itemPageRoute)),core.xp6(1),core.Q6J("thumbnail",core.lcZ(2,4,null==ctx_r5.dso?null:ctx_r5.dso.thumbnail))("limitWidth",!0)}}function JournalSearchResultListElementComponent_div_1_span_2_Template(rf,ctx){if(1&rf&&(core.TgZ(0,"span",15),core._UZ(1,"ds-thumbnail",14),core.ALo(2,"async"),core.qZA()),2&rf){const ctx_r6=core.oxw(2);core.xp6(1),core.Q6J("thumbnail",core.lcZ(2,2,null==ctx_r6.dso?null:ctx_r6.dso.thumbnail))("limitWidth",!0)}}function JournalSearchResultListElementComponent_div_1_Template(rf,ctx){if(1&rf&&(core.TgZ(0,"div",10),core.YNc(1,JournalSearchResultListElementComponent_div_1_a_1_Template,3,8,"a",11),core.YNc(2,JournalSearchResultListElementComponent_div_1_span_2_Template,3,4,"span",12),core.qZA()),2&rf){const ctx_r0=core.oxw();core.xp6(1),core.Q6J("ngIf",ctx_r0.linkType!=ctx_r0.linkTypes.None),core.xp6(1),core.Q6J("ngIf",ctx_r0.linkType==ctx_r0.linkTypes.None)}}function JournalSearchResultListElementComponent_ds_type_badge_3_Template(rf,ctx){if(1&rf&&core._UZ(0,"ds-type-badge",16),2&rf){const ctx_r1=core.oxw();core.Q6J("object",ctx_r1.dso)}}function JournalSearchResultListElementComponent_a_5_Template(rf,ctx){if(1&rf&&core._UZ(0,"a",17),2&rf){const ctx_r2=core.oxw();core.Q6J("target",ctx_r2.linkType==ctx_r2.linkTypes.ExternalLink?"_blank":"_self")("routerLink",core.VKq(3,journal_search_result_list_element_component_c0,ctx_r2.itemPageRoute))("innerHTML",ctx_r2.dsoTitle,core.oJD)}}function JournalSearchResultListElementComponent_span_6_Template(rf,ctx){if(1&rf&&core._UZ(0,"span",18),2&rf){const ctx_r3=core.oxw();core.Q6J("innerHTML",ctx_r3.dsoTitle,core.oJD)}}function JournalSearchResultListElementComponent_span_9_span_1_Template(rf,ctx){if(1&rf&&(core.TgZ(0,"span")(1,"span",21),core._UZ(2,"span",21),core.qZA()()),2&rf){const value_r8=ctx.$implicit;core.xp6(1),core.Q6J("innerHTML",value_r8,core.oJD),core.xp6(1),core.Q6J("innerHTML",value_r8,core.oJD)}}__name(JournalSearchResultListElementComponent_div_1_a_1_Template,"JournalSearchResultListElementComponent_div_1_a_1_Template"),__name(JournalSearchResultListElementComponent_div_1_span_2_Template,"JournalSearchResultListElementComponent_div_1_span_2_Template"),__name(JournalSearchResultListElementComponent_div_1_Template,"JournalSearchResultListElementComponent_div_1_Template"),__name(JournalSearchResultListElementComponent_ds_type_badge_3_Template,"JournalSearchResultListElementComponent_ds_type_badge_3_Template"),__name(JournalSearchResultListElementComponent_a_5_Template,"JournalSearchResultListElementComponent_a_5_Template"),__name(JournalSearchResultListElementComponent_span_6_Template,"JournalSearchResultListElementComponent_span_6_Template"),__name(JournalSearchResultListElementComponent_span_9_span_1_Template,"JournalSearchResultListElementComponent_span_9_span_1_Template");const journal_search_result_list_element_component_c1=__name(function(){return["creativeworkseries.issn"]},"journal_search_result_list_element_component_c1");function JournalSearchResultListElementComponent_span_9_Template(rf,ctx){if(1&rf&&(core.TgZ(0,"span",19),core.YNc(1,JournalSearchResultListElementComponent_span_9_span_1_Template,3,2,"span",20),core.qZA()),2&rf){const ctx_r4=core.oxw();core.xp6(1),core.Q6J("ngForOf",ctx_r4.allMetadataValues(core.DdM(1,journal_search_result_list_element_component_c1)))}}__name(JournalSearchResultListElementComponent_span_9_Template,"JournalSearchResultListElementComponent_span_9_Template");let JournalSearchResultListElementComponent=__name(class extends item_search_result_list_element_component.h{ngOnInit(){super.ngOnInit(),this.showThumbnails=this.appConfig.browseBy.showThumbnails}},"JournalSearchResultListElementComponent");JournalSearchResultListElementComponent.\u0275fac=function(){let \u0275JournalSearchResultListElementComponent_BaseFactory;return __name(function(t){return(\u0275JournalSearchResultListElementComponent_BaseFactory||(\u0275JournalSearchResultListElementComponent_BaseFactory=core.n5z(JournalSearchResultListElementComponent)))(t||JournalSearchResultListElementComponent)},"JournalSearchResultListElementComponent_Factory")}(),JournalSearchResultListElementComponent.\u0275cmp=core.Xpm({type:JournalSearchResultListElementComponent,selectors:[["ds-journal-search-result-list-element"]],features:[core.qOj],decls:10,vars:10,consts:[[1,"row"],["class","col-3 col-md-2",4,"ngIf"],[3,"ngClass"],[3,"object",4,"ngIf"],[3,"id"],["rel","noopener noreferrer","class","lead item-list-title dont-break-out",3,"target","routerLink","innerHTML",4,"ngIf"],["class","lead item-list-title dont-break-out",3,"innerHTML",4,"ngIf"],[1,"text-muted"],[3,"id","minLines"],["class","item-list-journals",4,"ngIf"],[1,"col-3","col-md-2"],["rel","noopener noreferrer","class","lead item-list-title dont-break-out",3,"target","routerLink",4,"ngIf"],["class","lead item-list-title dont-break-out",4,"ngIf"],["rel","noopener noreferrer",1,"lead","item-list-title","dont-break-out",3,"target","routerLink"],[3,"thumbnail","limitWidth"],[1,"lead","item-list-title","dont-break-out"],[3,"object"],["rel","noopener noreferrer",1,"lead","item-list-title","dont-break-out",3,"target","routerLink","innerHTML"],[1,"lead","item-list-title","dont-break-out",3,"innerHTML"],[1,"item-list-journals"],[4,"ngFor","ngForOf"],[3,"innerHTML"]],template:__name(function(rf,ctx){1&rf&&(core.TgZ(0,"div",0),core.YNc(1,JournalSearchResultListElementComponent_div_1_Template,3,2,"div",1),core.TgZ(2,"div",2),core.YNc(3,JournalSearchResultListElementComponent_ds_type_badge_3_Template,1,1,"ds-type-badge",3),core.TgZ(4,"ds-truncatable",4),core.YNc(5,JournalSearchResultListElementComponent_a_5_Template,1,5,"a",5),core.YNc(6,JournalSearchResultListElementComponent_span_6_Template,1,1,"span",6),core.TgZ(7,"span",7)(8,"ds-truncatable-part",8),core.YNc(9,JournalSearchResultListElementComponent_span_9_Template,2,2,"span",9),core.qZA()()()()()),2&rf&&(core.xp6(1),core.Q6J("ngIf",ctx.showThumbnails),core.xp6(1),core.Q6J("ngClass",ctx.showThumbnails?"col-9":"col-md-12"),core.xp6(1),core.Q6J("ngIf",ctx.showLabel),core.xp6(1),core.Q6J("id",ctx.dso.id),core.xp6(1),core.Q6J("ngIf",ctx.linkType!=ctx.linkTypes.None),core.xp6(1),core.Q6J("ngIf",ctx.linkType==ctx.linkTypes.None),core.xp6(2),core.Q6J("id",ctx.dso.id)("minLines",1),core.xp6(1),core.Q6J("ngIf",ctx.dso.allMetadata(core.DdM(9,journal_search_result_list_element_component_c1)).length>0))},"JournalSearchResultListElementComponent_Template"),directives:[common.O5,router.yS,thumbnail_component.Z,common.mk,type_badge_component.F,truncatable_component.n,truncatable_part_component.L,common.sg],pipes:[common.Ov],styles:[""]}),JournalSearchResultListElementComponent=(0,tslib_es6.gn)([(0,listable_object_decorator.d$)("JournalSearchResult",view_mode_model.w.ListElement)],JournalSearchResultListElementComponent);const journal_list_element_component_c0=__name(function(){return{}},"journal_list_element_component_c0"),journal_list_element_component_c1=__name(function(a0,a1){return{indexableObject:a0,hitHighlights:a1}},"journal_list_element_component_c1");let JournalListElementComponent=__name(class extends abstract_listable_element_component.i{},"JournalListElementComponent");JournalListElementComponent.\u0275fac=function(){let \u0275JournalListElementComponent_BaseFactory;return __name(function(t){return(\u0275JournalListElementComponent_BaseFactory||(\u0275JournalListElementComponent_BaseFactory=core.n5z(JournalListElementComponent)))(t||JournalListElementComponent)},"JournalListElementComponent_Factory")}(),JournalListElementComponent.\u0275cmp=core.Xpm({type:JournalListElementComponent,selectors:[["ds-journal-list-element"]],features:[core.qOj],decls:1,vars:7,consts:[[3,"showLabel","object","linkType"]],template:__name(function(rf,ctx){1&rf&&core._UZ(0,"ds-journal-search-result-list-element",0),2&rf&&core.Q6J("showLabel",ctx.showLabel)("object",core.WLB(4,journal_list_element_component_c1,ctx.object,core.DdM(3,journal_list_element_component_c0)))("linkType",ctx.linkType)},"JournalListElementComponent_Template"),directives:[JournalSearchResultListElementComponent],styles:[""]}),JournalListElementComponent=(0,tslib_es6.gn)([(0,listable_object_decorator.d$)("Journal",view_mode_model.w.ListElement)],JournalListElementComponent);const journal_issue_search_result_list_element_component_c0=__name(function(a0){return[a0]},"journal_issue_search_result_list_element_component_c0");function JournalIssueSearchResultListElementComponent_div_1_a_1_Template(rf,ctx){if(1&rf&&(core.TgZ(0,"a",13),core._UZ(1,"ds-thumbnail",14),core.ALo(2,"async"),core.qZA()),2&rf){const ctx_r5=core.oxw(2);core.Q6J("target",ctx_r5.linkType==ctx_r5.linkTypes.ExternalLink?"_blank":"_self")("routerLink",core.VKq(6,journal_issue_search_result_list_element_component_c0,ctx_r5.itemPageRoute)),core.xp6(1),core.Q6J("thumbnail",core.lcZ(2,4,null==ctx_r5.dso?null:ctx_r5.dso.thumbnail))("limitWidth",!0)}}function JournalIssueSearchResultListElementComponent_div_1_span_2_Template(rf,ctx){if(1&rf&&(core.TgZ(0,"span",15),core._UZ(1,"ds-thumbnail",14),core.ALo(2,"async"),core.qZA()),2&rf){const ctx_r6=core.oxw(2);core.xp6(1),core.Q6J("thumbnail",core.lcZ(2,2,null==ctx_r6.dso?null:ctx_r6.dso.thumbnail))("limitWidth",!0)}}function JournalIssueSearchResultListElementComponent_div_1_Template(rf,ctx){if(1&rf&&(core.TgZ(0,"div",10),core.YNc(1,JournalIssueSearchResultListElementComponent_div_1_a_1_Template,3,8,"a",11),core.YNc(2,JournalIssueSearchResultListElementComponent_div_1_span_2_Template,3,4,"span",12),core.qZA()),2&rf){const ctx_r0=core.oxw();core.xp6(1),core.Q6J("ngIf",ctx_r0.linkType!=ctx_r0.linkTypes.None),core.xp6(1),core.Q6J("ngIf",ctx_r0.linkType==ctx_r0.linkTypes.None)}}function JournalIssueSearchResultListElementComponent_ds_type_badge_3_Template(rf,ctx){if(1&rf&&core._UZ(0,"ds-type-badge",16),2&rf){const ctx_r1=core.oxw();core.Q6J("object",ctx_r1.dso)}}function JournalIssueSearchResultListElementComponent_a_5_Template(rf,ctx){if(1&rf&&core._UZ(0,"a",17),2&rf){const ctx_r2=core.oxw();core.Q6J("target",ctx_r2.linkType==ctx_r2.linkTypes.ExternalLink?"_blank":"_self")("routerLink",core.VKq(3,journal_issue_search_result_list_element_component_c0,ctx_r2.itemPageRoute))("innerHTML",ctx_r2.dsoTitle,core.oJD)}}function JournalIssueSearchResultListElementComponent_span_6_Template(rf,ctx){if(1&rf&&core._UZ(0,"span",18),2&rf){const ctx_r3=core.oxw();core.Q6J("innerHTML",ctx_r3.dsoTitle,core.oJD)}}function JournalIssueSearchResultListElementComponent_span_9_span_1_Template(rf,ctx){if(1&rf&&(core.TgZ(0,"span")(1,"span",22),core._UZ(2,"span",22),core.qZA()()),2&rf){const value_r9=ctx.$implicit;core.xp6(1),core.Q6J("innerHTML",value_r9,core.oJD),core.xp6(1),core.Q6J("innerHTML",value_r9,core.oJD)}}function JournalIssueSearchResultListElementComponent_span_9_span_2_span_1_Template(rf,ctx){if(1&rf&&(core.TgZ(0,"span")(1,"span"),core._uU(2," - "),core.qZA(),core.TgZ(3,"span",22),core._UZ(4,"span",22),core.qZA()()),2&rf){const value_r12=ctx.$implicit;core.xp6(3),core.Q6J("innerHTML",value_r12,core.oJD),core.xp6(1),core.Q6J("innerHTML",value_r12,core.oJD)}}__name(JournalIssueSearchResultListElementComponent_div_1_a_1_Template,"JournalIssueSearchResultListElementComponent_div_1_a_1_Template"),__name(JournalIssueSearchResultListElementComponent_div_1_span_2_Template,"JournalIssueSearchResultListElementComponent_div_1_span_2_Template"),__name(JournalIssueSearchResultListElementComponent_div_1_Template,"JournalIssueSearchResultListElementComponent_div_1_Template"),__name(JournalIssueSearchResultListElementComponent_ds_type_badge_3_Template,"JournalIssueSearchResultListElementComponent_ds_type_badge_3_Template"),__name(JournalIssueSearchResultListElementComponent_a_5_Template,"JournalIssueSearchResultListElementComponent_a_5_Template"),__name(JournalIssueSearchResultListElementComponent_span_6_Template,"JournalIssueSearchResultListElementComponent_span_6_Template"),__name(JournalIssueSearchResultListElementComponent_span_9_span_1_Template,"JournalIssueSearchResultListElementComponent_span_9_span_1_Template"),__name(JournalIssueSearchResultListElementComponent_span_9_span_2_span_1_Template,"JournalIssueSearchResultListElementComponent_span_9_span_2_span_1_Template");const journal_issue_search_result_list_element_component_c1=__name(function(){return["publicationissue.issueNumber"]},"journal_issue_search_result_list_element_component_c1");function JournalIssueSearchResultListElementComponent_span_9_span_2_Template(rf,ctx){if(1&rf&&(core.TgZ(0,"span",23),core.YNc(1,JournalIssueSearchResultListElementComponent_span_9_span_2_span_1_Template,5,2,"span",20),core.qZA()),2&rf){const ctx_r8=core.oxw(2);core.xp6(1),core.Q6J("ngForOf",ctx_r8.allMetadataValues(core.DdM(1,journal_issue_search_result_list_element_component_c1)))}}__name(JournalIssueSearchResultListElementComponent_span_9_span_2_Template,"JournalIssueSearchResultListElementComponent_span_9_span_2_Template");const journal_issue_search_result_list_element_component_c2=__name(function(){return["publicationvolume.volumeNumber"]},"journal_issue_search_result_list_element_component_c2");function JournalIssueSearchResultListElementComponent_span_9_Template(rf,ctx){if(1&rf&&(core.TgZ(0,"span",19),core.YNc(1,JournalIssueSearchResultListElementComponent_span_9_span_1_Template,3,2,"span",20),core.YNc(2,JournalIssueSearchResultListElementComponent_span_9_span_2_Template,2,2,"span",21),core.qZA()),2&rf){const ctx_r4=core.oxw();core.xp6(1),core.Q6J("ngForOf",ctx_r4.allMetadataValues(core.DdM(2,journal_issue_search_result_list_element_component_c2))),core.xp6(1),core.Q6J("ngIf",ctx_r4.dso.allMetadata(core.DdM(3,journal_issue_search_result_list_element_component_c1)).length>0)}}__name(JournalIssueSearchResultListElementComponent_span_9_Template,"JournalIssueSearchResultListElementComponent_span_9_Template");let JournalIssueSearchResultListElementComponent=__name(class extends item_search_result_list_element_component.h{ngOnInit(){super.ngOnInit(),this.showThumbnails=this.appConfig.browseBy.showThumbnails}},"JournalIssueSearchResultListElementComponent");JournalIssueSearchResultListElementComponent.\u0275fac=function(){let \u0275JournalIssueSearchResultListElementComponent_BaseFactory;return __name(function(t){return(\u0275JournalIssueSearchResultListElementComponent_BaseFactory||(\u0275JournalIssueSearchResultListElementComponent_BaseFactory=core.n5z(JournalIssueSearchResultListElementComponent)))(t||JournalIssueSearchResultListElementComponent)},"JournalIssueSearchResultListElementComponent_Factory")}(),JournalIssueSearchResultListElementComponent.\u0275cmp=core.Xpm({type:JournalIssueSearchResultListElementComponent,selectors:[["ds-journal-issue-search-result-list-element"]],features:[core.qOj],decls:10,vars:10,consts:[[1,"row"],["class","col-3 col-md-2",4,"ngIf"],[3,"ngClass"],[3,"object",4,"ngIf"],[3,"id"],["rel","noopener noreferrer","class","lead item-list-title dont-break-out",3,"target","routerLink","innerHTML",4,"ngIf"],["class","lead item-list-title dont-break-out",3,"innerHTML",4,"ngIf"],[1,"text-muted"],[3,"id","minLines"],["class","item-list-journal-issues",4,"ngIf"],[1,"col-3","col-md-2"],["rel","noopener noreferrer","class","lead item-list-title dont-break-out",3,"target","routerLink",4,"ngIf"],["class","lead item-list-title dont-break-out",4,"ngIf"],["rel","noopener noreferrer",1,"lead","item-list-title","dont-break-out",3,"target","routerLink"],[3,"thumbnail","limitWidth"],[1,"lead","item-list-title","dont-break-out"],[3,"object"],["rel","noopener noreferrer",1,"lead","item-list-title","dont-break-out",3,"target","routerLink","innerHTML"],[1,"lead","item-list-title","dont-break-out",3,"innerHTML"],[1,"item-list-journal-issues"],[4,"ngFor","ngForOf"],["class","item-list-journal-issue-numbers",4,"ngIf"],[3,"innerHTML"],[1,"item-list-journal-issue-numbers"]],template:__name(function(rf,ctx){1&rf&&(core.TgZ(0,"div",0),core.YNc(1,JournalIssueSearchResultListElementComponent_div_1_Template,3,2,"div",1),core.TgZ(2,"div",2),core.YNc(3,JournalIssueSearchResultListElementComponent_ds_type_badge_3_Template,1,1,"ds-type-badge",3),core.TgZ(4,"ds-truncatable",4),core.YNc(5,JournalIssueSearchResultListElementComponent_a_5_Template,1,5,"a",5),core.YNc(6,JournalIssueSearchResultListElementComponent_span_6_Template,1,1,"span",6),core.TgZ(7,"span",7)(8,"ds-truncatable-part",8),core.YNc(9,JournalIssueSearchResultListElementComponent_span_9_Template,3,4,"span",9),core.qZA()()()()()),2&rf&&(core.xp6(1),core.Q6J("ngIf",ctx.showThumbnails),core.xp6(1),core.Q6J("ngClass",ctx.showThumbnails?"col-9":"col-md-12"),core.xp6(1),core.Q6J("ngIf",ctx.showLabel),core.xp6(1),core.Q6J("id",ctx.dso.id),core.xp6(1),core.Q6J("ngIf",ctx.linkType!=ctx.linkTypes.None),core.xp6(1),core.Q6J("ngIf",ctx.linkType==ctx.linkTypes.None),core.xp6(2),core.Q6J("id",ctx.dso.id)("minLines",1),core.xp6(1),core.Q6J("ngIf",ctx.dso.allMetadata(core.DdM(9,journal_issue_search_result_list_element_component_c2)).length>0))},"JournalIssueSearchResultListElementComponent_Template"),directives:[common.O5,router.yS,thumbnail_component.Z,common.mk,type_badge_component.F,truncatable_component.n,truncatable_part_component.L,common.sg],pipes:[common.Ov],styles:[""]}),JournalIssueSearchResultListElementComponent=(0,tslib_es6.gn)([(0,listable_object_decorator.d$)("JournalIssueSearchResult",view_mode_model.w.ListElement)],JournalIssueSearchResultListElementComponent);const journal_issue_list_element_component_c0=__name(function(){return{}},"journal_issue_list_element_component_c0"),journal_issue_list_element_component_c1=__name(function(a0,a1){return{indexableObject:a0,hitHighlights:a1}},"journal_issue_list_element_component_c1");let JournalIssueListElementComponent=__name(class extends abstract_listable_element_component.i{},"JournalIssueListElementComponent");JournalIssueListElementComponent.\u0275fac=function(){let \u0275JournalIssueListElementComponent_BaseFactory;return __name(function(t){return(\u0275JournalIssueListElementComponent_BaseFactory||(\u0275JournalIssueListElementComponent_BaseFactory=core.n5z(JournalIssueListElementComponent)))(t||JournalIssueListElementComponent)},"JournalIssueListElementComponent_Factory")}(),JournalIssueListElementComponent.\u0275cmp=core.Xpm({type:JournalIssueListElementComponent,selectors:[["ds-journal-issue-list-element"]],features:[core.qOj],decls:1,vars:7,consts:[[3,"showLabel","object","linkType"]],template:__name(function(rf,ctx){1&rf&&core._UZ(0,"ds-journal-issue-search-result-list-element",0),2&rf&&core.Q6J("showLabel",ctx.showLabel)("object",core.WLB(4,journal_issue_list_element_component_c1,ctx.object,core.DdM(3,journal_issue_list_element_component_c0)))("linkType",ctx.linkType)},"JournalIssueListElementComponent_Template"),directives:[JournalIssueSearchResultListElementComponent],styles:[""]}),JournalIssueListElementComponent=(0,tslib_es6.gn)([(0,listable_object_decorator.d$)("JournalIssue",view_mode_model.w.ListElement)],JournalIssueListElementComponent);const journal_volume_search_result_list_element_component_c0=__name(function(a0){return[a0]},"journal_volume_search_result_list_element_component_c0");function JournalVolumeSearchResultListElementComponent_div_1_a_1_Template(rf,ctx){if(1&rf&&(core.TgZ(0,"a",14),core._UZ(1,"ds-thumbnail",15),core.ALo(2,"async"),core.qZA()),2&rf){const ctx_r6=core.oxw(2);core.Q6J("target",ctx_r6.linkType==ctx_r6.linkTypes.ExternalLink?"_blank":"_self")("routerLink",core.VKq(6,journal_volume_search_result_list_element_component_c0,ctx_r6.itemPageRoute)),core.xp6(1),core.Q6J("thumbnail",core.lcZ(2,4,null==ctx_r6.dso?null:ctx_r6.dso.thumbnail))("limitWidth",!0)}}function JournalVolumeSearchResultListElementComponent_div_1_span_2_Template(rf,ctx){if(1&rf&&(core.TgZ(0,"span",16),core._UZ(1,"ds-thumbnail",15),core.ALo(2,"async"),core.qZA()),2&rf){const ctx_r7=core.oxw(2);core.xp6(1),core.Q6J("thumbnail",core.lcZ(2,2,null==ctx_r7.dso?null:ctx_r7.dso.thumbnail))("limitWidth",!0)}}function JournalVolumeSearchResultListElementComponent_div_1_Template(rf,ctx){if(1&rf&&(core.TgZ(0,"div",11),core.YNc(1,JournalVolumeSearchResultListElementComponent_div_1_a_1_Template,3,8,"a",12),core.YNc(2,JournalVolumeSearchResultListElementComponent_div_1_span_2_Template,3,4,"span",13),core.qZA()),2&rf){const ctx_r0=core.oxw();core.xp6(1),core.Q6J("ngIf",ctx_r0.linkType!=ctx_r0.linkTypes.None),core.xp6(1),core.Q6J("ngIf",ctx_r0.linkType==ctx_r0.linkTypes.None)}}function JournalVolumeSearchResultListElementComponent_ds_type_badge_3_Template(rf,ctx){if(1&rf&&core._UZ(0,"ds-type-badge",17),2&rf){const ctx_r1=core.oxw();core.Q6J("object",ctx_r1.dso)}}function JournalVolumeSearchResultListElementComponent_a_5_Template(rf,ctx){if(1&rf&&core._UZ(0,"a",18),2&rf){const ctx_r2=core.oxw();core.Q6J("target",ctx_r2.linkType==ctx_r2.linkTypes.ExternalLink?"_blank":"_self")("routerLink",core.VKq(3,journal_volume_search_result_list_element_component_c0,ctx_r2.itemPageRoute))("innerHTML",ctx_r2.dsoTitle,core.oJD)}}function JournalVolumeSearchResultListElementComponent_span_6_Template(rf,ctx){if(1&rf&&core._UZ(0,"span",19),2&rf){const ctx_r3=core.oxw();core.Q6J("innerHTML",ctx_r3.dsoTitle,core.oJD)}}function JournalVolumeSearchResultListElementComponent_span_9_span_1_Template(rf,ctx){if(1&rf&&(core.TgZ(0,"span")(1,"span",22),core._UZ(2,"span",22),core.qZA()()),2&rf){const value_r9=ctx.$implicit;core.xp6(1),core.Q6J("innerHTML",value_r9,core.oJD),core.xp6(1),core.Q6J("innerHTML",value_r9,core.oJD)}}__name(JournalVolumeSearchResultListElementComponent_div_1_a_1_Template,"JournalVolumeSearchResultListElementComponent_div_1_a_1_Template"),__name(JournalVolumeSearchResultListElementComponent_div_1_span_2_Template,"JournalVolumeSearchResultListElementComponent_div_1_span_2_Template"),__name(JournalVolumeSearchResultListElementComponent_div_1_Template,"JournalVolumeSearchResultListElementComponent_div_1_Template"),__name(JournalVolumeSearchResultListElementComponent_ds_type_badge_3_Template,"JournalVolumeSearchResultListElementComponent_ds_type_badge_3_Template"),__name(JournalVolumeSearchResultListElementComponent_a_5_Template,"JournalVolumeSearchResultListElementComponent_a_5_Template"),__name(JournalVolumeSearchResultListElementComponent_span_6_Template,"JournalVolumeSearchResultListElementComponent_span_6_Template"),__name(JournalVolumeSearchResultListElementComponent_span_9_span_1_Template,"JournalVolumeSearchResultListElementComponent_span_9_span_1_Template");const journal_volume_search_result_list_element_component_c1=__name(function(){return["journal.title"]},"journal_volume_search_result_list_element_component_c1");function JournalVolumeSearchResultListElementComponent_span_9_Template(rf,ctx){if(1&rf&&(core.TgZ(0,"span",20),core.YNc(1,JournalVolumeSearchResultListElementComponent_span_9_span_1_Template,3,2,"span",21),core.qZA()),2&rf){const ctx_r4=core.oxw();core.xp6(1),core.Q6J("ngForOf",ctx_r4.allMetadataValues(core.DdM(1,journal_volume_search_result_list_element_component_c1)))}}function JournalVolumeSearchResultListElementComponent_span_10_span_1_Template(rf,ctx){if(1&rf&&(core.TgZ(0,"span")(1,"span"),core._uU(2," ("),core.qZA(),core.TgZ(3,"span",22),core._UZ(4,"span",22),core.qZA(),core.TgZ(5,"span"),core._uU(6,")"),core.qZA()()),2&rf){const value_r12=ctx.$implicit;core.xp6(3),core.Q6J("innerHTML",value_r12,core.oJD),core.xp6(1),core.Q6J("innerHTML",value_r12,core.oJD)}}__name(JournalVolumeSearchResultListElementComponent_span_9_Template,"JournalVolumeSearchResultListElementComponent_span_9_Template"),__name(JournalVolumeSearchResultListElementComponent_span_10_span_1_Template,"JournalVolumeSearchResultListElementComponent_span_10_span_1_Template");const journal_volume_search_result_list_element_component_c2=__name(function(){return["publicationvolume.volumeNumber"]},"journal_volume_search_result_list_element_component_c2");function JournalVolumeSearchResultListElementComponent_span_10_Template(rf,ctx){if(1&rf&&(core.TgZ(0,"span",23),core.YNc(1,JournalVolumeSearchResultListElementComponent_span_10_span_1_Template,7,2,"span",21),core.qZA()),2&rf){const ctx_r5=core.oxw();core.xp6(1),core.Q6J("ngForOf",ctx_r5.allMetadataValues(core.DdM(1,journal_volume_search_result_list_element_component_c2)))}}__name(JournalVolumeSearchResultListElementComponent_span_10_Template,"JournalVolumeSearchResultListElementComponent_span_10_Template");let JournalVolumeSearchResultListElementComponent=__name(class extends item_search_result_list_element_component.h{ngOnInit(){super.ngOnInit(),this.showThumbnails=this.appConfig.browseBy.showThumbnails}},"JournalVolumeSearchResultListElementComponent");JournalVolumeSearchResultListElementComponent.\u0275fac=function(){let \u0275JournalVolumeSearchResultListElementComponent_BaseFactory;return __name(function(t){return(\u0275JournalVolumeSearchResultListElementComponent_BaseFactory||(\u0275JournalVolumeSearchResultListElementComponent_BaseFactory=core.n5z(JournalVolumeSearchResultListElementComponent)))(t||JournalVolumeSearchResultListElementComponent)},"JournalVolumeSearchResultListElementComponent_Factory")}(),JournalVolumeSearchResultListElementComponent.\u0275cmp=core.Xpm({type:JournalVolumeSearchResultListElementComponent,selectors:[["ds-journal-volume-search-result-list-element"]],features:[core.qOj],decls:11,vars:12,consts:[[1,"row"],["class","col-3 col-md-2",4,"ngIf"],[3,"ngClass"],[3,"object",4,"ngIf"],[3,"id"],["rel","noopener noreferrer","class","lead item-list-title dont-break-out",3,"target","routerLink","innerHTML",4,"ngIf"],["class","lead item-list-title dont-break-out",3,"innerHTML",4,"ngIf"],[1,"text-muted"],[3,"id","minLines"],["class","item-list-journal-volumes",4,"ngIf"],["class","item-list-journal-volume-identifiers",4,"ngIf"],[1,"col-3","col-md-2"],["rel","noopener noreferrer","class","lead item-list-title dont-break-out",3,"target","routerLink",4,"ngIf"],["class","lead item-list-title dont-break-out",4,"ngIf"],["rel","noopener noreferrer",1,"lead","item-list-title","dont-break-out",3,"target","routerLink"],[3,"thumbnail","limitWidth"],[1,"lead","item-list-title","dont-break-out"],[3,"object"],["rel","noopener noreferrer",1,"lead","item-list-title","dont-break-out",3,"target","routerLink","innerHTML"],[1,"lead","item-list-title","dont-break-out",3,"innerHTML"],[1,"item-list-journal-volumes"],[4,"ngFor","ngForOf"],[3,"innerHTML"],[1,"item-list-journal-volume-identifiers"]],template:__name(function(rf,ctx){1&rf&&(core.TgZ(0,"div",0),core.YNc(1,JournalVolumeSearchResultListElementComponent_div_1_Template,3,2,"div",1),core.TgZ(2,"div",2),core.YNc(3,JournalVolumeSearchResultListElementComponent_ds_type_badge_3_Template,1,1,"ds-type-badge",3),core.TgZ(4,"ds-truncatable",4),core.YNc(5,JournalVolumeSearchResultListElementComponent_a_5_Template,1,5,"a",5),core.YNc(6,JournalVolumeSearchResultListElementComponent_span_6_Template,1,1,"span",6),core.TgZ(7,"span",7)(8,"ds-truncatable-part",8),core.YNc(9,JournalVolumeSearchResultListElementComponent_span_9_Template,2,2,"span",9),core.YNc(10,JournalVolumeSearchResultListElementComponent_span_10_Template,2,2,"span",10),core.qZA()()()()()),2&rf&&(core.xp6(1),core.Q6J("ngIf",ctx.showThumbnails),core.xp6(1),core.Q6J("ngClass",ctx.showThumbnails?"col-9":"col-md-12"),core.xp6(1),core.Q6J("ngIf",ctx.showLabel),core.xp6(1),core.Q6J("id",ctx.dso.id),core.xp6(1),core.Q6J("ngIf",ctx.linkType!=ctx.linkTypes.None),core.xp6(1),core.Q6J("ngIf",ctx.linkType==ctx.linkTypes.None),core.xp6(2),core.Q6J("id",ctx.dso.id)("minLines",1),core.xp6(1),core.Q6J("ngIf",ctx.dso.allMetadata(core.DdM(10,journal_volume_search_result_list_element_component_c1)).length>0),core.xp6(1),core.Q6J("ngIf",ctx.dso.allMetadata(core.DdM(11,journal_volume_search_result_list_element_component_c2)).length>0))},"JournalVolumeSearchResultListElementComponent_Template"),directives:[common.O5,router.yS,thumbnail_component.Z,common.mk,type_badge_component.F,truncatable_component.n,truncatable_part_component.L,common.sg],pipes:[common.Ov],styles:[""]}),JournalVolumeSearchResultListElementComponent=(0,tslib_es6.gn)([(0,listable_object_decorator.d$)("JournalVolumeSearchResult",view_mode_model.w.ListElement)],JournalVolumeSearchResultListElementComponent);const journal_volume_list_element_component_c0=__name(function(){return{}},"journal_volume_list_element_component_c0"),journal_volume_list_element_component_c1=__name(function(a0,a1){return{indexableObject:a0,hitHighlights:a1}},"journal_volume_list_element_component_c1");let JournalVolumeListElementComponent=__name(class extends abstract_listable_element_component.i{},"JournalVolumeListElementComponent");JournalVolumeListElementComponent.\u0275fac=function(){let \u0275JournalVolumeListElementComponent_BaseFactory;return __name(function(t){return(\u0275JournalVolumeListElementComponent_BaseFactory||(\u0275JournalVolumeListElementComponent_BaseFactory=core.n5z(JournalVolumeListElementComponent)))(t||JournalVolumeListElementComponent)},"JournalVolumeListElementComponent_Factory")}(),JournalVolumeListElementComponent.\u0275cmp=core.Xpm({type:JournalVolumeListElementComponent,selectors:[["ds-journal-volume-list-element"]],features:[core.qOj],decls:1,vars:7,consts:[[3,"showLabel","object","linkType"]],template:__name(function(rf,ctx){1&rf&&core._UZ(0,"ds-journal-volume-search-result-list-element",0),2&rf&&core.Q6J("showLabel",ctx.showLabel)("object",core.WLB(4,journal_volume_list_element_component_c1,ctx.object,core.DdM(3,journal_volume_list_element_component_c0)))("linkType",ctx.linkType)},"JournalVolumeListElementComponent_Template"),directives:[JournalVolumeSearchResultListElementComponent],styles:[""]}),JournalVolumeListElementComponent=(0,tslib_es6.gn)([(0,listable_object_decorator.d$)("JournalVolume",view_mode_model.w.ListElement)],JournalVolumeListElementComponent);var animations_focus=__webpack_require__(10299),item_search_result_grid_element_component=__webpack_require__(94034);const journal_issue_search_result_grid_element_component_c0=__name(function(a0){return[a0]},"journal_issue_search_result_grid_element_component_c0");function JournalIssueSearchResultGridElementComponent_a_5_Template(rf,ctx){if(1&rf&&(core.TgZ(0,"a",12),core.ALo(1,"translate"),core.TgZ(2,"div"),core._UZ(3,"ds-thumbnail",13),core.ALo(4,"async"),core.qZA()()),2&rf){const ctx_r0=core.oxw();core.Q6J("target",ctx_r0.linkType==ctx_r0.linkTypes.ExternalLink?"_blank":"_self")("routerLink",core.VKq(9,journal_issue_search_result_grid_element_component_c0,ctx_r0.itemPageRoute)),core.uIk("title",core.lcZ(1,5,"search.results.view-result")),core.xp6(3),core.Q6J("thumbnail",core.lcZ(4,7,null==ctx_r0.dso?null:ctx_r0.dso.thumbnail))("limitWidth",!1)}}function JournalIssueSearchResultGridElementComponent_span_6_Template(rf,ctx){if(1&rf&&(core.TgZ(0,"span",14)(1,"div"),core._UZ(2,"ds-thumbnail",13),core.ALo(3,"async"),core.qZA()()),2&rf){const ctx_r1=core.oxw();core.xp6(2),core.Q6J("thumbnail",core.lcZ(3,2,null==ctx_r1.dso?null:ctx_r1.dso.thumbnail))("limitWidth",!1)}}function JournalIssueSearchResultGridElementComponent_ds_type_badge_8_Template(rf,ctx){if(1&rf&&core._UZ(0,"ds-type-badge",15),2&rf){const ctx_r2=core.oxw();core.Q6J("object",ctx_r2.dso)}}function JournalIssueSearchResultGridElementComponent_p_11_Template(rf,ctx){if(1&rf&&(core.TgZ(0,"p",16)(1,"ds-truncatable-part",17),core._UZ(2,"span",18),core.qZA()()),2&rf){const ctx_r3=core.oxw();core.xp6(1),core.Q6J("id",ctx_r3.dso.id)("minLines",1),core.xp6(1),core.Q6J("innerHTML",ctx_r3.firstMetadataValue("creativework.datePublished"),core.oJD)}}function JournalIssueSearchResultGridElementComponent_p_12_Template(rf,ctx){if(1&rf&&(core.TgZ(0,"p",19)(1,"ds-truncatable-part",17),core._UZ(2,"span",18),core.qZA()()),2&rf){const ctx_r4=core.oxw();core.xp6(1),core.Q6J("id",ctx_r4.dso.id)("minLines",3),core.xp6(1),core.Q6J("innerHTML",ctx_r4.firstMetadataValue("journal.title"),core.oJD)}}function JournalIssueSearchResultGridElementComponent_div_13_Template(rf,ctx){if(1&rf&&(core.TgZ(0,"div",20)(1,"a",21),core._uU(2),core.ALo(3,"translate"),core.qZA()()),2&rf){const ctx_r5=core.oxw();core.xp6(1),core.Q6J("target",ctx_r5.linkType==ctx_r5.linkTypes.ExternalLink?"_blank":"_self")("routerLink",core.VKq(5,journal_issue_search_result_grid_element_component_c0,ctx_r5.itemPageRoute)),core.xp6(1),core.Oqu(core.lcZ(3,3,"search.results.view-result"))}}__name(JournalIssueSearchResultGridElementComponent_a_5_Template,"JournalIssueSearchResultGridElementComponent_a_5_Template"),__name(JournalIssueSearchResultGridElementComponent_span_6_Template,"JournalIssueSearchResultGridElementComponent_span_6_Template"),__name(JournalIssueSearchResultGridElementComponent_ds_type_badge_8_Template,"JournalIssueSearchResultGridElementComponent_ds_type_badge_8_Template"),__name(JournalIssueSearchResultGridElementComponent_p_11_Template,"JournalIssueSearchResultGridElementComponent_p_11_Template"),__name(JournalIssueSearchResultGridElementComponent_p_12_Template,"JournalIssueSearchResultGridElementComponent_p_12_Template"),__name(JournalIssueSearchResultGridElementComponent_div_13_Template,"JournalIssueSearchResultGridElementComponent_div_13_Template");const journal_issue_search_result_grid_element_component_c1=["*","*"];let JournalIssueSearchResultGridElementComponent=__name(class extends item_search_result_grid_element_component.n{},"JournalIssueSearchResultGridElementComponent");JournalIssueSearchResultGridElementComponent.\u0275fac=function(){let \u0275JournalIssueSearchResultGridElementComponent_BaseFactory;return __name(function(t){return(\u0275JournalIssueSearchResultGridElementComponent_BaseFactory||(\u0275JournalIssueSearchResultGridElementComponent_BaseFactory=core.n5z(JournalIssueSearchResultGridElementComponent)))(t||JournalIssueSearchResultGridElementComponent)},"JournalIssueSearchResultGridElementComponent_Factory")}(),JournalIssueSearchResultGridElementComponent.\u0275cmp=core.Xpm({type:JournalIssueSearchResultGridElementComponent,selectors:[["ds-journal-issue-search-result-grid-element"]],features:[core.qOj],ngContentSelectors:journal_issue_search_result_grid_element_component_c1,decls:15,vars:13,consts:[[1,"card"],[3,"id"],[1,"position-absolute","ml-1"],["rel","noopener noreferrer","class","card-img-top full-width",3,"target","routerLink",4,"ngIf"],["class","card-img-top full-width",4,"ngIf"],[1,"card-body"],[3,"object",4,"ngIf"],["type","h4",3,"id","minLines"],[1,"card-title",3,"innerHTML"],["class","item-date card-text text-muted",4,"ngIf"],["class","item-journal-title card-text",4,"ngIf"],["class","text-center",4,"ngIf"],["rel","noopener noreferrer",1,"card-img-top","full-width",3,"target","routerLink"],[3,"thumbnail","limitWidth"],[1,"card-img-top","full-width"],[3,"object"],[1,"item-date","card-text","text-muted"],[3,"id","minLines"],[3,"innerHTML"],[1,"item-journal-title","card-text"],[1,"text-center"],["rel","noopener noreferrer",1,"lead","btn","btn-primary","viewButton",3,"target","routerLink"]],template:__name(function(rf,ctx){1&rf&&(core.F$t(journal_issue_search_result_grid_element_component_c1),core.TgZ(0,"div",0),core.ALo(1,"async"),core.TgZ(2,"ds-truncatable",1)(3,"div",2),core.Hsn(4),core.qZA(),core.YNc(5,JournalIssueSearchResultGridElementComponent_a_5_Template,5,11,"a",3),core.YNc(6,JournalIssueSearchResultGridElementComponent_span_6_Template,4,4,"span",4),core.TgZ(7,"div",5),core.YNc(8,JournalIssueSearchResultGridElementComponent_ds_type_badge_8_Template,1,1,"ds-type-badge",6),core.TgZ(9,"ds-truncatable-part",7),core._UZ(10,"h4",8),core.qZA(),core.YNc(11,JournalIssueSearchResultGridElementComponent_p_11_Template,3,3,"p",9),core.YNc(12,JournalIssueSearchResultGridElementComponent_p_12_Template,3,3,"p",10),core.YNc(13,JournalIssueSearchResultGridElementComponent_div_13_Template,4,7,"div",11),core.qZA()(),core.Hsn(14,1),core.qZA()),2&rf&&(core.Q6J("@focusShadow",core.lcZ(1,11,ctx.isCollapsed$)?"blur":"focus"),core.xp6(2),core.Q6J("id",ctx.dso.id),core.xp6(3),core.Q6J("ngIf",ctx.linkType!=ctx.linkTypes.None),core.xp6(1),core.Q6J("ngIf",ctx.linkType==ctx.linkTypes.None),core.xp6(2),core.Q6J("ngIf",ctx.showLabel),core.xp6(1),core.Q6J("id",ctx.dso.id)("minLines",3),core.xp6(1),core.Q6J("innerHTML",ctx.dsoTitle,core.oJD),core.xp6(1),core.Q6J("ngIf",ctx.dso.hasMetadata("creativework.datePublished")),core.xp6(1),core.Q6J("ngIf",ctx.dso.hasMetadata("journal.title")),core.xp6(1),core.Q6J("ngIf",ctx.linkType!=ctx.linkTypes.None))},"JournalIssueSearchResultGridElementComponent_Template"),directives:[truncatable_component.n,common.O5,router.yS,thumbnail_component.Z,type_badge_component.F,truncatable_part_component.L],pipes:[common.Ov,ngx_translate_core.X$],styles:[""],data:{animation:[animations_focus.X]}}),JournalIssueSearchResultGridElementComponent=(0,tslib_es6.gn)([(0,listable_object_decorator.d$)("JournalIssueSearchResult",view_mode_model.w.GridElement)],JournalIssueSearchResultGridElementComponent);const journal_issue_grid_element_component_c0=__name(function(){return{}},"journal_issue_grid_element_component_c0"),journal_issue_grid_element_component_c1=__name(function(a0,a1){return{indexableObject:a0,hitHighlights:a1}},"journal_issue_grid_element_component_c1");let JournalIssueGridElementComponent=__name(class extends abstract_listable_element_component.i{},"JournalIssueGridElementComponent");JournalIssueGridElementComponent.\u0275fac=function(){let \u0275JournalIssueGridElementComponent_BaseFactory;return __name(function(t){return(\u0275JournalIssueGridElementComponent_BaseFactory||(\u0275JournalIssueGridElementComponent_BaseFactory=core.n5z(JournalIssueGridElementComponent)))(t||JournalIssueGridElementComponent)},"JournalIssueGridElementComponent_Factory")}(),JournalIssueGridElementComponent.\u0275cmp=core.Xpm({type:JournalIssueGridElementComponent,selectors:[["ds-journal-issue-grid-element"]],features:[core.qOj],decls:1,vars:7,consts:[[3,"showLabel","object","linkType"]],template:__name(function(rf,ctx){1&rf&&core._UZ(0,"ds-journal-issue-search-result-grid-element",0),2&rf&&core.Q6J("showLabel",ctx.showLabel)("object",core.WLB(4,journal_issue_grid_element_component_c1,ctx.object,core.DdM(3,journal_issue_grid_element_component_c0)))("linkType",ctx.linkType)},"JournalIssueGridElementComponent_Template"),directives:[JournalIssueSearchResultGridElementComponent],styles:[""]}),JournalIssueGridElementComponent=(0,tslib_es6.gn)([(0,listable_object_decorator.d$)("JournalIssue",view_mode_model.w.GridElement)],JournalIssueGridElementComponent);const journal_volume_search_result_grid_element_component_c0=__name(function(a0){return[a0]},"journal_volume_search_result_grid_element_component_c0");function JournalVolumeSearchResultGridElementComponent_a_5_Template(rf,ctx){if(1&rf&&(core.TgZ(0,"a",12),core.ALo(1,"translate"),core.TgZ(2,"div"),core._UZ(3,"ds-thumbnail",13),core.ALo(4,"async"),core.qZA()()),2&rf){const ctx_r0=core.oxw();core.Q6J("target",ctx_r0.linkType==ctx_r0.linkTypes.ExternalLink?"_blank":"_self")("routerLink",core.VKq(9,journal_volume_search_result_grid_element_component_c0,ctx_r0.itemPageRoute)),core.uIk("title",core.lcZ(1,5,"search.results.view-result")),core.xp6(3),core.Q6J("thumbnail",core.lcZ(4,7,null==ctx_r0.dso?null:ctx_r0.dso.thumbnail))("limitWidth",!1)}}function JournalVolumeSearchResultGridElementComponent_span_6_Template(rf,ctx){if(1&rf&&(core.TgZ(0,"span",14)(1,"div"),core._UZ(2,"ds-thumbnail",13),core.ALo(3,"async"),core.qZA()()),2&rf){const ctx_r1=core.oxw();core.xp6(2),core.Q6J("thumbnail",core.lcZ(3,2,null==ctx_r1.dso?null:ctx_r1.dso.thumbnail))("limitWidth",!1)}}function JournalVolumeSearchResultGridElementComponent_ds_type_badge_8_Template(rf,ctx){if(1&rf&&core._UZ(0,"ds-type-badge",15),2&rf){const ctx_r2=core.oxw();core.Q6J("object",ctx_r2.dso)}}function JournalVolumeSearchResultGridElementComponent_p_11_Template(rf,ctx){if(1&rf&&(core.TgZ(0,"p",16)(1,"ds-truncatable-part",17),core._UZ(2,"span",18),core.qZA()()),2&rf){const ctx_r3=core.oxw();core.xp6(1),core.Q6J("id",ctx_r3.dso.id)("minLines",1),core.xp6(1),core.Q6J("innerHTML",ctx_r3.firstMetadataValue("creativework.datePublished"),core.oJD)}}function JournalVolumeSearchResultGridElementComponent_p_12_Template(rf,ctx){if(1&rf&&(core.TgZ(0,"p",19)(1,"ds-truncatable-part",17),core._UZ(2,"span",18),core.qZA()()),2&rf){const ctx_r4=core.oxw();core.xp6(1),core.Q6J("id",ctx_r4.dso.id)("minLines",3),core.xp6(1),core.Q6J("innerHTML",ctx_r4.firstMetadataValue("dc.description"),core.oJD)}}function JournalVolumeSearchResultGridElementComponent_div_13_Template(rf,ctx){if(1&rf&&(core.TgZ(0,"div",20)(1,"a",21),core._uU(2),core.ALo(3,"translate"),core.qZA()()),2&rf){const ctx_r5=core.oxw();core.xp6(1),core.Q6J("target",ctx_r5.linkType==ctx_r5.linkTypes.ExternalLink?"_blank":"_self")("routerLink",core.VKq(5,journal_volume_search_result_grid_element_component_c0,ctx_r5.itemPageRoute)),core.xp6(1),core.Oqu(core.lcZ(3,3,"search.results.view-result"))}}__name(JournalVolumeSearchResultGridElementComponent_a_5_Template,"JournalVolumeSearchResultGridElementComponent_a_5_Template"),__name(JournalVolumeSearchResultGridElementComponent_span_6_Template,"JournalVolumeSearchResultGridElementComponent_span_6_Template"),__name(JournalVolumeSearchResultGridElementComponent_ds_type_badge_8_Template,"JournalVolumeSearchResultGridElementComponent_ds_type_badge_8_Template"),__name(JournalVolumeSearchResultGridElementComponent_p_11_Template,"JournalVolumeSearchResultGridElementComponent_p_11_Template"),__name(JournalVolumeSearchResultGridElementComponent_p_12_Template,"JournalVolumeSearchResultGridElementComponent_p_12_Template"),__name(JournalVolumeSearchResultGridElementComponent_div_13_Template,"JournalVolumeSearchResultGridElementComponent_div_13_Template");const journal_volume_search_result_grid_element_component_c1=["*","*"];let JournalVolumeSearchResultGridElementComponent=__name(class extends item_search_result_grid_element_component.n{},"JournalVolumeSearchResultGridElementComponent");JournalVolumeSearchResultGridElementComponent.\u0275fac=function(){let \u0275JournalVolumeSearchResultGridElementComponent_BaseFactory;return __name(function(t){return(\u0275JournalVolumeSearchResultGridElementComponent_BaseFactory||(\u0275JournalVolumeSearchResultGridElementComponent_BaseFactory=core.n5z(JournalVolumeSearchResultGridElementComponent)))(t||JournalVolumeSearchResultGridElementComponent)},"JournalVolumeSearchResultGridElementComponent_Factory")}(),JournalVolumeSearchResultGridElementComponent.\u0275cmp=core.Xpm({type:JournalVolumeSearchResultGridElementComponent,selectors:[["ds-journal-volume-search-result-grid-element"]],features:[core.qOj],ngContentSelectors:journal_volume_search_result_grid_element_component_c1,decls:15,vars:13,consts:[[1,"card"],[3,"id"],[1,"position-absolute","ml-1"],["rel","noopener noreferrer","class","card-img-top full-width",3,"target","routerLink",4,"ngIf"],["class","card-img-top full-width",4,"ngIf"],[1,"card-body"],[3,"object",4,"ngIf"],["type","h4",3,"id","minLines"],[1,"card-title",3,"innerHTML"],["class","item-date card-text text-muted",4,"ngIf"],["class","item-description card-text",4,"ngIf"],["class","text-center",4,"ngIf"],["rel","noopener noreferrer",1,"card-img-top","full-width",3,"target","routerLink"],[3,"thumbnail","limitWidth"],[1,"card-img-top","full-width"],[3,"object"],[1,"item-date","card-text","text-muted"],[3,"id","minLines"],[3,"innerHTML"],[1,"item-description","card-text"],[1,"text-center"],["rel","noopener noreferrer",1,"lead","btn","btn-primary","viewButton",3,"target","routerLink"]],template:__name(function(rf,ctx){1&rf&&(core.F$t(journal_volume_search_result_grid_element_component_c1),core.TgZ(0,"div",0),core.ALo(1,"async"),core.TgZ(2,"ds-truncatable",1)(3,"div",2),core.Hsn(4),core.qZA(),core.YNc(5,JournalVolumeSearchResultGridElementComponent_a_5_Template,5,11,"a",3),core.YNc(6,JournalVolumeSearchResultGridElementComponent_span_6_Template,4,4,"span",4),core.TgZ(7,"div",5),core.YNc(8,JournalVolumeSearchResultGridElementComponent_ds_type_badge_8_Template,1,1,"ds-type-badge",6),core.TgZ(9,"ds-truncatable-part",7),core._UZ(10,"h4",8),core.qZA(),core.YNc(11,JournalVolumeSearchResultGridElementComponent_p_11_Template,3,3,"p",9),core.YNc(12,JournalVolumeSearchResultGridElementComponent_p_12_Template,3,3,"p",10),core.YNc(13,JournalVolumeSearchResultGridElementComponent_div_13_Template,4,7,"div",11),core.qZA()(),core.Hsn(14,1),core.qZA()),2&rf&&(core.Q6J("@focusShadow",core.lcZ(1,11,ctx.isCollapsed$)?"blur":"focus"),core.xp6(2),core.Q6J("id",ctx.dso.id),core.xp6(3),core.Q6J("ngIf",ctx.linkType!=ctx.linkTypes.None),core.xp6(1),core.Q6J("ngIf",ctx.linkType==ctx.linkTypes.None),core.xp6(2),core.Q6J("ngIf",ctx.showLabel),core.xp6(1),core.Q6J("id",ctx.dso.id)("minLines",3),core.xp6(1),core.Q6J("innerHTML",ctx.dsoTitle,core.oJD),core.xp6(1),core.Q6J("ngIf",ctx.dso.hasMetadata("creativework.datePublished")),core.xp6(1),core.Q6J("ngIf",ctx.dso.hasMetadata("dc.description")),core.xp6(1),core.Q6J("ngIf",ctx.linkType!=ctx.linkTypes.None))},"JournalVolumeSearchResultGridElementComponent_Template"),directives:[truncatable_component.n,common.O5,router.yS,thumbnail_component.Z,type_badge_component.F,truncatable_part_component.L],pipes:[common.Ov,ngx_translate_core.X$],styles:[""],data:{animation:[animations_focus.X]}}),JournalVolumeSearchResultGridElementComponent=(0,tslib_es6.gn)([(0,listable_object_decorator.d$)("JournalVolumeSearchResult",view_mode_model.w.GridElement)],JournalVolumeSearchResultGridElementComponent);const journal_volume_grid_element_component_c0=__name(function(){return{}},"journal_volume_grid_element_component_c0"),journal_volume_grid_element_component_c1=__name(function(a0,a1){return{indexableObject:a0,hitHighlights:a1}},"journal_volume_grid_element_component_c1");let JournalVolumeGridElementComponent=__name(class extends abstract_listable_element_component.i{},"JournalVolumeGridElementComponent");JournalVolumeGridElementComponent.\u0275fac=function(){let \u0275JournalVolumeGridElementComponent_BaseFactory;return __name(function(t){return(\u0275JournalVolumeGridElementComponent_BaseFactory||(\u0275JournalVolumeGridElementComponent_BaseFactory=core.n5z(JournalVolumeGridElementComponent)))(t||JournalVolumeGridElementComponent)},"JournalVolumeGridElementComponent_Factory")}(),JournalVolumeGridElementComponent.\u0275cmp=core.Xpm({type:JournalVolumeGridElementComponent,selectors:[["ds-journal-volume-grid-element"]],features:[core.qOj],decls:1,vars:7,consts:[[3,"showLabel","object","linkType"]],template:__name(function(rf,ctx){1&rf&&core._UZ(0,"ds-journal-volume-search-result-grid-element",0),2&rf&&core.Q6J("showLabel",ctx.showLabel)("object",core.WLB(4,journal_volume_grid_element_component_c1,ctx.object,core.DdM(3,journal_volume_grid_element_component_c0)))("linkType",ctx.linkType)},"JournalVolumeGridElementComponent_Template"),directives:[JournalVolumeSearchResultGridElementComponent],styles:[""]}),JournalVolumeGridElementComponent=(0,tslib_es6.gn)([(0,listable_object_decorator.d$)("JournalVolume",view_mode_model.w.GridElement)],JournalVolumeGridElementComponent);const journal_search_result_grid_element_component_c0=__name(function(a0){return[a0]},"journal_search_result_grid_element_component_c0");function JournalSearchResultGridElementComponent_a_5_Template(rf,ctx){if(1&rf&&(core.TgZ(0,"a",12),core.ALo(1,"translate"),core.TgZ(2,"div"),core._UZ(3,"ds-thumbnail",13),core.ALo(4,"async"),core.qZA()()),2&rf){const ctx_r0=core.oxw();core.Q6J("target",ctx_r0.linkType==ctx_r0.linkTypes.ExternalLink?"_blank":"_self")("routerLink",core.VKq(9,journal_search_result_grid_element_component_c0,ctx_r0.itemPageRoute)),core.uIk("title",core.lcZ(1,5,"search.results.view-result")),core.xp6(3),core.Q6J("thumbnail",core.lcZ(4,7,null==ctx_r0.dso?null:ctx_r0.dso.thumbnail))("limitWidth",!1)}}function JournalSearchResultGridElementComponent_span_6_Template(rf,ctx){if(1&rf&&(core.TgZ(0,"span",14)(1,"div"),core._UZ(2,"ds-thumbnail",13),core.ALo(3,"async"),core.qZA()()),2&rf){const ctx_r1=core.oxw();core.xp6(2),core.Q6J("thumbnail",core.lcZ(3,2,null==ctx_r1.dso?null:ctx_r1.dso.thumbnail))("limitWidth",!1)}}function JournalSearchResultGridElementComponent_ds_type_badge_8_Template(rf,ctx){if(1&rf&&core._UZ(0,"ds-type-badge",15),2&rf){const ctx_r2=core.oxw();core.Q6J("object",ctx_r2.dso)}}function JournalSearchResultGridElementComponent_p_11_span_4_Template(rf,ctx){if(1&rf&&(core.TgZ(0,"span",20)(1,"span"),core._uU(2,", "),core.qZA(),core._uU(3),core.qZA()),2&rf){const ctx_r6=core.oxw(2);core.xp6(3),core.hij(" ",ctx_r6.firstMetadataValue("creativework.publisher")," ")}}function JournalSearchResultGridElementComponent_p_11_Template(rf,ctx){if(1&rf&&(core.TgZ(0,"p",16)(1,"ds-truncatable-part",17)(2,"span",18),core._uU(3),core.qZA(),core.YNc(4,JournalSearchResultGridElementComponent_p_11_span_4_Template,4,1,"span",19),core.qZA()()),2&rf){const ctx_r3=core.oxw();core.xp6(1),core.Q6J("id",ctx_r3.dso.id)("minLines",1),core.xp6(2),core.Oqu(ctx_r3.firstMetadataValue("creativework.editor")),core.xp6(1),core.Q6J("ngIf",ctx_r3.dso.hasMetadata("creativework.publisher"))}}function JournalSearchResultGridElementComponent_p_12_Template(rf,ctx){if(1&rf&&(core.TgZ(0,"p",21)(1,"ds-truncatable-part",17),core._UZ(2,"span",22),core.qZA()()),2&rf){const ctx_r4=core.oxw();core.xp6(1),core.Q6J("id",ctx_r4.dso.id)("minLines",3),core.xp6(1),core.Q6J("innerHTML",ctx_r4.firstMetadataValue("dc.description"),core.oJD)}}function JournalSearchResultGridElementComponent_div_13_Template(rf,ctx){if(1&rf&&(core.TgZ(0,"div",23)(1,"a",24),core._uU(2),core.ALo(3,"translate"),core.qZA()()),2&rf){const ctx_r5=core.oxw();core.xp6(1),core.Q6J("target",ctx_r5.linkType==ctx_r5.linkTypes.ExternalLink?"_blank":"_self")("routerLink",core.VKq(5,journal_search_result_grid_element_component_c0,ctx_r5.itemPageRoute)),core.xp6(1),core.Oqu(core.lcZ(3,3,"search.results.view-result"))}}__name(JournalSearchResultGridElementComponent_a_5_Template,"JournalSearchResultGridElementComponent_a_5_Template"),__name(JournalSearchResultGridElementComponent_span_6_Template,"JournalSearchResultGridElementComponent_span_6_Template"),__name(JournalSearchResultGridElementComponent_ds_type_badge_8_Template,"JournalSearchResultGridElementComponent_ds_type_badge_8_Template"),__name(JournalSearchResultGridElementComponent_p_11_span_4_Template,"JournalSearchResultGridElementComponent_p_11_span_4_Template"),__name(JournalSearchResultGridElementComponent_p_11_Template,"JournalSearchResultGridElementComponent_p_11_Template"),__name(JournalSearchResultGridElementComponent_p_12_Template,"JournalSearchResultGridElementComponent_p_12_Template"),__name(JournalSearchResultGridElementComponent_div_13_Template,"JournalSearchResultGridElementComponent_div_13_Template");const journal_search_result_grid_element_component_c1=["*","*"];let JournalSearchResultGridElementComponent=__name(class extends item_search_result_grid_element_component.n{},"JournalSearchResultGridElementComponent");JournalSearchResultGridElementComponent.\u0275fac=function(){let \u0275JournalSearchResultGridElementComponent_BaseFactory;return __name(function(t){return(\u0275JournalSearchResultGridElementComponent_BaseFactory||(\u0275JournalSearchResultGridElementComponent_BaseFactory=core.n5z(JournalSearchResultGridElementComponent)))(t||JournalSearchResultGridElementComponent)},"JournalSearchResultGridElementComponent_Factory")}(),JournalSearchResultGridElementComponent.\u0275cmp=core.Xpm({type:JournalSearchResultGridElementComponent,selectors:[["ds-journal-search-result-grid-element"]],features:[core.qOj],ngContentSelectors:journal_search_result_grid_element_component_c1,decls:15,vars:13,consts:[[1,"card"],[3,"id"],[1,"position-absolute","ml-1"],["rel","noopener noreferrer","class","card-img-top full-width",3,"target","routerLink",4,"ngIf"],["class","card-img-top full-width",4,"ngIf"],[1,"card-body"],[3,"object",4,"ngIf"],["type","h4",3,"id","minLines"],[1,"card-title",3,"innerHTML"],["class","item-publisher card-text text-muted",4,"ngIf"],["class","item-description card-text",4,"ngIf"],["class","text-center",4,"ngIf"],["rel","noopener noreferrer",1,"card-img-top","full-width",3,"target","routerLink"],[3,"thumbnail","limitWidth"],[1,"card-img-top","full-width"],[3,"object"],[1,"item-publisher","card-text","text-muted"],[3,"id","minLines"],[1,"item-editor"],["class","item-publisher",4,"ngIf"],[1,"item-publisher"],[1,"item-description","card-text"],[3,"innerHTML"],[1,"text-center"],["rel","noopener noreferrer",1,"lead","btn","btn-primary","viewButton",3,"target","routerLink"]],template:__name(function(rf,ctx){1&rf&&(core.F$t(journal_search_result_grid_element_component_c1),core.TgZ(0,"div",0),core.ALo(1,"async"),core.TgZ(2,"ds-truncatable",1)(3,"div",2),core.Hsn(4),core.qZA(),core.YNc(5,JournalSearchResultGridElementComponent_a_5_Template,5,11,"a",3),core.YNc(6,JournalSearchResultGridElementComponent_span_6_Template,4,4,"span",4),core.TgZ(7,"div",5),core.YNc(8,JournalSearchResultGridElementComponent_ds_type_badge_8_Template,1,1,"ds-type-badge",6),core.TgZ(9,"ds-truncatable-part",7),core._UZ(10,"h4",8),core.qZA(),core.YNc(11,JournalSearchResultGridElementComponent_p_11_Template,5,4,"p",9),core.YNc(12,JournalSearchResultGridElementComponent_p_12_Template,3,3,"p",10),core.YNc(13,JournalSearchResultGridElementComponent_div_13_Template,4,7,"div",11),core.qZA()(),core.Hsn(14,1),core.qZA()),2&rf&&(core.Q6J("@focusShadow",core.lcZ(1,11,ctx.isCollapsed$)?"blur":"focus"),core.xp6(2),core.Q6J("id",ctx.dso.id),core.xp6(3),core.Q6J("ngIf",ctx.linkType!=ctx.linkTypes.None),core.xp6(1),core.Q6J("ngIf",ctx.linkType==ctx.linkTypes.None),core.xp6(2),core.Q6J("ngIf",ctx.showLabel),core.xp6(1),core.Q6J("id",ctx.dso.id)("minLines",3),core.xp6(1),core.Q6J("innerHTML",ctx.dsoTitle,core.oJD),core.xp6(1),core.Q6J("ngIf",ctx.dso.hasMetadata("creativework.editor")),core.xp6(1),core.Q6J("ngIf",ctx.dso.hasMetadata("dc.description")),core.xp6(1),core.Q6J("ngIf",ctx.linkType!=ctx.linkTypes.None))},"JournalSearchResultGridElementComponent_Template"),directives:[truncatable_component.n,common.O5,router.yS,thumbnail_component.Z,type_badge_component.F,truncatable_part_component.L],pipes:[common.Ov,ngx_translate_core.X$],styles:[""],data:{animation:[animations_focus.X]}}),JournalSearchResultGridElementComponent=(0,tslib_es6.gn)([(0,listable_object_decorator.d$)("JournalSearchResult",view_mode_model.w.GridElement)],JournalSearchResultGridElementComponent);const journal_grid_element_component_c0=__name(function(){return{}},"journal_grid_element_component_c0"),journal_grid_element_component_c1=__name(function(a0,a1){return{indexableObject:a0,hitHighlights:a1}},"journal_grid_element_component_c1");let JournalGridElementComponent=__name(class extends abstract_listable_element_component.i{},"JournalGridElementComponent");JournalGridElementComponent.\u0275fac=function(){let \u0275JournalGridElementComponent_BaseFactory;return __name(function(t){return(\u0275JournalGridElementComponent_BaseFactory||(\u0275JournalGridElementComponent_BaseFactory=core.n5z(JournalGridElementComponent)))(t||JournalGridElementComponent)},"JournalGridElementComponent_Factory")}(),JournalGridElementComponent.\u0275cmp=core.Xpm({type:JournalGridElementComponent,selectors:[["ds-journal-grid-element"]],features:[core.qOj],decls:1,vars:7,consts:[[3,"showLabel","object","linkType"]],template:__name(function(rf,ctx){1&rf&&core._UZ(0,"ds-journal-search-result-grid-element",0),2&rf&&core.Q6J("showLabel",ctx.showLabel)("object",core.WLB(4,journal_grid_element_component_c1,ctx.object,core.DdM(3,journal_grid_element_component_c0)))("linkType",ctx.linkType)},"JournalGridElementComponent_Template"),directives:[JournalSearchResultGridElementComponent],styles:[""]}),JournalGridElementComponent=(0,tslib_es6.gn)([(0,listable_object_decorator.d$)("Journal",view_mode_model.w.GridElement)],JournalGridElementComponent);var context_model=__webpack_require__(84935),sidebar_search_list_element_component=__webpack_require__(39283),empty_util=__webpack_require__(24702);function JournalVolumeSidebarSearchListElementComponent_ds_truncatable_part_7_Template(rf,ctx){if(1&rf&&(core.TgZ(0,"ds-truncatable-part",0),core._UZ(1,"div",4),core.qZA()),2&rf){const ctx_r0=core.oxw();core.Q6J("maxLines",1)("background",ctx_r0.isCurrent()?"primary":"default")("showToggle",!1),core.xp6(1),core.Q6J("ngClass",ctx_r0.isCurrent()?"text-light":"text-secondary")("innerHTML",ctx_r0.description,core.oJD)}}__name(JournalVolumeSidebarSearchListElementComponent_ds_truncatable_part_7_Template,"JournalVolumeSidebarSearchListElementComponent_ds_truncatable_part_7_Template");let JournalVolumeSidebarSearchListElementComponent=__name(class extends sidebar_search_list_element_component.l{getDescription(){const titles=this.allMetadataValues(["journal.title"]),numbers=this.allMetadataValues(["publicationvolume.volumeNumber"]);let description="";return(0,empty_util.UE)(titles)&&(description+=titles.join(", ")),(0,empty_util.UE)(numbers)&&((0,empty_util.UE)(description)&&(description+=" "),description+=numbers.map(n=>`(${n})`).join(" ")),this.undefinedIfEmpty(description)}},"JournalVolumeSidebarSearchListElementComponent");function JournalIssueSidebarSearchListElementComponent_ds_truncatable_part_7_Template(rf,ctx){if(1&rf&&(core.TgZ(0,"ds-truncatable-part",0),core._UZ(1,"div",4),core.qZA()),2&rf){const ctx_r0=core.oxw();core.Q6J("maxLines",1)("background",ctx_r0.isCurrent()?"primary":"default")("showToggle",!1),core.xp6(1),core.Q6J("ngClass",ctx_r0.isCurrent()?"text-light":"text-secondary")("innerHTML",ctx_r0.description,core.oJD)}}JournalVolumeSidebarSearchListElementComponent.\u0275fac=function(){let \u0275JournalVolumeSidebarSearchListElementComponent_BaseFactory;return __name(function(t){return(\u0275JournalVolumeSidebarSearchListElementComponent_BaseFactory||(\u0275JournalVolumeSidebarSearchListElementComponent_BaseFactory=core.n5z(JournalVolumeSidebarSearchListElementComponent)))(t||JournalVolumeSidebarSearchListElementComponent)},"JournalVolumeSidebarSearchListElementComponent_Factory")}(),JournalVolumeSidebarSearchListElementComponent.\u0275cmp=core.Xpm({type:JournalVolumeSidebarSearchListElementComponent,selectors:[["ds-journal-volume-sidebar-search-list-element"]],features:[core.qOj],decls:8,vars:17,consts:[[3,"maxLines","background","showToggle"],[3,"ngClass","innerHTML"],[1,"font-weight-bold",3,"ngClass","innerHTML"],[3,"maxLines","background","showToggle",4,"ngIf"],[1,"text-secondary",3,"ngClass","innerHTML"]],template:__name(function(rf,ctx){1&rf&&(core.TgZ(0,"ds-truncatable-part",0),core._UZ(1,"div",1),core.ALo(2,"async"),core.ALo(3,"async"),core.ALo(4,"translate"),core.qZA(),core.TgZ(5,"ds-truncatable-part",0),core._UZ(6,"div",2),core.qZA(),core.YNc(7,JournalVolumeSidebarSearchListElementComponent_ds_truncatable_part_7_Template,2,5,"ds-truncatable-part",3)),2&rf&&(core.Q6J("maxLines",1)("background",ctx.isCurrent()?"primary":"default")("showToggle",!1),core.xp6(1),core.Q6J("ngClass",ctx.isCurrent()?"text-light":"text-body")("innerHTML",core.lcZ(2,11,ctx.parentTitle$&&ctx.parentTitle$)?core.lcZ(3,13,ctx.parentTitle$):core.lcZ(4,15,"home.breadcrumbs"),core.oJD),core.xp6(4),core.Q6J("maxLines",1)("background",ctx.isCurrent()?"primary":"default")("showToggle",!1),core.xp6(1),core.Q6J("ngClass",ctx.isCurrent()?"text-light":"text-primary")("innerHTML",ctx.dsoTitle,core.oJD),core.xp6(1),core.Q6J("ngIf",ctx.description))},"JournalVolumeSidebarSearchListElementComponent_Template"),directives:[truncatable_part_component.L,common.mk,common.O5],pipes:[common.Ov,ngx_translate_core.X$],encapsulation:2}),JournalVolumeSidebarSearchListElementComponent=(0,tslib_es6.gn)([(0,listable_object_decorator.d$)("JournalVolumeSearchResult",view_mode_model.w.ListElement,context_model._.SideBarSearchModal),(0,listable_object_decorator.d$)("JournalVolumeSearchResult",view_mode_model.w.ListElement,context_model._.SideBarSearchModalCurrent)],JournalVolumeSidebarSearchListElementComponent),__name(JournalIssueSidebarSearchListElementComponent_ds_truncatable_part_7_Template,"JournalIssueSidebarSearchListElementComponent_ds_truncatable_part_7_Template");let JournalIssueSidebarSearchListElementComponent=__name(class extends sidebar_search_list_element_component.l{getDescription(){const volumeNumbers=this.allMetadataValues(["publicationvolume.volumeNumber"]),issueNumbers=this.allMetadataValues(["publicationissue.issueNumber"]);let description="";return(0,empty_util.UE)(volumeNumbers)&&(description+=volumeNumbers.join(", ")),(0,empty_util.UE)(description)&&(0,empty_util.UE)(issueNumbers)&&(description+=" - "),(0,empty_util.UE)(issueNumbers)&&(description+=issueNumbers.join(", ")),this.undefinedIfEmpty(description)}},"JournalIssueSidebarSearchListElementComponent");function JournalSidebarSearchListElementComponent_ds_truncatable_part_7_Template(rf,ctx){if(1&rf&&(core.TgZ(0,"ds-truncatable-part",0),core._UZ(1,"div",4),core.qZA()),2&rf){const ctx_r0=core.oxw();core.Q6J("maxLines",1)("background",ctx_r0.isCurrent()?"primary":"default")("showToggle",!1),core.xp6(1),core.Q6J("ngClass",ctx_r0.isCurrent()?"text-light":"text-secondary")("innerHTML",ctx_r0.description,core.oJD)}}JournalIssueSidebarSearchListElementComponent.\u0275fac=function(){let \u0275JournalIssueSidebarSearchListElementComponent_BaseFactory;return __name(function(t){return(\u0275JournalIssueSidebarSearchListElementComponent_BaseFactory||(\u0275JournalIssueSidebarSearchListElementComponent_BaseFactory=core.n5z(JournalIssueSidebarSearchListElementComponent)))(t||JournalIssueSidebarSearchListElementComponent)},"JournalIssueSidebarSearchListElementComponent_Factory")}(),JournalIssueSidebarSearchListElementComponent.\u0275cmp=core.Xpm({type:JournalIssueSidebarSearchListElementComponent,selectors:[["ds-journal-issue-sidebar-search-list-element"]],features:[core.qOj],decls:8,vars:17,consts:[[3,"maxLines","background","showToggle"],[3,"ngClass","innerHTML"],[1,"font-weight-bold",3,"ngClass","innerHTML"],[3,"maxLines","background","showToggle",4,"ngIf"],[1,"text-secondary",3,"ngClass","innerHTML"]],template:__name(function(rf,ctx){1&rf&&(core.TgZ(0,"ds-truncatable-part",0),core._UZ(1,"div",1),core.ALo(2,"async"),core.ALo(3,"async"),core.ALo(4,"translate"),core.qZA(),core.TgZ(5,"ds-truncatable-part",0),core._UZ(6,"div",2),core.qZA(),core.YNc(7,JournalIssueSidebarSearchListElementComponent_ds_truncatable_part_7_Template,2,5,"ds-truncatable-part",3)),2&rf&&(core.Q6J("maxLines",1)("background",ctx.isCurrent()?"primary":"default")("showToggle",!1),core.xp6(1),core.Q6J("ngClass",ctx.isCurrent()?"text-light":"text-body")("innerHTML",core.lcZ(2,11,ctx.parentTitle$&&ctx.parentTitle$)?core.lcZ(3,13,ctx.parentTitle$):core.lcZ(4,15,"home.breadcrumbs"),core.oJD),core.xp6(4),core.Q6J("maxLines",1)("background",ctx.isCurrent()?"primary":"default")("showToggle",!1),core.xp6(1),core.Q6J("ngClass",ctx.isCurrent()?"text-light":"text-primary")("innerHTML",ctx.dsoTitle,core.oJD),core.xp6(1),core.Q6J("ngIf",ctx.description))},"JournalIssueSidebarSearchListElementComponent_Template"),directives:[truncatable_part_component.L,common.mk,common.O5],pipes:[common.Ov,ngx_translate_core.X$],encapsulation:2}),JournalIssueSidebarSearchListElementComponent=(0,tslib_es6.gn)([(0,listable_object_decorator.d$)("JournalIssueSearchResult",view_mode_model.w.ListElement,context_model._.SideBarSearchModal),(0,listable_object_decorator.d$)("JournalIssueSearchResult",view_mode_model.w.ListElement,context_model._.SideBarSearchModalCurrent)],JournalIssueSidebarSearchListElementComponent),__name(JournalSidebarSearchListElementComponent_ds_truncatable_part_7_Template,"JournalSidebarSearchListElementComponent_ds_truncatable_part_7_Template");let JournalSidebarSearchListElementComponent=__name(class extends sidebar_search_list_element_component.l{getDescription(){const issns=this.allMetadataValues(["creativeworkseries.issn"]);let description="";return(0,empty_util.UE)(issns)&&(description+=issns.join(", ")),this.undefinedIfEmpty(description)}},"JournalSidebarSearchListElementComponent");JournalSidebarSearchListElementComponent.\u0275fac=function(){let \u0275JournalSidebarSearchListElementComponent_BaseFactory;return __name(function(t){return(\u0275JournalSidebarSearchListElementComponent_BaseFactory||(\u0275JournalSidebarSearchListElementComponent_BaseFactory=core.n5z(JournalSidebarSearchListElementComponent)))(t||JournalSidebarSearchListElementComponent)},"JournalSidebarSearchListElementComponent_Factory")}(),JournalSidebarSearchListElementComponent.\u0275cmp=core.Xpm({type:JournalSidebarSearchListElementComponent,selectors:[["ds-journal-sidebar-search-list-element"]],features:[core.qOj],decls:8,vars:17,consts:[[3,"maxLines","background","showToggle"],[3,"ngClass","innerHTML"],[1,"font-weight-bold",3,"ngClass","innerHTML"],[3,"maxLines","background","showToggle",4,"ngIf"],[1,"text-secondary",3,"ngClass","innerHTML"]],template:__name(function(rf,ctx){1&rf&&(core.TgZ(0,"ds-truncatable-part",0),core._UZ(1,"div",1),core.ALo(2,"async"),core.ALo(3,"async"),core.ALo(4,"translate"),core.qZA(),core.TgZ(5,"ds-truncatable-part",0),core._UZ(6,"div",2),core.qZA(),core.YNc(7,JournalSidebarSearchListElementComponent_ds_truncatable_part_7_Template,2,5,"ds-truncatable-part",3)),2&rf&&(core.Q6J("maxLines",1)("background",ctx.isCurrent()?"primary":"default")("showToggle",!1),core.xp6(1),core.Q6J("ngClass",ctx.isCurrent()?"text-light":"text-body")("innerHTML",core.lcZ(2,11,ctx.parentTitle$&&ctx.parentTitle$)?core.lcZ(3,13,ctx.parentTitle$):core.lcZ(4,15,"home.breadcrumbs"),core.oJD),core.xp6(4),core.Q6J("maxLines",1)("background",ctx.isCurrent()?"primary":"default")("showToggle",!1),core.xp6(1),core.Q6J("ngClass",ctx.isCurrent()?"text-light":"text-primary")("innerHTML",ctx.dsoTitle,core.oJD),core.xp6(1),core.Q6J("ngIf",ctx.description))},"JournalSidebarSearchListElementComponent_Template"),directives:[truncatable_part_component.L,common.mk,common.O5],pipes:[common.Ov,ngx_translate_core.X$],encapsulation:2}),JournalSidebarSearchListElementComponent=(0,tslib_es6.gn)([(0,listable_object_decorator.d$)("JournalSearchResult",view_mode_model.w.ListElement,context_model._.SideBarSearchModal),(0,listable_object_decorator.d$)("JournalSearchResult",view_mode_model.w.ListElement,context_model._.SideBarSearchModalCurrent)],JournalSidebarSearchListElementComponent);var item_shared_module=__webpack_require__(43302);const ENTRY_COMPONENTS=[JournalComponent,JournalIssueComponent,JournalVolumeComponent,JournalListElementComponent,JournalIssueListElementComponent,JournalVolumeListElementComponent,JournalIssueGridElementComponent,JournalVolumeGridElementComponent,JournalGridElementComponent,JournalSearchResultListElementComponent,JournalIssueSearchResultListElementComponent,JournalVolumeSearchResultListElementComponent,JournalIssueSearchResultGridElementComponent,JournalVolumeSearchResultGridElementComponent,JournalSearchResultGridElementComponent,JournalVolumeSidebarSearchListElementComponent,JournalIssueSidebarSearchListElementComponent,JournalSidebarSearchListElementComponent];class JournalEntitiesModule{static withEntryComponents(){return{ngModule:JournalEntitiesModule,providers:ENTRY_COMPONENTS.map(component=>({provide:component}))}}}__name(JournalEntitiesModule,"JournalEntitiesModule"),JournalEntitiesModule.\u0275fac=__name(function(t){return new(t||JournalEntitiesModule)},"JournalEntitiesModule_Factory"),JournalEntitiesModule.\u0275mod=core.oAB({type:JournalEntitiesModule}),JournalEntitiesModule.\u0275inj=core.cJS({imports:[[common.ez,item_shared_module.e,shared_module.m]]})},84376:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{a:()=>ResearchEntitiesModule});var common=__webpack_require__(69808),ng_bootstrap=__webpack_require__(13707),shared_module=__webpack_require__(57981),tslib_es6=__webpack_require__(70655),view_mode_model=__webpack_require__(51121),listable_object_decorator=__webpack_require__(62921),versioned_item_component=__webpack_require__(46659),core=__webpack_require__(5e3),item_page_title_field_component=__webpack_require__(34261),dso_page_version_button_component=__webpack_require__(56808),dso_page_edit_button_component=__webpack_require__(42257),metadata_field_wrapper_component=__webpack_require__(37796),thumbnail_component=__webpack_require__(4775),generic_item_page_field_component=__webpack_require__(98055),related_items_component=__webpack_require__(82542),router=__webpack_require__(74202),tabbed_related_entities_search_component=__webpack_require__(67797),ngx_translate_core=__webpack_require__(42466);const _c0=__name(function(){return["organization.foundingDate"]},"_c0"),_c1=__name(function(){return["organization.address.addressLocality"]},"_c1"),_c2=__name(function(){return["organization.adress.addressCountry"]},"_c2"),_c3=__name(function(){return["dc.identifier"]},"_c3"),_c4=__name(function(){return["dc.description"]},"_c4"),_c5=__name(function(a0){return[a0]},"_c5"),_c6=__name(function(){return{label:"isOrgUnitOfPerson",filter:"isOrgUnitOfPerson",configuration:"person-relationships"}},"_c6"),_c7=__name(function(){return{label:"isOrgUnitOfProject",filter:"isOrgUnitOfProject",configuration:"project-relationships"}},"_c7"),_c8=__name(function(a0,a1){return[a0,a1]},"_c8");let OrgUnitComponent=__name(class extends versioned_item_component.d{},"OrgUnitComponent");OrgUnitComponent.\u0275fac=function(){let \u0275OrgUnitComponent_BaseFactory;return __name(function(t){return(\u0275OrgUnitComponent_BaseFactory||(\u0275OrgUnitComponent_BaseFactory=core.n5z(OrgUnitComponent)))(t||OrgUnitComponent)},"OrgUnitComponent_Factory")}(),OrgUnitComponent.\u0275cmp=core.Xpm({type:OrgUnitComponent,selectors:[["ds-org-unit"]],features:[core.qOj],decls:24,vars:52,consts:[[1,"d-flex","flex-row"],[1,"mr-auto",3,"item"],[1,"pl-2","space-children-mr"],[3,"dso","tooltipMsgCreate","tooltipMsgHasDraft","newVersionEvent"],[3,"pageRoute","dso","tooltipMsg"],[1,"row"],[1,"col-xs-12","col-md-4"],[3,"hideIfNoTextContent"],[3,"thumbnail","defaultImage","alt","placeholder"],[3,"item","fields","label"],[1,"col-xs-12","col-md-7"],[3,"parentItem","relationType","label"],[1,"btn","btn-outline-primary",3,"routerLink"],[1,"mt-5","w-100"],[3,"item","relationTypes"]],template:__name(function(rf,ctx){1&rf&&(core.TgZ(0,"div",0),core._UZ(1,"ds-item-page-title-field",1),core.TgZ(2,"div",2)(3,"ds-dso-page-version-button",3),core.NdJ("newVersionEvent",__name(function(){return ctx.onCreateNewVersion()},"OrgUnitComponent_Template_ds_dso_page_version_button_newVersionEvent_3_listener")),core.qZA(),core._UZ(4,"ds-dso-page-edit-button",4),core.qZA()(),core.TgZ(5,"div",5)(6,"div",6)(7,"ds-metadata-field-wrapper",7),core._UZ(8,"ds-thumbnail",8),core.ALo(9,"async"),core.qZA(),core._UZ(10,"ds-generic-item-page-field",9)(11,"ds-generic-item-page-field",9)(12,"ds-generic-item-page-field",9)(13,"ds-generic-item-page-field",9),core.qZA(),core.TgZ(14,"div",10),core._UZ(15,"ds-related-items",11),core.ALo(16,"translate"),core._UZ(17,"ds-generic-item-page-field",9),core.TgZ(18,"div")(19,"a",12),core._uU(20),core.ALo(21,"translate"),core.qZA()()(),core.TgZ(22,"div",13),core._UZ(23,"ds-tabbed-related-entities-search",14),core.qZA()()),2&rf&&(core.xp6(1),core.Q6J("item",ctx.object),core.xp6(2),core.Q6J("dso",ctx.object)("tooltipMsgCreate","item.page.version.create")("tooltipMsgHasDraft","item.page.version.hasDraft"),core.xp6(1),core.Q6J("pageRoute",ctx.itemPageRoute)("dso",ctx.object)("tooltipMsg","orgunit.page.edit"),core.xp6(3),core.Q6J("hideIfNoTextContent",!1),core.xp6(1),core.Q6J("thumbnail",core.lcZ(9,34,null==ctx.object?null:ctx.object.thumbnail))("defaultImage","assets/images/orgunit-placeholder.svg")("alt","thumbnail.orgunit.alt")("placeholder","thumbnail.orgunit.placeholder"),core.xp6(2),core.Q6J("item",ctx.object)("fields",core.DdM(40,_c0))("label","orgunit.page.dateestablished"),core.xp6(1),core.Q6J("item",ctx.object)("fields",core.DdM(41,_c1))("label","orgunit.page.city"),core.xp6(1),core.Q6J("item",ctx.object)("fields",core.DdM(42,_c2))("label","orgunit.page.country"),core.xp6(1),core.Q6J("item",ctx.object)("fields",core.DdM(43,_c3))("label","orgunit.page.id"),core.xp6(2),core.Q6J("parentItem",ctx.object)("relationType","isPublicationOfOrgUnit")("label",core.lcZ(16,36,"relationships.isPublicationOf")),core.xp6(2),core.Q6J("item",ctx.object)("fields",core.DdM(44,_c4))("label","orgunit.page.description"),core.xp6(2),core.Q6J("routerLink",core.VKq(45,_c5,ctx.itemPageRoute+"/full")),core.xp6(1),core.hij(" ",core.lcZ(21,38,"item.page.link.full")," "),core.xp6(3),core.Q6J("item",ctx.object)("relationTypes",core.WLB(49,_c8,core.DdM(47,_c6),core.DdM(48,_c7))))},"OrgUnitComponent_Template"),directives:[item_page_title_field_component.k,dso_page_version_button_component._,dso_page_edit_button_component._,metadata_field_wrapper_component.n,thumbnail_component.Z,generic_item_page_field_component.w,related_items_component.e,router.yS,tabbed_related_entities_search_component.i],pipes:[common.Ov,ngx_translate_core.X$],styles:[""]}),OrgUnitComponent=(0,tslib_es6.gn)([(0,listable_object_decorator.d$)("OrgUnit",view_mode_model.w.StandalonePage)],OrgUnitComponent);var dso_page_orcid_button_component=__webpack_require__(31051),person_page_claim_button_component=__webpack_require__(70005);const person_component_c0=__name(function(){return["person.email"]},"person_component_c0"),person_component_c1=__name(function(){return["person.birthDate"]},"person_component_c1"),person_component_c2=__name(function(){return["person.jobTitle"]},"person_component_c2"),person_component_c3=__name(function(){return["person.familyName"]},"person_component_c3"),person_component_c4=__name(function(){return["person.givenName"]},"person_component_c4"),person_component_c5=__name(function(){return["dc.title"]},"person_component_c5"),person_component_c6=__name(function(a0){return[a0]},"person_component_c6"),person_component_c7=__name(function(){return{label:"isAuthorOfPublication",filter:"isAuthorOfPublication",configuration:"default-relationships"}},"person_component_c7");let PersonComponent=__name(class extends versioned_item_component.d{},"PersonComponent");PersonComponent.\u0275fac=function(){let \u0275PersonComponent_BaseFactory;return __name(function(t){return(\u0275PersonComponent_BaseFactory||(\u0275PersonComponent_BaseFactory=core.n5z(PersonComponent)))(t||PersonComponent)},"PersonComponent_Factory")}(),PersonComponent.\u0275cmp=core.Xpm({type:PersonComponent,selectors:[["ds-person"]],features:[core.qOj],decls:29,vars:62,consts:[[1,"d-flex","flex-row"],[1,"mr-auto",3,"item"],[1,"pl-2","space-children-mr"],[1,"mr-2",3,"pageRoute","dso"],[3,"dso","tooltipMsgCreate","tooltipMsgHasDraft","newVersionEvent"],[3,"pageRoute","dso","tooltipMsg"],[3,"object"],[1,"row"],[1,"col-xs-12","col-md-4"],[3,"hideIfNoTextContent"],[3,"thumbnail","defaultImage","alt","placeholder"],[3,"item","fields","label"],[1,"col-xs-12","col-md-7"],[3,"parentItem","relationType","label"],[1,"btn","btn-outline-primary",3,"routerLink"],[1,"mt-5","w-100"],[3,"item","relationTypes"]],template:__name(function(rf,ctx){1&rf&&(core.TgZ(0,"div",0),core._UZ(1,"ds-item-page-title-field",1),core.TgZ(2,"div",2),core._UZ(3,"ds-dso-page-orcid-button",3),core.TgZ(4,"ds-dso-page-version-button",4),core.NdJ("newVersionEvent",__name(function(){return ctx.onCreateNewVersion()},"PersonComponent_Template_ds_dso_page_version_button_newVersionEvent_4_listener")),core.qZA(),core._UZ(5,"ds-dso-page-edit-button",5)(6,"ds-person-page-claim-button",6),core.qZA()(),core.TgZ(7,"div",7)(8,"div",8)(9,"ds-metadata-field-wrapper",9),core._UZ(10,"ds-thumbnail",10),core.ALo(11,"async"),core.qZA(),core._UZ(12,"ds-generic-item-page-field",11)(13,"ds-generic-item-page-field",11),core.qZA(),core.TgZ(14,"div",12),core._UZ(15,"ds-related-items",13),core.ALo(16,"translate"),core._UZ(17,"ds-related-items",13),core.ALo(18,"translate"),core._UZ(19,"ds-generic-item-page-field",11)(20,"ds-generic-item-page-field",11)(21,"ds-generic-item-page-field",11)(22,"ds-generic-item-page-field",11),core.TgZ(23,"div")(24,"a",14),core._uU(25),core.ALo(26,"translate"),core.qZA()()(),core.TgZ(27,"div",15),core._UZ(28,"ds-tabbed-related-entities-search",16),core.qZA()()),2&rf&&(core.xp6(1),core.Q6J("item",ctx.object),core.xp6(2),core.Q6J("pageRoute",ctx.itemPageRoute)("dso",ctx.object),core.xp6(1),core.Q6J("dso",ctx.object)("tooltipMsgCreate","item.page.version.create")("tooltipMsgHasDraft","item.page.version.hasDraft"),core.xp6(1),core.Q6J("pageRoute",ctx.itemPageRoute)("dso",ctx.object)("tooltipMsg","person.page.edit"),core.xp6(1),core.Q6J("object",ctx.object),core.xp6(3),core.Q6J("hideIfNoTextContent",!1),core.xp6(1),core.Q6J("thumbnail",core.lcZ(11,43,null==ctx.object?null:ctx.object.thumbnail))("defaultImage","assets/images/person-placeholder.svg")("alt","thumbnail.person.alt")("placeholder","thumbnail.person.placeholder"),core.xp6(2),core.Q6J("item",ctx.object)("fields",core.DdM(51,person_component_c0))("label","person.page.email"),core.xp6(1),core.Q6J("item",ctx.object)("fields",core.DdM(52,person_component_c1))("label","person.page.birthdate"),core.xp6(2),core.Q6J("parentItem",ctx.object)("relationType","isProjectOfPerson")("label",core.lcZ(16,45,"relationships.isProjectOf")),core.xp6(2),core.Q6J("parentItem",ctx.object)("relationType","isOrgUnitOfPerson")("label",core.lcZ(18,47,"relationships.isOrgUnitOf")),core.xp6(2),core.Q6J("item",ctx.object)("fields",core.DdM(53,person_component_c2))("label","person.page.jobtitle"),core.xp6(1),core.Q6J("item",ctx.object)("fields",core.DdM(54,person_component_c3))("label","person.page.lastname"),core.xp6(1),core.Q6J("item",ctx.object)("fields",core.DdM(55,person_component_c4))("label","person.page.firstname"),core.xp6(1),core.Q6J("item",ctx.object)("fields",core.DdM(56,person_component_c5))("label","person.page.name"),core.xp6(2),core.Q6J("routerLink",core.VKq(57,person_component_c6,ctx.itemPageRoute+"/full")),core.xp6(1),core.hij(" ",core.lcZ(26,49,"item.page.link.full")," "),core.xp6(3),core.Q6J("item",ctx.object)("relationTypes",core.VKq(60,person_component_c6,core.DdM(59,person_component_c7))))},"PersonComponent_Template"),directives:[item_page_title_field_component.k,dso_page_orcid_button_component.i,dso_page_version_button_component._,dso_page_edit_button_component._,person_page_claim_button_component.f,metadata_field_wrapper_component.n,thumbnail_component.Z,generic_item_page_field_component.w,related_items_component.e,router.yS,tabbed_related_entities_search_component.i],pipes:[common.Ov,ngx_translate_core.X$],styles:[""]}),PersonComponent=(0,tslib_es6.gn)([(0,listable_object_decorator.d$)("Person",view_mode_model.w.StandalonePage)],PersonComponent);var metadata_representation_list_component=__webpack_require__(14077);const project_component_c0=__name(function(){return["project.contributor.other"]},"project_component_c0"),project_component_c1=__name(function(){return["project.identifier.funder"]},"project_component_c1"),project_component_c2=__name(function(){return["dc.identifier"]},"project_component_c2"),project_component_c3=__name(function(){return["dc.description"]},"project_component_c3"),project_component_c4=__name(function(){return["dc.subject"]},"project_component_c4"),project_component_c5=__name(function(a0){return[a0]},"project_component_c5");let ProjectComponent=__name(class extends versioned_item_component.d{},"ProjectComponent");ProjectComponent.\u0275fac=function(){let \u0275ProjectComponent_BaseFactory;return __name(function(t){return(\u0275ProjectComponent_BaseFactory||(\u0275ProjectComponent_BaseFactory=core.n5z(ProjectComponent)))(t||ProjectComponent)},"ProjectComponent_Factory")}(),ProjectComponent.\u0275cmp=core.Xpm({type:ProjectComponent,selectors:[["ds-project"]],features:[core.qOj],decls:27,vars:58,consts:[[1,"d-flex","flex-row"],[1,"mr-auto",3,"item"],[1,"pl-2","space-children-mr"],[3,"dso","tooltipMsgCreate","tooltipMsgHasDraft","newVersionEvent"],[3,"pageRoute","dso","tooltipMsg"],[1,"row"],[1,"col-xs-12","col-md-4"],[3,"hideIfNoTextContent"],[3,"thumbnail","defaultImage","alt","placeholder"],[3,"parentItem","itemType","metadataFields","label"],[3,"item","fields","label"],[1,"col-xs-12","col-md-7"],[3,"parentItem","relationType","label"],[1,"btn","btn-outline-primary",3,"routerLink"]],template:__name(function(rf,ctx){1&rf&&(core.TgZ(0,"div",0),core._UZ(1,"ds-item-page-title-field",1),core.TgZ(2,"div",2)(3,"ds-dso-page-version-button",3),core.NdJ("newVersionEvent",__name(function(){return ctx.onCreateNewVersion()},"ProjectComponent_Template_ds_dso_page_version_button_newVersionEvent_3_listener")),core.qZA(),core._UZ(4,"ds-dso-page-edit-button",4),core.qZA()(),core.TgZ(5,"div",5)(6,"div",6)(7,"ds-metadata-field-wrapper",7),core._UZ(8,"ds-thumbnail",8),core.ALo(9,"async"),core.qZA(),core._UZ(10,"ds-metadata-representation-list",9),core.ALo(11,"translate"),core._UZ(12,"ds-generic-item-page-field",10)(13,"ds-generic-item-page-field",10),core.qZA(),core.TgZ(14,"div",11),core._UZ(15,"ds-related-items",12),core.ALo(16,"translate"),core._UZ(17,"ds-related-items",12),core.ALo(18,"translate"),core._UZ(19,"ds-related-items",12),core.ALo(20,"translate"),core._UZ(21,"ds-generic-item-page-field",10)(22,"ds-generic-item-page-field",10),core.TgZ(23,"div")(24,"a",13),core._uU(25),core.ALo(26,"translate"),core.qZA()()()()),2&rf&&(core.xp6(1),core.Q6J("item",ctx.object),core.xp6(2),core.Q6J("dso",ctx.object)("tooltipMsgCreate","item.page.version.create")("tooltipMsgHasDraft","item.page.version.hasDraft"),core.xp6(1),core.Q6J("pageRoute",ctx.itemPageRoute)("dso",ctx.object)("tooltipMsg","project.page.edit"),core.xp6(3),core.Q6J("hideIfNoTextContent",!1),core.xp6(1),core.Q6J("thumbnail",core.lcZ(9,39,null==ctx.object?null:ctx.object.thumbnail))("defaultImage","assets/images/project-placeholder.svg")("alt","thumbnail.project.alt")("placeholder","thumbnail.project.placeholder"),core.xp6(2),core.Q6J("parentItem",ctx.object)("itemType","OrgUnit")("metadataFields",core.DdM(51,project_component_c0))("label",core.lcZ(11,41,"project.page.contributor")),core.xp6(2),core.Q6J("item",ctx.object)("fields",core.DdM(52,project_component_c1))("label","project.page.funder"),core.xp6(1),core.Q6J("item",ctx.object)("fields",core.DdM(53,project_component_c2))("label","project.page.id"),core.xp6(2),core.Q6J("parentItem",ctx.object)("relationType","isPersonOfProject")("label",core.lcZ(16,43,"relationships.isPersonOf")),core.xp6(2),core.Q6J("parentItem",ctx.object)("relationType","isPublicationOfProject")("label",core.lcZ(18,45,"relationships.isPublicationOf")),core.xp6(2),core.Q6J("parentItem",ctx.object)("relationType","isOrgUnitOfProject")("label",core.lcZ(20,47,"relationships.isOrgUnitOf")),core.xp6(2),core.Q6J("item",ctx.object)("fields",core.DdM(54,project_component_c3))("label","project.page.description"),core.xp6(1),core.Q6J("item",ctx.object)("fields",core.DdM(55,project_component_c4))("label","project.page.keyword"),core.xp6(2),core.Q6J("routerLink",core.VKq(56,project_component_c5,ctx.itemPageRoute+"/full")),core.xp6(1),core.hij(" ",core.lcZ(26,49,"item.page.link.full")," "))},"ProjectComponent_Template"),directives:[item_page_title_field_component.k,dso_page_version_button_component._,dso_page_edit_button_component._,metadata_field_wrapper_component.n,thumbnail_component.Z,metadata_representation_list_component.Q,generic_item_page_field_component.w,related_items_component.e,router.yS],pipes:[common.Ov,ngx_translate_core.X$],styles:[""]}),ProjectComponent=(0,tslib_es6.gn)([(0,listable_object_decorator.d$)("Project",view_mode_model.w.StandalonePage)],ProjectComponent);var abstract_listable_element_component=__webpack_require__(88829),item_search_result_list_element_component=__webpack_require__(30892),type_badge_component=__webpack_require__(64617),truncatable_component=__webpack_require__(57416),truncatable_part_component=__webpack_require__(84630);const org_unit_search_result_list_element_component_c0=__name(function(a0){return[a0]},"org_unit_search_result_list_element_component_c0");function OrgUnitSearchResultListElementComponent_div_1_a_1_Template(rf,ctx){if(1&rf&&(core.TgZ(0,"a",12),core._UZ(1,"ds-thumbnail",13),core.ALo(2,"async"),core.qZA()),2&rf){const ctx_r5=core.oxw(2);core.Q6J("target",ctx_r5.linkType==ctx_r5.linkTypes.ExternalLink?"_blank":"_self")("routerLink",core.VKq(8,org_unit_search_result_list_element_component_c0,ctx_r5.itemPageRoute)),core.xp6(1),core.Q6J("thumbnail",core.lcZ(2,6,null==ctx_r5.dso?null:ctx_r5.dso.thumbnail))("defaultImage","assets/images/orgunit-placeholder.svg")("alt","thumbnail.orgunit.alt")("placeholder","thumbnail.orgunit.placeholder")}}function OrgUnitSearchResultListElementComponent_div_1_span_2_Template(rf,ctx){if(1&rf&&(core.TgZ(0,"span",14),core._UZ(1,"ds-thumbnail",13),core.ALo(2,"async"),core.qZA()),2&rf){const ctx_r6=core.oxw(2);core.xp6(1),core.Q6J("thumbnail",core.lcZ(2,4,null==ctx_r6.dso?null:ctx_r6.dso.thumbnail))("defaultImage","assets/images/orgunit-placeholder.svg")("alt","thumbnail.orgunit.alt")("placeholder","thumbnail.orgunit.placeholder")}}function OrgUnitSearchResultListElementComponent_div_1_Template(rf,ctx){if(1&rf&&(core.TgZ(0,"div",9),core.YNc(1,OrgUnitSearchResultListElementComponent_div_1_a_1_Template,3,10,"a",10),core.YNc(2,OrgUnitSearchResultListElementComponent_div_1_span_2_Template,3,6,"span",11),core.qZA()),2&rf){const ctx_r0=core.oxw();core.xp6(1),core.Q6J("ngIf",ctx_r0.linkType!=ctx_r0.linkTypes.None),core.xp6(1),core.Q6J("ngIf",ctx_r0.linkType==ctx_r0.linkTypes.None)}}function OrgUnitSearchResultListElementComponent_ds_type_badge_3_Template(rf,ctx){if(1&rf&&core._UZ(0,"ds-type-badge",15),2&rf){const ctx_r1=core.oxw();core.Q6J("object",ctx_r1.dso)}}function OrgUnitSearchResultListElementComponent_a_5_Template(rf,ctx){if(1&rf&&(core._UZ(0,"a",16),core.ALo(1,"translate")),2&rf){const ctx_r2=core.oxw();core.Q6J("target",ctx_r2.linkType==ctx_r2.linkTypes.ExternalLink?"_blank":"_self")("routerLink",core.VKq(5,org_unit_search_result_list_element_component_c0,ctx_r2.itemPageRoute))("innerHTML",ctx_r2.dsoTitle||core.lcZ(1,3,"orgunit.listelement.no-title"),core.oJD)}}function OrgUnitSearchResultListElementComponent_span_6_Template(rf,ctx){if(1&rf&&(core._UZ(0,"span",17),core.ALo(1,"translate")),2&rf){const ctx_r3=core.oxw();core.Q6J("innerHTML",ctx_r3.dsoTitle||core.lcZ(1,1,"orgunit.listelement.no-title"),core.oJD)}}function OrgUnitSearchResultListElementComponent_span_8_Template(rf,ctx){if(1&rf&&(core.TgZ(0,"span",18)(1,"ds-truncatable-part",19),core._UZ(2,"span",20),core.qZA()()),2&rf){const ctx_r4=core.oxw();core.xp6(1),core.Q6J("id",ctx_r4.dso.id)("minLines",3),core.xp6(1),core.Q6J("innerHTML",ctx_r4.firstMetadataValue("dc.description"),core.oJD)}}__name(OrgUnitSearchResultListElementComponent_div_1_a_1_Template,"OrgUnitSearchResultListElementComponent_div_1_a_1_Template"),__name(OrgUnitSearchResultListElementComponent_div_1_span_2_Template,"OrgUnitSearchResultListElementComponent_div_1_span_2_Template"),__name(OrgUnitSearchResultListElementComponent_div_1_Template,"OrgUnitSearchResultListElementComponent_div_1_Template"),__name(OrgUnitSearchResultListElementComponent_ds_type_badge_3_Template,"OrgUnitSearchResultListElementComponent_ds_type_badge_3_Template"),__name(OrgUnitSearchResultListElementComponent_a_5_Template,"OrgUnitSearchResultListElementComponent_a_5_Template"),__name(OrgUnitSearchResultListElementComponent_span_6_Template,"OrgUnitSearchResultListElementComponent_span_6_Template"),__name(OrgUnitSearchResultListElementComponent_span_8_Template,"OrgUnitSearchResultListElementComponent_span_8_Template");const org_unit_search_result_list_element_component_c1=__name(function(){return["dc.description"]},"org_unit_search_result_list_element_component_c1");let OrgUnitSearchResultListElementComponent=__name(class extends item_search_result_list_element_component.h{ngOnInit(){super.ngOnInit(),this.showThumbnails=this.appConfig.browseBy.showThumbnails}},"OrgUnitSearchResultListElementComponent");OrgUnitSearchResultListElementComponent.\u0275fac=function(){let \u0275OrgUnitSearchResultListElementComponent_BaseFactory;return __name(function(t){return(\u0275OrgUnitSearchResultListElementComponent_BaseFactory||(\u0275OrgUnitSearchResultListElementComponent_BaseFactory=core.n5z(OrgUnitSearchResultListElementComponent)))(t||OrgUnitSearchResultListElementComponent)},"OrgUnitSearchResultListElementComponent_Factory")}(),OrgUnitSearchResultListElementComponent.\u0275cmp=core.Xpm({type:OrgUnitSearchResultListElementComponent,selectors:[["ds-org-unit-search-result-list-element"]],features:[core.qOj],decls:9,vars:8,consts:[[1,"row"],["class","col-3 col-md-2",4,"ngIf"],[3,"ngClass"],[3,"object",4,"ngIf"],[3,"id"],["rel","noopener noreferrer","class","lead",3,"target","routerLink","innerHTML",4,"ngIf"],["class","lead",3,"innerHTML",4,"ngIf"],[1,"text-muted"],["class","item-list-org-unit-description",4,"ngIf"],[1,"col-3","col-md-2"],["rel","noopener noreferrer","class","dont-break-out",3,"target","routerLink",4,"ngIf"],["class","dont-break-out",4,"ngIf"],["rel","noopener noreferrer",1,"dont-break-out",3,"target","routerLink"],[3,"thumbnail","defaultImage","alt","placeholder"],[1,"dont-break-out"],[3,"object"],["rel","noopener noreferrer",1,"lead",3,"target","routerLink","innerHTML"],[1,"lead",3,"innerHTML"],[1,"item-list-org-unit-description"],[3,"id","minLines"],[3,"innerHTML"]],template:__name(function(rf,ctx){1&rf&&(core.TgZ(0,"div",0),core.YNc(1,OrgUnitSearchResultListElementComponent_div_1_Template,3,2,"div",1),core.TgZ(2,"div",2),core.YNc(3,OrgUnitSearchResultListElementComponent_ds_type_badge_3_Template,1,1,"ds-type-badge",3),core.TgZ(4,"ds-truncatable",4),core.YNc(5,OrgUnitSearchResultListElementComponent_a_5_Template,2,7,"a",5),core.YNc(6,OrgUnitSearchResultListElementComponent_span_6_Template,2,3,"span",6),core.TgZ(7,"span",7),core.YNc(8,OrgUnitSearchResultListElementComponent_span_8_Template,3,3,"span",8),core.qZA()()()()),2&rf&&(core.xp6(1),core.Q6J("ngIf",ctx.showThumbnails),core.xp6(1),core.Q6J("ngClass",ctx.showThumbnails?"col-9":"col-md-12"),core.xp6(1),core.Q6J("ngIf",ctx.showLabel),core.xp6(1),core.Q6J("id",ctx.dso.id),core.xp6(1),core.Q6J("ngIf",ctx.linkType!=ctx.linkTypes.None),core.xp6(1),core.Q6J("ngIf",ctx.linkType==ctx.linkTypes.None),core.xp6(2),core.Q6J("ngIf",ctx.dso.allMetadata(core.DdM(7,org_unit_search_result_list_element_component_c1)).length>0))},"OrgUnitSearchResultListElementComponent_Template"),directives:[common.O5,router.yS,thumbnail_component.Z,common.mk,type_badge_component.F,truncatable_component.n,truncatable_part_component.L],pipes:[common.Ov,ngx_translate_core.X$],styles:[""]}),OrgUnitSearchResultListElementComponent=(0,tslib_es6.gn)([(0,listable_object_decorator.d$)("OrgUnitSearchResult",view_mode_model.w.ListElement)],OrgUnitSearchResultListElementComponent);const org_unit_list_element_component_c0=__name(function(){return{}},"org_unit_list_element_component_c0"),org_unit_list_element_component_c1=__name(function(a0,a1){return{indexableObject:a0,hitHighlights:a1}},"org_unit_list_element_component_c1");let OrgUnitListElementComponent=__name(class extends abstract_listable_element_component.i{},"OrgUnitListElementComponent");OrgUnitListElementComponent.\u0275fac=function(){let \u0275OrgUnitListElementComponent_BaseFactory;return __name(function(t){return(\u0275OrgUnitListElementComponent_BaseFactory||(\u0275OrgUnitListElementComponent_BaseFactory=core.n5z(OrgUnitListElementComponent)))(t||OrgUnitListElementComponent)},"OrgUnitListElementComponent_Factory")}(),OrgUnitListElementComponent.\u0275cmp=core.Xpm({type:OrgUnitListElementComponent,selectors:[["ds-org-unit-list-element"]],features:[core.qOj],decls:1,vars:7,consts:[[3,"showLabel","object","linkType"]],template:__name(function(rf,ctx){1&rf&&core._UZ(0,"ds-org-unit-search-result-list-element",0),2&rf&&core.Q6J("showLabel",ctx.showLabel)("object",core.WLB(4,org_unit_list_element_component_c1,ctx.object,core.DdM(3,org_unit_list_element_component_c0)))("linkType",ctx.linkType)},"OrgUnitListElementComponent_Template"),directives:[OrgUnitSearchResultListElementComponent],styles:[""]}),OrgUnitListElementComponent=(0,tslib_es6.gn)([(0,listable_object_decorator.d$)("OrgUnit",view_mode_model.w.ListElement)],OrgUnitListElementComponent);var truncatable_service=__webpack_require__(29602),dso_name_service=__webpack_require__(83616),app_config_interface=__webpack_require__(63645);const person_search_result_list_element_component_c0=__name(function(a0){return[a0]},"person_search_result_list_element_component_c0");function PersonSearchResultListElementComponent_div_1_a_1_Template(rf,ctx){if(1&rf&&(core.TgZ(0,"a",13),core._UZ(1,"ds-thumbnail",14),core.ALo(2,"async"),core.qZA()),2&rf){const ctx_r5=core.oxw(2);core.Q6J("target",ctx_r5.linkType==ctx_r5.linkTypes.ExternalLink?"_blank":"_self")("routerLink",core.VKq(8,person_search_result_list_element_component_c0,ctx_r5.itemPageRoute)),core.xp6(1),core.Q6J("thumbnail",core.lcZ(2,6,null==ctx_r5.dso?null:ctx_r5.dso.thumbnail))("defaultImage","assets/images/person-placeholder.svg")("alt","thumbnail.person.alt")("placeholder","thumbnail.person.placeholder")}}function PersonSearchResultListElementComponent_div_1_span_2_Template(rf,ctx){if(1&rf&&(core.TgZ(0,"span",15),core._UZ(1,"ds-thumbnail",14),core.ALo(2,"async"),core.qZA()),2&rf){const ctx_r6=core.oxw(2);core.xp6(1),core.Q6J("thumbnail",core.lcZ(2,4,null==ctx_r6.dso?null:ctx_r6.dso.thumbnail))("defaultImage","assets/images/person-placeholder.svg")("alt","thumbnail.person.alt")("placeholder","thumbnail.person.placeholder")}}function PersonSearchResultListElementComponent_div_1_Template(rf,ctx){if(1&rf&&(core.TgZ(0,"div",10),core.YNc(1,PersonSearchResultListElementComponent_div_1_a_1_Template,3,10,"a",11),core.YNc(2,PersonSearchResultListElementComponent_div_1_span_2_Template,3,6,"span",12),core.qZA()),2&rf){const ctx_r0=core.oxw();core.xp6(1),core.Q6J("ngIf",ctx_r0.linkType!=ctx_r0.linkTypes.None),core.xp6(1),core.Q6J("ngIf",ctx_r0.linkType==ctx_r0.linkTypes.None)}}function PersonSearchResultListElementComponent_ds_type_badge_3_Template(rf,ctx){if(1&rf&&core._UZ(0,"ds-type-badge",16),2&rf){const ctx_r1=core.oxw();core.Q6J("object",ctx_r1.dso)}}function PersonSearchResultListElementComponent_a_5_Template(rf,ctx){if(1&rf&&(core._UZ(0,"a",17),core.ALo(1,"translate")),2&rf){const ctx_r2=core.oxw();core.Q6J("target",ctx_r2.linkType==ctx_r2.linkTypes.ExternalLink?"_blank":"_self")("routerLink",core.VKq(5,person_search_result_list_element_component_c0,ctx_r2.itemPageRoute))("innerHTML",ctx_r2.dsoTitle||core.lcZ(1,3,"person.listelement.no-title"),core.oJD)}}function PersonSearchResultListElementComponent_span_6_Template(rf,ctx){if(1&rf&&(core._UZ(0,"span",18),core.ALo(1,"translate")),2&rf){const ctx_r3=core.oxw();core.Q6J("innerHTML",ctx_r3.dsoTitle||core.lcZ(1,1,"person.listelement.no-title"),core.oJD)}}function PersonSearchResultListElementComponent_span_9_span_1_Template(rf,ctx){if(1&rf&&(core.TgZ(0,"span")(1,"span",21),core._UZ(2,"span",21),core.qZA()()),2&rf){const value_r8=ctx.$implicit;core.xp6(1),core.Q6J("innerHTML",value_r8,core.oJD),core.xp6(1),core.Q6J("innerHTML",value_r8,core.oJD)}}__name(PersonSearchResultListElementComponent_div_1_a_1_Template,"PersonSearchResultListElementComponent_div_1_a_1_Template"),__name(PersonSearchResultListElementComponent_div_1_span_2_Template,"PersonSearchResultListElementComponent_div_1_span_2_Template"),__name(PersonSearchResultListElementComponent_div_1_Template,"PersonSearchResultListElementComponent_div_1_Template"),__name(PersonSearchResultListElementComponent_ds_type_badge_3_Template,"PersonSearchResultListElementComponent_ds_type_badge_3_Template"),__name(PersonSearchResultListElementComponent_a_5_Template,"PersonSearchResultListElementComponent_a_5_Template"),__name(PersonSearchResultListElementComponent_span_6_Template,"PersonSearchResultListElementComponent_span_6_Template"),__name(PersonSearchResultListElementComponent_span_9_span_1_Template,"PersonSearchResultListElementComponent_span_9_span_1_Template");const person_search_result_list_element_component_c1=__name(function(){return["person.jobTitle"]},"person_search_result_list_element_component_c1");function PersonSearchResultListElementComponent_span_9_Template(rf,ctx){if(1&rf&&(core.TgZ(0,"span",19),core.YNc(1,PersonSearchResultListElementComponent_span_9_span_1_Template,3,2,"span",20),core.qZA()),2&rf){const ctx_r4=core.oxw();core.xp6(1),core.Q6J("ngForOf",ctx_r4.allMetadataValues(core.DdM(1,person_search_result_list_element_component_c1)))}}__name(PersonSearchResultListElementComponent_span_9_Template,"PersonSearchResultListElementComponent_span_9_Template");let PersonSearchResultListElementComponent=__name(class extends item_search_result_list_element_component.h{constructor(truncatableService,dsoNameService,appConfig){super(truncatableService,dsoNameService,appConfig),this.truncatableService=truncatableService,this.dsoNameService=dsoNameService,this.appConfig=appConfig}ngOnInit(){super.ngOnInit(),this.showThumbnails=this.appConfig.browseBy.showThumbnails}},"PersonSearchResultListElementComponent");PersonSearchResultListElementComponent.\u0275fac=__name(function(t){return new(t||PersonSearchResultListElementComponent)(core.Y36(truncatable_service.F),core.Y36(dso_name_service._),core.Y36(app_config_interface.q))},"PersonSearchResultListElementComponent_Factory"),PersonSearchResultListElementComponent.\u0275cmp=core.Xpm({type:PersonSearchResultListElementComponent,selectors:[["ds-person-search-result-list-element"]],features:[core.qOj],decls:10,vars:10,consts:[[1,"row"],["class","col-3 col-md-2",4,"ngIf"],[3,"ngClass"],[3,"object",4,"ngIf"],[3,"id"],["rel","noopener noreferrer","class","lead",3,"target","routerLink","innerHTML",4,"ngIf"],["class","lead",3,"innerHTML",4,"ngIf"],[1,"text-muted"],[3,"id","minLines"],["class","item-list-job-title",4,"ngIf"],[1,"col-3","col-md-2"],["rel","noopener noreferrer","class","dont-break-out",3,"target","routerLink",4,"ngIf"],["class","dont-break-out",4,"ngIf"],["rel","noopener noreferrer",1,"dont-break-out",3,"target","routerLink"],[3,"thumbnail","defaultImage","alt","placeholder"],[1,"dont-break-out"],[3,"object"],["rel","noopener noreferrer",1,"lead",3,"target","routerLink","innerHTML"],[1,"lead",3,"innerHTML"],[1,"item-list-job-title"],[4,"ngFor","ngForOf"],[3,"innerHTML"]],template:__name(function(rf,ctx){1&rf&&(core.TgZ(0,"div",0),core.YNc(1,PersonSearchResultListElementComponent_div_1_Template,3,2,"div",1),core.TgZ(2,"div",2),core.YNc(3,PersonSearchResultListElementComponent_ds_type_badge_3_Template,1,1,"ds-type-badge",3),core.TgZ(4,"ds-truncatable",4),core.YNc(5,PersonSearchResultListElementComponent_a_5_Template,2,7,"a",5),core.YNc(6,PersonSearchResultListElementComponent_span_6_Template,2,3,"span",6),core.TgZ(7,"span",7)(8,"ds-truncatable-part",8),core.YNc(9,PersonSearchResultListElementComponent_span_9_Template,2,2,"span",9),core.qZA()()()()()),2&rf&&(core.xp6(1),core.Q6J("ngIf",ctx.showThumbnails),core.xp6(1),core.Q6J("ngClass",ctx.showThumbnails?"col-9 col-md-10":"col-12"),core.xp6(1),core.Q6J("ngIf",ctx.showLabel),core.xp6(1),core.Q6J("id",ctx.dso.id),core.xp6(1),core.Q6J("ngIf",ctx.linkType!=ctx.linkTypes.None),core.xp6(1),core.Q6J("ngIf",ctx.linkType==ctx.linkTypes.None),core.xp6(2),core.Q6J("id",ctx.dso.id)("minLines",1),core.xp6(1),core.Q6J("ngIf",ctx.dso.allMetadata(core.DdM(9,person_search_result_list_element_component_c1)).length>0))},"PersonSearchResultListElementComponent_Template"),directives:[common.O5,router.yS,thumbnail_component.Z,common.mk,type_badge_component.F,truncatable_component.n,truncatable_part_component.L,common.sg],pipes:[common.Ov,ngx_translate_core.X$],styles:[""]}),PersonSearchResultListElementComponent=(0,tslib_es6.gn)([(0,listable_object_decorator.d$)("PersonSearchResult",view_mode_model.w.ListElement),(0,tslib_es6.w6)("design:paramtypes",[truncatable_service.F,dso_name_service._,Object])],PersonSearchResultListElementComponent);const person_list_element_component_c0=__name(function(){return{}},"person_list_element_component_c0"),person_list_element_component_c1=__name(function(a0,a1){return{indexableObject:a0,hitHighlights:a1}},"person_list_element_component_c1");let PersonListElementComponent=__name(class extends abstract_listable_element_component.i{},"PersonListElementComponent");PersonListElementComponent.\u0275fac=function(){let \u0275PersonListElementComponent_BaseFactory;return __name(function(t){return(\u0275PersonListElementComponent_BaseFactory||(\u0275PersonListElementComponent_BaseFactory=core.n5z(PersonListElementComponent)))(t||PersonListElementComponent)},"PersonListElementComponent_Factory")}(),PersonListElementComponent.\u0275cmp=core.Xpm({type:PersonListElementComponent,selectors:[["ds-person-list-element"]],features:[core.qOj],decls:1,vars:8,consts:[[3,"object","linkType","showLabel","value"]],template:__name(function(rf,ctx){1&rf&&core._UZ(0,"ds-person-search-result-list-element",0),2&rf&&core.Q6J("object",core.WLB(5,person_list_element_component_c1,ctx.object,core.DdM(4,person_list_element_component_c0)))("linkType",ctx.linkType)("showLabel",ctx.showLabel)("value",ctx.value)},"PersonListElementComponent_Template"),directives:[PersonSearchResultListElementComponent],styles:[""]}),PersonListElementComponent=(0,tslib_es6.gn)([(0,listable_object_decorator.d$)("Person",view_mode_model.w.ListElement)],PersonListElementComponent);const project_search_result_list_element_component_c0=__name(function(a0){return[a0]},"project_search_result_list_element_component_c0");function ProjectSearchResultListElementComponent_div_1_a_1_Template(rf,ctx){if(1&rf&&(core.TgZ(0,"a",10),core._UZ(1,"ds-thumbnail",11),core.ALo(2,"async"),core.qZA()),2&rf){const ctx_r4=core.oxw(2);core.Q6J("target",ctx_r4.linkType==ctx_r4.linkTypes.ExternalLink?"_blank":"_self")("routerLink",core.VKq(8,project_search_result_list_element_component_c0,ctx_r4.itemPageRoute)),core.xp6(1),core.Q6J("thumbnail",core.lcZ(2,6,null==ctx_r4.dso?null:ctx_r4.dso.thumbnail))("defaultImage","assets/images/project-placeholder.svg")("alt","thumbnail.project.alt")("placeholder","thumbnail.project.placeholder")}}function ProjectSearchResultListElementComponent_div_1_span_2_Template(rf,ctx){if(1&rf&&(core.TgZ(0,"span",12),core._UZ(1,"ds-thumbnail",11),core.ALo(2,"async"),core.qZA()),2&rf){const ctx_r5=core.oxw(2);core.xp6(1),core.Q6J("thumbnail",core.lcZ(2,4,null==ctx_r5.dso?null:ctx_r5.dso.thumbnail))("defaultImage","assets/images/project-placeholder.svg")("alt","thumbnail.project.alt")("placeholder","thumbnail.project.placeholder")}}function ProjectSearchResultListElementComponent_div_1_Template(rf,ctx){if(1&rf&&(core.TgZ(0,"div",7),core.YNc(1,ProjectSearchResultListElementComponent_div_1_a_1_Template,3,10,"a",8),core.YNc(2,ProjectSearchResultListElementComponent_div_1_span_2_Template,3,6,"span",9),core.qZA()),2&rf){const ctx_r0=core.oxw();core.xp6(1),core.Q6J("ngIf",ctx_r0.linkType!=ctx_r0.linkTypes.None),core.xp6(1),core.Q6J("ngIf",ctx_r0.linkType==ctx_r0.linkTypes.None)}}function ProjectSearchResultListElementComponent_ds_type_badge_4_Template(rf,ctx){if(1&rf&&core._UZ(0,"ds-type-badge",13),2&rf){const ctx_r1=core.oxw();core.Q6J("object",ctx_r1.dso)}}function ProjectSearchResultListElementComponent_a_5_Template(rf,ctx){if(1&rf&&core._UZ(0,"a",14),2&rf){const ctx_r2=core.oxw();core.Q6J("target",ctx_r2.linkType==ctx_r2.linkTypes.ExternalLink?"_blank":"_self")("routerLink",core.VKq(3,project_search_result_list_element_component_c0,ctx_r2.itemPageRoute))("innerHTML",ctx_r2.dsoTitle,core.oJD)}}function ProjectSearchResultListElementComponent_span_6_Template(rf,ctx){if(1&rf&&core._UZ(0,"span",15),2&rf){const ctx_r3=core.oxw();core.Q6J("innerHTML",ctx_r3.dsoTitle,core.oJD)}}__name(ProjectSearchResultListElementComponent_div_1_a_1_Template,"ProjectSearchResultListElementComponent_div_1_a_1_Template"),__name(ProjectSearchResultListElementComponent_div_1_span_2_Template,"ProjectSearchResultListElementComponent_div_1_span_2_Template"),__name(ProjectSearchResultListElementComponent_div_1_Template,"ProjectSearchResultListElementComponent_div_1_Template"),__name(ProjectSearchResultListElementComponent_ds_type_badge_4_Template,"ProjectSearchResultListElementComponent_ds_type_badge_4_Template"),__name(ProjectSearchResultListElementComponent_a_5_Template,"ProjectSearchResultListElementComponent_a_5_Template"),__name(ProjectSearchResultListElementComponent_span_6_Template,"ProjectSearchResultListElementComponent_span_6_Template");let ProjectSearchResultListElementComponent=__name(class extends item_search_result_list_element_component.h{ngOnInit(){super.ngOnInit(),this.showThumbnails=this.appConfig.browseBy.showThumbnails}},"ProjectSearchResultListElementComponent");ProjectSearchResultListElementComponent.\u0275fac=function(){let \u0275ProjectSearchResultListElementComponent_BaseFactory;return __name(function(t){return(\u0275ProjectSearchResultListElementComponent_BaseFactory||(\u0275ProjectSearchResultListElementComponent_BaseFactory=core.n5z(ProjectSearchResultListElementComponent)))(t||ProjectSearchResultListElementComponent)},"ProjectSearchResultListElementComponent_Factory")}(),ProjectSearchResultListElementComponent.\u0275cmp=core.Xpm({type:ProjectSearchResultListElementComponent,selectors:[["ds-project-search-result-list-element"]],features:[core.qOj],decls:7,vars:6,consts:[[1,"row"],["class","col-3 col-md-2",4,"ngIf"],[3,"ngClass"],[3,"id"],[3,"object",4,"ngIf"],["rel","noopener noreferrer","class","lead item-list-title dont-break-out",3,"target","routerLink","innerHTML",4,"ngIf"],["class","lead item-list-title dont-break-out",3,"innerHTML",4,"ngIf"],[1,"col-3","col-md-2"],["rel","noopener noreferrer","class","dont-break-out",3,"target","routerLink",4,"ngIf"],["class","dont-break-out",4,"ngIf"],["rel","noopener noreferrer",1,"dont-break-out",3,"target","routerLink"],[3,"thumbnail","defaultImage","alt","placeholder"],[1,"dont-break-out"],[3,"object"],["rel","noopener noreferrer",1,"lead","item-list-title","dont-break-out",3,"target","routerLink","innerHTML"],[1,"lead","item-list-title","dont-break-out",3,"innerHTML"]],template:__name(function(rf,ctx){1&rf&&(core.TgZ(0,"div",0),core.YNc(1,ProjectSearchResultListElementComponent_div_1_Template,3,2,"div",1),core.TgZ(2,"div",2)(3,"ds-truncatable",3),core.YNc(4,ProjectSearchResultListElementComponent_ds_type_badge_4_Template,1,1,"ds-type-badge",4),core.YNc(5,ProjectSearchResultListElementComponent_a_5_Template,1,5,"a",5),core.YNc(6,ProjectSearchResultListElementComponent_span_6_Template,1,1,"span",6),core.qZA()()()),2&rf&&(core.xp6(1),core.Q6J("ngIf",ctx.showThumbnails),core.xp6(1),core.Q6J("ngClass",ctx.showThumbnails?"col-9":"col-md-12"),core.xp6(1),core.Q6J("id",ctx.dso.id),core.xp6(1),core.Q6J("ngIf",ctx.showLabel),core.xp6(1),core.Q6J("ngIf",ctx.linkType!=ctx.linkTypes.None),core.xp6(1),core.Q6J("ngIf",ctx.linkType==ctx.linkTypes.None))},"ProjectSearchResultListElementComponent_Template"),directives:[common.O5,router.yS,thumbnail_component.Z,common.mk,truncatable_component.n,type_badge_component.F],pipes:[common.Ov],styles:[""]}),ProjectSearchResultListElementComponent=(0,tslib_es6.gn)([(0,listable_object_decorator.d$)("ProjectSearchResult",view_mode_model.w.ListElement)],ProjectSearchResultListElementComponent);const project_list_element_component_c0=__name(function(){return{}},"project_list_element_component_c0"),project_list_element_component_c1=__name(function(a0,a1){return{indexableObject:a0,hitHighlights:a1}},"project_list_element_component_c1");let ProjectListElementComponent=__name(class extends abstract_listable_element_component.i{},"ProjectListElementComponent");ProjectListElementComponent.\u0275fac=function(){let \u0275ProjectListElementComponent_BaseFactory;return __name(function(t){return(\u0275ProjectListElementComponent_BaseFactory||(\u0275ProjectListElementComponent_BaseFactory=core.n5z(ProjectListElementComponent)))(t||ProjectListElementComponent)},"ProjectListElementComponent_Factory")}(),ProjectListElementComponent.\u0275cmp=core.Xpm({type:ProjectListElementComponent,selectors:[["ds-project-list-element"]],features:[core.qOj],decls:1,vars:7,consts:[[3,"showLabel","object","linkType"]],template:__name(function(rf,ctx){1&rf&&core._UZ(0,"ds-project-search-result-list-element",0),2&rf&&core.Q6J("showLabel",ctx.showLabel)("object",core.WLB(4,project_list_element_component_c1,ctx.object,core.DdM(3,project_list_element_component_c0)))("linkType",ctx.linkType)},"ProjectListElementComponent_Template"),directives:[ProjectSearchResultListElementComponent],styles:[""]}),ProjectListElementComponent=(0,tslib_es6.gn)([(0,listable_object_decorator.d$)("Project",view_mode_model.w.ListElement)],ProjectListElementComponent);var animations_focus=__webpack_require__(10299),item_search_result_grid_element_component=__webpack_require__(94034);const person_search_result_grid_element_component_c0=__name(function(a0){return[a0]},"person_search_result_grid_element_component_c0");function PersonSearchResultGridElementComponent_a_5_Template(rf,ctx){if(1&rf&&(core.TgZ(0,"a",12),core.ALo(1,"translate"),core.TgZ(2,"div"),core._UZ(3,"ds-thumbnail",13),core.ALo(4,"async"),core.qZA()()),2&rf){const ctx_r0=core.oxw();core.Q6J("target",ctx_r0.linkType==ctx_r0.linkTypes.ExternalLink?"_blank":"_self")("routerLink",core.VKq(9,person_search_result_grid_element_component_c0,ctx_r0.itemPageRoute)),core.uIk("title",core.lcZ(1,5,"search.results.view-result")),core.xp6(3),core.Q6J("thumbnail",core.lcZ(4,7,null==ctx_r0.dso?null:ctx_r0.dso.thumbnail))("limitWidth",!1)}}function PersonSearchResultGridElementComponent_span_6_Template(rf,ctx){if(1&rf&&(core.TgZ(0,"span",14)(1,"div"),core._UZ(2,"ds-thumbnail",13),core.ALo(3,"async"),core.qZA()()),2&rf){const ctx_r1=core.oxw();core.xp6(2),core.Q6J("thumbnail",core.lcZ(3,2,null==ctx_r1.dso?null:ctx_r1.dso.thumbnail))("limitWidth",!1)}}function PersonSearchResultGridElementComponent_ds_type_badge_8_Template(rf,ctx){if(1&rf&&core._UZ(0,"ds-type-badge",15),2&rf){const ctx_r2=core.oxw();core.Q6J("object",ctx_r2.dso)}}function PersonSearchResultGridElementComponent_p_11_Template(rf,ctx){if(1&rf&&(core.TgZ(0,"p",16)(1,"ds-truncatable-part",17),core._UZ(2,"span",18),core.qZA()()),2&rf){const ctx_r3=core.oxw();core.xp6(1),core.Q6J("id",ctx_r3.dso.id)("minLines",1),core.xp6(1),core.Q6J("innerHTML",ctx_r3.firstMetadataValue("person.email"),core.oJD)}}function PersonSearchResultGridElementComponent_p_12_Template(rf,ctx){if(1&rf&&(core.TgZ(0,"p",19)(1,"ds-truncatable-part",17),core._UZ(2,"span",18),core.qZA()()),2&rf){const ctx_r4=core.oxw();core.xp6(1),core.Q6J("id",ctx_r4.dso.id)("minLines",3),core.xp6(1),core.Q6J("innerHTML",ctx_r4.firstMetadataValue("person.jobTitle"),core.oJD)}}function PersonSearchResultGridElementComponent_div_13_Template(rf,ctx){if(1&rf&&(core.TgZ(0,"div",20)(1,"a",21),core._uU(2),core.ALo(3,"translate"),core.qZA()()),2&rf){const ctx_r5=core.oxw();core.xp6(1),core.Q6J("target",ctx_r5.linkType==ctx_r5.linkTypes.ExternalLink?"_blank":"_self")("routerLink",core.VKq(5,person_search_result_grid_element_component_c0,ctx_r5.itemPageRoute)),core.xp6(1),core.Oqu(core.lcZ(3,3,"search.results.view-result"))}}__name(PersonSearchResultGridElementComponent_a_5_Template,"PersonSearchResultGridElementComponent_a_5_Template"),__name(PersonSearchResultGridElementComponent_span_6_Template,"PersonSearchResultGridElementComponent_span_6_Template"),__name(PersonSearchResultGridElementComponent_ds_type_badge_8_Template,"PersonSearchResultGridElementComponent_ds_type_badge_8_Template"),__name(PersonSearchResultGridElementComponent_p_11_Template,"PersonSearchResultGridElementComponent_p_11_Template"),__name(PersonSearchResultGridElementComponent_p_12_Template,"PersonSearchResultGridElementComponent_p_12_Template"),__name(PersonSearchResultGridElementComponent_div_13_Template,"PersonSearchResultGridElementComponent_div_13_Template");const person_search_result_grid_element_component_c1=["*","*"];let PersonSearchResultGridElementComponent=__name(class extends item_search_result_grid_element_component.n{},"PersonSearchResultGridElementComponent");PersonSearchResultGridElementComponent.\u0275fac=function(){let \u0275PersonSearchResultGridElementComponent_BaseFactory;return __name(function(t){return(\u0275PersonSearchResultGridElementComponent_BaseFactory||(\u0275PersonSearchResultGridElementComponent_BaseFactory=core.n5z(PersonSearchResultGridElementComponent)))(t||PersonSearchResultGridElementComponent)},"PersonSearchResultGridElementComponent_Factory")}(),PersonSearchResultGridElementComponent.\u0275cmp=core.Xpm({type:PersonSearchResultGridElementComponent,selectors:[["ds-person-search-result-grid-element"]],features:[core.qOj],ngContentSelectors:person_search_result_grid_element_component_c1,decls:15,vars:13,consts:[[1,"card"],[3,"id"],[1,"position-absolute","ml-1"],["rel","noopener noreferrer","class","card-img-top full-width",3,"target","routerLink",4,"ngIf"],["class","card-img-top full-width",4,"ngIf"],[1,"card-body"],[3,"object",4,"ngIf"],["type","h4",3,"id","minLines"],[1,"card-title",3,"innerHTML"],["class","item-email card-text text-muted",4,"ngIf"],["class","item-jobtitle card-text",4,"ngIf"],["class","text-center",4,"ngIf"],["rel","noopener noreferrer",1,"card-img-top","full-width",3,"target","routerLink"],[3,"thumbnail","limitWidth"],[1,"card-img-top","full-width"],[3,"object"],[1,"item-email","card-text","text-muted"],[3,"id","minLines"],[3,"innerHTML"],[1,"item-jobtitle","card-text"],[1,"text-center"],["rel","noopener noreferrer",1,"lead","btn","btn-primary","viewButton",3,"target","routerLink"]],template:__name(function(rf,ctx){1&rf&&(core.F$t(person_search_result_grid_element_component_c1),core.TgZ(0,"div",0),core.ALo(1,"async"),core.TgZ(2,"ds-truncatable",1)(3,"div",2),core.Hsn(4),core.qZA(),core.YNc(5,PersonSearchResultGridElementComponent_a_5_Template,5,11,"a",3),core.YNc(6,PersonSearchResultGridElementComponent_span_6_Template,4,4,"span",4),core.TgZ(7,"div",5),core.YNc(8,PersonSearchResultGridElementComponent_ds_type_badge_8_Template,1,1,"ds-type-badge",6),core.TgZ(9,"ds-truncatable-part",7),core._UZ(10,"h4",8),core.qZA(),core.YNc(11,PersonSearchResultGridElementComponent_p_11_Template,3,3,"p",9),core.YNc(12,PersonSearchResultGridElementComponent_p_12_Template,3,3,"p",10),core.YNc(13,PersonSearchResultGridElementComponent_div_13_Template,4,7,"div",11),core.qZA()(),core.Hsn(14,1),core.qZA()),2&rf&&(core.Q6J("@focusShadow",core.lcZ(1,11,ctx.isCollapsed$)?"blur":"focus"),core.xp6(2),core.Q6J("id",ctx.dso.id),core.xp6(3),core.Q6J("ngIf",ctx.linkType!=ctx.linkTypes.None),core.xp6(1),core.Q6J("ngIf",ctx.linkType==ctx.linkTypes.None),core.xp6(2),core.Q6J("ngIf",ctx.showLabel),core.xp6(1),core.Q6J("id",ctx.dso.id)("minLines",3),core.xp6(1),core.Q6J("innerHTML",ctx.dsoTitle,core.oJD),core.xp6(1),core.Q6J("ngIf",ctx.dso.hasMetadata("person.email")),core.xp6(1),core.Q6J("ngIf",ctx.dso.hasMetadata("person.jobTitle")),core.xp6(1),core.Q6J("ngIf",ctx.linkType!=ctx.linkTypes.None))},"PersonSearchResultGridElementComponent_Template"),directives:[truncatable_component.n,common.O5,router.yS,thumbnail_component.Z,type_badge_component.F,truncatable_part_component.L],pipes:[common.Ov,ngx_translate_core.X$],styles:[""],data:{animation:[animations_focus.X]}}),PersonSearchResultGridElementComponent=(0,tslib_es6.gn)([(0,listable_object_decorator.d$)("PersonSearchResult",view_mode_model.w.GridElement)],PersonSearchResultGridElementComponent);const person_grid_element_component_c0=__name(function(){return{}},"person_grid_element_component_c0"),person_grid_element_component_c1=__name(function(a0,a1){return{indexableObject:a0,hitHighlights:a1}},"person_grid_element_component_c1");let PersonGridElementComponent=__name(class extends abstract_listable_element_component.i{},"PersonGridElementComponent");PersonGridElementComponent.\u0275fac=function(){let \u0275PersonGridElementComponent_BaseFactory;return __name(function(t){return(\u0275PersonGridElementComponent_BaseFactory||(\u0275PersonGridElementComponent_BaseFactory=core.n5z(PersonGridElementComponent)))(t||PersonGridElementComponent)},"PersonGridElementComponent_Factory")}(),PersonGridElementComponent.\u0275cmp=core.Xpm({type:PersonGridElementComponent,selectors:[["ds-person-grid-element"]],features:[core.qOj],decls:1,vars:7,consts:[[3,"showLabel","object","linkType"]],template:__name(function(rf,ctx){1&rf&&core._UZ(0,"ds-person-search-result-grid-element",0),2&rf&&core.Q6J("showLabel",ctx.showLabel)("object",core.WLB(4,person_grid_element_component_c1,ctx.object,core.DdM(3,person_grid_element_component_c0)))("linkType",ctx.linkType)},"PersonGridElementComponent_Template"),directives:[PersonSearchResultGridElementComponent],styles:[""]}),PersonGridElementComponent=(0,tslib_es6.gn)([(0,listable_object_decorator.d$)("Person",view_mode_model.w.GridElement)],PersonGridElementComponent);const org_unit_search_result_grid_element_component_c0=__name(function(a0){return[a0]},"org_unit_search_result_grid_element_component_c0");function OrgUnitSearchResultGridElementComponent_a_5_Template(rf,ctx){if(1&rf&&(core.TgZ(0,"a",12),core.ALo(1,"translate"),core.TgZ(2,"div"),core._UZ(3,"ds-thumbnail",13),core.ALo(4,"async"),core.qZA()()),2&rf){const ctx_r0=core.oxw();core.Q6J("target",ctx_r0.linkType==ctx_r0.linkTypes.ExternalLink?"_blank":"_self")("routerLink",core.VKq(9,org_unit_search_result_grid_element_component_c0,ctx_r0.itemPageRoute)),core.uIk("title",core.lcZ(1,5,"search.results.view-result")),core.xp6(3),core.Q6J("thumbnail",core.lcZ(4,7,null==ctx_r0.dso?null:ctx_r0.dso.thumbnail))("limitWidth",!1)}}function OrgUnitSearchResultGridElementComponent_span_6_Template(rf,ctx){if(1&rf&&(core.TgZ(0,"span",14)(1,"div"),core._UZ(2,"ds-thumbnail",13),core.ALo(3,"async"),core.qZA()()),2&rf){const ctx_r1=core.oxw();core.xp6(2),core.Q6J("thumbnail",core.lcZ(3,2,null==ctx_r1.dso?null:ctx_r1.dso.thumbnail))("limitWidth",!1)}}function OrgUnitSearchResultGridElementComponent_ds_type_badge_8_Template(rf,ctx){if(1&rf&&core._UZ(0,"ds-type-badge",15),2&rf){const ctx_r2=core.oxw();core.Q6J("object",ctx_r2.dso)}}function OrgUnitSearchResultGridElementComponent_p_11_Template(rf,ctx){if(1&rf&&(core.TgZ(0,"p",16)(1,"ds-truncatable-part",17),core._UZ(2,"span",18),core.qZA()()),2&rf){const ctx_r3=core.oxw();core.xp6(1),core.Q6J("id",ctx_r3.dso.id)("minLines",1),core.xp6(1),core.Q6J("innerHTML",ctx_r3.firstMetadataValue("organization.foundingDate"),core.oJD)}}function OrgUnitSearchResultGridElementComponent_p_12_span_4_Template(rf,ctx){if(1&rf&&(core.TgZ(0,"span",22)(1,"span"),core._uU(2,", "),core.qZA(),core._uU(3),core.qZA()),2&rf){const ctx_r6=core.oxw(2);core.xp6(3),core.hij(" ",ctx_r6.firstMetadataValue("organization.address.addressLocality")," ")}}function OrgUnitSearchResultGridElementComponent_p_12_Template(rf,ctx){if(1&rf&&(core.TgZ(0,"p",19)(1,"ds-truncatable-part",17)(2,"span",20),core._uU(3),core.qZA(),core.YNc(4,OrgUnitSearchResultGridElementComponent_p_12_span_4_Template,4,1,"span",21),core.qZA()()),2&rf){const ctx_r4=core.oxw();core.xp6(1),core.Q6J("id",ctx_r4.dso.id)("minLines",3),core.xp6(2),core.Oqu(ctx_r4.firstMetadataValue("organization.address.addressCountry")),core.xp6(1),core.Q6J("ngIf",ctx_r4.dso.hasMetadata("organization.address.addressLocality"))}}function OrgUnitSearchResultGridElementComponent_div_13_Template(rf,ctx){if(1&rf&&(core.TgZ(0,"div",23)(1,"a",24),core._uU(2),core.ALo(3,"translate"),core.qZA()()),2&rf){const ctx_r5=core.oxw();core.xp6(1),core.Q6J("target",ctx_r5.linkType==ctx_r5.linkTypes.ExternalLink?"_blank":"_self")("routerLink",core.VKq(5,org_unit_search_result_grid_element_component_c0,ctx_r5.itemPageRoute)),core.xp6(1),core.Oqu(core.lcZ(3,3,"search.results.view-result"))}}__name(OrgUnitSearchResultGridElementComponent_a_5_Template,"OrgUnitSearchResultGridElementComponent_a_5_Template"),__name(OrgUnitSearchResultGridElementComponent_span_6_Template,"OrgUnitSearchResultGridElementComponent_span_6_Template"),__name(OrgUnitSearchResultGridElementComponent_ds_type_badge_8_Template,"OrgUnitSearchResultGridElementComponent_ds_type_badge_8_Template"),__name(OrgUnitSearchResultGridElementComponent_p_11_Template,"OrgUnitSearchResultGridElementComponent_p_11_Template"),__name(OrgUnitSearchResultGridElementComponent_p_12_span_4_Template,"OrgUnitSearchResultGridElementComponent_p_12_span_4_Template"),__name(OrgUnitSearchResultGridElementComponent_p_12_Template,"OrgUnitSearchResultGridElementComponent_p_12_Template"),__name(OrgUnitSearchResultGridElementComponent_div_13_Template,"OrgUnitSearchResultGridElementComponent_div_13_Template");const org_unit_search_result_grid_element_component_c1=["*","*"];let OrgUnitSearchResultGridElementComponent=__name(class extends item_search_result_grid_element_component.n{},"OrgUnitSearchResultGridElementComponent");OrgUnitSearchResultGridElementComponent.\u0275fac=function(){let \u0275OrgUnitSearchResultGridElementComponent_BaseFactory;return __name(function(t){return(\u0275OrgUnitSearchResultGridElementComponent_BaseFactory||(\u0275OrgUnitSearchResultGridElementComponent_BaseFactory=core.n5z(OrgUnitSearchResultGridElementComponent)))(t||OrgUnitSearchResultGridElementComponent)},"OrgUnitSearchResultGridElementComponent_Factory")}(),OrgUnitSearchResultGridElementComponent.\u0275cmp=core.Xpm({type:OrgUnitSearchResultGridElementComponent,selectors:[["ds-org-unit-search-result-grid-element"]],features:[core.qOj],ngContentSelectors:org_unit_search_result_grid_element_component_c1,decls:15,vars:13,consts:[[1,"card"],[3,"id"],[1,"position-absolute","ml-1"],["rel","noopener noreferrer","class","card-img-top full-width",3,"target","routerLink",4,"ngIf"],["class","card-img-top full-width",4,"ngIf"],[1,"card-body"],[3,"object",4,"ngIf"],["type","h4",3,"id","minLines"],[1,"card-title",3,"innerHTML"],["class","item-date card-text text-muted",4,"ngIf"],["class","item-location card-text",4,"ngIf"],["class","text-center",4,"ngIf"],["rel","noopener noreferrer",1,"card-img-top","full-width",3,"target","routerLink"],[3,"thumbnail","limitWidth"],[1,"card-img-top","full-width"],[3,"object"],[1,"item-date","card-text","text-muted"],[3,"id","minLines"],[3,"innerHTML"],[1,"item-location","card-text"],[1,"item-country"],["class","item-city",4,"ngIf"],[1,"item-city"],[1,"text-center"],["rel","noopener noreferrer",1,"lead","btn","btn-primary","viewButton",3,"target","routerLink"]],template:__name(function(rf,ctx){1&rf&&(core.F$t(org_unit_search_result_grid_element_component_c1),core.TgZ(0,"div",0),core.ALo(1,"async"),core.TgZ(2,"ds-truncatable",1)(3,"div",2),core.Hsn(4),core.qZA(),core.YNc(5,OrgUnitSearchResultGridElementComponent_a_5_Template,5,11,"a",3),core.YNc(6,OrgUnitSearchResultGridElementComponent_span_6_Template,4,4,"span",4),core.TgZ(7,"div",5),core.YNc(8,OrgUnitSearchResultGridElementComponent_ds_type_badge_8_Template,1,1,"ds-type-badge",6),core.TgZ(9,"ds-truncatable-part",7),core._UZ(10,"h4",8),core.qZA(),core.YNc(11,OrgUnitSearchResultGridElementComponent_p_11_Template,3,3,"p",9),core.YNc(12,OrgUnitSearchResultGridElementComponent_p_12_Template,5,4,"p",10),core.YNc(13,OrgUnitSearchResultGridElementComponent_div_13_Template,4,7,"div",11),core.qZA()(),core.Hsn(14,1),core.qZA()),2&rf&&(core.Q6J("@focusShadow",core.lcZ(1,11,ctx.isCollapsed$)?"blur":"focus"),core.xp6(2),core.Q6J("id",ctx.dso.id),core.xp6(3),core.Q6J("ngIf",ctx.linkType!=ctx.linkTypes.None),core.xp6(1),core.Q6J("ngIf",ctx.linkType==ctx.linkTypes.None),core.xp6(2),core.Q6J("ngIf",ctx.showLabel),core.xp6(1),core.Q6J("id",ctx.dso.id)("minLines",3),core.xp6(1),core.Q6J("innerHTML",ctx.dsoTitle,core.oJD),core.xp6(1),core.Q6J("ngIf",ctx.dso.hasMetadata("organization.foundingDate")),core.xp6(1),core.Q6J("ngIf",ctx.dso.hasMetadata("organization.address.addressCountry")),core.xp6(1),core.Q6J("ngIf",ctx.linkType!=ctx.linkTypes.None))},"OrgUnitSearchResultGridElementComponent_Template"),directives:[truncatable_component.n,common.O5,router.yS,thumbnail_component.Z,type_badge_component.F,truncatable_part_component.L],pipes:[common.Ov,ngx_translate_core.X$],styles:[""],data:{animation:[animations_focus.X]}}),OrgUnitSearchResultGridElementComponent=(0,tslib_es6.gn)([(0,listable_object_decorator.d$)("OrgUnitSearchResult",view_mode_model.w.GridElement)],OrgUnitSearchResultGridElementComponent);const org_unit_grid_element_component_c0=__name(function(){return{}},"org_unit_grid_element_component_c0"),org_unit_grid_element_component_c1=__name(function(a0,a1){return{indexableObject:a0,hitHighlights:a1}},"org_unit_grid_element_component_c1");let OrgUnitGridElementComponent=__name(class extends abstract_listable_element_component.i{},"OrgUnitGridElementComponent");OrgUnitGridElementComponent.\u0275fac=function(){let \u0275OrgUnitGridElementComponent_BaseFactory;return __name(function(t){return(\u0275OrgUnitGridElementComponent_BaseFactory||(\u0275OrgUnitGridElementComponent_BaseFactory=core.n5z(OrgUnitGridElementComponent)))(t||OrgUnitGridElementComponent)},"OrgUnitGridElementComponent_Factory")}(),OrgUnitGridElementComponent.\u0275cmp=core.Xpm({type:OrgUnitGridElementComponent,selectors:[["ds-org-unit-grid-element"]],features:[core.qOj],decls:1,vars:7,consts:[[3,"showLabel","object","linkType"]],template:__name(function(rf,ctx){1&rf&&core._UZ(0,"ds-org-unit-search-result-grid-element",0),2&rf&&core.Q6J("showLabel",ctx.showLabel)("object",core.WLB(4,org_unit_grid_element_component_c1,ctx.object,core.DdM(3,org_unit_grid_element_component_c0)))("linkType",ctx.linkType)},"OrgUnitGridElementComponent_Template"),directives:[OrgUnitSearchResultGridElementComponent],styles:[""]}),OrgUnitGridElementComponent=(0,tslib_es6.gn)([(0,listable_object_decorator.d$)("OrgUnit",view_mode_model.w.GridElement)],OrgUnitGridElementComponent);const project_search_result_grid_element_component_c0=__name(function(a0){return[a0]},"project_search_result_grid_element_component_c0");function ProjectSearchResultGridElementComponent_a_5_Template(rf,ctx){if(1&rf&&(core.TgZ(0,"a",11),core.ALo(1,"translate"),core.TgZ(2,"div"),core._UZ(3,"ds-thumbnail",12),core.ALo(4,"async"),core.qZA()()),2&rf){const ctx_r0=core.oxw();core.Q6J("target",ctx_r0.linkType==ctx_r0.linkTypes.ExternalLink?"_blank":"_self")("routerLink",core.VKq(9,project_search_result_grid_element_component_c0,ctx_r0.itemPageRoute)),core.uIk("title",core.lcZ(1,5,"search.results.view-result")),core.xp6(3),core.Q6J("thumbnail",core.lcZ(4,7,null==ctx_r0.dso?null:ctx_r0.dso.thumbnail))("limitWidth",!1)}}function ProjectSearchResultGridElementComponent_span_6_Template(rf,ctx){if(1&rf&&(core.TgZ(0,"span",13)(1,"div"),core._UZ(2,"ds-thumbnail",12),core.ALo(3,"async"),core.qZA()()),2&rf){const ctx_r1=core.oxw();core.xp6(2),core.Q6J("thumbnail",core.lcZ(3,2,null==ctx_r1.dso?null:ctx_r1.dso.thumbnail))("limitWidth",!1)}}function ProjectSearchResultGridElementComponent_ds_type_badge_8_Template(rf,ctx){if(1&rf&&core._UZ(0,"ds-type-badge",14),2&rf){const ctx_r2=core.oxw();core.Q6J("object",ctx_r2.dso)}}function ProjectSearchResultGridElementComponent_p_11_Template(rf,ctx){if(1&rf&&(core.TgZ(0,"p",15)(1,"ds-truncatable-part",16),core._UZ(2,"span",17),core.qZA()()),2&rf){const ctx_r3=core.oxw();core.xp6(1),core.Q6J("id",ctx_r3.dso.id)("minLines",3),core.xp6(1),core.Q6J("innerHTML",ctx_r3.firstMetadataValue("dc.description"),core.oJD)}}function ProjectSearchResultGridElementComponent_div_12_Template(rf,ctx){if(1&rf&&(core.TgZ(0,"div",18)(1,"a",19),core._uU(2),core.ALo(3,"translate"),core.qZA()()),2&rf){const ctx_r4=core.oxw();core.xp6(1),core.Q6J("target",ctx_r4.linkType==ctx_r4.linkTypes.ExternalLink?"_blank":"_self")("routerLink",core.VKq(5,project_search_result_grid_element_component_c0,ctx_r4.itemPageRoute)),core.xp6(1),core.Oqu(core.lcZ(3,3,"search.results.view-result"))}}__name(ProjectSearchResultGridElementComponent_a_5_Template,"ProjectSearchResultGridElementComponent_a_5_Template"),__name(ProjectSearchResultGridElementComponent_span_6_Template,"ProjectSearchResultGridElementComponent_span_6_Template"),__name(ProjectSearchResultGridElementComponent_ds_type_badge_8_Template,"ProjectSearchResultGridElementComponent_ds_type_badge_8_Template"),__name(ProjectSearchResultGridElementComponent_p_11_Template,"ProjectSearchResultGridElementComponent_p_11_Template"),__name(ProjectSearchResultGridElementComponent_div_12_Template,"ProjectSearchResultGridElementComponent_div_12_Template");const project_search_result_grid_element_component_c1=["*","*"];let ProjectSearchResultGridElementComponent=__name(class extends item_search_result_grid_element_component.n{},"ProjectSearchResultGridElementComponent");ProjectSearchResultGridElementComponent.\u0275fac=function(){let \u0275ProjectSearchResultGridElementComponent_BaseFactory;return __name(function(t){return(\u0275ProjectSearchResultGridElementComponent_BaseFactory||(\u0275ProjectSearchResultGridElementComponent_BaseFactory=core.n5z(ProjectSearchResultGridElementComponent)))(t||ProjectSearchResultGridElementComponent)},"ProjectSearchResultGridElementComponent_Factory")}(),ProjectSearchResultGridElementComponent.\u0275cmp=core.Xpm({type:ProjectSearchResultGridElementComponent,selectors:[["ds-project-search-result-grid-element"]],features:[core.qOj],ngContentSelectors:project_search_result_grid_element_component_c1,decls:14,vars:12,consts:[[1,"card"],[3,"id"],[1,"position-absolute","ml-1"],["rel","noopener noreferrer","class","card-img-top full-width",3,"target","routerLink",4,"ngIf"],["class","card-img-top full-width",4,"ngIf"],[1,"card-body"],[3,"object",4,"ngIf"],["type","h4",3,"id","minLines"],[1,"card-title",3,"innerHTML"],["class","item-description card-text text-muted",4,"ngIf"],["class","text-center",4,"ngIf"],["rel","noopener noreferrer",1,"card-img-top","full-width",3,"target","routerLink"],[3,"thumbnail","limitWidth"],[1,"card-img-top","full-width"],[3,"object"],[1,"item-description","card-text","text-muted"],[3,"id","minLines"],[3,"innerHTML"],[1,"text-center"],["rel","noopener noreferrer",1,"lead","btn","btn-primary","viewButton",3,"target","routerLink"]],template:__name(function(rf,ctx){1&rf&&(core.F$t(project_search_result_grid_element_component_c1),core.TgZ(0,"div",0),core.ALo(1,"async"),core.TgZ(2,"ds-truncatable",1)(3,"div",2),core.Hsn(4),core.qZA(),core.YNc(5,ProjectSearchResultGridElementComponent_a_5_Template,5,11,"a",3),core.YNc(6,ProjectSearchResultGridElementComponent_span_6_Template,4,4,"span",4),core.TgZ(7,"div",5),core.YNc(8,ProjectSearchResultGridElementComponent_ds_type_badge_8_Template,1,1,"ds-type-badge",6),core.TgZ(9,"ds-truncatable-part",7),core._UZ(10,"h4",8),core.qZA(),core.YNc(11,ProjectSearchResultGridElementComponent_p_11_Template,3,3,"p",9),core.YNc(12,ProjectSearchResultGridElementComponent_div_12_Template,4,7,"div",10),core.qZA()(),core.Hsn(13,1),core.qZA()),2&rf&&(core.Q6J("@focusShadow",core.lcZ(1,10,ctx.isCollapsed$)?"blur":"focus"),core.xp6(2),core.Q6J("id",ctx.dso.id),core.xp6(3),core.Q6J("ngIf",ctx.linkType!=ctx.linkTypes.None),core.xp6(1),core.Q6J("ngIf",ctx.linkType==ctx.linkTypes.None),core.xp6(2),core.Q6J("ngIf",ctx.showLabel),core.xp6(1),core.Q6J("id",ctx.dso.id)("minLines",3),core.xp6(1),core.Q6J("innerHTML",ctx.dsoTitle,core.oJD),core.xp6(1),core.Q6J("ngIf",ctx.dso.hasMetadata("dc.description")),core.xp6(1),core.Q6J("ngIf",ctx.linkType!=ctx.linkTypes.None))},"ProjectSearchResultGridElementComponent_Template"),directives:[truncatable_component.n,common.O5,router.yS,thumbnail_component.Z,type_badge_component.F,truncatable_part_component.L],pipes:[common.Ov,ngx_translate_core.X$],styles:[""],data:{animation:[animations_focus.X]}}),ProjectSearchResultGridElementComponent=(0,tslib_es6.gn)([(0,listable_object_decorator.d$)("ProjectSearchResult",view_mode_model.w.GridElement)],ProjectSearchResultGridElementComponent);const project_grid_element_component_c0=__name(function(){return{}},"project_grid_element_component_c0"),project_grid_element_component_c1=__name(function(a0,a1){return{indexableObject:a0,hitHighlights:a1}},"project_grid_element_component_c1");let ProjectGridElementComponent=__name(class extends abstract_listable_element_component.i{},"ProjectGridElementComponent");ProjectGridElementComponent.\u0275fac=function(){let \u0275ProjectGridElementComponent_BaseFactory;return __name(function(t){return(\u0275ProjectGridElementComponent_BaseFactory||(\u0275ProjectGridElementComponent_BaseFactory=core.n5z(ProjectGridElementComponent)))(t||ProjectGridElementComponent)},"ProjectGridElementComponent_Factory")}(),ProjectGridElementComponent.\u0275cmp=core.Xpm({type:ProjectGridElementComponent,selectors:[["ds-project-grid-element"]],features:[core.qOj],decls:1,vars:7,consts:[[3,"showLabel","object","linkType"]],template:__name(function(rf,ctx){1&rf&&core._UZ(0,"ds-project-search-result-grid-element",0),2&rf&&core.Q6J("showLabel",ctx.showLabel)("object",core.WLB(4,project_grid_element_component_c1,ctx.object,core.DdM(3,project_grid_element_component_c0)))("linkType",ctx.linkType)},"ProjectGridElementComponent_Template"),directives:[ProjectSearchResultGridElementComponent],styles:[""]}),ProjectGridElementComponent=(0,tslib_es6.gn)([(0,listable_object_decorator.d$)("Project",view_mode_model.w.GridElement)],ProjectGridElementComponent);var metadata_representation_decorator=__webpack_require__(52760),metadata_representation_model=__webpack_require__(52885),item_metadata_representation_list_element_component=__webpack_require__(77049);function PersonItemMetadataListElementComponent_ng_template_0_span_1_span_1_Template(rf,ctx){if(1&rf&&(core.TgZ(0,"span")(1,"span",7),core._UZ(2,"span",7),core.qZA()()),2&rf){const value_r4=ctx.$implicit;core.xp6(1),core.Q6J("innerHTML",value_r4,core.oJD),core.xp6(1),core.Q6J("innerHTML",value_r4,core.oJD)}}__name(PersonItemMetadataListElementComponent_ng_template_0_span_1_span_1_Template,"PersonItemMetadataListElementComponent_ng_template_0_span_1_span_1_Template");const person_item_metadata_list_element_component_c0=__name(function(){return["person.jobTitle"]},"person_item_metadata_list_element_component_c0");function PersonItemMetadataListElementComponent_ng_template_0_span_1_Template(rf,ctx){if(1&rf&&(core.TgZ(0,"span",5),core.YNc(1,PersonItemMetadataListElementComponent_ng_template_0_span_1_span_1_Template,3,2,"span",6),core.qZA()),2&rf){const ctx_r2=core.oxw(2);core.xp6(1),core.Q6J("ngForOf",ctx_r2.metadataRepresentation.allMetadataValues(core.DdM(1,person_item_metadata_list_element_component_c0)))}}function PersonItemMetadataListElementComponent_ng_template_0_Template(rf,ctx){if(1&rf&&(core.TgZ(0,"span",3),core.YNc(1,PersonItemMetadataListElementComponent_ng_template_0_span_1_Template,2,2,"span",4),core.qZA()),2&rf){const ctx_r1=core.oxw();core.xp6(1),core.Q6J("ngIf",ctx_r1.metadataRepresentation.allMetadata(core.DdM(1,person_item_metadata_list_element_component_c0)).length>0)}}__name(PersonItemMetadataListElementComponent_ng_template_0_span_1_Template,"PersonItemMetadataListElementComponent_ng_template_0_span_1_Template"),__name(PersonItemMetadataListElementComponent_ng_template_0_Template,"PersonItemMetadataListElementComponent_ng_template_0_Template");const person_item_metadata_list_element_component_c1=__name(function(a0){return[a0]},"person_item_metadata_list_element_component_c1");let PersonItemMetadataListElementComponent=__name(class extends item_metadata_representation_list_element_component.X{},"PersonItemMetadataListElementComponent");PersonItemMetadataListElementComponent.\u0275fac=function(){let \u0275PersonItemMetadataListElementComponent_BaseFactory;return __name(function(t){return(\u0275PersonItemMetadataListElementComponent_BaseFactory||(\u0275PersonItemMetadataListElementComponent_BaseFactory=core.n5z(PersonItemMetadataListElementComponent)))(t||PersonItemMetadataListElementComponent)},"PersonItemMetadataListElementComponent_Factory")}(),PersonItemMetadataListElementComponent.\u0275cmp=core.Xpm({type:PersonItemMetadataListElementComponent,selectors:[["ds-person-item-metadata-list-element"]],features:[core.qOj],decls:4,vars:7,consts:[["descTemplate",""],[3,"id"],[3,"routerLink","innerHTML","ngbTooltip"],[1,"text-muted"],["class","item-list-job-title",4,"ngIf"],[1,"item-list-job-title"],[4,"ngFor","ngForOf"],[3,"innerHTML"]],template:__name(function(rf,ctx){if(1&rf&&(core.YNc(0,PersonItemMetadataListElementComponent_ng_template_0_Template,2,2,"ng-template",null,0,core.W1O),core.TgZ(2,"ds-truncatable",1),core._UZ(3,"a",2),core.qZA()),2&rf){const _r0=core.MAs(1);core.xp6(2),core.Q6J("id",ctx.metadataRepresentation.id),core.xp6(1),core.Q6J("routerLink",core.VKq(4,person_item_metadata_list_element_component_c1,ctx.itemPageRoute))("innerHTML",ctx.metadataRepresentation.getValue(),core.oJD)("ngbTooltip",ctx.metadataRepresentation.allMetadata(core.DdM(6,person_item_metadata_list_element_component_c0)).length>0?_r0:null)}},"PersonItemMetadataListElementComponent_Template"),directives:[common.O5,common.sg,truncatable_component.n,router.yS,ng_bootstrap._L],encapsulation:2}),PersonItemMetadataListElementComponent=(0,tslib_es6.gn)([(0,metadata_representation_decorator.Bu)("Person",metadata_representation_model.P.Item)],PersonItemMetadataListElementComponent);const org_unit_item_metadata_list_element_component_c0=__name(function(){return["dc.description"]},"org_unit_item_metadata_list_element_component_c0");function OrgUnitItemMetadataListElementComponent_ng_template_0_Template(rf,ctx){if(1&rf&&(core.TgZ(0,"span",3)(1,"span",4),core._UZ(2,"span",5),core.qZA()()),2&rf){const ctx_r1=core.oxw();core.xp6(2),core.Q6J("innerHTML",ctx_r1.metadataRepresentation.firstMetadataValue(core.DdM(1,org_unit_item_metadata_list_element_component_c0)),core.oJD)}}__name(OrgUnitItemMetadataListElementComponent_ng_template_0_Template,"OrgUnitItemMetadataListElementComponent_ng_template_0_Template");const org_unit_item_metadata_list_element_component_c1=__name(function(a0){return[a0]},"org_unit_item_metadata_list_element_component_c1");let OrgUnitItemMetadataListElementComponent=__name(class extends item_metadata_representation_list_element_component.X{},"OrgUnitItemMetadataListElementComponent");OrgUnitItemMetadataListElementComponent.\u0275fac=function(){let \u0275OrgUnitItemMetadataListElementComponent_BaseFactory;return __name(function(t){return(\u0275OrgUnitItemMetadataListElementComponent_BaseFactory||(\u0275OrgUnitItemMetadataListElementComponent_BaseFactory=core.n5z(OrgUnitItemMetadataListElementComponent)))(t||OrgUnitItemMetadataListElementComponent)},"OrgUnitItemMetadataListElementComponent_Factory")}(),OrgUnitItemMetadataListElementComponent.\u0275cmp=core.Xpm({type:OrgUnitItemMetadataListElementComponent,selectors:[["ds-org-unit-item-metadata-list-element"]],features:[core.qOj],decls:4,vars:7,consts:[["descTemplate",""],[3,"id"],[3,"routerLink","innerHTML","ngbTooltip"],[1,"text-muted"],[1,"item-list-job-title"],[3,"innerHTML"]],template:__name(function(rf,ctx){if(1&rf&&(core.YNc(0,OrgUnitItemMetadataListElementComponent_ng_template_0_Template,3,2,"ng-template",null,0,core.W1O),core.TgZ(2,"ds-truncatable",1),core._UZ(3,"a",2),core.qZA()),2&rf){const _r0=core.MAs(1);core.xp6(2),core.Q6J("id",ctx.metadataRepresentation.id),core.xp6(1),core.Q6J("routerLink",core.VKq(4,org_unit_item_metadata_list_element_component_c1,ctx.itemPageRoute))("innerHTML",ctx.metadataRepresentation.getValue(),core.oJD)("ngbTooltip",ctx.metadataRepresentation.allMetadata(core.DdM(6,org_unit_item_metadata_list_element_component_c0)).length>0?_r0:null)}},"OrgUnitItemMetadataListElementComponent_Template"),directives:[truncatable_component.n,router.yS,ng_bootstrap._L],encapsulation:2}),OrgUnitItemMetadataListElementComponent=(0,tslib_es6.gn)([(0,metadata_representation_decorator.Bu)("OrgUnit",metadata_representation_model.P.Item)],OrgUnitItemMetadataListElementComponent);var bitstream_data_service=__webpack_require__(48532),search_result_list_element_component=__webpack_require__(79691),context_model=__webpack_require__(84935),relationship_data_service=__webpack_require__(88002),operators=__webpack_require__(83292),notifications_service=__webpack_require__(82596);const name_variant_modal_component_c0=__name(function(a0){return{value:a0}},"name_variant_modal_component_c0");class NameVariantModalComponent{constructor(modal){this.modal=modal}}__name(NameVariantModalComponent,"NameVariantModalComponent"),NameVariantModalComponent.\u0275fac=__name(function(t){return new(t||NameVariantModalComponent)(core.Y36(ng_bootstrap.Kz))},"NameVariantModalComponent_Factory"),NameVariantModalComponent.\u0275cmp=core.Xpm({type:NameVariantModalComponent,selectors:[["ds-name-variant-modal"]],inputs:{value:"value"},decls:16,vars:12,consts:[[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],[1,"modal-footer","justify-content-between"],["type","button",1,"btn","btn-light","confirm-button",3,"click"],["type","button",1,"btn","btn-light","decline-button",3,"click"]],template:__name(function(rf,ctx){1&rf&&(core.TgZ(0,"div",0)(1,"h4",1),core._uU(2,"New name variant"),core.qZA(),core.TgZ(3,"button",2),core.NdJ("click",__name(function(){return ctx.modal.dismiss("Cross click")},"NameVariantModalComponent_Template_button_click_3_listener")),core.TgZ(4,"span",3),core._uU(5,"\xd7"),core.qZA()()(),core.TgZ(6,"div",4),core._uU(7),core.ALo(8,"translate"),core.qZA(),core.TgZ(9,"div",5)(10,"button",6),core.NdJ("click",__name(function(){return ctx.modal.close()},"NameVariantModalComponent_Template_button_click_10_listener")),core._uU(11),core.ALo(12,"translate"),core.qZA(),core.TgZ(13,"button",7),core.NdJ("click",__name(function(){return ctx.modal.dismiss()},"NameVariantModalComponent_Template_button_click_13_listener")),core._uU(14),core.ALo(15,"translate"),core.qZA()()),2&rf&&(core.xp6(7),core.hij(" ",core.xi3(8,3,"submission.sections.describe.relationship-lookup.name-variant.notification.content",core.VKq(10,name_variant_modal_component_c0,ctx.value)),"\n"),core.xp6(4),core.Oqu(core.lcZ(12,6,"submission.sections.describe.relationship-lookup.name-variant.notification.confirm")),core.xp6(3),core.Oqu(core.lcZ(15,8,"submission.sections.describe.relationship-lookup.name-variant.notification.decline")))},"NameVariantModalComponent_Template"),pipes:[ngx_translate_core.X$],styles:[""]});var metadata_models=__webpack_require__(79300),item_data_service=__webpack_require__(83639),selectable_list_service=__webpack_require__(51117),fesm2015_forms=__webpack_require__(93075),input_suggestions_component=__webpack_require__(28538),click_outside_directive=__webpack_require__(90059),debounce_directive=__webpack_require__(34159);function PersonInputSuggestionsComponent_div_8_Template(rf,ctx){if(1&rf){const _r6=core.EpF();core.TgZ(0,"div")(1,"a",8,9),core.NdJ("click",__name(function(){const suggestionOption_r3=core.CHM(_r6).$implicit;return core.oxw().onClickSuggestion(suggestionOption_r3)},"PersonInputSuggestionsComponent_div_8_Template_a_click_1_listener")),core._UZ(3,"span",10),core.qZA()()}if(2&rf){const suggestionOption_r3=ctx.$implicit;core.xp6(3),core.Q6J("innerHTML",suggestionOption_r3,core.oJD)}}__name(PersonInputSuggestionsComponent_div_8_Template,"PersonInputSuggestionsComponent_div_8_Template");const person_input_suggestions_component_c0=__name(function(a0){return{"is-invalid":a0}},"person_input_suggestions_component_c0"),person_input_suggestions_component_c1=__name(function(){return{standalone:!0}},"person_input_suggestions_component_c1"),person_input_suggestions_component_c2=__name(function(a0){return{show:a0}},"person_input_suggestions_component_c2");class PersonInputSuggestionsComponent extends input_suggestions_component.o{constructor(){super(...arguments),this.suggestions=[]}ngOnInit(){this.suggestions.length>0&&(this.value=this.suggestions[0])}onSubmit(data){data!==this.value&&(this.value=data,this.submitSuggestion.emit(data))}onClickSuggestion(data){return this.value=data,this.clickSuggestion.emit(data),this.close(),this.blockReopen=!0,this.queryInput.nativeElement.focus(),!1}}function PersonSearchResultListSubmissionElementComponent_div_1_a_1_Template(rf,ctx){if(1&rf&&(core.TgZ(0,"a",11),core._UZ(1,"ds-thumbnail",12),core.ALo(2,"async"),core.qZA()),2&rf){const ctx_r2=core.oxw(2);core.Q6J("target",ctx_r2.linkType==ctx_r2.linkTypes.ExternalLink?"_blank":"_self"),core.xp6(1),core.Q6J("thumbnail",core.lcZ(2,5,null==ctx_r2.dso?null:ctx_r2.dso.thumbnail))("defaultImage","assets/images/person-placeholder.svg")("alt","thumbnail.person.alt")("placeholder","thumbnail.person.placeholder")}}function PersonSearchResultListSubmissionElementComponent_div_1_span_2_Template(rf,ctx){if(1&rf&&(core.TgZ(0,"span",13),core._UZ(1,"ds-thumbnail",12),core.ALo(2,"async"),core.qZA()),2&rf){const ctx_r3=core.oxw(2);core.xp6(1),core.Q6J("thumbnail",core.lcZ(2,4,null==ctx_r3.dso?null:ctx_r3.dso.thumbnail))("defaultImage","assets/images/person-placeholder.svg")("alt","thumbnail.person.alt")("placeholder","thumbnail.person.placeholder")}}function PersonSearchResultListSubmissionElementComponent_div_1_Template(rf,ctx){if(1&rf&&(core.TgZ(0,"div",8),core.YNc(1,PersonSearchResultListSubmissionElementComponent_div_1_a_1_Template,3,7,"a",9),core.YNc(2,PersonSearchResultListSubmissionElementComponent_div_1_span_2_Template,3,6,"span",10),core.qZA()),2&rf){const ctx_r0=core.oxw();core.xp6(1),core.Q6J("ngIf",ctx_r0.linkType!=ctx_r0.linkTypes.None),core.xp6(1),core.Q6J("ngIf",ctx_r0.linkType==ctx_r0.linkTypes.None)}}function PersonSearchResultListSubmissionElementComponent_span_7_span_1_Template(rf,ctx){if(1&rf&&(core.TgZ(0,"span")(1,"span",16),core._UZ(2,"span",16),core.qZA()()),2&rf){const value_r5=ctx.$implicit;core.xp6(1),core.Q6J("innerHTML",value_r5,core.oJD),core.xp6(1),core.Q6J("innerHTML",value_r5,core.oJD)}}__name(PersonInputSuggestionsComponent,"PersonInputSuggestionsComponent"),PersonInputSuggestionsComponent.\u0275fac=function(){let \u0275PersonInputSuggestionsComponent_BaseFactory;return __name(function(t){return(\u0275PersonInputSuggestionsComponent_BaseFactory||(\u0275PersonInputSuggestionsComponent_BaseFactory=core.n5z(PersonInputSuggestionsComponent)))(t||PersonInputSuggestionsComponent)},"PersonInputSuggestionsComponent_Factory")}(),PersonInputSuggestionsComponent.\u0275cmp=core.Xpm({type:PersonInputSuggestionsComponent,selectors:[["ds-person-input-suggestions"]],inputs:{suggestions:"suggestions"},features:[core._Bn([{provide:fesm2015_forms.JU,useExisting:(0,core.Gpc)(()=>PersonInputSuggestionsComponent),multi:!0}]),core.qOj],decls:9,vars:16,consts:[[3,"action","ngSubmit","keydown","keydown.arrowdown","keydown.arrowup","keydown.esc","dsClickOutside"],["form","ngForm"],["type","text","autocomplete","off",1,"form-control","suggestion_input",3,"ngModel","name","ngClass","dsDebounce","placeholder","ngModelOptions","focus","blur","click","onDebounce"],["inputField",""],["type","submit",1,"d-none"],[1,"autocomplete","dropdown-menu",3,"ngClass"],[1,"dropdown-list"],[4,"ngFor","ngForOf"],["href","javascript:void(0);",1,"d-block","dropdown-item",3,"click"],["suggestion",""],[3,"innerHTML"]],template:__name(function(rf,ctx){if(1&rf){const _r7=core.EpF();core.TgZ(0,"form",0,1),core.NdJ("ngSubmit",__name(function(){core.CHM(_r7);const _r1=core.MAs(3);return ctx.onSubmit(_r1.value)},"PersonInputSuggestionsComponent_Template_form_ngSubmit_0_listener"))("keydown",__name(function($event){return ctx.onKeydown($event)},"PersonInputSuggestionsComponent_Template_form_keydown_0_listener"))("keydown.arrowdown",__name(function($event){return ctx.shiftFocusDown($event)},"PersonInputSuggestionsComponent_Template_form_keydown_arrowdown_0_listener"))("keydown.arrowup",__name(function($event){return ctx.shiftFocusUp($event)},"PersonInputSuggestionsComponent_Template_form_keydown_arrowup_0_listener"))("keydown.esc",__name(function(){return ctx.close()},"PersonInputSuggestionsComponent_Template_form_keydown_esc_0_listener"))("dsClickOutside",__name(function(){return ctx.close()},"PersonInputSuggestionsComponent_Template_form_dsClickOutside_0_listener")),core.TgZ(2,"input",2,3),core.NdJ("focus",__name(function(){return ctx.open()},"PersonInputSuggestionsComponent_Template_input_focus_2_listener"))("blur",__name(function(){core.CHM(_r7);const _r1=core.MAs(3);return ctx.onSubmit(_r1.value)},"PersonInputSuggestionsComponent_Template_input_blur_2_listener"))("click",__name(function(){return ctx.open()},"PersonInputSuggestionsComponent_Template_input_click_2_listener"))("onDebounce",__name(function($event){return ctx.find($event)},"PersonInputSuggestionsComponent_Template_input_onDebounce_2_listener")),core.qZA(),core._UZ(4,"input",4),core.TgZ(5,"div",5),core.ALo(6,"async"),core.TgZ(7,"div",6),core.YNc(8,PersonInputSuggestionsComponent_div_8_Template,4,1,"div",7),core.qZA()()()}2&rf&&(core.Q6J("action",ctx.action,core.LSH),core.xp6(2),core.Q6J("ngModel",ctx.value)("name",ctx.name)("ngClass",core.VKq(11,person_input_suggestions_component_c0,!ctx.valid))("dsDebounce",ctx.debounceTime)("placeholder",ctx.placeholder)("ngModelOptions",core.DdM(13,person_input_suggestions_component_c1)),core.xp6(3),core.Q6J("ngClass",core.VKq(14,person_input_suggestions_component_c2,core.lcZ(6,9,ctx.show)&&ctx.isNotEmpty(ctx.suggestions))),core.xp6(3),core.Q6J("ngForOf",ctx.suggestions))},"PersonInputSuggestionsComponent_Template"),directives:[fesm2015_forms._Y,fesm2015_forms.JL,fesm2015_forms.F,click_outside_directive._,fesm2015_forms.Fj,fesm2015_forms.JJ,fesm2015_forms.On,debounce_directive.q,common.mk,common.sg],pipes:[common.Ov],styles:['form[_ngcontent-%COMP%]:before{pointer-events:none;position:absolute;font-weight:900;font-family:"Font Awesome 5 Free";content:"\\f0d7";top:7px;right:0;height:20px;width:20px}form[_ngcontent-%COMP%]   input.suggestion_input[_ngcontent-%COMP%]{background:transparent}',".autocomplete[_ngcontent-%COMP%]{width:100%}.autocomplete[_ngcontent-%COMP%]   .dropdown-item[_ngcontent-%COMP%]{white-space:normal;word-break:break-word;padding:var(--bs-input-padding-y) var(--bs-input-padding-x)}.autocomplete[_ngcontent-%COMP%]   .dropdown-item[_ngcontent-%COMP%]:focus{outline:none}form[_ngcontent-%COMP%]{position:relative}"]}),__name(PersonSearchResultListSubmissionElementComponent_div_1_a_1_Template,"PersonSearchResultListSubmissionElementComponent_div_1_a_1_Template"),__name(PersonSearchResultListSubmissionElementComponent_div_1_span_2_Template,"PersonSearchResultListSubmissionElementComponent_div_1_span_2_Template"),__name(PersonSearchResultListSubmissionElementComponent_div_1_Template,"PersonSearchResultListSubmissionElementComponent_div_1_Template"),__name(PersonSearchResultListSubmissionElementComponent_span_7_span_1_Template,"PersonSearchResultListSubmissionElementComponent_span_7_span_1_Template");const person_search_result_list_submission_element_component_c0=__name(function(){return["person.jobTitle"]},"person_search_result_list_submission_element_component_c0");function PersonSearchResultListSubmissionElementComponent_span_7_Template(rf,ctx){if(1&rf&&(core.TgZ(0,"span",14),core.YNc(1,PersonSearchResultListSubmissionElementComponent_span_7_span_1_Template,3,2,"span",15),core.qZA()),2&rf){const ctx_r1=core.oxw();core.xp6(1),core.Q6J("ngForOf",ctx_r1.allMetadataValues(core.DdM(1,person_search_result_list_submission_element_component_c0)))}}__name(PersonSearchResultListSubmissionElementComponent_span_7_Template,"PersonSearchResultListSubmissionElementComponent_span_7_Template");let PersonSearchResultListSubmissionElementComponent=__name(class extends search_result_list_element_component.c{constructor(truncatableService,relationshipService,notificationsService,translateService,modalService,itemDataService,bitstreamDataService,selectableListService,dsoNameService,appConfig){super(truncatableService,dsoNameService,appConfig),this.truncatableService=truncatableService,this.relationshipService=relationshipService,this.notificationsService=notificationsService,this.translateService=translateService,this.modalService=modalService,this.itemDataService=itemDataService,this.bitstreamDataService=bitstreamDataService,this.selectableListService=selectableListService,this.dsoNameService=dsoNameService,this.appConfig=appConfig,this.alternativeField="dc.title.alternative"}ngOnInit(){super.ngOnInit();const defaultValue=this.dsoTitle,alternatives=this.allMetadataValues(this.alternativeField);this.allSuggestions=[defaultValue,...alternatives],this.relationshipService.getNameVariant(this.listID,this.dso.uuid).pipe((0,operators.qn)(1)).subscribe(nameVariant=>{this.selectedName=nameVariant||defaultValue}),this.showThumbnails=this.appConfig.browseBy.showThumbnails}select(value){this.relationshipService.setNameVariant(this.listID,this.dso.uuid,value),this.selectableListService.isObjectSelected(this.listID,this.object).pipe((0,operators.qn)(1)).subscribe(selected=>{selected||this.selectableListService.selectSingle(this.listID,this.object)})}selectCustom(value){this.allSuggestions.includes(value)||this.openModal(value).then(()=>{const newName=new metadata_models.DA;newName.value=value;const existingNames=this.dso.metadata[this.alternativeField]||[],alternativeNames={[this.alternativeField]:[...existingNames,newName]},updatedItem=Object.assign({},this.dso,{metadata:Object.assign(Object.assign({},this.dso.metadata),alternativeNames)});this.itemDataService.update(updatedItem).pipe((0,operators.qn)(1)).subscribe(),this.itemDataService.commitUpdates()}).catch(()=>{}).finally(()=>{this.select(value)})}openModal(value){const modalRef=this.modalService.open(NameVariantModalComponent,{centered:!0});return modalRef.componentInstance.value=value,modalRef.result}},"PersonSearchResultListSubmissionElementComponent");function OrgUnitInputSuggestionsComponent_div_8_Template(rf,ctx){if(1&rf){const _r6=core.EpF();core.TgZ(0,"div")(1,"a",8,9),core.NdJ("click",__name(function(){const suggestionOption_r3=core.CHM(_r6).$implicit;return core.oxw().onClickSuggestion(suggestionOption_r3)},"OrgUnitInputSuggestionsComponent_div_8_Template_a_click_1_listener")),core._UZ(3,"span",10),core.qZA()()}if(2&rf){const suggestionOption_r3=ctx.$implicit;core.xp6(3),core.Q6J("innerHTML",suggestionOption_r3,core.oJD)}}PersonSearchResultListSubmissionElementComponent.\u0275fac=__name(function(t){return new(t||PersonSearchResultListSubmissionElementComponent)(core.Y36(truncatable_service.F),core.Y36(relationship_data_service.U),core.Y36(notifications_service.T),core.Y36(ngx_translate_core.sK),core.Y36(ng_bootstrap.FF),core.Y36(item_data_service.S),core.Y36(bitstream_data_service.J),core.Y36(selectable_list_service.w),core.Y36(dso_name_service._),core.Y36(app_config_interface.q))},"PersonSearchResultListSubmissionElementComponent_Factory"),PersonSearchResultListSubmissionElementComponent.\u0275cmp=core.Xpm({type:PersonSearchResultListSubmissionElementComponent,selectors:[["ds-person-search-result-list-submission-element"]],features:[core.qOj],decls:8,vars:6,consts:[[1,"row"],["class","col-3 col-md-2",4,"ngIf"],[3,"ngClass"],[1,"d-flex"],[1,"flex-grow-1"],[3,"suggestions","ngModel","ngModelChange","clickSuggestion","submitSuggestion"],[1,"text-muted"],["class","item-list-job-title",4,"ngIf"],[1,"col-3","col-md-2"],["rel","noopener noreferrer","class","dont-break-out",3,"target",4,"ngIf"],["class","dont-break-out",4,"ngIf"],["rel","noopener noreferrer",1,"dont-break-out",3,"target"],[3,"thumbnail","defaultImage","alt","placeholder"],[1,"dont-break-out"],[1,"item-list-job-title"],[4,"ngFor","ngForOf"],[3,"innerHTML"]],template:__name(function(rf,ctx){1&rf&&(core.TgZ(0,"div",0),core.YNc(1,PersonSearchResultListSubmissionElementComponent_div_1_Template,3,2,"div",1),core.TgZ(2,"div",2)(3,"div",3)(4,"div",4)(5,"ds-person-input-suggestions",5),core.NdJ("ngModelChange",__name(function($event){return ctx.selectedName=$event},"PersonSearchResultListSubmissionElementComponent_Template_ds_person_input_suggestions_ngModelChange_5_listener"))("clickSuggestion",__name(function($event){return ctx.select($event)},"PersonSearchResultListSubmissionElementComponent_Template_ds_person_input_suggestions_clickSuggestion_5_listener"))("submitSuggestion",__name(function($event){return ctx.selectCustom($event)},"PersonSearchResultListSubmissionElementComponent_Template_ds_person_input_suggestions_submitSuggestion_5_listener")),core.qZA(),core.TgZ(6,"span",6),core.YNc(7,PersonSearchResultListSubmissionElementComponent_span_7_Template,2,2,"span",7),core.qZA()()()()()),2&rf&&(core.xp6(1),core.Q6J("ngIf",ctx.showThumbnails),core.xp6(1),core.Q6J("ngClass",ctx.showThumbnails?"col-9":"col-md-12"),core.xp6(3),core.Q6J("suggestions",ctx.allSuggestions)("ngModel",ctx.selectedName),core.xp6(2),core.Q6J("ngIf",ctx.dso.allMetadata(core.DdM(5,person_search_result_list_submission_element_component_c0)).length>0))},"PersonSearchResultListSubmissionElementComponent_Template"),directives:[common.O5,thumbnail_component.Z,common.mk,PersonInputSuggestionsComponent,fesm2015_forms.JJ,fesm2015_forms.On,common.sg],pipes:[common.Ov],styles:[".person-thumbnail[_ngcontent-%COMP%]{width:var(--ds-submission-relationship-thumbnail-width)}"]}),PersonSearchResultListSubmissionElementComponent=(0,tslib_es6.gn)([(0,listable_object_decorator.d$)("PersonSearchResult",view_mode_model.w.ListElement,context_model._.EntitySearchModalWithNameVariants),(0,tslib_es6.w6)("design:paramtypes",[truncatable_service.F,relationship_data_service.U,notifications_service.T,ngx_translate_core.sK,ng_bootstrap.FF,item_data_service.S,bitstream_data_service.J,selectable_list_service.w,dso_name_service._,Object])],PersonSearchResultListSubmissionElementComponent),__name(OrgUnitInputSuggestionsComponent_div_8_Template,"OrgUnitInputSuggestionsComponent_div_8_Template");const org_unit_input_suggestions_component_c0=__name(function(a0){return{"is-invalid":a0}},"org_unit_input_suggestions_component_c0"),org_unit_input_suggestions_component_c1=__name(function(){return{standalone:!0}},"org_unit_input_suggestions_component_c1"),org_unit_input_suggestions_component_c2=__name(function(a0){return{show:a0}},"org_unit_input_suggestions_component_c2");class OrgUnitInputSuggestionsComponent extends input_suggestions_component.o{constructor(){super(...arguments),this.suggestions=[]}ngOnInit(){this.suggestions.length>0&&(this.value=this.suggestions[0])}onSubmit(data){this.value=data,this.submitSuggestion.emit(data)}onClickSuggestion(data){return this.value=data,this.clickSuggestion.emit(data),this.close(),this.blockReopen=!0,this.queryInput.nativeElement.focus(),!1}}function OrgUnitSearchResultListSubmissionElementComponent_ds_org_unit_input_suggestions_2_Template(rf,ctx){if(1&rf){const _r5=core.EpF();core.TgZ(0,"ds-org-unit-input-suggestions",7),core.NdJ("ngModelChange",__name(function($event){core.CHM(_r5);return core.oxw().selectedName=$event},"OrgUnitSearchResultListSubmissionElementComponent_ds_org_unit_input_suggestions_2_Template_ds_org_unit_input_suggestions_ngModelChange_0_listener"))("clickSuggestion",__name(function($event){return core.CHM(_r5),core.oxw().select($event)},"OrgUnitSearchResultListSubmissionElementComponent_ds_org_unit_input_suggestions_2_Template_ds_org_unit_input_suggestions_clickSuggestion_0_listener"))("submitSuggestion",__name(function($event){return core.CHM(_r5),core.oxw().selectCustom($event)},"OrgUnitSearchResultListSubmissionElementComponent_ds_org_unit_input_suggestions_2_Template_ds_org_unit_input_suggestions_submitSuggestion_0_listener")),core.qZA()}if(2&rf){const ctx_r0=core.oxw();core.Q6J("suggestions",ctx_r0.allSuggestions)("ngModel",ctx_r0.selectedName)}}function OrgUnitSearchResultListSubmissionElementComponent_div_3_Template(rf,ctx){if(1&rf&&core._UZ(0,"div",8),2&rf){const ctx_r1=core.oxw();core.Q6J("innerHTML",ctx_r1.dsoTitle,core.oJD)}}function OrgUnitSearchResultListSubmissionElementComponent_span_5_span_3_Template(rf,ctx){1&rf&&(core.TgZ(0,"span"),core._uU(1,", "),core.qZA())}__name(OrgUnitInputSuggestionsComponent,"OrgUnitInputSuggestionsComponent"),OrgUnitInputSuggestionsComponent.\u0275fac=function(){let \u0275OrgUnitInputSuggestionsComponent_BaseFactory;return __name(function(t){return(\u0275OrgUnitInputSuggestionsComponent_BaseFactory||(\u0275OrgUnitInputSuggestionsComponent_BaseFactory=core.n5z(OrgUnitInputSuggestionsComponent)))(t||OrgUnitInputSuggestionsComponent)},"OrgUnitInputSuggestionsComponent_Factory")}(),OrgUnitInputSuggestionsComponent.\u0275cmp=core.Xpm({type:OrgUnitInputSuggestionsComponent,selectors:[["ds-org-unit-input-suggestions"]],inputs:{suggestions:"suggestions"},features:[core._Bn([{provide:fesm2015_forms.JU,useExisting:(0,core.Gpc)(()=>OrgUnitInputSuggestionsComponent),multi:!0}]),core.qOj],decls:9,vars:16,consts:[[3,"action","ngSubmit","keydown","keydown.arrowdown","keydown.arrowup","keydown.esc","dsClickOutside"],["form","ngForm"],["type","text","autocomplete","off",1,"form-control","suggestion_input",3,"ngModel","name","ngClass","dsDebounce","placeholder","ngModelOptions","ngModelChange","focus","click","onDebounce"],["inputField",""],["type","submit",1,"d-none"],[1,"autocomplete","dropdown-menu",3,"ngClass"],[1,"dropdown-list"],[4,"ngFor","ngForOf"],["href","javascript:void(0);",1,"d-block","dropdown-item",3,"click"],["suggestion",""],[3,"innerHTML"]],template:__name(function(rf,ctx){1&rf&&(core.TgZ(0,"form",0,1),core.NdJ("ngSubmit",__name(function(){return ctx.onSubmit(ctx.value)},"OrgUnitInputSuggestionsComponent_Template_form_ngSubmit_0_listener"))("keydown",__name(function($event){return ctx.onKeydown($event)},"OrgUnitInputSuggestionsComponent_Template_form_keydown_0_listener"))("keydown.arrowdown",__name(function($event){return ctx.shiftFocusDown($event)},"OrgUnitInputSuggestionsComponent_Template_form_keydown_arrowdown_0_listener"))("keydown.arrowup",__name(function($event){return ctx.shiftFocusUp($event)},"OrgUnitInputSuggestionsComponent_Template_form_keydown_arrowup_0_listener"))("keydown.esc",__name(function(){return ctx.close()},"OrgUnitInputSuggestionsComponent_Template_form_keydown_esc_0_listener"))("dsClickOutside",__name(function(){return ctx.close()},"OrgUnitInputSuggestionsComponent_Template_form_dsClickOutside_0_listener")),core.TgZ(2,"input",2,3),core.NdJ("ngModelChange",__name(function($event){return ctx.value=$event},"OrgUnitInputSuggestionsComponent_Template_input_ngModelChange_2_listener"))("focus",__name(function(){return ctx.open()},"OrgUnitInputSuggestionsComponent_Template_input_focus_2_listener"))("click",__name(function(){return ctx.open()},"OrgUnitInputSuggestionsComponent_Template_input_click_2_listener"))("onDebounce",__name(function($event){return ctx.find($event)},"OrgUnitInputSuggestionsComponent_Template_input_onDebounce_2_listener")),core.qZA(),core._UZ(4,"input",4),core.TgZ(5,"div",5),core.ALo(6,"async"),core.TgZ(7,"div",6),core.YNc(8,OrgUnitInputSuggestionsComponent_div_8_Template,4,1,"div",7),core.qZA()()()),2&rf&&(core.Q6J("action",ctx.action,core.LSH),core.xp6(2),core.Q6J("ngModel",ctx.value)("name",ctx.name)("ngClass",core.VKq(11,org_unit_input_suggestions_component_c0,!ctx.valid))("dsDebounce",ctx.debounceTime)("placeholder",ctx.placeholder)("ngModelOptions",core.DdM(13,org_unit_input_suggestions_component_c1)),core.xp6(3),core.Q6J("ngClass",core.VKq(14,org_unit_input_suggestions_component_c2,core.lcZ(6,9,ctx.show)&&ctx.isNotEmpty(ctx.suggestions))),core.xp6(3),core.Q6J("ngForOf",ctx.suggestions))},"OrgUnitInputSuggestionsComponent_Template"),directives:[fesm2015_forms._Y,fesm2015_forms.JL,fesm2015_forms.F,click_outside_directive._,fesm2015_forms.Fj,fesm2015_forms.JJ,fesm2015_forms.On,debounce_directive.q,common.mk,common.sg],pipes:[common.Ov],styles:['form[_ngcontent-%COMP%]{z-index:1}form[_ngcontent-%COMP%]:before{pointer-events:none;position:absolute;font-weight:900;font-family:"Font Awesome 5 Free";content:"\\f0d7";top:7px;right:0;height:20px;width:20px;z-index:-1}form[_ngcontent-%COMP%]   input.suggestion_input[_ngcontent-%COMP%]{background:transparent}',".autocomplete[_ngcontent-%COMP%]{width:100%}.autocomplete[_ngcontent-%COMP%]   .dropdown-item[_ngcontent-%COMP%]{white-space:normal;word-break:break-word;padding:var(--bs-input-padding-y) var(--bs-input-padding-x)}.autocomplete[_ngcontent-%COMP%]   .dropdown-item[_ngcontent-%COMP%]:focus{outline:none}form[_ngcontent-%COMP%]{position:relative}"]}),__name(OrgUnitSearchResultListSubmissionElementComponent_ds_org_unit_input_suggestions_2_Template,"OrgUnitSearchResultListSubmissionElementComponent_ds_org_unit_input_suggestions_2_Template"),__name(OrgUnitSearchResultListSubmissionElementComponent_div_3_Template,"OrgUnitSearchResultListSubmissionElementComponent_div_3_Template"),__name(OrgUnitSearchResultListSubmissionElementComponent_span_5_span_3_Template,"OrgUnitSearchResultListSubmissionElementComponent_span_5_span_3_Template");const org_unit_search_result_list_submission_element_component_c0=__name(function(){return["organization.address.addressLocality"]},"org_unit_search_result_list_submission_element_component_c0");function OrgUnitSearchResultListSubmissionElementComponent_span_5_Template(rf,ctx){if(1&rf&&(core.TgZ(0,"span",9)(1,"span",10),core._UZ(2,"span",10),core.qZA(),core.YNc(3,OrgUnitSearchResultListSubmissionElementComponent_span_5_span_3_Template,2,0,"span",11),core.qZA()),2&rf){const ctx_r2=core.oxw();core.xp6(1),core.Q6J("innerHTML",ctx_r2.firstMetadataValue(core.DdM(3,org_unit_search_result_list_submission_element_component_c0)),core.oJD),core.xp6(1),core.Q6J("innerHTML",ctx_r2.firstMetadataValue(core.DdM(4,org_unit_search_result_list_submission_element_component_c0)),core.oJD),core.xp6(1),core.Q6J("ngIf",ctx_r2.dso.allMetadata("organization.address.addressCountry").length>0)}}__name(OrgUnitSearchResultListSubmissionElementComponent_span_5_Template,"OrgUnitSearchResultListSubmissionElementComponent_span_5_Template");const org_unit_search_result_list_submission_element_component_c1=__name(function(){return["organization.address.addressCountry"]},"org_unit_search_result_list_submission_element_component_c1");function OrgUnitSearchResultListSubmissionElementComponent_span_6_Template(rf,ctx){if(1&rf&&(core.TgZ(0,"span",12)(1,"span",10),core._UZ(2,"span",10),core.qZA()()),2&rf){const ctx_r3=core.oxw();core.xp6(1),core.Q6J("innerHTML",ctx_r3.firstMetadataValue(core.DdM(2,org_unit_search_result_list_submission_element_component_c1)),core.oJD),core.xp6(1),core.Q6J("innerHTML",ctx_r3.firstMetadataValue(core.DdM(3,org_unit_search_result_list_submission_element_component_c1)),core.oJD)}}__name(OrgUnitSearchResultListSubmissionElementComponent_span_6_Template,"OrgUnitSearchResultListSubmissionElementComponent_span_6_Template");let OrgUnitSearchResultListSubmissionElementComponent=__name(class extends search_result_list_element_component.c{constructor(truncatableService,relationshipService,notificationsService,translateService,modalService,itemDataService,bitstreamDataService,selectableListService,dsoNameService,appConfig){super(truncatableService,dsoNameService,appConfig),this.truncatableService=truncatableService,this.relationshipService=relationshipService,this.notificationsService=notificationsService,this.translateService=translateService,this.modalService=modalService,this.itemDataService=itemDataService,this.bitstreamDataService=bitstreamDataService,this.selectableListService=selectableListService,this.dsoNameService=dsoNameService,this.appConfig=appConfig,this.alternativeField="dc.title.alternative",this.useNameVariants=!1}ngOnInit(){if(super.ngOnInit(),this.useNameVariants=this.context===context_model._.EntitySearchModalWithNameVariants,this.useNameVariants){const defaultValue=this.dsoTitle,alternatives=this.allMetadataValues(this.alternativeField);this.allSuggestions=[defaultValue,...alternatives],this.relationshipService.getNameVariant(this.listID,this.dso.uuid).pipe((0,operators.qn)(1)).subscribe(nameVariant=>{this.selectedName=nameVariant||defaultValue})}this.showThumbnails=this.appConfig.browseBy.showThumbnails}select(value){this.selectableListService.isObjectSelected(this.listID,this.object).pipe((0,operators.qn)(1)).subscribe(selected=>{selected||this.selectableListService.selectSingle(this.listID,this.object)}),this.relationshipService.setNameVariant(this.listID,this.dso.uuid,value)}selectCustom(value){this.allSuggestions.includes(value)||this.openModal(value).then(()=>{const newName=new metadata_models.DA;newName.value=value;const existingNames=this.dso.metadata[this.alternativeField]||[],alternativeNames={[this.alternativeField]:[...existingNames,newName]},updatedItem=Object.assign({},this.dso,{metadata:Object.assign(Object.assign({},this.dso.metadata),alternativeNames)});this.itemDataService.update(updatedItem).pipe((0,operators.qn)(1)).subscribe()}).catch(()=>{}).finally(()=>{this.select(value)})}openModal(value){const modalRef=this.modalService.open(NameVariantModalComponent,{centered:!0});return modalRef.componentInstance.value=value,modalRef.result}},"OrgUnitSearchResultListSubmissionElementComponent");OrgUnitSearchResultListSubmissionElementComponent.\u0275fac=__name(function(t){return new(t||OrgUnitSearchResultListSubmissionElementComponent)(core.Y36(truncatable_service.F),core.Y36(relationship_data_service.U),core.Y36(notifications_service.T),core.Y36(ngx_translate_core.sK),core.Y36(ng_bootstrap.FF),core.Y36(item_data_service.S),core.Y36(bitstream_data_service.J),core.Y36(selectable_list_service.w),core.Y36(dso_name_service._),core.Y36(app_config_interface.q))},"OrgUnitSearchResultListSubmissionElementComponent_Factory"),OrgUnitSearchResultListSubmissionElementComponent.\u0275cmp=core.Xpm({type:OrgUnitSearchResultListSubmissionElementComponent,selectors:[["ds-person-search-result-list-submission-element"]],features:[core.qOj],decls:7,vars:4,consts:[[1,"d-flex"],[1,"flex-grow-1"],[3,"suggestions","ngModel","ngModelChange","clickSuggestion","submitSuggestion",4,"ngIf"],["class","lead",3,"innerHTML",4,"ngIf"],[1,"text-muted"],["class","item-list-address-locality",4,"ngIf"],["class","item-list-address-country",4,"ngIf"],[3,"suggestions","ngModel","ngModelChange","clickSuggestion","submitSuggestion"],[1,"lead",3,"innerHTML"],[1,"item-list-address-locality"],[3,"innerHTML"],[4,"ngIf"],[1,"item-list-address-country"]],template:__name(function(rf,ctx){1&rf&&(core.TgZ(0,"div",0)(1,"div",1),core.YNc(2,OrgUnitSearchResultListSubmissionElementComponent_ds_org_unit_input_suggestions_2_Template,1,2,"ds-org-unit-input-suggestions",2),core.YNc(3,OrgUnitSearchResultListSubmissionElementComponent_div_3_Template,1,1,"div",3),core.TgZ(4,"span",4),core.YNc(5,OrgUnitSearchResultListSubmissionElementComponent_span_5_Template,4,5,"span",5),core.YNc(6,OrgUnitSearchResultListSubmissionElementComponent_span_6_Template,3,4,"span",6),core.qZA()()()),2&rf&&(core.xp6(2),core.Q6J("ngIf",ctx.useNameVariants),core.xp6(1),core.Q6J("ngIf",!ctx.useNameVariants),core.xp6(2),core.Q6J("ngIf",ctx.dso.allMetadata("organization.address.addressLocality").length>0),core.xp6(1),core.Q6J("ngIf",ctx.dso.allMetadata("organization.address.addressCountry").length>0))},"OrgUnitSearchResultListSubmissionElementComponent_Template"),directives:[common.O5,OrgUnitInputSuggestionsComponent,fesm2015_forms.JJ,fesm2015_forms.On],styles:[".person-thumbnail[_ngcontent-%COMP%]{width:var(--ds-submission-relationship-thumbnail-width)}"]}),OrgUnitSearchResultListSubmissionElementComponent=(0,tslib_es6.gn)([(0,listable_object_decorator.d$)("OrgUnitSearchResult",view_mode_model.w.ListElement,context_model._.EntitySearchModal),(0,listable_object_decorator.d$)("OrgUnitSearchResult",view_mode_model.w.ListElement,context_model._.EntitySearchModalWithNameVariants),(0,tslib_es6.w6)("design:paramtypes",[truncatable_service.F,relationship_data_service.U,notifications_service.T,ngx_translate_core.sK,ng_bootstrap.FF,item_data_service.S,bitstream_data_service.J,selectable_list_service.w,dso_name_service._,Object])],OrgUnitSearchResultListSubmissionElementComponent);var external_source_entry_model=__webpack_require__(56237),metadata_utils=__webpack_require__(94569);function ExternalSourceEntryListSubmissionElementComponent_div_3_Template(rf,ctx){if(1&rf&&(core.TgZ(0,"div")(1,"a",2),core._uU(2),core.qZA()()),2&rf){const ctx_r0=core.oxw();core.xp6(1),core.Q6J("href",ctx_r0.uri.value,core.LSH),core.xp6(1),core.Oqu(ctx_r0.uri.value)}}__name(ExternalSourceEntryListSubmissionElementComponent_div_3_Template,"ExternalSourceEntryListSubmissionElementComponent_div_3_Template");let ExternalSourceEntryListSubmissionElementComponent=__name(class extends abstract_listable_element_component.i{ngOnInit(){this.uri=metadata_utils.S.first(this.object.metadata,"dc.identifier.uri")}},"ExternalSourceEntryListSubmissionElementComponent");ExternalSourceEntryListSubmissionElementComponent.\u0275fac=function(){let \u0275ExternalSourceEntryListSubmissionElementComponent_BaseFactory;return __name(function(t){return(\u0275ExternalSourceEntryListSubmissionElementComponent_BaseFactory||(\u0275ExternalSourceEntryListSubmissionElementComponent_BaseFactory=core.n5z(ExternalSourceEntryListSubmissionElementComponent)))(t||ExternalSourceEntryListSubmissionElementComponent)},"ExternalSourceEntryListSubmissionElementComponent_Factory")}(),ExternalSourceEntryListSubmissionElementComponent.\u0275cmp=core.Xpm({type:ExternalSourceEntryListSubmissionElementComponent,selectors:[["ds-external-source-entry-list-submission-element"]],features:[core.qOj],decls:4,vars:2,consts:[[1,"d-inline-block"],[4,"ngIf"],["target","_blank",3,"href"]],template:__name(function(rf,ctx){1&rf&&(core.TgZ(0,"div",0)(1,"div"),core._uU(2),core.qZA(),core.YNc(3,ExternalSourceEntryListSubmissionElementComponent_div_3_Template,3,2,"div",1),core.qZA()),2&rf&&(core.xp6(2),core.Oqu(ctx.object.display),core.xp6(1),core.Q6J("ngIf",ctx.uri))},"ExternalSourceEntryListSubmissionElementComponent_Template"),directives:[common.O5],styles:[""]}),ExternalSourceEntryListSubmissionElementComponent=(0,tslib_es6.gn)([(0,listable_object_decorator.d$)(external_source_entry_model.T,view_mode_model.w.ListElement,context_model._.EntitySearchModal),(0,listable_object_decorator.d$)(external_source_entry_model.T,view_mode_model.w.ListElement,context_model._.EntitySearchModalWithNameVariants)],ExternalSourceEntryListSubmissionElementComponent);var sidebar_search_list_element_component=__webpack_require__(39283);function OrgUnitSidebarSearchListElementComponent_ds_truncatable_part_7_Template(rf,ctx){if(1&rf&&(core.TgZ(0,"ds-truncatable-part",0),core._UZ(1,"div",4),core.qZA()),2&rf){const ctx_r0=core.oxw();core.Q6J("maxLines",1)("background",ctx_r0.isCurrent()?"primary":"default")("showToggle",!1),core.xp6(1),core.Q6J("ngClass",ctx_r0.isCurrent()?"text-light":"text-secondary")("innerHTML",ctx_r0.description,core.oJD)}}__name(OrgUnitSidebarSearchListElementComponent_ds_truncatable_part_7_Template,"OrgUnitSidebarSearchListElementComponent_ds_truncatable_part_7_Template");let OrgUnitSidebarSearchListElementComponent=__name(class extends sidebar_search_list_element_component.l{getDescription(){return this.firstMetadataValue("dc.description")}},"OrgUnitSidebarSearchListElementComponent");OrgUnitSidebarSearchListElementComponent.\u0275fac=function(){let \u0275OrgUnitSidebarSearchListElementComponent_BaseFactory;return __name(function(t){return(\u0275OrgUnitSidebarSearchListElementComponent_BaseFactory||(\u0275OrgUnitSidebarSearchListElementComponent_BaseFactory=core.n5z(OrgUnitSidebarSearchListElementComponent)))(t||OrgUnitSidebarSearchListElementComponent)},"OrgUnitSidebarSearchListElementComponent_Factory")}(),OrgUnitSidebarSearchListElementComponent.\u0275cmp=core.Xpm({type:OrgUnitSidebarSearchListElementComponent,selectors:[["ds-org-unit-sidebar-search-list-element"]],features:[core.qOj],decls:8,vars:17,consts:[[3,"maxLines","background","showToggle"],[3,"ngClass","innerHTML"],[1,"font-weight-bold",3,"ngClass","innerHTML"],[3,"maxLines","background","showToggle",4,"ngIf"],[1,"text-secondary",3,"ngClass","innerHTML"]],template:__name(function(rf,ctx){1&rf&&(core.TgZ(0,"ds-truncatable-part",0),core._UZ(1,"div",1),core.ALo(2,"async"),core.ALo(3,"async"),core.ALo(4,"translate"),core.qZA(),core.TgZ(5,"ds-truncatable-part",0),core._UZ(6,"div",2),core.qZA(),core.YNc(7,OrgUnitSidebarSearchListElementComponent_ds_truncatable_part_7_Template,2,5,"ds-truncatable-part",3)),2&rf&&(core.Q6J("maxLines",1)("background",ctx.isCurrent()?"primary":"default")("showToggle",!1),core.xp6(1),core.Q6J("ngClass",ctx.isCurrent()?"text-light":"text-body")("innerHTML",core.lcZ(2,11,ctx.parentTitle$&&ctx.parentTitle$)?core.lcZ(3,13,ctx.parentTitle$):core.lcZ(4,15,"home.breadcrumbs"),core.oJD),core.xp6(4),core.Q6J("maxLines",1)("background",ctx.isCurrent()?"primary":"default")("showToggle",!1),core.xp6(1),core.Q6J("ngClass",ctx.isCurrent()?"text-light":"text-primary")("innerHTML",ctx.dsoTitle,core.oJD),core.xp6(1),core.Q6J("ngIf",ctx.description))},"OrgUnitSidebarSearchListElementComponent_Template"),directives:[truncatable_part_component.L,common.mk,common.O5],pipes:[common.Ov,ngx_translate_core.X$],encapsulation:2}),OrgUnitSidebarSearchListElementComponent=(0,tslib_es6.gn)([(0,listable_object_decorator.d$)("OrgUnitSearchResult",view_mode_model.w.ListElement,context_model._.SideBarSearchModal),(0,listable_object_decorator.d$)("OrgUnitSearchResult",view_mode_model.w.ListElement,context_model._.SideBarSearchModalCurrent)],OrgUnitSidebarSearchListElementComponent);var empty_util=__webpack_require__(24702),link_service=__webpack_require__(94476);function PersonSidebarSearchListElementComponent_ds_truncatable_part_7_Template(rf,ctx){if(1&rf&&(core.TgZ(0,"ds-truncatable-part",0),core._UZ(1,"div",4),core.qZA()),2&rf){const ctx_r0=core.oxw();core.Q6J("maxLines",1)("background",ctx_r0.isCurrent()?"primary":"default")("showToggle",!1),core.xp6(1),core.Q6J("ngClass",ctx_r0.isCurrent()?"text-light":"text-secondary")("innerHTML",ctx_r0.description,core.oJD)}}__name(PersonSidebarSearchListElementComponent_ds_truncatable_part_7_Template,"PersonSidebarSearchListElementComponent_ds_truncatable_part_7_Template");let PersonSidebarSearchListElementComponent=__name(class extends sidebar_search_list_element_component.l{constructor(truncatableService,linkService,translateService,dsoNameService){super(truncatableService,linkService,dsoNameService),this.truncatableService=truncatableService,this.linkService=linkService,this.translateService=translateService,this.dsoNameService=dsoNameService}getDescription(){const titles=this.allMetadataValues(["person.jobTitle"]);let description="";return(0,empty_util.UE)(titles)&&(description+=titles.join(", ")),this.undefinedIfEmpty(description)}},"PersonSidebarSearchListElementComponent");function ProjectSidebarSearchListElementComponent_ds_truncatable_part_7_Template(rf,ctx){if(1&rf&&(core.TgZ(0,"ds-truncatable-part",0),core._UZ(1,"div",4),core.qZA()),2&rf){const ctx_r0=core.oxw();core.Q6J("maxLines",1)("background",ctx_r0.isCurrent()?"primary":"default")("showToggle",!1),core.xp6(1),core.Q6J("ngClass",ctx_r0.isCurrent()?"text-light":"text-secondary")("innerHTML",ctx_r0.description,core.oJD)}}PersonSidebarSearchListElementComponent.\u0275fac=__name(function(t){return new(t||PersonSidebarSearchListElementComponent)(core.Y36(truncatable_service.F),core.Y36(link_service.M),core.Y36(ngx_translate_core.sK),core.Y36(dso_name_service._))},"PersonSidebarSearchListElementComponent_Factory"),PersonSidebarSearchListElementComponent.\u0275cmp=core.Xpm({type:PersonSidebarSearchListElementComponent,selectors:[["ds-person-sidebar-search-list-element"]],features:[core.qOj],decls:8,vars:17,consts:[[3,"maxLines","background","showToggle"],[3,"ngClass","innerHTML"],[1,"font-weight-bold",3,"ngClass","innerHTML"],[3,"maxLines","background","showToggle",4,"ngIf"],[1,"text-secondary",3,"ngClass","innerHTML"]],template:__name(function(rf,ctx){1&rf&&(core.TgZ(0,"ds-truncatable-part",0),core._UZ(1,"div",1),core.ALo(2,"async"),core.ALo(3,"async"),core.ALo(4,"translate"),core.qZA(),core.TgZ(5,"ds-truncatable-part",0),core._UZ(6,"div",2),core.qZA(),core.YNc(7,PersonSidebarSearchListElementComponent_ds_truncatable_part_7_Template,2,5,"ds-truncatable-part",3)),2&rf&&(core.Q6J("maxLines",1)("background",ctx.isCurrent()?"primary":"default")("showToggle",!1),core.xp6(1),core.Q6J("ngClass",ctx.isCurrent()?"text-light":"text-body")("innerHTML",core.lcZ(2,11,ctx.parentTitle$&&ctx.parentTitle$)?core.lcZ(3,13,ctx.parentTitle$):core.lcZ(4,15,"home.breadcrumbs"),core.oJD),core.xp6(4),core.Q6J("maxLines",1)("background",ctx.isCurrent()?"primary":"default")("showToggle",!1),core.xp6(1),core.Q6J("ngClass",ctx.isCurrent()?"text-light":"text-primary")("innerHTML",ctx.dsoTitle,core.oJD),core.xp6(1),core.Q6J("ngIf",ctx.description))},"PersonSidebarSearchListElementComponent_Template"),directives:[truncatable_part_component.L,common.mk,common.O5],pipes:[common.Ov,ngx_translate_core.X$],encapsulation:2}),PersonSidebarSearchListElementComponent=(0,tslib_es6.gn)([(0,listable_object_decorator.d$)("PersonSearchResult",view_mode_model.w.ListElement,context_model._.SideBarSearchModal),(0,listable_object_decorator.d$)("PersonSearchResult",view_mode_model.w.ListElement,context_model._.SideBarSearchModalCurrent),(0,tslib_es6.w6)("design:paramtypes",[truncatable_service.F,link_service.M,ngx_translate_core.sK,dso_name_service._])],PersonSidebarSearchListElementComponent),__name(ProjectSidebarSearchListElementComponent_ds_truncatable_part_7_Template,"ProjectSidebarSearchListElementComponent_ds_truncatable_part_7_Template");let ProjectSidebarSearchListElementComponent=__name(class extends sidebar_search_list_element_component.l{getDescription(){}},"ProjectSidebarSearchListElementComponent");ProjectSidebarSearchListElementComponent.\u0275fac=function(){let \u0275ProjectSidebarSearchListElementComponent_BaseFactory;return __name(function(t){return(\u0275ProjectSidebarSearchListElementComponent_BaseFactory||(\u0275ProjectSidebarSearchListElementComponent_BaseFactory=core.n5z(ProjectSidebarSearchListElementComponent)))(t||ProjectSidebarSearchListElementComponent)},"ProjectSidebarSearchListElementComponent_Factory")}(),ProjectSidebarSearchListElementComponent.\u0275cmp=core.Xpm({type:ProjectSidebarSearchListElementComponent,selectors:[["ds-project-sidebar-search-list-element"]],features:[core.qOj],decls:8,vars:17,consts:[[3,"maxLines","background","showToggle"],[3,"ngClass","innerHTML"],[1,"font-weight-bold",3,"ngClass","innerHTML"],[3,"maxLines","background","showToggle",4,"ngIf"],[1,"text-secondary",3,"ngClass","innerHTML"]],template:__name(function(rf,ctx){1&rf&&(core.TgZ(0,"ds-truncatable-part",0),core._UZ(1,"div",1),core.ALo(2,"async"),core.ALo(3,"async"),core.ALo(4,"translate"),core.qZA(),core.TgZ(5,"ds-truncatable-part",0),core._UZ(6,"div",2),core.qZA(),core.YNc(7,ProjectSidebarSearchListElementComponent_ds_truncatable_part_7_Template,2,5,"ds-truncatable-part",3)),2&rf&&(core.Q6J("maxLines",1)("background",ctx.isCurrent()?"primary":"default")("showToggle",!1),core.xp6(1),core.Q6J("ngClass",ctx.isCurrent()?"text-light":"text-body")("innerHTML",core.lcZ(2,11,ctx.parentTitle$&&ctx.parentTitle$)?core.lcZ(3,13,ctx.parentTitle$):core.lcZ(4,15,"home.breadcrumbs"),core.oJD),core.xp6(4),core.Q6J("maxLines",1)("background",ctx.isCurrent()?"primary":"default")("showToggle",!1),core.xp6(1),core.Q6J("ngClass",ctx.isCurrent()?"text-light":"text-primary")("innerHTML",ctx.dsoTitle,core.oJD),core.xp6(1),core.Q6J("ngIf",ctx.description))},"ProjectSidebarSearchListElementComponent_Template"),directives:[truncatable_part_component.L,common.mk,common.O5],pipes:[common.Ov,ngx_translate_core.X$],encapsulation:2}),ProjectSidebarSearchListElementComponent=(0,tslib_es6.gn)([(0,listable_object_decorator.d$)("ProjectSearchResult",view_mode_model.w.ListElement,context_model._.SideBarSearchModal),(0,listable_object_decorator.d$)("ProjectSearchResult",view_mode_model.w.ListElement,context_model._.SideBarSearchModalCurrent)],ProjectSidebarSearchListElementComponent);var item_shared_module=__webpack_require__(43302);const ENTRY_COMPONENTS=[OrgUnitComponent,PersonComponent,ProjectComponent,OrgUnitListElementComponent,OrgUnitItemMetadataListElementComponent,PersonListElementComponent,PersonItemMetadataListElementComponent,ProjectListElementComponent,PersonGridElementComponent,OrgUnitGridElementComponent,ProjectGridElementComponent,OrgUnitSearchResultListElementComponent,PersonSearchResultListElementComponent,ProjectSearchResultListElementComponent,PersonSearchResultGridElementComponent,OrgUnitSearchResultGridElementComponent,ProjectSearchResultGridElementComponent,PersonSearchResultListSubmissionElementComponent,OrgUnitSearchResultListSubmissionElementComponent,OrgUnitInputSuggestionsComponent,ExternalSourceEntryListSubmissionElementComponent,OrgUnitSidebarSearchListElementComponent,PersonSidebarSearchListElementComponent,ProjectSidebarSearchListElementComponent];class ResearchEntitiesModule{static withEntryComponents(){return{ngModule:ResearchEntitiesModule,providers:ENTRY_COMPONENTS.map(component=>({provide:component}))}}}__name(ResearchEntitiesModule,"ResearchEntitiesModule"),ResearchEntitiesModule.\u0275fac=__name(function(t){return new(t||ResearchEntitiesModule)},"ResearchEntitiesModule_Factory"),ResearchEntitiesModule.\u0275mod=core.oAB({type:ResearchEntitiesModule}),ResearchEntitiesModule.\u0275inj=core.cJS({imports:[[common.ez,item_shared_module.e,shared_module.m,ng_bootstrap.HK]]})},84254:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{M0:()=>ITEM_EDIT_WITHDRAW_PATH,Pu:()=>ITEM_EDIT_REINSTATE_PATH,X$:()=>ITEM_EDIT_PRIVATE_PATH,dI:()=>ITEM_EDIT_PUBLIC_PATH,kJ:()=>ITEM_EDIT_DELETE_PATH,Gr:()=>ITEM_EDIT_MOVE_PATH,N:()=>ITEM_EDIT_AUTHORIZATIONS_PATH});const ITEM_EDIT_WITHDRAW_PATH="withdraw",ITEM_EDIT_REINSTATE_PATH="reinstate",ITEM_EDIT_PRIVATE_PATH="private",ITEM_EDIT_PUBLIC_PATH="public",ITEM_EDIT_DELETE_PATH="delete",ITEM_EDIT_MOVE_PATH="move",ITEM_EDIT_AUTHORIZATIONS_PATH="authorizations"},43302:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{e:()=>ItemSharedModule});var _simple_related_entities_related_entities_search_related_entities_search_component__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(5893),_angular_common__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(69808),_shared_search_search_module__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(57262),_shared_shared_module__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(57981),_ngx_translate_core__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(42466),_ng_dynamic_forms_core__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(87098),_shared_form_builder_ds_dynamic_form_ui_ds_dynamic_form_control_container_component__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(66212),_simple_related_entities_tabbed_related_entities_search_tabbed_related_entities_search_component__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(67797),_angular_core__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(5e3);_simple_related_entities_related_entities_search_related_entities_search_component__WEBPACK_IMPORTED_MODULE_0__.T,_simple_related_entities_tabbed_related_entities_search_tabbed_related_entities_search_component__WEBPACK_IMPORTED_MODULE_4__.i;class ItemSharedModule{}__name(ItemSharedModule,"ItemSharedModule"),ItemSharedModule.\u0275fac=__name(function(t){return new(t||ItemSharedModule)},"ItemSharedModule_Factory"),ItemSharedModule.\u0275mod=_angular_core__WEBPACK_IMPORTED_MODULE_5__.oAB({type:ItemSharedModule}),ItemSharedModule.\u0275inj=_angular_core__WEBPACK_IMPORTED_MODULE_5__.cJS({providers:[{provide:_ng_dynamic_forms_core__WEBPACK_IMPORTED_MODULE_6__.y8$,useValue:_shared_form_builder_ds_dynamic_form_ui_ds_dynamic_form_control_container_component__WEBPACK_IMPORTED_MODULE_3__._}],imports:[[_angular_common__WEBPACK_IMPORTED_MODULE_7__.ez,_shared_search_search_module__WEBPACK_IMPORTED_MODULE_1__.t,_shared_shared_module__WEBPACK_IMPORTED_MODULE_2__.m,_ngx_translate_core__WEBPACK_IMPORTED_MODULE_8__.aw]]})},54221:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{P:()=>ItemComponent});var environment=__webpack_require__(21540),item_page_routing_paths=(__webpack_require__(33609),__webpack_require__(40747)),route_service=__webpack_require__(5360),operators=__webpack_require__(83292),router=__webpack_require__(74202);const isIiifEnabled=__name(item=>!!item.firstMetadataValue("dspace.iiif.enabled"),"isIiifEnabled"),isIiifSearchEnabled=__name(item=>!!item.firstMetadataValue("iiif.search.enabled"),"isIiifSearchEnabled"),getDSpaceQuery=__name((item,routeService)=>routeService.getPreviousUrl().pipe((0,operators.hX)(r=>r.includes("/search")),(0,operators.UI)(r=>(new router.sz).parse(r).queryParamMap.get("query")),(0,operators.qn)(1)),"getDSpaceQuery");var core=__webpack_require__(5e3);class ItemComponent{constructor(routeService){this.routeService=routeService,this.mediaViewer=environment.N.mediaViewer}ngOnInit(){this.itemPageRoute=(0,item_page_routing_paths.Tt)(this.object),this.iiifEnabled=isIiifEnabled(this.object),this.iiifSearchEnabled=isIiifSearchEnabled(this.object),this.iiifSearchEnabled&&(this.iiifQuery$=getDSpaceQuery(this.object,this.routeService))}}__name(ItemComponent,"ItemComponent"),ItemComponent.\u0275fac=__name(function(t){return new(t||ItemComponent)(core.Y36(route_service.MZ))},"ItemComponent_Factory"),ItemComponent.\u0275cmp=core.Xpm({type:ItemComponent,selectors:[["ds-item"]],inputs:{object:"object"},decls:0,vars:0,template:__name(function(rf,ctx){},"ItemComponent_Template"),encapsulation:2})},46659:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{d:()=>VersionedItemComponent});var _shared_item_component__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(54221),_shared_item_item_versions_item_versions_summary_modal_item_versions_summary_modal_component__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(63140),_core_shared_operators__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(13730),rxjs_operators__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(83292),_core_data_version_history_data_service__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(65120),_core_data_version_data_service__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(6164),_shared_item_item_versions_item_versions_shared_service__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(8960),_core_submission_workspaceitem_data_service__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(85019),_core_shared_search_search_service__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(5164),_core_data_item_data_service__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(83639),_core_services_route_service__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(5360),_angular_core__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(5e3),_ng_bootstrap_ng_bootstrap__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(13707),_ngx_translate_core__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__(42466),_angular_router__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__(74202);class VersionedItemComponent extends _shared_item_component__WEBPACK_IMPORTED_MODULE_0__.P{constructor(modalService,versionHistoryService,translateService,versionService,itemVersionShared,router,workspaceItemDataService,searchService,itemService,routeService){super(routeService),this.modalService=modalService,this.versionHistoryService=versionHistoryService,this.translateService=translateService,this.versionService=versionService,this.itemVersionShared=itemVersionShared,this.router=router,this.workspaceItemDataService=workspaceItemDataService,this.searchService=searchService,this.itemService=itemService,this.routeService=routeService}onCreateNewVersion(){const item=this.object,versionHref=item._links.version.href,activeModal=this.modalService.open(_shared_item_item_versions_item_versions_summary_modal_item_versions_summary_modal_component__WEBPACK_IMPORTED_MODULE_1__.u);this.versionService.findByHref(versionHref).pipe((0,_core_shared_operators__WEBPACK_IMPORTED_MODULE_2__.hC)()).subscribe(res=>{activeModal.componentInstance.firstVersion=res.hasNoContent,activeModal.componentInstance.versionNumber=res.hasNoContent?void 0:res.payload.version}),activeModal.componentInstance.createVersionEvent.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_10__.wt)(summary=>this.versionHistoryService.createVersion(item._links.self.href,summary)),(0,_core_shared_operators__WEBPACK_IMPORTED_MODULE_2__.hC)(),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_10__.bw)(()=>activeModal.close()),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_10__.bw)(res=>{this.itemVersionShared.notifyCreateNewVersion(res)}),(0,_core_shared_operators__WEBPACK_IMPORTED_MODULE_2__.Gp)(),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_10__.wt)(newVersion=>this.itemService.findByHref(newVersion._links.item.href)),(0,_core_shared_operators__WEBPACK_IMPORTED_MODULE_2__.Gp)(),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_10__.wt)(newVersionItem=>this.workspaceItemDataService.findByItem(newVersionItem.uuid,!0,!1)),(0,_core_shared_operators__WEBPACK_IMPORTED_MODULE_2__.Gp)()).subscribe(wsItem=>{const route="workspaceitems/"+wsItem.id+"/edit";this.router.navigateByUrl(route)})}}__name(VersionedItemComponent,"VersionedItemComponent"),VersionedItemComponent.\u0275fac=__name(function(t){return new(t||VersionedItemComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_11__.Y36(_ng_bootstrap_ng_bootstrap__WEBPACK_IMPORTED_MODULE_12__.FF),_angular_core__WEBPACK_IMPORTED_MODULE_11__.Y36(_core_data_version_history_data_service__WEBPACK_IMPORTED_MODULE_3__.Q),_angular_core__WEBPACK_IMPORTED_MODULE_11__.Y36(_ngx_translate_core__WEBPACK_IMPORTED_MODULE_13__.sK),_angular_core__WEBPACK_IMPORTED_MODULE_11__.Y36(_core_data_version_data_service__WEBPACK_IMPORTED_MODULE_4__._),_angular_core__WEBPACK_IMPORTED_MODULE_11__.Y36(_shared_item_item_versions_item_versions_shared_service__WEBPACK_IMPORTED_MODULE_5__.D),_angular_core__WEBPACK_IMPORTED_MODULE_11__.Y36(_angular_router__WEBPACK_IMPORTED_MODULE_14__.F0),_angular_core__WEBPACK_IMPORTED_MODULE_11__.Y36(_core_submission_workspaceitem_data_service__WEBPACK_IMPORTED_MODULE_6__.p),_angular_core__WEBPACK_IMPORTED_MODULE_11__.Y36(_core_shared_search_search_service__WEBPACK_IMPORTED_MODULE_7__.o),_angular_core__WEBPACK_IMPORTED_MODULE_11__.Y36(_core_data_item_data_service__WEBPACK_IMPORTED_MODULE_8__.S),_angular_core__WEBPACK_IMPORTED_MODULE_11__.Y36(_core_services_route_service__WEBPACK_IMPORTED_MODULE_9__.MZ))},"VersionedItemComponent_Factory"),VersionedItemComponent.\u0275cmp=_angular_core__WEBPACK_IMPORTED_MODULE_11__.Xpm({type:VersionedItemComponent,selectors:[["ds-versioned-item"]],features:[_angular_core__WEBPACK_IMPORTED_MODULE_11__.qOj],decls:0,vars:0,template:__name(function(rf,ctx){},"VersionedItemComponent_Template"),styles:[""]})},5893:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{T:()=>RelatedEntitiesSearchComponent});__webpack_require__(33609);var _shared_empty_util__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(24702),_shared_utils_relation_query_utils__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(49454),_angular_core__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(5e3),_search_page_configuration_search_page_component__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(61208);class RelatedEntitiesSearchComponent{constructor(){this.searchEnabled=!0,this.sideBarWidth=4}ngOnInit(){(0,_shared_empty_util__WEBPACK_IMPORTED_MODULE_2__.UE)(this.relationType)&&(0,_shared_empty_util__WEBPACK_IMPORTED_MODULE_2__.UE)(this.item)&&(this.fixedFilter=(0,_shared_utils_relation_query_utils__WEBPACK_IMPORTED_MODULE_3__.ae)(this.relationType,this.item.id))}}__name(RelatedEntitiesSearchComponent,"RelatedEntitiesSearchComponent"),RelatedEntitiesSearchComponent.\u0275fac=__name(function(t){return new(t||RelatedEntitiesSearchComponent)},"RelatedEntitiesSearchComponent_Factory"),RelatedEntitiesSearchComponent.\u0275cmp=_angular_core__WEBPACK_IMPORTED_MODULE_4__.Xpm({type:RelatedEntitiesSearchComponent,selectors:[["ds-related-entities-search"]],inputs:{relationType:"relationType",configuration:"configuration",item:"item",searchEnabled:"searchEnabled",sideBarWidth:"sideBarWidth"},decls:1,vars:4,consts:[[3,"fixedFilterQuery","configuration","searchEnabled","sideBarWidth"]],template:__name(function(rf,ctx){1&rf&&_angular_core__WEBPACK_IMPORTED_MODULE_4__._UZ(0,"ds-configuration-search-page",0),2&rf&&_angular_core__WEBPACK_IMPORTED_MODULE_4__.Q6J("fixedFilterQuery",ctx.fixedFilter)("configuration",ctx.configuration)("searchEnabled",ctx.searchEnabled)("sideBarWidth",ctx.sideBarWidth)},"RelatedEntitiesSearchComponent_Template"),directives:[_search_page_configuration_search_page_component__WEBPACK_IMPORTED_MODULE_1__.ConfigurationSearchPageComponent],encapsulation:2})},67797:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{i:()=>TabbedRelatedEntitiesSearchComponent});__webpack_require__(33609);var rxjs_operators__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(83292),_angular_core__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(5e3),_angular_router__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(74202),_angular_common__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(69808),_ng_bootstrap_ng_bootstrap__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(13707),_related_entities_search_related_entities_search_component__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(5893),_shared_utils_var_directive__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(98605),_ngx_translate_core__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(42466);function TabbedRelatedEntitiesSearchComponent_ng_container_0_li_4_ng_template_4_Template(rf,ctx){if(1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_3__.TgZ(0,"div",9),_angular_core__WEBPACK_IMPORTED_MODULE_3__._UZ(1,"ds-related-entities-search",10),_angular_core__WEBPACK_IMPORTED_MODULE_3__.qZA()),2&rf){const relationType_r4=_angular_core__WEBPACK_IMPORTED_MODULE_3__.oxw().$implicit,ctx_r5=_angular_core__WEBPACK_IMPORTED_MODULE_3__.oxw(2);_angular_core__WEBPACK_IMPORTED_MODULE_3__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_3__.Q6J("item",ctx_r5.item)("relationType",relationType_r4.filter)("configuration",relationType_r4.configuration)("searchEnabled",ctx_r5.searchEnabled)("sideBarWidth",ctx_r5.sideBarWidth)}}function TabbedRelatedEntitiesSearchComponent_ng_container_0_li_4_Template(rf,ctx){if(1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_3__.TgZ(0,"li",6)(1,"a",7),_angular_core__WEBPACK_IMPORTED_MODULE_3__._uU(2),_angular_core__WEBPACK_IMPORTED_MODULE_3__.ALo(3,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_3__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_3__.YNc(4,TabbedRelatedEntitiesSearchComponent_ng_container_0_li_4_ng_template_4_Template,2,5,"ng-template",8),_angular_core__WEBPACK_IMPORTED_MODULE_3__.qZA()),2&rf){const relationType_r4=ctx.$implicit;_angular_core__WEBPACK_IMPORTED_MODULE_3__.Q6J("ngbNavItem",relationType_r4.filter),_angular_core__WEBPACK_IMPORTED_MODULE_3__.xp6(2),_angular_core__WEBPACK_IMPORTED_MODULE_3__.Oqu(_angular_core__WEBPACK_IMPORTED_MODULE_3__.lcZ(3,2,"item.page.relationships."+relationType_r4.label))}}function TabbedRelatedEntitiesSearchComponent_ng_container_0_Template(rf,ctx){if(1&rf){const _r8=_angular_core__WEBPACK_IMPORTED_MODULE_3__.EpF();_angular_core__WEBPACK_IMPORTED_MODULE_3__.ynx(0),_angular_core__WEBPACK_IMPORTED_MODULE_3__.TgZ(1,"ul",2,3),_angular_core__WEBPACK_IMPORTED_MODULE_3__.NdJ("navChange",__name(function($event){return _angular_core__WEBPACK_IMPORTED_MODULE_3__.CHM(_r8),_angular_core__WEBPACK_IMPORTED_MODULE_3__.oxw().onTabChange($event)},"TabbedRelatedEntitiesSearchComponent_ng_container_0_Template_ul_navChange_1_listener")),_angular_core__WEBPACK_IMPORTED_MODULE_3__.ALo(3,"async"),_angular_core__WEBPACK_IMPORTED_MODULE_3__.YNc(4,TabbedRelatedEntitiesSearchComponent_ng_container_0_li_4_Template,5,4,"li",4),_angular_core__WEBPACK_IMPORTED_MODULE_3__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_3__._UZ(5,"div",5),_angular_core__WEBPACK_IMPORTED_MODULE_3__.BQk()}if(2&rf){const _r2=_angular_core__WEBPACK_IMPORTED_MODULE_3__.MAs(2),ctx_r0=_angular_core__WEBPACK_IMPORTED_MODULE_3__.oxw();_angular_core__WEBPACK_IMPORTED_MODULE_3__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_3__.Q6J("destroyOnHide",!0)("activeId",_angular_core__WEBPACK_IMPORTED_MODULE_3__.lcZ(3,4,ctx_r0.activeTab$)),_angular_core__WEBPACK_IMPORTED_MODULE_3__.xp6(3),_angular_core__WEBPACK_IMPORTED_MODULE_3__.Q6J("ngForOf",ctx_r0.relationTypes),_angular_core__WEBPACK_IMPORTED_MODULE_3__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_3__.Q6J("ngbNavOutlet",_r2)}}function TabbedRelatedEntitiesSearchComponent_div_1_ds_related_entities_search_1_Template(rf,ctx){if(1&rf&&_angular_core__WEBPACK_IMPORTED_MODULE_3__._UZ(0,"ds-related-entities-search",10),2&rf){const relationType_r10=ctx.ngVar,ctx_r9=_angular_core__WEBPACK_IMPORTED_MODULE_3__.oxw(2);_angular_core__WEBPACK_IMPORTED_MODULE_3__.Q6J("item",ctx_r9.item)("relationType",relationType_r10.filter)("configuration",relationType_r10.configuration)("searchEnabled",ctx_r9.searchEnabled)("sideBarWidth",ctx_r9.sideBarWidth)}}function TabbedRelatedEntitiesSearchComponent_div_1_Template(rf,ctx){if(1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_3__.TgZ(0,"div",9),_angular_core__WEBPACK_IMPORTED_MODULE_3__.YNc(1,TabbedRelatedEntitiesSearchComponent_div_1_ds_related_entities_search_1_Template,1,5,"ds-related-entities-search",11),_angular_core__WEBPACK_IMPORTED_MODULE_3__.qZA()),2&rf){const ctx_r1=_angular_core__WEBPACK_IMPORTED_MODULE_3__.oxw();_angular_core__WEBPACK_IMPORTED_MODULE_3__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_3__.Q6J("ngVar",ctx_r1.relationTypes[0])}}__name(TabbedRelatedEntitiesSearchComponent_ng_container_0_li_4_ng_template_4_Template,"TabbedRelatedEntitiesSearchComponent_ng_container_0_li_4_ng_template_4_Template"),__name(TabbedRelatedEntitiesSearchComponent_ng_container_0_li_4_Template,"TabbedRelatedEntitiesSearchComponent_ng_container_0_li_4_Template"),__name(TabbedRelatedEntitiesSearchComponent_ng_container_0_Template,"TabbedRelatedEntitiesSearchComponent_ng_container_0_Template"),__name(TabbedRelatedEntitiesSearchComponent_div_1_ds_related_entities_search_1_Template,"TabbedRelatedEntitiesSearchComponent_div_1_ds_related_entities_search_1_Template"),__name(TabbedRelatedEntitiesSearchComponent_div_1_Template,"TabbedRelatedEntitiesSearchComponent_div_1_Template");class TabbedRelatedEntitiesSearchComponent{constructor(route,router){this.route=route,this.router=router,this.searchEnabled=!0,this.sideBarWidth=4}ngOnInit(){this.activeTab$=this.route.queryParams.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_4__.UI)(params=>params.tab))}onTabChange(event2){this.router.navigate([],{relativeTo:this.route,queryParams:{tab:event2.nextId},queryParamsHandling:"merge"})}}__name(TabbedRelatedEntitiesSearchComponent,"TabbedRelatedEntitiesSearchComponent"),TabbedRelatedEntitiesSearchComponent.\u0275fac=__name(function(t){return new(t||TabbedRelatedEntitiesSearchComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_3__.Y36(_angular_router__WEBPACK_IMPORTED_MODULE_5__.gz),_angular_core__WEBPACK_IMPORTED_MODULE_3__.Y36(_angular_router__WEBPACK_IMPORTED_MODULE_5__.F0))},"TabbedRelatedEntitiesSearchComponent_Factory"),TabbedRelatedEntitiesSearchComponent.\u0275cmp=_angular_core__WEBPACK_IMPORTED_MODULE_3__.Xpm({type:TabbedRelatedEntitiesSearchComponent,selectors:[["ds-tabbed-related-entities-search"]],inputs:{relationTypes:"relationTypes",item:"item",searchEnabled:"searchEnabled",sideBarWidth:"sideBarWidth"},decls:2,vars:2,consts:[[4,"ngIf"],["class","mt-4",4,"ngIf"],["ngbNav","",1,"nav-tabs",3,"destroyOnHide","activeId","navChange"],["tabs","ngbNav"],[3,"ngbNavItem",4,"ngFor","ngForOf"],[3,"ngbNavOutlet"],[3,"ngbNavItem"],["ngbNavLink",""],["ngbNavContent",""],[1,"mt-4"],[3,"item","relationType","configuration","searchEnabled","sideBarWidth"],[3,"item","relationType","configuration","searchEnabled","sideBarWidth",4,"ngVar"]],template:__name(function(rf,ctx){1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_3__.YNc(0,TabbedRelatedEntitiesSearchComponent_ng_container_0_Template,6,6,"ng-container",0),_angular_core__WEBPACK_IMPORTED_MODULE_3__.YNc(1,TabbedRelatedEntitiesSearchComponent_div_1_Template,2,1,"div",1)),2&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_3__.Q6J("ngIf",ctx.relationTypes.length>1),_angular_core__WEBPACK_IMPORTED_MODULE_3__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_3__.Q6J("ngIf",1===ctx.relationTypes.length))},"TabbedRelatedEntitiesSearchComponent_Template"),directives:[_angular_common__WEBPACK_IMPORTED_MODULE_6__.O5,_ng_bootstrap_ng_bootstrap__WEBPACK_IMPORTED_MODULE_7__.Pz,_angular_common__WEBPACK_IMPORTED_MODULE_6__.sg,_ng_bootstrap_ng_bootstrap__WEBPACK_IMPORTED_MODULE_7__.nv,_ng_bootstrap_ng_bootstrap__WEBPACK_IMPORTED_MODULE_7__.Vx,_ng_bootstrap_ng_bootstrap__WEBPACK_IMPORTED_MODULE_7__.uN,_related_entities_search_related_entities_search_component__WEBPACK_IMPORTED_MODULE_1__.T,_ng_bootstrap_ng_bootstrap__WEBPACK_IMPORTED_MODULE_7__.tO,_shared_utils_var_directive__WEBPACK_IMPORTED_MODULE_2__.g],pipes:[_angular_common__WEBPACK_IMPORTED_MODULE_6__.Ov,_ngx_translate_core__WEBPACK_IMPORTED_MODULE_8__.X$],encapsulation:2})},66212:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{_:()=>dsDynamicFormControlMapFn,B:()=>DsDynamicFormControlContainerComponent});var _angular_core__WEBPACK_IMPORTED_MODULE_38__=__webpack_require__(5e3),_ng_dynamic_forms_core__WEBPACK_IMPORTED_MODULE_39__=__webpack_require__(87098),_ng_dynamic_forms_ui_ng_bootstrap__WEBPACK_IMPORTED_MODULE_40__=__webpack_require__(65806),_existing_metadata_list_element_existing_metadata_list_element_component__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(93571),_models_onebox_dynamic_onebox_model__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(37548),_models_scrollable_dropdown_dynamic_scrollable_dropdown_model__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(28571),_models_tag_dynamic_tag_model__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(81907),_models_date_picker_date_picker_model__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(96807),_models_lookup_dynamic_lookup_model__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(41850),_models_list_dynamic_list_checkbox_group_model__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(11656),_models_list_dynamic_list_radio_group_model__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(49210),_empty_util__WEBPACK_IMPORTED_MODULE_42__=__webpack_require__(24702),_models_lookup_dynamic_lookup_name_model__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(16125),_models_tag_dynamic_tag_component__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(28554),_models_date_picker_date_picker_component__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(74043),_models_list_dynamic_list_component__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(88766),_models_onebox_dynamic_onebox_component__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(86471),_models_scrollable_dropdown_dynamic_scrollable_dropdown_component__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__(42803),_models_lookup_dynamic_lookup_component__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__(21650),_models_form_group_dynamic_form_group_component__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__(66319),_models_array_group_dynamic_form_array_component__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__(79001),_models_relation_group_dynamic_relation_group_components__WEBPACK_IMPORTED_MODULE_17__=__webpack_require__(22280),_models_date_picker_inline_dynamic_date_picker_inline_component__WEBPACK_IMPORTED_MODULE_18__=__webpack_require__(19869),_models_custom_switch_custom_switch_model__WEBPACK_IMPORTED_MODULE_19__=__webpack_require__(45014),_models_custom_switch_custom_switch_component__WEBPACK_IMPORTED_MODULE_20__=__webpack_require__(13457),rxjs_operators__WEBPACK_IMPORTED_MODULE_44__=__webpack_require__(83292),rxjs__WEBPACK_IMPORTED_MODULE_46__=__webpack_require__(76477),_ds_dynamic_type_bind_relation_service__WEBPACK_IMPORTED_MODULE_21__=__webpack_require__(34827),_core_data_relationship_data_service__WEBPACK_IMPORTED_MODULE_22__=__webpack_require__(88002),_object_list_selectable_list_selectable_list_service__WEBPACK_IMPORTED_MODULE_23__=__webpack_require__(51117),_models_disabled_dynamic_disabled_component__WEBPACK_IMPORTED_MODULE_24__=__webpack_require__(8671),_models_disabled_dynamic_disabled_model__WEBPACK_IMPORTED_MODULE_25__=__webpack_require__(53905),_relation_lookup_modal_dynamic_lookup_relation_modal_component__WEBPACK_IMPORTED_MODULE_26__=__webpack_require__(55648),_core_shared_operators__WEBPACK_IMPORTED_MODULE_27__=__webpack_require__(13730),_core_data_item_data_service__WEBPACK_IMPORTED_MODULE_28__=__webpack_require__(83639),_core_submission_submission_object_data_service__WEBPACK_IMPORTED_MODULE_29__=__webpack_require__(74297),_object_collection_shared_item_search_result_model__WEBPACK_IMPORTED_MODULE_30__=__webpack_require__(84412),_core_shared_metadata_models__WEBPACK_IMPORTED_MODULE_31__=__webpack_require__(79300),_form_service__WEBPACK_IMPORTED_MODULE_32__=__webpack_require__(28858),_submission_submission_service__WEBPACK_IMPORTED_MODULE_33__=__webpack_require__(86421),_utils_follow_link_config_model__WEBPACK_IMPORTED_MODULE_45__=__webpack_require__(93369),_item_page_simple_item_types_shared_item_relationships_utils__WEBPACK_IMPORTED_MODULE_34__=__webpack_require__(4900),_models_relationship_options_model__WEBPACK_IMPORTED_MODULE_43__=__webpack_require__(34780),_form_builder_service__WEBPACK_IMPORTED_MODULE_35__=__webpack_require__(71022),_ds_dynamic_form_constants__WEBPACK_IMPORTED_MODULE_41__=__webpack_require__(78103),_models_form_field_metadata_value_model__WEBPACK_IMPORTED_MODULE_36__=__webpack_require__(7973),_ngx_translate_core__WEBPACK_IMPORTED_MODULE_47__=__webpack_require__(42466),_ng_bootstrap_ng_bootstrap__WEBPACK_IMPORTED_MODULE_48__=__webpack_require__(13707),_ngrx_store__WEBPACK_IMPORTED_MODULE_49__=__webpack_require__(85094),_angular_forms__WEBPACK_IMPORTED_MODULE_50__=__webpack_require__(93075),_angular_common__WEBPACK_IMPORTED_MODULE_51__=__webpack_require__(69808),_existing_relation_list_element_existing_relation_list_element_component__WEBPACK_IMPORTED_MODULE_37__=__webpack_require__(77410);const _c0=["componentViewContainer"],_c1=__name(function(a0,a1){return[a0,a1]},"_c1");function DsDynamicFormControlContainerComponent_label_1_Template(rf,ctx){if(1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_38__._UZ(0,"label",11),_angular_core__WEBPACK_IMPORTED_MODULE_38__.ALo(1,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_38__.ALo(2,"translate")),2&rf){const ctx_r0=_angular_core__WEBPACK_IMPORTED_MODULE_38__.oxw();_angular_core__WEBPACK_IMPORTED_MODULE_38__.Q6J("id","label_"+ctx_r0.model.id)("for",ctx_r0.id)("innerHTML",ctx_r0.model.required&&ctx_r0.model.label?_angular_core__WEBPACK_IMPORTED_MODULE_38__.lcZ(1,4,ctx_r0.model.label)+" *":_angular_core__WEBPACK_IMPORTED_MODULE_38__.lcZ(2,6,ctx_r0.model.label),_angular_core__WEBPACK_IMPORTED_MODULE_38__.oJD)("ngClass",_angular_core__WEBPACK_IMPORTED_MODULE_38__.WLB(8,_c1,ctx_r0.getClass("element","label"),ctx_r0.getClass("grid","label")))}}function DsDynamicFormControlContainerComponent_ng_container_2_Template(rf,ctx){1&rf&&_angular_core__WEBPACK_IMPORTED_MODULE_38__.GkF(0)}function DsDynamicFormControlContainerComponent_small_8_Template(rf,ctx){if(1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_38__._UZ(0,"small",12),_angular_core__WEBPACK_IMPORTED_MODULE_38__.ALo(1,"translate")),2&rf){const ctx_r3=_angular_core__WEBPACK_IMPORTED_MODULE_38__.oxw();_angular_core__WEBPACK_IMPORTED_MODULE_38__.Q6J("innerHTML",_angular_core__WEBPACK_IMPORTED_MODULE_38__.lcZ(1,2,ctx_r3.model.hint),_angular_core__WEBPACK_IMPORTED_MODULE_38__.oJD)("ngClass",ctx_r3.getClass("element","hint"))}}function DsDynamicFormControlContainerComponent_div_9_Template(rf,ctx){1&rf&&_angular_core__WEBPACK_IMPORTED_MODULE_38__._UZ(0,"div",13)}function DsDynamicFormControlContainerComponent_div_10_small_1_Template(rf,ctx){if(1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_38__.TgZ(0,"small",16),_angular_core__WEBPACK_IMPORTED_MODULE_38__._uU(1),_angular_core__WEBPACK_IMPORTED_MODULE_38__.ALo(2,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_38__.qZA()),2&rf){const message_r11=ctx.$implicit,ctx_r10=_angular_core__WEBPACK_IMPORTED_MODULE_38__.oxw(2);_angular_core__WEBPACK_IMPORTED_MODULE_38__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_38__.Oqu(_angular_core__WEBPACK_IMPORTED_MODULE_38__.xi3(2,1,message_r11,ctx_r10.model.validators))}}function DsDynamicFormControlContainerComponent_div_10_Template(rf,ctx){if(1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_38__.TgZ(0,"div",14),_angular_core__WEBPACK_IMPORTED_MODULE_38__.YNc(1,DsDynamicFormControlContainerComponent_div_10_small_1_Template,3,4,"small",15),_angular_core__WEBPACK_IMPORTED_MODULE_38__.qZA()),2&rf){const ctx_r5=_angular_core__WEBPACK_IMPORTED_MODULE_38__.oxw();_angular_core__WEBPACK_IMPORTED_MODULE_38__.Q6J("id",ctx_r5.id+"_errors")("ngClass",_angular_core__WEBPACK_IMPORTED_MODULE_38__.WLB(3,_c1,ctx_r5.getClass("element","errors"),ctx_r5.getClass("grid","errors"))),_angular_core__WEBPACK_IMPORTED_MODULE_38__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_38__.Q6J("ngForOf",ctx_r5.errorMessages)}}function DsDynamicFormControlContainerComponent_div_11_option_3_Template(rf,ctx){if(1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_38__.TgZ(0,"option",21),_angular_core__WEBPACK_IMPORTED_MODULE_38__._uU(1),_angular_core__WEBPACK_IMPORTED_MODULE_38__.qZA()),2&rf){const lang_r14=ctx.$implicit;_angular_core__WEBPACK_IMPORTED_MODULE_38__.Q6J("value",lang_r14.code),_angular_core__WEBPACK_IMPORTED_MODULE_38__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_38__.Oqu(lang_r14.display)}}__name(DsDynamicFormControlContainerComponent_label_1_Template,"DsDynamicFormControlContainerComponent_label_1_Template"),__name(DsDynamicFormControlContainerComponent_ng_container_2_Template,"DsDynamicFormControlContainerComponent_ng_container_2_Template"),__name(DsDynamicFormControlContainerComponent_small_8_Template,"DsDynamicFormControlContainerComponent_small_8_Template"),__name(DsDynamicFormControlContainerComponent_div_9_Template,"DsDynamicFormControlContainerComponent_div_9_Template"),__name(DsDynamicFormControlContainerComponent_div_10_small_1_Template,"DsDynamicFormControlContainerComponent_div_10_small_1_Template"),__name(DsDynamicFormControlContainerComponent_div_10_Template,"DsDynamicFormControlContainerComponent_div_10_Template"),__name(DsDynamicFormControlContainerComponent_div_11_option_3_Template,"DsDynamicFormControlContainerComponent_div_11_option_3_Template");const _c2=__name(function(){return{standalone:!0}},"_c2");function DsDynamicFormControlContainerComponent_div_11_Template(rf,ctx){if(1&rf){const _r16=_angular_core__WEBPACK_IMPORTED_MODULE_38__.EpF();_angular_core__WEBPACK_IMPORTED_MODULE_38__.TgZ(0,"div",17)(1,"select",18,19),_angular_core__WEBPACK_IMPORTED_MODULE_38__.NdJ("ngModelChange",__name(function($event){_angular_core__WEBPACK_IMPORTED_MODULE_38__.CHM(_r16);return _angular_core__WEBPACK_IMPORTED_MODULE_38__.oxw().model.language=$event},"DsDynamicFormControlContainerComponent_div_11_Template_select_ngModelChange_1_listener"))("blur",__name(function($event){return _angular_core__WEBPACK_IMPORTED_MODULE_38__.CHM(_r16),_angular_core__WEBPACK_IMPORTED_MODULE_38__.oxw().onBlur($event)},"DsDynamicFormControlContainerComponent_div_11_Template_select_blur_1_listener"))("change",__name(function($event){return _angular_core__WEBPACK_IMPORTED_MODULE_38__.CHM(_r16),_angular_core__WEBPACK_IMPORTED_MODULE_38__.oxw().onChangeLanguage($event)},"DsDynamicFormControlContainerComponent_div_11_Template_select_change_1_listener")),_angular_core__WEBPACK_IMPORTED_MODULE_38__.YNc(3,DsDynamicFormControlContainerComponent_div_11_option_3_Template,2,2,"option",20),_angular_core__WEBPACK_IMPORTED_MODULE_38__.qZA()()}if(2&rf){const ctx_r6=_angular_core__WEBPACK_IMPORTED_MODULE_38__.oxw();_angular_core__WEBPACK_IMPORTED_MODULE_38__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_38__.Q6J("disabled",ctx_r6.model.readOnly)("ngModel",ctx_r6.model.language)("ngModelOptions",_angular_core__WEBPACK_IMPORTED_MODULE_38__.DdM(4,_c2)),_angular_core__WEBPACK_IMPORTED_MODULE_38__.xp6(2),_angular_core__WEBPACK_IMPORTED_MODULE_38__.Q6J("ngForOf",ctx_r6.model.languageCodes)}}function DsDynamicFormControlContainerComponent_div_12_Template(rf,ctx){if(1&rf){const _r20=_angular_core__WEBPACK_IMPORTED_MODULE_38__.EpF();_angular_core__WEBPACK_IMPORTED_MODULE_38__.TgZ(0,"div",22)(1,"button",23),_angular_core__WEBPACK_IMPORTED_MODULE_38__.NdJ("click",__name(function($event){return _angular_core__WEBPACK_IMPORTED_MODULE_38__.CHM(_r20),_angular_core__WEBPACK_IMPORTED_MODULE_38__.oxw().openLookup(),$event.stopPropagation()},"DsDynamicFormControlContainerComponent_div_12_Template_button_click_1_listener")),_angular_core__WEBPACK_IMPORTED_MODULE_38__.ALo(2,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_38__._UZ(3,"i",24),_angular_core__WEBPACK_IMPORTED_MODULE_38__.qZA()()}2&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_38__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_38__.s9C("ngbTooltip",_angular_core__WEBPACK_IMPORTED_MODULE_38__.lcZ(2,1,"form.lookup-help")))}function DsDynamicFormControlContainerComponent_ng_container_13_Template(rf,ctx){1&rf&&_angular_core__WEBPACK_IMPORTED_MODULE_38__.GkF(0)}function DsDynamicFormControlContainerComponent_ng_container_14_ds_existing_metadata_list_element_1_Template(rf,ctx){if(1&rf){const _r25=_angular_core__WEBPACK_IMPORTED_MODULE_38__.EpF();_angular_core__WEBPACK_IMPORTED_MODULE_38__.TgZ(0,"ds-existing-metadata-list-element",27),_angular_core__WEBPACK_IMPORTED_MODULE_38__.NdJ("remove",__name(function(){return _angular_core__WEBPACK_IMPORTED_MODULE_38__.CHM(_r25),_angular_core__WEBPACK_IMPORTED_MODULE_38__.oxw(2).onRemove()},"DsDynamicFormControlContainerComponent_ng_container_14_ds_existing_metadata_list_element_1_Template_ds_existing_metadata_list_element_remove_0_listener")),_angular_core__WEBPACK_IMPORTED_MODULE_38__.ALo(1,"async"),_angular_core__WEBPACK_IMPORTED_MODULE_38__.ALo(2,"async"),_angular_core__WEBPACK_IMPORTED_MODULE_38__.qZA()}if(2&rf){const ctx_r21=_angular_core__WEBPACK_IMPORTED_MODULE_38__.oxw(2);_angular_core__WEBPACK_IMPORTED_MODULE_38__.Q6J("reoRel",_angular_core__WEBPACK_IMPORTED_MODULE_38__.lcZ(1,6,ctx_r21.relationshipValue$))("submissionItem",_angular_core__WEBPACK_IMPORTED_MODULE_38__.lcZ(2,8,ctx_r21.item$))("listId",ctx_r21.listId)("metadataFields",ctx_r21.model.metadataFields)("submissionId",ctx_r21.model.submissionId)("relationshipOptions",ctx_r21.model.relationship)}}__name(DsDynamicFormControlContainerComponent_div_11_Template,"DsDynamicFormControlContainerComponent_div_11_Template"),__name(DsDynamicFormControlContainerComponent_div_12_Template,"DsDynamicFormControlContainerComponent_div_12_Template"),__name(DsDynamicFormControlContainerComponent_ng_container_13_Template,"DsDynamicFormControlContainerComponent_ng_container_13_Template"),__name(DsDynamicFormControlContainerComponent_ng_container_14_ds_existing_metadata_list_element_1_Template,"DsDynamicFormControlContainerComponent_ng_container_14_ds_existing_metadata_list_element_1_Template");const _c3=__name(function(a0){return{"d-block pb-2 pt-2":a0}},"_c3");function DsDynamicFormControlContainerComponent_ng_container_14_ds_existing_relation_list_element_2_Template(rf,ctx){if(1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_38__._UZ(0,"ds-existing-relation-list-element",28),_angular_core__WEBPACK_IMPORTED_MODULE_38__.ALo(1,"async"),_angular_core__WEBPACK_IMPORTED_MODULE_38__.ALo(2,"async")),2&rf){const ctx_r22=_angular_core__WEBPACK_IMPORTED_MODULE_38__.oxw(2);_angular_core__WEBPACK_IMPORTED_MODULE_38__.Q6J("ngClass",_angular_core__WEBPACK_IMPORTED_MODULE_38__.VKq(11,_c3,!(null!=ctx_r22.context&&ctx_r22.context.index)))("reoRel",_angular_core__WEBPACK_IMPORTED_MODULE_38__.lcZ(1,7,ctx_r22.relationshipValue$))("submissionItem",_angular_core__WEBPACK_IMPORTED_MODULE_38__.lcZ(2,9,ctx_r22.item$))("listId",ctx_r22.listId)("metadataFields",ctx_r22.model.metadataFields)("submissionId",ctx_r22.model.submissionId)("relationshipOptions",ctx_r22.model.relationship)}}function DsDynamicFormControlContainerComponent_ng_container_14_small_3_Template(rf,ctx){if(1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_38__._UZ(0,"small",12),_angular_core__WEBPACK_IMPORTED_MODULE_38__.ALo(1,"translate")),2&rf){const ctx_r23=_angular_core__WEBPACK_IMPORTED_MODULE_38__.oxw(2);_angular_core__WEBPACK_IMPORTED_MODULE_38__.Q6J("innerHTML",_angular_core__WEBPACK_IMPORTED_MODULE_38__.lcZ(1,2,ctx_r23.model.hint),_angular_core__WEBPACK_IMPORTED_MODULE_38__.oJD)("ngClass",ctx_r23.getClass("element","hint"))}}function DsDynamicFormControlContainerComponent_ng_container_14_Template(rf,ctx){if(1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_38__.ynx(0),_angular_core__WEBPACK_IMPORTED_MODULE_38__.YNc(1,DsDynamicFormControlContainerComponent_ng_container_14_ds_existing_metadata_list_element_1_Template,3,10,"ds-existing-metadata-list-element",25),_angular_core__WEBPACK_IMPORTED_MODULE_38__.YNc(2,DsDynamicFormControlContainerComponent_ng_container_14_ds_existing_relation_list_element_2_Template,3,13,"ds-existing-relation-list-element",26),_angular_core__WEBPACK_IMPORTED_MODULE_38__.YNc(3,DsDynamicFormControlContainerComponent_ng_container_14_small_3_Template,2,4,"small",5),_angular_core__WEBPACK_IMPORTED_MODULE_38__._UZ(4,"div",13),_angular_core__WEBPACK_IMPORTED_MODULE_38__.BQk()),2&rf){const ctx_r9=_angular_core__WEBPACK_IMPORTED_MODULE_38__.oxw();_angular_core__WEBPACK_IMPORTED_MODULE_38__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_38__.Q6J("ngIf",ctx_r9.model.hasSelectableMetadata),_angular_core__WEBPACK_IMPORTED_MODULE_38__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_38__.Q6J("ngIf",!ctx_r9.model.hasSelectableMetadata),_angular_core__WEBPACK_IMPORTED_MODULE_38__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_38__.Q6J("ngIf",ctx_r9.hasHint&&(!1===ctx_r9.model.repeatable||(null==ctx_r9.context?null:ctx_r9.context.index)===(null==ctx_r9.context||null==ctx_r9.context.context||null==ctx_r9.context.context.groups?null:ctx_r9.context.context.groups.length)-1)&&(!ctx_r9.showErrorMessages||0===ctx_r9.errorMessages.length))}}__name(DsDynamicFormControlContainerComponent_ng_container_14_ds_existing_relation_list_element_2_Template,"DsDynamicFormControlContainerComponent_ng_container_14_ds_existing_relation_list_element_2_Template"),__name(DsDynamicFormControlContainerComponent_ng_container_14_small_3_Template,"DsDynamicFormControlContainerComponent_ng_container_14_small_3_Template"),__name(DsDynamicFormControlContainerComponent_ng_container_14_Template,"DsDynamicFormControlContainerComponent_ng_container_14_Template");const _c4=__name(function(a0){return{$implicit:a0}},"_c4"),_c5=__name(function(a0,a1){return{"form-row":a0,"d-none":a1}},"_c5");function dsDynamicFormControlMapFn(model){switch(model.type){case _ng_dynamic_forms_core__WEBPACK_IMPORTED_MODULE_39__.i9b:return _models_array_group_dynamic_form_array_component__WEBPACK_IMPORTED_MODULE_16__.s;case _ng_dynamic_forms_core__WEBPACK_IMPORTED_MODULE_39__.fSU:return _ng_dynamic_forms_ui_ng_bootstrap__WEBPACK_IMPORTED_MODULE_40__.Gy;case _ng_dynamic_forms_core__WEBPACK_IMPORTED_MODULE_39__.aTt:return model instanceof _models_list_dynamic_list_checkbox_group_model__WEBPACK_IMPORTED_MODULE_6__.R?_models_list_dynamic_list_component__WEBPACK_IMPORTED_MODULE_11__.d:_ng_dynamic_forms_ui_ng_bootstrap__WEBPACK_IMPORTED_MODULE_40__.P2;case _ng_dynamic_forms_core__WEBPACK_IMPORTED_MODULE_39__.VId:return model.inline?_ng_dynamic_forms_ui_ng_bootstrap__WEBPACK_IMPORTED_MODULE_40__.qz:_models_date_picker_inline_dynamic_date_picker_inline_component__WEBPACK_IMPORTED_MODULE_18__.u;case _ng_dynamic_forms_core__WEBPACK_IMPORTED_MODULE_39__.Qam:return _models_form_group_dynamic_form_group_component__WEBPACK_IMPORTED_MODULE_15__.i;case _ng_dynamic_forms_core__WEBPACK_IMPORTED_MODULE_39__.X9S:return _ng_dynamic_forms_ui_ng_bootstrap__WEBPACK_IMPORTED_MODULE_40__.Zu;case _ng_dynamic_forms_core__WEBPACK_IMPORTED_MODULE_39__.e6P:return model instanceof _models_list_dynamic_list_radio_group_model__WEBPACK_IMPORTED_MODULE_7__.s?_models_list_dynamic_list_component__WEBPACK_IMPORTED_MODULE_11__.d:_ng_dynamic_forms_ui_ng_bootstrap__WEBPACK_IMPORTED_MODULE_40__.TE;case _ng_dynamic_forms_core__WEBPACK_IMPORTED_MODULE_39__.Lq6:return _ng_dynamic_forms_ui_ng_bootstrap__WEBPACK_IMPORTED_MODULE_40__.QB;case _ng_dynamic_forms_core__WEBPACK_IMPORTED_MODULE_39__.Pdh:return _ng_dynamic_forms_ui_ng_bootstrap__WEBPACK_IMPORTED_MODULE_40__.Sb;case _ng_dynamic_forms_core__WEBPACK_IMPORTED_MODULE_39__.BKB:return _ng_dynamic_forms_ui_ng_bootstrap__WEBPACK_IMPORTED_MODULE_40__.XX;case _models_onebox_dynamic_onebox_model__WEBPACK_IMPORTED_MODULE_1__.n:return _models_onebox_dynamic_onebox_component__WEBPACK_IMPORTED_MODULE_12__.r;case _models_scrollable_dropdown_dynamic_scrollable_dropdown_model__WEBPACK_IMPORTED_MODULE_2__.v:return _models_scrollable_dropdown_dynamic_scrollable_dropdown_component__WEBPACK_IMPORTED_MODULE_13__.D;case _models_tag_dynamic_tag_model__WEBPACK_IMPORTED_MODULE_3__.D:return _models_tag_dynamic_tag_component__WEBPACK_IMPORTED_MODULE_9__.V;case _ds_dynamic_form_constants__WEBPACK_IMPORTED_MODULE_41__.Q:return _models_relation_group_dynamic_relation_group_components__WEBPACK_IMPORTED_MODULE_17__.H;case _models_date_picker_date_picker_model__WEBPACK_IMPORTED_MODULE_4__.L:return _models_date_picker_date_picker_component__WEBPACK_IMPORTED_MODULE_10__.H;case _models_lookup_dynamic_lookup_model__WEBPACK_IMPORTED_MODULE_5__.d:case _models_lookup_dynamic_lookup_name_model__WEBPACK_IMPORTED_MODULE_8__.S:return _models_lookup_dynamic_lookup_component__WEBPACK_IMPORTED_MODULE_14__.G;case _models_disabled_dynamic_disabled_model__WEBPACK_IMPORTED_MODULE_25__.W:return _models_disabled_dynamic_disabled_component__WEBPACK_IMPORTED_MODULE_24__.x;case _models_custom_switch_custom_switch_model__WEBPACK_IMPORTED_MODULE_19__.c:return _models_custom_switch_custom_switch_component__WEBPACK_IMPORTED_MODULE_20__._;default:return null}}__name(dsDynamicFormControlMapFn,"dsDynamicFormControlMapFn");class DsDynamicFormControlContainerComponent extends _ng_dynamic_forms_core__WEBPACK_IMPORTED_MODULE_39__.wT7{constructor(componentFactoryResolver,dynamicFormComponentService,layoutService,validationService,typeBindRelationService,translateService,relationService,modalService,relationshipService,selectableListService,itemService,zone,store,submissionObjectService,ref,formService,formBuilderService,submissionService){super(ref,componentFactoryResolver,layoutService,validationService,dynamicFormComponentService,relationService),this.componentFactoryResolver=componentFactoryResolver,this.dynamicFormComponentService=dynamicFormComponentService,this.layoutService=layoutService,this.validationService=validationService,this.typeBindRelationService=typeBindRelationService,this.translateService=translateService,this.relationService=relationService,this.modalService=modalService,this.relationshipService=relationshipService,this.selectableListService=selectableListService,this.itemService=itemService,this.zone=zone,this.store=store,this.submissionObjectService=submissionObjectService,this.ref=ref,this.formService=formService,this.formBuilderService=formBuilderService,this.submissionService=submissionService,this.asBootstrapFormGroup=!1,this.bindId=!0,this.context=null,this.hasErrorMessaging=!1,this.layout=null,this.subs=[],this.blur=new _angular_core__WEBPACK_IMPORTED_MODULE_38__.vpe,this.change=new _angular_core__WEBPACK_IMPORTED_MODULE_38__.vpe,this.focus=new _angular_core__WEBPACK_IMPORTED_MODULE_38__.vpe,this.customEvent=new _angular_core__WEBPACK_IMPORTED_MODULE_38__.vpe}get componentType(){return dsDynamicFormControlMapFn(this.model)}ngOnInit(){this.isRelationship=(0,_empty_util__WEBPACK_IMPORTED_MODULE_42__.Uh)(this.model.relationship);const isWrapperAroundRelationshipList=(0,_empty_util__WEBPACK_IMPORTED_MODULE_42__.Uh)(this.model.relationshipConfig);if(this.isRelationship||isWrapperAroundRelationshipList){const config=this.model.relationshipConfig||this.model.relationship,relationshipOptions=Object.assign(new _models_relationship_options_model__WEBPACK_IMPORTED_MODULE_43__.u,config);if(this.listId=`list-${this.model.submissionId}-${relationshipOptions.relationshipType}`,this.setItem(),isWrapperAroundRelationshipList||!this.model.repeatable){const subscription=this.selectableListService.getSelectableList(this.listId).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_44__.sE)(list=>(0,_empty_util__WEBPACK_IMPORTED_MODULE_42__.xI)(list)),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_44__.wt)(()=>this.item$.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_44__.qn)(1))),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_44__.wt)(item=>{const relationshipsRD$=this.relationshipService.getItemRelationshipsByLabel(item,relationshipOptions.relationshipType,void 0,!0,!0,(0,_utils_follow_link_config_model__WEBPACK_IMPORTED_MODULE_45__.l)("leftItem"),(0,_utils_follow_link_config_model__WEBPACK_IMPORTED_MODULE_45__.l)("rightItem"),(0,_utils_follow_link_config_model__WEBPACK_IMPORTED_MODULE_45__.l)("relationshipType"));return relationshipsRD$.pipe((0,_core_shared_operators__WEBPACK_IMPORTED_MODULE_27__.Gp)(),(0,_core_shared_operators__WEBPACK_IMPORTED_MODULE_27__.qP)()).subscribe(relationships=>{relationships.forEach(relationship=>{const relationshipMD=item.firstMetadata(relationshipOptions.metadataField,{authority:`${_core_shared_metadata_models__WEBPACK_IMPORTED_MODULE_31__.O_}${relationship.id}`}),nameVariantMD=item.firstMetadata(this.model.metadataFields,{authority:`${_core_shared_metadata_models__WEBPACK_IMPORTED_MODULE_31__.O_}${relationship.id}`});(0,_empty_util__WEBPACK_IMPORTED_MODULE_42__.Uh)(relationshipMD)&&(0,_empty_util__WEBPACK_IMPORTED_MODULE_42__.UE)(relationshipMD.value)&&(0,_empty_util__WEBPACK_IMPORTED_MODULE_42__.Uh)(nameVariantMD)&&(0,_empty_util__WEBPACK_IMPORTED_MODULE_42__.UE)(nameVariantMD.value)&&this.relationshipService.setNameVariant(this.listId,relationshipMD.value,nameVariantMD.value)})}),relationshipsRD$.pipe((0,_item_page_simple_item_types_shared_item_relationships_utils__WEBPACK_IMPORTED_MODULE_34__.Sv)(item.uuid),(0,_core_shared_operators__WEBPACK_IMPORTED_MODULE_27__.xw)(),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_44__.UI)(items=>items.payload.page.map(i=>Object.assign(new _object_collection_shared_item_search_result_model__WEBPACK_IMPORTED_MODULE_30__.T,{indexableObject:i}))))})).subscribe(relatedItems=>this.selectableListService.select(this.listId,relatedItems));this.subs.push(subscription)}if((0,_empty_util__WEBPACK_IMPORTED_MODULE_42__.Uh)(this.model.metadataValue)?this.value=Object.assign(new _models_form_field_metadata_value_model__WEBPACK_IMPORTED_MODULE_36__.u,this.model.metadataValue):this.value=Object.assign(new _models_form_field_metadata_value_model__WEBPACK_IMPORTED_MODULE_36__.u,this.model.value),(0,_empty_util__WEBPACK_IMPORTED_MODULE_42__.Uh)(this.value)&&this.value.isVirtual){const relationship$=this.relationshipService.findById(this.value.virtualValue,!0,!0,(0,_utils_follow_link_config_model__WEBPACK_IMPORTED_MODULE_45__.l)("leftItem"),(0,_utils_follow_link_config_model__WEBPACK_IMPORTED_MODULE_45__.l)("rightItem"),(0,_utils_follow_link_config_model__WEBPACK_IMPORTED_MODULE_45__.l)("relationshipType")).pipe((0,_core_shared_operators__WEBPACK_IMPORTED_MODULE_27__.g1)(),(0,_core_shared_operators__WEBPACK_IMPORTED_MODULE_27__.xe)());this.relationshipValue$=(0,rxjs__WEBPACK_IMPORTED_MODULE_46__.combineLatest)([this.item$.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_44__.qn)(1)),relationship$]).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_44__.wt)(([item,relationship])=>relationship.leftItem.pipe((0,_core_shared_operators__WEBPACK_IMPORTED_MODULE_27__.g1)(),(0,_core_shared_operators__WEBPACK_IMPORTED_MODULE_27__.xe)(),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_44__.UI)(leftItem=>new _existing_metadata_list_element_existing_metadata_list_element_component__WEBPACK_IMPORTED_MODULE_0__.zw(relationship,leftItem.uuid!==item.uuid,this.store,this.model.submissionId)))),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_44__.O4)(void 0))}}}get isCheckbox(){return this.model.type===_ng_dynamic_forms_core__WEBPACK_IMPORTED_MODULE_39__.fSU||this.model.type===_models_custom_switch_custom_switch_model__WEBPACK_IMPORTED_MODULE_19__.c}ngOnChanges(changes){changes&&!this.isRelationship&&(0,_empty_util__WEBPACK_IMPORTED_MODULE_42__.Uh)(this.group.get(this.model.id))&&(super.ngOnChanges(changes),this.model&&this.model.placeholder&&(this.model.placeholder=this.translateService.instant(this.model.placeholder)),this.model.typeBindRelations&&this.model.typeBindRelations.length>0&&this.subscriptions.push(...this.typeBindRelationService.subscribeRelations(this.model,this.control)))}ngDoCheck(){(0,_empty_util__WEBPACK_IMPORTED_MODULE_42__.pT)(this.showErrorMessagesPreviousStage)&&this.showErrorMessagesPreviousStage!==this.showErrorMessages&&(this.showErrorMessagesPreviousStage=this.showErrorMessages,this.forceShowErrorDetection())}ngAfterViewInit(){this.showErrorMessagesPreviousStage=this.showErrorMessages}createFormControlComponent(){if(super.createFormControlComponent(),null!==this.componentType){let index;this.context&&this.context instanceof _ng_dynamic_forms_core__WEBPACK_IMPORTED_MODULE_39__.NJD&&(index=this.context.index);const instance=this.dynamicFormComponentService.getFormControlRef(this.model,index);instance&&(instance.formModel=this.formModel,instance.formGroup=this.formGroup)}}forceShowErrorDetection(){this.showErrorMessages&&(this.destroyFormControlComponent(),this.createFormControlComponent())}onChangeLanguage(event2){(0,_empty_util__WEBPACK_IMPORTED_MODULE_42__.UE)(this.model.value)&&this.onChange(event2)}hasRelationship(){return(0,_empty_util__WEBPACK_IMPORTED_MODULE_42__.UE)(this.model)&&this.model.hasOwnProperty("relationship")&&(0,_empty_util__WEBPACK_IMPORTED_MODULE_42__.UE)(this.model.relationship)}isVirtual(){const value=this.model.metadataValue;return(0,_empty_util__WEBPACK_IMPORTED_MODULE_42__.UE)(value)&&value.isVirtual}hasResultsSelected(){return this.model.value.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_44__.UI)(list=>(0,_empty_util__WEBPACK_IMPORTED_MODULE_42__.UE)(list)))}openLookup(){this.modalRef=this.modalService.open(_relation_lookup_modal_dynamic_lookup_relation_modal_component__WEBPACK_IMPORTED_MODULE_26__.i,{size:"lg"}),(0,_empty_util__WEBPACK_IMPORTED_MODULE_42__.Uh)(this.model.value)&&(this.focus.emit({$event:new Event("focus"),context:this.context,control:this.control,model:this.model,type:_ng_dynamic_forms_core__WEBPACK_IMPORTED_MODULE_39__.nm_.Focus}),this.change.emit({$event:new Event("change"),context:this.context,control:this.control,model:this.model,type:_ng_dynamic_forms_core__WEBPACK_IMPORTED_MODULE_39__.nm_.Change})),this.submissionService.dispatchSave(this.model.submissionId);const modalComp=this.modalRef.componentInstance;(0,_empty_util__WEBPACK_IMPORTED_MODULE_42__.Uh)(this.model.value)&&!this.model.readOnly&&("string"==typeof this.model.value?modalComp.query=this.model.value:"string"==typeof this.model.value.value&&(modalComp.query=this.model.value.value)),modalComp.repeatable=this.model.repeatable,modalComp.listId=this.listId,modalComp.relationshipOptions=this.model.relationship,modalComp.label=this.model.relationship.relationshipType,modalComp.metadataFields=this.model.metadataFields,modalComp.item=this.item,modalComp.collection=this.collection,modalComp.submissionId=this.model.submissionId}onRemove(){const arrayContext=this.context.context,path=this.formBuilderService.getPath(arrayContext),formArrayControl=this.group.root.get(path);this.formBuilderService.removeFormArrayGroup(this.context.index,formArrayControl,arrayContext),0===this.model.parent.context.groups.length&&this.formBuilderService.addFormArrayGroup(formArrayControl,arrayContext)}ngOnDestroy(){this.subs.filter(sub=>(0,_empty_util__WEBPACK_IMPORTED_MODULE_42__.Uh)(sub)).forEach(sub=>sub.unsubscribe())}get hasHint(){return(0,_empty_util__WEBPACK_IMPORTED_MODULE_42__.UE)(this.model.hint)&&"&nbsp;"!==this.model.hint}setItem(){const submissionObject$=this.submissionObjectService.findById(this.model.submissionId,!0,!0,(0,_utils_follow_link_config_model__WEBPACK_IMPORTED_MODULE_45__.l)("item"),(0,_utils_follow_link_config_model__WEBPACK_IMPORTED_MODULE_45__.l)("collection")).pipe((0,_core_shared_operators__WEBPACK_IMPORTED_MODULE_27__.g1)(),(0,_core_shared_operators__WEBPACK_IMPORTED_MODULE_27__.xe)());this.item$=submissionObject$.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_44__.wt)(submissionObject=>submissionObject.item.pipe((0,_core_shared_operators__WEBPACK_IMPORTED_MODULE_27__.g1)(),(0,_core_shared_operators__WEBPACK_IMPORTED_MODULE_27__.xe)())));const collection$=submissionObject$.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_44__.wt)(submissionObject=>submissionObject.collection.pipe((0,_core_shared_operators__WEBPACK_IMPORTED_MODULE_27__.g1)(),(0,_core_shared_operators__WEBPACK_IMPORTED_MODULE_27__.xe)())));this.subs.push(this.item$.subscribe(item=>this.item=item)),this.subs.push(collection$.subscribe(collection=>this.collection=collection))}}__name(DsDynamicFormControlContainerComponent,"DsDynamicFormControlContainerComponent"),DsDynamicFormControlContainerComponent.\u0275fac=__name(function(t){return new(t||DsDynamicFormControlContainerComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_38__.Y36(_angular_core__WEBPACK_IMPORTED_MODULE_38__._Vd),_angular_core__WEBPACK_IMPORTED_MODULE_38__.Y36(_ng_dynamic_forms_core__WEBPACK_IMPORTED_MODULE_39__.rJA),_angular_core__WEBPACK_IMPORTED_MODULE_38__.Y36(_ng_dynamic_forms_core__WEBPACK_IMPORTED_MODULE_39__.vnf),_angular_core__WEBPACK_IMPORTED_MODULE_38__.Y36(_ng_dynamic_forms_core__WEBPACK_IMPORTED_MODULE_39__.fhz),_angular_core__WEBPACK_IMPORTED_MODULE_38__.Y36(_ds_dynamic_type_bind_relation_service__WEBPACK_IMPORTED_MODULE_21__.R),_angular_core__WEBPACK_IMPORTED_MODULE_38__.Y36(_ngx_translate_core__WEBPACK_IMPORTED_MODULE_47__.sK),_angular_core__WEBPACK_IMPORTED_MODULE_38__.Y36(_ng_dynamic_forms_core__WEBPACK_IMPORTED_MODULE_39__.uTg),_angular_core__WEBPACK_IMPORTED_MODULE_38__.Y36(_ng_bootstrap_ng_bootstrap__WEBPACK_IMPORTED_MODULE_48__.FF),_angular_core__WEBPACK_IMPORTED_MODULE_38__.Y36(_core_data_relationship_data_service__WEBPACK_IMPORTED_MODULE_22__.U),_angular_core__WEBPACK_IMPORTED_MODULE_38__.Y36(_object_list_selectable_list_selectable_list_service__WEBPACK_IMPORTED_MODULE_23__.w),_angular_core__WEBPACK_IMPORTED_MODULE_38__.Y36(_core_data_item_data_service__WEBPACK_IMPORTED_MODULE_28__.S),_angular_core__WEBPACK_IMPORTED_MODULE_38__.Y36(_angular_core__WEBPACK_IMPORTED_MODULE_38__.R0b),_angular_core__WEBPACK_IMPORTED_MODULE_38__.Y36(_ngrx_store__WEBPACK_IMPORTED_MODULE_49__.yh),_angular_core__WEBPACK_IMPORTED_MODULE_38__.Y36(_core_submission_submission_object_data_service__WEBPACK_IMPORTED_MODULE_29__.O),_angular_core__WEBPACK_IMPORTED_MODULE_38__.Y36(_angular_core__WEBPACK_IMPORTED_MODULE_38__.sBO),_angular_core__WEBPACK_IMPORTED_MODULE_38__.Y36(_form_service__WEBPACK_IMPORTED_MODULE_32__.o),_angular_core__WEBPACK_IMPORTED_MODULE_38__.Y36(_form_builder_service__WEBPACK_IMPORTED_MODULE_35__.c),_angular_core__WEBPACK_IMPORTED_MODULE_38__.Y36(_submission_submission_service__WEBPACK_IMPORTED_MODULE_33__.b))},"DsDynamicFormControlContainerComponent_Factory"),DsDynamicFormControlContainerComponent.\u0275cmp=_angular_core__WEBPACK_IMPORTED_MODULE_38__.Xpm({type:DsDynamicFormControlContainerComponent,selectors:[["ds-dynamic-form-control-container"]],contentQueries:__name(function(rf,ctx,dirIndex){if(1&rf&&_angular_core__WEBPACK_IMPORTED_MODULE_38__.Suo(dirIndex,_ng_dynamic_forms_core__WEBPACK_IMPORTED_MODULE_39__.ATj,4),2&rf){let _t;_angular_core__WEBPACK_IMPORTED_MODULE_38__.iGM(_t=_angular_core__WEBPACK_IMPORTED_MODULE_38__.CRH())&&(ctx.contentTemplateList=_t)}},"DsDynamicFormControlContainerComponent_ContentQueries"),viewQuery:__name(function(rf,ctx){if(1&rf&&_angular_core__WEBPACK_IMPORTED_MODULE_38__.Gf(_c0,7,_angular_core__WEBPACK_IMPORTED_MODULE_38__.s_b),2&rf){let _t;_angular_core__WEBPACK_IMPORTED_MODULE_38__.iGM(_t=_angular_core__WEBPACK_IMPORTED_MODULE_38__.CRH())&&(ctx.componentViewContainerRef=_t.first)}},"DsDynamicFormControlContainerComponent_Query"),inputs:{inputTemplateList:["templates","inputTemplateList"],hasMetadataModel:"hasMetadataModel",formId:"formId",formGroup:"formGroup",formModel:"formModel",asBootstrapFormGroup:"asBootstrapFormGroup",bindId:"bindId",context:"context",group:"group",hostClass:"hostClass",hasErrorMessaging:"hasErrorMessaging",layout:"layout",model:"model"},outputs:{blur:"dfBlur",change:"dfChange",focus:"dfFocus",customEvent:"ngbEvent"},features:[_angular_core__WEBPACK_IMPORTED_MODULE_38__.qOj,_angular_core__WEBPACK_IMPORTED_MODULE_38__.TTD],ngContentSelectors:["*"],decls:16,vars:27,consts:[[3,"formGroup","ngClass"],[3,"id","for","innerHTML","ngClass",4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"ngClass"],["componentViewContainer",""],["class","text-muted ds-hint",3,"innerHTML","ngClass",4,"ngIf"],["class","clearfix w-100 mb-2",4,"ngIf"],[3,"id","ngClass",4,"ngIf"],["class","col-xs-2",4,"ngIf"],["class","col-auto text-center",4,"ngIf"],[4,"ngIf"],[3,"id","for","innerHTML","ngClass"],[1,"text-muted","ds-hint",3,"innerHTML","ngClass"],[1,"clearfix","w-100","mb-2"],[3,"id","ngClass"],["class","invalid-feedback d-block",4,"ngFor","ngForOf"],[1,"invalid-feedback","d-block"],[1,"col-xs-2"],["required","",1,"form-control",3,"disabled","ngModel","ngModelOptions","ngModelChange","blur","change"],["language","ngModel"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],[1,"col-auto","text-center"],["type","button","placement","top",1,"btn","btn-secondary",3,"ngbTooltip","click"],[1,"fa","fa-search"],[3,"reoRel","submissionItem","listId","metadataFields","submissionId","relationshipOptions","remove",4,"ngIf"],[3,"ngClass","reoRel","submissionItem","listId","metadataFields","submissionId","relationshipOptions",4,"ngIf"],[3,"reoRel","submissionItem","listId","metadataFields","submissionId","relationshipOptions","remove"],[3,"ngClass","reoRel","submissionItem","listId","metadataFields","submissionId","relationshipOptions"]],template:__name(function(rf,ctx){1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_38__.F$t(),_angular_core__WEBPACK_IMPORTED_MODULE_38__.TgZ(0,"div",0),_angular_core__WEBPACK_IMPORTED_MODULE_38__.YNc(1,DsDynamicFormControlContainerComponent_label_1_Template,3,11,"label",1),_angular_core__WEBPACK_IMPORTED_MODULE_38__.YNc(2,DsDynamicFormControlContainerComponent_ng_container_2_Template,1,0,"ng-container",2),_angular_core__WEBPACK_IMPORTED_MODULE_38__.TgZ(3,"div",3)(4,"div",3)(5,"div"),_angular_core__WEBPACK_IMPORTED_MODULE_38__.GkF(6,null,4),_angular_core__WEBPACK_IMPORTED_MODULE_38__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_38__.YNc(8,DsDynamicFormControlContainerComponent_small_8_Template,2,4,"small",5),_angular_core__WEBPACK_IMPORTED_MODULE_38__.YNc(9,DsDynamicFormControlContainerComponent_div_9_Template,1,0,"div",6),_angular_core__WEBPACK_IMPORTED_MODULE_38__.YNc(10,DsDynamicFormControlContainerComponent_div_10_Template,2,6,"div",7),_angular_core__WEBPACK_IMPORTED_MODULE_38__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_38__.YNc(11,DsDynamicFormControlContainerComponent_div_11_Template,4,5,"div",8),_angular_core__WEBPACK_IMPORTED_MODULE_38__.YNc(12,DsDynamicFormControlContainerComponent_div_12_Template,4,3,"div",9),_angular_core__WEBPACK_IMPORTED_MODULE_38__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_38__.YNc(13,DsDynamicFormControlContainerComponent_ng_container_13_Template,1,0,"ng-container",2),_angular_core__WEBPACK_IMPORTED_MODULE_38__.YNc(14,DsDynamicFormControlContainerComponent_ng_container_14_Template,5,3,"ng-container",10),_angular_core__WEBPACK_IMPORTED_MODULE_38__.Hsn(15),_angular_core__WEBPACK_IMPORTED_MODULE_38__.qZA()),2&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_38__.ekj("form-group","GROUP"!==ctx.model.type&&ctx.asBootstrapFormGroup||ctx.getClass("element","container").includes("form-group"))("d-none",ctx.model.hidden),_angular_core__WEBPACK_IMPORTED_MODULE_38__.Q6J("formGroup",ctx.group)("ngClass",_angular_core__WEBPACK_IMPORTED_MODULE_38__.WLB(19,_c1,ctx.getClass("element","container"),ctx.getClass("grid","container"))),_angular_core__WEBPACK_IMPORTED_MODULE_38__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_38__.Q6J("ngIf",!ctx.isCheckbox&&ctx.hasLabel),_angular_core__WEBPACK_IMPORTED_MODULE_38__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_38__.Q6J("ngTemplateOutlet",null==ctx.startTemplate?null:ctx.startTemplate.templateRef)("ngTemplateOutletContext",_angular_core__WEBPACK_IMPORTED_MODULE_38__.VKq(22,_c4,ctx.model)),_angular_core__WEBPACK_IMPORTED_MODULE_38__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_38__.Q6J("ngClass",_angular_core__WEBPACK_IMPORTED_MODULE_38__.WLB(24,_c5,ctx.model.hasLanguages||ctx.isRelationship,(null==ctx.value?null:ctx.value.isVirtual)&&(ctx.model.hasSelectableMetadata||(null==ctx.context?null:ctx.context.index)>0))),_angular_core__WEBPACK_IMPORTED_MODULE_38__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_38__.Q6J("ngClass",ctx.getClass("grid","control")),_angular_core__WEBPACK_IMPORTED_MODULE_38__.xp6(4),_angular_core__WEBPACK_IMPORTED_MODULE_38__.Q6J("ngIf",ctx.hasHint&&(!ctx.model.repeatable&&(!1===ctx.isRelationship||null===(null==ctx.value?null:ctx.value.value))||!0===ctx.model.repeatable&&(null==ctx.context?null:ctx.context.index)===(null==ctx.context||null==ctx.context.context||null==ctx.context.context.groups?null:ctx.context.context.groups.length)-1)&&(!ctx.showErrorMessages||0===ctx.errorMessages.length)),_angular_core__WEBPACK_IMPORTED_MODULE_38__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_38__.Q6J("ngIf",null!==(null==ctx.context?null:ctx.context.index)&&(!ctx.showErrorMessages||0===ctx.errorMessages.length)),_angular_core__WEBPACK_IMPORTED_MODULE_38__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_38__.Q6J("ngIf",!ctx.model.hideErrorMessages&&ctx.showErrorMessages),_angular_core__WEBPACK_IMPORTED_MODULE_38__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_38__.Q6J("ngIf",ctx.model.languageCodes&&ctx.model.languageCodes.length>0),_angular_core__WEBPACK_IMPORTED_MODULE_38__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_38__.Q6J("ngIf",ctx.isRelationship),_angular_core__WEBPACK_IMPORTED_MODULE_38__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_38__.Q6J("ngTemplateOutlet",null==ctx.endTemplate?null:ctx.endTemplate.templateRef)("ngTemplateOutletContext",ctx.model),_angular_core__WEBPACK_IMPORTED_MODULE_38__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_38__.Q6J("ngIf",null==ctx.value?null:ctx.value.isVirtual))},"DsDynamicFormControlContainerComponent_Template"),directives:[_angular_forms__WEBPACK_IMPORTED_MODULE_50__.JL,_angular_forms__WEBPACK_IMPORTED_MODULE_50__.sg,_angular_common__WEBPACK_IMPORTED_MODULE_51__.mk,_angular_common__WEBPACK_IMPORTED_MODULE_51__.O5,_angular_common__WEBPACK_IMPORTED_MODULE_51__.tP,_angular_common__WEBPACK_IMPORTED_MODULE_51__.sg,_angular_forms__WEBPACK_IMPORTED_MODULE_50__.EJ,_angular_forms__WEBPACK_IMPORTED_MODULE_50__.Q7,_angular_forms__WEBPACK_IMPORTED_MODULE_50__.JJ,_angular_forms__WEBPACK_IMPORTED_MODULE_50__.On,_angular_forms__WEBPACK_IMPORTED_MODULE_50__.YN,_angular_forms__WEBPACK_IMPORTED_MODULE_50__.Kr,_ng_bootstrap_ng_bootstrap__WEBPACK_IMPORTED_MODULE_48__._L,_existing_metadata_list_element_existing_metadata_list_element_component__WEBPACK_IMPORTED_MODULE_0__.fP,_existing_relation_list_element_existing_relation_list_element_component__WEBPACK_IMPORTED_MODULE_37__.t],pipes:[_ngx_translate_core__WEBPACK_IMPORTED_MODULE_47__.X$,_angular_common__WEBPACK_IMPORTED_MODULE_51__.Ov],styles:["[_nghost-%COMP%]     .ds-form-input-addon{border-top-right-radius:0!important;border-bottom-right-radius:0!important;border-right:0!important}[_nghost-%COMP%]     .ds-form-input-btn{border:var(--bs-input-btn-border-width) solid var(--bs-input-border-color);border-top-left-radius:0;border-bottom-left-radius:0;border-left:0}[_nghost-%COMP%]     .ds-form-input-btn:focus{box-shadow:none!important}[_nghost-%COMP%]     button.ds-form-add-more:focus{outline:none;box-shadow:none!important}[_nghost-%COMP%]     .ds-form-input-value{border-top-left-radius:0!important;border-bottom-left-radius:0!important}[_nghost-%COMP%]     .fa-spin{pointer-events:none}[_nghost-%COMP%]     .left-addon .far, [_nghost-%COMP%]     .left-addon .fas, [_nghost-%COMP%]     .left-addon i{left:0}[_nghost-%COMP%]     .right-addon .far, [_nghost-%COMP%]     .right-addon .fas, [_nghost-%COMP%]     .right-addon i{right:0}[_nghost-%COMP%]     .left-addon input{padding-left:calc(var(--bs-spacer) * 2.25)}[_nghost-%COMP%]     .right-addon input{padding-right:calc(var(--bs-spacer) * 2.25)}[_nghost-%COMP%]{display:flex;flex-direction:column;justify-content:center}[_nghost-%COMP%]     .custom-select{-webkit-appearance:none;appearance:none}"]})},93571:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{zw:()=>ReorderableRelationship,fP:()=>ExistingMetadataListElementComponent});var _angular_core__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(5e3),rxjs__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(76477),rxjs_operators__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(83292),_core_shared_metadata_representation_item_item_metadata_representation_model__WEBPACK_IMPORTED_MODULE_1__=(__webpack_require__(33609),__webpack_require__(27869)),_core_shared_operators__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(13730),_empty_util__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(24702),_object_collection_shared_item_search_result_model__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(84412),_object_list_selectable_list_selectable_list_service__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(51117),_relation_lookup_modal_relationship_actions__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(35355),_submission_submission_service__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(86421),_ngrx_store__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__(85094),_angular_common__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__(69808),_loading_themed_loading_component__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(48106),_metadata_representation_metadata_representation_loader_component__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(71966),_ngx_translate_core__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__(42466);function ExistingMetadataListElementComponent_ng_container_2_Template(rf,ctx){1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_9__.ynx(0),_angular_core__WEBPACK_IMPORTED_MODULE_9__._UZ(1,"ds-themed-loading",5),_angular_core__WEBPACK_IMPORTED_MODULE_9__.BQk()),2&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_9__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_9__.Q6J("showMessage",!1))}function ExistingMetadataListElementComponent_ng_container_4_Template(rf,ctx){if(1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_9__.ynx(0),_angular_core__WEBPACK_IMPORTED_MODULE_9__._UZ(1,"ds-metadata-representation-loader",6),_angular_core__WEBPACK_IMPORTED_MODULE_9__.ALo(2,"async"),_angular_core__WEBPACK_IMPORTED_MODULE_9__.BQk()),2&rf){const ctx_r1=_angular_core__WEBPACK_IMPORTED_MODULE_9__.oxw();_angular_core__WEBPACK_IMPORTED_MODULE_9__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_9__.Q6J("mdRepresentation",_angular_core__WEBPACK_IMPORTED_MODULE_9__.lcZ(2,1,ctx_r1.metadataRepresentation$))}}__name(ExistingMetadataListElementComponent_ng_container_2_Template,"ExistingMetadataListElementComponent_ng_container_2_Template"),__name(ExistingMetadataListElementComponent_ng_container_4_Template,"ExistingMetadataListElementComponent_ng_container_4_Template");class Reorderable{constructor(oldIndex,newIndex){this.oldIndex=oldIndex,this.newIndex=newIndex}update(){this.oldIndex=this.newIndex}get hasMoved(){return this.oldIndex!==this.newIndex}}__name(Reorderable,"Reorderable");__name(class ReorderableFormFieldMetadataValue extends(null){constructor(metadataValue,model,control,group,oldIndex,newIndex){super(oldIndex,newIndex),this.metadataValue=metadataValue,this.model=model,this.control=control,this.group=group,this.metadataValue=metadataValue}getId(){return hasValue(this.metadataValue.authority)?this.metadataValue.authority:this.metadataValue.value}getPlace(){return this.metadataValue.place}},"ReorderableFormFieldMetadataValue");class ReorderableRelationship extends Reorderable{constructor(relationship,useLeftItem,store,submissionID,oldIndex,newIndex){super(oldIndex,newIndex),this.relationship=relationship,this.useLeftItem=useLeftItem,this.store=store,this.submissionID=submissionID,this.relationship=relationship,this.useLeftItem=useLeftItem}getId(){return this.relationship.id}getPlace(){return this.useLeftItem?this.relationship.rightPlace:this.relationship.leftPlace}}__name(ReorderableRelationship,"ReorderableRelationship");class ExistingMetadataListElementComponent{constructor(selectableListService,store,submissionService){this.selectableListService=selectableListService,this.store=store,this.submissionService=submissionService,this.metadataRepresentation$=new rxjs__WEBPACK_IMPORTED_MODULE_10__.BehaviorSubject(void 0),this.remove=new _angular_core__WEBPACK_IMPORTED_MODULE_9__.vpe,this.subs=[]}ngOnInit(){this.ngOnChanges()}ngOnChanges(){if((0,_empty_util__WEBPACK_IMPORTED_MODULE_11__.Uh)(this.reoRel)){const item$=this.reoRel.useLeftItem?this.reoRel.relationship.leftItem:this.reoRel.relationship.rightItem;this.subs.push(item$.pipe((0,_core_shared_operators__WEBPACK_IMPORTED_MODULE_2__.g1)(),(0,_core_shared_operators__WEBPACK_IMPORTED_MODULE_2__.xe)(),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_12__.hX)(item=>(0,_empty_util__WEBPACK_IMPORTED_MODULE_11__.Uh)(item)&&(0,_empty_util__WEBPACK_IMPORTED_MODULE_11__.UE)(item.uuid))).subscribe(item=>{this.relatedItem=item;const relationMD=this.submissionItem.firstMetadata(this.relationshipOptions.metadataField,{value:this.relatedItem.uuid});if((0,_empty_util__WEBPACK_IMPORTED_MODULE_11__.Uh)(relationMD)){const metadataRepresentationMD=this.submissionItem.firstMetadata(this.metadataFields,{authority:relationMD.authority}),nextValue=Object.assign(new _core_shared_metadata_representation_item_item_metadata_representation_model__WEBPACK_IMPORTED_MODULE_1__.A(metadataRepresentationMD),this.relatedItem);this.metadataRepresentation$.next(nextValue)}}))}}removeSelection(){this.submissionService.dispatchSave(this.submissionId),this.submissionService.getSubmissionObject(this.submissionId).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_12__.hX)(state=>!state.savePending&&!state.isLoading),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_12__.qn)(1)).subscribe(()=>{this.selectableListService.deselectSingle(this.listId,Object.assign(new _object_collection_shared_item_search_result_model__WEBPACK_IMPORTED_MODULE_3__.T,{indexableObject:this.relatedItem})),this.store.dispatch(new _relation_lookup_modal_relationship_actions__WEBPACK_IMPORTED_MODULE_5__.J9(this.submissionItem,this.relatedItem,this.relationshipOptions.relationshipType,this.submissionId)),this.remove.emit()})}ngOnDestroy(){this.subs.filter(sub=>(0,_empty_util__WEBPACK_IMPORTED_MODULE_11__.Uh)(sub)).forEach(sub=>sub.unsubscribe())}}__name(ExistingMetadataListElementComponent,"ExistingMetadataListElementComponent"),ExistingMetadataListElementComponent.\u0275fac=__name(function(t){return new(t||ExistingMetadataListElementComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_9__.Y36(_object_list_selectable_list_selectable_list_service__WEBPACK_IMPORTED_MODULE_4__.w),_angular_core__WEBPACK_IMPORTED_MODULE_9__.Y36(_ngrx_store__WEBPACK_IMPORTED_MODULE_13__.yh),_angular_core__WEBPACK_IMPORTED_MODULE_9__.Y36(_submission_submission_service__WEBPACK_IMPORTED_MODULE_6__.b))},"ExistingMetadataListElementComponent_Factory"),ExistingMetadataListElementComponent.\u0275cmp=_angular_core__WEBPACK_IMPORTED_MODULE_9__.Xpm({type:ExistingMetadataListElementComponent,selectors:[["ds-existing-metadata-list-element"]],inputs:{listId:"listId",submissionItem:"submissionItem",reoRel:"reoRel",metadataFields:"metadataFields",relationshipOptions:"relationshipOptions",submissionId:"submissionId"},outputs:{remove:"remove"},features:[_angular_core__WEBPACK_IMPORTED_MODULE_9__.TTD],decls:9,vars:9,consts:[[1,"d-flex"],[1,"mr-auto","text-contents"],[4,"ngIf"],["type","button",1,"btn","btn-secondary",3,"title","click"],["aria-hidden","true",1,"fas","fa-trash"],[3,"showMessage"],[3,"mdRepresentation"]],template:__name(function(rf,ctx){1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_9__.TgZ(0,"div",0)(1,"span",1),_angular_core__WEBPACK_IMPORTED_MODULE_9__.YNc(2,ExistingMetadataListElementComponent_ng_container_2_Template,2,1,"ng-container",2),_angular_core__WEBPACK_IMPORTED_MODULE_9__.ALo(3,"async"),_angular_core__WEBPACK_IMPORTED_MODULE_9__.YNc(4,ExistingMetadataListElementComponent_ng_container_4_Template,3,3,"ng-container",2),_angular_core__WEBPACK_IMPORTED_MODULE_9__.ALo(5,"async"),_angular_core__WEBPACK_IMPORTED_MODULE_9__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_9__.TgZ(6,"button",3),_angular_core__WEBPACK_IMPORTED_MODULE_9__.NdJ("click",__name(function(){return ctx.removeSelection()},"ExistingMetadataListElementComponent_Template_button_click_6_listener")),_angular_core__WEBPACK_IMPORTED_MODULE_9__.ALo(7,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_9__._UZ(8,"i",4),_angular_core__WEBPACK_IMPORTED_MODULE_9__.qZA()()),2&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_9__.xp6(2),_angular_core__WEBPACK_IMPORTED_MODULE_9__.Q6J("ngIf",!_angular_core__WEBPACK_IMPORTED_MODULE_9__.lcZ(3,3,ctx.metadataRepresentation$)),_angular_core__WEBPACK_IMPORTED_MODULE_9__.xp6(2),_angular_core__WEBPACK_IMPORTED_MODULE_9__.Q6J("ngIf",_angular_core__WEBPACK_IMPORTED_MODULE_9__.lcZ(5,5,ctx.metadataRepresentation$)),_angular_core__WEBPACK_IMPORTED_MODULE_9__.xp6(2),_angular_core__WEBPACK_IMPORTED_MODULE_9__.s9C("title",_angular_core__WEBPACK_IMPORTED_MODULE_9__.lcZ(7,7,"form.remove")))},"ExistingMetadataListElementComponent_Template"),directives:[_angular_common__WEBPACK_IMPORTED_MODULE_14__.O5,_loading_themed_loading_component__WEBPACK_IMPORTED_MODULE_7__.Z,_metadata_representation_metadata_representation_loader_component__WEBPACK_IMPORTED_MODULE_8__.G],pipes:[_angular_common__WEBPACK_IMPORTED_MODULE_14__.Ov,_ngx_translate_core__WEBPACK_IMPORTED_MODULE_15__.X$],styles:["span.text-contents[_ngcontent-%COMP%]{padding:var(--bs-btn-padding-y) 0}"]})},77410:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{t:()=>ExistingRelationListElementComponent});var _angular_core__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(5e3),rxjs__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(76477),rxjs_operators__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__(83292),_core_shared_operators__WEBPACK_IMPORTED_MODULE_1__=(__webpack_require__(33609),__webpack_require__(13730)),_empty_util__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(24702),_object_collection_shared_item_search_result_model__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(84412),_object_list_selectable_list_selectable_list_service__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(51117),_relation_lookup_modal_relationship_actions__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(35355),_core_shared_view_mode_model__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(51121),_submission_submission_service__WEBPACK_IMPORTED_MODULE_7__=(__webpack_require__(93571),__webpack_require__(86421)),_ngrx_store__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__(85094),_angular_common__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__(69808),_loading_themed_loading_component__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(48106),_object_collection_shared_listable_object_listable_object_component_loader_component__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(51962);function ExistingRelationListElementComponent_ng_container_2_Template(rf,ctx){1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_10__.ynx(0),_angular_core__WEBPACK_IMPORTED_MODULE_10__._UZ(1,"ds-themed-loading",5),_angular_core__WEBPACK_IMPORTED_MODULE_10__.BQk()),2&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_10__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_10__.Q6J("showMessage",!1))}function ExistingRelationListElementComponent_ng_container_4_Template(rf,ctx){if(1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_10__.ynx(0),_angular_core__WEBPACK_IMPORTED_MODULE_10__._UZ(1,"ds-listable-object-component-loader",6),_angular_core__WEBPACK_IMPORTED_MODULE_10__.ALo(2,"async"),_angular_core__WEBPACK_IMPORTED_MODULE_10__.BQk()),2&rf){const ctx_r1=_angular_core__WEBPACK_IMPORTED_MODULE_10__.oxw();_angular_core__WEBPACK_IMPORTED_MODULE_10__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_10__.Q6J("showLabel",!1)("viewMode",ctx_r1.viewType)("object",_angular_core__WEBPACK_IMPORTED_MODULE_10__.lcZ(2,3,ctx_r1.relatedItem$))}}__name(ExistingRelationListElementComponent_ng_container_2_Template,"ExistingRelationListElementComponent_ng_container_2_Template"),__name(ExistingRelationListElementComponent_ng_container_4_Template,"ExistingRelationListElementComponent_ng_container_4_Template");__name(class Reorderable{constructor(oldIndex,newIndex){this.oldIndex=oldIndex,this.newIndex=newIndex}get hasMoved(){return this.oldIndex!==this.newIndex}},"Reorderable");class ExistingRelationListElementComponent{constructor(selectableListService,submissionService,store){this.selectableListService=selectableListService,this.submissionService=submissionService,this.store=store,this.relatedItem$=new rxjs__WEBPACK_IMPORTED_MODULE_11__.BehaviorSubject(void 0),this.viewType=_core_shared_view_mode_model__WEBPACK_IMPORTED_MODULE_5__.w.ListElement,this.remove=new _angular_core__WEBPACK_IMPORTED_MODULE_10__.vpe,this.subs=[]}ngOnInit(){this.ngOnChanges()}ngOnChanges(){if((0,_empty_util__WEBPACK_IMPORTED_MODULE_12__.Uh)(this.reoRel)){const item$=this.reoRel.useLeftItem?this.reoRel.relationship.leftItem:this.reoRel.relationship.rightItem;this.subs.push(item$.pipe((0,_core_shared_operators__WEBPACK_IMPORTED_MODULE_1__.g1)(),(0,_core_shared_operators__WEBPACK_IMPORTED_MODULE_1__.xe)(),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_13__.hX)(item=>(0,_empty_util__WEBPACK_IMPORTED_MODULE_12__.Uh)(item)&&(0,_empty_util__WEBPACK_IMPORTED_MODULE_12__.UE)(item.uuid))).subscribe(item=>{this.relatedItem$.next(item)}))}}removeSelection(){this.submissionService.dispatchSave(this.submissionId),this.selectableListService.deselectSingle(this.listId,Object.assign(new _object_collection_shared_item_search_result_model__WEBPACK_IMPORTED_MODULE_2__.T,{indexableObject:this.relatedItem$.getValue()})),this.store.dispatch(new _relation_lookup_modal_relationship_actions__WEBPACK_IMPORTED_MODULE_4__.J9(this.submissionItem,this.relatedItem$.getValue(),this.relationshipOptions.relationshipType,this.submissionId))}ngOnDestroy(){this.subs.filter(sub=>(0,_empty_util__WEBPACK_IMPORTED_MODULE_12__.Uh)(sub)).forEach(sub=>sub.unsubscribe())}}__name(ExistingRelationListElementComponent,"ExistingRelationListElementComponent"),ExistingRelationListElementComponent.\u0275fac=__name(function(t){return new(t||ExistingRelationListElementComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_10__.Y36(_object_list_selectable_list_selectable_list_service__WEBPACK_IMPORTED_MODULE_3__.w),_angular_core__WEBPACK_IMPORTED_MODULE_10__.Y36(_submission_submission_service__WEBPACK_IMPORTED_MODULE_7__.b),_angular_core__WEBPACK_IMPORTED_MODULE_10__.Y36(_ngrx_store__WEBPACK_IMPORTED_MODULE_14__.yh))},"ExistingRelationListElementComponent_Factory"),ExistingRelationListElementComponent.\u0275cmp=_angular_core__WEBPACK_IMPORTED_MODULE_10__.Xpm({type:ExistingRelationListElementComponent,selectors:[["ds-existing-relation-list-element"]],inputs:{listId:"listId",submissionItem:"submissionItem",reoRel:"reoRel",metadataFields:"metadataFields",relationshipOptions:"relationshipOptions",submissionId:"submissionId"},outputs:{remove:"remove"},features:[_angular_core__WEBPACK_IMPORTED_MODULE_10__.TTD],decls:8,vars:6,consts:[[1,"d-flex"],[1,"mr-auto","text-contents"],[4,"ngIf"],["type","button",1,"btn","btn-secondary",3,"click"],["aria-hidden","true",1,"fas","fa-trash"],[3,"showMessage"],[3,"showLabel","viewMode","object"]],template:__name(function(rf,ctx){1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_10__.TgZ(0,"div",0)(1,"span",1),_angular_core__WEBPACK_IMPORTED_MODULE_10__.YNc(2,ExistingRelationListElementComponent_ng_container_2_Template,2,1,"ng-container",2),_angular_core__WEBPACK_IMPORTED_MODULE_10__.ALo(3,"async"),_angular_core__WEBPACK_IMPORTED_MODULE_10__.YNc(4,ExistingRelationListElementComponent_ng_container_4_Template,3,5,"ng-container",2),_angular_core__WEBPACK_IMPORTED_MODULE_10__.ALo(5,"async"),_angular_core__WEBPACK_IMPORTED_MODULE_10__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_10__.TgZ(6,"button",3),_angular_core__WEBPACK_IMPORTED_MODULE_10__.NdJ("click",__name(function(){return ctx.removeSelection()},"ExistingRelationListElementComponent_Template_button_click_6_listener")),_angular_core__WEBPACK_IMPORTED_MODULE_10__._UZ(7,"i",4),_angular_core__WEBPACK_IMPORTED_MODULE_10__.qZA()()),2&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_10__.xp6(2),_angular_core__WEBPACK_IMPORTED_MODULE_10__.Q6J("ngIf",!_angular_core__WEBPACK_IMPORTED_MODULE_10__.lcZ(3,2,ctx.relatedItem$)),_angular_core__WEBPACK_IMPORTED_MODULE_10__.xp6(2),_angular_core__WEBPACK_IMPORTED_MODULE_10__.Q6J("ngIf",_angular_core__WEBPACK_IMPORTED_MODULE_10__.lcZ(5,4,ctx.relatedItem$)))},"ExistingRelationListElementComponent_Template"),directives:[_angular_common__WEBPACK_IMPORTED_MODULE_15__.O5,_loading_themed_loading_component__WEBPACK_IMPORTED_MODULE_8__.Z,_object_collection_shared_listable_object_listable_object_component_loader_component__WEBPACK_IMPORTED_MODULE_9__.p],pipes:[_angular_common__WEBPACK_IMPORTED_MODULE_15__.Ov],styles:["span.text-contents[_ngcontent-%COMP%]{padding:var(--bs-btn-padding-y) 0}"]})},79001:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{s:()=>DsDynamicFormArrayComponent});var _angular_core__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(5e3),_ng_dynamic_forms_core__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(87098),_empty_util__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(24702);__webpack_require__(18980);function DsDynamicFormArrayComponent_div_3_ng_container_3_Template(rf,ctx){1&rf&&_angular_core__WEBPACK_IMPORTED_MODULE_1__.GkF(0)}__name(DsDynamicFormArrayComponent_div_3_ng_container_3_Template,"DsDynamicFormArrayComponent_div_3_ng_container_3_Template");const _c0=__name(function(a0){return[a0]},"_c0"),_c1=__name(function(a0,a1){return[a0,a1]},"_c1");function DsDynamicFormArrayComponent_div_3_ds_dynamic_form_control_container_4_Template(rf,ctx){if(1&rf){const _r8=_angular_core__WEBPACK_IMPORTED_MODULE_1__.EpF();_angular_core__WEBPACK_IMPORTED_MODULE_1__.TgZ(0,"ds-dynamic-form-control-container",9),_angular_core__WEBPACK_IMPORTED_MODULE_1__.NdJ("dfBlur",__name(function($event){return _angular_core__WEBPACK_IMPORTED_MODULE_1__.CHM(_r8),_angular_core__WEBPACK_IMPORTED_MODULE_1__.oxw(2).onBlur($event)},"DsDynamicFormArrayComponent_div_3_ds_dynamic_form_control_container_4_Template_ds_dynamic_form_control_container_dfBlur_0_listener"))("dfChange",__name(function($event){return _angular_core__WEBPACK_IMPORTED_MODULE_1__.CHM(_r8),_angular_core__WEBPACK_IMPORTED_MODULE_1__.oxw(2).onChange($event)},"DsDynamicFormArrayComponent_div_3_ds_dynamic_form_control_container_4_Template_ds_dynamic_form_control_container_dfChange_0_listener"))("dfFocus",__name(function($event){return _angular_core__WEBPACK_IMPORTED_MODULE_1__.CHM(_r8),_angular_core__WEBPACK_IMPORTED_MODULE_1__.oxw(2).onFocus($event)},"DsDynamicFormArrayComponent_div_3_ds_dynamic_form_control_container_4_Template_ds_dynamic_form_control_container_dfFocus_0_listener"))("ngbEvent",__name(function($event){return _angular_core__WEBPACK_IMPORTED_MODULE_1__.CHM(_r8),_angular_core__WEBPACK_IMPORTED_MODULE_1__.oxw(2).onCustomEvent($event,null,!0)},"DsDynamicFormArrayComponent_div_3_ds_dynamic_form_control_container_4_Template_ds_dynamic_form_control_container_ngbEvent_0_listener")),_angular_core__WEBPACK_IMPORTED_MODULE_1__.qZA()}if(2&rf){const _model_r6=ctx.$implicit,ctx_r12=_angular_core__WEBPACK_IMPORTED_MODULE_1__.oxw(),groupModel_r1=ctx_r12.$implicit,idx_r2=ctx_r12.index,ctx_r4=_angular_core__WEBPACK_IMPORTED_MODULE_1__.oxw();_angular_core__WEBPACK_IMPORTED_MODULE_1__.ekj("d-none",_model_r6.hidden),_angular_core__WEBPACK_IMPORTED_MODULE_1__.Q6J("bindId",!1)("formGroup",ctx_r4.group)("formModel",ctx_r4.formModel)("context",groupModel_r1)("group",ctx_r4.control.get(_angular_core__WEBPACK_IMPORTED_MODULE_1__.VKq(12,_c0,idx_r2)))("hidden",_model_r6.hidden)("layout",ctx_r4.formLayout)("model",_model_r6)("templates",ctx_r4.templates)("ngClass",_angular_core__WEBPACK_IMPORTED_MODULE_1__.WLB(14,_c1,ctx_r4.getClass("element","host",_model_r6),ctx_r4.getClass("grid","host",_model_r6)))}}function DsDynamicFormArrayComponent_div_3_ng_container_5_Template(rf,ctx){1&rf&&_angular_core__WEBPACK_IMPORTED_MODULE_1__.GkF(0)}function DsDynamicFormArrayComponent_div_3_Template(rf,ctx){if(1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_1__.TgZ(0,"div",4)(1,"div",5),_angular_core__WEBPACK_IMPORTED_MODULE_1__._UZ(2,"i",6),_angular_core__WEBPACK_IMPORTED_MODULE_1__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_1__.YNc(3,DsDynamicFormArrayComponent_div_3_ng_container_3_Template,1,0,"ng-container",7),_angular_core__WEBPACK_IMPORTED_MODULE_1__.YNc(4,DsDynamicFormArrayComponent_div_3_ds_dynamic_form_control_container_4_Template,1,17,"ds-dynamic-form-control-container",8),_angular_core__WEBPACK_IMPORTED_MODULE_1__.YNc(5,DsDynamicFormArrayComponent_div_3_ng_container_5_Template,1,0,"ng-container",7),_angular_core__WEBPACK_IMPORTED_MODULE_1__.qZA()),2&rf){const groupModel_r1=ctx.$implicit,idx_r2=ctx.index,ctx_r0=_angular_core__WEBPACK_IMPORTED_MODULE_1__.oxw();_angular_core__WEBPACK_IMPORTED_MODULE_1__.ekj("grey-background",ctx_r0.model.isInlineGroupArray),_angular_core__WEBPACK_IMPORTED_MODULE_1__.Q6J("formGroupName",idx_r2)("ngClass",_angular_core__WEBPACK_IMPORTED_MODULE_1__.WLB(15,_c1,ctx_r0.getClass("element","group"),ctx_r0.getClass("grid","group")))("cdkDragDisabled",ctx_r0.dragDisabled)("cdkDragPreviewClass","ds-submission-reorder-dragging"),_angular_core__WEBPACK_IMPORTED_MODULE_1__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_1__.ekj("drag-disable",ctx_r0.dragDisabled),_angular_core__WEBPACK_IMPORTED_MODULE_1__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_1__.ekj("drag-disable",ctx_r0.dragDisabled),_angular_core__WEBPACK_IMPORTED_MODULE_1__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_1__.Q6J("ngTemplateOutlet",null==ctx_r0.startTemplate?null:ctx_r0.startTemplate.templateRef)("ngTemplateOutletContext",groupModel_r1),_angular_core__WEBPACK_IMPORTED_MODULE_1__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_1__.Q6J("ngForOf",groupModel_r1.group),_angular_core__WEBPACK_IMPORTED_MODULE_1__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_1__.Q6J("ngTemplateOutlet",null==ctx_r0.endTemplate?null:ctx_r0.endTemplate.templateRef)("ngTemplateOutletContext",groupModel_r1)}}__name(DsDynamicFormArrayComponent_div_3_ds_dynamic_form_control_container_4_Template,"DsDynamicFormArrayComponent_div_3_ds_dynamic_form_control_container_4_Template"),__name(DsDynamicFormArrayComponent_div_3_ng_container_5_Template,"DsDynamicFormArrayComponent_div_3_ng_container_5_Template"),__name(DsDynamicFormArrayComponent_div_3_Template,"DsDynamicFormArrayComponent_div_3_Template");class DsDynamicFormArrayComponent extends _ng_dynamic_forms_core__WEBPACK_IMPORTED_MODULE_2__.CRj{constructor(layoutService,validationService){super(layoutService,validationService),this.layoutService=layoutService,this.validationService=validationService,this.bindId=!0,this.blur=new _angular_core__WEBPACK_IMPORTED_MODULE_1__.vpe,this.change=new _angular_core__WEBPACK_IMPORTED_MODULE_1__.vpe,this.focus=new _angular_core__WEBPACK_IMPORTED_MODULE_1__.vpe,this.customEvent=new _angular_core__WEBPACK_IMPORTED_MODULE_1__.vpe}moveSelection(event2){if(event2.previousIndex===event2.currentIndex)return;this.model.moveGroup(event2.previousIndex,event2.currentIndex-event2.previousIndex);const prevIndex=event2.previousIndex,index=event2.currentIndex;(0,_empty_util__WEBPACK_IMPORTED_MODULE_3__.Uh)(this.model.groups[index])&&(0,_empty_util__WEBPACK_IMPORTED_MODULE_3__.Uh)(this.control.controls[index])&&this.onCustomEvent({previousIndex:prevIndex,index,arrayModel:this.model,model:this.model.groups[index].group[0],control:this.control.controls[index]},"move")}update(event2,index){const $event=Object.assign({},event2,{context:{index:index-1}});this.onChange($event)}get dragDisabled(){return 1===this.model.groups.length||!this.model.isDraggable}}__name(DsDynamicFormArrayComponent,"DsDynamicFormArrayComponent"),DsDynamicFormArrayComponent.\u0275fac=__name(function(t){return new(t||DsDynamicFormArrayComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_1__.Y36(_ng_dynamic_forms_core__WEBPACK_IMPORTED_MODULE_2__.vnf),_angular_core__WEBPACK_IMPORTED_MODULE_1__.Y36(_ng_dynamic_forms_core__WEBPACK_IMPORTED_MODULE_2__.fhz))},"DsDynamicFormArrayComponent_Factory"),DsDynamicFormArrayComponent.\u0275cmp=_angular_core__WEBPACK_IMPORTED_MODULE_1__.Xpm({type:DsDynamicFormArrayComponent,selectors:[["ds-dynamic-form-array"]],inputs:{bindId:"bindId",formModel:"formModel",formLayout:"formLayout",group:"group",layout:"layout",model:"model",templates:"templates"},outputs:{blur:"dfBlur",change:"dfChange",focus:"dfFocus",customEvent:"ngbEvent"},features:[_angular_core__WEBPACK_IMPORTED_MODULE_1__.qOj],decls:4,vars:7,consts:[[3,"formGroup"],[3,"id","formArrayName","ngClass"],["cdkDropList","","cdkDropListLockAxis","y",3,"cdkDropListDropped"],["role","group","cdkDrag","","cdkDragHandle","",3,"formGroupName","ngClass","cdkDragDisabled","cdkDragPreviewClass","grey-background",4,"ngFor","ngForOf"],["role","group","cdkDrag","","cdkDragHandle","",3,"formGroupName","ngClass","cdkDragDisabled","cdkDragPreviewClass"],["tabindex","0",1,"drag-handle"],[1,"drag-icon","fas","fa-grip-vertical","fa-fw"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"bindId","formGroup","formModel","context","group","hidden","d-none","layout","model","templates","ngClass","dfBlur","dfChange","dfFocus","ngbEvent",4,"ngFor","ngForOf"],[3,"bindId","formGroup","formModel","context","group","hidden","layout","model","templates","ngClass","dfBlur","dfChange","dfFocus","ngbEvent"]],template:__name(function(rf,ctx){1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_1__.ynx(0,0),_angular_core__WEBPACK_IMPORTED_MODULE_1__.TgZ(1,"div",1)(2,"div",2),_angular_core__WEBPACK_IMPORTED_MODULE_1__.NdJ("cdkDropListDropped",__name(function($event){return ctx.moveSelection($event)},"DsDynamicFormArrayComponent_Template_div_cdkDropListDropped_2_listener")),_angular_core__WEBPACK_IMPORTED_MODULE_1__.YNc(3,DsDynamicFormArrayComponent_div_3_Template,6,18,"div",3),_angular_core__WEBPACK_IMPORTED_MODULE_1__.qZA()(),_angular_core__WEBPACK_IMPORTED_MODULE_1__.BQk()),2&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_1__.Q6J("formGroup",ctx.group),_angular_core__WEBPACK_IMPORTED_MODULE_1__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_1__.ekj("d-none",ctx.model.hidden),_angular_core__WEBPACK_IMPORTED_MODULE_1__.Q6J("id",ctx.id)("formArrayName",ctx.model.id)("ngClass",ctx.getClass("element","control")),_angular_core__WEBPACK_IMPORTED_MODULE_1__.xp6(2),_angular_core__WEBPACK_IMPORTED_MODULE_1__.Q6J("ngForOf",ctx.model.groups))},"DsDynamicFormArrayComponent_Template"),styles:["[_nghost-%COMP%]{display:block}.drag-disable[_ngcontent-%COMP%]{visibility:hidden!important}.drag-disable[_ngcontent-%COMP%]:hover, .drag-disable[_ngcontent-%COMP%]:focus{cursor:default}.drag-disable[_ngcontent-%COMP%]:hover   .drag-icon[_ngcontent-%COMP%], .drag-disable[_ngcontent-%COMP%]:focus   .drag-icon[_ngcontent-%COMP%]{visibility:hidden!important}.cdk-drag[_ngcontent-%COMP%]{margin-left:calc(-2.3 * var(--bs-spacer));margin-right:calc(-.5 * var(--bs-spacer));padding-right:calc(.5 * var(--bs-spacer))}.cdk-drag[_ngcontent-%COMP%]   .drag-icon[_ngcontent-%COMP%]{visibility:hidden;width:calc(2 * var(--bs-spacer));color:var(--bs-gray-600);margin:var(--bs-btn-padding-y) 0;line-height:var(--bs-btn-line-height);text-indent:calc(.5 * var(--bs-spacer))}.cdk-drag[_ngcontent-%COMP%]:hover, .cdk-drag[_ngcontent-%COMP%]:focus{cursor:grab}.cdk-drag[_ngcontent-%COMP%]:hover   .drag-icon[_ngcontent-%COMP%], .cdk-drag[_ngcontent-%COMP%]:focus   .drag-icon[_ngcontent-%COMP%]{visibility:visible}.drag-handle[_ngcontent-%COMP%]:hover{cursor:move}.drag-handle[_ngcontent-%COMP%]:focus   .drag-icon[_ngcontent-%COMP%]{visibility:visible}.cdk-drop-list-dragging[_ngcontent-%COMP%]   .drag-handle[_ngcontent-%COMP%]{cursor:grabbing}.cdk-drop-list-dragging[_ngcontent-%COMP%]   .drag-handle[_ngcontent-%COMP%]   .drag-icon[_ngcontent-%COMP%]{visibility:hidden}.cdk-drag-preview[_ngcontent-%COMP%]{margin:0;padding:0}.cdk-drag-placeholder[_ngcontent-%COMP%]{opacity:0}"]})},13457:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{_:()=>CustomSwitchComponent});var _angular_core__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(5e3),_ng_dynamic_forms_ui_ng_bootstrap__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(65806),_ng_dynamic_forms_core__WEBPACK_IMPORTED_MODULE_3__=(__webpack_require__(45014),__webpack_require__(87098)),_angular_forms__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(93075),_angular_common__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(69808);const _c0=__name(function(a0,a1){return[a0,a1]},"_c0");class CustomSwitchComponent extends _ng_dynamic_forms_ui_ng_bootstrap__WEBPACK_IMPORTED_MODULE_1__.Gy{constructor(layoutService,validationService){super(layoutService,validationService),this.bindId=!0,this.selected=new _angular_core__WEBPACK_IMPORTED_MODULE_2__.vpe,this.remove=new _angular_core__WEBPACK_IMPORTED_MODULE_2__.vpe,this.blur=new _angular_core__WEBPACK_IMPORTED_MODULE_2__.vpe,this.change=new _angular_core__WEBPACK_IMPORTED_MODULE_2__.vpe,this.focus=new _angular_core__WEBPACK_IMPORTED_MODULE_2__.vpe}}__name(CustomSwitchComponent,"CustomSwitchComponent"),CustomSwitchComponent.\u0275fac=__name(function(t){return new(t||CustomSwitchComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_2__.Y36(_ng_dynamic_forms_core__WEBPACK_IMPORTED_MODULE_3__.vnf),_angular_core__WEBPACK_IMPORTED_MODULE_2__.Y36(_ng_dynamic_forms_core__WEBPACK_IMPORTED_MODULE_3__.fhz))},"CustomSwitchComponent_Factory"),CustomSwitchComponent.\u0275cmp=_angular_core__WEBPACK_IMPORTED_MODULE_2__.Xpm({type:CustomSwitchComponent,selectors:[["ds-custom-switch"]],inputs:{bindId:"bindId",group:"group",model:"model"},outputs:{selected:"selected",remove:"remove",blur:"blur",change:"change",focus:"focus"},features:[_angular_core__WEBPACK_IMPORTED_MODULE_2__.qOj],decls:4,vars:20,consts:[[1,"form-check","custom-control","custom-switch",3,"formGroup"],["type","checkbox",1,"form-check-input","custom-control-input",3,"checked","id","formControlName","indeterminate","name","ngClass","required","tabindex","value","blur","change","focus"],[1,"form-check-label","custom-control-label",3,"for"],[3,"innerHTML","ngClass"]],template:__name(function(rf,ctx){1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_2__.TgZ(0,"div",0)(1,"input",1),_angular_core__WEBPACK_IMPORTED_MODULE_2__.NdJ("blur",__name(function($event){return ctx.onBlur($event)},"CustomSwitchComponent_Template_input_blur_1_listener"))("change",__name(function($event){return ctx.onChange($event)},"CustomSwitchComponent_Template_input_change_1_listener"))("focus",__name(function($event){return ctx.onFocus($event)},"CustomSwitchComponent_Template_input_focus_1_listener")),_angular_core__WEBPACK_IMPORTED_MODULE_2__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_2__.TgZ(2,"label",2),_angular_core__WEBPACK_IMPORTED_MODULE_2__._UZ(3,"span",3),_angular_core__WEBPACK_IMPORTED_MODULE_2__.qZA()()),2&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_2__.ekj("disabled",ctx.model.disabled),_angular_core__WEBPACK_IMPORTED_MODULE_2__.Q6J("formGroup",ctx.group),_angular_core__WEBPACK_IMPORTED_MODULE_2__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_2__.ekj("is-invalid",ctx.showErrorMessages),_angular_core__WEBPACK_IMPORTED_MODULE_2__.Q6J("checked",ctx.model.checked)("id",ctx.id)("formControlName",ctx.model.id)("indeterminate",ctx.model.indeterminate)("name",ctx.model.name)("ngClass",ctx.getClass("element","control"))("required",ctx.model.required)("tabindex",ctx.model.tabIndex)("value",ctx.model.value),_angular_core__WEBPACK_IMPORTED_MODULE_2__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_2__.Q6J("for",ctx.bindId&&ctx.model.id),_angular_core__WEBPACK_IMPORTED_MODULE_2__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_2__.Q6J("innerHTML",ctx.model.label,_angular_core__WEBPACK_IMPORTED_MODULE_2__.oJD)("ngClass",_angular_core__WEBPACK_IMPORTED_MODULE_2__.WLB(17,_c0,ctx.getClass("element","label"),ctx.getClass("grid","label"))))},"CustomSwitchComponent_Template"),directives:[_angular_forms__WEBPACK_IMPORTED_MODULE_4__.JL,_angular_forms__WEBPACK_IMPORTED_MODULE_4__.sg,_angular_forms__WEBPACK_IMPORTED_MODULE_4__.Wl,_angular_forms__WEBPACK_IMPORTED_MODULE_4__.Zs,_angular_forms__WEBPACK_IMPORTED_MODULE_4__.JJ,_angular_forms__WEBPACK_IMPORTED_MODULE_4__.u,_angular_common__WEBPACK_IMPORTED_MODULE_5__.mk],styles:[""]})},45014:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{c:()=>DYNAMIC_FORM_CONTROL_TYPE_CUSTOM_SWITCH,p:()=>DynamicCustomSwitchModel});var tslib__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(70655),_ng_dynamic_forms_core__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(87098);const DYNAMIC_FORM_CONTROL_TYPE_CUSTOM_SWITCH="CUSTOM_SWITCH";class DynamicCustomSwitchModel extends _ng_dynamic_forms_core__WEBPACK_IMPORTED_MODULE_0__.dwp{constructor(config,layout){super(config,layout),this.type=DYNAMIC_FORM_CONTROL_TYPE_CUSTOM_SWITCH}}__name(DynamicCustomSwitchModel,"DynamicCustomSwitchModel"),(0,tslib__WEBPACK_IMPORTED_MODULE_1__.gn)([(0,_ng_dynamic_forms_core__WEBPACK_IMPORTED_MODULE_0__.BgY)(),(0,tslib__WEBPACK_IMPORTED_MODULE_1__.w6)("design:type",String)],DynamicCustomSwitchModel.prototype,"type",void 0)},19869:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{u:()=>DsDatePickerInlineComponent});var _angular_core__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(5e3),_ng_bootstrap_ng_bootstrap__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(13707),_ng_dynamic_forms_core__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(87098),_angular_forms__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(93075),_angular_common__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(69808);function DsDatePickerInlineComponent_i_5_Template(rf,ctx){if(1&rf&&_angular_core__WEBPACK_IMPORTED_MODULE_0__._UZ(0,"i",7),2&rf){const ctx_r1=_angular_core__WEBPACK_IMPORTED_MODULE_0__.oxw();_angular_core__WEBPACK_IMPORTED_MODULE_0__.Tol(ctx_r1.model.toggleIcon)}}function DsDatePickerInlineComponent_span_6_Template(rf,ctx){if(1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_0__.TgZ(0,"span"),_angular_core__WEBPACK_IMPORTED_MODULE_0__._uU(1),_angular_core__WEBPACK_IMPORTED_MODULE_0__.qZA()),2&rf){const ctx_r2=_angular_core__WEBPACK_IMPORTED_MODULE_0__.oxw();_angular_core__WEBPACK_IMPORTED_MODULE_0__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Oqu(ctx_r2.model.toggleLabel)}}__name(DsDatePickerInlineComponent_i_5_Template,"DsDatePickerInlineComponent_i_5_Template"),__name(DsDatePickerInlineComponent_span_6_Template,"DsDatePickerInlineComponent_span_6_Template");class DsDatePickerInlineComponent extends _ng_dynamic_forms_core__WEBPACK_IMPORTED_MODULE_1__.LvC{constructor(layoutService,validationService,config){super(layoutService,validationService),this.layoutService=layoutService,this.validationService=validationService,this.config=config,this.bindId=!0,this.blur=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.vpe,this.change=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.vpe,this.focus=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.vpe}}__name(DsDatePickerInlineComponent,"DsDatePickerInlineComponent"),DsDatePickerInlineComponent.\u0275fac=__name(function(t){return new(t||DsDatePickerInlineComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_0__.Y36(_ng_dynamic_forms_core__WEBPACK_IMPORTED_MODULE_1__.vnf),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Y36(_ng_dynamic_forms_core__WEBPACK_IMPORTED_MODULE_1__.fhz),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Y36(_ng_bootstrap_ng_bootstrap__WEBPACK_IMPORTED_MODULE_2__.M4))},"DsDatePickerInlineComponent_Factory"),DsDatePickerInlineComponent.\u0275cmp=_angular_core__WEBPACK_IMPORTED_MODULE_0__.Xpm({type:DsDatePickerInlineComponent,selectors:[["ds-dynamic-date-picker-inline"]],viewQuery:__name(function(rf,ctx){if(1&rf&&_angular_core__WEBPACK_IMPORTED_MODULE_0__.Gf(_ng_bootstrap_ng_bootstrap__WEBPACK_IMPORTED_MODULE_2__.VL,5),2&rf){let _t;_angular_core__WEBPACK_IMPORTED_MODULE_0__.iGM(_t=_angular_core__WEBPACK_IMPORTED_MODULE_0__.CRH())&&(ctx.ngbDatePicker=_t.first)}},"DsDatePickerInlineComponent_Query"),inputs:{bindId:"bindId",group:"group",layout:"layout",model:"model"},outputs:{blur:"blur",change:"change",focus:"focus"},features:[_angular_core__WEBPACK_IMPORTED_MODULE_0__.qOj],decls:7,vars:25,consts:[[1,"input-group",3,"formGroup"],["ngbDatepicker","",1,"form-control",3,"displayMonths","id","firstDayOfWeek","formControlName","maxDate","minDate","name","navigation","ngClass","outsideDays","placeholder","placement","weekdays","showWeekNumbers","startDate","blur","dateSelect","change","focus"],["datepicker","ngbDatepicker"],[1,"input-group-append"],["type","button",1,"btn","btn-outline-secondary",3,"disabled","click"],["aria-hidden","true",3,"class",4,"ngIf"],[4,"ngIf"],["aria-hidden","true"]],template:__name(function(rf,ctx){if(1&rf){const _r3=_angular_core__WEBPACK_IMPORTED_MODULE_0__.EpF();_angular_core__WEBPACK_IMPORTED_MODULE_0__.TgZ(0,"div",0)(1,"input",1,2),_angular_core__WEBPACK_IMPORTED_MODULE_0__.NdJ("blur",__name(function($event){return ctx.onBlur($event)},"DsDatePickerInlineComponent_Template_input_blur_1_listener"))("dateSelect",__name(function($event){return ctx.onChange($event)},"DsDatePickerInlineComponent_Template_input_dateSelect_1_listener"))("change",__name(function($event){return ctx.onChange($event)},"DsDatePickerInlineComponent_Template_input_change_1_listener"))("focus",__name(function($event){return ctx.onFocus($event)},"DsDatePickerInlineComponent_Template_input_focus_1_listener")),_angular_core__WEBPACK_IMPORTED_MODULE_0__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_0__.TgZ(3,"div",3)(4,"button",4),_angular_core__WEBPACK_IMPORTED_MODULE_0__.NdJ("click",__name(function(){return _angular_core__WEBPACK_IMPORTED_MODULE_0__.CHM(_r3),_angular_core__WEBPACK_IMPORTED_MODULE_0__.MAs(2).toggle()},"DsDatePickerInlineComponent_Template_button_click_4_listener")),_angular_core__WEBPACK_IMPORTED_MODULE_0__.YNc(5,DsDatePickerInlineComponent_i_5_Template,1,3,"i",5),_angular_core__WEBPACK_IMPORTED_MODULE_0__.YNc(6,DsDatePickerInlineComponent_span_6_Template,2,1,"span",6),_angular_core__WEBPACK_IMPORTED_MODULE_0__.qZA()()()}2&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_0__.Q6J("formGroup",ctx.group),_angular_core__WEBPACK_IMPORTED_MODULE_0__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_0__.ekj("is-invalid",ctx.showErrorMessages),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Q6J("displayMonths",ctx.model.getAdditional("displayMonths",ctx.config.displayMonths))("id",ctx.id)("firstDayOfWeek",ctx.model.getAdditional("firstDayOfWeek",ctx.config.firstDayOfWeek))("formControlName",ctx.model.id)("maxDate",ctx.model.max)("minDate",ctx.model.min)("name",ctx.model.name)("navigation",ctx.model.getAdditional("navigation",ctx.config.navigation))("ngClass",ctx.getClass("element","control"))("outsideDays",ctx.model.getAdditional("outsideDays",ctx.config.outsideDays))("placeholder",ctx.model.placeholder)("placement",ctx.model.getAdditional("placement","bottom-left"))("weekdays",ctx.model.getAdditional("showWeekdays",ctx.config.showWeekdays))("showWeekNumbers",ctx.model.getAdditional("showWeekNumbers",ctx.config.showWeekNumbers))("startDate",ctx.model.focusedDate),_angular_core__WEBPACK_IMPORTED_MODULE_0__.uIk("aria-labelledby","label_"+ctx.model.id),_angular_core__WEBPACK_IMPORTED_MODULE_0__.xp6(3),_angular_core__WEBPACK_IMPORTED_MODULE_0__.ekj("disabled",ctx.model.disabled),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Q6J("disabled",ctx.model.disabled),_angular_core__WEBPACK_IMPORTED_MODULE_0__.uIk("aria-labelledby","label_"+ctx.model.id),_angular_core__WEBPACK_IMPORTED_MODULE_0__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Q6J("ngIf",ctx.model.toggleIcon),_angular_core__WEBPACK_IMPORTED_MODULE_0__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Q6J("ngIf",ctx.model.toggleLabel))},"DsDatePickerInlineComponent_Template"),directives:[_angular_forms__WEBPACK_IMPORTED_MODULE_3__.JL,_angular_forms__WEBPACK_IMPORTED_MODULE_3__.sg,_ng_bootstrap_ng_bootstrap__WEBPACK_IMPORTED_MODULE_2__.J4,_angular_forms__WEBPACK_IMPORTED_MODULE_3__.Fj,_angular_forms__WEBPACK_IMPORTED_MODULE_3__.JJ,_angular_forms__WEBPACK_IMPORTED_MODULE_3__.u,_angular_common__WEBPACK_IMPORTED_MODULE_4__.mk,_angular_common__WEBPACK_IMPORTED_MODULE_4__.O5],encapsulation:2})},8671:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{x:()=>DsDynamicDisabledComponent});var _angular_core__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(5e3),_ng_dynamic_forms_core__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(87098),_ngx_translate_core__WEBPACK_IMPORTED_MODULE_3__=(__webpack_require__(53905),__webpack_require__(42466));class DsDynamicDisabledComponent extends _ng_dynamic_forms_core__WEBPACK_IMPORTED_MODULE_1__.LvC{constructor(layoutService,validationService){super(layoutService,validationService),this.layoutService=layoutService,this.validationService=validationService,this.modelValuesString="",this.blur=new _angular_core__WEBPACK_IMPORTED_MODULE_2__.vpe,this.change=new _angular_core__WEBPACK_IMPORTED_MODULE_2__.vpe,this.focus=new _angular_core__WEBPACK_IMPORTED_MODULE_2__.vpe}}__name(DsDynamicDisabledComponent,"DsDynamicDisabledComponent"),DsDynamicDisabledComponent.\u0275fac=__name(function(t){return new(t||DsDynamicDisabledComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_2__.Y36(_ng_dynamic_forms_core__WEBPACK_IMPORTED_MODULE_1__.vnf),_angular_core__WEBPACK_IMPORTED_MODULE_2__.Y36(_ng_dynamic_forms_core__WEBPACK_IMPORTED_MODULE_1__.fhz))},"DsDynamicDisabledComponent_Factory"),DsDynamicDisabledComponent.\u0275cmp=_angular_core__WEBPACK_IMPORTED_MODULE_2__.Xpm({type:DsDynamicDisabledComponent,selectors:[["ds-dynamic-disabled"]],inputs:{formId:"formId",group:"group",model:"model"},outputs:{blur:"blur",change:"change",focus:"focus"},features:[_angular_core__WEBPACK_IMPORTED_MODULE_2__.qOj],decls:5,vars:11,consts:[[1,"form-row","align-items-center"],[1,"col"],[1,"form-control",3,"id","name","value","disabled","type","placeholder","readonly"]],template:__name(function(rf,ctx){1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_2__.TgZ(0,"div")(1,"div",0)(2,"div",1),_angular_core__WEBPACK_IMPORTED_MODULE_2__._UZ(3,"input",2),_angular_core__WEBPACK_IMPORTED_MODULE_2__.ALo(4,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_2__.qZA()()()),2&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_2__.xp6(3),_angular_core__WEBPACK_IMPORTED_MODULE_2__.ekj("is-invalid",ctx.showErrorMessages),_angular_core__WEBPACK_IMPORTED_MODULE_2__.Q6J("id",ctx.id)("name",ctx.model.name)("value",ctx.modelValuesString)("disabled",ctx.model.disabled)("type",ctx.model.inputType)("placeholder",_angular_core__WEBPACK_IMPORTED_MODULE_2__.lcZ(4,9,ctx.model.placeholder))("readonly",ctx.model.readOnly))},"DsDynamicDisabledComponent_Template"),pipes:[_ngx_translate_core__WEBPACK_IMPORTED_MODULE_3__.X$],encapsulation:2})},10362:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{m:()=>DsDynamicVocabularyComponent});var _ng_dynamic_forms_core__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(87098),rxjs_operators__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(83292),rxjs__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(76477),_core_submission_vocabularies_vocabulary_service__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(49566),_empty_util__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(24702),_models_form_field_metadata_value_model__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(7973),_core_submission_vocabularies_models_vocabulary_entry_model__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(58140),_core_shared_page_info_model__WEBPACK_IMPORTED_MODULE_4__=(__webpack_require__(19260),__webpack_require__(62713)),_angular_core__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(5e3);class DsDynamicVocabularyComponent extends _ng_dynamic_forms_core__WEBPACK_IMPORTED_MODULE_5__.LvC{constructor(vocabularyService,layoutService,validationService){super(layoutService,validationService),this.vocabularyService=vocabularyService,this.layoutService=layoutService,this.validationService=validationService}getInitValueFromModel(){let initValue$;if((0,_empty_util__WEBPACK_IMPORTED_MODULE_6__.UE)(this.model.value)&&this.model.value instanceof _models_form_field_metadata_value_model__WEBPACK_IMPORTED_MODULE_1__.u){let initEntry$;initEntry$=this.model.value.hasAuthority()?this.vocabularyService.getVocabularyEntryByID(this.model.value.authority,this.model.vocabularyOptions):this.vocabularyService.getVocabularyEntryByValue(this.model.value.value,this.model.vocabularyOptions),initValue$=initEntry$.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_7__.UI)(initEntry=>(0,_empty_util__WEBPACK_IMPORTED_MODULE_6__.UE)(initEntry)?new _models_form_field_metadata_value_model__WEBPACK_IMPORTED_MODULE_1__.u(initEntry.value,null,initEntry.authority,initEntry.display,this.model.value.place,null,initEntry.otherInformation||null):this.model.value))}else initValue$=(0,_empty_util__WEBPACK_IMPORTED_MODULE_6__.UE)(this.model.value)&&this.model.value instanceof _core_submission_vocabularies_models_vocabulary_entry_model__WEBPACK_IMPORTED_MODULE_2__.j?(0,rxjs__WEBPACK_IMPORTED_MODULE_8__.of)(new _models_form_field_metadata_value_model__WEBPACK_IMPORTED_MODULE_1__.u(this.model.value.value,null,this.model.value.authority,this.model.value.display,0,null,this.model.value.otherInformation||null)):(0,rxjs__WEBPACK_IMPORTED_MODULE_8__.of)(new _models_form_field_metadata_value_model__WEBPACK_IMPORTED_MODULE_1__.u(this.model.value));return initValue$}onBlur(event2){this.blur.emit(event2)}onFocus(event2){this.focus.emit(event2)}dispatchUpdate(updateValue){this.model.value=updateValue,this.change.emit(updateValue)}updatePageInfo(elementsPerPage,currentPage,totalElements,totalPages){this.pageInfo=Object.assign(new _core_shared_page_info_model__WEBPACK_IMPORTED_MODULE_4__.S,{elementsPerPage,currentPage,totalElements,totalPages})}}__name(DsDynamicVocabularyComponent,"DsDynamicVocabularyComponent"),DsDynamicVocabularyComponent.\u0275fac=__name(function(t){return new(t||DsDynamicVocabularyComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_9__.Y36(_core_submission_vocabularies_vocabulary_service__WEBPACK_IMPORTED_MODULE_0__.c),_angular_core__WEBPACK_IMPORTED_MODULE_9__.Y36(_ng_dynamic_forms_core__WEBPACK_IMPORTED_MODULE_5__.vnf),_angular_core__WEBPACK_IMPORTED_MODULE_9__.Y36(_ng_dynamic_forms_core__WEBPACK_IMPORTED_MODULE_5__.fhz))},"DsDynamicVocabularyComponent_Factory"),DsDynamicVocabularyComponent.\u0275cmp=_angular_core__WEBPACK_IMPORTED_MODULE_9__.Xpm({type:DsDynamicVocabularyComponent,selectors:[["ds-dynamic-vocabulary"]],inputs:{group:"group",model:"model"},outputs:{blur:"blur",change:"change",focus:"focus"},features:[_angular_core__WEBPACK_IMPORTED_MODULE_9__.qOj],decls:0,vars:0,template:__name(function(rf,ctx){},"DsDynamicVocabularyComponent_Template"),encapsulation:2})},66319:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{i:()=>DsDynamicFormGroupComponent});var _angular_core__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(5e3),_ng_dynamic_forms_core__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(87098);const _c0=__name(function(a0,a1){return[a0,a1]},"_c0");function DsDynamicFormGroupComponent_ds_dynamic_form_control_container_3_Template(rf,ctx){if(1&rf){const _r3=_angular_core__WEBPACK_IMPORTED_MODULE_0__.EpF();_angular_core__WEBPACK_IMPORTED_MODULE_0__.TgZ(0,"ds-dynamic-form-control-container",4),_angular_core__WEBPACK_IMPORTED_MODULE_0__.NdJ("dfBlur",__name(function($event){return _angular_core__WEBPACK_IMPORTED_MODULE_0__.CHM(_r3),_angular_core__WEBPACK_IMPORTED_MODULE_0__.oxw().onBlur($event)},"DsDynamicFormGroupComponent_ds_dynamic_form_control_container_3_Template_ds_dynamic_form_control_container_dfBlur_0_listener"))("dfChange",__name(function($event){return _angular_core__WEBPACK_IMPORTED_MODULE_0__.CHM(_r3),_angular_core__WEBPACK_IMPORTED_MODULE_0__.oxw().onChange($event)},"DsDynamicFormGroupComponent_ds_dynamic_form_control_container_3_Template_ds_dynamic_form_control_container_dfChange_0_listener"))("dfFocus",__name(function($event){return _angular_core__WEBPACK_IMPORTED_MODULE_0__.CHM(_r3),_angular_core__WEBPACK_IMPORTED_MODULE_0__.oxw().onFocus($event)},"DsDynamicFormGroupComponent_ds_dynamic_form_control_container_3_Template_ds_dynamic_form_control_container_dfFocus_0_listener"))("ngbEvent",__name(function($event){return _angular_core__WEBPACK_IMPORTED_MODULE_0__.CHM(_r3),_angular_core__WEBPACK_IMPORTED_MODULE_0__.oxw().onCustomEvent($event,null,!0)},"DsDynamicFormGroupComponent_ds_dynamic_form_control_container_3_Template_ds_dynamic_form_control_container_ngbEvent_0_listener")),_angular_core__WEBPACK_IMPORTED_MODULE_0__.qZA()}if(2&rf){const _model_r1=ctx.$implicit,ctx_r0=_angular_core__WEBPACK_IMPORTED_MODULE_0__.oxw();_angular_core__WEBPACK_IMPORTED_MODULE_0__.ekj("d-none",_model_r1.hidden),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Q6J("formGroup",ctx_r0.group)("formModel",ctx_r0.formModel)("group",ctx_r0.control)("hasErrorMessaging",ctx_r0.model.hasErrorMessages)("hidden",_model_r1.hidden)("layout",ctx_r0.formLayout)("model",_model_r1)("templates",ctx_r0.templates)("ngClass",_angular_core__WEBPACK_IMPORTED_MODULE_0__.WLB(11,_c0,ctx_r0.getClass("element","host",_model_r1),ctx_r0.getClass("grid","host",_model_r1)))}}__name(DsDynamicFormGroupComponent_ds_dynamic_form_control_container_3_Template,"DsDynamicFormGroupComponent_ds_dynamic_form_control_container_3_Template");class DsDynamicFormGroupComponent extends _ng_dynamic_forms_core__WEBPACK_IMPORTED_MODULE_1__.LvC{constructor(layoutService,validationService){super(layoutService,validationService),this.layoutService=layoutService,this.validationService=validationService,this.blur=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.vpe,this.change=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.vpe,this.focus=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.vpe,this.customEvent=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.vpe}}__name(DsDynamicFormGroupComponent,"DsDynamicFormGroupComponent"),DsDynamicFormGroupComponent.\u0275fac=__name(function(t){return new(t||DsDynamicFormGroupComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_0__.Y36(_ng_dynamic_forms_core__WEBPACK_IMPORTED_MODULE_1__.vnf),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Y36(_ng_dynamic_forms_core__WEBPACK_IMPORTED_MODULE_1__.fhz))},"DsDynamicFormGroupComponent_Factory"),DsDynamicFormGroupComponent.\u0275cmp=_angular_core__WEBPACK_IMPORTED_MODULE_0__.Xpm({type:DsDynamicFormGroupComponent,selectors:[["ds-dynamic-form-group"]],inputs:{formModel:"formModel",formLayout:"formLayout",group:"group",layout:"layout",model:"model",templates:"templates"},outputs:{blur:"dfBlur",change:"dfChange",focus:"dfFocus",customEvent:"ngbEvent"},features:[_angular_core__WEBPACK_IMPORTED_MODULE_0__.qOj],decls:4,vars:7,consts:[[2,"width","100%"],[3,"formGroup"],["role","group",3,"formGroupName","id","ngClass"],[3,"formGroup","formModel","group","hasErrorMessaging","hidden","d-none","layout","model","templates","ngClass","dfBlur","dfChange","dfFocus","ngbEvent",4,"ngFor","ngForOf"],[3,"formGroup","formModel","group","hasErrorMessaging","hidden","layout","model","templates","ngClass","dfBlur","dfChange","dfFocus","ngbEvent"]],template:__name(function(rf,ctx){1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_0__.TgZ(0,"div",0),_angular_core__WEBPACK_IMPORTED_MODULE_0__.ynx(1,1),_angular_core__WEBPACK_IMPORTED_MODULE_0__.TgZ(2,"div",2),_angular_core__WEBPACK_IMPORTED_MODULE_0__.YNc(3,DsDynamicFormGroupComponent_ds_dynamic_form_control_container_3_Template,1,14,"ds-dynamic-form-control-container",3),_angular_core__WEBPACK_IMPORTED_MODULE_0__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_0__.BQk(),_angular_core__WEBPACK_IMPORTED_MODULE_0__.qZA()),2&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_0__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Q6J("formGroup",ctx.group),_angular_core__WEBPACK_IMPORTED_MODULE_0__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_0__.ekj("d-none",ctx.model.hidden),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Q6J("formGroupName",ctx.model.id)("id",ctx.id)("ngClass",ctx.getClass("element","control")),_angular_core__WEBPACK_IMPORTED_MODULE_0__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Q6J("ngForOf",ctx.model.group))},"DsDynamicFormGroupComponent_Template"),encapsulation:2})},88766:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{d:()=>DsDynamicListComponent});var _angular_core__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(5e3),_ng_dynamic_forms_core__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(87098),lodash__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(17489),_empty_util__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(24702),_form_builder_service__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(71022),_core_submission_vocabularies_vocabulary_service__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(49566),_core_shared_operators__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(13730),_core_shared_page_info_model__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(62713),_angular_forms__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(93075),_angular_common__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(69808);function DsDynamicListComponent_div_1_div_1_div_1_Template(rf,ctx){if(1&rf){const _r7=_angular_core__WEBPACK_IMPORTED_MODULE_5__.EpF();_angular_core__WEBPACK_IMPORTED_MODULE_5__.TgZ(0,"div",7)(1,"input",8),_angular_core__WEBPACK_IMPORTED_MODULE_5__.NdJ("blur",__name(function($event){return _angular_core__WEBPACK_IMPORTED_MODULE_5__.CHM(_r7),_angular_core__WEBPACK_IMPORTED_MODULE_5__.oxw(3).onBlur($event)},"DsDynamicListComponent_div_1_div_1_div_1_Template_input_blur_1_listener"))("change",__name(function($event){return _angular_core__WEBPACK_IMPORTED_MODULE_5__.CHM(_r7),_angular_core__WEBPACK_IMPORTED_MODULE_5__.oxw(3).onChange($event)},"DsDynamicListComponent_div_1_div_1_div_1_Template_input_change_1_listener"))("focus",__name(function($event){return _angular_core__WEBPACK_IMPORTED_MODULE_5__.CHM(_r7),_angular_core__WEBPACK_IMPORTED_MODULE_5__.oxw(3).onFocus($event)},"DsDynamicListComponent_div_1_div_1_div_1_Template_input_focus_1_listener")),_angular_core__WEBPACK_IMPORTED_MODULE_5__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_5__.TgZ(2,"label",9),_angular_core__WEBPACK_IMPORTED_MODULE_5__._UZ(3,"span",10),_angular_core__WEBPACK_IMPORTED_MODULE_5__.qZA()()}if(2&rf){const item_r5=ctx.$implicit,ctx_r4=_angular_core__WEBPACK_IMPORTED_MODULE_5__.oxw(3);_angular_core__WEBPACK_IMPORTED_MODULE_5__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_5__.Q6J("checked",item_r5.value)("id",item_r5.id)("formControlName",item_r5.id)("name",ctx_r4.model.name)("required",ctx_r4.model.required)("value",item_r5.value),_angular_core__WEBPACK_IMPORTED_MODULE_5__.uIk("aria-labelledby","label_"+ctx_r4.model.id)("tabindex",item_r5.index),_angular_core__WEBPACK_IMPORTED_MODULE_5__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_5__.ekj("disabled",ctx_r4.model.disabled),_angular_core__WEBPACK_IMPORTED_MODULE_5__.Q6J("ngClass",null==ctx_r4.model.layout.element?null:ctx_r4.model.layout.element.control)("for",item_r5.id),_angular_core__WEBPACK_IMPORTED_MODULE_5__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_5__.Q6J("ngClass",null==ctx_r4.model.layout.element?null:ctx_r4.model.layout.element.label)("innerHTML",item_r5.label,_angular_core__WEBPACK_IMPORTED_MODULE_5__.oJD)}}function DsDynamicListComponent_div_1_div_1_Template(rf,ctx){if(1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_5__.TgZ(0,"div",5),_angular_core__WEBPACK_IMPORTED_MODULE_5__.YNc(1,DsDynamicListComponent_div_1_div_1_div_1_Template,4,14,"div",6),_angular_core__WEBPACK_IMPORTED_MODULE_5__._UZ(2,"br"),_angular_core__WEBPACK_IMPORTED_MODULE_5__.qZA()),2&rf){const columnItems_r3=ctx.$implicit;_angular_core__WEBPACK_IMPORTED_MODULE_5__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_5__.Q6J("ngForOf",columnItems_r3)}}function DsDynamicListComponent_div_1_Template(rf,ctx){if(1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_5__.TgZ(0,"div",3),_angular_core__WEBPACK_IMPORTED_MODULE_5__.YNc(1,DsDynamicListComponent_div_1_div_1_Template,3,1,"div",4),_angular_core__WEBPACK_IMPORTED_MODULE_5__.qZA()),2&rf){const ctx_r0=_angular_core__WEBPACK_IMPORTED_MODULE_5__.oxw();_angular_core__WEBPACK_IMPORTED_MODULE_5__.Q6J("id",ctx_r0.id)("formGroupName",ctx_r0.model.id)("ngClass",null==ctx_r0.model.layout.element?null:ctx_r0.model.layout.element.control),_angular_core__WEBPACK_IMPORTED_MODULE_5__.uIk("tabindex",ctx_r0.model.tabIndex),_angular_core__WEBPACK_IMPORTED_MODULE_5__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_5__.Q6J("ngForOf",ctx_r0.items)}}function DsDynamicListComponent_div_2_div_1_div_1_Template(rf,ctx){if(1&rf){const _r15=_angular_core__WEBPACK_IMPORTED_MODULE_5__.EpF();_angular_core__WEBPACK_IMPORTED_MODULE_5__.TgZ(0,"div",13)(1,"input",14),_angular_core__WEBPACK_IMPORTED_MODULE_5__.NdJ("blur",__name(function($event){return _angular_core__WEBPACK_IMPORTED_MODULE_5__.CHM(_r15),_angular_core__WEBPACK_IMPORTED_MODULE_5__.oxw(3).onBlur($event)},"DsDynamicListComponent_div_2_div_1_div_1_Template_input_blur_1_listener"))("focus",__name(function($event){return _angular_core__WEBPACK_IMPORTED_MODULE_5__.CHM(_r15),_angular_core__WEBPACK_IMPORTED_MODULE_5__.oxw(3).onFocus($event)},"DsDynamicListComponent_div_2_div_1_div_1_Template_input_focus_1_listener")),_angular_core__WEBPACK_IMPORTED_MODULE_5__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_5__.TgZ(2,"label",9),_angular_core__WEBPACK_IMPORTED_MODULE_5__._UZ(3,"span",10),_angular_core__WEBPACK_IMPORTED_MODULE_5__.qZA()()}if(2&rf){const item_r13=ctx.$implicit,ctx_r12=_angular_core__WEBPACK_IMPORTED_MODULE_5__.oxw(3);_angular_core__WEBPACK_IMPORTED_MODULE_5__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_5__.Q6J("checked",item_r13.value)("id",item_r13.id)("name",ctx_r12.model.id)("required",ctx_r12.model.required)("value",item_r13.index),_angular_core__WEBPACK_IMPORTED_MODULE_5__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_5__.ekj("disabled",ctx_r12.model.disabled),_angular_core__WEBPACK_IMPORTED_MODULE_5__.Q6J("ngClass",null==ctx_r12.model.layout.element?null:ctx_r12.model.layout.element.control)("for",item_r13.id),_angular_core__WEBPACK_IMPORTED_MODULE_5__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_5__.Q6J("ngClass",null==ctx_r12.model.layout.element?null:ctx_r12.model.layout.element.label)("innerHTML",item_r13.label,_angular_core__WEBPACK_IMPORTED_MODULE_5__.oJD)}}function DsDynamicListComponent_div_2_div_1_Template(rf,ctx){if(1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_5__.TgZ(0,"div",5),_angular_core__WEBPACK_IMPORTED_MODULE_5__.YNc(1,DsDynamicListComponent_div_2_div_1_div_1_Template,4,11,"div",12),_angular_core__WEBPACK_IMPORTED_MODULE_5__._UZ(2,"br"),_angular_core__WEBPACK_IMPORTED_MODULE_5__.qZA()),2&rf){const columnItems_r11=ctx.$implicit;_angular_core__WEBPACK_IMPORTED_MODULE_5__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_5__.Q6J("ngForOf",columnItems_r11)}}function DsDynamicListComponent_div_2_Template(rf,ctx){if(1&rf){const _r18=_angular_core__WEBPACK_IMPORTED_MODULE_5__.EpF();_angular_core__WEBPACK_IMPORTED_MODULE_5__.TgZ(0,"div",11),_angular_core__WEBPACK_IMPORTED_MODULE_5__.NdJ("change",__name(function($event){return _angular_core__WEBPACK_IMPORTED_MODULE_5__.CHM(_r18),_angular_core__WEBPACK_IMPORTED_MODULE_5__.oxw().onChange($event)},"DsDynamicListComponent_div_2_Template_div_change_0_listener")),_angular_core__WEBPACK_IMPORTED_MODULE_5__.YNc(1,DsDynamicListComponent_div_2_div_1_Template,3,1,"div",4),_angular_core__WEBPACK_IMPORTED_MODULE_5__.qZA()}if(2&rf){const ctx_r1=_angular_core__WEBPACK_IMPORTED_MODULE_5__.oxw();_angular_core__WEBPACK_IMPORTED_MODULE_5__.Q6J("id",ctx_r1.id)("ngClass",null==ctx_r1.model.layout.element?null:ctx_r1.model.layout.element.control),_angular_core__WEBPACK_IMPORTED_MODULE_5__.uIk("tabindex",ctx_r1.model.tabIndex),_angular_core__WEBPACK_IMPORTED_MODULE_5__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_5__.Q6J("ngForOf",ctx_r1.items)}}__name(DsDynamicListComponent_div_1_div_1_div_1_Template,"DsDynamicListComponent_div_1_div_1_div_1_Template"),__name(DsDynamicListComponent_div_1_div_1_Template,"DsDynamicListComponent_div_1_div_1_Template"),__name(DsDynamicListComponent_div_1_Template,"DsDynamicListComponent_div_1_Template"),__name(DsDynamicListComponent_div_2_div_1_div_1_Template,"DsDynamicListComponent_div_2_div_1_div_1_Template"),__name(DsDynamicListComponent_div_2_div_1_Template,"DsDynamicListComponent_div_2_div_1_Template"),__name(DsDynamicListComponent_div_2_Template,"DsDynamicListComponent_div_2_Template");class DsDynamicListComponent extends _ng_dynamic_forms_core__WEBPACK_IMPORTED_MODULE_6__.LvC{constructor(vocabularyService,cdr,formBuilderService,layoutService,validationService){super(layoutService,validationService),this.vocabularyService=vocabularyService,this.cdr=cdr,this.formBuilderService=formBuilderService,this.layoutService=layoutService,this.validationService=validationService,this.blur=new _angular_core__WEBPACK_IMPORTED_MODULE_5__.vpe,this.change=new _angular_core__WEBPACK_IMPORTED_MODULE_5__.vpe,this.focus=new _angular_core__WEBPACK_IMPORTED_MODULE_5__.vpe,this.items=[]}ngOnInit(){this.model.vocabularyOptions&&(0,_empty_util__WEBPACK_IMPORTED_MODULE_7__.Uh)(this.model.vocabularyOptions.name)&&this.setOptionsFromVocabulary()}onBlur(event2){this.blur.emit(event2)}onFocus(event2){this.focus.emit(event2)}onChange(event2){const target=event2.target;if(this.model.repeatable){const entry=this.optionsList[target.tabIndex];if(target.checked)this.model.valueUpdates.next(entry);else{const newValue=[];this.model.value.filter(item=>item.value!==entry.value).forEach(item=>newValue.push(item)),this.model.valueUpdates.next(newValue)}}else this.model.value=this.optionsList[target.value];this.change.emit(event2)}setOptionsFromVocabulary(){if(this.model.vocabularyOptions.name&&this.model.vocabularyOptions.name.length>0){const listGroup=this.group.controls[this.model.id],pageInfo=new _core_shared_page_info_model__WEBPACK_IMPORTED_MODULE_4__.S({elementsPerPage:9999,currentPage:1});this.vocabularyService.getVocabularyEntries(this.model.vocabularyOptions,pageInfo).pipe((0,_core_shared_operators__WEBPACK_IMPORTED_MODULE_3__.Gp)()).subscribe(entries=>{let groupCounter=0,itemsPerGroup=0,tempList=[];this.optionsList=entries.page,entries.page.forEach((option,key)=>{const value=option.authority||option.value,checked=(0,_empty_util__WEBPACK_IMPORTED_MODULE_7__.UE)((0,lodash__WEBPACK_IMPORTED_MODULE_0__.findKey)(this.model.value,v=>v.value===option.value)),item={id:value,label:option.display,value:checked,index:key};this.model.repeatable?this.formBuilderService.addFormGroupControl(listGroup,this.model,new _ng_dynamic_forms_core__WEBPACK_IMPORTED_MODULE_6__.dwp(item)):this.model.options.push({label:item.label,value:option}),tempList.push(item),itemsPerGroup++,this.items[groupCounter]=tempList,itemsPerGroup===this.model.groupLength&&(groupCounter++,itemsPerGroup=0,tempList=[])}),this.cdr.markForCheck()})}}}__name(DsDynamicListComponent,"DsDynamicListComponent"),DsDynamicListComponent.\u0275fac=__name(function(t){return new(t||DsDynamicListComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_5__.Y36(_core_submission_vocabularies_vocabulary_service__WEBPACK_IMPORTED_MODULE_2__.c),_angular_core__WEBPACK_IMPORTED_MODULE_5__.Y36(_angular_core__WEBPACK_IMPORTED_MODULE_5__.sBO),_angular_core__WEBPACK_IMPORTED_MODULE_5__.Y36(_form_builder_service__WEBPACK_IMPORTED_MODULE_1__.c),_angular_core__WEBPACK_IMPORTED_MODULE_5__.Y36(_ng_dynamic_forms_core__WEBPACK_IMPORTED_MODULE_6__.vnf),_angular_core__WEBPACK_IMPORTED_MODULE_5__.Y36(_ng_dynamic_forms_core__WEBPACK_IMPORTED_MODULE_6__.fhz))},"DsDynamicListComponent_Factory"),DsDynamicListComponent.\u0275cmp=_angular_core__WEBPACK_IMPORTED_MODULE_5__.Xpm({type:DsDynamicListComponent,selectors:[["ds-dynamic-list"]],inputs:{group:"group",model:"model"},outputs:{blur:"blur",change:"change",focus:"focus"},features:[_angular_core__WEBPACK_IMPORTED_MODULE_5__.qOj],decls:3,vars:3,consts:[[3,"formGroup"],["class","form-row",3,"id","formGroupName","ngClass",4,"ngIf"],["class","form-row","ngbRadioGroup","",3,"id","ngClass","change",4,"ngIf"],[1,"form-row",3,"id","formGroupName","ngClass"],["class","col-sm ml-3",4,"ngFor","ngForOf"],[1,"col-sm","ml-3"],["class","custom-control custom-checkbox",4,"ngFor","ngForOf"],[1,"custom-control","custom-checkbox"],["type","checkbox",1,"custom-control-input",3,"checked","id","formControlName","name","required","value","blur","change","focus"],[1,"custom-control-label",3,"ngClass","for"],[3,"ngClass","innerHTML"],["ngbRadioGroup","",1,"form-row",3,"id","ngClass","change"],["class","custom-control custom-radio",4,"ngFor","ngForOf"],[1,"custom-control","custom-radio"],["type","radio",1,"custom-control-input",3,"checked","id","name","required","value","blur","focus"]],template:__name(function(rf,ctx){1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_5__.TgZ(0,"div",0),_angular_core__WEBPACK_IMPORTED_MODULE_5__.YNc(1,DsDynamicListComponent_div_1_Template,2,5,"div",1),_angular_core__WEBPACK_IMPORTED_MODULE_5__.YNc(2,DsDynamicListComponent_div_2_Template,2,4,"div",2),_angular_core__WEBPACK_IMPORTED_MODULE_5__.qZA()),2&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_5__.Q6J("formGroup",ctx.group),_angular_core__WEBPACK_IMPORTED_MODULE_5__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_5__.Q6J("ngIf",ctx.model.repeatable),_angular_core__WEBPACK_IMPORTED_MODULE_5__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_5__.Q6J("ngIf",!ctx.model.repeatable))},"DsDynamicListComponent_Template"),directives:[_angular_forms__WEBPACK_IMPORTED_MODULE_8__.JL,_angular_forms__WEBPACK_IMPORTED_MODULE_8__.sg,_angular_common__WEBPACK_IMPORTED_MODULE_9__.O5,_angular_forms__WEBPACK_IMPORTED_MODULE_8__.x0,_angular_common__WEBPACK_IMPORTED_MODULE_9__.mk,_angular_common__WEBPACK_IMPORTED_MODULE_9__.sg,_angular_forms__WEBPACK_IMPORTED_MODULE_8__.Wl,_angular_forms__WEBPACK_IMPORTED_MODULE_8__.Zs,_angular_forms__WEBPACK_IMPORTED_MODULE_8__.JJ,_angular_forms__WEBPACK_IMPORTED_MODULE_8__.u],styles:[""]})},21650:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{G:()=>DsDynamicLookupComponent});var _angular_core__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(5e3),rxjs__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__(76477),rxjs_operators__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__(83292),_core_submission_vocabularies_vocabulary_service__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(49566),_empty_util__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(24702),_core_shared_page_info_model__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(62713),_models_form_field_metadata_value_model__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(7973),_core_submission_vocabularies_models_vocabulary_entry_model__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(58140),_dynamic_lookup_name_model__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(16125),_core_data_paginated_list_model__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(24789),_core_shared_operators__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(13730),_dynamic_vocabulary_component__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(10362),_ng_dynamic_forms_core__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__(87098),_ng_bootstrap_ng_bootstrap__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__(13707),_authority_confidence_authority_confidence_state_directive__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(30735),_angular_forms__WEBPACK_IMPORTED_MODULE_17__=__webpack_require__(93075),_angular_common__WEBPACK_IMPORTED_MODULE_18__=__webpack_require__(69808),ngx_infinite_scroll__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(76554),_ngx_translate_core__WEBPACK_IMPORTED_MODULE_19__=__webpack_require__(42466),_utils_object_ngfor_pipe__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(43928);const _c0=__name(function(){return{}},"_c0");function DsDynamicLookupComponent_div_7_Template(rf,ctx){if(1&rf){const _r13=_angular_core__WEBPACK_IMPORTED_MODULE_11__.EpF();_angular_core__WEBPACK_IMPORTED_MODULE_11__.TgZ(0,"div",17)(1,"input",18),_angular_core__WEBPACK_IMPORTED_MODULE_11__.NdJ("ngModelChange",__name(function($event){_angular_core__WEBPACK_IMPORTED_MODULE_11__.CHM(_r13);return _angular_core__WEBPACK_IMPORTED_MODULE_11__.oxw().secondInputValue=$event},"DsDynamicLookupComponent_div_7_Template_input_ngModelChange_1_listener"))("change",__name(function($event){return _angular_core__WEBPACK_IMPORTED_MODULE_11__.CHM(_r13),_angular_core__WEBPACK_IMPORTED_MODULE_11__.oxw().onChange($event)},"DsDynamicLookupComponent_div_7_Template_input_change_1_listener"))("blur",__name(function($event){_angular_core__WEBPACK_IMPORTED_MODULE_11__.CHM(_r13);const ctx_r15=_angular_core__WEBPACK_IMPORTED_MODULE_11__.oxw(),_r0=_angular_core__WEBPACK_IMPORTED_MODULE_11__.MAs(1);return ctx_r15.onBlur($event),$event.stopPropagation(),_r0.close()},"DsDynamicLookupComponent_div_7_Template_input_blur_1_listener"))("focus",__name(function($event){_angular_core__WEBPACK_IMPORTED_MODULE_11__.CHM(_r13);const ctx_r16=_angular_core__WEBPACK_IMPORTED_MODULE_11__.oxw(),_r0=_angular_core__WEBPACK_IMPORTED_MODULE_11__.MAs(1);return ctx_r16.onFocus($event),$event.stopPropagation(),_r0.close()},"DsDynamicLookupComponent_div_7_Template_input_focus_1_listener"))("click",__name(function($event){_angular_core__WEBPACK_IMPORTED_MODULE_11__.CHM(_r13),_angular_core__WEBPACK_IMPORTED_MODULE_11__.oxw();const _r0=_angular_core__WEBPACK_IMPORTED_MODULE_11__.MAs(1);return $event.stopPropagation(),_r0.close()},"DsDynamicLookupComponent_div_7_Template_input_click_1_listener")),_angular_core__WEBPACK_IMPORTED_MODULE_11__.ALo(2,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_11__.qZA()()}if(2&rf){const ctx_r1=_angular_core__WEBPACK_IMPORTED_MODULE_11__.oxw();_angular_core__WEBPACK_IMPORTED_MODULE_11__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_11__.ekj("is-invalid",ctx_r1.showErrorMessages),_angular_core__WEBPACK_IMPORTED_MODULE_11__.Q6J("ngClass",_angular_core__WEBPACK_IMPORTED_MODULE_11__.DdM(14,_c0))("id",ctx_r1.id)("name",ctx_r1.model.name+"_2")("type",ctx_r1.model.inputType)("ngModel",ctx_r1.secondInputValue)("disabled",0===ctx_r1.firstInputValue.length||ctx_r1.isInputDisabled())("placeholder",_angular_core__WEBPACK_IMPORTED_MODULE_11__.lcZ(2,12,ctx_r1.model.secondPlaceholder))("readonly",ctx_r1.model.readOnly),_angular_core__WEBPACK_IMPORTED_MODULE_11__.uIk("aria-labelledby","label_"+ctx_r1.model.id)("autoComplete",ctx_r1.model.autoComplete)}}function DsDynamicLookupComponent_button_13_Template(rf,ctx){if(1&rf){const _r19=_angular_core__WEBPACK_IMPORTED_MODULE_11__.EpF();_angular_core__WEBPACK_IMPORTED_MODULE_11__.TgZ(0,"button",19),_angular_core__WEBPACK_IMPORTED_MODULE_11__.NdJ("click",__name(function(){return _angular_core__WEBPACK_IMPORTED_MODULE_11__.CHM(_r19),_angular_core__WEBPACK_IMPORTED_MODULE_11__.oxw().remove()},"DsDynamicLookupComponent_button_13_Template_button_click_0_listener")),_angular_core__WEBPACK_IMPORTED_MODULE_11__.ALo(1,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_11__._uU(2),_angular_core__WEBPACK_IMPORTED_MODULE_11__.ALo(3,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_11__.qZA()}if(2&rf){const ctx_r2=_angular_core__WEBPACK_IMPORTED_MODULE_11__.oxw();_angular_core__WEBPACK_IMPORTED_MODULE_11__.s9C("ngbTooltip",_angular_core__WEBPACK_IMPORTED_MODULE_11__.lcZ(1,3,"form.clear-help")),_angular_core__WEBPACK_IMPORTED_MODULE_11__.Q6J("disabled",ctx_r2.model.readOnly),_angular_core__WEBPACK_IMPORTED_MODULE_11__.xp6(2),_angular_core__WEBPACK_IMPORTED_MODULE_11__.hij("",_angular_core__WEBPACK_IMPORTED_MODULE_11__.lcZ(3,5,"form.clear")," ")}}function DsDynamicLookupComponent_button_15_Template(rf,ctx){if(1&rf){const _r21=_angular_core__WEBPACK_IMPORTED_MODULE_11__.EpF();_angular_core__WEBPACK_IMPORTED_MODULE_11__.TgZ(0,"button",19),_angular_core__WEBPACK_IMPORTED_MODULE_11__.NdJ("click",__name(function(){return _angular_core__WEBPACK_IMPORTED_MODULE_11__.CHM(_r21),_angular_core__WEBPACK_IMPORTED_MODULE_11__.oxw().switchEditMode()},"DsDynamicLookupComponent_button_15_Template_button_click_0_listener")),_angular_core__WEBPACK_IMPORTED_MODULE_11__.ALo(1,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_11__._uU(2),_angular_core__WEBPACK_IMPORTED_MODULE_11__.ALo(3,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_11__.qZA()}if(2&rf){const ctx_r3=_angular_core__WEBPACK_IMPORTED_MODULE_11__.oxw();_angular_core__WEBPACK_IMPORTED_MODULE_11__.s9C("ngbTooltip",_angular_core__WEBPACK_IMPORTED_MODULE_11__.lcZ(1,3,"form.edit-help")),_angular_core__WEBPACK_IMPORTED_MODULE_11__.Q6J("disabled",ctx_r3.isEditDisabled()),_angular_core__WEBPACK_IMPORTED_MODULE_11__.xp6(2),_angular_core__WEBPACK_IMPORTED_MODULE_11__.hij("",_angular_core__WEBPACK_IMPORTED_MODULE_11__.lcZ(3,5,"form.edit")," ")}}function DsDynamicLookupComponent_button_16_Template(rf,ctx){if(1&rf){const _r23=_angular_core__WEBPACK_IMPORTED_MODULE_11__.EpF();_angular_core__WEBPACK_IMPORTED_MODULE_11__.TgZ(0,"button",19),_angular_core__WEBPACK_IMPORTED_MODULE_11__.NdJ("click",__name(function(){return _angular_core__WEBPACK_IMPORTED_MODULE_11__.CHM(_r23),_angular_core__WEBPACK_IMPORTED_MODULE_11__.oxw().saveChanges()},"DsDynamicLookupComponent_button_16_Template_button_click_0_listener")),_angular_core__WEBPACK_IMPORTED_MODULE_11__.ALo(1,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_11__._uU(2),_angular_core__WEBPACK_IMPORTED_MODULE_11__.ALo(3,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_11__.qZA()}if(2&rf){const ctx_r4=_angular_core__WEBPACK_IMPORTED_MODULE_11__.oxw();_angular_core__WEBPACK_IMPORTED_MODULE_11__.s9C("ngbTooltip",_angular_core__WEBPACK_IMPORTED_MODULE_11__.lcZ(1,3,"form.save-help")),_angular_core__WEBPACK_IMPORTED_MODULE_11__.Q6J("disabled",!ctx_r4.hasEmptyValue()),_angular_core__WEBPACK_IMPORTED_MODULE_11__.xp6(2),_angular_core__WEBPACK_IMPORTED_MODULE_11__.hij("",_angular_core__WEBPACK_IMPORTED_MODULE_11__.lcZ(3,5,"form.save")," ")}}function DsDynamicLookupComponent_button_19_Template(rf,ctx){if(1&rf){const _r25=_angular_core__WEBPACK_IMPORTED_MODULE_11__.EpF();_angular_core__WEBPACK_IMPORTED_MODULE_11__.TgZ(0,"button",20),_angular_core__WEBPACK_IMPORTED_MODULE_11__.NdJ("click",__name(function($event){_angular_core__WEBPACK_IMPORTED_MODULE_11__.CHM(_r25);const ctx_r24=_angular_core__WEBPACK_IMPORTED_MODULE_11__.oxw(),_r0=_angular_core__WEBPACK_IMPORTED_MODULE_11__.MAs(1);return $event.stopPropagation(),ctx_r24.clearFields(),_r0.close()},"DsDynamicLookupComponent_button_19_Template_button_click_0_listener")),_angular_core__WEBPACK_IMPORTED_MODULE_11__._uU(1),_angular_core__WEBPACK_IMPORTED_MODULE_11__.ALo(2,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_11__.qZA()}2&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_11__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_11__.hij("",_angular_core__WEBPACK_IMPORTED_MODULE_11__.lcZ(2,1,"form.no-results")," "))}__name(DsDynamicLookupComponent_div_7_Template,"DsDynamicLookupComponent_div_7_Template"),__name(DsDynamicLookupComponent_button_13_Template,"DsDynamicLookupComponent_button_13_Template"),__name(DsDynamicLookupComponent_button_15_Template,"DsDynamicLookupComponent_button_15_Template"),__name(DsDynamicLookupComponent_button_16_Template,"DsDynamicLookupComponent_button_16_Template"),__name(DsDynamicLookupComponent_button_19_Template,"DsDynamicLookupComponent_button_19_Template");const _c1=__name(function(a0){return{entry:a0}},"_c1");function DsDynamicLookupComponent_button_20_Template(rf,ctx){if(1&rf){const _r28=_angular_core__WEBPACK_IMPORTED_MODULE_11__.EpF();_angular_core__WEBPACK_IMPORTED_MODULE_11__.TgZ(0,"button",21),_angular_core__WEBPACK_IMPORTED_MODULE_11__.NdJ("click",__name(function($event){const listEntry_r26=_angular_core__WEBPACK_IMPORTED_MODULE_11__.CHM(_r28).$implicit,ctx_r27=_angular_core__WEBPACK_IMPORTED_MODULE_11__.oxw(),_r0=_angular_core__WEBPACK_IMPORTED_MODULE_11__.MAs(1);return $event.stopPropagation(),ctx_r27.onSelect(listEntry_r26),_r0.close()},"DsDynamicLookupComponent_button_20_Template_button_click_0_listener")),_angular_core__WEBPACK_IMPORTED_MODULE_11__.GkF(1,22),_angular_core__WEBPACK_IMPORTED_MODULE_11__.qZA()}if(2&rf){const listEntry_r26=ctx.$implicit;_angular_core__WEBPACK_IMPORTED_MODULE_11__.oxw();const _r8=_angular_core__WEBPACK_IMPORTED_MODULE_11__.MAs(23),_r10=_angular_core__WEBPACK_IMPORTED_MODULE_11__.MAs(25);_angular_core__WEBPACK_IMPORTED_MODULE_11__.s9C("title",listEntry_r26.display),_angular_core__WEBPACK_IMPORTED_MODULE_11__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_11__.Q6J("ngTemplateOutlet",listEntry_r26.hasOtherInformation()?_r8:_r10)("ngTemplateOutletContext",_angular_core__WEBPACK_IMPORTED_MODULE_11__.VKq(3,_c1,listEntry_r26))}}function DsDynamicLookupComponent_div_21_Template(rf,ctx){1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_11__.TgZ(0,"div",23)(1,"p"),_angular_core__WEBPACK_IMPORTED_MODULE_11__._uU(2),_angular_core__WEBPACK_IMPORTED_MODULE_11__.ALo(3,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_11__.qZA()()),2&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_11__.xp6(2),_angular_core__WEBPACK_IMPORTED_MODULE_11__.Oqu(_angular_core__WEBPACK_IMPORTED_MODULE_11__.lcZ(3,1,"form.loading")))}function DsDynamicLookupComponent_ng_template_22_li_3_Template(rf,ctx){if(1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_11__.TgZ(0,"li",27),_angular_core__WEBPACK_IMPORTED_MODULE_11__._uU(1),_angular_core__WEBPACK_IMPORTED_MODULE_11__.ALo(2,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_11__.qZA()),2&rf){const item_r31=ctx.$implicit;_angular_core__WEBPACK_IMPORTED_MODULE_11__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_11__.AsE(" ",_angular_core__WEBPACK_IMPORTED_MODULE_11__.lcZ(2,2,"form.other-information."+item_r31.key)," : ",item_r31.value," ")}}function DsDynamicLookupComponent_ng_template_22_Template(rf,ctx){if(1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_11__.TgZ(0,"ul",24)(1,"li",25),_angular_core__WEBPACK_IMPORTED_MODULE_11__._uU(2),_angular_core__WEBPACK_IMPORTED_MODULE_11__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_11__.YNc(3,DsDynamicLookupComponent_ng_template_22_li_3_Template,3,4,"li",26),_angular_core__WEBPACK_IMPORTED_MODULE_11__.ALo(4,"dsObjNgFor"),_angular_core__WEBPACK_IMPORTED_MODULE_11__.qZA()),2&rf){const entry_r29=ctx.entry,ctx_r9=_angular_core__WEBPACK_IMPORTED_MODULE_11__.oxw();_angular_core__WEBPACK_IMPORTED_MODULE_11__.uIk("aria-labelledby","label_"+ctx_r9.model.id),_angular_core__WEBPACK_IMPORTED_MODULE_11__.xp6(2),_angular_core__WEBPACK_IMPORTED_MODULE_11__.Oqu(entry_r29.value),_angular_core__WEBPACK_IMPORTED_MODULE_11__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_11__.Q6J("ngForOf",_angular_core__WEBPACK_IMPORTED_MODULE_11__.lcZ(4,3,entry_r29.otherInformation))}}function DsDynamicLookupComponent_ng_template_24_Template(rf,ctx){if(1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_11__.TgZ(0,"ul",24)(1,"li",25),_angular_core__WEBPACK_IMPORTED_MODULE_11__._uU(2),_angular_core__WEBPACK_IMPORTED_MODULE_11__.qZA()()),2&rf){const entry_r32=ctx.entry,ctx_r11=_angular_core__WEBPACK_IMPORTED_MODULE_11__.oxw();_angular_core__WEBPACK_IMPORTED_MODULE_11__.uIk("aria-labelledby","label_"+ctx_r11.model.id),_angular_core__WEBPACK_IMPORTED_MODULE_11__.xp6(2),_angular_core__WEBPACK_IMPORTED_MODULE_11__.Oqu(entry_r32.value)}}__name(DsDynamicLookupComponent_button_20_Template,"DsDynamicLookupComponent_button_20_Template"),__name(DsDynamicLookupComponent_div_21_Template,"DsDynamicLookupComponent_div_21_Template"),__name(DsDynamicLookupComponent_ng_template_22_li_3_Template,"DsDynamicLookupComponent_ng_template_22_li_3_Template"),__name(DsDynamicLookupComponent_ng_template_22_Template,"DsDynamicLookupComponent_ng_template_22_Template"),__name(DsDynamicLookupComponent_ng_template_24_Template,"DsDynamicLookupComponent_ng_template_24_Template");class DsDynamicLookupComponent extends _dynamic_vocabulary_component__WEBPACK_IMPORTED_MODULE_7__.m{constructor(vocabularyService,cdr,layoutService,validationService){super(vocabularyService,layoutService,validationService),this.vocabularyService=vocabularyService,this.cdr=cdr,this.layoutService=layoutService,this.validationService=validationService,this.blur=new _angular_core__WEBPACK_IMPORTED_MODULE_11__.vpe,this.change=new _angular_core__WEBPACK_IMPORTED_MODULE_11__.vpe,this.focus=new _angular_core__WEBPACK_IMPORTED_MODULE_11__.vpe,this.editMode=!1,this.firstInputValue="",this.secondInputValue="",this.loading=!1,this.subs=[],this.inputFormatter=(x,y)=>1===y?this.firstInputValue:this.secondInputValue}ngOnInit(){(0,_empty_util__WEBPACK_IMPORTED_MODULE_12__.UE)(this.model.value)&&this.setCurrentValue(this.model.value,!0),this.subs.push(this.model.valueChanges.subscribe(value=>{(0,_empty_util__WEBPACK_IMPORTED_MODULE_12__.xb)(value)?this.resetFields():this.editMode||this.setCurrentValue(this.model.value)}))}hasAuthorityValue(){return(0,_empty_util__WEBPACK_IMPORTED_MODULE_12__.Uh)(this.model.value)&&"object"==typeof this.model.value&&this.model.value.hasAuthority()}hasEmptyValue(){return(0,_empty_util__WEBPACK_IMPORTED_MODULE_12__.UE)(this.getCurrentValue())}clearFields(){this.model.vocabularyOptions.closed&&this.resetFields()}isEditDisabled(){return!this.hasAuthorityValue()}isInputDisabled(){return this.model.vocabularyOptions.closed&&this.hasAuthorityValue()&&!this.editMode}isLookupName(){return this.model instanceof _dynamic_lookup_name_model__WEBPACK_IMPORTED_MODULE_4__.z}isSearchDisabled(){return(0,_empty_util__WEBPACK_IMPORTED_MODULE_12__.xb)(this.firstInputValue)||this.editMode}onChange(event2){if(event2.preventDefault(),!this.model.vocabularyOptions.closed)if((0,_empty_util__WEBPACK_IMPORTED_MODULE_12__.UE)(this.getCurrentValue())){const currentValue=new _models_form_field_metadata_value_model__WEBPACK_IMPORTED_MODULE_2__.u(this.getCurrentValue());this.editMode||this.updateModel(currentValue)}else this.remove()}onScroll(){!this.loading&&this.pageInfo.currentPage<=this.pageInfo.totalPages&&(this.updatePageInfo(this.pageInfo.elementsPerPage,this.pageInfo.currentPage+1,this.pageInfo.totalElements,this.pageInfo.totalPages),this.search())}onSelect(event2){this.updateModel(event2)}openChange(isOpened){isOpened||this.model.vocabularyOptions.closed&&!this.hasAuthorityValue()&&this.setCurrentValue("")}remove(){this.group.markAsPristine(),this.dispatchUpdate(null)}saveChanges(){if((0,_empty_util__WEBPACK_IMPORTED_MODULE_12__.UE)(this.getCurrentValue())){const newValue=Object.assign(new _core_submission_vocabularies_models_vocabulary_entry_model__WEBPACK_IMPORTED_MODULE_3__.j,this.model.value,{display:this.getCurrentValue(),value:this.getCurrentValue()});this.updateModel(newValue)}else this.remove();this.switchEditMode()}search(){this.optionsList=null,this.updatePageInfo(this.model.maxOptions,1),this.loading=!0,this.subs.push(this.vocabularyService.getVocabularyEntriesByValue(this.getCurrentValue(),!1,this.model.vocabularyOptions,this.pageInfo).pipe((0,_core_shared_operators__WEBPACK_IMPORTED_MODULE_6__.Gp)(),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_13__.KQ)(()=>(0,rxjs__WEBPACK_IMPORTED_MODULE_14__.of)((0,_core_data_paginated_list_model__WEBPACK_IMPORTED_MODULE_5__.b)(new _core_shared_page_info_model__WEBPACK_IMPORTED_MODULE_1__.S,[]))),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_13__.xb)()).subscribe(list=>{this.optionsList=list.page,this.updatePageInfo(list.pageInfo.elementsPerPage,list.pageInfo.currentPage,list.pageInfo.totalElements,list.pageInfo.totalPages),this.loading=!1,this.cdr.detectChanges()}))}switchEditMode(){this.editMode=!this.editMode}whenClickOnConfidenceNotAccepted(sdRef,confidence){this.model.readOnly||(sdRef.open(),this.search())}ngOnDestroy(){this.subs.filter(sub=>(0,_empty_util__WEBPACK_IMPORTED_MODULE_12__.Uh)(sub)).forEach(sub=>sub.unsubscribe())}setCurrentValue(value,init=!1){init?this.getInitValueFromModel().subscribe(formValue=>this.setDisplayInputValue(formValue.display)):(0,_empty_util__WEBPACK_IMPORTED_MODULE_12__.Uh)(value)&&(value instanceof _models_form_field_metadata_value_model__WEBPACK_IMPORTED_MODULE_2__.u||value instanceof _core_submission_vocabularies_models_vocabulary_entry_model__WEBPACK_IMPORTED_MODULE_3__.j)&&this.setDisplayInputValue(value.display)}setDisplayInputValue(displayValue){if((0,_empty_util__WEBPACK_IMPORTED_MODULE_12__.Uh)(displayValue)){if(this.isLookupName()){const values=displayValue.split(this.model.separator);this.firstInputValue=(values[0]||"").trim(),this.secondInputValue=(values[1]||"").trim()}else this.firstInputValue=displayValue||"";this.cdr.detectChanges()}}getCurrentValue(){let result="";return this.isLookupName()?((0,_empty_util__WEBPACK_IMPORTED_MODULE_12__.UE)(this.firstInputValue)&&(result=this.firstInputValue),(0,_empty_util__WEBPACK_IMPORTED_MODULE_12__.UE)(this.secondInputValue)&&(result=(0,_empty_util__WEBPACK_IMPORTED_MODULE_12__.xb)(result)?this.secondInputValue:this.firstInputValue+this.model.separator+" "+this.secondInputValue)):result=this.firstInputValue,result}resetFields(){this.firstInputValue="",this.isLookupName()&&(this.secondInputValue="")}updateModel(value){this.group.markAsDirty(),this.dispatchUpdate(value),this.setCurrentValue(value),this.optionsList=null,this.pageInfo=null}}__name(DsDynamicLookupComponent,"DsDynamicLookupComponent"),DsDynamicLookupComponent.\u0275fac=__name(function(t){return new(t||DsDynamicLookupComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_11__.Y36(_core_submission_vocabularies_vocabulary_service__WEBPACK_IMPORTED_MODULE_0__.c),_angular_core__WEBPACK_IMPORTED_MODULE_11__.Y36(_angular_core__WEBPACK_IMPORTED_MODULE_11__.sBO),_angular_core__WEBPACK_IMPORTED_MODULE_11__.Y36(_ng_dynamic_forms_core__WEBPACK_IMPORTED_MODULE_15__.vnf),_angular_core__WEBPACK_IMPORTED_MODULE_11__.Y36(_ng_dynamic_forms_core__WEBPACK_IMPORTED_MODULE_15__.fhz))},"DsDynamicLookupComponent_Factory"),DsDynamicLookupComponent.\u0275cmp=_angular_core__WEBPACK_IMPORTED_MODULE_11__.Xpm({type:DsDynamicLookupComponent,selectors:[["ds-dynamic-lookup"]],inputs:{group:"group",model:"model"},outputs:{blur:"blur",change:"change",focus:"focus"},features:[_angular_core__WEBPACK_IMPORTED_MODULE_11__.qOj],decls:26,vars:33,consts:[["ngbDropdown","",3,"click","openChange"],["sdRef","ngbDropdown"],[1,"form-row","align-items-center"],[1,"col","right-addon"],["dsAuthorityConfidenceState","","aria-hidden","true",1,"far","fa-circle","fa-2x","fa-fw","position-absolute","mt-1","p-0","pr-2",3,"authorityValue","whenClickOnConfidenceNotAccepted"],[1,"form-control",3,"id","name","type","ngModel","disabled","placeholder","readonly","ngModelChange","change","blur","focus","click"],["class","col",4,"ngIf"],[1,"col-auto","text-center"],["ngbDropdownAnchor","","type","button","placement","top",1,"btn","btn-secondary",3,"ngbTooltip","disabled","hidden","click"],["class","btn btn-secondary","type","button","placement","top",3,"ngbTooltip","disabled","click",4,"ngIf"],["ngbDropdownMenu","","aria-haspopup","true","aria-expanded","false",1,"dropdown-menu","scrollable-dropdown-menu","w-100"],["aria-labelledby","scrollableDropdownMenuButton","infiniteScroll","",1,"scrollable-menu",3,"infiniteScrollDistance","infiniteScrollThrottle","scrollWindow","scrolled"],["class","dropdown-item disabled",3,"click",4,"ngIf"],["class","dropdown-item lookup-item",3,"title","click",4,"ngFor","ngForOf"],["class","scrollable-dropdown-loading text-center",4,"ngIf"],["hasInfo",""],["noInfo",""],[1,"col"],[1,"form-control",3,"ngClass","id","name","type","ngModel","disabled","placeholder","readonly","ngModelChange","change","blur","focus","click"],["type","button","placement","top",1,"btn","btn-secondary",3,"ngbTooltip","disabled","click"],[1,"dropdown-item","disabled",3,"click"],[1,"dropdown-item","lookup-item",3,"title","click"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"scrollable-dropdown-loading","text-center"],[1,"list-unstyled","mb-0"],[1,"list-item","text-truncate","text-primary","font-weight-bold"],["class","list-item text-truncate text-secondary",4,"ngFor","ngForOf"],[1,"list-item","text-truncate","text-secondary"]],template:__name(function(rf,ctx){if(1&rf){const _r33=_angular_core__WEBPACK_IMPORTED_MODULE_11__.EpF();_angular_core__WEBPACK_IMPORTED_MODULE_11__.TgZ(0,"div",0,1),_angular_core__WEBPACK_IMPORTED_MODULE_11__.NdJ("click",__name(function($event){return $event.stopPropagation()},"DsDynamicLookupComponent_Template_div_click_0_listener"))("openChange",__name(function($event){return ctx.openChange($event)},"DsDynamicLookupComponent_Template_div_openChange_0_listener")),_angular_core__WEBPACK_IMPORTED_MODULE_11__.TgZ(2,"div",2)(3,"div",3)(4,"i",4),_angular_core__WEBPACK_IMPORTED_MODULE_11__.NdJ("whenClickOnConfidenceNotAccepted",__name(function($event){_angular_core__WEBPACK_IMPORTED_MODULE_11__.CHM(_r33);const _r0=_angular_core__WEBPACK_IMPORTED_MODULE_11__.MAs(1);return ctx.whenClickOnConfidenceNotAccepted(_r0,$event)},"DsDynamicLookupComponent_Template_i_whenClickOnConfidenceNotAccepted_4_listener")),_angular_core__WEBPACK_IMPORTED_MODULE_11__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_11__.TgZ(5,"input",5),_angular_core__WEBPACK_IMPORTED_MODULE_11__.NdJ("ngModelChange",__name(function($event){return ctx.firstInputValue=$event},"DsDynamicLookupComponent_Template_input_ngModelChange_5_listener"))("change",__name(function($event){return ctx.onChange($event)},"DsDynamicLookupComponent_Template_input_change_5_listener"))("blur",__name(function($event){_angular_core__WEBPACK_IMPORTED_MODULE_11__.CHM(_r33);const _r0=_angular_core__WEBPACK_IMPORTED_MODULE_11__.MAs(1);return ctx.onBlur($event),$event.stopPropagation(),_r0.close()},"DsDynamicLookupComponent_Template_input_blur_5_listener"))("focus",__name(function($event){_angular_core__WEBPACK_IMPORTED_MODULE_11__.CHM(_r33);const _r0=_angular_core__WEBPACK_IMPORTED_MODULE_11__.MAs(1);return ctx.onFocus($event),$event.stopPropagation(),_r0.close()},"DsDynamicLookupComponent_Template_input_focus_5_listener"))("click",__name(function($event){_angular_core__WEBPACK_IMPORTED_MODULE_11__.CHM(_r33);const _r0=_angular_core__WEBPACK_IMPORTED_MODULE_11__.MAs(1);return $event.stopPropagation(),$event.stopPropagation(),_r0.close()},"DsDynamicLookupComponent_Template_input_click_5_listener")),_angular_core__WEBPACK_IMPORTED_MODULE_11__.ALo(6,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_11__.qZA()(),_angular_core__WEBPACK_IMPORTED_MODULE_11__.YNc(7,DsDynamicLookupComponent_div_7_Template,3,15,"div",6),_angular_core__WEBPACK_IMPORTED_MODULE_11__.TgZ(8,"div",7)(9,"button",8),_angular_core__WEBPACK_IMPORTED_MODULE_11__.NdJ("click",__name(function($event){return _angular_core__WEBPACK_IMPORTED_MODULE_11__.CHM(_r33),_angular_core__WEBPACK_IMPORTED_MODULE_11__.MAs(1).open(),ctx.search(),$event.stopPropagation()},"DsDynamicLookupComponent_Template_button_click_9_listener")),_angular_core__WEBPACK_IMPORTED_MODULE_11__.ALo(10,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_11__._uU(11),_angular_core__WEBPACK_IMPORTED_MODULE_11__.ALo(12,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_11__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_11__.YNc(13,DsDynamicLookupComponent_button_13_Template,4,7,"button",9),_angular_core__WEBPACK_IMPORTED_MODULE_11__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_11__.TgZ(14,"div",7),_angular_core__WEBPACK_IMPORTED_MODULE_11__.YNc(15,DsDynamicLookupComponent_button_15_Template,4,7,"button",9),_angular_core__WEBPACK_IMPORTED_MODULE_11__.YNc(16,DsDynamicLookupComponent_button_16_Template,4,7,"button",9),_angular_core__WEBPACK_IMPORTED_MODULE_11__.qZA()(),_angular_core__WEBPACK_IMPORTED_MODULE_11__.TgZ(17,"div",10)(18,"div",11),_angular_core__WEBPACK_IMPORTED_MODULE_11__.NdJ("scrolled",__name(function(){return ctx.onScroll()},"DsDynamicLookupComponent_Template_div_scrolled_18_listener")),_angular_core__WEBPACK_IMPORTED_MODULE_11__.YNc(19,DsDynamicLookupComponent_button_19_Template,3,3,"button",12),_angular_core__WEBPACK_IMPORTED_MODULE_11__.YNc(20,DsDynamicLookupComponent_button_20_Template,2,5,"button",13),_angular_core__WEBPACK_IMPORTED_MODULE_11__.YNc(21,DsDynamicLookupComponent_div_21_Template,4,3,"div",14),_angular_core__WEBPACK_IMPORTED_MODULE_11__.qZA()()(),_angular_core__WEBPACK_IMPORTED_MODULE_11__.YNc(22,DsDynamicLookupComponent_ng_template_22_Template,5,5,"ng-template",null,15,_angular_core__WEBPACK_IMPORTED_MODULE_11__.W1O),_angular_core__WEBPACK_IMPORTED_MODULE_11__.YNc(24,DsDynamicLookupComponent_ng_template_24_Template,3,2,"ng-template",null,16,_angular_core__WEBPACK_IMPORTED_MODULE_11__.W1O)}2&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_11__.xp6(4),_angular_core__WEBPACK_IMPORTED_MODULE_11__.Q6J("authorityValue",ctx.model.value),_angular_core__WEBPACK_IMPORTED_MODULE_11__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_11__.ekj("is-invalid",ctx.showErrorMessages),_angular_core__WEBPACK_IMPORTED_MODULE_11__.Q6J("id",ctx.model.id)("name",ctx.model.name)("type",ctx.model.inputType)("ngModel",ctx.firstInputValue)("disabled",ctx.isInputDisabled())("placeholder",_angular_core__WEBPACK_IMPORTED_MODULE_11__.lcZ(6,27,ctx.model.placeholder))("readonly",ctx.model.readOnly),_angular_core__WEBPACK_IMPORTED_MODULE_11__.uIk("aria-labelledby","label_"+ctx.model.id)("autoComplete",ctx.model.autoComplete),_angular_core__WEBPACK_IMPORTED_MODULE_11__.xp6(2),_angular_core__WEBPACK_IMPORTED_MODULE_11__.Q6J("ngIf",ctx.isLookupName()),_angular_core__WEBPACK_IMPORTED_MODULE_11__.xp6(2),_angular_core__WEBPACK_IMPORTED_MODULE_11__.s9C("ngbTooltip",_angular_core__WEBPACK_IMPORTED_MODULE_11__.lcZ(10,29,"form.search-help")),_angular_core__WEBPACK_IMPORTED_MODULE_11__.Q6J("disabled",ctx.model.readOnly||ctx.isSearchDisabled())("hidden",ctx.isInputDisabled()),_angular_core__WEBPACK_IMPORTED_MODULE_11__.xp6(2),_angular_core__WEBPACK_IMPORTED_MODULE_11__.hij("",_angular_core__WEBPACK_IMPORTED_MODULE_11__.lcZ(12,31,"form.search")," "),_angular_core__WEBPACK_IMPORTED_MODULE_11__.xp6(2),_angular_core__WEBPACK_IMPORTED_MODULE_11__.Q6J("ngIf",ctx.isInputDisabled()),_angular_core__WEBPACK_IMPORTED_MODULE_11__.xp6(2),_angular_core__WEBPACK_IMPORTED_MODULE_11__.Q6J("ngIf",!ctx.editMode),_angular_core__WEBPACK_IMPORTED_MODULE_11__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_11__.Q6J("ngIf",ctx.editMode),_angular_core__WEBPACK_IMPORTED_MODULE_11__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_11__.uIk("aria-labelledby","label_"+ctx.model.id),_angular_core__WEBPACK_IMPORTED_MODULE_11__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_11__.Q6J("infiniteScrollDistance",2)("infiniteScrollThrottle",50)("scrollWindow",!1),_angular_core__WEBPACK_IMPORTED_MODULE_11__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_11__.Q6J("ngIf",ctx.optionsList&&0==ctx.optionsList.length),_angular_core__WEBPACK_IMPORTED_MODULE_11__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_11__.Q6J("ngForOf",ctx.optionsList),_angular_core__WEBPACK_IMPORTED_MODULE_11__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_11__.Q6J("ngIf",ctx.loading))},"DsDynamicLookupComponent_Template"),directives:[_ng_bootstrap_ng_bootstrap__WEBPACK_IMPORTED_MODULE_16__.jt,_authority_confidence_authority_confidence_state_directive__WEBPACK_IMPORTED_MODULE_8__.e,_angular_forms__WEBPACK_IMPORTED_MODULE_17__.Fj,_angular_forms__WEBPACK_IMPORTED_MODULE_17__.JJ,_angular_forms__WEBPACK_IMPORTED_MODULE_17__.On,_angular_common__WEBPACK_IMPORTED_MODULE_18__.O5,_angular_common__WEBPACK_IMPORTED_MODULE_18__.mk,_ng_bootstrap_ng_bootstrap__WEBPACK_IMPORTED_MODULE_16__.YE,_ng_bootstrap_ng_bootstrap__WEBPACK_IMPORTED_MODULE_16__._L,_ng_bootstrap_ng_bootstrap__WEBPACK_IMPORTED_MODULE_16__.Vi,ngx_infinite_scroll__WEBPACK_IMPORTED_MODULE_9__.R,_angular_common__WEBPACK_IMPORTED_MODULE_18__.sg,_angular_common__WEBPACK_IMPORTED_MODULE_18__.tP],pipes:[_ngx_translate_core__WEBPACK_IMPORTED_MODULE_19__.X$,_utils_object_ngfor_pipe__WEBPACK_IMPORTED_MODULE_10__.C],styles:[".dropdown-toggle[_ngcontent-%COMP%]:after{display:none}[_nghost-%COMP%]     .dropdown-menu{left:0!important;width:100%!important;max-height:var(--ds-dropdown-menu-max-height);overflow-y:auto!important;overflow-x:hidden}[_nghost-%COMP%]     .dropdown-item.active, [_nghost-%COMP%]     .dropdown-item:active, [_nghost-%COMP%]     .dropdown-item:focus, [_nghost-%COMP%]     .dropdown-item:hover{color:var(--bs-dropdown-link-hover-color)!important;background-color:var(--bs-dropdown-link-hover-bg)!important}div[_ngcontent-%COMP%]{overflow:visible}.lookup-item[_ngcontent-%COMP%]{border-bottom:var(--bs-dropdown-border-width) solid var(--bs-dropdown-border-color)}"]})},86471:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{r:()=>DsDynamicOneboxComponent});var _angular_core__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(5e3),rxjs_operators__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(83292),rxjs__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(76477),_core_submission_vocabularies_vocabulary_service__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(49566),_empty_util__WEBPACK_IMPORTED_MODULE_13__=(__webpack_require__(37548),__webpack_require__(24702)),_models_form_field_metadata_value_model__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(7973),_core_shared_operators__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(13730),_core_data_paginated_list_model__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(24789),_core_shared_page_info_model__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(62713),_dynamic_vocabulary_component__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(10362),_vocabulary_treeview_vocabulary_treeview_component__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(66077),_ng_dynamic_forms_core__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__(87098),_ng_bootstrap_ng_bootstrap__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__(13707),_angular_common__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__(69808),_authority_confidence_authority_confidence_state_directive__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(30735),_angular_forms__WEBPACK_IMPORTED_MODULE_17__=__webpack_require__(93075),_utils_object_ngfor_pipe__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(43928),_ngx_translate_core__WEBPACK_IMPORTED_MODULE_18__=__webpack_require__(42466);const _c0=["instance"],_c1=__name(function(a0){return{entry:a0}},"_c1");function DsDynamicOneboxComponent_ng_template_0_Template(rf,ctx){if(1&rf&&_angular_core__WEBPACK_IMPORTED_MODULE_10__.GkF(0,4),2&rf){const listEntry_r8=ctx.result;_angular_core__WEBPACK_IMPORTED_MODULE_10__.oxw();const _r2=_angular_core__WEBPACK_IMPORTED_MODULE_10__.MAs(3),_r4=_angular_core__WEBPACK_IMPORTED_MODULE_10__.MAs(5);_angular_core__WEBPACK_IMPORTED_MODULE_10__.Q6J("ngTemplateOutlet",listEntry_r8.hasOtherInformation()?_r2:_r4)("ngTemplateOutletContext",_angular_core__WEBPACK_IMPORTED_MODULE_10__.VKq(2,_c1,listEntry_r8))}}function DsDynamicOneboxComponent_ng_template_2_li_3_Template(rf,ctx){if(1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_10__.TgZ(0,"li",8),_angular_core__WEBPACK_IMPORTED_MODULE_10__._uU(1),_angular_core__WEBPACK_IMPORTED_MODULE_10__.ALo(2,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_10__.qZA()),2&rf){const item_r12=ctx.$implicit;_angular_core__WEBPACK_IMPORTED_MODULE_10__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_10__.AsE(" ",_angular_core__WEBPACK_IMPORTED_MODULE_10__.lcZ(2,2,"form.other-information."+item_r12.key)," : ",item_r12.value," ")}}function DsDynamicOneboxComponent_ng_template_2_Template(rf,ctx){if(1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_10__.TgZ(0,"ul",5)(1,"li",6),_angular_core__WEBPACK_IMPORTED_MODULE_10__._uU(2),_angular_core__WEBPACK_IMPORTED_MODULE_10__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_10__.YNc(3,DsDynamicOneboxComponent_ng_template_2_li_3_Template,3,4,"li",7),_angular_core__WEBPACK_IMPORTED_MODULE_10__.ALo(4,"dsObjNgFor"),_angular_core__WEBPACK_IMPORTED_MODULE_10__.qZA()),2&rf){const entry_r10=ctx.entry;_angular_core__WEBPACK_IMPORTED_MODULE_10__.xp6(2),_angular_core__WEBPACK_IMPORTED_MODULE_10__.Oqu(entry_r10.value),_angular_core__WEBPACK_IMPORTED_MODULE_10__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_10__.Q6J("ngForOf",_angular_core__WEBPACK_IMPORTED_MODULE_10__.lcZ(4,2,entry_r10.otherInformation))}}function DsDynamicOneboxComponent_ng_template_4_Template(rf,ctx){if(1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_10__.TgZ(0,"ul",5)(1,"li",6),_angular_core__WEBPACK_IMPORTED_MODULE_10__._uU(2),_angular_core__WEBPACK_IMPORTED_MODULE_10__.qZA()()),2&rf){const entry_r13=ctx.entry;_angular_core__WEBPACK_IMPORTED_MODULE_10__.xp6(2),_angular_core__WEBPACK_IMPORTED_MODULE_10__.Oqu(entry_r13.value)}}function DsDynamicOneboxComponent_div_6_i_1_Template(rf,ctx){1&rf&&_angular_core__WEBPACK_IMPORTED_MODULE_10__._UZ(0,"i",15)}function DsDynamicOneboxComponent_div_6_i_2_Template(rf,ctx){if(1&rf){const _r19=_angular_core__WEBPACK_IMPORTED_MODULE_10__.EpF();_angular_core__WEBPACK_IMPORTED_MODULE_10__.TgZ(0,"i",16),_angular_core__WEBPACK_IMPORTED_MODULE_10__.NdJ("whenClickOnConfidenceNotAccepted",__name(function($event){return _angular_core__WEBPACK_IMPORTED_MODULE_10__.CHM(_r19),_angular_core__WEBPACK_IMPORTED_MODULE_10__.oxw(2).whenClickOnConfidenceNotAccepted($event)},"DsDynamicOneboxComponent_div_6_i_2_Template_i_whenClickOnConfidenceNotAccepted_0_listener")),_angular_core__WEBPACK_IMPORTED_MODULE_10__.qZA()}if(2&rf){const ctx_r15=_angular_core__WEBPACK_IMPORTED_MODULE_10__.oxw(2);_angular_core__WEBPACK_IMPORTED_MODULE_10__.Q6J("authorityValue",ctx_r15.currentValue)}}function DsDynamicOneboxComponent_div_6_div_5_Template(rf,ctx){1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_10__.TgZ(0,"div",17),_angular_core__WEBPACK_IMPORTED_MODULE_10__._uU(1,"Sorry, suggestions could not be loaded."),_angular_core__WEBPACK_IMPORTED_MODULE_10__.qZA())}function DsDynamicOneboxComponent_div_6_Template(rf,ctx){if(1&rf){const _r21=_angular_core__WEBPACK_IMPORTED_MODULE_10__.EpF();_angular_core__WEBPACK_IMPORTED_MODULE_10__.TgZ(0,"div",9),_angular_core__WEBPACK_IMPORTED_MODULE_10__.YNc(1,DsDynamicOneboxComponent_div_6_i_1_Template,1,0,"i",10),_angular_core__WEBPACK_IMPORTED_MODULE_10__.YNc(2,DsDynamicOneboxComponent_div_6_i_2_Template,1,1,"i",11),_angular_core__WEBPACK_IMPORTED_MODULE_10__.TgZ(3,"input",12,13),_angular_core__WEBPACK_IMPORTED_MODULE_10__.NdJ("ngModelChange",__name(function($event){_angular_core__WEBPACK_IMPORTED_MODULE_10__.CHM(_r21);return _angular_core__WEBPACK_IMPORTED_MODULE_10__.oxw().currentValue=$event},"DsDynamicOneboxComponent_div_6_Template_input_ngModelChange_3_listener"))("blur",__name(function($event){return _angular_core__WEBPACK_IMPORTED_MODULE_10__.CHM(_r21),_angular_core__WEBPACK_IMPORTED_MODULE_10__.oxw().onBlur($event)},"DsDynamicOneboxComponent_div_6_Template_input_blur_3_listener"))("focus",__name(function($event){return _angular_core__WEBPACK_IMPORTED_MODULE_10__.CHM(_r21),_angular_core__WEBPACK_IMPORTED_MODULE_10__.oxw().onFocus($event)},"DsDynamicOneboxComponent_div_6_Template_input_focus_3_listener"))("change",__name(function($event){return _angular_core__WEBPACK_IMPORTED_MODULE_10__.CHM(_r21),_angular_core__WEBPACK_IMPORTED_MODULE_10__.oxw().onChange($event)},"DsDynamicOneboxComponent_div_6_Template_input_change_3_listener"))("input",__name(function($event){return _angular_core__WEBPACK_IMPORTED_MODULE_10__.CHM(_r21),_angular_core__WEBPACK_IMPORTED_MODULE_10__.oxw().onInput($event)},"DsDynamicOneboxComponent_div_6_Template_input_input_3_listener"))("selectItem",__name(function($event){return _angular_core__WEBPACK_IMPORTED_MODULE_10__.CHM(_r21),_angular_core__WEBPACK_IMPORTED_MODULE_10__.oxw().onSelectItem($event)},"DsDynamicOneboxComponent_div_6_Template_input_selectItem_3_listener")),_angular_core__WEBPACK_IMPORTED_MODULE_10__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_10__.YNc(5,DsDynamicOneboxComponent_div_6_div_5_Template,2,0,"div",14),_angular_core__WEBPACK_IMPORTED_MODULE_10__.qZA()}if(2&rf){const ctx_r6=_angular_core__WEBPACK_IMPORTED_MODULE_10__.oxw(),_r0=_angular_core__WEBPACK_IMPORTED_MODULE_10__.MAs(1);_angular_core__WEBPACK_IMPORTED_MODULE_10__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_10__.Q6J("ngIf",ctx_r6.searching),_angular_core__WEBPACK_IMPORTED_MODULE_10__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_10__.Q6J("ngIf",!ctx_r6.searching),_angular_core__WEBPACK_IMPORTED_MODULE_10__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_10__.ekj("is-invalid",ctx_r6.showErrorMessages),_angular_core__WEBPACK_IMPORTED_MODULE_10__.Q6J("id",ctx_r6.model.id)("inputFormatter",ctx_r6.formatter)("name",ctx_r6.model.name)("ngbTypeahead",ctx_r6.search)("placeholder",ctx_r6.model.placeholder)("readonly",ctx_r6.model.readOnly)("resultTemplate",_r0)("type",ctx_r6.model.inputType)("ngModel",ctx_r6.currentValue),_angular_core__WEBPACK_IMPORTED_MODULE_10__.uIk("aria-labelledby","label_"+ctx_r6.model.id)("autoComplete",ctx_r6.model.autoComplete),_angular_core__WEBPACK_IMPORTED_MODULE_10__.xp6(2),_angular_core__WEBPACK_IMPORTED_MODULE_10__.Q6J("ngIf",ctx_r6.searchFailed)}}function DsDynamicOneboxComponent_div_8_Template(rf,ctx){if(1&rf){const _r28=_angular_core__WEBPACK_IMPORTED_MODULE_10__.EpF();_angular_core__WEBPACK_IMPORTED_MODULE_10__.TgZ(0,"div",9)(1,"i",18),_angular_core__WEBPACK_IMPORTED_MODULE_10__.NdJ("click",__name(function($event){return _angular_core__WEBPACK_IMPORTED_MODULE_10__.CHM(_r28),_angular_core__WEBPACK_IMPORTED_MODULE_10__.oxw().openTree($event)},"DsDynamicOneboxComponent_div_8_Template_i_click_1_listener")),_angular_core__WEBPACK_IMPORTED_MODULE_10__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_10__.TgZ(2,"input",19),_angular_core__WEBPACK_IMPORTED_MODULE_10__.NdJ("focus",__name(function($event){return _angular_core__WEBPACK_IMPORTED_MODULE_10__.CHM(_r28),_angular_core__WEBPACK_IMPORTED_MODULE_10__.oxw().onFocus($event)},"DsDynamicOneboxComponent_div_8_Template_input_focus_2_listener"))("change",__name(function($event){return _angular_core__WEBPACK_IMPORTED_MODULE_10__.CHM(_r28),_angular_core__WEBPACK_IMPORTED_MODULE_10__.oxw().onChange($event)},"DsDynamicOneboxComponent_div_8_Template_input_change_2_listener"))("click",__name(function($event){return _angular_core__WEBPACK_IMPORTED_MODULE_10__.CHM(_r28),_angular_core__WEBPACK_IMPORTED_MODULE_10__.oxw().openTree($event)},"DsDynamicOneboxComponent_div_8_Template_input_click_2_listener"))("keydown",__name(function($event){return $event.preventDefault()},"DsDynamicOneboxComponent_div_8_Template_input_keydown_2_listener"))("keypress",__name(function($event){return $event.preventDefault()},"DsDynamicOneboxComponent_div_8_Template_input_keypress_2_listener"))("keyup",__name(function($event){return $event.preventDefault()},"DsDynamicOneboxComponent_div_8_Template_input_keyup_2_listener")),_angular_core__WEBPACK_IMPORTED_MODULE_10__.qZA()()}if(2&rf){const ctx_r7=_angular_core__WEBPACK_IMPORTED_MODULE_10__.oxw();_angular_core__WEBPACK_IMPORTED_MODULE_10__.xp6(2),_angular_core__WEBPACK_IMPORTED_MODULE_10__.ekj("is-invalid",ctx_r7.showErrorMessages)("tree-input",!ctx_r7.model.readOnly),_angular_core__WEBPACK_IMPORTED_MODULE_10__.Q6J("id",ctx_r7.id)("name",ctx_r7.model.name)("placeholder",ctx_r7.model.placeholder)("readonly",!0)("type",ctx_r7.model.inputType)("value",null==ctx_r7.currentValue?null:ctx_r7.currentValue.display),_angular_core__WEBPACK_IMPORTED_MODULE_10__.uIk("aria-labelledby","label_"+ctx_r7.model.id)("autoComplete",ctx_r7.model.autoComplete)}}__name(DsDynamicOneboxComponent_ng_template_0_Template,"DsDynamicOneboxComponent_ng_template_0_Template"),__name(DsDynamicOneboxComponent_ng_template_2_li_3_Template,"DsDynamicOneboxComponent_ng_template_2_li_3_Template"),__name(DsDynamicOneboxComponent_ng_template_2_Template,"DsDynamicOneboxComponent_ng_template_2_Template"),__name(DsDynamicOneboxComponent_ng_template_4_Template,"DsDynamicOneboxComponent_ng_template_4_Template"),__name(DsDynamicOneboxComponent_div_6_i_1_Template,"DsDynamicOneboxComponent_div_6_i_1_Template"),__name(DsDynamicOneboxComponent_div_6_i_2_Template,"DsDynamicOneboxComponent_div_6_i_2_Template"),__name(DsDynamicOneboxComponent_div_6_div_5_Template,"DsDynamicOneboxComponent_div_6_div_5_Template"),__name(DsDynamicOneboxComponent_div_6_Template,"DsDynamicOneboxComponent_div_6_Template"),__name(DsDynamicOneboxComponent_div_8_Template,"DsDynamicOneboxComponent_div_8_Template");class DsDynamicOneboxComponent extends _dynamic_vocabulary_component__WEBPACK_IMPORTED_MODULE_6__.m{constructor(vocabularyService,cdr,layoutService,modalService,validationService){super(vocabularyService,layoutService,validationService),this.vocabularyService=vocabularyService,this.cdr=cdr,this.layoutService=layoutService,this.modalService=modalService,this.validationService=validationService,this.blur=new _angular_core__WEBPACK_IMPORTED_MODULE_10__.vpe,this.change=new _angular_core__WEBPACK_IMPORTED_MODULE_10__.vpe,this.focus=new _angular_core__WEBPACK_IMPORTED_MODULE_10__.vpe,this.pageInfo=new _core_shared_page_info_model__WEBPACK_IMPORTED_MODULE_5__.S,this.searching=!1,this.searchFailed=!1,this.hideSearchingWhenUnsubscribed$=new rxjs__WEBPACK_IMPORTED_MODULE_11__.Observable(()=>()=>this.changeSearchingStatus(!1)),this.click$=new rxjs__WEBPACK_IMPORTED_MODULE_11__.Subject,this.subs=[],this.formatter=x=>"object"==typeof x?x.display:x,this.search=text$=>text$.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_12__.TS)(this.click$),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_12__.bh)(300),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_12__.xb)(),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_12__.bw)(()=>this.changeSearchingStatus(!0)),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_12__.wt)(term=>""===term||term.length<this.model.minChars?(0,rxjs__WEBPACK_IMPORTED_MODULE_11__.of)({list:[]}):this.vocabularyService.getVocabularyEntriesByValue(term,!1,this.model.vocabularyOptions,this.pageInfo).pipe((0,_core_shared_operators__WEBPACK_IMPORTED_MODULE_3__.Gp)(),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_12__.bw)(()=>this.searchFailed=!1),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_12__.KQ)(()=>(this.searchFailed=!0,(0,rxjs__WEBPACK_IMPORTED_MODULE_11__.of)((0,_core_data_paginated_list_model__WEBPACK_IMPORTED_MODULE_4__.b)(new _core_shared_page_info_model__WEBPACK_IMPORTED_MODULE_5__.S,[])))))),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_12__.UI)(list=>list.page),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_12__.bw)(()=>this.changeSearchingStatus(!1)),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_12__.TS)(this.hideSearchingWhenUnsubscribed$))}ngOnInit(){this.model.value&&this.setCurrentValue(this.model.value,!0),this.vocabulary$=this.vocabularyService.findVocabularyById(this.model.vocabularyOptions.name).pipe((0,_core_shared_operators__WEBPACK_IMPORTED_MODULE_3__.Gp)(),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_12__.xb)()),this.isHierarchicalVocabulary$=this.vocabulary$.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_12__.UI)(result=>result.hierarchical)),this.subs.push(this.group.get(this.model.id).valueChanges.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_12__.hX)(value=>this.currentValue!==value)).subscribe(value=>{this.setCurrentValue(this.model.value)}))}changeSearchingStatus(status){this.searching=status,this.cdr.detectChanges()}isHierarchicalVocabulary(){return this.isHierarchicalVocabulary$}onInput(event2){!this.model.vocabularyOptions.closed&&(0,_empty_util__WEBPACK_IMPORTED_MODULE_13__.UE)(event2.target.value)&&(this.inputValue=new _models_form_field_metadata_value_model__WEBPACK_IMPORTED_MODULE_2__.u(event2.target.value))}onBlur(event2){this.instance.isPopupOpen()?(event2.preventDefault(),event2.stopImmediatePropagation(),event2.target.focus()):(!this.model.vocabularyOptions.closed&&(0,_empty_util__WEBPACK_IMPORTED_MODULE_13__.UE)(this.inputValue)&&((0,_empty_util__WEBPACK_IMPORTED_MODULE_13__.K0)(this.inputValue)&&this.model.value!==this.inputValue&&this.dispatchUpdate(this.inputValue),this.inputValue=null),this.blur.emit(event2))}onChange(event2){event2.stopPropagation(),(0,_empty_util__WEBPACK_IMPORTED_MODULE_13__.xb)(this.currentValue)&&this.dispatchUpdate(null)}onSelectItem(event2){this.inputValue=null,this.setCurrentValue(event2.item),this.dispatchUpdate(event2.item)}openTree(event2){event2.preventDefault(),event2.stopImmediatePropagation(),this.subs.push(this.vocabulary$.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_12__.UI)(vocabulary=>vocabulary.preloadLevel),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_12__.qn)(1)).subscribe(preloadLevel=>{const modalRef=this.modalService.open(_vocabulary_treeview_vocabulary_treeview_component__WEBPACK_IMPORTED_MODULE_7__.I,{size:"lg",windowClass:"treeview"});modalRef.componentInstance.vocabularyOptions=this.model.vocabularyOptions,modalRef.componentInstance.preloadLevel=preloadLevel,modalRef.componentInstance.selectedItem=this.currentValue?this.currentValue:"",modalRef.result.then(result=>{result&&(this.currentValue=result,this.dispatchUpdate(result))},()=>{})}))}whenClickOnConfidenceNotAccepted(confidence){this.model.readOnly||this.click$.next(this.formatter(this.currentValue))}setCurrentValue(value,init=!1){let result;init?this.getInitValueFromModel().subscribe(formValue=>{this.currentValue=formValue,this.cdr.detectChanges()}):(result=(0,_empty_util__WEBPACK_IMPORTED_MODULE_13__.xb)(value)?"":value.value,this.currentValue=result,this.cdr.detectChanges())}ngOnDestroy(){this.subs.filter(sub=>(0,_empty_util__WEBPACK_IMPORTED_MODULE_13__.Uh)(sub)).forEach(sub=>sub.unsubscribe())}}__name(DsDynamicOneboxComponent,"DsDynamicOneboxComponent"),DsDynamicOneboxComponent.\u0275fac=__name(function(t){return new(t||DsDynamicOneboxComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_10__.Y36(_core_submission_vocabularies_vocabulary_service__WEBPACK_IMPORTED_MODULE_0__.c),_angular_core__WEBPACK_IMPORTED_MODULE_10__.Y36(_angular_core__WEBPACK_IMPORTED_MODULE_10__.sBO),_angular_core__WEBPACK_IMPORTED_MODULE_10__.Y36(_ng_dynamic_forms_core__WEBPACK_IMPORTED_MODULE_14__.vnf),_angular_core__WEBPACK_IMPORTED_MODULE_10__.Y36(_ng_bootstrap_ng_bootstrap__WEBPACK_IMPORTED_MODULE_15__.FF),_angular_core__WEBPACK_IMPORTED_MODULE_10__.Y36(_ng_dynamic_forms_core__WEBPACK_IMPORTED_MODULE_14__.fhz))},"DsDynamicOneboxComponent_Factory"),DsDynamicOneboxComponent.\u0275cmp=_angular_core__WEBPACK_IMPORTED_MODULE_10__.Xpm({type:DsDynamicOneboxComponent,selectors:[["ds-dynamic-onebox"]],viewQuery:__name(function(rf,ctx){if(1&rf&&_angular_core__WEBPACK_IMPORTED_MODULE_10__.Gf(_c0,5),2&rf){let _t;_angular_core__WEBPACK_IMPORTED_MODULE_10__.iGM(_t=_angular_core__WEBPACK_IMPORTED_MODULE_10__.CRH())&&(ctx.instance=_t.first)}},"DsDynamicOneboxComponent_Query"),inputs:{group:"group",model:"model"},outputs:{blur:"blur",change:"change",focus:"focus"},features:[_angular_core__WEBPACK_IMPORTED_MODULE_10__.qOj],decls:10,vars:6,consts:[["rt",""],["hasInfo",""],["noInfo",""],["class","position-relative right-addon",4,"ngIf"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"list-unstyled","mb-0"],[1,"list-item","text-truncate","text-primary","font-weight-bold"],["class","list-item text-truncate text-secondary",4,"ngFor","ngForOf"],[1,"list-item","text-truncate","text-secondary"],[1,"position-relative","right-addon"],["class","fas fa-circle-notch fa-spin fa-2x fa-fw text-primary position-absolute mt-1 p-0","aria-hidden","true",4,"ngIf"],["dsAuthorityConfidenceState","","class","far fa-circle fa-2x fa-fw position-absolute mt-1 p-0","aria-hidden","true",3,"authorityValue","whenClickOnConfidenceNotAccepted",4,"ngIf"],[1,"form-control",3,"id","inputFormatter","name","ngbTypeahead","placeholder","readonly","resultTemplate","type","ngModel","ngModelChange","blur","focus","change","input","selectItem"],["instance","ngbTypeahead"],["class","invalid-feedback",4,"ngIf"],["aria-hidden","true",1,"fas","fa-circle-notch","fa-spin","fa-2x","fa-fw","text-primary","position-absolute","mt-1","p-0"],["dsAuthorityConfidenceState","","aria-hidden","true",1,"far","fa-circle","fa-2x","fa-fw","position-absolute","mt-1","p-0",3,"authorityValue","whenClickOnConfidenceNotAccepted"],[1,"invalid-feedback"],["aria-hidden","true",1,"dropdown-toggle","position-absolute","tree-toggle",3,"click"],[1,"form-control",3,"id","name","placeholder","readonly","type","value","focus","change","click","keydown","keypress","keyup"]],template:__name(function(rf,ctx){1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_10__.YNc(0,DsDynamicOneboxComponent_ng_template_0_Template,1,4,"ng-template",null,0,_angular_core__WEBPACK_IMPORTED_MODULE_10__.W1O),_angular_core__WEBPACK_IMPORTED_MODULE_10__.YNc(2,DsDynamicOneboxComponent_ng_template_2_Template,5,4,"ng-template",null,1,_angular_core__WEBPACK_IMPORTED_MODULE_10__.W1O),_angular_core__WEBPACK_IMPORTED_MODULE_10__.YNc(4,DsDynamicOneboxComponent_ng_template_4_Template,3,1,"ng-template",null,2,_angular_core__WEBPACK_IMPORTED_MODULE_10__.W1O),_angular_core__WEBPACK_IMPORTED_MODULE_10__.YNc(6,DsDynamicOneboxComponent_div_6_Template,6,16,"div",3),_angular_core__WEBPACK_IMPORTED_MODULE_10__.ALo(7,"async"),_angular_core__WEBPACK_IMPORTED_MODULE_10__.YNc(8,DsDynamicOneboxComponent_div_8_Template,3,12,"div",3),_angular_core__WEBPACK_IMPORTED_MODULE_10__.ALo(9,"async")),2&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_10__.xp6(6),_angular_core__WEBPACK_IMPORTED_MODULE_10__.Q6J("ngIf",!_angular_core__WEBPACK_IMPORTED_MODULE_10__.lcZ(7,2,ctx.isHierarchicalVocabulary())),_angular_core__WEBPACK_IMPORTED_MODULE_10__.xp6(2),_angular_core__WEBPACK_IMPORTED_MODULE_10__.Q6J("ngIf",_angular_core__WEBPACK_IMPORTED_MODULE_10__.lcZ(9,4,ctx.isHierarchicalVocabulary())))},"DsDynamicOneboxComponent_Template"),directives:[_angular_common__WEBPACK_IMPORTED_MODULE_16__.tP,_angular_common__WEBPACK_IMPORTED_MODULE_16__.sg,_angular_common__WEBPACK_IMPORTED_MODULE_16__.O5,_authority_confidence_authority_confidence_state_directive__WEBPACK_IMPORTED_MODULE_8__.e,_ng_bootstrap_ng_bootstrap__WEBPACK_IMPORTED_MODULE_15__.dR,_angular_forms__WEBPACK_IMPORTED_MODULE_17__.Fj,_angular_forms__WEBPACK_IMPORTED_MODULE_17__.JJ,_angular_forms__WEBPACK_IMPORTED_MODULE_17__.On],pipes:[_utils_object_ngfor_pipe__WEBPACK_IMPORTED_MODULE_9__.C,_ngx_translate_core__WEBPACK_IMPORTED_MODULE_18__.X$,_angular_common__WEBPACK_IMPORTED_MODULE_16__.Ov],styles:[".ds-form-input-addon[_ngcontent-%COMP%]{border-top-right-radius:0!important;border-bottom-right-radius:0!important;border-right:0!important}.ds-form-input-btn[_ngcontent-%COMP%]{border:var(--bs-input-btn-border-width) solid var(--bs-input-border-color);border-top-left-radius:0;border-bottom-left-radius:0;border-left:0}.ds-form-input-btn[_ngcontent-%COMP%]:focus{box-shadow:none!important}button.ds-form-add-more[_ngcontent-%COMP%]:focus{outline:none;box-shadow:none!important}.ds-form-input-value[_ngcontent-%COMP%]{border-top-left-radius:0!important;border-bottom-left-radius:0!important}.fa-spin[_ngcontent-%COMP%]{pointer-events:none}.left-addon[_ngcontent-%COMP%]   .far[_ngcontent-%COMP%], .left-addon[_ngcontent-%COMP%]   .fas[_ngcontent-%COMP%], .left-addon[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{left:0}.right-addon[_ngcontent-%COMP%]   .far[_ngcontent-%COMP%], .right-addon[_ngcontent-%COMP%]   .fas[_ngcontent-%COMP%], .right-addon[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{right:0}.left-addon[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{padding-left:calc(var(--bs-spacer) * 2.25)}.right-addon[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{padding-right:calc(var(--bs-spacer) * 2.25)}[_nghost-%COMP%]     .dropdown-menu{width:100%!important;max-height:var(--ds-dropdown-menu-max-height);overflow-y:auto!important;overflow-x:hidden}[_nghost-%COMP%]     .dropdown-item{border-bottom:var(--bs-dropdown-border-width) solid var(--bs-dropdown-border-color)}[_nghost-%COMP%]     .dropdown-item.active, [_nghost-%COMP%]     .dropdown-item:active, [_nghost-%COMP%]     .dropdown-item:focus, [_nghost-%COMP%]     .dropdown-item:hover{color:var(--bs-dropdown-link-hover-color)!important;background-color:var(--bs-dropdown-link-hover-bg)!important}.treeview[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]{max-height:85vh!important;overflow-y:auto}.tree-toggle[_ngcontent-%COMP%]{padding:.7rem .7rem 0}.tree-input[readonly][_ngcontent-%COMP%]{background-color:#fff}"]})},22280:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{H:()=>DsDynamicRelationGroupComponent});var core=__webpack_require__(5e3),cjs=__webpack_require__(76477),operators=__webpack_require__(83292),fesm2015_core=__webpack_require__(87098),lodash=__webpack_require__(17489),form_builder_service=(__webpack_require__(1365),__webpack_require__(71022)),form_service=__webpack_require__(28858),form_component=__webpack_require__(63311),chips_model=__webpack_require__(93769),empty_util=__webpack_require__(24702),animations=__webpack_require__(41777);const shrinkInOut=(0,animations.X$)("shrinkInOut",[(0,animations.SB)("in",(0,animations.oB)({height:"100%",opacity:1})),(0,animations.eR)("* => void",[(0,animations.oB)({height:"!",opacity:1}),(0,animations.jt)(200,(0,animations.oB)({height:0,opacity:0}))]),(0,animations.eR)("void => *",[(0,animations.oB)({height:0,opacity:0}),(0,animations.jt)(200,(0,animations.oB)({height:"*",opacity:1}))])]);var object_util=__webpack_require__(91776),vocabulary_service=__webpack_require__(49566),form_field_metadata_value_model=__webpack_require__(7973),environment=__webpack_require__(21540),ds_dynamic_form_constants=__webpack_require__(78103),shared_operators=__webpack_require__(13730),common=__webpack_require__(69808),ng_bootstrap=__webpack_require__(13707),themed_loading_component=__webpack_require__(48106),chips_component=__webpack_require__(16312),ngx_translate_core=__webpack_require__(42466);const _c0=["formRef"];function DsDynamicRelationGroupComponent_a_0_Template(rf,ctx){if(1&rf){const _r7=core.EpF();core.TgZ(0,"a",7),core.ALo(1,"translate"),core.TgZ(2,"span",8),core.NdJ("click",__name(function(){return core.CHM(_r7),core.oxw().collapseForm()},"DsDynamicRelationGroupComponent_a_0_Template_span_click_2_listener")),core.qZA()()}2&rf&&core.s9C("ngbTooltip",core.lcZ(1,1,"form.group-collapse-help"))}function DsDynamicRelationGroupComponent_a_2_Template(rf,ctx){if(1&rf){const _r9=core.EpF();core.TgZ(0,"a",7),core.ALo(1,"translate"),core.TgZ(2,"span",9),core.NdJ("click",__name(function(){return core.CHM(_r9),core.oxw().expandForm()},"DsDynamicRelationGroupComponent_a_2_Template_span_click_2_listener")),core.qZA()()}2&rf&&core.s9C("ngbTooltip",core.lcZ(1,1,"form.group-expand-help"))}function DsDynamicRelationGroupComponent_div_5_div_3_Template(rf,ctx){if(1&rf){const _r13=core.EpF();core.TgZ(0,"div",15)(1,"button",16),core.NdJ("click",__name(function(){return core.CHM(_r13),core.oxw(2).save()},"DsDynamicRelationGroupComponent_div_5_div_3_Template_button_click_1_listener")),core._UZ(2,"i",17),core.qZA(),core.TgZ(3,"button",16),core.NdJ("click",__name(function(){return core.CHM(_r13),core.oxw(2).delete()},"DsDynamicRelationGroupComponent_div_5_div_3_Template_button_click_3_listener")),core._UZ(4,"i",18),core.qZA(),core.TgZ(5,"button",16),core.NdJ("click",__name(function(){return core.CHM(_r13),core.oxw(2).clear()},"DsDynamicRelationGroupComponent_div_5_div_3_Template_button_click_5_listener")),core._UZ(6,"i",19),core.qZA()()}if(2&rf){const ctx_r11=core.oxw(2);core.xp6(1),core.Q6J("disabled",ctx_r11.isMandatoryFieldEmpty()),core.xp6(2),core.Q6J("disabled",!ctx_r11.editMode),core.xp6(2),core.Q6J("disabled",ctx_r11.isMandatoryFieldEmpty())}}function DsDynamicRelationGroupComponent_div_5_Template(rf,ctx){if(1&rf){const _r17=core.EpF();core.TgZ(0,"div",10)(1,"ds-form",11,12),core.NdJ("dfBlur",__name(function($event){return core.CHM(_r17),core.oxw().onBlur($event)},"DsDynamicRelationGroupComponent_div_5_Template_ds_form_dfBlur_1_listener"))("dfFocus",__name(function($event){return core.CHM(_r17),core.oxw().onFocus($event)},"DsDynamicRelationGroupComponent_div_5_Template_ds_form_dfFocus_1_listener")),core.qZA(),core.YNc(3,DsDynamicRelationGroupComponent_div_5_div_3_Template,7,3,"div",13),core.ALo(4,"async"),core._UZ(5,"div",14),core.qZA()}if(2&rf){const ctx_r2=core.oxw();core.Q6J("@shrinkInOut",void 0),core.xp6(1),core.Q6J("formId",ctx_r2.formId)("formModel",ctx_r2.formModel)("displaySubmit",!1)("displayCancel",!1)("emitChange",!1),core.xp6(2),core.Q6J("ngIf",!core.lcZ(4,7,ctx_r2.formCollapsed))}}function DsDynamicRelationGroupComponent_ds_themed_loading_8_Template(rf,ctx){1&rf&&core._UZ(0,"ds-themed-loading",20),2&rf&&core.Q6J("showMessage",!1)}function DsDynamicRelationGroupComponent_div_9_Template(rf,ctx){1&rf&&(core.TgZ(0,"div"),core._UZ(1,"input",21),core.ALo(2,"translate"),core.qZA()),2&rf&&(core.xp6(1),core.s9C("value",core.lcZ(2,1,"form.no-value")))}function DsDynamicRelationGroupComponent_ds_chips_10_Template(rf,ctx){if(1&rf){const _r20=core.EpF();core.TgZ(0,"ds-chips",22),core.NdJ("selected",__name(function($event){return core.CHM(_r20),core.oxw().onChipSelected($event)},"DsDynamicRelationGroupComponent_ds_chips_10_Template_ds_chips_selected_0_listener")),core.qZA()}if(2&rf){const ctx_r5=core.oxw();core.Q6J("chips",ctx_r5.chips)("editable",!0)("showIcons",!0)}}__name(DsDynamicRelationGroupComponent_a_0_Template,"DsDynamicRelationGroupComponent_a_0_Template"),__name(DsDynamicRelationGroupComponent_a_2_Template,"DsDynamicRelationGroupComponent_a_2_Template"),__name(DsDynamicRelationGroupComponent_div_5_div_3_Template,"DsDynamicRelationGroupComponent_div_5_div_3_Template"),__name(DsDynamicRelationGroupComponent_div_5_Template,"DsDynamicRelationGroupComponent_div_5_Template"),__name(DsDynamicRelationGroupComponent_ds_themed_loading_8_Template,"DsDynamicRelationGroupComponent_ds_themed_loading_8_Template"),__name(DsDynamicRelationGroupComponent_div_9_Template,"DsDynamicRelationGroupComponent_div_9_Template"),__name(DsDynamicRelationGroupComponent_ds_chips_10_Template,"DsDynamicRelationGroupComponent_ds_chips_10_Template");const _c1=__name(function(a0,a1){return{"border-top":a0,"border border-danger":a1}},"_c1");class DsDynamicRelationGroupComponent extends fesm2015_core.LvC{constructor(vocabularyService,formBuilderService,formService,cdr,layoutService,validationService){super(layoutService,validationService),this.vocabularyService=vocabularyService,this.formBuilderService=formBuilderService,this.formService=formService,this.cdr=cdr,this.layoutService=layoutService,this.validationService=validationService,this.blur=new core.vpe,this.change=new core.vpe,this.focus=new core.vpe,this.formCollapsed=(0,cjs.of)(!1),this.editMode=!1,this.subs=[]}ngOnInit(){const config={rows:this.model.formConfiguration};this.model.isEmpty()||(this.formCollapsed=(0,cjs.of)(!0)),this.model.valueChanges.subscribe(value=>{!(0,empty_util.UE)(value)||1===value.length&&(0,object_util.OG)(value[0])?this.expandForm():this.collapseForm()}),this.formId=this.formService.getUniqueId(this.model.id),this.formModel=this.formBuilderService.modelFromConfiguration(this.model.submissionId,config,this.model.scopeUUID,{},this.model.submissionScope,this.model.readOnly),this.initChipsFromModelValue()}isMandatoryFieldEmpty(){let res=!0;return this.formModel.forEach(row=>{row.group.forEach(model=>{model.name!==this.model.mandatoryField||(res=null==model.value)})}),res}onBlur(event2){this.blur.emit()}onChipSelected(event2){this.expandForm(),this.selectedChipItem=this.chips.getChipByIndex(event2),this.formModel.forEach(row=>{row.group.forEach(model=>{const value=this.selectedChipItem.item[model.name]===ds_dynamic_form_constants.n||this.selectedChipItem.item[model.name].value===ds_dynamic_form_constants.n?null:this.selectedChipItem.item[model.name],nextValue=this.formBuilderService.isInputModel(model)&&(0,empty_util.K0)(value)&&"string"!=typeof value?value.value:value;model.value=nextValue})}),this.editMode=!0}onFocus(event2){this.focus.emit(event2)}collapseForm(){this.formCollapsed=(0,cjs.of)(!0),this.clear()}expandForm(){this.formCollapsed=(0,cjs.of)(!1)}clear(){this.editMode&&(this.selectedChipItem.editMode=!1,this.selectedChipItem=null,this.editMode=!1),this.resetForm(),this.model.isEmpty()||(this.formCollapsed=(0,cjs.of)(!0))}save(){this.editMode?this.modifyChip():this.addToChips()}delete(){this.chips.remove(this.selectedChipItem),this.clear()}ngOnDestroy(){this.subs.filter(sub=>(0,empty_util.Uh)(sub)).forEach(sub=>sub.unsubscribe())}addToChips(){if(this.formRef.formGroup.valid){if(!this.isMandatoryFieldEmpty()){const item=this.buildChipItem();this.chips.add(item),this.resetForm()}}else this.formService.validateAllFormFields(this.formRef.formGroup)}modifyChip(){if(this.formRef.formGroup.valid){if(!this.isMandatoryFieldEmpty()){const item=this.buildChipItem();this.chips.update(this.selectedChipItem.id,item),this.resetForm(),this.cdr.detectChanges()}}else this.formService.validateAllFormFields(this.formRef.formGroup)}buildChipItem(){const item=Object.create({});return this.formModel.forEach(row=>{row.group.forEach(control=>{item[control.name]=control.value||ds_dynamic_form_constants.n})}),item}initChipsFromModelValue(){let initChipsValue$;this.model.isEmpty()?this.initChips([]):(initChipsValue$=(0,cjs.of)(this.model.value),this.subs.push(initChipsValue$.pipe((0,operators.zg)(valueModel=>{const returnList=[];return valueModel.forEach(valueObj=>{const returnObj=Object.keys(valueObj).map(fieldName=>{let return$;if((0,lodash.isObject)(valueObj[fieldName])&&valueObj[fieldName].hasAuthority()&&(0,empty_util.UE)(valueObj[fieldName].authority)){const fieldId=fieldName.replace(/\./g,"_"),model=this.formBuilderService.findById(fieldId,this.formModel);return$=this.vocabularyService.findEntryDetailById(valueObj[fieldName].authority,model.vocabularyOptions.name).pipe((0,shared_operators.Gp)(),(0,operators.UI)(entryDetail=>Object.assign(new form_field_metadata_value_model.u,valueObj[fieldName],{otherInformation:entryDetail.otherInformation})))}else return$=(0,cjs.of)(valueObj[fieldName]);return return$.pipe((0,operators.UI)(entry=>({[fieldName]:entry})))});returnList.push((0,cjs.combineLatest)(returnObj))}),returnList}),(0,operators.zg)((valueListObj,index)=>valueListObj.pipe((0,operators.UI)(valueObj=>({index,value:valueObj.reduce((acc,value)=>Object.assign({},acc,value))})))),(0,operators.Rp)((acc,valueObj)=>(0===acc.length?acc.push(valueObj.value):acc.splice(valueObj.index,0,valueObj.value),acc),[]),(0,operators.hX)(modelValues=>this.model.value.length===modelValues.length)).subscribe(modelValue=>{this.model.value=modelValue,this.initChips(modelValue),this.cdr.markForCheck()})))}initChips(initChipsValue){this.chips=new chips_model.c(initChipsValue,"value",this.model.mandatoryField,environment.N.submission.icons.metadata),this.subs.push(this.chips.chipsItems.subscribe(()=>{const items=this.chips.getChipsItems();(0,lodash.isEqual)(items,this.model.value)||(0,empty_util.xb)(items)&&this.model.isEmpty()||(this.model.value=items,this.change.emit())}))}resetForm(){this.formRef&&this.formService.resetForm(this.formRef.formGroup,this.formModel,this.formId)}}__name(DsDynamicRelationGroupComponent,"DsDynamicRelationGroupComponent"),DsDynamicRelationGroupComponent.\u0275fac=__name(function(t){return new(t||DsDynamicRelationGroupComponent)(core.Y36(vocabulary_service.c),core.Y36(form_builder_service.c),core.Y36(form_service.o),core.Y36(core.sBO),core.Y36(fesm2015_core.vnf),core.Y36(fesm2015_core.fhz))},"DsDynamicRelationGroupComponent_Factory"),DsDynamicRelationGroupComponent.\u0275cmp=core.Xpm({type:DsDynamicRelationGroupComponent,selectors:[["ds-dynamic-relation-group"]],viewQuery:__name(function(rf,ctx){if(1&rf&&core.Gf(_c0,5),2&rf){let _t;core.iGM(_t=core.CRH())&&(ctx.formRef=_t.first)}},"DsDynamicRelationGroupComponent_Query"),inputs:{formId:"formId",group:"group",model:"model"},outputs:{blur:"blur",change:"change",focus:"focus"},features:[core.qOj],decls:11,vars:16,consts:[["class","close position-relative","placement","left",3,"ngbTooltip",4,"ngIf"],[1,"pt-2",3,"ngClass"],["class","pl-2 row",4,"ngIf"],[1,"d-flex"],[3,"showMessage",4,"ngIf"],[4,"ngIf"],[3,"chips","editable","showIcons","selected",4,"ngIf"],["placement","left",1,"close","position-relative",3,"ngbTooltip"],["aria-hidden","true",1,"fas","fa-angle-up","fa-fw","fa-2x",3,"click"],["aria-hidden","true",1,"fas","fa-angle-down","fa-fw","fa-2x",3,"click"],[1,"pl-2","row"],[1,"col-sm-12","col-md-8","col-lg-9","col-xl-10","pl-0",3,"formId","formModel","displaySubmit","displayCancel","emitChange","dfBlur","dfFocus"],["formRef","formComponent"],["class","col p-0 m-0 d-flex justify-content-center align-items-center",4,"ngIf"],[1,"clearfix"],[1,"col","p-0","m-0","d-flex","justify-content-center","align-items-center"],["type","button",1,"btn","btn-link",3,"disabled","click"],["aria-hidden","true",1,"fas","fa-save","text-primary","fa-2x"],["aria-hidden","true",1,"fas","fa-trash","text-danger","fa-2x"],["aria-hidden","true",1,"fas","fa-undo","fa-2x"],[3,"showMessage"],["type","text","readonly","","tabindex","-1",1,"border-0","form-control-plaintext","tag-input","mt-1","mb-1","pl-2","text-muted",3,"value"],[3,"chips","editable","showIcons","selected"]],template:__name(function(rf,ctx){1&rf&&(core.YNc(0,DsDynamicRelationGroupComponent_a_0_Template,3,3,"a",0),core.ALo(1,"async"),core.YNc(2,DsDynamicRelationGroupComponent_a_2_Template,3,3,"a",0),core.ALo(3,"async"),core.TgZ(4,"div",1),core.YNc(5,DsDynamicRelationGroupComponent_div_5_Template,6,9,"div",2),core.ALo(6,"async"),core.TgZ(7,"div",3),core.YNc(8,DsDynamicRelationGroupComponent_ds_themed_loading_8_Template,1,1,"ds-themed-loading",4),core.YNc(9,DsDynamicRelationGroupComponent_div_9_Template,3,3,"div",5),core.YNc(10,DsDynamicRelationGroupComponent_ds_chips_10_Template,1,3,"ds-chips",6),core.qZA()()),2&rf&&(core.Q6J("ngIf",!core.lcZ(1,7,ctx.formCollapsed)),core.xp6(2),core.Q6J("ngIf",core.lcZ(3,9,ctx.formCollapsed)),core.xp6(2),core.Q6J("ngClass",core.WLB(13,_c1,!ctx.showErrorMessages,ctx.showErrorMessages)),core.xp6(1),core.Q6J("ngIf",!core.lcZ(6,11,ctx.formCollapsed)),core.xp6(3),core.Q6J("ngIf",!ctx.chips),core.xp6(1),core.Q6J("ngIf",ctx.chips&&!ctx.chips.hasItems()),core.xp6(1),core.Q6J("ngIf",ctx.chips&&ctx.chips.hasItems()))},"DsDynamicRelationGroupComponent_Template"),directives:[common.O5,ng_bootstrap._L,common.mk,form_component.U,themed_loading_component.Z,chips_component.k],pipes:[ngx_translate_core.X$,common.Ov],styles:[".close[_ngcontent-%COMP%]{top:-2.5rem}"],data:{animation:[shrinkInOut]}})},42803:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{D:()=>DsDynamicScrollableDropdownComponent});var _angular_core__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(5e3),rxjs__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(76477),rxjs_operators__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(83292),_core_shared_page_info_model__WEBPACK_IMPORTED_MODULE_1__=(__webpack_require__(28571),__webpack_require__(62713)),_empty_util__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(24702),_core_submission_vocabularies_vocabulary_service__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(49566),_core_shared_operators__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(13730),_core_data_paginated_list_model__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(24789),_dynamic_vocabulary_component__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(10362),_ng_dynamic_forms_core__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(87098),_ng_bootstrap_ng_bootstrap__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(13707),ngx_infinite_scroll__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(76554),_angular_common__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__(69808),_ngx_translate_core__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__(42466);function DsDynamicScrollableDropdownComponent_button_8_Template(rf,ctx){1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_7__.TgZ(0,"button",10),_angular_core__WEBPACK_IMPORTED_MODULE_7__._uU(1),_angular_core__WEBPACK_IMPORTED_MODULE_7__.ALo(2,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_7__.qZA()),2&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_7__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_7__.Oqu(_angular_core__WEBPACK_IMPORTED_MODULE_7__.lcZ(2,1,"form.no-results")))}function DsDynamicScrollableDropdownComponent_button_9_Template(rf,ctx){if(1&rf){const _r6=_angular_core__WEBPACK_IMPORTED_MODULE_7__.EpF();_angular_core__WEBPACK_IMPORTED_MODULE_7__.TgZ(0,"button",11),_angular_core__WEBPACK_IMPORTED_MODULE_7__.NdJ("click",__name(function(){const listEntry_r4=_angular_core__WEBPACK_IMPORTED_MODULE_7__.CHM(_r6).$implicit,ctx_r5=_angular_core__WEBPACK_IMPORTED_MODULE_7__.oxw(),_r0=_angular_core__WEBPACK_IMPORTED_MODULE_7__.MAs(1);return ctx_r5.onSelect(listEntry_r4),_r0.close()},"DsDynamicScrollableDropdownComponent_button_9_Template_button_click_0_listener"))("mousedown",__name(function(){const listEntry_r4=_angular_core__WEBPACK_IMPORTED_MODULE_7__.CHM(_r6).$implicit,ctx_r7=_angular_core__WEBPACK_IMPORTED_MODULE_7__.oxw(),_r0=_angular_core__WEBPACK_IMPORTED_MODULE_7__.MAs(1);return ctx_r7.onSelect(listEntry_r4),_r0.close()},"DsDynamicScrollableDropdownComponent_button_9_Template_button_mousedown_0_listener")),_angular_core__WEBPACK_IMPORTED_MODULE_7__.ALo(1,"async"),_angular_core__WEBPACK_IMPORTED_MODULE_7__._uU(2),_angular_core__WEBPACK_IMPORTED_MODULE_7__.qZA()}if(2&rf){const listEntry_r4=ctx.$implicit,ctx_r2=_angular_core__WEBPACK_IMPORTED_MODULE_7__.oxw();_angular_core__WEBPACK_IMPORTED_MODULE_7__.s9C("title",listEntry_r4.display),_angular_core__WEBPACK_IMPORTED_MODULE_7__.uIk("id",listEntry_r4.display==_angular_core__WEBPACK_IMPORTED_MODULE_7__.lcZ(1,3,ctx_r2.currentValue)?"combobox_"+ctx_r2.id+"_selected":null),_angular_core__WEBPACK_IMPORTED_MODULE_7__.xp6(2),_angular_core__WEBPACK_IMPORTED_MODULE_7__.hij(" ",ctx_r2.inputFormatter(listEntry_r4)," ")}}function DsDynamicScrollableDropdownComponent_div_10_Template(rf,ctx){1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_7__.TgZ(0,"div",12)(1,"p"),_angular_core__WEBPACK_IMPORTED_MODULE_7__._uU(2),_angular_core__WEBPACK_IMPORTED_MODULE_7__.ALo(3,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_7__.qZA()()),2&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_7__.xp6(2),_angular_core__WEBPACK_IMPORTED_MODULE_7__.Oqu(_angular_core__WEBPACK_IMPORTED_MODULE_7__.lcZ(3,1,"form.loading")))}__name(DsDynamicScrollableDropdownComponent_button_8_Template,"DsDynamicScrollableDropdownComponent_button_8_Template"),__name(DsDynamicScrollableDropdownComponent_button_9_Template,"DsDynamicScrollableDropdownComponent_button_9_Template"),__name(DsDynamicScrollableDropdownComponent_div_10_Template,"DsDynamicScrollableDropdownComponent_div_10_Template");class DsDynamicScrollableDropdownComponent extends _dynamic_vocabulary_component__WEBPACK_IMPORTED_MODULE_5__.m{constructor(vocabularyService,cdr,layoutService,validationService){super(vocabularyService,layoutService,validationService),this.vocabularyService=vocabularyService,this.cdr=cdr,this.layoutService=layoutService,this.validationService=validationService,this.bindId=!0,this.blur=new _angular_core__WEBPACK_IMPORTED_MODULE_7__.vpe,this.change=new _angular_core__WEBPACK_IMPORTED_MODULE_7__.vpe,this.focus=new _angular_core__WEBPACK_IMPORTED_MODULE_7__.vpe,this.loading=!1,this.inputFormatter=x=>x.display||x.value}ngOnInit(){this.updatePageInfo(this.model.maxOptions,1),this.vocabularyService.getVocabularyEntries(this.model.vocabularyOptions,this.pageInfo).pipe((0,_core_shared_operators__WEBPACK_IMPORTED_MODULE_3__.Gp)(),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_8__.KQ)(()=>(0,rxjs__WEBPACK_IMPORTED_MODULE_9__.of)((0,_core_data_paginated_list_model__WEBPACK_IMPORTED_MODULE_4__.b)(new _core_shared_page_info_model__WEBPACK_IMPORTED_MODULE_1__.S,[])))).subscribe(list=>{this.optionsList=list.page,this.model.value&&this.setCurrentValue(this.model.value,!0),this.updatePageInfo(list.pageInfo.elementsPerPage,list.pageInfo.currentPage,list.pageInfo.totalElements,list.pageInfo.totalPages),this.cdr.detectChanges()}),this.group.get(this.model.id).valueChanges.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_8__.xb)()).subscribe(value=>{this.setCurrentValue(value)})}openDropdown(sdRef){this.model.readOnly||(this.group.markAsUntouched(),sdRef.open())}onScroll(){!this.loading&&this.pageInfo.currentPage<=this.pageInfo.totalPages&&(this.loading=!0,this.updatePageInfo(this.pageInfo.elementsPerPage,this.pageInfo.currentPage+1,this.pageInfo.totalElements,this.pageInfo.totalPages),this.vocabularyService.getVocabularyEntries(this.model.vocabularyOptions,this.pageInfo).pipe((0,_core_shared_operators__WEBPACK_IMPORTED_MODULE_3__.Gp)(),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_8__.KQ)(()=>(0,rxjs__WEBPACK_IMPORTED_MODULE_9__.of)((0,_core_data_paginated_list_model__WEBPACK_IMPORTED_MODULE_4__.b)(new _core_shared_page_info_model__WEBPACK_IMPORTED_MODULE_1__.S,[]))),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_8__.bw)(()=>this.loading=!1)).subscribe(list=>{this.optionsList=this.optionsList.concat(list.page),this.updatePageInfo(list.pageInfo.elementsPerPage,list.pageInfo.currentPage,list.pageInfo.totalElements,list.pageInfo.totalPages),this.cdr.detectChanges()}))}onSelect(event2){this.group.markAsDirty(),this.dispatchUpdate(event2),this.setCurrentValue(event2)}setCurrentValue(value,init=!1){let result;result=init?this.getInitValueFromModel().pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_8__.UI)(formValue=>formValue.display)):(0,_empty_util__WEBPACK_IMPORTED_MODULE_10__.xb)(value)?(0,rxjs__WEBPACK_IMPORTED_MODULE_9__.of)(""):"string"==typeof value?(0,rxjs__WEBPACK_IMPORTED_MODULE_9__.of)(value):(0,rxjs__WEBPACK_IMPORTED_MODULE_9__.of)(value.display),this.currentValue=result}}__name(DsDynamicScrollableDropdownComponent,"DsDynamicScrollableDropdownComponent"),DsDynamicScrollableDropdownComponent.\u0275fac=__name(function(t){return new(t||DsDynamicScrollableDropdownComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_7__.Y36(_core_submission_vocabularies_vocabulary_service__WEBPACK_IMPORTED_MODULE_2__.c),_angular_core__WEBPACK_IMPORTED_MODULE_7__.Y36(_angular_core__WEBPACK_IMPORTED_MODULE_7__.sBO),_angular_core__WEBPACK_IMPORTED_MODULE_7__.Y36(_ng_dynamic_forms_core__WEBPACK_IMPORTED_MODULE_11__.vnf),_angular_core__WEBPACK_IMPORTED_MODULE_7__.Y36(_ng_dynamic_forms_core__WEBPACK_IMPORTED_MODULE_11__.fhz))},"DsDynamicScrollableDropdownComponent_Factory"),DsDynamicScrollableDropdownComponent.\u0275cmp=_angular_core__WEBPACK_IMPORTED_MODULE_7__.Xpm({type:DsDynamicScrollableDropdownComponent,selectors:[["ds-dynamic-scrollable-dropdown"]],inputs:{bindId:"bindId",group:"group",model:"model"},outputs:{blur:"blur",change:"change",focus:"focus"},features:[_angular_core__WEBPACK_IMPORTED_MODULE_7__.qOj],decls:11,vars:26,consts:[["ngbDropdown","","display","dynamic","placement","bottom-right",1,"w-100"],["sdRef","ngbDropdown"],["role","combobox",1,"position-relative","right-addon"],["ngbDropdownToggle","","aria-hidden","true",1,"position-absolute","scrollable-dropdown-toggle"],[1,"form-control",3,"id","name","readonly","type","value","blur","click","focus","keypress"],["ngbDropdownMenu","","aria-haspopup","true","aria-expanded","false",1,"dropdown-menu","scrollable-dropdown-menu","w-100"],["role","listbox","infiniteScroll","",1,"scrollable-menu",3,"id","infiniteScrollDistance","infiniteScrollThrottle","scrollWindow","scrolled"],["class","dropdown-item disabled",4,"ngIf"],["class","dropdown-item collection-item text-truncate","role","option",3,"title","click","mousedown",4,"ngFor","ngForOf"],["class","scrollable-dropdown-loading text-center",4,"ngIf"],[1,"dropdown-item","disabled"],["role","option",1,"dropdown-item","collection-item","text-truncate",3,"title","click","mousedown"],[1,"scrollable-dropdown-loading","text-center"]],template:__name(function(rf,ctx){if(1&rf){const _r8=_angular_core__WEBPACK_IMPORTED_MODULE_7__.EpF();_angular_core__WEBPACK_IMPORTED_MODULE_7__.TgZ(0,"div",0,1)(2,"div",2),_angular_core__WEBPACK_IMPORTED_MODULE_7__._UZ(3,"i",3),_angular_core__WEBPACK_IMPORTED_MODULE_7__.TgZ(4,"input",4),_angular_core__WEBPACK_IMPORTED_MODULE_7__.NdJ("blur",__name(function($event){return ctx.onBlur($event)},"DsDynamicScrollableDropdownComponent_Template_input_blur_4_listener"))("click",__name(function($event){_angular_core__WEBPACK_IMPORTED_MODULE_7__.CHM(_r8);const _r0=_angular_core__WEBPACK_IMPORTED_MODULE_7__.MAs(1);return $event.stopPropagation(),ctx.openDropdown(_r0)},"DsDynamicScrollableDropdownComponent_Template_input_click_4_listener"))("focus",__name(function($event){return ctx.onFocus($event)},"DsDynamicScrollableDropdownComponent_Template_input_focus_4_listener"))("keypress",__name(function($event){return $event.preventDefault()},"DsDynamicScrollableDropdownComponent_Template_input_keypress_4_listener")),_angular_core__WEBPACK_IMPORTED_MODULE_7__.ALo(5,"async"),_angular_core__WEBPACK_IMPORTED_MODULE_7__.qZA()(),_angular_core__WEBPACK_IMPORTED_MODULE_7__.TgZ(6,"div",5)(7,"div",6),_angular_core__WEBPACK_IMPORTED_MODULE_7__.NdJ("scrolled",__name(function(){return ctx.onScroll()},"DsDynamicScrollableDropdownComponent_Template_div_scrolled_7_listener")),_angular_core__WEBPACK_IMPORTED_MODULE_7__.YNc(8,DsDynamicScrollableDropdownComponent_button_8_Template,3,3,"button",7),_angular_core__WEBPACK_IMPORTED_MODULE_7__.YNc(9,DsDynamicScrollableDropdownComponent_button_9_Template,3,5,"button",8),_angular_core__WEBPACK_IMPORTED_MODULE_7__.YNc(10,DsDynamicScrollableDropdownComponent_div_10_Template,4,3,"div",9),_angular_core__WEBPACK_IMPORTED_MODULE_7__.qZA()()()}2&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_7__.xp6(2),_angular_core__WEBPACK_IMPORTED_MODULE_7__.uIk("aria-label",ctx.model.label)("aria-owns","combobox_"+ctx.id+"_listbox"),_angular_core__WEBPACK_IMPORTED_MODULE_7__.xp6(2),_angular_core__WEBPACK_IMPORTED_MODULE_7__.ekj("is-invalid",ctx.showErrorMessages)("scrollable-dropdown-input",!ctx.model.readOnly),_angular_core__WEBPACK_IMPORTED_MODULE_7__.Q6J("id",ctx.id)("name",ctx.model.name)("readonly",!0)("type",ctx.model.inputType)("value",_angular_core__WEBPACK_IMPORTED_MODULE_7__.lcZ(5,24,ctx.currentValue)),_angular_core__WEBPACK_IMPORTED_MODULE_7__.uIk("aria-controls","combobox_"+ctx.id+"_listbox")("aria-activedescendant","combobox_"+ctx.id+"_selected")("aria-label",ctx.model.placeholder)("autoComplete",ctx.model.autoComplete),_angular_core__WEBPACK_IMPORTED_MODULE_7__.xp6(2),_angular_core__WEBPACK_IMPORTED_MODULE_7__.uIk("aria-label",ctx.model.placeholder),_angular_core__WEBPACK_IMPORTED_MODULE_7__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_7__.Q6J("id","combobox_"+ctx.id+"_listbox")("infiniteScrollDistance",2)("infiniteScrollThrottle",50)("scrollWindow",!1),_angular_core__WEBPACK_IMPORTED_MODULE_7__.uIk("aria-label",ctx.model.placeholder),_angular_core__WEBPACK_IMPORTED_MODULE_7__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_7__.Q6J("ngIf",ctx.optionsList&&0==ctx.optionsList.length),_angular_core__WEBPACK_IMPORTED_MODULE_7__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_7__.Q6J("ngForOf",ctx.optionsList),_angular_core__WEBPACK_IMPORTED_MODULE_7__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_7__.Q6J("ngIf",ctx.loading))},"DsDynamicScrollableDropdownComponent_Template"),directives:[_ng_bootstrap_ng_bootstrap__WEBPACK_IMPORTED_MODULE_12__.jt,_ng_bootstrap_ng_bootstrap__WEBPACK_IMPORTED_MODULE_12__.iD,_ng_bootstrap_ng_bootstrap__WEBPACK_IMPORTED_MODULE_12__.Vi,ngx_infinite_scroll__WEBPACK_IMPORTED_MODULE_6__.R,_angular_common__WEBPACK_IMPORTED_MODULE_13__.O5,_angular_common__WEBPACK_IMPORTED_MODULE_13__.sg],pipes:[_angular_common__WEBPACK_IMPORTED_MODULE_13__.Ov,_ngx_translate_core__WEBPACK_IMPORTED_MODULE_14__.X$],styles:[".ds-form-input-addon[_ngcontent-%COMP%]{border-top-right-radius:0!important;border-bottom-right-radius:0!important;border-right:0!important}.ds-form-input-btn[_ngcontent-%COMP%]{border:var(--bs-input-btn-border-width) solid var(--bs-input-border-color);border-top-left-radius:0;border-bottom-left-radius:0;border-left:0}.ds-form-input-btn[_ngcontent-%COMP%]:focus{box-shadow:none!important}button.ds-form-add-more[_ngcontent-%COMP%]:focus{outline:none;box-shadow:none!important}.ds-form-input-value[_ngcontent-%COMP%]{border-top-left-radius:0!important;border-bottom-left-radius:0!important}.fa-spin[_ngcontent-%COMP%]{pointer-events:none}.left-addon[_ngcontent-%COMP%]   .far[_ngcontent-%COMP%], .left-addon[_ngcontent-%COMP%]   .fas[_ngcontent-%COMP%], .left-addon[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{left:0}.right-addon[_ngcontent-%COMP%]   .far[_ngcontent-%COMP%], .right-addon[_ngcontent-%COMP%]   .fas[_ngcontent-%COMP%], .right-addon[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{right:0}.left-addon[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{padding-left:calc(var(--bs-spacer) * 2.25)}.right-addon[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{padding-right:calc(var(--bs-spacer) * 2.25)}.scrollable-menu[_ngcontent-%COMP%]{height:auto;max-height:var(--ds-dropdown-menu-max-height);overflow-x:hidden}.collection-item[_ngcontent-%COMP%]{border-bottom:var(--bs-dropdown-border-width) solid var(--bs-dropdown-border-color)}.scrollable-dropdown-loading[_ngcontent-%COMP%]{background-color:var(--bs-primary);color:#fff;height:calc(var(--bs-spacer) * 2)!important;line-height:calc(var(--bs-spacer) * 2);position:sticky;bottom:0}.scrollable-dropdown-menu[_ngcontent-%COMP%]{left:0!important;margin-bottom:var(--bs-spacer);z-index:1000}.scrollable-dropdown-toggle[_ngcontent-%COMP%]{padding:.7rem .7rem 0}.scrollable-dropdown-input[readonly][_ngcontent-%COMP%]{background-color:#fff}"]})},28554:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{V:()=>DsDynamicTagComponent});var _angular_core__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(5e3),rxjs__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(76477),rxjs_operators__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(83292),lodash__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(17489),_core_submission_vocabularies_vocabulary_service__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(49566),_chips_models_chips_model__WEBPACK_IMPORTED_MODULE_3__=(__webpack_require__(81907),__webpack_require__(93769)),_empty_util__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__(24702),_environments_environment__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(21540),_core_shared_operators__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(13730),_core_data_paginated_list_model__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(24789),_core_shared_page_info_model__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(62713),_dynamic_vocabulary_component__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(10362),_ng_dynamic_forms_core__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__(87098),_chips_chips_component__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(16312),_angular_common__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__(69808),_angular_forms__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__(93075),_ng_bootstrap_ng_bootstrap__WEBPACK_IMPORTED_MODULE_17__=__webpack_require__(13707);const _c0=["instance"];function DsDynamicTagComponent_ng_template_0_Template(rf,ctx){if(1&rf&&_angular_core__WEBPACK_IMPORTED_MODULE_10__._uU(0),2&rf){const r_r4=ctx.result;_angular_core__WEBPACK_IMPORTED_MODULE_10__.hij(" ",r_r4.display,"\n")}}function DsDynamicTagComponent_input_3_Template(rf,ctx){if(1&rf){const _r7=_angular_core__WEBPACK_IMPORTED_MODULE_10__.EpF();_angular_core__WEBPACK_IMPORTED_MODULE_10__.TgZ(0,"input",4),_angular_core__WEBPACK_IMPORTED_MODULE_10__.NdJ("ngModelChange",__name(function($event){_angular_core__WEBPACK_IMPORTED_MODULE_10__.CHM(_r7);return _angular_core__WEBPACK_IMPORTED_MODULE_10__.oxw().currentValue=$event},"DsDynamicTagComponent_input_3_Template_input_ngModelChange_0_listener"))("blur",__name(function($event){return _angular_core__WEBPACK_IMPORTED_MODULE_10__.CHM(_r7),_angular_core__WEBPACK_IMPORTED_MODULE_10__.oxw().onBlur($event)},"DsDynamicTagComponent_input_3_Template_input_blur_0_listener"))("keypress",__name(function($event){return _angular_core__WEBPACK_IMPORTED_MODULE_10__.CHM(_r7),_angular_core__WEBPACK_IMPORTED_MODULE_10__.oxw().preventEventsPropagation($event)},"DsDynamicTagComponent_input_3_Template_input_keypress_0_listener"))("keydown",__name(function($event){return _angular_core__WEBPACK_IMPORTED_MODULE_10__.CHM(_r7),_angular_core__WEBPACK_IMPORTED_MODULE_10__.oxw().preventEventsPropagation($event)},"DsDynamicTagComponent_input_3_Template_input_keydown_0_listener"))("keyup",__name(function($event){return _angular_core__WEBPACK_IMPORTED_MODULE_10__.CHM(_r7),_angular_core__WEBPACK_IMPORTED_MODULE_10__.oxw().onKeyUp($event)},"DsDynamicTagComponent_input_3_Template_input_keyup_0_listener")),_angular_core__WEBPACK_IMPORTED_MODULE_10__.qZA()}if(2&rf){const ctx_r2=_angular_core__WEBPACK_IMPORTED_MODULE_10__.oxw();_angular_core__WEBPACK_IMPORTED_MODULE_10__.ekj("pl-3",ctx_r2.chips.hasItems()),_angular_core__WEBPACK_IMPORTED_MODULE_10__.Q6J("placeholder",ctx_r2.model.placeholder)("readonly",ctx_r2.model.readOnly)("ngModel",ctx_r2.currentValue)}}function DsDynamicTagComponent_div_4_i_1_Template(rf,ctx){1&rf&&_angular_core__WEBPACK_IMPORTED_MODULE_10__._UZ(0,"i",9)}function DsDynamicTagComponent_div_4_Template(rf,ctx){if(1&rf){const _r15=_angular_core__WEBPACK_IMPORTED_MODULE_10__.EpF();_angular_core__WEBPACK_IMPORTED_MODULE_10__.TgZ(0,"div",5),_angular_core__WEBPACK_IMPORTED_MODULE_10__.YNc(1,DsDynamicTagComponent_div_4_i_1_Template,1,0,"i",6),_angular_core__WEBPACK_IMPORTED_MODULE_10__.TgZ(2,"input",7,8),_angular_core__WEBPACK_IMPORTED_MODULE_10__.NdJ("ngModelChange",__name(function($event){_angular_core__WEBPACK_IMPORTED_MODULE_10__.CHM(_r15);return _angular_core__WEBPACK_IMPORTED_MODULE_10__.oxw().currentValue=$event},"DsDynamicTagComponent_div_4_Template_input_ngModelChange_2_listener"))("blur",__name(function($event){return _angular_core__WEBPACK_IMPORTED_MODULE_10__.CHM(_r15),_angular_core__WEBPACK_IMPORTED_MODULE_10__.oxw().onBlur($event)},"DsDynamicTagComponent_div_4_Template_input_blur_2_listener"))("focus",__name(function($event){return _angular_core__WEBPACK_IMPORTED_MODULE_10__.CHM(_r15),_angular_core__WEBPACK_IMPORTED_MODULE_10__.oxw().onFocus($event)},"DsDynamicTagComponent_div_4_Template_input_focus_2_listener"))("change",__name(function($event){return $event.stopPropagation()},"DsDynamicTagComponent_div_4_Template_input_change_2_listener"))("input",__name(function($event){return _angular_core__WEBPACK_IMPORTED_MODULE_10__.CHM(_r15),_angular_core__WEBPACK_IMPORTED_MODULE_10__.oxw().onInput($event)},"DsDynamicTagComponent_div_4_Template_input_input_2_listener"))("selectItem",__name(function($event){return _angular_core__WEBPACK_IMPORTED_MODULE_10__.CHM(_r15),_angular_core__WEBPACK_IMPORTED_MODULE_10__.oxw().onSelectItem($event)},"DsDynamicTagComponent_div_4_Template_input_selectItem_2_listener"))("keypress",__name(function($event){return _angular_core__WEBPACK_IMPORTED_MODULE_10__.CHM(_r15),_angular_core__WEBPACK_IMPORTED_MODULE_10__.oxw().preventEventsPropagation($event)},"DsDynamicTagComponent_div_4_Template_input_keypress_2_listener"))("keydown",__name(function($event){return _angular_core__WEBPACK_IMPORTED_MODULE_10__.CHM(_r15),_angular_core__WEBPACK_IMPORTED_MODULE_10__.oxw().preventEventsPropagation($event)},"DsDynamicTagComponent_div_4_Template_input_keydown_2_listener"))("keyup",__name(function($event){return _angular_core__WEBPACK_IMPORTED_MODULE_10__.CHM(_r15),_angular_core__WEBPACK_IMPORTED_MODULE_10__.oxw().onKeyUp($event)},"DsDynamicTagComponent_div_4_Template_input_keyup_2_listener")),_angular_core__WEBPACK_IMPORTED_MODULE_10__.qZA()()}if(2&rf){const ctx_r3=_angular_core__WEBPACK_IMPORTED_MODULE_10__.oxw(),_r0=_angular_core__WEBPACK_IMPORTED_MODULE_10__.MAs(1);_angular_core__WEBPACK_IMPORTED_MODULE_10__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_10__.Q6J("ngIf",ctx_r3.searching),_angular_core__WEBPACK_IMPORTED_MODULE_10__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_10__.ekj("is-invalid",ctx_r3.showErrorMessages)("pl-3",ctx_r3.chips.hasItems()),_angular_core__WEBPACK_IMPORTED_MODULE_10__.Q6J("ngModel",ctx_r3.currentValue)("id",ctx_r3.id)("inputFormatter",ctx_r3.formatter)("name",ctx_r3.model.name)("ngbTypeahead",ctx_r3.search)("placeholder",ctx_r3.model.placeholder)("readonly",ctx_r3.model.readOnly)("resultTemplate",_r0)("type",ctx_r3.model.inputType),_angular_core__WEBPACK_IMPORTED_MODULE_10__.uIk("aria-labelledby","label_"+ctx_r3.model.id)("autoComplete",ctx_r3.model.autoComplete)}}__name(DsDynamicTagComponent_ng_template_0_Template,"DsDynamicTagComponent_ng_template_0_Template"),__name(DsDynamicTagComponent_input_3_Template,"DsDynamicTagComponent_input_3_Template"),__name(DsDynamicTagComponent_div_4_i_1_Template,"DsDynamicTagComponent_div_4_i_1_Template"),__name(DsDynamicTagComponent_div_4_Template,"DsDynamicTagComponent_div_4_Template");class DsDynamicTagComponent extends _dynamic_vocabulary_component__WEBPACK_IMPORTED_MODULE_8__.m{constructor(vocabularyService,cdr,layoutService,validationService){super(vocabularyService,layoutService,validationService),this.vocabularyService=vocabularyService,this.cdr=cdr,this.layoutService=layoutService,this.validationService=validationService,this.bindId=!0,this.blur=new _angular_core__WEBPACK_IMPORTED_MODULE_10__.vpe,this.change=new _angular_core__WEBPACK_IMPORTED_MODULE_10__.vpe,this.focus=new _angular_core__WEBPACK_IMPORTED_MODULE_10__.vpe,this.searching=!1,this.searchFailed=!1,this.hideSearchingWhenUnsubscribed=new rxjs__WEBPACK_IMPORTED_MODULE_11__.Observable(()=>()=>this.changeSearchingStatus(!1)),this.formatter=x=>x.display,this.search=text$=>text$.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_12__.bh)(300),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_12__.xb)(),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_12__.bw)(()=>this.changeSearchingStatus(!0)),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_12__.wt)(term=>""===term||term.length<this.model.minChars?(0,rxjs__WEBPACK_IMPORTED_MODULE_11__.of)({list:[]}):this.vocabularyService.getVocabularyEntriesByValue(term,!1,this.model.vocabularyOptions,new _core_shared_page_info_model__WEBPACK_IMPORTED_MODULE_7__.S).pipe((0,_core_shared_operators__WEBPACK_IMPORTED_MODULE_5__.Gp)(),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_12__.bw)(()=>this.searchFailed=!1),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_12__.KQ)(()=>(this.searchFailed=!0,(0,rxjs__WEBPACK_IMPORTED_MODULE_11__.of)((0,_core_data_paginated_list_model__WEBPACK_IMPORTED_MODULE_6__.b)(new _core_shared_page_info_model__WEBPACK_IMPORTED_MODULE_7__.S,[])))))),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_12__.UI)(list=>list.page),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_12__.bw)(()=>this.changeSearchingStatus(!1)),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_12__.TS)(this.hideSearchingWhenUnsubscribed))}ngOnInit(){this.hasAuthority=this.model.vocabularyOptions&&(0,_empty_util__WEBPACK_IMPORTED_MODULE_13__.Uh)(this.model.vocabularyOptions.name),this.chips=new _chips_models_chips_model__WEBPACK_IMPORTED_MODULE_3__.c(this.model.value,"display",null,_environments_environment__WEBPACK_IMPORTED_MODULE_4__.N.submission.icons.metadata),this.chips.chipsItems.subscribe(subItems=>{const items=this.chips.getChipsItems();(0,lodash__WEBPACK_IMPORTED_MODULE_0__.isEqual)(items,this.model.value)||this.dispatchUpdate(items)})}changeSearchingStatus(status){this.searching=status,this.cdr.detectChanges()}onInput(event2){event2.data&&this.group.markAsDirty(),this.cdr.detectChanges()}onBlur(event2){(0,_empty_util__WEBPACK_IMPORTED_MODULE_13__.UE)(this.currentValue)&&!this.instance.isPopupOpen()&&this.addTagsToChips(),this.blur.emit(event2)}onSelectItem(event2){this.chips.add(event2.item),this.updateModel(event2),setTimeout(()=>{this.setCurrentValue(null),this.cdr.detectChanges()},50)}updateModel(event2){this.dispatchUpdate(this.chips.getChipsItems())}onKeyUp(event2){(13===event2.keyCode||188===event2.keyCode)&&(event2.preventDefault(),this.addTagsToChips(),event2.stopPropagation())}preventEventsPropagation(event2){event2.stopPropagation(),13===event2.keyCode&&event2.preventDefault()}setCurrentValue(value,init=!1){this.currentValue=value}addTagsToChips(){if((0,_empty_util__WEBPACK_IMPORTED_MODULE_13__.Uh)(this.currentValue)&&(!this.hasAuthority||!this.model.vocabularyOptions.closed)){let res=[];res=this.currentValue.split(",");const res1=[];res.forEach(item=>{item.split(";").forEach(i=>{res1.push(i)})}),res1.forEach(c=>{(c=c.trim()).length>0&&this.chips.add(c)}),setTimeout(()=>{this.setCurrentValue(null),this.cdr.detectChanges()},50),this.updateModel(event)}}}__name(DsDynamicTagComponent,"DsDynamicTagComponent"),DsDynamicTagComponent.\u0275fac=__name(function(t){return new(t||DsDynamicTagComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_10__.Y36(_core_submission_vocabularies_vocabulary_service__WEBPACK_IMPORTED_MODULE_1__.c),_angular_core__WEBPACK_IMPORTED_MODULE_10__.Y36(_angular_core__WEBPACK_IMPORTED_MODULE_10__.sBO),_angular_core__WEBPACK_IMPORTED_MODULE_10__.Y36(_ng_dynamic_forms_core__WEBPACK_IMPORTED_MODULE_14__.vnf),_angular_core__WEBPACK_IMPORTED_MODULE_10__.Y36(_ng_dynamic_forms_core__WEBPACK_IMPORTED_MODULE_14__.fhz))},"DsDynamicTagComponent_Factory"),DsDynamicTagComponent.\u0275cmp=_angular_core__WEBPACK_IMPORTED_MODULE_10__.Xpm({type:DsDynamicTagComponent,selectors:[["ds-dynamic-tag"]],viewQuery:__name(function(rf,ctx){if(1&rf&&_angular_core__WEBPACK_IMPORTED_MODULE_10__.Gf(_c0,5),2&rf){let _t;_angular_core__WEBPACK_IMPORTED_MODULE_10__.iGM(_t=_angular_core__WEBPACK_IMPORTED_MODULE_10__.CRH())&&(ctx.instance=_t.first)}},"DsDynamicTagComponent_Query"),inputs:{bindId:"bindId",group:"group",model:"model"},outputs:{blur:"blur",change:"change",focus:"focus"},features:[_angular_core__WEBPACK_IMPORTED_MODULE_10__.qOj],decls:5,vars:6,consts:[["rt",""],[3,"chips","editable","showIcons","wrapperClass"],["class","border-0 form-control-plaintext tag-input flex-grow-1 mt-1 mb-1","type","text","role","textbox",3,"pl-3","placeholder","readonly","ngModel","ngModelChange","blur","keypress","keydown","keyup",4,"ngIf"],["class","position-relative right-addon",4,"ngIf"],["type","text","role","textbox",1,"border-0","form-control-plaintext","tag-input","flex-grow-1","mt-1","mb-1",3,"placeholder","readonly","ngModel","ngModelChange","blur","keypress","keydown","keyup"],[1,"position-relative","right-addon"],["class","fas fa-circle-notch fa-spin fa-2x fa-fw text-primary position-absolute mt-1 p-0","aria-hidden","true",4,"ngIf"],["type","text",1,"border-0","form-control-plaintext","tag-input","flex-grow-1","mt-1","mb-1",3,"ngModel","id","inputFormatter","name","ngbTypeahead","placeholder","readonly","resultTemplate","type","ngModelChange","blur","focus","change","input","selectItem","keypress","keydown","keyup"],["instance","ngbTypeahead"],["aria-hidden","true",1,"fas","fa-circle-notch","fa-spin","fa-2x","fa-fw","text-primary","position-absolute","mt-1","p-0"]],template:__name(function(rf,ctx){1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_10__.YNc(0,DsDynamicTagComponent_ng_template_0_Template,1,1,"ng-template",null,0,_angular_core__WEBPACK_IMPORTED_MODULE_10__.W1O),_angular_core__WEBPACK_IMPORTED_MODULE_10__.TgZ(2,"ds-chips",1),_angular_core__WEBPACK_IMPORTED_MODULE_10__.YNc(3,DsDynamicTagComponent_input_3_Template,1,5,"input",2),_angular_core__WEBPACK_IMPORTED_MODULE_10__.YNc(4,DsDynamicTagComponent_div_4_Template,4,16,"div",3),_angular_core__WEBPACK_IMPORTED_MODULE_10__.qZA()),2&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_10__.xp6(2),_angular_core__WEBPACK_IMPORTED_MODULE_10__.Q6J("chips",ctx.chips)("editable",!1)("showIcons",ctx.model.hasAuthority)("wrapperClass","border-bottom border-light"),_angular_core__WEBPACK_IMPORTED_MODULE_10__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_10__.Q6J("ngIf",!ctx.model.hasAuthority),_angular_core__WEBPACK_IMPORTED_MODULE_10__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_10__.Q6J("ngIf",ctx.model.hasAuthority))},"DsDynamicTagComponent_Template"),directives:[_chips_chips_component__WEBPACK_IMPORTED_MODULE_9__.k,_angular_common__WEBPACK_IMPORTED_MODULE_15__.O5,_angular_forms__WEBPACK_IMPORTED_MODULE_16__.Fj,_angular_forms__WEBPACK_IMPORTED_MODULE_16__.JJ,_angular_forms__WEBPACK_IMPORTED_MODULE_16__.On,_ng_bootstrap_ng_bootstrap__WEBPACK_IMPORTED_MODULE_17__.dR],styles:[".ds-form-input-addon[_ngcontent-%COMP%]{border-top-right-radius:0!important;border-bottom-right-radius:0!important;border-right:0!important}.ds-form-input-btn[_ngcontent-%COMP%]{border:var(--bs-input-btn-border-width) solid var(--bs-input-border-color);border-top-left-radius:0;border-bottom-left-radius:0;border-left:0}.ds-form-input-btn[_ngcontent-%COMP%]:focus{box-shadow:none!important}button.ds-form-add-more[_ngcontent-%COMP%]:focus{outline:none;box-shadow:none!important}.ds-form-input-value[_ngcontent-%COMP%]{border-top-left-radius:0!important;border-bottom-left-radius:0!important}.fa-spin[_ngcontent-%COMP%]{pointer-events:none}.left-addon[_ngcontent-%COMP%]   .far[_ngcontent-%COMP%], .left-addon[_ngcontent-%COMP%]   .fas[_ngcontent-%COMP%], .left-addon[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{left:0}.right-addon[_ngcontent-%COMP%]   .far[_ngcontent-%COMP%], .right-addon[_ngcontent-%COMP%]   .fas[_ngcontent-%COMP%], .right-addon[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{right:0}.left-addon[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{padding-left:calc(var(--bs-spacer) * 2.25)}.right-addon[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{padding-right:calc(var(--bs-spacer) * 2.25)}.chips-left[_ngcontent-%COMP%]{left:0;padding-right:100%}[_nghost-%COMP%]     .dropdown-menu{width:100%!important;max-height:var(--ds-dropdown-menu-max-height);overflow-y:scroll;overflow-x:hidden;left:0!important;margin-top:var(--bs-spacer)!important}[_nghost-%COMP%]     .dropdown-item.active, [_nghost-%COMP%]     .dropdown-item:active, [_nghost-%COMP%]     .dropdown-item:focus, [_nghost-%COMP%]     .dropdown-item:hover{color:var(--bs-dropdown-link-hover-color)!important;background-color:var(--bs-dropdown-link-hover-bg)!important}.tag-input[_ngcontent-%COMP%]{flex-grow:1;outline:none;width:auto!important}"]})},55648:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{i:()=>DsDynamicLookupRelationModalComponent});var _angular_core__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__(5e3),rxjs__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__(76477),_empty_util__WEBPACK_IMPORTED_MODULE_18__=__webpack_require__(24702),rxjs_operators__WEBPACK_IMPORTED_MODULE_17__=__webpack_require__(83292),_my_dspace_page_my_dspace_page_component__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(14292),_core_shared_search_search_configuration_service__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(36872),_object_list_selectable_list_selectable_list_service__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(51117),_relationship_actions__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(35355),_core_data_relationship_data_service__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(88002),_core_data_relationship_type_data_service__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(67357),_core_shared_context_model__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(84935),_core_data_lookup_relation_service__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(78326),_core_data_external_source_data_service__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(31388),_core_cache_builders_remote_data_build_service__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(95611),_core_shared_operators__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(13730),_utils_follow_link_config_model__WEBPACK_IMPORTED_MODULE_19__=__webpack_require__(93369),_ng_bootstrap_ng_bootstrap__WEBPACK_IMPORTED_MODULE_20__=__webpack_require__(13707),_ngrx_store__WEBPACK_IMPORTED_MODULE_21__=__webpack_require__(85094),_angular_router__WEBPACK_IMPORTED_MODULE_22__=__webpack_require__(74202),_angular_common__WEBPACK_IMPORTED_MODULE_23__=__webpack_require__(69808),_loading_themed_loading_component__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(48106),_search_tab_dynamic_lookup_relation_search_tab_component__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(64204),_external_source_tab_dynamic_lookup_relation_external_source_tab_component__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__(32272),_selection_tab_dynamic_lookup_relation_selection_tab_component__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__(53006),_ngx_translate_core__WEBPACK_IMPORTED_MODULE_24__=__webpack_require__(42466);function DsDynamicLookupRelationModalComponent_ds_themed_loading_8_Template(rf,ctx){1&rf&&_angular_core__WEBPACK_IMPORTED_MODULE_15__._UZ(0,"ds-themed-loading")}function DsDynamicLookupRelationModalComponent_ng_container_9_ng_template_8_Template(rf,ctx){if(1&rf){const _r8=_angular_core__WEBPACK_IMPORTED_MODULE_15__.EpF();_angular_core__WEBPACK_IMPORTED_MODULE_15__.TgZ(0,"ds-dynamic-lookup-relation-search-tab",18),_angular_core__WEBPACK_IMPORTED_MODULE_15__.NdJ("selectObject",__name(function($event){return _angular_core__WEBPACK_IMPORTED_MODULE_15__.CHM(_r8),_angular_core__WEBPACK_IMPORTED_MODULE_15__.oxw(2).select($event)},"DsDynamicLookupRelationModalComponent_ng_container_9_ng_template_8_Template_ds_dynamic_lookup_relation_search_tab_selectObject_0_listener"))("deselectObject",__name(function($event){return _angular_core__WEBPACK_IMPORTED_MODULE_15__.CHM(_r8),_angular_core__WEBPACK_IMPORTED_MODULE_15__.oxw(2).deselect($event)},"DsDynamicLookupRelationModalComponent_ng_container_9_ng_template_8_Template_ds_dynamic_lookup_relation_search_tab_deselectObject_0_listener"))("resultFound",__name(function($event){return _angular_core__WEBPACK_IMPORTED_MODULE_15__.CHM(_r8),_angular_core__WEBPACK_IMPORTED_MODULE_15__.oxw(2).setTotalInternals($event.pageInfo.totalElements)},"DsDynamicLookupRelationModalComponent_ng_container_9_ng_template_8_Template_ds_dynamic_lookup_relation_search_tab_resultFound_0_listener")),_angular_core__WEBPACK_IMPORTED_MODULE_15__.qZA()}if(2&rf){const ctx_r4=_angular_core__WEBPACK_IMPORTED_MODULE_15__.oxw(2);_angular_core__WEBPACK_IMPORTED_MODULE_15__.Q6J("selection$",ctx_r4.selection$)("listId",ctx_r4.listId)("relationship",ctx_r4.relationshipOptions)("repeatable",ctx_r4.repeatable)("context",ctx_r4.context)("query",ctx_r4.query)("relationshipType",ctx_r4.relationshipType)("isLeft",ctx_r4.isLeft)("item",ctx_r4.item)("isEditRelationship",ctx_r4.isEditRelationship)("toRemove",ctx_r4.toRemove)}}function DsDynamicLookupRelationModalComponent_ng_container_9_li_9_ng_template_5_Template(rf,ctx){if(1&rf){const _r15=_angular_core__WEBPACK_IMPORTED_MODULE_15__.EpF();_angular_core__WEBPACK_IMPORTED_MODULE_15__.TgZ(0,"ds-dynamic-lookup-relation-external-source-tab",19),_angular_core__WEBPACK_IMPORTED_MODULE_15__.NdJ("importedObject",__name(function($event){return _angular_core__WEBPACK_IMPORTED_MODULE_15__.CHM(_r15),_angular_core__WEBPACK_IMPORTED_MODULE_15__.oxw(3).imported($event)},"DsDynamicLookupRelationModalComponent_ng_container_9_li_9_ng_template_5_Template_ds_dynamic_lookup_relation_external_source_tab_importedObject_0_listener")),_angular_core__WEBPACK_IMPORTED_MODULE_15__.qZA()}if(2&rf){const source_r11=_angular_core__WEBPACK_IMPORTED_MODULE_15__.oxw().$implicit,ctx_r13=_angular_core__WEBPACK_IMPORTED_MODULE_15__.oxw(2);_angular_core__WEBPACK_IMPORTED_MODULE_15__.Q6J("label",ctx_r13.label)("listId",ctx_r13.listId)("repeatable",ctx_r13.repeatable)("item",ctx_r13.item)("collection",ctx_r13.collection)("relationship",ctx_r13.relationshipOptions)("context",ctx_r13.context)("externalSource",source_r11)}}__name(DsDynamicLookupRelationModalComponent_ds_themed_loading_8_Template,"DsDynamicLookupRelationModalComponent_ds_themed_loading_8_Template"),__name(DsDynamicLookupRelationModalComponent_ng_container_9_ng_template_8_Template,"DsDynamicLookupRelationModalComponent_ng_container_9_ng_template_8_Template"),__name(DsDynamicLookupRelationModalComponent_ng_container_9_li_9_ng_template_5_Template,"DsDynamicLookupRelationModalComponent_ng_container_9_li_9_ng_template_5_Template");const _c0=__name(function(a0){return{count:a0}},"_c0");function DsDynamicLookupRelationModalComponent_ng_container_9_li_9_Template(rf,ctx){if(1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_15__.TgZ(0,"li",12)(1,"a",13),_angular_core__WEBPACK_IMPORTED_MODULE_15__._uU(2),_angular_core__WEBPACK_IMPORTED_MODULE_15__.ALo(3,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_15__.ALo(4,"async"),_angular_core__WEBPACK_IMPORTED_MODULE_15__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_15__.YNc(5,DsDynamicLookupRelationModalComponent_ng_container_9_li_9_ng_template_5_Template,1,8,"ng-template",14),_angular_core__WEBPACK_IMPORTED_MODULE_15__.qZA()),2&rf){const source_r11=ctx.$implicit,idx_r12=ctx.index,ctx_r5=_angular_core__WEBPACK_IMPORTED_MODULE_15__.oxw(2);_angular_core__WEBPACK_IMPORTED_MODULE_15__.xp6(2),_angular_core__WEBPACK_IMPORTED_MODULE_15__.Oqu(_angular_core__WEBPACK_IMPORTED_MODULE_15__.xi3(3,1,"submission.sections.describe.relationship-lookup.search-tab.tab-title."+source_r11.id,_angular_core__WEBPACK_IMPORTED_MODULE_15__.VKq(6,_c0,_angular_core__WEBPACK_IMPORTED_MODULE_15__.lcZ(4,4,ctx_r5.totalExternal$)[idx_r12])))}}function DsDynamicLookupRelationModalComponent_ng_container_9_li_11_ng_template_5_Template(rf,ctx){if(1&rf){const _r19=_angular_core__WEBPACK_IMPORTED_MODULE_15__.EpF();_angular_core__WEBPACK_IMPORTED_MODULE_15__.TgZ(0,"ds-dynamic-lookup-relation-selection-tab",20),_angular_core__WEBPACK_IMPORTED_MODULE_15__.NdJ("selectObject",__name(function($event){return _angular_core__WEBPACK_IMPORTED_MODULE_15__.CHM(_r19),_angular_core__WEBPACK_IMPORTED_MODULE_15__.oxw(3).select($event)},"DsDynamicLookupRelationModalComponent_ng_container_9_li_11_ng_template_5_Template_ds_dynamic_lookup_relation_selection_tab_selectObject_0_listener"))("deselectObject",__name(function($event){return _angular_core__WEBPACK_IMPORTED_MODULE_15__.CHM(_r19),_angular_core__WEBPACK_IMPORTED_MODULE_15__.oxw(3).deselect($event)},"DsDynamicLookupRelationModalComponent_ng_container_9_li_11_ng_template_5_Template_ds_dynamic_lookup_relation_selection_tab_deselectObject_0_listener")),_angular_core__WEBPACK_IMPORTED_MODULE_15__.qZA()}if(2&rf){const ctx_r17=_angular_core__WEBPACK_IMPORTED_MODULE_15__.oxw(3);_angular_core__WEBPACK_IMPORTED_MODULE_15__.Q6J("selection$",ctx_r17.selection$)("listId",ctx_r17.listId)("relationshipType",ctx_r17.relationshipOptions.relationshipType)("repeatable",ctx_r17.repeatable)("context",ctx_r17.context)}}function DsDynamicLookupRelationModalComponent_ng_container_9_li_11_Template(rf,ctx){if(1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_15__.TgZ(0,"li",12)(1,"a",13),_angular_core__WEBPACK_IMPORTED_MODULE_15__._uU(2),_angular_core__WEBPACK_IMPORTED_MODULE_15__.ALo(3,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_15__.ALo(4,"async"),_angular_core__WEBPACK_IMPORTED_MODULE_15__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_15__.YNc(5,DsDynamicLookupRelationModalComponent_ng_container_9_li_11_ng_template_5_Template,1,5,"ng-template",14),_angular_core__WEBPACK_IMPORTED_MODULE_15__.qZA()),2&rf){const ctx_r6=_angular_core__WEBPACK_IMPORTED_MODULE_15__.oxw(2);let tmp_0_0;_angular_core__WEBPACK_IMPORTED_MODULE_15__.xp6(2),_angular_core__WEBPACK_IMPORTED_MODULE_15__.Oqu(_angular_core__WEBPACK_IMPORTED_MODULE_15__.xi3(3,1,"submission.sections.describe.relationship-lookup.selection-tab.tab-title",_angular_core__WEBPACK_IMPORTED_MODULE_15__.VKq(6,_c0,null==(tmp_0_0=_angular_core__WEBPACK_IMPORTED_MODULE_15__.lcZ(4,4,ctx_r6.selection$))?null:tmp_0_0.length)))}}function DsDynamicLookupRelationModalComponent_ng_container_9_Template(rf,ctx){if(1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_15__.ynx(0),_angular_core__WEBPACK_IMPORTED_MODULE_15__.TgZ(1,"ul",10,11)(3,"li",12)(4,"a",13),_angular_core__WEBPACK_IMPORTED_MODULE_15__._uU(5),_angular_core__WEBPACK_IMPORTED_MODULE_15__.ALo(6,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_15__.ALo(7,"async"),_angular_core__WEBPACK_IMPORTED_MODULE_15__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_15__.YNc(8,DsDynamicLookupRelationModalComponent_ng_container_9_ng_template_8_Template,1,11,"ng-template",14),_angular_core__WEBPACK_IMPORTED_MODULE_15__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_15__.YNc(9,DsDynamicLookupRelationModalComponent_ng_container_9_li_9_Template,6,8,"li",15),_angular_core__WEBPACK_IMPORTED_MODULE_15__.ALo(10,"async"),_angular_core__WEBPACK_IMPORTED_MODULE_15__.YNc(11,DsDynamicLookupRelationModalComponent_ng_container_9_li_11_Template,6,8,"li",16),_angular_core__WEBPACK_IMPORTED_MODULE_15__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_15__._UZ(12,"div",17),_angular_core__WEBPACK_IMPORTED_MODULE_15__.BQk()),2&rf){const _r3=_angular_core__WEBPACK_IMPORTED_MODULE_15__.MAs(2),ctx_r1=_angular_core__WEBPACK_IMPORTED_MODULE_15__.oxw();_angular_core__WEBPACK_IMPORTED_MODULE_15__.xp6(5),_angular_core__WEBPACK_IMPORTED_MODULE_15__.Oqu(_angular_core__WEBPACK_IMPORTED_MODULE_15__.xi3(6,4,"submission.sections.describe.relationship-lookup.search-tab.tab-title."+ctx_r1.relationshipOptions.relationshipType,_angular_core__WEBPACK_IMPORTED_MODULE_15__.VKq(11,_c0,_angular_core__WEBPACK_IMPORTED_MODULE_15__.lcZ(7,7,ctx_r1.totalInternal$)))),_angular_core__WEBPACK_IMPORTED_MODULE_15__.xp6(4),_angular_core__WEBPACK_IMPORTED_MODULE_15__.Q6J("ngForOf",_angular_core__WEBPACK_IMPORTED_MODULE_15__.lcZ(10,9,ctx_r1.externalSourcesRD$)),_angular_core__WEBPACK_IMPORTED_MODULE_15__.xp6(2),_angular_core__WEBPACK_IMPORTED_MODULE_15__.Q6J("ngIf",!ctx_r1.isEditRelationship),_angular_core__WEBPACK_IMPORTED_MODULE_15__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_15__.Q6J("ngbNavOutlet",_r3)}}function DsDynamicLookupRelationModalComponent_ng_container_20_span_7_Template(rf,ctx){1&rf&&_angular_core__WEBPACK_IMPORTED_MODULE_15__._UZ(0,"span",27)}function DsDynamicLookupRelationModalComponent_ng_container_20_Template(rf,ctx){if(1&rf){const _r23=_angular_core__WEBPACK_IMPORTED_MODULE_15__.EpF();_angular_core__WEBPACK_IMPORTED_MODULE_15__.ynx(0),_angular_core__WEBPACK_IMPORTED_MODULE_15__.TgZ(1,"button",21),_angular_core__WEBPACK_IMPORTED_MODULE_15__.NdJ("click",__name(function(){return _angular_core__WEBPACK_IMPORTED_MODULE_15__.CHM(_r23),_angular_core__WEBPACK_IMPORTED_MODULE_15__.oxw().discardEv()},"DsDynamicLookupRelationModalComponent_ng_container_20_Template_button_click_1_listener")),_angular_core__WEBPACK_IMPORTED_MODULE_15__._UZ(2,"i",22),_angular_core__WEBPACK_IMPORTED_MODULE_15__.TgZ(3,"span",23),_angular_core__WEBPACK_IMPORTED_MODULE_15__._uU(4),_angular_core__WEBPACK_IMPORTED_MODULE_15__.ALo(5,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_15__.qZA()(),_angular_core__WEBPACK_IMPORTED_MODULE_15__.TgZ(6,"button",24),_angular_core__WEBPACK_IMPORTED_MODULE_15__.NdJ("click",__name(function(){return _angular_core__WEBPACK_IMPORTED_MODULE_15__.CHM(_r23),_angular_core__WEBPACK_IMPORTED_MODULE_15__.oxw().submitEv()},"DsDynamicLookupRelationModalComponent_ng_container_20_Template_button_click_6_listener")),_angular_core__WEBPACK_IMPORTED_MODULE_15__.YNc(7,DsDynamicLookupRelationModalComponent_ng_container_20_span_7_Template,1,0,"span",25),_angular_core__WEBPACK_IMPORTED_MODULE_15__._UZ(8,"i",26),_angular_core__WEBPACK_IMPORTED_MODULE_15__.TgZ(9,"span",23),_angular_core__WEBPACK_IMPORTED_MODULE_15__._uU(10),_angular_core__WEBPACK_IMPORTED_MODULE_15__.ALo(11,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_15__.qZA()(),_angular_core__WEBPACK_IMPORTED_MODULE_15__.BQk()}if(2&rf){const ctx_r2=_angular_core__WEBPACK_IMPORTED_MODULE_15__.oxw();_angular_core__WEBPACK_IMPORTED_MODULE_15__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_15__.Q6J("disabled",0==ctx_r2.toAdd.length&&0==ctx_r2.toRemove.length||ctx_r2.isPending),_angular_core__WEBPACK_IMPORTED_MODULE_15__.xp6(3),_angular_core__WEBPACK_IMPORTED_MODULE_15__.hij("\xa0",_angular_core__WEBPACK_IMPORTED_MODULE_15__.lcZ(5,5,"item.edit.metadata.discard-button"),""),_angular_core__WEBPACK_IMPORTED_MODULE_15__.xp6(2),_angular_core__WEBPACK_IMPORTED_MODULE_15__.Q6J("disabled",0==ctx_r2.toAdd.length&&0==ctx_r2.toRemove.length||ctx_r2.isPending),_angular_core__WEBPACK_IMPORTED_MODULE_15__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_15__.Q6J("ngIf",ctx_r2.isPending),_angular_core__WEBPACK_IMPORTED_MODULE_15__.xp6(3),_angular_core__WEBPACK_IMPORTED_MODULE_15__.hij("\xa0",_angular_core__WEBPACK_IMPORTED_MODULE_15__.lcZ(11,7,"item.edit.metadata.save-button"),"")}}__name(DsDynamicLookupRelationModalComponent_ng_container_9_li_9_Template,"DsDynamicLookupRelationModalComponent_ng_container_9_li_9_Template"),__name(DsDynamicLookupRelationModalComponent_ng_container_9_li_11_ng_template_5_Template,"DsDynamicLookupRelationModalComponent_ng_container_9_li_11_ng_template_5_Template"),__name(DsDynamicLookupRelationModalComponent_ng_container_9_li_11_Template,"DsDynamicLookupRelationModalComponent_ng_container_9_li_11_Template"),__name(DsDynamicLookupRelationModalComponent_ng_container_9_Template,"DsDynamicLookupRelationModalComponent_ng_container_9_Template"),__name(DsDynamicLookupRelationModalComponent_ng_container_20_span_7_Template,"DsDynamicLookupRelationModalComponent_ng_container_20_span_7_Template"),__name(DsDynamicLookupRelationModalComponent_ng_container_20_Template,"DsDynamicLookupRelationModalComponent_ng_container_20_Template");const _c1=__name(function(a0){return{size:a0}},"_c1");class DsDynamicLookupRelationModalComponent{constructor(modal,selectableListService,relationshipService,relationshipTypeService,externalSourceService,lookupRelationService,searchConfigService,rdbService,zone,store,router){this.modal=modal,this.selectableListService=selectableListService,this.relationshipService=relationshipService,this.relationshipTypeService=relationshipTypeService,this.externalSourceService=externalSourceService,this.lookupRelationService=lookupRelationService,this.searchConfigService=searchConfigService,this.rdbService=rdbService,this.zone=zone,this.store=store,this.router=router,this.selectEvent=new _angular_core__WEBPACK_IMPORTED_MODULE_15__.vpe,this.subMap={},this.totalInternal$=new rxjs__WEBPACK_IMPORTED_MODULE_16__.BehaviorSubject(0),this.isLeft=!1,this.isEditRelationship=!1,this.toAdd=[],this.toRemove=[],this.isPending=!1}ngOnInit(){this.currentItemIsLeftItem$&&this.currentItemIsLeftItem$.subscribe(isLeft=>{this.isLeft=isLeft}),this.selection$=this.selectableListService.getSelectableList(this.listId).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_17__.UI)(listState=>(0,_empty_util__WEBPACK_IMPORTED_MODULE_18__.Uh)(listState)&&(0,_empty_util__WEBPACK_IMPORTED_MODULE_18__.Uh)(listState.selection)?listState.selection:[])),this.selection$.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_17__.qn)(1)).subscribe(selection=>selection.map(s=>this.addNameVariantSubscription(s))),"true"===this.relationshipOptions.nameVariants?this.context=_core_shared_context_model__WEBPACK_IMPORTED_MODULE_6__._.EntitySearchModalWithNameVariants:this.context=_core_shared_context_model__WEBPACK_IMPORTED_MODULE_6__._.EntitySearchModal,(0,_empty_util__WEBPACK_IMPORTED_MODULE_18__.UE)(this.relationshipOptions.externalSources)&&(this.externalSourcesRD$=this.rdbService.aggregate(this.relationshipOptions.externalSources.map(source=>this.externalSourceService.findById(source,!0,!0,(0,_utils_follow_link_config_model__WEBPACK_IMPORTED_MODULE_19__.l)("entityTypes")))).pipe((0,_core_shared_operators__WEBPACK_IMPORTED_MODULE_10__.mc)())),this.setTotals()}close(){this.toAdd=[],this.toRemove=[],this.modal.close()}select(...selectableObjects){this.zone.runOutsideAngular(()=>{(0,rxjs__WEBPACK_IMPORTED_MODULE_16__.combineLatest)([...selectableObjects.map(sri=>(this.addNameVariantSubscription(sri),this.relationshipService.getNameVariant(this.listId,sri.indexableObject.uuid).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_17__.qn)(1),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_17__.UI)(nameVariant=>({item:sri.indexableObject,nameVariant})))))]).subscribe(arr=>arr.forEach(object=>{const addRelationshipAction=new _relationship_actions__WEBPACK_IMPORTED_MODULE_3__.Jg(this.item,object.item,this.relationshipOptions.relationshipType,this.submissionId,object.nameVariant);this.store.dispatch(addRelationshipAction)}))})}addNameVariantSubscription(sri){const nameVariant$=this.relationshipService.getNameVariant(this.listId,sri.indexableObject.uuid);this.subMap[sri.indexableObject.uuid]=nameVariant$.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_17__.T0)(1)).subscribe(nameVariant=>this.store.dispatch(new _relationship_actions__WEBPACK_IMPORTED_MODULE_3__._k(this.item,sri.indexableObject,this.relationshipOptions.relationshipType,this.submissionId,nameVariant)))}deselect(...selectableObjects){this.zone.runOutsideAngular(()=>selectableObjects.forEach(object=>{this.subMap[object.indexableObject.uuid].unsubscribe(),this.store.dispatch(new _relationship_actions__WEBPACK_IMPORTED_MODULE_3__.J9(this.item,object.indexableObject,this.relationshipOptions.relationshipType,this.submissionId))}))}imported(object){this.setTotals(),this.select(object)}setTotals(){const externalSourcesAndOptions$=(0,rxjs__WEBPACK_IMPORTED_MODULE_16__.combineLatest)([this.externalSourcesRD$,this.searchConfigService.paginatedSearchOptions]);this.totalExternal$=externalSourcesAndOptions$.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_17__.wt)(([sources,options])=>(0,rxjs__WEBPACK_IMPORTED_MODULE_16__.combineLatest)([...sources.map(source=>this.lookupRelationService.getTotalExternalResults(source,options))])))}setTotalInternals(totalPages){this.totalInternal$.next(totalPages)}ngOnDestroy(){this.router.navigate([],{}),Object.values(this.subMap).forEach(subscription=>subscription.unsubscribe())}discardEv(){}submitEv(){}}__name(DsDynamicLookupRelationModalComponent,"DsDynamicLookupRelationModalComponent"),DsDynamicLookupRelationModalComponent.\u0275fac=__name(function(t){return new(t||DsDynamicLookupRelationModalComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_15__.Y36(_ng_bootstrap_ng_bootstrap__WEBPACK_IMPORTED_MODULE_20__.Kz),_angular_core__WEBPACK_IMPORTED_MODULE_15__.Y36(_object_list_selectable_list_selectable_list_service__WEBPACK_IMPORTED_MODULE_2__.w),_angular_core__WEBPACK_IMPORTED_MODULE_15__.Y36(_core_data_relationship_data_service__WEBPACK_IMPORTED_MODULE_4__.U),_angular_core__WEBPACK_IMPORTED_MODULE_15__.Y36(_core_data_relationship_type_data_service__WEBPACK_IMPORTED_MODULE_5__.X),_angular_core__WEBPACK_IMPORTED_MODULE_15__.Y36(_core_data_external_source_data_service__WEBPACK_IMPORTED_MODULE_8__.G),_angular_core__WEBPACK_IMPORTED_MODULE_15__.Y36(_core_data_lookup_relation_service__WEBPACK_IMPORTED_MODULE_7__.P),_angular_core__WEBPACK_IMPORTED_MODULE_15__.Y36(_core_shared_search_search_configuration_service__WEBPACK_IMPORTED_MODULE_1__.U),_angular_core__WEBPACK_IMPORTED_MODULE_15__.Y36(_core_cache_builders_remote_data_build_service__WEBPACK_IMPORTED_MODULE_9__.Q),_angular_core__WEBPACK_IMPORTED_MODULE_15__.Y36(_angular_core__WEBPACK_IMPORTED_MODULE_15__.R0b),_angular_core__WEBPACK_IMPORTED_MODULE_15__.Y36(_ngrx_store__WEBPACK_IMPORTED_MODULE_21__.yh),_angular_core__WEBPACK_IMPORTED_MODULE_15__.Y36(_angular_router__WEBPACK_IMPORTED_MODULE_22__.F0))},"DsDynamicLookupRelationModalComponent_Factory"),DsDynamicLookupRelationModalComponent.\u0275cmp=_angular_core__WEBPACK_IMPORTED_MODULE_15__.Xpm({type:DsDynamicLookupRelationModalComponent,selectors:[["ds-dynamic-lookup-relation-modal"]],outputs:{selectEvent:"selectEvent"},features:[_angular_core__WEBPACK_IMPORTED_MODULE_15__._Bn([{provide:_my_dspace_page_my_dspace_page_component__WEBPACK_IMPORTED_MODULE_0__.SEARCH_CONFIG_SERVICE,useClass:_core_shared_search_search_configuration_service__WEBPACK_IMPORTED_MODULE_1__.U}])],decls:21,vars:19,consts:[[1,"modal-header"],["id","modal-title",1,"modal-title"],["type","button","aria-label","Close button","aria-describedby","modal-title",1,"close",3,"disabled","click"],["aria-hidden","true"],[1,"modal-body"],[4,"ngIf"],[1,"modal-footer"],[1,"d-flex","float-right","space-children-mr"],[1,"close-button"],["type","button",1,"btn","btn-outline-secondary",3,"disabled","click"],["ngbNav","",1,"nav-tabs"],["nav","ngbNav"],["ngbNavItem",""],["ngbNavLink",""],["ngbNavContent",""],["ngbNavItem","",4,"ngFor","ngForOf"],["ngbNavItem","",4,"ngIf"],[3,"ngbNavOutlet"],[1,"d-block","pt-3",3,"selection$","listId","relationship","repeatable","context","query","relationshipType","isLeft","item","isEditRelationship","toRemove","selectObject","deselectObject","resultFound"],[1,"d-block","pt-3",3,"label","listId","repeatable","item","collection","relationship","context","externalSource","importedObject"],[1,"d-block","pt-3",3,"selection$","listId","relationshipType","repeatable","context","selectObject","deselectObject"],[1,"btn","btn-danger","discard",3,"disabled","click"],[1,"fas","fa-times"],[1,"d-none","d-sm-inline"],[1,"btn","btn-primary","submit",3,"disabled","click"],["class","spinner-border spinner-border-sm","role","status","aria-hidden","true",4,"ngIf"],[1,"fas","fa-save"],["role","status","aria-hidden","true",1,"spinner-border","spinner-border-sm"]],template:__name(function(rf,ctx){if(1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_15__.TgZ(0,"div",0)(1,"h4",1),_angular_core__WEBPACK_IMPORTED_MODULE_15__._uU(2),_angular_core__WEBPACK_IMPORTED_MODULE_15__.ALo(3,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_15__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_15__.TgZ(4,"button",2),_angular_core__WEBPACK_IMPORTED_MODULE_15__.NdJ("click",__name(function(){return ctx.close()},"DsDynamicLookupRelationModalComponent_Template_button_click_4_listener")),_angular_core__WEBPACK_IMPORTED_MODULE_15__.TgZ(5,"span",3),_angular_core__WEBPACK_IMPORTED_MODULE_15__._uU(6,"\xd7"),_angular_core__WEBPACK_IMPORTED_MODULE_15__.qZA()()(),_angular_core__WEBPACK_IMPORTED_MODULE_15__.TgZ(7,"div",4),_angular_core__WEBPACK_IMPORTED_MODULE_15__.YNc(8,DsDynamicLookupRelationModalComponent_ds_themed_loading_8_Template,1,0,"ds-themed-loading",5),_angular_core__WEBPACK_IMPORTED_MODULE_15__.YNc(9,DsDynamicLookupRelationModalComponent_ng_container_9_Template,13,13,"ng-container",5),_angular_core__WEBPACK_IMPORTED_MODULE_15__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_15__.TgZ(10,"div",6)(11,"small"),_angular_core__WEBPACK_IMPORTED_MODULE_15__._uU(12),_angular_core__WEBPACK_IMPORTED_MODULE_15__.ALo(13,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_15__.ALo(14,"async"),_angular_core__WEBPACK_IMPORTED_MODULE_15__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_15__.TgZ(15,"div",7)(16,"div",8)(17,"button",9),_angular_core__WEBPACK_IMPORTED_MODULE_15__.NdJ("click",__name(function(){return ctx.close()},"DsDynamicLookupRelationModalComponent_Template_button_click_17_listener")),_angular_core__WEBPACK_IMPORTED_MODULE_15__._uU(18),_angular_core__WEBPACK_IMPORTED_MODULE_15__.ALo(19,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_15__.qZA()(),_angular_core__WEBPACK_IMPORTED_MODULE_15__.YNc(20,DsDynamicLookupRelationModalComponent_ng_container_20_Template,12,9,"ng-container",5),_angular_core__WEBPACK_IMPORTED_MODULE_15__.qZA()()),2&rf){let tmp_4_0;_angular_core__WEBPACK_IMPORTED_MODULE_15__.xp6(2),_angular_core__WEBPACK_IMPORTED_MODULE_15__.Oqu(_angular_core__WEBPACK_IMPORTED_MODULE_15__.lcZ(3,8,"submission.sections.describe.relationship-lookup.title."+ctx.relationshipOptions.relationshipType)),_angular_core__WEBPACK_IMPORTED_MODULE_15__.xp6(2),_angular_core__WEBPACK_IMPORTED_MODULE_15__.Q6J("disabled",ctx.isPending),_angular_core__WEBPACK_IMPORTED_MODULE_15__.xp6(4),_angular_core__WEBPACK_IMPORTED_MODULE_15__.Q6J("ngIf",!ctx.item||!ctx.collection),_angular_core__WEBPACK_IMPORTED_MODULE_15__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_15__.Q6J("ngIf",ctx.item&&ctx.collection),_angular_core__WEBPACK_IMPORTED_MODULE_15__.xp6(3),_angular_core__WEBPACK_IMPORTED_MODULE_15__.Oqu(_angular_core__WEBPACK_IMPORTED_MODULE_15__.xi3(13,10,"submission.sections.describe.relationship-lookup.selected",_angular_core__WEBPACK_IMPORTED_MODULE_15__.VKq(17,_c1,(null==(tmp_4_0=_angular_core__WEBPACK_IMPORTED_MODULE_15__.lcZ(14,13,ctx.selection$))?null:tmp_4_0.length)||0))),_angular_core__WEBPACK_IMPORTED_MODULE_15__.xp6(5),_angular_core__WEBPACK_IMPORTED_MODULE_15__.Q6J("disabled",ctx.isPending),_angular_core__WEBPACK_IMPORTED_MODULE_15__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_15__.hij(" ",_angular_core__WEBPACK_IMPORTED_MODULE_15__.lcZ(19,15,"submission.sections.describe.relationship-lookup.close"),""),_angular_core__WEBPACK_IMPORTED_MODULE_15__.xp6(2),_angular_core__WEBPACK_IMPORTED_MODULE_15__.Q6J("ngIf",ctx.isEditRelationship)}},"DsDynamicLookupRelationModalComponent_Template"),directives:[_angular_common__WEBPACK_IMPORTED_MODULE_23__.O5,_loading_themed_loading_component__WEBPACK_IMPORTED_MODULE_11__.Z,_ng_bootstrap_ng_bootstrap__WEBPACK_IMPORTED_MODULE_20__.Pz,_ng_bootstrap_ng_bootstrap__WEBPACK_IMPORTED_MODULE_20__.nv,_ng_bootstrap_ng_bootstrap__WEBPACK_IMPORTED_MODULE_20__.Vx,_ng_bootstrap_ng_bootstrap__WEBPACK_IMPORTED_MODULE_20__.uN,_search_tab_dynamic_lookup_relation_search_tab_component__WEBPACK_IMPORTED_MODULE_12__.s,_angular_common__WEBPACK_IMPORTED_MODULE_23__.sg,_external_source_tab_dynamic_lookup_relation_external_source_tab_component__WEBPACK_IMPORTED_MODULE_13__.g,_selection_tab_dynamic_lookup_relation_selection_tab_component__WEBPACK_IMPORTED_MODULE_14__.O,_ng_bootstrap_ng_bootstrap__WEBPACK_IMPORTED_MODULE_20__.tO],pipes:[_ngx_translate_core__WEBPACK_IMPORTED_MODULE_24__.X$,_angular_common__WEBPACK_IMPORTED_MODULE_23__.Ov],styles:[".modal-footer[_ngcontent-%COMP%]{justify-content:space-between}[_nghost-%COMP%]     .modal-content{width:90%;margin:5%}[_nghost-%COMP%]   .spinner-border[_ngcontent-%COMP%]{vertical-align:middle}"]})},32272:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{g:()=>DsDynamicLookupRelationExternalSourceTabComponent});var _angular_core__WEBPACK_IMPORTED_MODULE_19__=__webpack_require__(5e3),_my_dspace_page_my_dspace_page_component__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(14292),_core_shared_search_search_configuration_service__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(36872),_core_data_external_source_data_service__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(31388),rxjs_operators__WEBPACK_IMPORTED_MODULE_20__=(__webpack_require__(46623),__webpack_require__(83292)),_animations_fade__WEBPACK_IMPORTED_MODULE_5__=(__webpack_require__(84935),__webpack_require__(28652)),_pagination_pagination_component_options_model__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(26638),_external_source_entry_import_modal_external_source_entry_import_modal_component__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(29635),_empty_util__WEBPACK_IMPORTED_MODULE_21__=__webpack_require__(24702),_object_list_selectable_list_selectable_list_service__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(51117),_core_pagination_pagination_service__WEBPACK_IMPORTED_MODULE_11__=(__webpack_require__(33609),__webpack_require__(22979),__webpack_require__(77467)),_core_shared_operators__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(13730),_angular_router__WEBPACK_IMPORTED_MODULE_22__=__webpack_require__(74202),_ng_bootstrap_ng_bootstrap__WEBPACK_IMPORTED_MODULE_23__=__webpack_require__(13707),_page_size_selector_page_size_selector_component__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__(82656),_search_form_search_form_component__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__(13511),_utils_var_directive__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__(98605),_angular_common__WEBPACK_IMPORTED_MODULE_24__=__webpack_require__(69808),_object_collection_object_collection_component__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__(70714),_loading_themed_loading_component__WEBPACK_IMPORTED_MODULE_17__=__webpack_require__(48106),_error_error_component__WEBPACK_IMPORTED_MODULE_18__=__webpack_require__(41971),_ngx_translate_core__WEBPACK_IMPORTED_MODULE_25__=__webpack_require__(42466);const _c0=__name(function(a0,a1){return{repeatable:a0,listId:a1}},"_c0");function DsDynamicLookupRelationExternalSourceTabComponent_ng_container_14_ds_viewable_collection_1_Template(rf,ctx){if(1&rf){const _r7=_angular_core__WEBPACK_IMPORTED_MODULE_19__.EpF();_angular_core__WEBPACK_IMPORTED_MODULE_19__.TgZ(0,"ds-viewable-collection",8),_angular_core__WEBPACK_IMPORTED_MODULE_19__.NdJ("importObject",__name(function($event){return _angular_core__WEBPACK_IMPORTED_MODULE_19__.CHM(_r7),_angular_core__WEBPACK_IMPORTED_MODULE_19__.oxw(2).import($event)},"DsDynamicLookupRelationExternalSourceTabComponent_ng_container_14_ds_viewable_collection_1_Template_ds_viewable_collection_importObject_0_listener")),_angular_core__WEBPACK_IMPORTED_MODULE_19__.ALo(1,"async"),_angular_core__WEBPACK_IMPORTED_MODULE_19__.qZA()}if(2&rf){const entriesRD_r1=_angular_core__WEBPACK_IMPORTED_MODULE_19__.oxw().ngVar,ctx_r2=_angular_core__WEBPACK_IMPORTED_MODULE_19__.oxw();_angular_core__WEBPACK_IMPORTED_MODULE_19__.Q6J("@fadeIn",void 0)("objects",entriesRD_r1)("selectionConfig",_angular_core__WEBPACK_IMPORTED_MODULE_19__.WLB(10,_c0,ctx_r2.repeatable,ctx_r2.listId))("config",_angular_core__WEBPACK_IMPORTED_MODULE_19__.lcZ(1,8,ctx_r2.currentPagination$))("hideGear",!0)("context",ctx_r2.context)("importable",!0)("importConfig",ctx_r2.importConfig)}}function DsDynamicLookupRelationExternalSourceTabComponent_ng_container_14_ds_themed_loading_2_Template(rf,ctx){1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_19__._UZ(0,"ds-themed-loading",9),_angular_core__WEBPACK_IMPORTED_MODULE_19__.ALo(1,"translate")),2&rf&&_angular_core__WEBPACK_IMPORTED_MODULE_19__.s9C("message",_angular_core__WEBPACK_IMPORTED_MODULE_19__.lcZ(1,1,"loading.search-results"))}function DsDynamicLookupRelationExternalSourceTabComponent_ng_container_14_ds_error_3_Template(rf,ctx){1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_19__._UZ(0,"ds-error",9),_angular_core__WEBPACK_IMPORTED_MODULE_19__.ALo(1,"translate")),2&rf&&_angular_core__WEBPACK_IMPORTED_MODULE_19__.s9C("message",_angular_core__WEBPACK_IMPORTED_MODULE_19__.lcZ(1,1,"error.search-results"))}function DsDynamicLookupRelationExternalSourceTabComponent_ng_container_14_div_4_Template(rf,ctx){1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_19__.TgZ(0,"div",10),_angular_core__WEBPACK_IMPORTED_MODULE_19__._uU(1),_angular_core__WEBPACK_IMPORTED_MODULE_19__.ALo(2,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_19__.qZA()),2&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_19__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_19__.hij(" ",_angular_core__WEBPACK_IMPORTED_MODULE_19__.lcZ(2,1,"search.results.empty")," "))}function DsDynamicLookupRelationExternalSourceTabComponent_ng_container_14_Template(rf,ctx){if(1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_19__.ynx(0),_angular_core__WEBPACK_IMPORTED_MODULE_19__.YNc(1,DsDynamicLookupRelationExternalSourceTabComponent_ng_container_14_ds_viewable_collection_1_Template,2,13,"ds-viewable-collection",5),_angular_core__WEBPACK_IMPORTED_MODULE_19__.YNc(2,DsDynamicLookupRelationExternalSourceTabComponent_ng_container_14_ds_themed_loading_2_Template,2,3,"ds-themed-loading",6),_angular_core__WEBPACK_IMPORTED_MODULE_19__.YNc(3,DsDynamicLookupRelationExternalSourceTabComponent_ng_container_14_ds_error_3_Template,2,3,"ds-error",6),_angular_core__WEBPACK_IMPORTED_MODULE_19__.YNc(4,DsDynamicLookupRelationExternalSourceTabComponent_ng_container_14_div_4_Template,3,3,"div",7),_angular_core__WEBPACK_IMPORTED_MODULE_19__.BQk()),2&rf){const entriesRD_r1=ctx.ngVar;_angular_core__WEBPACK_IMPORTED_MODULE_19__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_19__.Q6J("ngIf",(null==entriesRD_r1?null:entriesRD_r1.hasSucceeded)&&!(null!=entriesRD_r1&&entriesRD_r1.isLoading)&&(null==entriesRD_r1||null==entriesRD_r1.payload||null==entriesRD_r1.payload.page?null:entriesRD_r1.payload.page.length)>0),_angular_core__WEBPACK_IMPORTED_MODULE_19__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_19__.Q6J("ngIf",!entriesRD_r1||(null==entriesRD_r1?null:entriesRD_r1.isLoading)),_angular_core__WEBPACK_IMPORTED_MODULE_19__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_19__.Q6J("ngIf",(null==entriesRD_r1?null:entriesRD_r1.hasFailed)&&(!(null!=entriesRD_r1&&entriesRD_r1.errorMessage)||400!=(null==entriesRD_r1?null:entriesRD_r1.statusCode))),_angular_core__WEBPACK_IMPORTED_MODULE_19__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_19__.Q6J("ngIf",0==(null==entriesRD_r1||null==entriesRD_r1.payload||null==entriesRD_r1.payload.page?null:entriesRD_r1.payload.page.length)||400==(null==entriesRD_r1?null:entriesRD_r1.statusCode))}}__name(DsDynamicLookupRelationExternalSourceTabComponent_ng_container_14_ds_viewable_collection_1_Template,"DsDynamicLookupRelationExternalSourceTabComponent_ng_container_14_ds_viewable_collection_1_Template"),__name(DsDynamicLookupRelationExternalSourceTabComponent_ng_container_14_ds_themed_loading_2_Template,"DsDynamicLookupRelationExternalSourceTabComponent_ng_container_14_ds_themed_loading_2_Template"),__name(DsDynamicLookupRelationExternalSourceTabComponent_ng_container_14_ds_error_3_Template,"DsDynamicLookupRelationExternalSourceTabComponent_ng_container_14_ds_error_3_Template"),__name(DsDynamicLookupRelationExternalSourceTabComponent_ng_container_14_div_4_Template,"DsDynamicLookupRelationExternalSourceTabComponent_ng_container_14_div_4_Template"),__name(DsDynamicLookupRelationExternalSourceTabComponent_ng_container_14_Template,"DsDynamicLookupRelationExternalSourceTabComponent_ng_container_14_Template");class DsDynamicLookupRelationExternalSourceTabComponent{constructor(router,searchConfigService,externalSourceService,modalService,selectableListService,paginationService){this.router=router,this.searchConfigService=searchConfigService,this.externalSourceService=externalSourceService,this.modalService=modalService,this.selectableListService=selectableListService,this.paginationService=paginationService,this.importedObject=new _angular_core__WEBPACK_IMPORTED_MODULE_19__.vpe,this.initialPagination=Object.assign(new _pagination_pagination_component_options_model__WEBPACK_IMPORTED_MODULE_6__.r,{id:"spc",pageSize:5})}ngOnInit(){this.externalSource.entityTypes.pipe((0,_core_shared_operators__WEBPACK_IMPORTED_MODULE_12__.hC)(),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_20__.UI)(entityTypesRD=>entityTypesRD.hasSucceeded&&entityTypesRD.payload.totalElements>0?entityTypesRD.payload.page[0]:null)).subscribe(entityType=>{this.relatedEntityType=entityType}),this.resetRoute(),this.entriesRD$=this.searchConfigService.paginatedSearchOptions.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_20__.wt)(searchOptions=>this.externalSourceService.getExternalSourceEntries(this.externalSource.id,searchOptions).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_20__.O4)(void 0)))),this.currentPagination$=this.paginationService.getCurrentPagination(this.searchConfigService.paginationID,this.initialPagination),this.importConfig={buttonLabel:"submission.sections.describe.relationship-lookup.external-source.import-button-title."+this.label}}import(entry){this.modalRef=this.modalService.open(_external_source_entry_import_modal_external_source_entry_import_modal_component__WEBPACK_IMPORTED_MODULE_7__.D,{size:"lg",container:"ds-dynamic-lookup-relation-modal"});const modalComp=this.modalRef.componentInstance;modalComp.externalSourceEntry=entry,modalComp.item=this.item,modalComp.collection=this.collection,modalComp.relationship=this.relationship,modalComp.label=this.label,modalComp.relatedEntityType=this.relatedEntityType,this.importObjectSub=modalComp.importedObject.subscribe(object=>{this.selectableListService.selectSingle(this.listId,object),this.importedObject.emit(object)})}ngOnDestroy(){(0,_empty_util__WEBPACK_IMPORTED_MODULE_21__.Uh)(this.importObjectSub)&&this.importObjectSub.unsubscribe()}resetRoute(){this.paginationService.updateRoute(this.searchConfigService.paginationID,{page:1,pageSize:5})}}__name(DsDynamicLookupRelationExternalSourceTabComponent,"DsDynamicLookupRelationExternalSourceTabComponent"),DsDynamicLookupRelationExternalSourceTabComponent.\u0275fac=__name(function(t){return new(t||DsDynamicLookupRelationExternalSourceTabComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_19__.Y36(_angular_router__WEBPACK_IMPORTED_MODULE_22__.F0),_angular_core__WEBPACK_IMPORTED_MODULE_19__.Y36(_core_shared_search_search_configuration_service__WEBPACK_IMPORTED_MODULE_1__.U),_angular_core__WEBPACK_IMPORTED_MODULE_19__.Y36(_core_data_external_source_data_service__WEBPACK_IMPORTED_MODULE_2__.G),_angular_core__WEBPACK_IMPORTED_MODULE_19__.Y36(_ng_bootstrap_ng_bootstrap__WEBPACK_IMPORTED_MODULE_23__.FF),_angular_core__WEBPACK_IMPORTED_MODULE_19__.Y36(_object_list_selectable_list_selectable_list_service__WEBPACK_IMPORTED_MODULE_8__.w),_angular_core__WEBPACK_IMPORTED_MODULE_19__.Y36(_core_pagination_pagination_service__WEBPACK_IMPORTED_MODULE_11__.N))},"DsDynamicLookupRelationExternalSourceTabComponent_Factory"),DsDynamicLookupRelationExternalSourceTabComponent.\u0275cmp=_angular_core__WEBPACK_IMPORTED_MODULE_19__.Xpm({type:DsDynamicLookupRelationExternalSourceTabComponent,selectors:[["ds-dynamic-lookup-relation-external-source-tab"]],inputs:{label:"label",listId:"listId",item:"item",collection:"collection",relationship:"relationship",context:"context",repeatable:"repeatable",externalSource:"externalSource"},outputs:{importedObject:"importedObject"},features:[_angular_core__WEBPACK_IMPORTED_MODULE_19__._Bn([{provide:_my_dspace_page_my_dspace_page_component__WEBPACK_IMPORTED_MODULE_0__.SEARCH_CONFIG_SERVICE,useClass:_core_shared_search_search_configuration_service__WEBPACK_IMPORTED_MODULE_1__.U}])],decls:16,vars:16,consts:[[1,"row"],[1,"col-4"],[1,"col-8"],[3,"query","inPlaceSearch","searchPlaceholder"],[4,"ngVar"],[3,"objects","selectionConfig","config","hideGear","context","importable","importConfig","importObject",4,"ngIf"],[3,"message",4,"ngIf"],["id","empty-external-entry-list",4,"ngIf"],[3,"objects","selectionConfig","config","hideGear","context","importable","importConfig","importObject"],[3,"message"],["id","empty-external-entry-list"]],template:__name(function(rf,ctx){if(1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_19__.TgZ(0,"div",0)(1,"div",1)(2,"h3"),_angular_core__WEBPACK_IMPORTED_MODULE_19__._uU(3),_angular_core__WEBPACK_IMPORTED_MODULE_19__.ALo(4,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_19__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_19__._UZ(5,"ds-page-size-selector"),_angular_core__WEBPACK_IMPORTED_MODULE_19__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_19__.TgZ(6,"div",2),_angular_core__WEBPACK_IMPORTED_MODULE_19__._UZ(7,"ds-search-form",3),_angular_core__WEBPACK_IMPORTED_MODULE_19__.ALo(8,"async"),_angular_core__WEBPACK_IMPORTED_MODULE_19__.ALo(9,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_19__.TgZ(10,"div")(11,"h3"),_angular_core__WEBPACK_IMPORTED_MODULE_19__._uU(12),_angular_core__WEBPACK_IMPORTED_MODULE_19__.ALo(13,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_19__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_19__.YNc(14,DsDynamicLookupRelationExternalSourceTabComponent_ng_container_14_Template,5,4,"ng-container",4),_angular_core__WEBPACK_IMPORTED_MODULE_19__.ALo(15,"async"),_angular_core__WEBPACK_IMPORTED_MODULE_19__.qZA()()()),2&rf){let tmp_1_0;_angular_core__WEBPACK_IMPORTED_MODULE_19__.xp6(3),_angular_core__WEBPACK_IMPORTED_MODULE_19__.Oqu(_angular_core__WEBPACK_IMPORTED_MODULE_19__.lcZ(4,6,"submission.sections.describe.relationship-lookup.selection-tab.settings")),_angular_core__WEBPACK_IMPORTED_MODULE_19__.xp6(4),_angular_core__WEBPACK_IMPORTED_MODULE_19__.Q6J("query",null==(tmp_1_0=_angular_core__WEBPACK_IMPORTED_MODULE_19__.lcZ(8,8,ctx.searchConfigService.paginatedSearchOptions))?null:tmp_1_0.query)("inPlaceSearch",!0)("searchPlaceholder",_angular_core__WEBPACK_IMPORTED_MODULE_19__.lcZ(9,10,"submission.sections.describe.relationship-lookup.selection-tab.search-form.placeholder")),_angular_core__WEBPACK_IMPORTED_MODULE_19__.xp6(5),_angular_core__WEBPACK_IMPORTED_MODULE_19__.Oqu(_angular_core__WEBPACK_IMPORTED_MODULE_19__.lcZ(13,12,"submission.sections.describe.relationship-lookup.selection-tab.title."+ctx.externalSource.id)),_angular_core__WEBPACK_IMPORTED_MODULE_19__.xp6(2),_angular_core__WEBPACK_IMPORTED_MODULE_19__.Q6J("ngVar",_angular_core__WEBPACK_IMPORTED_MODULE_19__.lcZ(15,14,ctx.entriesRD$))}},"DsDynamicLookupRelationExternalSourceTabComponent_Template"),directives:[_page_size_selector_page_size_selector_component__WEBPACK_IMPORTED_MODULE_13__.k,_search_form_search_form_component__WEBPACK_IMPORTED_MODULE_14__.o,_utils_var_directive__WEBPACK_IMPORTED_MODULE_15__.g,_angular_common__WEBPACK_IMPORTED_MODULE_24__.O5,_object_collection_object_collection_component__WEBPACK_IMPORTED_MODULE_16__.c,_loading_themed_loading_component__WEBPACK_IMPORTED_MODULE_17__.Z,_error_error_component__WEBPACK_IMPORTED_MODULE_18__.q],pipes:[_ngx_translate_core__WEBPACK_IMPORTED_MODULE_25__.X$,_angular_common__WEBPACK_IMPORTED_MODULE_24__.Ov],styles:[""],data:{animation:[_animations_fade__WEBPACK_IMPORTED_MODULE_5__.Ji,_animations_fade__WEBPACK_IMPORTED_MODULE_5__.Ic]}})},29635:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{D:()=>ExternalSourceEntryImportModalComponent});var _angular_core__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__(5e3),_core_shared_metadata_utils__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(94569),_core_data_lookup_relation_service__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(78326),_search_models_paginated_search_options_model__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(35598),_object_collection_collection_element_link_type__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(8041),_core_shared_context_model__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(84935),_object_list_selectable_list_selectable_list_service__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(51117),_core_data_item_data_service__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(83639),_pagination_pagination_component_options_model__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(26638),_core_shared_operators__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(13730),rxjs_operators__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__(83292),_object_collection_shared_item_search_result_model__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(84412),_notifications_notifications_service__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(82596),_submission_import_external_import_external_collection_submission_import_external_collection_component__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(91320),_ng_bootstrap_ng_bootstrap__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__(13707),_ngx_translate_core__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__(42466),_angular_common__WEBPACK_IMPORTED_MODULE_17__=__webpack_require__(69808),_search_search_results_search_results_component__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(64490);function ExternalSourceEntryImportModalComponent_div_15_Template(rf,ctx){if(1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_13__.TgZ(0,"div")(1,"a",17),_angular_core__WEBPACK_IMPORTED_MODULE_13__._uU(2),_angular_core__WEBPACK_IMPORTED_MODULE_13__.qZA()()),2&rf){const ctx_r0=_angular_core__WEBPACK_IMPORTED_MODULE_13__.oxw();_angular_core__WEBPACK_IMPORTED_MODULE_13__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_13__.s9C("href",ctx_r0.uri.value,_angular_core__WEBPACK_IMPORTED_MODULE_13__.LSH),_angular_core__WEBPACK_IMPORTED_MODULE_13__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_13__.Oqu(ctx_r0.uri.value)}}__name(ExternalSourceEntryImportModalComponent_div_15_Template,"ExternalSourceEntryImportModalComponent_div_15_Template");const _c0=__name(function(a1){return{repeatable:!1,listId:a1}},"_c0");function ExternalSourceEntryImportModalComponent_ds_search_results_23_Template(rf,ctx){if(1&rf){const _r4=_angular_core__WEBPACK_IMPORTED_MODULE_13__.EpF();_angular_core__WEBPACK_IMPORTED_MODULE_13__.TgZ(0,"ds-search-results",18),_angular_core__WEBPACK_IMPORTED_MODULE_13__.NdJ("deselectObject",__name(function(){return _angular_core__WEBPACK_IMPORTED_MODULE_13__.CHM(_r4),_angular_core__WEBPACK_IMPORTED_MODULE_13__.oxw().deselectEntity()},"ExternalSourceEntryImportModalComponent_ds_search_results_23_Template_ds_search_results_deselectObject_0_listener"))("selectObject",__name(function($event){return _angular_core__WEBPACK_IMPORTED_MODULE_13__.CHM(_r4),_angular_core__WEBPACK_IMPORTED_MODULE_13__.oxw().selectEntity($event)},"ExternalSourceEntryImportModalComponent_ds_search_results_23_Template_ds_search_results_selectObject_0_listener")),_angular_core__WEBPACK_IMPORTED_MODULE_13__.ALo(1,"async"),_angular_core__WEBPACK_IMPORTED_MODULE_13__.qZA()}if(2&rf){const ctx_r1=_angular_core__WEBPACK_IMPORTED_MODULE_13__.oxw();_angular_core__WEBPACK_IMPORTED_MODULE_13__.Q6J("searchResults",_angular_core__WEBPACK_IMPORTED_MODULE_13__.lcZ(1,9,ctx_r1.localEntitiesRD$))("sortConfig",null==ctx_r1.lookupRelationService.searchConfig?null:ctx_r1.lookupRelationService.searchConfig.sort)("searchConfig",ctx_r1.lookupRelationService.searchConfig)("selectable",!0)("disableHeader",!0)("hidePaginationDetail",!0)("selectionConfig",_angular_core__WEBPACK_IMPORTED_MODULE_13__.VKq(11,_c0,ctx_r1.entityListId))("linkType",ctx_r1.linkTypes.ExternalLink)("context",ctx_r1.context)}}function ExternalSourceEntryImportModalComponent_div_30_Template(rf,ctx){if(1&rf){const _r7=_angular_core__WEBPACK_IMPORTED_MODULE_13__.EpF();_angular_core__WEBPACK_IMPORTED_MODULE_13__.TgZ(0,"div",19)(1,"h5",8),_angular_core__WEBPACK_IMPORTED_MODULE_13__._uU(2),_angular_core__WEBPACK_IMPORTED_MODULE_13__.ALo(3,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_13__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_13__.TgZ(4,"div",10)(5,"input",20),_angular_core__WEBPACK_IMPORTED_MODULE_13__.NdJ("click",__name(function(){return _angular_core__WEBPACK_IMPORTED_MODULE_13__.CHM(_r7),_angular_core__WEBPACK_IMPORTED_MODULE_13__.oxw().selectNewAuthority()},"ExternalSourceEntryImportModalComponent_div_30_Template_input_click_5_listener")),_angular_core__WEBPACK_IMPORTED_MODULE_13__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_13__.TgZ(6,"label",21),_angular_core__WEBPACK_IMPORTED_MODULE_13__._uU(7),_angular_core__WEBPACK_IMPORTED_MODULE_13__.ALo(8,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_13__.qZA()()()}if(2&rf){const ctx_r2=_angular_core__WEBPACK_IMPORTED_MODULE_13__.oxw();_angular_core__WEBPACK_IMPORTED_MODULE_13__.xp6(2),_angular_core__WEBPACK_IMPORTED_MODULE_13__.Oqu(_angular_core__WEBPACK_IMPORTED_MODULE_13__.lcZ(3,3,ctx_r2.labelPrefix+"authority")),_angular_core__WEBPACK_IMPORTED_MODULE_13__.xp6(3),_angular_core__WEBPACK_IMPORTED_MODULE_13__.Q6J("checked",ctx_r2.selectedImportType===ctx_r2.importType.NewAuthority),_angular_core__WEBPACK_IMPORTED_MODULE_13__.xp6(2),_angular_core__WEBPACK_IMPORTED_MODULE_13__.Oqu(_angular_core__WEBPACK_IMPORTED_MODULE_13__.lcZ(8,5,ctx_r2.labelPrefix+"authority.new"))}}var ImportType,ImportType2;__name(ExternalSourceEntryImportModalComponent_ds_search_results_23_Template,"ExternalSourceEntryImportModalComponent_ds_search_results_23_Template"),__name(ExternalSourceEntryImportModalComponent_div_30_Template,"ExternalSourceEntryImportModalComponent_div_30_Template"),(ImportType2=ImportType||(ImportType={})).None="None",ImportType2.LocalEntity="LocalEntity",ImportType2.LocalAuthority="LocalAuthority",ImportType2.NewEntity="NewEntity",ImportType2.NewAuthority="NewAuthority";class ExternalSourceEntryImportModalComponent{constructor(modal,lookupRelationService,modalService,selectService,itemService,notificationsService,translateService){this.modal=modal,this.lookupRelationService=lookupRelationService,this.modalService=modalService,this.selectService=selectService,this.itemService=itemService,this.notificationsService=notificationsService,this.translateService=translateService,this.labelPrefix="submission.sections.describe.relationship-lookup.external-source.import-modal.",this.linkTypes=_object_collection_collection_element_link_type__WEBPACK_IMPORTED_MODULE_3__.m,this.context=_core_shared_context_model__WEBPACK_IMPORTED_MODULE_4__._.EntitySearchModalWithNameVariants,this.entityListId="external-source-import-entity",this.authorityListId="external-source-import-authority",this.importType=ImportType,this.selectedImportType=ImportType.None,this.importedObject=new _angular_core__WEBPACK_IMPORTED_MODULE_13__.vpe,this.authorityEnabled=!1}ngOnInit(){this.uri=_core_shared_metadata_utils__WEBPACK_IMPORTED_MODULE_0__.S.first(this.externalSourceEntry.metadata,"dc.identifier.uri");const pagination=Object.assign(new _pagination_pagination_component_options_model__WEBPACK_IMPORTED_MODULE_7__.r,{id:"external-entry-import",pageSize:5});this.searchOptions=Object.assign(new _search_models_paginated_search_options_model__WEBPACK_IMPORTED_MODULE_2__.t({query:this.externalSourceEntry.value,pagination})),this.localEntitiesRD$=this.lookupRelationService.getLocalResults(this.relationship,this.searchOptions)}close(){this.modal.close()}import(){switch(this.selectedImportType){case ImportType.LocalEntity:this.importLocalEntity();break;case ImportType.NewEntity:this.importNewEntity();break;case ImportType.LocalAuthority:this.importLocalAuthority();break;case ImportType.NewAuthority:this.importNewAuthority()}this.selectedImportType=ImportType.None,this.deselectAllLists(),this.close()}importLocalEntity(){void 0!==this.selectedEntity&&(this.notificationsService.success(this.translateService.get(this.labelPrefix+this.label+".added.local-entity")),this.importedObject.emit(this.selectedEntity))}importNewEntity(){this.modalRef=this.modalService.open(_submission_import_external_import_external_collection_submission_import_external_collection_component__WEBPACK_IMPORTED_MODULE_11__.L,{size:"lg"}),this.modalRef.componentInstance.entityType=this.relatedEntityType.label,this.modalRef.componentInstance.selectedEvent.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_14__.wt)(collectionListEntry=>this.itemService.importExternalSourceEntry(this.externalSourceEntry,collectionListEntry.collection.id).pipe((0,_core_shared_operators__WEBPACK_IMPORTED_MODULE_8__.xw)(),(0,_core_shared_operators__WEBPACK_IMPORTED_MODULE_8__.xe)(),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_14__.qn)(1)))).subscribe(item=>{this.lookupRelationService.removeLocalResultsCache();const searchResult=Object.assign(new _object_collection_shared_item_search_result_model__WEBPACK_IMPORTED_MODULE_9__.T,{indexableObject:item});this.notificationsService.success(this.translateService.get(this.labelPrefix+this.label+".added.new-entity")),this.modalRef.close(),this.importedObject.emit(searchResult)})}importLocalAuthority(){}importNewAuthority(){}deselectEntity(){this.selectedEntity=void 0,this.selectedImportType===ImportType.LocalEntity&&(this.selectedImportType=ImportType.None)}selectEntity(entity){this.selectedEntity=entity,this.selectedImportType=ImportType.LocalEntity}selectNewEntity(){this.selectedImportType===ImportType.NewEntity?this.selectedImportType=ImportType.None:(this.selectedImportType=ImportType.NewEntity,this.deselectAllLists())}deselectAuthority(){this.selectedAuthority=void 0,this.selectedImportType===ImportType.LocalAuthority&&(this.selectedImportType=ImportType.None)}selectAuthority(authority){this.selectedAuthority=authority,this.selectedImportType=ImportType.LocalAuthority}selectNewAuthority(){this.selectedImportType===ImportType.NewAuthority?this.selectedImportType=ImportType.None:(this.selectedImportType=ImportType.NewAuthority,this.deselectAllLists())}deselectAllLists(){this.selectService.deselectAll(this.entityListId),this.selectService.deselectAll(this.authorityListId)}}__name(ExternalSourceEntryImportModalComponent,"ExternalSourceEntryImportModalComponent"),ExternalSourceEntryImportModalComponent.\u0275fac=__name(function(t){return new(t||ExternalSourceEntryImportModalComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_13__.Y36(_ng_bootstrap_ng_bootstrap__WEBPACK_IMPORTED_MODULE_15__.Kz),_angular_core__WEBPACK_IMPORTED_MODULE_13__.Y36(_core_data_lookup_relation_service__WEBPACK_IMPORTED_MODULE_1__.P),_angular_core__WEBPACK_IMPORTED_MODULE_13__.Y36(_ng_bootstrap_ng_bootstrap__WEBPACK_IMPORTED_MODULE_15__.FF),_angular_core__WEBPACK_IMPORTED_MODULE_13__.Y36(_object_list_selectable_list_selectable_list_service__WEBPACK_IMPORTED_MODULE_5__.w),_angular_core__WEBPACK_IMPORTED_MODULE_13__.Y36(_core_data_item_data_service__WEBPACK_IMPORTED_MODULE_6__.S),_angular_core__WEBPACK_IMPORTED_MODULE_13__.Y36(_notifications_notifications_service__WEBPACK_IMPORTED_MODULE_10__.T),_angular_core__WEBPACK_IMPORTED_MODULE_13__.Y36(_ngx_translate_core__WEBPACK_IMPORTED_MODULE_16__.sK))},"ExternalSourceEntryImportModalComponent_Factory"),ExternalSourceEntryImportModalComponent.\u0275cmp=_angular_core__WEBPACK_IMPORTED_MODULE_13__.Xpm({type:ExternalSourceEntryImportModalComponent,selectors:[["ds-external-source-entry-import-modal"]],decls:40,vars:29,consts:[[1,"modal-header"],["id","modal-title",1,"modal-title"],["type","button","aria-label","Close button","aria-describedby","modal-title",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],["id","external-source-entry-information",1,"mb-3"],[4,"ngIf"],["id","external-source-entry-entities",1,"mb-3"],[1,"font-weight-bold"],[3,"searchResults","sortConfig","searchConfig","selectable","disableHeader","hidePaginationDetail","selectionConfig","linkType","context","deselectObject","selectObject",4,"ngIf"],[1,"ml-4"],["type","radio","name","new-entity","id","new-entity","value","new-entity",1,"form-check-input",3,"checked","click"],["for","new-entity",1,"form-check-label"],["id","external-source-entry-authority",4,"ngIf"],[1,"modal-footer"],["type","button",1,"btn","btn-outline-secondary",3,"click"],["type","button",1,"btn","btn-primary",3,"disabled","click"],[3,"href"],[3,"searchResults","sortConfig","searchConfig","selectable","disableHeader","hidePaginationDetail","selectionConfig","linkType","context","deselectObject","selectObject"],["id","external-source-entry-authority"],["type","radio","name","new-authority","id","new-authority","value","new-authority",1,"form-check-input",3,"checked","click"],["for","new-authority",1,"form-check-label"]],template:__name(function(rf,ctx){if(1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_13__.TgZ(0,"div",0)(1,"h4",1),_angular_core__WEBPACK_IMPORTED_MODULE_13__._uU(2),_angular_core__WEBPACK_IMPORTED_MODULE_13__.ALo(3,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_13__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_13__.TgZ(4,"button",2),_angular_core__WEBPACK_IMPORTED_MODULE_13__.NdJ("click",__name(function(){return ctx.modal.dismiss()},"ExternalSourceEntryImportModalComponent_Template_button_click_4_listener")),_angular_core__WEBPACK_IMPORTED_MODULE_13__.TgZ(5,"span",3),_angular_core__WEBPACK_IMPORTED_MODULE_13__._uU(6,"\xd7"),_angular_core__WEBPACK_IMPORTED_MODULE_13__.qZA()()(),_angular_core__WEBPACK_IMPORTED_MODULE_13__.TgZ(7,"div",4)(8,"h4"),_angular_core__WEBPACK_IMPORTED_MODULE_13__._uU(9),_angular_core__WEBPACK_IMPORTED_MODULE_13__.ALo(10,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_13__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_13__.TgZ(11,"div",5)(12,"div")(13,"span"),_angular_core__WEBPACK_IMPORTED_MODULE_13__._uU(14),_angular_core__WEBPACK_IMPORTED_MODULE_13__.qZA()(),_angular_core__WEBPACK_IMPORTED_MODULE_13__.YNc(15,ExternalSourceEntryImportModalComponent_div_15_Template,3,2,"div",6),_angular_core__WEBPACK_IMPORTED_MODULE_13__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_13__.TgZ(16,"h4"),_angular_core__WEBPACK_IMPORTED_MODULE_13__._uU(17),_angular_core__WEBPACK_IMPORTED_MODULE_13__.ALo(18,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_13__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_13__.TgZ(19,"div",7)(20,"h5",8),_angular_core__WEBPACK_IMPORTED_MODULE_13__._uU(21),_angular_core__WEBPACK_IMPORTED_MODULE_13__.ALo(22,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_13__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_13__.YNc(23,ExternalSourceEntryImportModalComponent_ds_search_results_23_Template,2,13,"ds-search-results",9),_angular_core__WEBPACK_IMPORTED_MODULE_13__.ALo(24,"async"),_angular_core__WEBPACK_IMPORTED_MODULE_13__.TgZ(25,"div",10)(26,"input",11),_angular_core__WEBPACK_IMPORTED_MODULE_13__.NdJ("click",__name(function(){return ctx.selectNewEntity()},"ExternalSourceEntryImportModalComponent_Template_input_click_26_listener")),_angular_core__WEBPACK_IMPORTED_MODULE_13__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_13__.TgZ(27,"label",12),_angular_core__WEBPACK_IMPORTED_MODULE_13__._uU(28),_angular_core__WEBPACK_IMPORTED_MODULE_13__.ALo(29,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_13__.qZA()()(),_angular_core__WEBPACK_IMPORTED_MODULE_13__.YNc(30,ExternalSourceEntryImportModalComponent_div_30_Template,9,7,"div",13),_angular_core__WEBPACK_IMPORTED_MODULE_13__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_13__.TgZ(31,"div",14)(32,"div")(33,"button",15),_angular_core__WEBPACK_IMPORTED_MODULE_13__.NdJ("click",__name(function(){return ctx.close()},"ExternalSourceEntryImportModalComponent_Template_button_click_33_listener")),_angular_core__WEBPACK_IMPORTED_MODULE_13__._uU(34),_angular_core__WEBPACK_IMPORTED_MODULE_13__.ALo(35,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_13__.qZA()(),_angular_core__WEBPACK_IMPORTED_MODULE_13__.TgZ(36,"div")(37,"button",16),_angular_core__WEBPACK_IMPORTED_MODULE_13__.NdJ("click",__name(function(){return ctx.import()},"ExternalSourceEntryImportModalComponent_Template_button_click_37_listener")),_angular_core__WEBPACK_IMPORTED_MODULE_13__._uU(38),_angular_core__WEBPACK_IMPORTED_MODULE_13__.ALo(39,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_13__.qZA()()()),2&rf){let tmp_6_0;_angular_core__WEBPACK_IMPORTED_MODULE_13__.xp6(2),_angular_core__WEBPACK_IMPORTED_MODULE_13__.Oqu(_angular_core__WEBPACK_IMPORTED_MODULE_13__.lcZ(3,13,ctx.labelPrefix+ctx.label+".title")),_angular_core__WEBPACK_IMPORTED_MODULE_13__.xp6(7),_angular_core__WEBPACK_IMPORTED_MODULE_13__.Oqu(_angular_core__WEBPACK_IMPORTED_MODULE_13__.lcZ(10,15,ctx.labelPrefix+"head."+ctx.externalSourceEntry.externalSource)),_angular_core__WEBPACK_IMPORTED_MODULE_13__.xp6(5),_angular_core__WEBPACK_IMPORTED_MODULE_13__.Oqu(ctx.externalSourceEntry.display),_angular_core__WEBPACK_IMPORTED_MODULE_13__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_13__.Q6J("ngIf",ctx.uri),_angular_core__WEBPACK_IMPORTED_MODULE_13__.xp6(2),_angular_core__WEBPACK_IMPORTED_MODULE_13__.Oqu(_angular_core__WEBPACK_IMPORTED_MODULE_13__.lcZ(18,17,ctx.labelPrefix+"select")),_angular_core__WEBPACK_IMPORTED_MODULE_13__.xp6(4),_angular_core__WEBPACK_IMPORTED_MODULE_13__.Oqu(_angular_core__WEBPACK_IMPORTED_MODULE_13__.lcZ(22,19,ctx.labelPrefix+"entities")),_angular_core__WEBPACK_IMPORTED_MODULE_13__.xp6(2),_angular_core__WEBPACK_IMPORTED_MODULE_13__.Q6J("ngIf",(null==(tmp_6_0=_angular_core__WEBPACK_IMPORTED_MODULE_13__.lcZ(24,21,ctx.localEntitiesRD$))||null==tmp_6_0.payload||null==tmp_6_0.payload.page?null:tmp_6_0.payload.page.length)>0),_angular_core__WEBPACK_IMPORTED_MODULE_13__.xp6(3),_angular_core__WEBPACK_IMPORTED_MODULE_13__.Q6J("checked",ctx.selectedImportType===ctx.importType.NewEntity),_angular_core__WEBPACK_IMPORTED_MODULE_13__.xp6(2),_angular_core__WEBPACK_IMPORTED_MODULE_13__.Oqu(_angular_core__WEBPACK_IMPORTED_MODULE_13__.lcZ(29,23,ctx.labelPrefix+"entities.new")),_angular_core__WEBPACK_IMPORTED_MODULE_13__.xp6(2),_angular_core__WEBPACK_IMPORTED_MODULE_13__.Q6J("ngIf",ctx.authorityEnabled),_angular_core__WEBPACK_IMPORTED_MODULE_13__.xp6(4),_angular_core__WEBPACK_IMPORTED_MODULE_13__.Oqu(_angular_core__WEBPACK_IMPORTED_MODULE_13__.lcZ(35,25,ctx.labelPrefix+"cancel")),_angular_core__WEBPACK_IMPORTED_MODULE_13__.xp6(3),_angular_core__WEBPACK_IMPORTED_MODULE_13__.Q6J("disabled",ctx.selectedImportType===ctx.importType.None),_angular_core__WEBPACK_IMPORTED_MODULE_13__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_13__.Oqu(_angular_core__WEBPACK_IMPORTED_MODULE_13__.lcZ(39,27,ctx.labelPrefix+"import"))}},"ExternalSourceEntryImportModalComponent_Template"),directives:[_angular_common__WEBPACK_IMPORTED_MODULE_17__.O5,_search_search_results_search_results_component__WEBPACK_IMPORTED_MODULE_12__.SearchResultsComponent],pipes:[_ngx_translate_core__WEBPACK_IMPORTED_MODULE_16__.X$,_angular_common__WEBPACK_IMPORTED_MODULE_17__.Ov],styles:[".modal-footer[_ngcontent-%COMP%]{justify-content:space-between}"]})},64204:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{s:()=>DsDynamicLookupRelationSearchTabComponent});var _angular_core__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__(5e3),_my_dspace_page_my_dspace_page_component__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(14292),_core_shared_search_search_configuration_service__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(36872),rxjs__WEBPACK_IMPORTED_MODULE_16__=(__webpack_require__(33609),__webpack_require__(76477)),_pagination_pagination_component_options_model__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(26638),_core_shared_search_search_service__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(5164),_object_list_selectable_list_selectable_list_service__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(51117),_empty_util__WEBPACK_IMPORTED_MODULE_18__=__webpack_require__(24702),rxjs_operators__WEBPACK_IMPORTED_MODULE_17__=__webpack_require__(83292),_core_shared_operators__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(13730),_object_collection_collection_element_link_type__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(8041),_core_data_lookup_relation_service__WEBPACK_IMPORTED_MODULE_9__=(__webpack_require__(84935),__webpack_require__(78326)),_core_pagination_pagination_service__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(77467),_core_data_relationship_data_service__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(88002),_angular_common__WEBPACK_IMPORTED_MODULE_19__=(__webpack_require__(87917),__webpack_require__(69808)),_search_themed_search_component__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__(30236),_ng_bootstrap_ng_bootstrap__WEBPACK_IMPORTED_MODULE_20__=__webpack_require__(13707),_utils_var_directive__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__(98605),_ngx_translate_core__WEBPACK_IMPORTED_MODULE_21__=__webpack_require__(42466);function DsDynamicLookupRelationSearchTabComponent_ds_themed_search_0_div_1_input_4_Template(rf,ctx){if(1&rf){const _r8=_angular_core__WEBPACK_IMPORTED_MODULE_15__.EpF();_angular_core__WEBPACK_IMPORTED_MODULE_15__.TgZ(0,"input",14),_angular_core__WEBPACK_IMPORTED_MODULE_15__.NdJ("change",__name(function(){return _angular_core__WEBPACK_IMPORTED_MODULE_15__.CHM(_r8),_angular_core__WEBPACK_IMPORTED_MODULE_15__.oxw(3).selectAll()},"DsDynamicLookupRelationSearchTabComponent_ds_themed_search_0_div_1_input_4_Template_input_change_0_listener")),_angular_core__WEBPACK_IMPORTED_MODULE_15__.qZA()}2&rf&&_angular_core__WEBPACK_IMPORTED_MODULE_15__.Q6J("indeterminate",!1)}function DsDynamicLookupRelationSearchTabComponent_ds_themed_search_0_div_1_input_6_Template(rf,ctx){if(1&rf){const _r10=_angular_core__WEBPACK_IMPORTED_MODULE_15__.EpF();_angular_core__WEBPACK_IMPORTED_MODULE_15__.TgZ(0,"input",14),_angular_core__WEBPACK_IMPORTED_MODULE_15__.NdJ("change",__name(function(){return _angular_core__WEBPACK_IMPORTED_MODULE_15__.CHM(_r10),_angular_core__WEBPACK_IMPORTED_MODULE_15__.oxw(3).deselectAll()},"DsDynamicLookupRelationSearchTabComponent_ds_themed_search_0_div_1_input_6_Template_input_change_0_listener")),_angular_core__WEBPACK_IMPORTED_MODULE_15__.qZA()}2&rf&&_angular_core__WEBPACK_IMPORTED_MODULE_15__.Q6J("indeterminate",!0)}function DsDynamicLookupRelationSearchTabComponent_ds_themed_search_0_div_1_input_8_Template(rf,ctx){if(1&rf){const _r12=_angular_core__WEBPACK_IMPORTED_MODULE_15__.EpF();_angular_core__WEBPACK_IMPORTED_MODULE_15__.TgZ(0,"input",15),_angular_core__WEBPACK_IMPORTED_MODULE_15__.NdJ("change",__name(function(){return _angular_core__WEBPACK_IMPORTED_MODULE_15__.CHM(_r12),_angular_core__WEBPACK_IMPORTED_MODULE_15__.oxw(3).deselectAll()},"DsDynamicLookupRelationSearchTabComponent_ds_themed_search_0_div_1_input_8_Template_input_change_0_listener")),_angular_core__WEBPACK_IMPORTED_MODULE_15__.qZA()}2&rf&&_angular_core__WEBPACK_IMPORTED_MODULE_15__.Q6J("checked",!0)}function DsDynamicLookupRelationSearchTabComponent_ds_themed_search_0_div_1_button_10_Template(rf,ctx){1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_15__.TgZ(0,"button",16),_angular_core__WEBPACK_IMPORTED_MODULE_15__._UZ(1,"span",17),_angular_core__WEBPACK_IMPORTED_MODULE_15__.TgZ(2,"span",12),_angular_core__WEBPACK_IMPORTED_MODULE_15__._uU(3),_angular_core__WEBPACK_IMPORTED_MODULE_15__.ALo(4,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_15__.qZA()()),2&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_15__.xp6(3),_angular_core__WEBPACK_IMPORTED_MODULE_15__.Oqu(_angular_core__WEBPACK_IMPORTED_MODULE_15__.lcZ(4,1,"submission.sections.describe.relationship-lookup.search-tab.loading")))}function DsDynamicLookupRelationSearchTabComponent_ds_themed_search_0_div_1_div_15_Template(rf,ctx){if(1&rf){const _r15=_angular_core__WEBPACK_IMPORTED_MODULE_15__.EpF();_angular_core__WEBPACK_IMPORTED_MODULE_15__.TgZ(0,"div",18)(1,"button",19),_angular_core__WEBPACK_IMPORTED_MODULE_15__.NdJ("click",__name(function(){const resultsRD_r13=_angular_core__WEBPACK_IMPORTED_MODULE_15__.CHM(_r15).ngVar;return _angular_core__WEBPACK_IMPORTED_MODULE_15__.oxw(3).selectPage(null==resultsRD_r13?null:resultsRD_r13.page)},"DsDynamicLookupRelationSearchTabComponent_ds_themed_search_0_div_1_div_15_Template_button_click_1_listener")),_angular_core__WEBPACK_IMPORTED_MODULE_15__._uU(2),_angular_core__WEBPACK_IMPORTED_MODULE_15__.ALo(3,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_15__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_15__.TgZ(4,"button",19),_angular_core__WEBPACK_IMPORTED_MODULE_15__.NdJ("click",__name(function(){const resultsRD_r13=_angular_core__WEBPACK_IMPORTED_MODULE_15__.CHM(_r15).ngVar;return _angular_core__WEBPACK_IMPORTED_MODULE_15__.oxw(3).deselectPage(null==resultsRD_r13?null:resultsRD_r13.page)},"DsDynamicLookupRelationSearchTabComponent_ds_themed_search_0_div_1_div_15_Template_button_click_4_listener")),_angular_core__WEBPACK_IMPORTED_MODULE_15__._uU(5),_angular_core__WEBPACK_IMPORTED_MODULE_15__.ALo(6,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_15__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_15__.TgZ(7,"button",19),_angular_core__WEBPACK_IMPORTED_MODULE_15__.NdJ("click",__name(function(){return _angular_core__WEBPACK_IMPORTED_MODULE_15__.CHM(_r15),_angular_core__WEBPACK_IMPORTED_MODULE_15__.oxw(3).selectAll()},"DsDynamicLookupRelationSearchTabComponent_ds_themed_search_0_div_1_div_15_Template_button_click_7_listener")),_angular_core__WEBPACK_IMPORTED_MODULE_15__._uU(8),_angular_core__WEBPACK_IMPORTED_MODULE_15__.ALo(9,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_15__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_15__.TgZ(10,"button",19),_angular_core__WEBPACK_IMPORTED_MODULE_15__.NdJ("click",__name(function(){return _angular_core__WEBPACK_IMPORTED_MODULE_15__.CHM(_r15),_angular_core__WEBPACK_IMPORTED_MODULE_15__.oxw(3).deselectAll()},"DsDynamicLookupRelationSearchTabComponent_ds_themed_search_0_div_1_div_15_Template_button_click_10_listener")),_angular_core__WEBPACK_IMPORTED_MODULE_15__._uU(11),_angular_core__WEBPACK_IMPORTED_MODULE_15__.ALo(12,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_15__.qZA()()}2&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_15__.xp6(2),_angular_core__WEBPACK_IMPORTED_MODULE_15__.Oqu(_angular_core__WEBPACK_IMPORTED_MODULE_15__.lcZ(3,4,"submission.sections.describe.relationship-lookup.search-tab.select-page")),_angular_core__WEBPACK_IMPORTED_MODULE_15__.xp6(3),_angular_core__WEBPACK_IMPORTED_MODULE_15__.Oqu(_angular_core__WEBPACK_IMPORTED_MODULE_15__.lcZ(6,6,"submission.sections.describe.relationship-lookup.search-tab.deselect-page")),_angular_core__WEBPACK_IMPORTED_MODULE_15__.xp6(3),_angular_core__WEBPACK_IMPORTED_MODULE_15__.Oqu(_angular_core__WEBPACK_IMPORTED_MODULE_15__.lcZ(9,8,"submission.sections.describe.relationship-lookup.search-tab.select-all")),_angular_core__WEBPACK_IMPORTED_MODULE_15__.xp6(3),_angular_core__WEBPACK_IMPORTED_MODULE_15__.Oqu(_angular_core__WEBPACK_IMPORTED_MODULE_15__.lcZ(12,10,"submission.sections.describe.relationship-lookup.search-tab.deselect-all")))}function DsDynamicLookupRelationSearchTabComponent_ds_themed_search_0_div_1_Template(rf,ctx){if(1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_15__.TgZ(0,"div",3)(1,"div",4)(2,"div",5)(3,"div",6),_angular_core__WEBPACK_IMPORTED_MODULE_15__.YNc(4,DsDynamicLookupRelationSearchTabComponent_ds_themed_search_0_div_1_input_4_Template,1,1,"input",7),_angular_core__WEBPACK_IMPORTED_MODULE_15__.ALo(5,"async"),_angular_core__WEBPACK_IMPORTED_MODULE_15__.YNc(6,DsDynamicLookupRelationSearchTabComponent_ds_themed_search_0_div_1_input_6_Template,1,1,"input",7),_angular_core__WEBPACK_IMPORTED_MODULE_15__.ALo(7,"async"),_angular_core__WEBPACK_IMPORTED_MODULE_15__.YNc(8,DsDynamicLookupRelationSearchTabComponent_ds_themed_search_0_div_1_input_8_Template,1,1,"input",8),_angular_core__WEBPACK_IMPORTED_MODULE_15__.qZA()(),_angular_core__WEBPACK_IMPORTED_MODULE_15__.TgZ(9,"div",9),_angular_core__WEBPACK_IMPORTED_MODULE_15__.YNc(10,DsDynamicLookupRelationSearchTabComponent_ds_themed_search_0_div_1_button_10_Template,5,3,"button",10),_angular_core__WEBPACK_IMPORTED_MODULE_15__.TgZ(11,"button",11)(12,"span",12),_angular_core__WEBPACK_IMPORTED_MODULE_15__._uU(13),_angular_core__WEBPACK_IMPORTED_MODULE_15__.ALo(14,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_15__.qZA()(),_angular_core__WEBPACK_IMPORTED_MODULE_15__.YNc(15,DsDynamicLookupRelationSearchTabComponent_ds_themed_search_0_div_1_div_15_Template,13,12,"div",13),_angular_core__WEBPACK_IMPORTED_MODULE_15__.ALo(16,"async"),_angular_core__WEBPACK_IMPORTED_MODULE_15__.qZA()()()),2&rf){const ctx_r1=_angular_core__WEBPACK_IMPORTED_MODULE_15__.oxw(2);_angular_core__WEBPACK_IMPORTED_MODULE_15__.xp6(4),_angular_core__WEBPACK_IMPORTED_MODULE_15__.Q6J("ngIf",!ctx_r1.allSelected&&!_angular_core__WEBPACK_IMPORTED_MODULE_15__.lcZ(5,7,ctx_r1.someSelected$)),_angular_core__WEBPACK_IMPORTED_MODULE_15__.xp6(2),_angular_core__WEBPACK_IMPORTED_MODULE_15__.Q6J("ngIf",!ctx_r1.allSelected&&_angular_core__WEBPACK_IMPORTED_MODULE_15__.lcZ(7,9,ctx_r1.someSelected$)),_angular_core__WEBPACK_IMPORTED_MODULE_15__.xp6(2),_angular_core__WEBPACK_IMPORTED_MODULE_15__.Q6J("ngIf",ctx_r1.allSelected),_angular_core__WEBPACK_IMPORTED_MODULE_15__.xp6(2),_angular_core__WEBPACK_IMPORTED_MODULE_15__.Q6J("ngIf",ctx_r1.selectAllLoading),_angular_core__WEBPACK_IMPORTED_MODULE_15__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_15__.Q6J("hidden",ctx_r1.selectAllLoading),_angular_core__WEBPACK_IMPORTED_MODULE_15__.xp6(2),_angular_core__WEBPACK_IMPORTED_MODULE_15__.Oqu(_angular_core__WEBPACK_IMPORTED_MODULE_15__.lcZ(14,11,"submission.sections.describe.relationship-lookup.toggle-dropdown")),_angular_core__WEBPACK_IMPORTED_MODULE_15__.xp6(2),_angular_core__WEBPACK_IMPORTED_MODULE_15__.Q6J("ngVar",_angular_core__WEBPACK_IMPORTED_MODULE_15__.lcZ(16,13,ctx_r1.resultsRD$))}}__name(DsDynamicLookupRelationSearchTabComponent_ds_themed_search_0_div_1_input_4_Template,"DsDynamicLookupRelationSearchTabComponent_ds_themed_search_0_div_1_input_4_Template"),__name(DsDynamicLookupRelationSearchTabComponent_ds_themed_search_0_div_1_input_6_Template,"DsDynamicLookupRelationSearchTabComponent_ds_themed_search_0_div_1_input_6_Template"),__name(DsDynamicLookupRelationSearchTabComponent_ds_themed_search_0_div_1_input_8_Template,"DsDynamicLookupRelationSearchTabComponent_ds_themed_search_0_div_1_input_8_Template"),__name(DsDynamicLookupRelationSearchTabComponent_ds_themed_search_0_div_1_button_10_Template,"DsDynamicLookupRelationSearchTabComponent_ds_themed_search_0_div_1_button_10_Template"),__name(DsDynamicLookupRelationSearchTabComponent_ds_themed_search_0_div_1_div_15_Template,"DsDynamicLookupRelationSearchTabComponent_ds_themed_search_0_div_1_div_15_Template"),__name(DsDynamicLookupRelationSearchTabComponent_ds_themed_search_0_div_1_Template,"DsDynamicLookupRelationSearchTabComponent_ds_themed_search_0_div_1_Template");const _c0=__name(function(a0,a1){return{repeatable:a0,listId:a1}},"_c0");function DsDynamicLookupRelationSearchTabComponent_ds_themed_search_0_Template(rf,ctx){if(1&rf){const _r20=_angular_core__WEBPACK_IMPORTED_MODULE_15__.EpF();_angular_core__WEBPACK_IMPORTED_MODULE_15__.TgZ(0,"ds-themed-search",1),_angular_core__WEBPACK_IMPORTED_MODULE_15__.NdJ("resultFound",__name(function($event){return _angular_core__WEBPACK_IMPORTED_MODULE_15__.CHM(_r20),_angular_core__WEBPACK_IMPORTED_MODULE_15__.oxw().onResultFound($event)},"DsDynamicLookupRelationSearchTabComponent_ds_themed_search_0_Template_ds_themed_search_resultFound_0_listener"))("deselectObject",__name(function($event){return _angular_core__WEBPACK_IMPORTED_MODULE_15__.CHM(_r20),_angular_core__WEBPACK_IMPORTED_MODULE_15__.oxw().deselectObject.emit($event)},"DsDynamicLookupRelationSearchTabComponent_ds_themed_search_0_Template_ds_themed_search_deselectObject_0_listener"))("selectObject",__name(function($event){return _angular_core__WEBPACK_IMPORTED_MODULE_15__.CHM(_r20),_angular_core__WEBPACK_IMPORTED_MODULE_15__.oxw().selectObject.emit($event)},"DsDynamicLookupRelationSearchTabComponent_ds_themed_search_0_Template_ds_themed_search_selectObject_0_listener")),_angular_core__WEBPACK_IMPORTED_MODULE_15__.YNc(1,DsDynamicLookupRelationSearchTabComponent_ds_themed_search_0_div_1_Template,17,15,"div",2),_angular_core__WEBPACK_IMPORTED_MODULE_15__.qZA()}if(2&rf){const ctx_r0=_angular_core__WEBPACK_IMPORTED_MODULE_15__.oxw();_angular_core__WEBPACK_IMPORTED_MODULE_15__.Q6J("configuration",ctx_r0.relationship.searchConfiguration)("context",ctx_r0.context)("fixedFilterQuery",ctx_r0.relationship.filter)("inPlaceSearch",!0)("linkType",ctx_r0.linkTypes.ExternalLink)("searchFormPlaceholder","submission.sections.describe.relationship-lookup.search-tab.search-form.placeholder")("selectable",!0)("selectionConfig",_angular_core__WEBPACK_IMPORTED_MODULE_15__.WLB(11,_c0,ctx_r0.repeatable,ctx_r0.listId))("showScopeSelector",!1)("showViewModes",!1),_angular_core__WEBPACK_IMPORTED_MODULE_15__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_15__.Q6J("ngIf",ctx_r0.repeatable)}}__name(DsDynamicLookupRelationSearchTabComponent_ds_themed_search_0_Template,"DsDynamicLookupRelationSearchTabComponent_ds_themed_search_0_Template");class DsDynamicLookupRelationSearchTabComponent{constructor(searchService,selectableListService,searchConfigService,lookupRelationService,relationshipService,paginationService){this.searchService=searchService,this.selectableListService=selectableListService,this.searchConfigService=searchConfigService,this.lookupRelationService=lookupRelationService,this.relationshipService=relationshipService,this.paginationService=paginationService,this.deselectObject=new _angular_core__WEBPACK_IMPORTED_MODULE_15__.vpe,this.selectObject=new _angular_core__WEBPACK_IMPORTED_MODULE_15__.vpe,this.resultsRD$=new rxjs__WEBPACK_IMPORTED_MODULE_16__.BehaviorSubject(null),this.initialPagination={page:1,pageSize:5},this.linkTypes=_object_collection_collection_element_link_type__WEBPACK_IMPORTED_MODULE_7__.m,this.resultFound=new _angular_core__WEBPACK_IMPORTED_MODULE_15__.vpe}ngOnInit(){this.resetRoute()}resetRoute(){this.paginationService.updateRoute(this.searchConfigService.paginationID,this.initialPagination)}selectPage(page){this.selection$.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_17__.qn)(1)).subscribe(selection=>{const filteredPage=page.filter(pageItem=>selection.findIndex(selected=>selected.equals(pageItem))<0);this.selectObject.emit(...filteredPage)}),this.selectableListService.select(this.listId,page)}deselectPage(page){this.allSelected=!1,this.selection$.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_17__.qn)(1)).subscribe(selection=>{const filteredPage=page.filter(pageItem=>selection.findIndex(selected=>selected.equals(pageItem))>=0);this.deselectObject.emit(...filteredPage)}),this.selectableListService.deselect(this.listId,page)}selectAll(){this.allSelected=!0,this.selectAllLoading=!0;const fullPagination=Object.assign(new _pagination_pagination_component_options_model__WEBPACK_IMPORTED_MODULE_3__.r,{currentPage:1,pageSize:9999}),fullSearchConfig=Object.assign(this.lookupRelationService.searchConfig,{pagination:fullPagination});this.searchService.search(fullSearchConfig).pipe((0,_core_shared_operators__WEBPACK_IMPORTED_MODULE_6__.xw)(),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_17__.UI)(resultsRD=>resultsRD.payload.page),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_17__.bw)(()=>this.selectAllLoading=!1),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_17__.wt)(results=>this.selection$.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_17__.qn)(1),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_17__.bw)(selection=>{const filteredResults=results.filter(pageItem=>selection.findIndex(selected=>selected.equals(pageItem))<0);this.selectObject.emit(...filteredResults)}),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_17__.hZ)(results)))).subscribe(results=>{this.selectableListService.select(this.listId,results)})}setSelectedIds(idOfItems,resultListOfItems){let relationType=this.relationshipType.rightwardType;this.isLeft&&(relationType=this.relationshipType.leftwardType),this.relationshipService.searchByItemsAndType(this.relationshipType.id,this.item.uuid,relationType,idOfItems).pipe((0,_core_shared_operators__WEBPACK_IMPORTED_MODULE_6__.xw)(),(0,_core_shared_operators__WEBPACK_IMPORTED_MODULE_6__.xe)()).subscribe(res=>{let selectableObject=res.page.map(relationship=>{let arrUrl=[];arrUrl=this.isLeft?relationship._links.rightItem.href.split("/"):relationship._links.leftItem.href.split("/");const uuid=arrUrl[arrUrl.length-1];return this.getRelatedItem(uuid,resultListOfItems)});selectableObject=selectableObject.filter(selObject=>!this.getIfInRemove(selObject.indexableObject.uuid)),selectableObject.length>0&&this.selectableListService.select(this.listId,selectableObject)})}deselectAll(){this.allSelected=!1,this.selection$.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_17__.qn)(1)).subscribe(selection=>this.deselectObject.emit(...selection)),this.selectableListService.deselectAll(this.listId)}getRelatedItem(uuid,resultList){return resultList.find(resultItem=>resultItem.indexableObject.uuid===uuid)}getIfInRemove(uuid){return!!this.toRemove.find(searchResult=>searchResult.indexableObject.uuid===uuid)}ngOnDestroy(){(0,_empty_util__WEBPACK_IMPORTED_MODULE_18__.Uh)(this.subscription)&&this.subscription.unsubscribe()}onResultFound($event){if(this.resultsRD$.next($event),this.resultFound.emit($event),this.isEditRelationship){const idOfItems=$event.page.map(itemSearchResult=>itemSearchResult.indexableObject.uuid);this.setSelectedIds(idOfItems,$event.page)}}}__name(DsDynamicLookupRelationSearchTabComponent,"DsDynamicLookupRelationSearchTabComponent"),DsDynamicLookupRelationSearchTabComponent.\u0275fac=__name(function(t){return new(t||DsDynamicLookupRelationSearchTabComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_15__.Y36(_core_shared_search_search_service__WEBPACK_IMPORTED_MODULE_4__.o),_angular_core__WEBPACK_IMPORTED_MODULE_15__.Y36(_object_list_selectable_list_selectable_list_service__WEBPACK_IMPORTED_MODULE_5__.w),_angular_core__WEBPACK_IMPORTED_MODULE_15__.Y36(_core_shared_search_search_configuration_service__WEBPACK_IMPORTED_MODULE_1__.U),_angular_core__WEBPACK_IMPORTED_MODULE_15__.Y36(_core_data_lookup_relation_service__WEBPACK_IMPORTED_MODULE_9__.P),_angular_core__WEBPACK_IMPORTED_MODULE_15__.Y36(_core_data_relationship_data_service__WEBPACK_IMPORTED_MODULE_11__.U),_angular_core__WEBPACK_IMPORTED_MODULE_15__.Y36(_core_pagination_pagination_service__WEBPACK_IMPORTED_MODULE_10__.N))},"DsDynamicLookupRelationSearchTabComponent_Factory"),DsDynamicLookupRelationSearchTabComponent.\u0275cmp=_angular_core__WEBPACK_IMPORTED_MODULE_15__.Xpm({type:DsDynamicLookupRelationSearchTabComponent,selectors:[["ds-dynamic-lookup-relation-search-tab"]],inputs:{relationship:"relationship",listId:"listId",query:"query",repeatable:"repeatable",selection$:"selection$",context:"context",relationshipType:"relationshipType",item:"item",isLeft:"isLeft",toRemove:"toRemove",isEditRelationship:"isEditRelationship"},outputs:{deselectObject:"deselectObject",selectObject:"selectObject",resultFound:"resultFound"},features:[_angular_core__WEBPACK_IMPORTED_MODULE_15__._Bn([{provide:_my_dspace_page_my_dspace_page_component__WEBPACK_IMPORTED_MODULE_0__.SEARCH_CONFIG_SERVICE,useClass:_core_shared_search_search_configuration_service__WEBPACK_IMPORTED_MODULE_1__.U}])],decls:1,vars:1,consts:[[3,"configuration","context","fixedFilterQuery","inPlaceSearch","linkType","searchFormPlaceholder","selectable","selectionConfig","showScopeSelector","showViewModes","resultFound","deselectObject","selectObject",4,"ngIf"],[3,"configuration","context","fixedFilterQuery","inPlaceSearch","linkType","searchFormPlaceholder","selectable","selectionConfig","showScopeSelector","showViewModes","resultFound","deselectObject","selectObject"],["additionalSearchOptions","","class","position-absolute",4,"ngIf"],["additionalSearchOptions","",1,"position-absolute"],[1,"input-group","mb-3"],[1,"input-group-prepend"],[1,"input-group-text"],["type","checkbox",3,"indeterminate","change",4,"ngIf"],["type","checkbox",3,"checked","change",4,"ngIf"],["ngbDropdown","",1,"input-group-append"],["type","button","class","btn btn-outline-secondary rounded-right",4,"ngIf"],["id","resultdropdown","type","button","ngbDropdownToggle","","data-toggle","dropdown","aria-haspopup","true","aria-expanded","false",1,"btn","btn-outline-secondary","dropdown-toggle-split",3,"hidden"],[1,"sr-only"],["ngbDropdownMenu","","aria-labelledby","resultdropdown",4,"ngVar"],["type","checkbox",3,"indeterminate","change"],["type","checkbox",3,"checked","change"],["type","button",1,"btn","btn-outline-secondary","rounded-right"],["role","status","aria-hidden","true",1,"spinner-border","spinner-border-sm"],["ngbDropdownMenu","","aria-labelledby","resultdropdown"],[1,"dropdown-item",3,"click"]],template:__name(function(rf,ctx){1&rf&&_angular_core__WEBPACK_IMPORTED_MODULE_15__.YNc(0,DsDynamicLookupRelationSearchTabComponent_ds_themed_search_0_Template,2,14,"ds-themed-search",0),2&rf&&_angular_core__WEBPACK_IMPORTED_MODULE_15__.Q6J("ngIf",ctx.relationship.searchConfiguration&&ctx.context)},"DsDynamicLookupRelationSearchTabComponent_Template"),directives:[_angular_common__WEBPACK_IMPORTED_MODULE_19__.O5,_search_themed_search_component__WEBPACK_IMPORTED_MODULE_13__.l,_ng_bootstrap_ng_bootstrap__WEBPACK_IMPORTED_MODULE_20__.jt,_ng_bootstrap_ng_bootstrap__WEBPACK_IMPORTED_MODULE_20__.iD,_utils_var_directive__WEBPACK_IMPORTED_MODULE_14__.g,_ng_bootstrap_ng_bootstrap__WEBPACK_IMPORTED_MODULE_20__.Vi],pipes:[_angular_common__WEBPACK_IMPORTED_MODULE_19__.Ov,_ngx_translate_core__WEBPACK_IMPORTED_MODULE_21__.X$],styles:[".position-absolute[_ngcontent-%COMP%]{right:var(--bs-spacer)}"]})},53006:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{O:()=>DsDynamicLookupRelationSelectionTabComponent});var _angular_core__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(5e3),_my_dspace_page_my_dspace_page_component__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(14292),_core_shared_search_search_configuration_service__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(36872),rxjs_operators__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(83292),_pagination_pagination_component_options_model__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(26638),_core_data_paginated_list_model__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(24789),_core_shared_page_info_model__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(62713),_remote_data_utils__WEBPACK_IMPORTED_MODULE_6__=(__webpack_require__(84935),__webpack_require__(58577)),_core_pagination_pagination_service__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(77467),_angular_router__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(74202),_page_size_selector_page_size_selector_component__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(82656),_angular_common__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__(69808),_object_collection_object_collection_component__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(70714),_ngx_translate_core__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__(42466);function DsDynamicLookupRelationSelectionTabComponent_div_7_Template(rf,ctx){1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_10__.TgZ(0,"div"),_angular_core__WEBPACK_IMPORTED_MODULE_10__._uU(1),_angular_core__WEBPACK_IMPORTED_MODULE_10__.ALo(2,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_10__.qZA()),2&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_10__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_10__.hij(" ",_angular_core__WEBPACK_IMPORTED_MODULE_10__.lcZ(2,1,"submission.sections.describe.relationship-lookup.selection-tab.no-selection")," "))}__name(DsDynamicLookupRelationSelectionTabComponent_div_7_Template,"DsDynamicLookupRelationSelectionTabComponent_div_7_Template");const _c0=__name(function(a0,a1){return{repeatable:a0,listId:a1}},"_c0");function DsDynamicLookupRelationSelectionTabComponent_div_9_Template(rf,ctx){if(1&rf){const _r3=_angular_core__WEBPACK_IMPORTED_MODULE_10__.EpF();_angular_core__WEBPACK_IMPORTED_MODULE_10__.TgZ(0,"div")(1,"h3"),_angular_core__WEBPACK_IMPORTED_MODULE_10__._uU(2),_angular_core__WEBPACK_IMPORTED_MODULE_10__.ALo(3,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_10__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_10__.TgZ(4,"ds-viewable-collection",4),_angular_core__WEBPACK_IMPORTED_MODULE_10__.NdJ("deselectObject",__name(function($event){return _angular_core__WEBPACK_IMPORTED_MODULE_10__.CHM(_r3),_angular_core__WEBPACK_IMPORTED_MODULE_10__.oxw().deselectObject.emit($event)},"DsDynamicLookupRelationSelectionTabComponent_div_9_Template_ds_viewable_collection_deselectObject_4_listener"))("selectObject",__name(function($event){return _angular_core__WEBPACK_IMPORTED_MODULE_10__.CHM(_r3),_angular_core__WEBPACK_IMPORTED_MODULE_10__.oxw().selectObject.emit($event)},"DsDynamicLookupRelationSelectionTabComponent_div_9_Template_ds_viewable_collection_selectObject_4_listener")),_angular_core__WEBPACK_IMPORTED_MODULE_10__.ALo(5,"async"),_angular_core__WEBPACK_IMPORTED_MODULE_10__.ALo(6,"async"),_angular_core__WEBPACK_IMPORTED_MODULE_10__.qZA()()}if(2&rf){const ctx_r1=_angular_core__WEBPACK_IMPORTED_MODULE_10__.oxw();_angular_core__WEBPACK_IMPORTED_MODULE_10__.xp6(2),_angular_core__WEBPACK_IMPORTED_MODULE_10__.Oqu(_angular_core__WEBPACK_IMPORTED_MODULE_10__.lcZ(3,7,"submission.sections.describe.relationship-lookup.selection-tab.title."+ctx_r1.relationshipType)),_angular_core__WEBPACK_IMPORTED_MODULE_10__.xp6(2),_angular_core__WEBPACK_IMPORTED_MODULE_10__.Q6J("objects",_angular_core__WEBPACK_IMPORTED_MODULE_10__.lcZ(5,9,ctx_r1.selectionRD$))("selectable",!0)("selectionConfig",_angular_core__WEBPACK_IMPORTED_MODULE_10__.WLB(13,_c0,ctx_r1.repeatable,ctx_r1.listId))("config",_angular_core__WEBPACK_IMPORTED_MODULE_10__.lcZ(6,11,ctx_r1.currentPagination$))("hideGear",!0)("context",ctx_r1.context)}}__name(DsDynamicLookupRelationSelectionTabComponent_div_9_Template,"DsDynamicLookupRelationSelectionTabComponent_div_9_Template");class DsDynamicLookupRelationSelectionTabComponent{constructor(router,searchConfigService,paginationService){this.router=router,this.searchConfigService=searchConfigService,this.paginationService=paginationService,this.deselectObject=new _angular_core__WEBPACK_IMPORTED_MODULE_10__.vpe,this.selectObject=new _angular_core__WEBPACK_IMPORTED_MODULE_10__.vpe,this.initialPagination=Object.assign(new _pagination_pagination_component_options_model__WEBPACK_IMPORTED_MODULE_2__.r,{id:"spc",pageSize:5})}ngOnInit(){this.resetRoute(),this.selectionRD$=this.searchConfigService.paginatedSearchOptions.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_11__.UI)(options=>options.pagination),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_11__.wt)(pagination=>this.selection$.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_11__.qn)(1),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_11__.UI)(selected=>{const offset=(pagination.currentPage-1)*pagination.pageSize,end=offset+pagination.pageSize>selected.length?selected.length:offset+pagination.pageSize,selection=selected.slice(offset,end),pageInfo=new _core_shared_page_info_model__WEBPACK_IMPORTED_MODULE_4__.S({elementsPerPage:pagination.pageSize,totalElements:selected.length,currentPage:pagination.currentPage,totalPages:Math.ceil(selected.length/pagination.pageSize)});return(0,_remote_data_utils__WEBPACK_IMPORTED_MODULE_6__.AC)((0,_core_data_paginated_list_model__WEBPACK_IMPORTED_MODULE_3__.b)(pageInfo,selection))})))),this.currentPagination$=this.paginationService.getCurrentPagination(this.searchConfigService.paginationID,this.initialPagination)}resetRoute(){this.paginationService.updateRoute(this.searchConfigService.paginationID,{page:1,pageSize:5})}}__name(DsDynamicLookupRelationSelectionTabComponent,"DsDynamicLookupRelationSelectionTabComponent"),DsDynamicLookupRelationSelectionTabComponent.\u0275fac=__name(function(t){return new(t||DsDynamicLookupRelationSelectionTabComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_10__.Y36(_angular_router__WEBPACK_IMPORTED_MODULE_12__.F0),_angular_core__WEBPACK_IMPORTED_MODULE_10__.Y36(_core_shared_search_search_configuration_service__WEBPACK_IMPORTED_MODULE_1__.U),_angular_core__WEBPACK_IMPORTED_MODULE_10__.Y36(_core_pagination_pagination_service__WEBPACK_IMPORTED_MODULE_7__.N))},"DsDynamicLookupRelationSelectionTabComponent_Factory"),DsDynamicLookupRelationSelectionTabComponent.\u0275cmp=_angular_core__WEBPACK_IMPORTED_MODULE_10__.Xpm({type:DsDynamicLookupRelationSelectionTabComponent,selectors:[["ds-dynamic-lookup-relation-selection-tab"]],inputs:{relationshipType:"relationshipType",listId:"listId",repeatable:"repeatable",selection$:"selection$",selectionRD$:"selectionRD$",context:"context"},outputs:{deselectObject:"deselectObject",selectObject:"selectObject"},features:[_angular_core__WEBPACK_IMPORTED_MODULE_10__._Bn([{provide:_my_dspace_page_my_dspace_page_component__WEBPACK_IMPORTED_MODULE_0__.SEARCH_CONFIG_SERVICE,useClass:_core_shared_search_search_configuration_service__WEBPACK_IMPORTED_MODULE_1__.U}])],decls:11,vars:9,consts:[[1,"row"],[1,"col-4"],[1,"col-8"],[4,"ngIf"],[3,"objects","selectable","selectionConfig","config","hideGear","context","deselectObject","selectObject"]],template:__name(function(rf,ctx){if(1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_10__.TgZ(0,"div",0)(1,"div",1)(2,"h3"),_angular_core__WEBPACK_IMPORTED_MODULE_10__._uU(3),_angular_core__WEBPACK_IMPORTED_MODULE_10__.ALo(4,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_10__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_10__._UZ(5,"ds-page-size-selector"),_angular_core__WEBPACK_IMPORTED_MODULE_10__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_10__.TgZ(6,"div",2),_angular_core__WEBPACK_IMPORTED_MODULE_10__.YNc(7,DsDynamicLookupRelationSelectionTabComponent_div_7_Template,3,3,"div",3),_angular_core__WEBPACK_IMPORTED_MODULE_10__.ALo(8,"async"),_angular_core__WEBPACK_IMPORTED_MODULE_10__.YNc(9,DsDynamicLookupRelationSelectionTabComponent_div_9_Template,7,16,"div",3),_angular_core__WEBPACK_IMPORTED_MODULE_10__.ALo(10,"async"),_angular_core__WEBPACK_IMPORTED_MODULE_10__.qZA()()),2&rf){let tmp_1_0,tmp_2_0;_angular_core__WEBPACK_IMPORTED_MODULE_10__.xp6(3),_angular_core__WEBPACK_IMPORTED_MODULE_10__.Oqu(_angular_core__WEBPACK_IMPORTED_MODULE_10__.lcZ(4,3,"submission.sections.describe.relationship-lookup.selection-tab.settings")),_angular_core__WEBPACK_IMPORTED_MODULE_10__.xp6(4),_angular_core__WEBPACK_IMPORTED_MODULE_10__.Q6J("ngIf",(null==(tmp_1_0=_angular_core__WEBPACK_IMPORTED_MODULE_10__.lcZ(8,5,ctx.selectionRD$))?null:tmp_1_0.payload.page)<1),_angular_core__WEBPACK_IMPORTED_MODULE_10__.xp6(2),_angular_core__WEBPACK_IMPORTED_MODULE_10__.Q6J("ngIf",(null==(tmp_2_0=_angular_core__WEBPACK_IMPORTED_MODULE_10__.lcZ(10,7,ctx.selectionRD$))?null:tmp_2_0.payload.page.length)>=1)}},"DsDynamicLookupRelationSelectionTabComponent_Template"),directives:[_page_size_selector_page_size_selector_component__WEBPACK_IMPORTED_MODULE_8__.k,_angular_common__WEBPACK_IMPORTED_MODULE_13__.O5,_object_collection_object_collection_component__WEBPACK_IMPORTED_MODULE_9__.c],pipes:[_ngx_translate_core__WEBPACK_IMPORTED_MODULE_14__.X$,_angular_common__WEBPACK_IMPORTED_MODULE_13__.Ov],styles:[""]})},63311:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{U:()=>FormComponent});var rxjs_operators__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(83292),_angular_core__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(5e3),lodash__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(17489),_builder_form_builder_service__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(71022),_empty_util__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(24702),_form_service__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(28858);function FormComponent_ng_template_3_div_0_Template(rf,ctx){if(1&rf){const _r11=_angular_core__WEBPACK_IMPORTED_MODULE_3__.EpF();_angular_core__WEBPACK_IMPORTED_MODULE_3__.TgZ(0,"div",7)(1,"button",8),_angular_core__WEBPACK_IMPORTED_MODULE_3__.NdJ("click",__name(function($event){_angular_core__WEBPACK_IMPORTED_MODULE_3__.CHM(_r11);const ctx_r10=_angular_core__WEBPACK_IMPORTED_MODULE_3__.oxw(),context_r5=ctx_r10.context,index_r4=ctx_r10.index;return _angular_core__WEBPACK_IMPORTED_MODULE_3__.oxw().removeItem($event,context_r5,index_r4)},"FormComponent_ng_template_3_div_0_Template_button_click_1_listener")),_angular_core__WEBPACK_IMPORTED_MODULE_3__.ALo(2,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_3__.ALo(3,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_3__.TgZ(4,"span"),_angular_core__WEBPACK_IMPORTED_MODULE_3__._UZ(5,"i",9),_angular_core__WEBPACK_IMPORTED_MODULE_3__.qZA()()()}if(2&rf){const ctx_r12=_angular_core__WEBPACK_IMPORTED_MODULE_3__.oxw(),group_r3=ctx_r12.$implicit,context_r5=ctx_r12.context,index_r4=ctx_r12.index,ctx_r6=_angular_core__WEBPACK_IMPORTED_MODULE_3__.oxw();_angular_core__WEBPACK_IMPORTED_MODULE_3__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_3__.s9C("title",_angular_core__WEBPACK_IMPORTED_MODULE_3__.lcZ(2,3,"form.remove")),_angular_core__WEBPACK_IMPORTED_MODULE_3__.Q6J("disabled",1===group_r3.context.groups.length||ctx_r6.isItemReadOnly(context_r5,index_r4)),_angular_core__WEBPACK_IMPORTED_MODULE_3__.uIk("aria-label",_angular_core__WEBPACK_IMPORTED_MODULE_3__.lcZ(3,5,"form.remove"))}}function FormComponent_ng_template_3_div_1_Template(rf,ctx){if(1&rf){const _r15=_angular_core__WEBPACK_IMPORTED_MODULE_3__.EpF();_angular_core__WEBPACK_IMPORTED_MODULE_3__.TgZ(0,"div",10)(1,"div",11)(2,"button",12),_angular_core__WEBPACK_IMPORTED_MODULE_3__.NdJ("click",__name(function($event){_angular_core__WEBPACK_IMPORTED_MODULE_3__.CHM(_r15);const group_r3=_angular_core__WEBPACK_IMPORTED_MODULE_3__.oxw().$implicit;return _angular_core__WEBPACK_IMPORTED_MODULE_3__.oxw().insertItem($event,group_r3.context,group_r3.context.groups.length)},"FormComponent_ng_template_3_div_1_Template_button_click_2_listener")),_angular_core__WEBPACK_IMPORTED_MODULE_3__.ALo(3,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_3__.ALo(4,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_3__.TgZ(5,"span"),_angular_core__WEBPACK_IMPORTED_MODULE_3__._UZ(6,"i",13),_angular_core__WEBPACK_IMPORTED_MODULE_3__._uU(7),_angular_core__WEBPACK_IMPORTED_MODULE_3__.ALo(8,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_3__.qZA()()()()}if(2&rf){const ctx_r16=_angular_core__WEBPACK_IMPORTED_MODULE_3__.oxw(),context_r5=ctx_r16.context,index_r4=ctx_r16.index,ctx_r7=_angular_core__WEBPACK_IMPORTED_MODULE_3__.oxw();_angular_core__WEBPACK_IMPORTED_MODULE_3__.xp6(2),_angular_core__WEBPACK_IMPORTED_MODULE_3__.s9C("title",_angular_core__WEBPACK_IMPORTED_MODULE_3__.lcZ(3,4,"form.add")),_angular_core__WEBPACK_IMPORTED_MODULE_3__.Q6J("disabled",ctx_r7.isItemReadOnly(context_r5,index_r4)),_angular_core__WEBPACK_IMPORTED_MODULE_3__.uIk("aria-label",_angular_core__WEBPACK_IMPORTED_MODULE_3__.lcZ(4,6,"form.add")),_angular_core__WEBPACK_IMPORTED_MODULE_3__.xp6(5),_angular_core__WEBPACK_IMPORTED_MODULE_3__.hij(" ",_angular_core__WEBPACK_IMPORTED_MODULE_3__.lcZ(8,8,"form.add"),"")}}function FormComponent_ng_template_3_div_2_Template(rf,ctx){if(1&rf){const _r19=_angular_core__WEBPACK_IMPORTED_MODULE_3__.EpF();_angular_core__WEBPACK_IMPORTED_MODULE_3__.TgZ(0,"div",7)(1,"div",14)(2,"button",15),_angular_core__WEBPACK_IMPORTED_MODULE_3__.NdJ("click",__name(function($event){_angular_core__WEBPACK_IMPORTED_MODULE_3__.CHM(_r19);const ctx_r18=_angular_core__WEBPACK_IMPORTED_MODULE_3__.oxw(),context_r5=ctx_r18.context,index_r4=ctx_r18.index;return _angular_core__WEBPACK_IMPORTED_MODULE_3__.oxw().removeItem($event,context_r5,index_r4)},"FormComponent_ng_template_3_div_2_Template_button_click_2_listener")),_angular_core__WEBPACK_IMPORTED_MODULE_3__.ALo(3,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_3__.ALo(4,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_3__.TgZ(5,"span"),_angular_core__WEBPACK_IMPORTED_MODULE_3__._uU(6),_angular_core__WEBPACK_IMPORTED_MODULE_3__.ALo(7,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_3__.qZA()()()()}if(2&rf){const ctx_r20=_angular_core__WEBPACK_IMPORTED_MODULE_3__.oxw(),group_r3=ctx_r20.$implicit,context_r5=ctx_r20.context,index_r4=ctx_r20.index,ctx_r8=_angular_core__WEBPACK_IMPORTED_MODULE_3__.oxw();_angular_core__WEBPACK_IMPORTED_MODULE_3__.xp6(2),_angular_core__WEBPACK_IMPORTED_MODULE_3__.s9C("title",_angular_core__WEBPACK_IMPORTED_MODULE_3__.lcZ(3,4,"form.discard")),_angular_core__WEBPACK_IMPORTED_MODULE_3__.Q6J("disabled",1===group_r3.context.groups.length||ctx_r8.isItemReadOnly(context_r5,index_r4)),_angular_core__WEBPACK_IMPORTED_MODULE_3__.uIk("aria-label",_angular_core__WEBPACK_IMPORTED_MODULE_3__.lcZ(4,6,"form.discard")),_angular_core__WEBPACK_IMPORTED_MODULE_3__.xp6(4),_angular_core__WEBPACK_IMPORTED_MODULE_3__.Oqu(_angular_core__WEBPACK_IMPORTED_MODULE_3__.lcZ(7,8,"form.discard"))}}function FormComponent_ng_template_3_Template(rf,ctx){if(1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_3__.YNc(0,FormComponent_ng_template_3_div_0_Template,6,7,"div",5),_angular_core__WEBPACK_IMPORTED_MODULE_3__.YNc(1,FormComponent_ng_template_3_div_1_Template,9,10,"div",6),_angular_core__WEBPACK_IMPORTED_MODULE_3__.YNc(2,FormComponent_ng_template_3_div_2_Template,8,10,"div",5)),2&rf){const group_r3=ctx.$implicit,index_r4=ctx.index,context_r5=ctx.context,ctx_r0=_angular_core__WEBPACK_IMPORTED_MODULE_3__.oxw();_angular_core__WEBPACK_IMPORTED_MODULE_3__.Q6J("ngIf",!context_r5.notRepeatable&&!ctx_r0.isVirtual(context_r5,index_r4)),_angular_core__WEBPACK_IMPORTED_MODULE_3__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_3__.Q6J("ngIf",!context_r5.notRepeatable&&index_r4===group_r3.context.groups.length-1),_angular_core__WEBPACK_IMPORTED_MODULE_3__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_3__.Q6J("ngIf",context_r5.notRepeatable&&context_r5.showButtons&&group_r3.context.groups.length>1)}}function FormComponent_ng_content_5_Template(rf,ctx){1&rf&&_angular_core__WEBPACK_IMPORTED_MODULE_3__.Hsn(0,1,["*ngIf","!displaySubmit && !displayCancel"])}function FormComponent_div_6_button_5_Template(rf,ctx){if(1&rf){const _r24=_angular_core__WEBPACK_IMPORTED_MODULE_3__.EpF();_angular_core__WEBPACK_IMPORTED_MODULE_3__.TgZ(0,"button",20),_angular_core__WEBPACK_IMPORTED_MODULE_3__.NdJ("click",__name(function(){return _angular_core__WEBPACK_IMPORTED_MODULE_3__.CHM(_r24),_angular_core__WEBPACK_IMPORTED_MODULE_3__.oxw(2).reset()},"FormComponent_div_6_button_5_Template_button_click_0_listener")),_angular_core__WEBPACK_IMPORTED_MODULE_3__._UZ(1,"i",21),_angular_core__WEBPACK_IMPORTED_MODULE_3__._uU(2),_angular_core__WEBPACK_IMPORTED_MODULE_3__.ALo(3,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_3__.qZA()}if(2&rf){const ctx_r21=_angular_core__WEBPACK_IMPORTED_MODULE_3__.oxw(2);_angular_core__WEBPACK_IMPORTED_MODULE_3__.xp6(2),_angular_core__WEBPACK_IMPORTED_MODULE_3__.hij(" ",_angular_core__WEBPACK_IMPORTED_MODULE_3__.lcZ(3,1,ctx_r21.cancelLabel)," ")}}function FormComponent_div_6_button_7_Template(rf,ctx){if(1&rf){const _r26=_angular_core__WEBPACK_IMPORTED_MODULE_3__.EpF();_angular_core__WEBPACK_IMPORTED_MODULE_3__.TgZ(0,"button",22),_angular_core__WEBPACK_IMPORTED_MODULE_3__.NdJ("click",__name(function(){return _angular_core__WEBPACK_IMPORTED_MODULE_3__.CHM(_r26),_angular_core__WEBPACK_IMPORTED_MODULE_3__.oxw(2).onSubmit()},"FormComponent_div_6_button_7_Template_button_click_0_listener")),_angular_core__WEBPACK_IMPORTED_MODULE_3__.ALo(1,"async"),_angular_core__WEBPACK_IMPORTED_MODULE_3__._UZ(2,"i",23),_angular_core__WEBPACK_IMPORTED_MODULE_3__._uU(3),_angular_core__WEBPACK_IMPORTED_MODULE_3__.ALo(4,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_3__.qZA()}if(2&rf){const ctx_r22=_angular_core__WEBPACK_IMPORTED_MODULE_3__.oxw(2);_angular_core__WEBPACK_IMPORTED_MODULE_3__.Q6J("disabled",!_angular_core__WEBPACK_IMPORTED_MODULE_3__.lcZ(1,2,ctx_r22.isValid())),_angular_core__WEBPACK_IMPORTED_MODULE_3__.xp6(3),_angular_core__WEBPACK_IMPORTED_MODULE_3__.hij(" ",_angular_core__WEBPACK_IMPORTED_MODULE_3__.lcZ(4,4,ctx_r22.submitLabel)," ")}}function FormComponent_div_6_Template(rf,ctx){if(1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_3__.TgZ(0,"div"),_angular_core__WEBPACK_IMPORTED_MODULE_3__._UZ(1,"hr"),_angular_core__WEBPACK_IMPORTED_MODULE_3__.TgZ(2,"div",16)(3,"div",17),_angular_core__WEBPACK_IMPORTED_MODULE_3__.Hsn(4,2),_angular_core__WEBPACK_IMPORTED_MODULE_3__.YNc(5,FormComponent_div_6_button_5_Template,4,3,"button",18),_angular_core__WEBPACK_IMPORTED_MODULE_3__.Hsn(6,3),_angular_core__WEBPACK_IMPORTED_MODULE_3__.YNc(7,FormComponent_div_6_button_7_Template,5,6,"button",19),_angular_core__WEBPACK_IMPORTED_MODULE_3__.Hsn(8,4),_angular_core__WEBPACK_IMPORTED_MODULE_3__.qZA()()()),2&rf){const ctx_r2=_angular_core__WEBPACK_IMPORTED_MODULE_3__.oxw();_angular_core__WEBPACK_IMPORTED_MODULE_3__.xp6(5),_angular_core__WEBPACK_IMPORTED_MODULE_3__.Q6J("ngIf",ctx_r2.displayCancel),_angular_core__WEBPACK_IMPORTED_MODULE_3__.xp6(2),_angular_core__WEBPACK_IMPORTED_MODULE_3__.Q6J("ngIf",ctx_r2.displaySubmit)}}__name(FormComponent_ng_template_3_div_0_Template,"FormComponent_ng_template_3_div_0_Template"),__name(FormComponent_ng_template_3_div_1_Template,"FormComponent_ng_template_3_div_1_Template"),__name(FormComponent_ng_template_3_div_2_Template,"FormComponent_ng_template_3_div_2_Template"),__name(FormComponent_ng_template_3_Template,"FormComponent_ng_template_3_Template"),__name(FormComponent_ng_content_5_Template,"FormComponent_ng_content_5_Template"),__name(FormComponent_div_6_button_5_Template,"FormComponent_div_6_button_5_Template"),__name(FormComponent_div_6_button_7_Template,"FormComponent_div_6_button_7_Template"),__name(FormComponent_div_6_Template,"FormComponent_div_6_Template");const _c0=[[["","additional",""]],"*",[["","before",""]],[["","between",""]],[["","after",""]]];class FormComponent{constructor(formService,changeDetectorRef,formBuilderService){this.formService=formService,this.changeDetectorRef=changeDetectorRef,this.formBuilderService=formBuilderService,this.formErrors=[],this.displaySubmit=!0,this.displayCancel=!0,this.emitChange=!0,this.submitLabel="form.submit",this.cancelLabel="form.cancel",this.formLayout=null,this.blur=new _angular_core__WEBPACK_IMPORTED_MODULE_3__.vpe,this.change=new _angular_core__WEBPACK_IMPORTED_MODULE_3__.vpe,this.focus=new _angular_core__WEBPACK_IMPORTED_MODULE_3__.vpe,this.customEvent=new _angular_core__WEBPACK_IMPORTED_MODULE_3__.vpe,this.addArrayItem=new _angular_core__WEBPACK_IMPORTED_MODULE_3__.vpe,this.removeArrayItem=new _angular_core__WEBPACK_IMPORTED_MODULE_3__.vpe,this.cancel=new _angular_core__WEBPACK_IMPORTED_MODULE_3__.vpe,this.submitForm=new _angular_core__WEBPACK_IMPORTED_MODULE_3__.vpe,this.subs=[]}getFormGroup(){return this.parentFormModel?this.formGroup.parent:this.formGroup}getFormGroupValue(){return this.getFormGroup().value}getFormGroupValidStatus(){return this.getFormGroup().valid}ngOnInit(){this.formGroup?this.formModel.forEach(model=>{this.parentFormModel&&this.formBuilderService.addFormGroupControl(this.formGroup,this.parentFormModel,model)}):this.formGroup=this.formBuilderService.createFormGroup(this.formModel),this.formService.initForm(this.formId,this.formModel,this.getFormGroupValidStatus()),this.formValid=this.getFormGroupValidStatus(),this.subs.push(this.formGroup.statusChanges.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_4__.hX)(()=>this.formValid!==this.getFormGroupValidStatus())).subscribe(()=>{this.formService.setStatusChanged(this.formId,this.getFormGroupValidStatus()),this.formValid=this.getFormGroupValidStatus()})),this.subs.push(this.formService.getForm(this.formId).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_4__.hX)(formState=>!!formState&&((0,_empty_util__WEBPACK_IMPORTED_MODULE_5__.UE)(formState.errors)||(0,_empty_util__WEBPACK_IMPORTED_MODULE_5__.UE)(this.formErrors))),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_4__.UI)(formState=>formState.errors),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_4__.xb)()).subscribe(errors=>{const{formGroup,formModel}=this;errors.filter(error=>-1===(0,lodash__WEBPACK_IMPORTED_MODULE_0__.findIndex)(this.formErrors,{fieldId:error.fieldId,fieldIndex:error.fieldIndex})).forEach(error=>{const{fieldId}=error,{fieldIndex}=error;let field;if(field=this.parentFormModel?this.formBuilderService.getFormControlById(fieldId,formGroup.parent,formModel,fieldIndex):this.formBuilderService.getFormControlById(fieldId,formGroup,formModel,fieldIndex),field){const model=this.formBuilderService.findById(fieldId,formModel);this.formService.addErrorToField(field,model,error.message),this.changeDetectorRef.detectChanges()}}),this.formErrors.filter(error=>-1===(0,lodash__WEBPACK_IMPORTED_MODULE_0__.findIndex)(errors,{fieldId:error.fieldId,fieldIndex:error.fieldIndex})).forEach(error=>{const{fieldId}=error,{fieldIndex}=error;let field;if(field=this.parentFormModel?this.formBuilderService.getFormControlById(fieldId,formGroup.parent,formModel,fieldIndex):this.formBuilderService.getFormControlById(fieldId,formGroup,formModel,fieldIndex),field){const model=this.formBuilderService.findById(fieldId,formModel);this.formService.removeErrorFromField(field,model,error.message)}}),this.formErrors=errors,this.changeDetectorRef.detectChanges()}))}ngOnDestroy(){this.subs.filter(sub=>(0,_empty_util__WEBPACK_IMPORTED_MODULE_5__.Uh)(sub)).forEach(sub=>sub.unsubscribe()),this.formService.removeForm(this.formId)}isValid(){return this.formService.isValid(this.formId)}keepSync(){this.subs.push(this.formService.getFormData(this.formId).subscribe(stateFormData=>{!Object.is(stateFormData,this.formGroup.value)&&this.formGroup&&this.formGroup.setValue(stateFormData)}))}onBlur(event2){this.blur.emit(event2);const control=event2.control,fieldIndex=event2.context&&event2.context.index?event2.context.index:0;control.valid?this.formService.removeError(this.formId,event2.model.name,fieldIndex):this.formService.addControlErrors(control,this.formId,event2.model.name,fieldIndex)}onCustomEvent(event2){this.customEvent.emit(event2)}onFocus(event2){this.formService.setTouched(this.formId,this.formModel,event2),this.focus.emit(event2)}onChange(event2){this.formService.changeForm(this.formId,this.formModel),this.formGroup.markAsPristine(),this.emitChange&&this.change.emit(event2);const control=event2.control,fieldIndex=event2.context&&event2.context.index?event2.context.index:0;control.valid&&this.formService.removeError(this.formId,event2.model.id,fieldIndex)}onSubmit(){this.getFormGroupValidStatus()?this.submitForm.emit(this.formService.getFormData(this.formId)):this.formService.validateAllFormFields(this.formGroup)}reset(){this.formGroup.reset(),this.cancel.emit()}isItemReadOnly(arrayContext,index){return arrayContext.groups[index].group[0].readOnly}removeItem($event,arrayContext,index){const formArrayControl=this.formGroup.get(this.formBuilderService.getPath(arrayContext)),event2=this.getEvent($event,arrayContext,index,"remove");this.formBuilderService.isQualdropGroup(event2.model)&&this.removeArrayItem.emit(event2),this.formBuilderService.removeFormArrayGroup(index,formArrayControl,arrayContext),this.formService.changeForm(this.formId,this.formModel),this.formBuilderService.isQualdropGroup(event2.model)||this.removeArrayItem.emit(event2)}insertItem($event,arrayContext,index){const formArrayControl=this.formGroup.get(this.formBuilderService.getPath(arrayContext));this.formBuilderService.insertFormArrayGroup(index,formArrayControl,arrayContext),this.addArrayItem.emit(this.getEvent($event,arrayContext,index,"add")),this.formService.changeForm(this.formId,this.formModel)}isVirtual(arrayContext,index){const value=arrayContext.groups[index].group[0].metadataValue;return(0,_empty_util__WEBPACK_IMPORTED_MODULE_5__.UE)(value)&&value.isVirtual}getEvent($event,arrayContext,index,type){const context=arrayContext.groups[index],itemGroupModel=context.context;let group=this.formGroup.get(itemGroupModel.id);if((0,_empty_util__WEBPACK_IMPORTED_MODULE_5__.Ft)(group))for(const key of Object.keys(this.formGroup.controls))if(group=this.formGroup.controls[key].get(itemGroupModel.id),(0,_empty_util__WEBPACK_IMPORTED_MODULE_5__.K0)(group))break;const model=context.group[0];return{$event,context,control:group.controls[index],group,model,type}}}__name(FormComponent,"FormComponent"),FormComponent.\u0275fac=__name(function(t){return new(t||FormComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_3__.Y36(_form_service__WEBPACK_IMPORTED_MODULE_2__.o),_angular_core__WEBPACK_IMPORTED_MODULE_3__.Y36(_angular_core__WEBPACK_IMPORTED_MODULE_3__.sBO),_angular_core__WEBPACK_IMPORTED_MODULE_3__.Y36(_builder_form_builder_service__WEBPACK_IMPORTED_MODULE_1__.c))},"FormComponent_Factory"),FormComponent.\u0275cmp=_angular_core__WEBPACK_IMPORTED_MODULE_3__.Xpm({type:FormComponent,selectors:[["ds-form"]],inputs:{displaySubmit:"displaySubmit",displayCancel:"displayCancel",emitChange:"emitChange",formId:"formId",submitLabel:"submitLabel",cancelLabel:"cancelLabel",formModel:"formModel",parentFormModel:"parentFormModel",formGroup:"formGroup",formLayout:"formLayout"},outputs:{blur:"dfBlur",change:"dfChange",focus:"dfFocus",customEvent:"ngbEvent",addArrayItem:"addArrayItem",removeArrayItem:"removeArrayItem",cancel:"cancel",submitForm:"submitForm"},exportAs:["formComponent"],ngContentSelectors:["[additional]","*","[before]","[between]","[after]"],decls:7,vars:7,consts:[[1,"container-fluid"],[1,"form-horizontal",3,"formGroup"],[3,"formId","formGroup","formModel","formLayout","change","dfBlur","dfChange","dfFocus","ngbEvent"],["modelType","ARRAY"],[4,"ngIf"],["class","col-xs-2 d-flex flex-column justify-content-sm-start align-items-end",4,"ngIf"],["class","clearfix pl-4 w-100",4,"ngIf"],[1,"col-xs-2","d-flex","flex-column","justify-content-sm-start","align-items-end"],["type","button","role","button",1,"btn","btn-secondary",3,"title","disabled","click"],["aria-hidden","true",1,"fas","fa-trash"],[1,"clearfix","pl-4","w-100"],["role","group",1,"btn-group"],["type","button","role","button",1,"ds-form-add-more","btn","btn-link",3,"title","disabled","click"],[1,"fas","fa-plus"],["role","button",1,"btn-group"],["type","button",1,"btn","btn-secondary",3,"title","disabled","click"],[1,"form-group","row"],[1,"col","text-right","space-children-mr"],["type","reset","class","btn btn-outline-secondary",3,"click",4,"ngIf"],["type","submit","class","btn btn-primary",3,"disabled","click",4,"ngIf"],["type","reset",1,"btn","btn-outline-secondary",3,"click"],[1,"fa","fa-times"],["type","submit",1,"btn","btn-primary",3,"disabled","click"],[1,"fas","fa-save"]],template:__name(function(rf,ctx){1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_3__.F$t(_c0),_angular_core__WEBPACK_IMPORTED_MODULE_3__.TgZ(0,"div",0)(1,"form",1)(2,"ds-dynamic-form",2),_angular_core__WEBPACK_IMPORTED_MODULE_3__.NdJ("change",__name(function($event){return $event.stopPropagation()},"FormComponent_Template_ds_dynamic_form_change_2_listener"))("dfBlur",__name(function($event){return ctx.onBlur($event)},"FormComponent_Template_ds_dynamic_form_dfBlur_2_listener"))("dfChange",__name(function($event){return ctx.onChange($event)},"FormComponent_Template_ds_dynamic_form_dfChange_2_listener"))("dfFocus",__name(function($event){return ctx.onFocus($event)},"FormComponent_Template_ds_dynamic_form_dfFocus_2_listener"))("ngbEvent",__name(function($event){return ctx.onCustomEvent($event)},"FormComponent_Template_ds_dynamic_form_ngbEvent_2_listener")),_angular_core__WEBPACK_IMPORTED_MODULE_3__.YNc(3,FormComponent_ng_template_3_Template,3,3,"ng-template",3),_angular_core__WEBPACK_IMPORTED_MODULE_3__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_3__.Hsn(4),_angular_core__WEBPACK_IMPORTED_MODULE_3__.YNc(5,FormComponent_ng_content_5_Template,1,0,"ng-content",4),_angular_core__WEBPACK_IMPORTED_MODULE_3__.YNc(6,FormComponent_div_6_Template,9,2,"div",4),_angular_core__WEBPACK_IMPORTED_MODULE_3__.qZA()()),2&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_3__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_3__.Q6J("formGroup",ctx.formGroup),_angular_core__WEBPACK_IMPORTED_MODULE_3__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_3__.Q6J("formId",ctx.formId)("formGroup",ctx.formGroup)("formModel",ctx.formModel)("formLayout",ctx.formLayout),_angular_core__WEBPACK_IMPORTED_MODULE_3__.xp6(3),_angular_core__WEBPACK_IMPORTED_MODULE_3__.Q6J("ngIf",!ctx.displaySubmit&&!ctx.displayCancel),_angular_core__WEBPACK_IMPORTED_MODULE_3__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_3__.Q6J("ngIf",ctx.displaySubmit||ctx.displayCancel))},"FormComponent_Template"),styles:[".ds-form-input-addon[_ngcontent-%COMP%]{border-top-right-radius:0!important;border-bottom-right-radius:0!important;border-right:0!important}.ds-form-input-btn[_ngcontent-%COMP%]{border:var(--bs-input-btn-border-width) solid var(--bs-input-border-color);border-top-left-radius:0;border-bottom-left-radius:0;border-left:0}.ds-form-input-btn[_ngcontent-%COMP%]:focus{box-shadow:none!important}button.ds-form-add-more[_ngcontent-%COMP%]:focus{outline:none;box-shadow:none!important}.ds-form-input-value[_ngcontent-%COMP%]{border-top-left-radius:0!important;border-bottom-left-radius:0!important}.fa-spin[_ngcontent-%COMP%]{pointer-events:none}.left-addon[_ngcontent-%COMP%]   .far[_ngcontent-%COMP%], .left-addon[_ngcontent-%COMP%]   .fas[_ngcontent-%COMP%], .left-addon[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{left:0}.right-addon[_ngcontent-%COMP%]   .far[_ngcontent-%COMP%], .right-addon[_ngcontent-%COMP%]   .fas[_ngcontent-%COMP%], .right-addon[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{right:0}.left-addon[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{padding-left:calc(var(--bs-spacer) * 2.25)}.right-addon[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{padding-right:calc(var(--bs-spacer) * 2.25)}"]})},10194:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{e:()=>FormModule});var common=__webpack_require__(69808),form_component=__webpack_require__(63311),core=__webpack_require__(5e3),fesm2015_core=__webpack_require__(87098),ds_dynamic_form_control_container_component=__webpack_require__(66212);function DsDynamicFormComponent_ds_dynamic_form_control_container_0_Template(rf,ctx){if(1&rf){const _r3=core.EpF();core.TgZ(0,"ds-dynamic-form-control-container",1),core.NdJ("dfBlur",__name(function($event){core.CHM(_r3);const ctx_r2=core.oxw();return ctx_r2.onCustomEvent($event,ctx_r2.blur)},"DsDynamicFormComponent_ds_dynamic_form_control_container_0_Template_ds_dynamic_form_control_container_dfBlur_0_listener"))("dfChange",__name(function($event){core.CHM(_r3);const ctx_r4=core.oxw();return ctx_r4.onCustomEvent($event,ctx_r4.change)},"DsDynamicFormComponent_ds_dynamic_form_control_container_0_Template_ds_dynamic_form_control_container_dfChange_0_listener"))("dfFocus",__name(function($event){core.CHM(_r3);const ctx_r5=core.oxw();return ctx_r5.onCustomEvent($event,ctx_r5.focus)},"DsDynamicFormComponent_ds_dynamic_form_control_container_0_Template_ds_dynamic_form_control_container_dfFocus_0_listener"))("ngbEvent",__name(function($event){core.CHM(_r3);const ctx_r6=core.oxw();return ctx_r6.onCustomEvent($event,ctx_r6.ngbEvent)},"DsDynamicFormComponent_ds_dynamic_form_control_container_0_Template_ds_dynamic_form_control_container_ngbEvent_0_listener")),core.qZA()}if(2&rf){const model_r1=ctx.$implicit,ctx_r0=core.oxw();core.ekj("d-none",model_r1.hidden),core.Q6J("formId",ctx_r0.formId)("group",ctx_r0.formGroup)("hasErrorMessaging",model_r1.hasErrorMessages)("hidden",model_r1.hidden)("layout",ctx_r0.formLayout)("model",model_r1)("templates",ctx_r0.templates)("asBootstrapFormGroup",!0)}}__name(DsDynamicFormComponent_ds_dynamic_form_control_container_0_Template,"DsDynamicFormComponent_ds_dynamic_form_control_container_0_Template");class DsDynamicFormComponent extends fesm2015_core.rmD{constructor(changeDetectorRef,componentService){super(changeDetectorRef,componentService),this.blur=new core.vpe,this.change=new core.vpe,this.focus=new core.vpe,this.ngbEvent=new core.vpe}}__name(DsDynamicFormComponent,"DsDynamicFormComponent"),DsDynamicFormComponent.\u0275fac=__name(function(t){return new(t||DsDynamicFormComponent)(core.Y36(core.sBO),core.Y36(fesm2015_core.rJA))},"DsDynamicFormComponent_Factory"),DsDynamicFormComponent.\u0275cmp=core.Xpm({type:DsDynamicFormComponent,selectors:[["ds-dynamic-form"]],contentQueries:__name(function(rf,ctx,dirIndex){if(1&rf&&core.Suo(dirIndex,fesm2015_core.ATj,4),2&rf){let _t;core.iGM(_t=core.CRH())&&(ctx.templates=_t)}},"DsDynamicFormComponent_ContentQueries"),viewQuery:__name(function(rf,ctx){if(1&rf&&core.Gf(ds_dynamic_form_control_container_component.B,5),2&rf){let _t;core.iGM(_t=core.CRH())&&(ctx.components=_t)}},"DsDynamicFormComponent_Query"),inputs:{formId:"formId",formGroup:"formGroup",formModel:"formModel",formLayout:"formLayout"},outputs:{blur:"dfBlur",change:"dfChange",focus:"dfFocus",ngbEvent:"ngbEvent"},features:[core.qOj],decls:1,vars:2,consts:[[3,"formId","group","hasErrorMessaging","hidden","d-none","layout","model","templates","asBootstrapFormGroup","dfBlur","dfChange","dfFocus","ngbEvent",4,"ngFor","ngForOf","ngForTrackBy"],[3,"formId","group","hasErrorMessaging","hidden","layout","model","templates","asBootstrapFormGroup","dfBlur","dfChange","dfFocus","ngbEvent"]],template:__name(function(rf,ctx){1&rf&&core.YNc(0,DsDynamicFormComponent_ds_dynamic_form_control_container_0_Template,1,10,"ds-dynamic-form-control-container",0),2&rf&&core.Q6J("ngForOf",ctx.formModel)("ngForTrackBy",ctx.trackByFn)},"DsDynamicFormComponent_Template"),directives:[common.sg,ds_dynamic_form_control_container_component.B],encapsulation:2});var dynamic_list_component=__webpack_require__(88766),dynamic_lookup_component=__webpack_require__(21650),dynamic_disabled_component=__webpack_require__(8671),dynamic_lookup_relation_modal_component=__webpack_require__(55648),dynamic_scrollable_dropdown_component=__webpack_require__(42803),dynamic_tag_component=__webpack_require__(28554),dynamic_onebox_component=__webpack_require__(86471),dynamic_relation_group_components=__webpack_require__(22280),date_picker_component=__webpack_require__(74043),dynamic_form_group_component=__webpack_require__(66319),dynamic_form_array_component=__webpack_require__(79001),dynamic_date_picker_inline_component=__webpack_require__(19869),dynamic_lookup_relation_search_tab_component=__webpack_require__(64204),dynamic_lookup_relation_selection_tab_component=__webpack_require__(53006),dynamic_lookup_relation_external_source_tab_component=__webpack_require__(32272),shared_module=__webpack_require__(57981),ngx_translate_core=__webpack_require__(42466),search_module=__webpack_require__(57262),existing_metadata_list_element_component=__webpack_require__(93571),existing_relation_list_element_component=__webpack_require__(77410),external_source_entry_import_modal_component=__webpack_require__(29635),custom_switch_component=__webpack_require__(13457),ui_ng_bootstrap=__webpack_require__(65806),fesm2015_forms=__webpack_require__(93075),drag_drop=__webpack_require__(72903);custom_switch_component._,ds_dynamic_form_control_container_component.B,dynamic_list_component.d,dynamic_lookup_component.G,dynamic_lookup_relation_search_tab_component.s,dynamic_lookup_relation_selection_tab_component.O,dynamic_lookup_relation_external_source_tab_component.g,dynamic_disabled_component.x,dynamic_lookup_relation_modal_component.i,dynamic_scrollable_dropdown_component.D,dynamic_tag_component.V,dynamic_onebox_component.r,dynamic_relation_group_components.H,date_picker_component.H,dynamic_form_group_component.i,dynamic_form_array_component.s,dynamic_date_picker_inline_component.u,existing_metadata_list_element_component.fP,existing_relation_list_element_component.t,external_source_entry_import_modal_component.D,form_component.U;class FormModule{}__name(FormModule,"FormModule"),FormModule.\u0275fac=__name(function(t){return new(t||FormModule)},"FormModule_Factory"),FormModule.\u0275mod=core.oAB({type:FormModule}),FormModule.\u0275inj=core.cJS({providers:[{provide:fesm2015_core.y8$,useValue:ds_dynamic_form_control_container_component._}],imports:[[common.ez,fesm2015_core.H9g,ui_ng_bootstrap.zj,search_module.t,shared_module.m,ngx_translate_core.aw]]}),core.B6R(dynamic_form_group_component.i,[fesm2015_forms.JL,fesm2015_forms.sg,fesm2015_forms.x0,common.mk,common.sg,ds_dynamic_form_control_container_component.B],[]),core.B6R(dynamic_form_array_component.s,[fesm2015_forms.JL,fesm2015_forms.sg,fesm2015_forms.CE,common.mk,drag_drop.Wj,common.sg,drag_drop.Zt,drag_drop.Bh,fesm2015_forms.x0,common.tP,ds_dynamic_form_control_container_component.B],[]),core.B6R(form_component.U,[fesm2015_forms._Y,fesm2015_forms.JL,fesm2015_forms.sg,DsDynamicFormComponent,fesm2015_core.ATj,common.O5],[ngx_translate_core.X$,common.Ov])},2951:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{s:()=>WorkflowItemSearchResult});var tslib__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(70655),_core_submission_models_workflowitem_model__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(61200),_search_models_search_result_model__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(2764),_search_search_result_element_decorator__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(50678);let WorkflowItemSearchResult=__name(class extends _search_models_search_result_model__WEBPACK_IMPORTED_MODULE_1__.l{},"WorkflowItemSearchResult");WorkflowItemSearchResult=(0,tslib__WEBPACK_IMPORTED_MODULE_3__.gn)([(0,_search_search_result_element_decorator__WEBPACK_IMPORTED_MODULE_2__.D)(_core_submission_models_workflowitem_model__WEBPACK_IMPORTED_MODULE_0__.p)],WorkflowItemSearchResult)},91320:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{L:()=>SubmissionImportExternalCollectionComponent});var _angular_core__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(5e3),_ng_bootstrap_ng_bootstrap__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(13707),_angular_common__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(69808),_shared_loading_themed_loading_component__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(48106),_shared_collection_dropdown_collection_dropdown_component__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(18285),_ngx_translate_core__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(42466);function SubmissionImportExternalCollectionComponent_ds_themed_loading_8_Template(rf,ctx){1&rf&&_angular_core__WEBPACK_IMPORTED_MODULE_2__._UZ(0,"ds-themed-loading")}__name(SubmissionImportExternalCollectionComponent_ds_themed_loading_8_Template,"SubmissionImportExternalCollectionComponent_ds_themed_loading_8_Template");const _c0=__name(function(a0){return{"d-none":a0}},"_c0");class SubmissionImportExternalCollectionComponent{constructor(activeModal){this.activeModal=activeModal,this.selectedEvent=new _angular_core__WEBPACK_IMPORTED_MODULE_2__.vpe,this.loading=!0}selectObject(object){this.selectedEvent.emit(object)}closeCollectionModal(){this.activeModal.dismiss(!1)}theOnlySelectable(theOnlySelectable){this.selectedEvent.emit(theOnlySelectable)}searchComplete(){this.loading=!1}isLoading(){return!!this.loading}}__name(SubmissionImportExternalCollectionComponent,"SubmissionImportExternalCollectionComponent"),SubmissionImportExternalCollectionComponent.\u0275fac=__name(function(t){return new(t||SubmissionImportExternalCollectionComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_2__.Y36(_ng_bootstrap_ng_bootstrap__WEBPACK_IMPORTED_MODULE_3__.Kz))},"SubmissionImportExternalCollectionComponent_Factory"),SubmissionImportExternalCollectionComponent.\u0275cmp=_angular_core__WEBPACK_IMPORTED_MODULE_2__.Xpm({type:SubmissionImportExternalCollectionComponent,selectors:[["ds-submission-import-external-collection"]],outputs:{selectedEvent:"selectedEvent"},decls:10,vars:8,consts:[[1,"modal-header"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],[4,"ngIf"],[3,"ngClass","entityType","selectionChange","searchComplete","theOnlySelectable"]],template:__name(function(rf,ctx){1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_2__.TgZ(0,"div")(1,"div",0),_angular_core__WEBPACK_IMPORTED_MODULE_2__._uU(2),_angular_core__WEBPACK_IMPORTED_MODULE_2__.ALo(3,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_2__.TgZ(4,"button",1),_angular_core__WEBPACK_IMPORTED_MODULE_2__.NdJ("click",__name(function(){return ctx.closeCollectionModal()},"SubmissionImportExternalCollectionComponent_Template_button_click_4_listener")),_angular_core__WEBPACK_IMPORTED_MODULE_2__.TgZ(5,"span",2),_angular_core__WEBPACK_IMPORTED_MODULE_2__._uU(6,"\xd7"),_angular_core__WEBPACK_IMPORTED_MODULE_2__.qZA()()(),_angular_core__WEBPACK_IMPORTED_MODULE_2__.TgZ(7,"div",3),_angular_core__WEBPACK_IMPORTED_MODULE_2__.YNc(8,SubmissionImportExternalCollectionComponent_ds_themed_loading_8_Template,1,0,"ds-themed-loading",4),_angular_core__WEBPACK_IMPORTED_MODULE_2__.TgZ(9,"ds-collection-dropdown",5),_angular_core__WEBPACK_IMPORTED_MODULE_2__.NdJ("selectionChange",__name(function($event){return ctx.selectObject($event)},"SubmissionImportExternalCollectionComponent_Template_ds_collection_dropdown_selectionChange_9_listener"))("searchComplete",__name(function(){return ctx.searchComplete()},"SubmissionImportExternalCollectionComponent_Template_ds_collection_dropdown_searchComplete_9_listener"))("theOnlySelectable",__name(function($event){return ctx.theOnlySelectable($event)},"SubmissionImportExternalCollectionComponent_Template_ds_collection_dropdown_theOnlySelectable_9_listener")),_angular_core__WEBPACK_IMPORTED_MODULE_2__.qZA()()()),2&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_2__.xp6(2),_angular_core__WEBPACK_IMPORTED_MODULE_2__.hij("",_angular_core__WEBPACK_IMPORTED_MODULE_2__.lcZ(3,4,"dso-selector.select.collection.head")," "),_angular_core__WEBPACK_IMPORTED_MODULE_2__.xp6(6),_angular_core__WEBPACK_IMPORTED_MODULE_2__.Q6J("ngIf",ctx.isLoading()),_angular_core__WEBPACK_IMPORTED_MODULE_2__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_2__.Q6J("ngClass",_angular_core__WEBPACK_IMPORTED_MODULE_2__.VKq(6,_c0,ctx.isLoading()))("entityType",ctx.entityType))},"SubmissionImportExternalCollectionComponent_Template"),directives:[_angular_common__WEBPACK_IMPORTED_MODULE_4__.O5,_shared_loading_themed_loading_component__WEBPACK_IMPORTED_MODULE_0__.Z,_shared_collection_dropdown_collection_dropdown_component__WEBPACK_IMPORTED_MODULE_1__.H,_angular_common__WEBPACK_IMPORTED_MODULE_4__.mk],pipes:[_ngx_translate_core__WEBPACK_IMPORTED_MODULE_5__.X$],styles:[".close[_ngcontent-%COMP%]:focus{outline:none!important}"]})},65806:(__unused_webpack___webpack_module__,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{zj:()=>DynamicFormsNGBootstrapUIModule,qz:()=>DynamicNGBootstrapCalendarComponent,Gy:()=>DynamicNGBootstrapCheckboxComponent,P2:()=>DynamicNGBootstrapCheckboxGroupComponent,Zu:()=>DynamicNGBootstrapInputComponent,TE:()=>DynamicNGBootstrapRadioGroupComponent,QB:()=>DynamicNGBootstrapSelectComponent,Sb:()=>DynamicNGBootstrapTextAreaComponent,XX:()=>DynamicNGBootstrapTimePickerComponent});var _angular_core__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(5e3),_ng_bootstrap_ng_bootstrap__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(13707),_ng_dynamic_forms_core__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(87098),_angular_forms__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(93075),_angular_common__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(69808),ngx_mask__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(91470);const _c0=__name(function(a0,a1){return[a0,a1]},"_c0");function DynamicNGBootstrapCheckboxGroupComponent_label_2_Template(rf,ctx){if(1&rf){const _r3=_angular_core__WEBPACK_IMPORTED_MODULE_0__.EpF();_angular_core__WEBPACK_IMPORTED_MODULE_0__.TgZ(0,"label",3)(1,"input",4),_angular_core__WEBPACK_IMPORTED_MODULE_0__.NdJ("blur",__name(function($event){return _angular_core__WEBPACK_IMPORTED_MODULE_0__.CHM(_r3),_angular_core__WEBPACK_IMPORTED_MODULE_0__.oxw().onBlur($event)},"DynamicNGBootstrapCheckboxGroupComponent_label_2_Template_input_blur_1_listener"))("change",__name(function($event){const checkboxModel_r1=_angular_core__WEBPACK_IMPORTED_MODULE_0__.CHM(_r3).$implicit;return _angular_core__WEBPACK_IMPORTED_MODULE_0__.oxw().onCheckboxChange($event,checkboxModel_r1)},"DynamicNGBootstrapCheckboxGroupComponent_label_2_Template_input_change_1_listener"))("focus",__name(function($event){return _angular_core__WEBPACK_IMPORTED_MODULE_0__.CHM(_r3),_angular_core__WEBPACK_IMPORTED_MODULE_0__.oxw().onFocus($event)},"DynamicNGBootstrapCheckboxGroupComponent_label_2_Template_input_focus_1_listener")),_angular_core__WEBPACK_IMPORTED_MODULE_0__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_0__._UZ(2,"span",5),_angular_core__WEBPACK_IMPORTED_MODULE_0__.qZA()}if(2&rf){const checkboxModel_r1=ctx.$implicit,ctx_r0=_angular_core__WEBPACK_IMPORTED_MODULE_0__.oxw();_angular_core__WEBPACK_IMPORTED_MODULE_0__.Q6J("hidden",checkboxModel_r1.hidden)("ngClass",ctx_r0.getClass("element","control",checkboxModel_r1)),_angular_core__WEBPACK_IMPORTED_MODULE_0__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Q6J("checked",checkboxModel_r1.checked)("formControlName",checkboxModel_r1.id)("id",ctx_r0.getCheckboxId(checkboxModel_r1))("name",checkboxModel_r1.name)("required",checkboxModel_r1.required)("tabindex",checkboxModel_r1.tabIndex)("value",checkboxModel_r1.value),_angular_core__WEBPACK_IMPORTED_MODULE_0__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Q6J("ngClass",ctx_r0.getClass("element","label",checkboxModel_r1))("innerHTML",checkboxModel_r1.label,_angular_core__WEBPACK_IMPORTED_MODULE_0__.oJD)}}function DynamicNGBootstrapDatePickerComponent_img_5_Template(rf,ctx){if(1&rf&&_angular_core__WEBPACK_IMPORTED_MODULE_0__._UZ(0,"img",7),2&rf){const ctx_r1=_angular_core__WEBPACK_IMPORTED_MODULE_0__.oxw();_angular_core__WEBPACK_IMPORTED_MODULE_0__.Q6J("src",ctx_r1.model.toggleIcon,_angular_core__WEBPACK_IMPORTED_MODULE_0__.LSH)}}function DynamicNGBootstrapDatePickerComponent_span_6_Template(rf,ctx){if(1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_0__.TgZ(0,"span"),_angular_core__WEBPACK_IMPORTED_MODULE_0__._uU(1),_angular_core__WEBPACK_IMPORTED_MODULE_0__.qZA()),2&rf){const ctx_r2=_angular_core__WEBPACK_IMPORTED_MODULE_0__.oxw();_angular_core__WEBPACK_IMPORTED_MODULE_0__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Oqu(ctx_r2.model.toggleLabel)}}function DynamicNGBootstrapInputComponent_div_1_Template(rf,ctx){if(1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_0__.TgZ(0,"div",6),_angular_core__WEBPACK_IMPORTED_MODULE_0__._UZ(1,"span",7),_angular_core__WEBPACK_IMPORTED_MODULE_0__.qZA()),2&rf){const ctx_r0=_angular_core__WEBPACK_IMPORTED_MODULE_0__.oxw();_angular_core__WEBPACK_IMPORTED_MODULE_0__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Q6J("innerHTML",ctx_r0.model.prefix,_angular_core__WEBPACK_IMPORTED_MODULE_0__.oJD)}}function DynamicNGBootstrapInputComponent_input_2_Template(rf,ctx){if(1&rf){const _r7=_angular_core__WEBPACK_IMPORTED_MODULE_0__.EpF();_angular_core__WEBPACK_IMPORTED_MODULE_0__.TgZ(0,"input",8),_angular_core__WEBPACK_IMPORTED_MODULE_0__.NdJ("blur",__name(function($event){return _angular_core__WEBPACK_IMPORTED_MODULE_0__.CHM(_r7),_angular_core__WEBPACK_IMPORTED_MODULE_0__.oxw().onBlur($event)},"DynamicNGBootstrapInputComponent_input_2_Template_input_blur_0_listener"))("change",__name(function($event){return _angular_core__WEBPACK_IMPORTED_MODULE_0__.CHM(_r7),_angular_core__WEBPACK_IMPORTED_MODULE_0__.oxw().onChange($event)},"DynamicNGBootstrapInputComponent_input_2_Template_input_change_0_listener"))("focus",__name(function($event){return _angular_core__WEBPACK_IMPORTED_MODULE_0__.CHM(_r7),_angular_core__WEBPACK_IMPORTED_MODULE_0__.oxw().onFocus($event)},"DynamicNGBootstrapInputComponent_input_2_Template_input_focus_0_listener")),_angular_core__WEBPACK_IMPORTED_MODULE_0__.qZA()}if(2&rf){const ctx_r1=_angular_core__WEBPACK_IMPORTED_MODULE_0__.oxw();_angular_core__WEBPACK_IMPORTED_MODULE_0__.ekj("is-invalid",ctx_r1.showErrorMessages),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Q6J("autocomplete",ctx_r1.model.autoComplete)("autofocus",ctx_r1.model.autoFocus)("dynamicList",ctx_r1.model.listId)("formControlName",ctx_r1.model.id)("id",ctx_r1.id)("maxlength",ctx_r1.model.maxLength)("minlength",ctx_r1.model.minLength)("name",ctx_r1.model.name)("ngClass",ctx_r1.getClass("element","control"))("pattern",ctx_r1.model.pattern)("placeholder",ctx_r1.model.placeholder)("readonly",ctx_r1.model.readOnly)("required",ctx_r1.model.required)("spellcheck",ctx_r1.model.spellCheck)("tabindex",ctx_r1.model.tabIndex)("type",ctx_r1.model.inputType),_angular_core__WEBPACK_IMPORTED_MODULE_0__.uIk("accept",ctx_r1.model.accept)("max",ctx_r1.model.max)("min",ctx_r1.model.min)("multiple",ctx_r1.model.multiple)("step",ctx_r1.model.step)}}function DynamicNGBootstrapInputComponent_ng_template_3_Template(rf,ctx){if(1&rf){const _r11=_angular_core__WEBPACK_IMPORTED_MODULE_0__.EpF();_angular_core__WEBPACK_IMPORTED_MODULE_0__.TgZ(0,"input",9),_angular_core__WEBPACK_IMPORTED_MODULE_0__.NdJ("blur",__name(function($event){return _angular_core__WEBPACK_IMPORTED_MODULE_0__.CHM(_r11),_angular_core__WEBPACK_IMPORTED_MODULE_0__.oxw().onBlur($event)},"DynamicNGBootstrapInputComponent_ng_template_3_Template_input_blur_0_listener"))("change",__name(function($event){return _angular_core__WEBPACK_IMPORTED_MODULE_0__.CHM(_r11),_angular_core__WEBPACK_IMPORTED_MODULE_0__.oxw().onChange($event)},"DynamicNGBootstrapInputComponent_ng_template_3_Template_input_change_0_listener"))("focus",__name(function($event){return _angular_core__WEBPACK_IMPORTED_MODULE_0__.CHM(_r11),_angular_core__WEBPACK_IMPORTED_MODULE_0__.oxw().onFocus($event)},"DynamicNGBootstrapInputComponent_ng_template_3_Template_input_focus_0_listener")),_angular_core__WEBPACK_IMPORTED_MODULE_0__.qZA()}if(2&rf){const ctx_r3=_angular_core__WEBPACK_IMPORTED_MODULE_0__.oxw();_angular_core__WEBPACK_IMPORTED_MODULE_0__.ekj("is-invalid",ctx_r3.showErrorMessages),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Q6J("autocomplete",ctx_r3.model.autoComplete)("autofocus",ctx_r3.model.autoFocus)("dynamicList",ctx_r3.model.listId)("formControlName",ctx_r3.model.id)("id",ctx_r3.id)("maxlength",ctx_r3.model.maxLength)("minlength",ctx_r3.model.minLength)("name",ctx_r3.model.name)("ngClass",ctx_r3.getClass("element","control"))("pattern",ctx_r3.model.pattern)("placeholder",ctx_r3.model.placeholder)("readonly",ctx_r3.model.readOnly)("required",ctx_r3.model.required)("spellcheck",ctx_r3.model.spellCheck)("tabindex",ctx_r3.model.tabIndex)("mask",ctx_r3.model.mask)("specialCharacters",null==ctx_r3.model.maskConfig?null:ctx_r3.model.maskConfig.specialCharacters)("patterns",null==ctx_r3.model.maskConfig?null:ctx_r3.model.maskConfig.patterns)("prefix",null==ctx_r3.model.maskConfig?null:ctx_r3.model.maskConfig.prefix)("suffix",null==ctx_r3.model.maskConfig?null:ctx_r3.model.maskConfig.suffix)("thousandSeparator",null==ctx_r3.model.maskConfig?null:ctx_r3.model.maskConfig.thousandSeparator)("decimalMarker",null==ctx_r3.model.maskConfig?null:ctx_r3.model.maskConfig.decimalMarker)("dropSpecialCharacters",null==ctx_r3.model.maskConfig?null:ctx_r3.model.maskConfig.dropSpecialCharacters)("hiddenInput",null==ctx_r3.model.maskConfig?null:ctx_r3.model.maskConfig.hiddenInput)("showMaskTyped",null==ctx_r3.model.maskConfig?null:ctx_r3.model.maskConfig.showMaskTyped)("placeHolderCharacter",null==ctx_r3.model.maskConfig?null:ctx_r3.model.maskConfig.placeHolderCharacter)("shownMaskExpression",null==ctx_r3.model.maskConfig?null:ctx_r3.model.maskConfig.shownMaskExpression)("showTemplate",null==ctx_r3.model.maskConfig?null:ctx_r3.model.maskConfig.showTemplate)("clearIfNotMatch",ctx_r3.model.maskConfig.clearIfNotMatch)("validation",ctx_r3.model.maskConfig.validation)("separatorLimit",ctx_r3.model.maskConfig.separatorLimit)("allowNegativeNumbers",ctx_r3.model.maskConfig.allowNegativeNumbers)("leadZeroDateTime",ctx_r3.model.maskConfig.leadZeroDateTime)("type",ctx_r3.model.inputType),_angular_core__WEBPACK_IMPORTED_MODULE_0__.uIk("accept",ctx_r3.model.accept)("max",ctx_r3.model.max)("min",ctx_r3.model.min)("multiple",ctx_r3.model.multiple)("step",ctx_r3.model.step)}}function DynamicNGBootstrapInputComponent_div_5_Template(rf,ctx){if(1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_0__.TgZ(0,"div",10),_angular_core__WEBPACK_IMPORTED_MODULE_0__._UZ(1,"span",7),_angular_core__WEBPACK_IMPORTED_MODULE_0__.qZA()),2&rf){const ctx_r4=_angular_core__WEBPACK_IMPORTED_MODULE_0__.oxw();_angular_core__WEBPACK_IMPORTED_MODULE_0__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Q6J("innerHTML",ctx_r4.model.suffix,_angular_core__WEBPACK_IMPORTED_MODULE_0__.oJD)}}function DynamicNGBootstrapInputComponent_datalist_6_option_1_Template(rf,ctx){if(1&rf&&_angular_core__WEBPACK_IMPORTED_MODULE_0__._UZ(0,"option",13),2&rf){const option_r15=ctx.$implicit;_angular_core__WEBPACK_IMPORTED_MODULE_0__.Q6J("value",option_r15)}}function DynamicNGBootstrapInputComponent_datalist_6_Template(rf,ctx){if(1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_0__.TgZ(0,"datalist",11),_angular_core__WEBPACK_IMPORTED_MODULE_0__.YNc(1,DynamicNGBootstrapInputComponent_datalist_6_option_1_Template,1,1,"option",12),_angular_core__WEBPACK_IMPORTED_MODULE_0__.ALo(2,"async"),_angular_core__WEBPACK_IMPORTED_MODULE_0__.qZA()),2&rf){const ctx_r5=_angular_core__WEBPACK_IMPORTED_MODULE_0__.oxw();_angular_core__WEBPACK_IMPORTED_MODULE_0__.Q6J("id",ctx_r5.model.listId),_angular_core__WEBPACK_IMPORTED_MODULE_0__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Q6J("ngForOf",_angular_core__WEBPACK_IMPORTED_MODULE_0__.lcZ(2,2,ctx_r5.model.list$))}}function DynamicNGBootstrapRadioGroupComponent_legend_2_Template(rf,ctx){if(1&rf&&_angular_core__WEBPACK_IMPORTED_MODULE_0__._UZ(0,"legend",4),2&rf){const ctx_r0=_angular_core__WEBPACK_IMPORTED_MODULE_0__.oxw();_angular_core__WEBPACK_IMPORTED_MODULE_0__.Q6J("innerHTML",ctx_r0.model.legend,_angular_core__WEBPACK_IMPORTED_MODULE_0__.oJD)}}function DynamicNGBootstrapRadioGroupComponent_label_3_Template(rf,ctx){if(1&rf){const _r4=_angular_core__WEBPACK_IMPORTED_MODULE_0__.EpF();_angular_core__WEBPACK_IMPORTED_MODULE_0__.TgZ(0,"label",5)(1,"input",6),_angular_core__WEBPACK_IMPORTED_MODULE_0__.NdJ("blur",__name(function($event){return _angular_core__WEBPACK_IMPORTED_MODULE_0__.CHM(_r4),_angular_core__WEBPACK_IMPORTED_MODULE_0__.oxw().onBlur($event)},"DynamicNGBootstrapRadioGroupComponent_label_3_Template_input_blur_1_listener"))("focus",__name(function($event){return _angular_core__WEBPACK_IMPORTED_MODULE_0__.CHM(_r4),_angular_core__WEBPACK_IMPORTED_MODULE_0__.oxw().onFocus($event)},"DynamicNGBootstrapRadioGroupComponent_label_3_Template_input_focus_1_listener")),_angular_core__WEBPACK_IMPORTED_MODULE_0__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_0__._UZ(2,"span",4),_angular_core__WEBPACK_IMPORTED_MODULE_0__.qZA()}if(2&rf){const option_r2=ctx.$implicit,ctx_r1=_angular_core__WEBPACK_IMPORTED_MODULE_0__.oxw();_angular_core__WEBPACK_IMPORTED_MODULE_0__.Q6J("ngClass",_angular_core__WEBPACK_IMPORTED_MODULE_0__.WLB(5,_c0,ctx_r1.getClass("element","option"),ctx_r1.getClass("grid","option"))),_angular_core__WEBPACK_IMPORTED_MODULE_0__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Q6J("disabled",option_r2.disabled)("name",ctx_r1.model.name)("value",option_r2.value),_angular_core__WEBPACK_IMPORTED_MODULE_0__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Q6J("innerHTML",option_r2.label,_angular_core__WEBPACK_IMPORTED_MODULE_0__.oJD)}}function DynamicNGBootstrapSelectComponent_option_2_Template(rf,ctx){if(1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_0__.TgZ(0,"option",3),_angular_core__WEBPACK_IMPORTED_MODULE_0__._uU(1),_angular_core__WEBPACK_IMPORTED_MODULE_0__.qZA()),2&rf){const option_r1=ctx.$implicit;_angular_core__WEBPACK_IMPORTED_MODULE_0__.Q6J("disabled",option_r1.disabled)("ngValue",option_r1.value),_angular_core__WEBPACK_IMPORTED_MODULE_0__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Oqu(option_r1.label)}}__name(DynamicNGBootstrapCheckboxGroupComponent_label_2_Template,"DynamicNGBootstrapCheckboxGroupComponent_label_2_Template"),__name(DynamicNGBootstrapDatePickerComponent_img_5_Template,"DynamicNGBootstrapDatePickerComponent_img_5_Template"),__name(DynamicNGBootstrapDatePickerComponent_span_6_Template,"DynamicNGBootstrapDatePickerComponent_span_6_Template"),__name(DynamicNGBootstrapInputComponent_div_1_Template,"DynamicNGBootstrapInputComponent_div_1_Template"),__name(DynamicNGBootstrapInputComponent_input_2_Template,"DynamicNGBootstrapInputComponent_input_2_Template"),__name(DynamicNGBootstrapInputComponent_ng_template_3_Template,"DynamicNGBootstrapInputComponent_ng_template_3_Template"),__name(DynamicNGBootstrapInputComponent_div_5_Template,"DynamicNGBootstrapInputComponent_div_5_Template"),__name(DynamicNGBootstrapInputComponent_datalist_6_option_1_Template,"DynamicNGBootstrapInputComponent_datalist_6_option_1_Template"),__name(DynamicNGBootstrapInputComponent_datalist_6_Template,"DynamicNGBootstrapInputComponent_datalist_6_Template"),__name(DynamicNGBootstrapRadioGroupComponent_legend_2_Template,"DynamicNGBootstrapRadioGroupComponent_legend_2_Template"),__name(DynamicNGBootstrapRadioGroupComponent_label_3_Template,"DynamicNGBootstrapRadioGroupComponent_label_3_Template"),__name(DynamicNGBootstrapSelectComponent_option_2_Template,"DynamicNGBootstrapSelectComponent_option_2_Template");const _c1=["componentViewContainer"];function DynamicNGBootstrapFormControlContainerComponent_label_1_Template(rf,ctx){if(1&rf&&_angular_core__WEBPACK_IMPORTED_MODULE_0__._UZ(0,"label",7),2&rf){const ctx_r0=_angular_core__WEBPACK_IMPORTED_MODULE_0__.oxw();_angular_core__WEBPACK_IMPORTED_MODULE_0__.Q6J("for",ctx_r0.id)("innerHTML",ctx_r0.model.label,_angular_core__WEBPACK_IMPORTED_MODULE_0__.oJD)("ngClass",_angular_core__WEBPACK_IMPORTED_MODULE_0__.WLB(3,_c0,ctx_r0.getClass("element","label"),ctx_r0.getClass("grid","label")))}}function DynamicNGBootstrapFormControlContainerComponent_ng_container_2_Template(rf,ctx){1&rf&&_angular_core__WEBPACK_IMPORTED_MODULE_0__.GkF(0)}function DynamicNGBootstrapFormControlContainerComponent_small_6_Template(rf,ctx){if(1&rf&&_angular_core__WEBPACK_IMPORTED_MODULE_0__._UZ(0,"small",8),2&rf){const ctx_r3=_angular_core__WEBPACK_IMPORTED_MODULE_0__.oxw();_angular_core__WEBPACK_IMPORTED_MODULE_0__.Q6J("innerHTML",ctx_r3.hint,_angular_core__WEBPACK_IMPORTED_MODULE_0__.oJD)("ngClass",ctx_r3.getClass("element","hint"))}}function DynamicNGBootstrapFormControlContainerComponent_div_7_small_1_Template(rf,ctx){if(1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_0__.TgZ(0,"small",10),_angular_core__WEBPACK_IMPORTED_MODULE_0__._uU(1),_angular_core__WEBPACK_IMPORTED_MODULE_0__.qZA()),2&rf){const message_r7=ctx.$implicit;_angular_core__WEBPACK_IMPORTED_MODULE_0__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Oqu(message_r7)}}function DynamicNGBootstrapFormControlContainerComponent_div_7_Template(rf,ctx){if(1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_0__.TgZ(0,"div",3),_angular_core__WEBPACK_IMPORTED_MODULE_0__.YNc(1,DynamicNGBootstrapFormControlContainerComponent_div_7_small_1_Template,2,1,"small",9),_angular_core__WEBPACK_IMPORTED_MODULE_0__.qZA()),2&rf){const ctx_r4=_angular_core__WEBPACK_IMPORTED_MODULE_0__.oxw();_angular_core__WEBPACK_IMPORTED_MODULE_0__.Q6J("ngClass",_angular_core__WEBPACK_IMPORTED_MODULE_0__.WLB(2,_c0,ctx_r4.getClass("element","errors"),ctx_r4.getClass("grid","errors"))),_angular_core__WEBPACK_IMPORTED_MODULE_0__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Q6J("ngForOf",ctx_r4.errorMessages)}}function DynamicNGBootstrapFormControlContainerComponent_ng_container_8_Template(rf,ctx){1&rf&&_angular_core__WEBPACK_IMPORTED_MODULE_0__.GkF(0)}__name(DynamicNGBootstrapFormControlContainerComponent_label_1_Template,"DynamicNGBootstrapFormControlContainerComponent_label_1_Template"),__name(DynamicNGBootstrapFormControlContainerComponent_ng_container_2_Template,"DynamicNGBootstrapFormControlContainerComponent_ng_container_2_Template"),__name(DynamicNGBootstrapFormControlContainerComponent_small_6_Template,"DynamicNGBootstrapFormControlContainerComponent_small_6_Template"),__name(DynamicNGBootstrapFormControlContainerComponent_div_7_small_1_Template,"DynamicNGBootstrapFormControlContainerComponent_div_7_small_1_Template"),__name(DynamicNGBootstrapFormControlContainerComponent_div_7_Template,"DynamicNGBootstrapFormControlContainerComponent_div_7_Template"),__name(DynamicNGBootstrapFormControlContainerComponent_ng_container_8_Template,"DynamicNGBootstrapFormControlContainerComponent_ng_container_8_Template");const _c2=__name(function(a0,a1,a2){return[a0,a1,a2]},"_c2");function DynamicNGBootstrapFormArrayComponent_div_2_ng_container_1_Template(rf,ctx){1&rf&&_angular_core__WEBPACK_IMPORTED_MODULE_0__.GkF(0)}function DynamicNGBootstrapFormArrayComponent_div_2_dynamic_ng_bootstrap_form_control_2_Template(rf,ctx){if(1&rf){const _r8=_angular_core__WEBPACK_IMPORTED_MODULE_0__.EpF();_angular_core__WEBPACK_IMPORTED_MODULE_0__.TgZ(0,"dynamic-ng-bootstrap-form-control",6),_angular_core__WEBPACK_IMPORTED_MODULE_0__.NdJ("blur",__name(function($event){return _angular_core__WEBPACK_IMPORTED_MODULE_0__.CHM(_r8),_angular_core__WEBPACK_IMPORTED_MODULE_0__.oxw(2).onBlur($event)},"DynamicNGBootstrapFormArrayComponent_div_2_dynamic_ng_bootstrap_form_control_2_Template_dynamic_ng_bootstrap_form_control_blur_0_listener"))("change",__name(function($event){return _angular_core__WEBPACK_IMPORTED_MODULE_0__.CHM(_r8),_angular_core__WEBPACK_IMPORTED_MODULE_0__.oxw(2).onChange($event)},"DynamicNGBootstrapFormArrayComponent_div_2_dynamic_ng_bootstrap_form_control_2_Template_dynamic_ng_bootstrap_form_control_change_0_listener"))("focus",__name(function($event){return _angular_core__WEBPACK_IMPORTED_MODULE_0__.CHM(_r8),_angular_core__WEBPACK_IMPORTED_MODULE_0__.oxw(2).onFocus($event)},"DynamicNGBootstrapFormArrayComponent_div_2_dynamic_ng_bootstrap_form_control_2_Template_dynamic_ng_bootstrap_form_control_focus_0_listener"))("ngbEvent",__name(function($event){return _angular_core__WEBPACK_IMPORTED_MODULE_0__.CHM(_r8),_angular_core__WEBPACK_IMPORTED_MODULE_0__.oxw(2).onCustomEvent($event,null,!0)},"DynamicNGBootstrapFormArrayComponent_div_2_dynamic_ng_bootstrap_form_control_2_Template_dynamic_ng_bootstrap_form_control_ngbEvent_0_listener")),_angular_core__WEBPACK_IMPORTED_MODULE_0__.qZA()}if(2&rf){const _model_r6=ctx.$implicit,ctx_r12=_angular_core__WEBPACK_IMPORTED_MODULE_0__.oxw(),groupModel_r1=ctx_r12.$implicit,idx_r2=ctx_r12.index,ctx_r4=_angular_core__WEBPACK_IMPORTED_MODULE_0__.oxw();_angular_core__WEBPACK_IMPORTED_MODULE_0__.Q6J("context",groupModel_r1)("group",ctx_r4.array.at(idx_r2))("hidden",_model_r6.hidden)("layout",ctx_r4.formLayout)("model",_model_r6)("templates",ctx_r4.templates)("hostClass",_angular_core__WEBPACK_IMPORTED_MODULE_0__.WLB(7,_c0,ctx_r4.getClass("element","children"),ctx_r4.getClass("grid","children")))}}function DynamicNGBootstrapFormArrayComponent_div_2_ng_container_3_Template(rf,ctx){1&rf&&_angular_core__WEBPACK_IMPORTED_MODULE_0__.GkF(0)}function DynamicNGBootstrapFormArrayComponent_div_2_Template(rf,ctx){if(1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_0__.TgZ(0,"div",3),_angular_core__WEBPACK_IMPORTED_MODULE_0__.YNc(1,DynamicNGBootstrapFormArrayComponent_div_2_ng_container_1_Template,1,0,"ng-container",4),_angular_core__WEBPACK_IMPORTED_MODULE_0__.YNc(2,DynamicNGBootstrapFormArrayComponent_div_2_dynamic_ng_bootstrap_form_control_2_Template,1,10,"dynamic-ng-bootstrap-form-control",5),_angular_core__WEBPACK_IMPORTED_MODULE_0__.YNc(3,DynamicNGBootstrapFormArrayComponent_div_2_ng_container_3_Template,1,0,"ng-container",4),_angular_core__WEBPACK_IMPORTED_MODULE_0__.qZA()),2&rf){const groupModel_r1=ctx.$implicit,idx_r2=ctx.index,ctx_r0=_angular_core__WEBPACK_IMPORTED_MODULE_0__.oxw();_angular_core__WEBPACK_IMPORTED_MODULE_0__.Q6J("formGroupName",idx_r2)("ngClass",_angular_core__WEBPACK_IMPORTED_MODULE_0__.WLB(7,_c0,ctx_r0.getClass("element","group"),ctx_r0.getClass("grid","group"))),_angular_core__WEBPACK_IMPORTED_MODULE_0__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Q6J("ngTemplateOutlet",null==ctx_r0.startTemplate?null:ctx_r0.startTemplate.templateRef)("ngTemplateOutletContext",groupModel_r1),_angular_core__WEBPACK_IMPORTED_MODULE_0__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Q6J("ngForOf",groupModel_r1.group),_angular_core__WEBPACK_IMPORTED_MODULE_0__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Q6J("ngTemplateOutlet",null==ctx_r0.endTemplate?null:ctx_r0.endTemplate.templateRef)("ngTemplateOutletContext",groupModel_r1)}}function DynamicNGBootstrapFormGroupComponent_dynamic_ng_bootstrap_form_control_2_Template(rf,ctx){if(1&rf){const _r3=_angular_core__WEBPACK_IMPORTED_MODULE_0__.EpF();_angular_core__WEBPACK_IMPORTED_MODULE_0__.TgZ(0,"dynamic-ng-bootstrap-form-control",3),_angular_core__WEBPACK_IMPORTED_MODULE_0__.NdJ("blur",__name(function($event){return _angular_core__WEBPACK_IMPORTED_MODULE_0__.CHM(_r3),_angular_core__WEBPACK_IMPORTED_MODULE_0__.oxw().onBlur($event)},"DynamicNGBootstrapFormGroupComponent_dynamic_ng_bootstrap_form_control_2_Template_dynamic_ng_bootstrap_form_control_blur_0_listener"))("change",__name(function($event){return _angular_core__WEBPACK_IMPORTED_MODULE_0__.CHM(_r3),_angular_core__WEBPACK_IMPORTED_MODULE_0__.oxw().onChange($event)},"DynamicNGBootstrapFormGroupComponent_dynamic_ng_bootstrap_form_control_2_Template_dynamic_ng_bootstrap_form_control_change_0_listener"))("focus",__name(function($event){return _angular_core__WEBPACK_IMPORTED_MODULE_0__.CHM(_r3),_angular_core__WEBPACK_IMPORTED_MODULE_0__.oxw().onFocus($event)},"DynamicNGBootstrapFormGroupComponent_dynamic_ng_bootstrap_form_control_2_Template_dynamic_ng_bootstrap_form_control_focus_0_listener"))("ngbEvent",__name(function($event){return _angular_core__WEBPACK_IMPORTED_MODULE_0__.CHM(_r3),_angular_core__WEBPACK_IMPORTED_MODULE_0__.oxw().onCustomEvent($event,null,!0)},"DynamicNGBootstrapFormGroupComponent_dynamic_ng_bootstrap_form_control_2_Template_dynamic_ng_bootstrap_form_control_ngbEvent_0_listener")),_angular_core__WEBPACK_IMPORTED_MODULE_0__.qZA()}if(2&rf){const _model_r1=ctx.$implicit,ctx_r0=_angular_core__WEBPACK_IMPORTED_MODULE_0__.oxw();_angular_core__WEBPACK_IMPORTED_MODULE_0__.Q6J("asBootstrapFormGroup",!0)("group",ctx_r0.control)("hidden",_model_r1.hidden)("layout",ctx_r0.formLayout)("model",_model_r1)("templates",ctx_r0.templates)("hostClass",_angular_core__WEBPACK_IMPORTED_MODULE_0__.WLB(7,_c0,ctx_r0.getClass("element","children"),ctx_r0.getClass("grid","children")))}}function DynamicNGBootstrapFormComponent_dynamic_ng_bootstrap_form_control_0_Template(rf,ctx){if(1&rf){const _r3=_angular_core__WEBPACK_IMPORTED_MODULE_0__.EpF();_angular_core__WEBPACK_IMPORTED_MODULE_0__.TgZ(0,"dynamic-ng-bootstrap-form-control",1),_angular_core__WEBPACK_IMPORTED_MODULE_0__.NdJ("blur",__name(function($event){return _angular_core__WEBPACK_IMPORTED_MODULE_0__.CHM(_r3),_angular_core__WEBPACK_IMPORTED_MODULE_0__.oxw().onBlur($event)},"DynamicNGBootstrapFormComponent_dynamic_ng_bootstrap_form_control_0_Template_dynamic_ng_bootstrap_form_control_blur_0_listener"))("change",__name(function($event){return _angular_core__WEBPACK_IMPORTED_MODULE_0__.CHM(_r3),_angular_core__WEBPACK_IMPORTED_MODULE_0__.oxw().onChange($event)},"DynamicNGBootstrapFormComponent_dynamic_ng_bootstrap_form_control_0_Template_dynamic_ng_bootstrap_form_control_change_0_listener"))("focus",__name(function($event){return _angular_core__WEBPACK_IMPORTED_MODULE_0__.CHM(_r3),_angular_core__WEBPACK_IMPORTED_MODULE_0__.oxw().onFocus($event)},"DynamicNGBootstrapFormComponent_dynamic_ng_bootstrap_form_control_0_Template_dynamic_ng_bootstrap_form_control_focus_0_listener"))("ngbEvent",__name(function($event){_angular_core__WEBPACK_IMPORTED_MODULE_0__.CHM(_r3);const ctx_r6=_angular_core__WEBPACK_IMPORTED_MODULE_0__.oxw();return ctx_r6.onCustomEvent($event,ctx_r6.ngbEvent)},"DynamicNGBootstrapFormComponent_dynamic_ng_bootstrap_form_control_0_Template_dynamic_ng_bootstrap_form_control_ngbEvent_0_listener")),_angular_core__WEBPACK_IMPORTED_MODULE_0__.qZA()}if(2&rf){const controlModel_r1=ctx.$implicit,ctx_r0=_angular_core__WEBPACK_IMPORTED_MODULE_0__.oxw();_angular_core__WEBPACK_IMPORTED_MODULE_0__.Q6J("group",ctx_r0.group)("hidden",controlModel_r1.hidden)("layout",ctx_r0.layout)("model",controlModel_r1)("templates",ctx_r0.templates)}}__name(DynamicNGBootstrapFormArrayComponent_div_2_ng_container_1_Template,"DynamicNGBootstrapFormArrayComponent_div_2_ng_container_1_Template"),__name(DynamicNGBootstrapFormArrayComponent_div_2_dynamic_ng_bootstrap_form_control_2_Template,"DynamicNGBootstrapFormArrayComponent_div_2_dynamic_ng_bootstrap_form_control_2_Template"),__name(DynamicNGBootstrapFormArrayComponent_div_2_ng_container_3_Template,"DynamicNGBootstrapFormArrayComponent_div_2_ng_container_3_Template"),__name(DynamicNGBootstrapFormArrayComponent_div_2_Template,"DynamicNGBootstrapFormArrayComponent_div_2_Template"),__name(DynamicNGBootstrapFormGroupComponent_dynamic_ng_bootstrap_form_control_2_Template,"DynamicNGBootstrapFormGroupComponent_dynamic_ng_bootstrap_form_control_2_Template"),__name(DynamicNGBootstrapFormComponent_dynamic_ng_bootstrap_form_control_0_Template,"DynamicNGBootstrapFormComponent_dynamic_ng_bootstrap_form_control_0_Template");class DynamicNGBootstrapCalendarComponent extends _ng_dynamic_forms_core__WEBPACK_IMPORTED_MODULE_1__.LvC{constructor(layoutService,validationService,config){super(layoutService,validationService),this.layoutService=layoutService,this.validationService=validationService,this.config=config,this.blur=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.vpe,this.change=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.vpe,this.focus=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.vpe}}__name(DynamicNGBootstrapCalendarComponent,"DynamicNGBootstrapCalendarComponent"),DynamicNGBootstrapCalendarComponent.\u0275fac=__name(function(t){return new(t||DynamicNGBootstrapCalendarComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_0__.Y36(_ng_dynamic_forms_core__WEBPACK_IMPORTED_MODULE_1__.vnf),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Y36(_ng_dynamic_forms_core__WEBPACK_IMPORTED_MODULE_1__.fhz),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Y36(_ng_bootstrap_ng_bootstrap__WEBPACK_IMPORTED_MODULE_2__.M4))},"DynamicNGBootstrapCalendarComponent_Factory"),DynamicNGBootstrapCalendarComponent.\u0275cmp=_angular_core__WEBPACK_IMPORTED_MODULE_0__.Xpm({type:DynamicNGBootstrapCalendarComponent,selectors:[["dynamic-ng-bootstrap-calendar"]],viewQuery:__name(function(rf,ctx){if(1&rf&&_angular_core__WEBPACK_IMPORTED_MODULE_0__.Gf(_ng_bootstrap_ng_bootstrap__WEBPACK_IMPORTED_MODULE_2__.VL,7),2&rf){let _t;_angular_core__WEBPACK_IMPORTED_MODULE_0__.iGM(_t=_angular_core__WEBPACK_IMPORTED_MODULE_0__.CRH())&&(ctx.ngbCalendar=_t.first)}},"DynamicNGBootstrapCalendarComponent_Query"),inputs:{formLayout:"formLayout",group:"group",layout:"layout",model:"model"},outputs:{blur:"blur",change:"change",focus:"focus"},features:[_angular_core__WEBPACK_IMPORTED_MODULE_0__.qOj],decls:2,vars:13,consts:[[3,"formGroup"],[3,"displayMonths","firstDayOfWeek","formControlName","id","maxDate","minDate","navigation","ngClass","outsideDays","showWeekNumbers","weekdays","startDate","select"]],template:__name(function(rf,ctx){1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_0__.ynx(0,0),_angular_core__WEBPACK_IMPORTED_MODULE_0__.TgZ(1,"ngb-datepicker",1),_angular_core__WEBPACK_IMPORTED_MODULE_0__.NdJ("select",__name(function($event){return ctx.onChange($event)},"DynamicNGBootstrapCalendarComponent_Template_ngb_datepicker_select_1_listener")),_angular_core__WEBPACK_IMPORTED_MODULE_0__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_0__.BQk()),2&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_0__.Q6J("formGroup",ctx.group),_angular_core__WEBPACK_IMPORTED_MODULE_0__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Q6J("displayMonths",ctx.model.getAdditional("displayMonths",ctx.config.displayMonths))("firstDayOfWeek",ctx.model.getAdditional("firstDayOfWeek",ctx.config.firstDayOfWeek))("formControlName",ctx.model.id)("id",ctx.id)("maxDate",ctx.model.max)("minDate",ctx.model.min)("navigation",ctx.model.getAdditional("navigation",ctx.config.navigation))("ngClass",ctx.getClass("element","control"))("outsideDays",ctx.model.getAdditional("outsideDays",ctx.config.outsideDays))("showWeekNumbers",ctx.model.getAdditional("showWeekNumbers",ctx.config.showWeekNumbers))("weekdays",ctx.model.getAdditional("showWeekdays",ctx.config.weekdays))("startDate",ctx.model.focusedDate))},"DynamicNGBootstrapCalendarComponent_Template"),directives:[_ng_bootstrap_ng_bootstrap__WEBPACK_IMPORTED_MODULE_2__.VL,_angular_forms__WEBPACK_IMPORTED_MODULE_3__.JL,_angular_forms__WEBPACK_IMPORTED_MODULE_3__.sg,_angular_forms__WEBPACK_IMPORTED_MODULE_3__.JJ,_angular_forms__WEBPACK_IMPORTED_MODULE_3__.u,_angular_common__WEBPACK_IMPORTED_MODULE_4__.mk],encapsulation:2,changeDetection:0});class DynamicNGBootstrapCheckboxComponent extends _ng_dynamic_forms_core__WEBPACK_IMPORTED_MODULE_1__.LvC{constructor(layoutService,validationService){super(layoutService,validationService),this.layoutService=layoutService,this.validationService=validationService,this.blur=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.vpe,this.change=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.vpe,this.focus=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.vpe}}__name(DynamicNGBootstrapCheckboxComponent,"DynamicNGBootstrapCheckboxComponent"),DynamicNGBootstrapCheckboxComponent.\u0275fac=__name(function(t){return new(t||DynamicNGBootstrapCheckboxComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_0__.Y36(_ng_dynamic_forms_core__WEBPACK_IMPORTED_MODULE_1__.vnf),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Y36(_ng_dynamic_forms_core__WEBPACK_IMPORTED_MODULE_1__.fhz))},"DynamicNGBootstrapCheckboxComponent_Factory"),DynamicNGBootstrapCheckboxComponent.\u0275cmp=_angular_core__WEBPACK_IMPORTED_MODULE_0__.Xpm({type:DynamicNGBootstrapCheckboxComponent,selectors:[["dynamic-ng-bootstrap-checkbox"]],inputs:{formLayout:"formLayout",group:"group",layout:"layout",model:"model"},outputs:{blur:"blur",change:"change",focus:"focus"},features:[_angular_core__WEBPACK_IMPORTED_MODULE_0__.qOj],decls:4,vars:19,consts:[[1,"form-check",3,"formGroup"],[1,"form-check-label"],["type","checkbox",1,"form-check-input",3,"checked","formControlName","id","indeterminate","name","ngClass","required","tabindex","value","blur","change","focus"],[3,"innerHTML","ngClass"]],template:__name(function(rf,ctx){1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_0__.TgZ(0,"div",0)(1,"label",1)(2,"input",2),_angular_core__WEBPACK_IMPORTED_MODULE_0__.NdJ("blur",__name(function($event){return ctx.onBlur($event)},"DynamicNGBootstrapCheckboxComponent_Template_input_blur_2_listener"))("change",__name(function($event){return ctx.onChange($event)},"DynamicNGBootstrapCheckboxComponent_Template_input_change_2_listener"))("focus",__name(function($event){return ctx.onFocus($event)},"DynamicNGBootstrapCheckboxComponent_Template_input_focus_2_listener")),_angular_core__WEBPACK_IMPORTED_MODULE_0__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_0__._UZ(3,"span",3),_angular_core__WEBPACK_IMPORTED_MODULE_0__.qZA()()),2&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_0__.ekj("disabled",ctx.model.disabled),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Q6J("formGroup",ctx.group),_angular_core__WEBPACK_IMPORTED_MODULE_0__.xp6(2),_angular_core__WEBPACK_IMPORTED_MODULE_0__.ekj("is-invalid",ctx.showErrorMessages),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Q6J("checked",ctx.model.checked)("formControlName",ctx.model.id)("id",ctx.id)("indeterminate",ctx.model.indeterminate)("name",ctx.model.name)("ngClass",ctx.getClass("element","control"))("required",ctx.model.required)("tabindex",ctx.model.tabIndex)("value",ctx.model.value),_angular_core__WEBPACK_IMPORTED_MODULE_0__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Q6J("innerHTML",ctx.model.label,_angular_core__WEBPACK_IMPORTED_MODULE_0__.oJD)("ngClass",_angular_core__WEBPACK_IMPORTED_MODULE_0__.WLB(16,_c0,ctx.getClass("element","label"),ctx.getClass("grid","label"))))},"DynamicNGBootstrapCheckboxComponent_Template"),directives:[_angular_forms__WEBPACK_IMPORTED_MODULE_3__.JL,_angular_forms__WEBPACK_IMPORTED_MODULE_3__.sg,_angular_forms__WEBPACK_IMPORTED_MODULE_3__.Wl,_angular_forms__WEBPACK_IMPORTED_MODULE_3__.Zs,_angular_forms__WEBPACK_IMPORTED_MODULE_3__.JJ,_angular_forms__WEBPACK_IMPORTED_MODULE_3__.u,_angular_common__WEBPACK_IMPORTED_MODULE_4__.mk],encapsulation:2});class DynamicNGBootstrapCheckboxGroupComponent extends _ng_dynamic_forms_core__WEBPACK_IMPORTED_MODULE_1__.LvC{constructor(layoutService,validationService){super(layoutService,validationService),this.layoutService=layoutService,this.validationService=validationService,this.blur=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.vpe,this.change=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.vpe,this.focus=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.vpe}getCheckboxId(model){return this.layoutService.getElementId(model)}onCheckboxChange($event,model){this.onChange($event),model.value=$event.target.checked}}__name(DynamicNGBootstrapCheckboxGroupComponent,"DynamicNGBootstrapCheckboxGroupComponent"),DynamicNGBootstrapCheckboxGroupComponent.\u0275fac=__name(function(t){return new(t||DynamicNGBootstrapCheckboxGroupComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_0__.Y36(_ng_dynamic_forms_core__WEBPACK_IMPORTED_MODULE_1__.vnf),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Y36(_ng_dynamic_forms_core__WEBPACK_IMPORTED_MODULE_1__.fhz))},"DynamicNGBootstrapCheckboxGroupComponent_Factory"),DynamicNGBootstrapCheckboxGroupComponent.\u0275cmp=_angular_core__WEBPACK_IMPORTED_MODULE_0__.Xpm({type:DynamicNGBootstrapCheckboxGroupComponent,selectors:[["dynamic-ng-bootstrap-checkbox-group"]],inputs:{formLayout:"formLayout",group:"group",layout:"layout",model:"model"},outputs:{blur:"blur",change:"change",focus:"focus"},features:[_angular_core__WEBPACK_IMPORTED_MODULE_0__.qOj],decls:3,vars:5,consts:[[3,"formGroup"],["data-toggle","buttons",1,"btn-group","btn-group-toggle",3,"formGroupName","id","ngClass"],["ngbButtonLabel","",3,"hidden","ngClass",4,"ngFor","ngForOf"],["ngbButtonLabel","",3,"hidden","ngClass"],["type","checkbox","ngbButton","",3,"checked","formControlName","id","name","required","tabindex","value","blur","change","focus"],[3,"ngClass","innerHTML"]],template:__name(function(rf,ctx){1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_0__.ynx(0,0),_angular_core__WEBPACK_IMPORTED_MODULE_0__.TgZ(1,"div",1),_angular_core__WEBPACK_IMPORTED_MODULE_0__.YNc(2,DynamicNGBootstrapCheckboxGroupComponent_label_2_Template,3,11,"label",2),_angular_core__WEBPACK_IMPORTED_MODULE_0__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_0__.BQk()),2&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_0__.Q6J("formGroup",ctx.group),_angular_core__WEBPACK_IMPORTED_MODULE_0__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Q6J("formGroupName",ctx.model.id)("id",ctx.id)("ngClass",ctx.getClass("element","control")),_angular_core__WEBPACK_IMPORTED_MODULE_0__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Q6J("ngForOf",ctx.model.group))},"DynamicNGBootstrapCheckboxGroupComponent_Template"),directives:[_angular_forms__WEBPACK_IMPORTED_MODULE_3__.JL,_angular_forms__WEBPACK_IMPORTED_MODULE_3__.sg,_angular_forms__WEBPACK_IMPORTED_MODULE_3__.x0,_angular_common__WEBPACK_IMPORTED_MODULE_4__.mk,_angular_common__WEBPACK_IMPORTED_MODULE_4__.sg,_ng_bootstrap_ng_bootstrap__WEBPACK_IMPORTED_MODULE_2__.mL,_angular_forms__WEBPACK_IMPORTED_MODULE_3__.Wl,_angular_forms__WEBPACK_IMPORTED_MODULE_3__.Zs,_ng_bootstrap_ng_bootstrap__WEBPACK_IMPORTED_MODULE_2__.W9,_angular_forms__WEBPACK_IMPORTED_MODULE_3__.JJ,_angular_forms__WEBPACK_IMPORTED_MODULE_3__.u],encapsulation:2,changeDetection:0});class DynamicNGBootstrapDatePickerComponent extends _ng_dynamic_forms_core__WEBPACK_IMPORTED_MODULE_1__.LvC{constructor(layoutService,validationService,config){super(layoutService,validationService),this.layoutService=layoutService,this.validationService=validationService,this.config=config,this.blur=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.vpe,this.change=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.vpe,this.customEvent=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.vpe,this.focus=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.vpe}}__name(DynamicNGBootstrapDatePickerComponent,"DynamicNGBootstrapDatePickerComponent"),DynamicNGBootstrapDatePickerComponent.\u0275fac=__name(function(t){return new(t||DynamicNGBootstrapDatePickerComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_0__.Y36(_ng_dynamic_forms_core__WEBPACK_IMPORTED_MODULE_1__.vnf),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Y36(_ng_dynamic_forms_core__WEBPACK_IMPORTED_MODULE_1__.fhz),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Y36(_ng_bootstrap_ng_bootstrap__WEBPACK_IMPORTED_MODULE_2__.M4))},"DynamicNGBootstrapDatePickerComponent_Factory"),DynamicNGBootstrapDatePickerComponent.\u0275cmp=_angular_core__WEBPACK_IMPORTED_MODULE_0__.Xpm({type:DynamicNGBootstrapDatePickerComponent,selectors:[["dynamic-ng-bootstrap-datepicker"]],viewQuery:__name(function(rf,ctx){if(1&rf&&_angular_core__WEBPACK_IMPORTED_MODULE_0__.Gf(_ng_bootstrap_ng_bootstrap__WEBPACK_IMPORTED_MODULE_2__.VL,5),2&rf){let _t;_angular_core__WEBPACK_IMPORTED_MODULE_0__.iGM(_t=_angular_core__WEBPACK_IMPORTED_MODULE_0__.CRH())&&(ctx.ngbDatePicker=_t.first)}},"DynamicNGBootstrapDatePickerComponent_Query"),inputs:{formLayout:"formLayout",group:"group",layout:"layout",model:"model"},outputs:{blur:"blur",change:"change",customEvent:"customEvent",focus:"focus"},features:[_angular_core__WEBPACK_IMPORTED_MODULE_0__.qOj],decls:7,vars:20,consts:[[1,"input-group",3,"formGroup"],["ngbDatepicker","",1,"form-control",3,"displayMonths","firstDayOfWeek","formControlName","id","maxDate","minDate","name","navigation","ngClass","outsideDays","placeholder","placement","showWeekNumbers","startDate","weekdays","blur","dateSelect","closed","change","focus"],["datepicker","ngbDatepicker"],[1,"input-group-append"],["type","button",1,"btn","btn-outline-secondary",3,"click"],["style","cursor: pointer;",3,"src",4,"ngIf"],[4,"ngIf"],[2,"cursor","pointer",3,"src"]],template:__name(function(rf,ctx){if(1&rf){const _r3=_angular_core__WEBPACK_IMPORTED_MODULE_0__.EpF();_angular_core__WEBPACK_IMPORTED_MODULE_0__.TgZ(0,"div",0)(1,"input",1,2),_angular_core__WEBPACK_IMPORTED_MODULE_0__.NdJ("blur",__name(function($event){return ctx.onBlur($event)},"DynamicNGBootstrapDatePickerComponent_Template_input_blur_1_listener"))("dateSelect",__name(function($event){return ctx.onCustomEvent($event,"dateSelect")},"DynamicNGBootstrapDatePickerComponent_Template_input_dateSelect_1_listener"))("closed",__name(function($event){return ctx.onCustomEvent($event,"closed")},"DynamicNGBootstrapDatePickerComponent_Template_input_closed_1_listener"))("change",__name(function($event){return ctx.onChange($event)},"DynamicNGBootstrapDatePickerComponent_Template_input_change_1_listener"))("focus",__name(function($event){return ctx.onFocus($event)},"DynamicNGBootstrapDatePickerComponent_Template_input_focus_1_listener")),_angular_core__WEBPACK_IMPORTED_MODULE_0__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_0__.TgZ(3,"div",3)(4,"button",4),_angular_core__WEBPACK_IMPORTED_MODULE_0__.NdJ("click",__name(function(){return _angular_core__WEBPACK_IMPORTED_MODULE_0__.CHM(_r3),_angular_core__WEBPACK_IMPORTED_MODULE_0__.MAs(2).toggle()},"DynamicNGBootstrapDatePickerComponent_Template_button_click_4_listener")),_angular_core__WEBPACK_IMPORTED_MODULE_0__.YNc(5,DynamicNGBootstrapDatePickerComponent_img_5_Template,1,1,"img",5),_angular_core__WEBPACK_IMPORTED_MODULE_0__.YNc(6,DynamicNGBootstrapDatePickerComponent_span_6_Template,2,1,"span",6),_angular_core__WEBPACK_IMPORTED_MODULE_0__.qZA()()()}2&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_0__.Q6J("formGroup",ctx.group),_angular_core__WEBPACK_IMPORTED_MODULE_0__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_0__.ekj("is-invalid",ctx.showErrorMessages),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Q6J("displayMonths",ctx.model.getAdditional("displayMonths",ctx.config.displayMonths))("firstDayOfWeek",ctx.model.getAdditional("firstDayOfWeek",ctx.config.firstDayOfWeek))("formControlName",ctx.model.id)("id",ctx.id)("maxDate",ctx.model.max)("minDate",ctx.model.min)("name",ctx.model.name)("navigation",ctx.model.getAdditional("navigation",ctx.config.navigation))("ngClass",ctx.getClass("element","control"))("outsideDays",ctx.model.getAdditional("outsideDays",ctx.config.outsideDays))("placeholder",ctx.model.placeholder)("placement",ctx.model.getAdditional("placement","bottom-left"))("showWeekNumbers",ctx.model.getAdditional("showWeekNumbers",ctx.config.showWeekNumbers))("startDate",ctx.model.focusedDate)("weekdays",ctx.model.getAdditional("weekdays",ctx.config.weekdays)),_angular_core__WEBPACK_IMPORTED_MODULE_0__.xp6(4),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Q6J("ngIf",ctx.model.toggleIcon),_angular_core__WEBPACK_IMPORTED_MODULE_0__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Q6J("ngIf",ctx.model.toggleLabel))},"DynamicNGBootstrapDatePickerComponent_Template"),directives:[_angular_forms__WEBPACK_IMPORTED_MODULE_3__.JL,_angular_forms__WEBPACK_IMPORTED_MODULE_3__.sg,_ng_bootstrap_ng_bootstrap__WEBPACK_IMPORTED_MODULE_2__.J4,_angular_forms__WEBPACK_IMPORTED_MODULE_3__.Fj,_angular_forms__WEBPACK_IMPORTED_MODULE_3__.JJ,_angular_forms__WEBPACK_IMPORTED_MODULE_3__.u,_angular_common__WEBPACK_IMPORTED_MODULE_4__.mk,_angular_common__WEBPACK_IMPORTED_MODULE_4__.O5],encapsulation:2});class DynamicNGBootstrapInputComponent extends _ng_dynamic_forms_core__WEBPACK_IMPORTED_MODULE_1__.LvC{constructor(layoutService,validationService){super(layoutService,validationService),this.layoutService=layoutService,this.validationService=validationService,this.blur=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.vpe,this.change=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.vpe,this.focus=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.vpe}}__name(DynamicNGBootstrapInputComponent,"DynamicNGBootstrapInputComponent"),DynamicNGBootstrapInputComponent.\u0275fac=__name(function(t){return new(t||DynamicNGBootstrapInputComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_0__.Y36(_ng_dynamic_forms_core__WEBPACK_IMPORTED_MODULE_1__.vnf),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Y36(_ng_dynamic_forms_core__WEBPACK_IMPORTED_MODULE_1__.fhz))},"DynamicNGBootstrapInputComponent_Factory"),DynamicNGBootstrapInputComponent.\u0275cmp=_angular_core__WEBPACK_IMPORTED_MODULE_0__.Xpm({type:DynamicNGBootstrapInputComponent,selectors:[["dynamic-ng-bootstrap-input"]],inputs:{formLayout:"formLayout",group:"group",layout:"layout",model:"model"},outputs:{blur:"blur",change:"change",focus:"focus"},features:[_angular_core__WEBPACK_IMPORTED_MODULE_0__.qOj],decls:7,vars:8,consts:[[3,"formGroup"],["class","input-group-prepend",4,"ngIf"],["class","form-control-file",3,"autocomplete","autofocus","is-invalid","dynamicList","formControlName","id","maxlength","minlength","name","ngClass","pattern","placeholder","readonly","required","spellcheck","tabindex","type","blur","change","focus",4,"ngIf","ngIfElse"],["maskedInput",""],["class","input-group-append",4,"ngIf"],[3,"id",4,"ngIf"],[1,"input-group-prepend"],[1,"input-group-text",3,"innerHTML"],[1,"form-control-file",3,"autocomplete","autofocus","dynamicList","formControlName","id","maxlength","minlength","name","ngClass","pattern","placeholder","readonly","required","spellcheck","tabindex","type","blur","change","focus"],[1,"form-control",3,"autocomplete","autofocus","dynamicList","formControlName","id","maxlength","minlength","name","ngClass","pattern","placeholder","readonly","required","spellcheck","tabindex","mask","specialCharacters","patterns","prefix","suffix","thousandSeparator","decimalMarker","dropSpecialCharacters","hiddenInput","showMaskTyped","placeHolderCharacter","shownMaskExpression","showTemplate","clearIfNotMatch","validation","separatorLimit","allowNegativeNumbers","leadZeroDateTime","type","blur","change","focus"],[1,"input-group-append"],[3,"id"],[3,"value",4,"ngFor","ngForOf"],[3,"value"]],template:__name(function(rf,ctx){if(1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_0__.TgZ(0,"div",0),_angular_core__WEBPACK_IMPORTED_MODULE_0__.YNc(1,DynamicNGBootstrapInputComponent_div_1_Template,2,1,"div",1),_angular_core__WEBPACK_IMPORTED_MODULE_0__.YNc(2,DynamicNGBootstrapInputComponent_input_2_Template,1,23,"input",2),_angular_core__WEBPACK_IMPORTED_MODULE_0__.YNc(3,DynamicNGBootstrapInputComponent_ng_template_3_Template,1,41,"ng-template",null,3,_angular_core__WEBPACK_IMPORTED_MODULE_0__.W1O),_angular_core__WEBPACK_IMPORTED_MODULE_0__.YNc(5,DynamicNGBootstrapInputComponent_div_5_Template,2,1,"div",4),_angular_core__WEBPACK_IMPORTED_MODULE_0__.YNc(6,DynamicNGBootstrapInputComponent_datalist_6_Template,3,4,"datalist",5),_angular_core__WEBPACK_IMPORTED_MODULE_0__.qZA()),2&rf){const _r2=_angular_core__WEBPACK_IMPORTED_MODULE_0__.MAs(4);_angular_core__WEBPACK_IMPORTED_MODULE_0__.ekj("input-group",ctx.model.prefix||ctx.model.suffix),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Q6J("formGroup",ctx.group),_angular_core__WEBPACK_IMPORTED_MODULE_0__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Q6J("ngIf",ctx.model.prefix),_angular_core__WEBPACK_IMPORTED_MODULE_0__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Q6J("ngIf","file"===ctx.model.inputType)("ngIfElse",_r2),_angular_core__WEBPACK_IMPORTED_MODULE_0__.xp6(3),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Q6J("ngIf",ctx.model.suffix),_angular_core__WEBPACK_IMPORTED_MODULE_0__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Q6J("ngIf",ctx.model.hasList)}},"DynamicNGBootstrapInputComponent_Template"),directives:[_angular_forms__WEBPACK_IMPORTED_MODULE_3__.JL,_angular_forms__WEBPACK_IMPORTED_MODULE_3__.sg,_angular_common__WEBPACK_IMPORTED_MODULE_4__.O5,_angular_forms__WEBPACK_IMPORTED_MODULE_3__.Fj,_ng_dynamic_forms_core__WEBPACK_IMPORTED_MODULE_1__.fQg,_angular_forms__WEBPACK_IMPORTED_MODULE_3__.JJ,_angular_forms__WEBPACK_IMPORTED_MODULE_3__.u,_angular_forms__WEBPACK_IMPORTED_MODULE_3__.nD,_angular_forms__WEBPACK_IMPORTED_MODULE_3__.wO,_angular_common__WEBPACK_IMPORTED_MODULE_4__.mk,_angular_forms__WEBPACK_IMPORTED_MODULE_3__.c5,_angular_forms__WEBPACK_IMPORTED_MODULE_3__.Q7,ngx_mask__WEBPACK_IMPORTED_MODULE_5__.hx,_angular_common__WEBPACK_IMPORTED_MODULE_4__.sg,_angular_forms__WEBPACK_IMPORTED_MODULE_3__.YN,_angular_forms__WEBPACK_IMPORTED_MODULE_3__.Kr],pipes:[_angular_common__WEBPACK_IMPORTED_MODULE_4__.Ov],encapsulation:2});class DynamicNGBootstrapRadioGroupComponent extends _ng_dynamic_forms_core__WEBPACK_IMPORTED_MODULE_1__.LvC{constructor(layoutService,validationService){super(layoutService,validationService),this.layoutService=layoutService,this.validationService=validationService,this.blur=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.vpe,this.change=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.vpe,this.focus=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.vpe}}__name(DynamicNGBootstrapRadioGroupComponent,"DynamicNGBootstrapRadioGroupComponent"),DynamicNGBootstrapRadioGroupComponent.\u0275fac=__name(function(t){return new(t||DynamicNGBootstrapRadioGroupComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_0__.Y36(_ng_dynamic_forms_core__WEBPACK_IMPORTED_MODULE_1__.vnf),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Y36(_ng_dynamic_forms_core__WEBPACK_IMPORTED_MODULE_1__.fhz))},"DynamicNGBootstrapRadioGroupComponent_Factory"),DynamicNGBootstrapRadioGroupComponent.\u0275cmp=_angular_core__WEBPACK_IMPORTED_MODULE_0__.Xpm({type:DynamicNGBootstrapRadioGroupComponent,selectors:[["dynamic-ng-bootstrap-radio-group"]],inputs:{formLayout:"formLayout",group:"group",layout:"layout",model:"model"},outputs:{blur:"blur",change:"change",focus:"focus"},features:[_angular_core__WEBPACK_IMPORTED_MODULE_0__.qOj],decls:5,vars:9,consts:[[3,"formGroup"],["ngbRadioGroup","","role","radiogroup",1,"btn-group","btn-group-toggle",3,"formControlName","id","ngClass","tabindex","change"],[3,"innerHTML",4,"ngIf"],["ngbButtonLabel","",3,"ngClass",4,"ngFor","ngForOf"],[3,"innerHTML"],["ngbButtonLabel","",3,"ngClass"],["type","radio","ngbButton","",3,"disabled","name","value","blur","focus"]],template:__name(function(rf,ctx){1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_0__.ynx(0,0),_angular_core__WEBPACK_IMPORTED_MODULE_0__.TgZ(1,"div",1),_angular_core__WEBPACK_IMPORTED_MODULE_0__.NdJ("change",__name(function($event){return ctx.onChange($event)},"DynamicNGBootstrapRadioGroupComponent_Template_div_change_1_listener")),_angular_core__WEBPACK_IMPORTED_MODULE_0__.YNc(2,DynamicNGBootstrapRadioGroupComponent_legend_2_Template,1,1,"legend",2),_angular_core__WEBPACK_IMPORTED_MODULE_0__.YNc(3,DynamicNGBootstrapRadioGroupComponent_label_3_Template,3,8,"label",3),_angular_core__WEBPACK_IMPORTED_MODULE_0__.ALo(4,"async"),_angular_core__WEBPACK_IMPORTED_MODULE_0__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_0__.BQk()),2&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_0__.Q6J("formGroup",ctx.group),_angular_core__WEBPACK_IMPORTED_MODULE_0__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Q6J("formControlName",ctx.model.id)("id",ctx.id)("ngClass",ctx.getClass("element","control"))("tabindex",ctx.model.tabIndex),_angular_core__WEBPACK_IMPORTED_MODULE_0__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Q6J("ngIf",ctx.model.legend),_angular_core__WEBPACK_IMPORTED_MODULE_0__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Q6J("ngForOf",_angular_core__WEBPACK_IMPORTED_MODULE_0__.lcZ(4,7,ctx.model.options$)))},"DynamicNGBootstrapRadioGroupComponent_Template"),directives:[_angular_forms__WEBPACK_IMPORTED_MODULE_3__.JL,_angular_forms__WEBPACK_IMPORTED_MODULE_3__.sg,_ng_bootstrap_ng_bootstrap__WEBPACK_IMPORTED_MODULE_2__.py,_angular_forms__WEBPACK_IMPORTED_MODULE_3__.JJ,_angular_forms__WEBPACK_IMPORTED_MODULE_3__.u,_angular_common__WEBPACK_IMPORTED_MODULE_4__.mk,_angular_common__WEBPACK_IMPORTED_MODULE_4__.O5,_angular_common__WEBPACK_IMPORTED_MODULE_4__.sg,_ng_bootstrap_ng_bootstrap__WEBPACK_IMPORTED_MODULE_2__.mL,_ng_bootstrap_ng_bootstrap__WEBPACK_IMPORTED_MODULE_2__.aB],pipes:[_angular_common__WEBPACK_IMPORTED_MODULE_4__.Ov],encapsulation:2,changeDetection:0});class DynamicNGBootstrapRatingComponent extends _ng_dynamic_forms_core__WEBPACK_IMPORTED_MODULE_1__.LvC{constructor(layoutService,validationService,config){super(layoutService,validationService),this.layoutService=layoutService,this.validationService=validationService,this.config=config,this.blur=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.vpe,this.change=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.vpe,this.customEvent=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.vpe,this.focus=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.vpe}}__name(DynamicNGBootstrapRatingComponent,"DynamicNGBootstrapRatingComponent"),DynamicNGBootstrapRatingComponent.\u0275fac=__name(function(t){return new(t||DynamicNGBootstrapRatingComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_0__.Y36(_ng_dynamic_forms_core__WEBPACK_IMPORTED_MODULE_1__.vnf),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Y36(_ng_dynamic_forms_core__WEBPACK_IMPORTED_MODULE_1__.fhz),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Y36(_ng_bootstrap_ng_bootstrap__WEBPACK_IMPORTED_MODULE_2__.M0))},"DynamicNGBootstrapRatingComponent_Factory"),DynamicNGBootstrapRatingComponent.\u0275cmp=_angular_core__WEBPACK_IMPORTED_MODULE_0__.Xpm({type:DynamicNGBootstrapRatingComponent,selectors:[["dynamic-ng-bootstrap-rating"]],viewQuery:__name(function(rf,ctx){if(1&rf&&_angular_core__WEBPACK_IMPORTED_MODULE_0__.Gf(_ng_bootstrap_ng_bootstrap__WEBPACK_IMPORTED_MODULE_2__.OC,7),2&rf){let _t;_angular_core__WEBPACK_IMPORTED_MODULE_0__.iGM(_t=_angular_core__WEBPACK_IMPORTED_MODULE_0__.CRH())&&(ctx.ngbRating=_t.first)}},"DynamicNGBootstrapRatingComponent_Query"),inputs:{formLayout:"formLayout",group:"group",layout:"layout",model:"model"},outputs:{blur:"blur",change:"change",customEvent:"customEvent",focus:"focus"},features:[_angular_core__WEBPACK_IMPORTED_MODULE_0__.qOj],decls:2,vars:6,consts:[[3,"formGroup"],[3,"formControlName","id","max","ngClass","resettable","hover","leave","rateChange"]],template:__name(function(rf,ctx){1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_0__.ynx(0,0),_angular_core__WEBPACK_IMPORTED_MODULE_0__.TgZ(1,"ngb-rating",1),_angular_core__WEBPACK_IMPORTED_MODULE_0__.NdJ("hover",__name(function($event){return ctx.onCustomEvent($event,"hover")},"DynamicNGBootstrapRatingComponent_Template_ngb_rating_hover_1_listener"))("leave",__name(function($event){return ctx.onCustomEvent($event,"leave")},"DynamicNGBootstrapRatingComponent_Template_ngb_rating_leave_1_listener"))("rateChange",__name(function($event){return ctx.onChange($event)},"DynamicNGBootstrapRatingComponent_Template_ngb_rating_rateChange_1_listener")),_angular_core__WEBPACK_IMPORTED_MODULE_0__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_0__.BQk()),2&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_0__.Q6J("formGroup",ctx.group),_angular_core__WEBPACK_IMPORTED_MODULE_0__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Q6J("formControlName",ctx.model.id)("id",ctx.id)("max",ctx.model.max)("ngClass",ctx.getClass("element","control"))("resettable",ctx.model.getAdditional("resettable",ctx.config.resettable)))},"DynamicNGBootstrapRatingComponent_Template"),directives:[_ng_bootstrap_ng_bootstrap__WEBPACK_IMPORTED_MODULE_2__.OC,_angular_forms__WEBPACK_IMPORTED_MODULE_3__.JL,_angular_forms__WEBPACK_IMPORTED_MODULE_3__.sg,_angular_forms__WEBPACK_IMPORTED_MODULE_3__.JJ,_angular_forms__WEBPACK_IMPORTED_MODULE_3__.u,_angular_common__WEBPACK_IMPORTED_MODULE_4__.mk],encapsulation:2,changeDetection:0});class DynamicNGBootstrapSelectComponent extends _ng_dynamic_forms_core__WEBPACK_IMPORTED_MODULE_1__.LvC{constructor(layoutService,validationService){super(layoutService,validationService),this.layoutService=layoutService,this.validationService=validationService,this.blur=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.vpe,this.change=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.vpe,this.focus=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.vpe}}__name(DynamicNGBootstrapSelectComponent,"DynamicNGBootstrapSelectComponent"),DynamicNGBootstrapSelectComponent.\u0275fac=__name(function(t){return new(t||DynamicNGBootstrapSelectComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_0__.Y36(_ng_dynamic_forms_core__WEBPACK_IMPORTED_MODULE_1__.vnf),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Y36(_ng_dynamic_forms_core__WEBPACK_IMPORTED_MODULE_1__.fhz))},"DynamicNGBootstrapSelectComponent_Factory"),DynamicNGBootstrapSelectComponent.\u0275cmp=_angular_core__WEBPACK_IMPORTED_MODULE_0__.Xpm({type:DynamicNGBootstrapSelectComponent,selectors:[["dynamic-ng-bootstrap-select"]],inputs:{formLayout:"formLayout",group:"group",layout:"layout",model:"model"},outputs:{blur:"blur",change:"change",focus:"focus"},features:[_angular_core__WEBPACK_IMPORTED_MODULE_0__.qOj],decls:4,vars:13,consts:[[3,"formGroup"],[1,"form-control",3,"compareWith","formControlName","id","name","ngClass","required","tabindex","blur","change","focus"],[3,"disabled","ngValue",4,"ngFor","ngForOf"],[3,"disabled","ngValue"]],template:__name(function(rf,ctx){1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_0__.ynx(0,0),_angular_core__WEBPACK_IMPORTED_MODULE_0__.TgZ(1,"select",1),_angular_core__WEBPACK_IMPORTED_MODULE_0__.NdJ("blur",__name(function($event){return ctx.onBlur($event)},"DynamicNGBootstrapSelectComponent_Template_select_blur_1_listener"))("change",__name(function($event){return ctx.onChange($event)},"DynamicNGBootstrapSelectComponent_Template_select_change_1_listener"))("focus",__name(function($event){return ctx.onFocus($event)},"DynamicNGBootstrapSelectComponent_Template_select_focus_1_listener")),_angular_core__WEBPACK_IMPORTED_MODULE_0__.YNc(2,DynamicNGBootstrapSelectComponent_option_2_Template,2,3,"option",2),_angular_core__WEBPACK_IMPORTED_MODULE_0__.ALo(3,"async"),_angular_core__WEBPACK_IMPORTED_MODULE_0__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_0__.BQk()),2&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_0__.Q6J("formGroup",ctx.group),_angular_core__WEBPACK_IMPORTED_MODULE_0__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_0__.ekj("is-invalid",ctx.showErrorMessages),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Q6J("compareWith",ctx.model.compareWithFn)("formControlName",ctx.model.id)("id",ctx.id)("name",ctx.model.name)("ngClass",ctx.getClass("element","control"))("required",ctx.model.required)("tabindex",ctx.model.tabIndex),_angular_core__WEBPACK_IMPORTED_MODULE_0__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Q6J("ngForOf",_angular_core__WEBPACK_IMPORTED_MODULE_0__.lcZ(3,11,ctx.model.options$)))},"DynamicNGBootstrapSelectComponent_Template"),directives:[_angular_forms__WEBPACK_IMPORTED_MODULE_3__.JL,_angular_forms__WEBPACK_IMPORTED_MODULE_3__.sg,_angular_forms__WEBPACK_IMPORTED_MODULE_3__.EJ,_angular_forms__WEBPACK_IMPORTED_MODULE_3__.JJ,_angular_forms__WEBPACK_IMPORTED_MODULE_3__.u,_angular_common__WEBPACK_IMPORTED_MODULE_4__.mk,_angular_forms__WEBPACK_IMPORTED_MODULE_3__.Q7,_angular_common__WEBPACK_IMPORTED_MODULE_4__.sg,_angular_forms__WEBPACK_IMPORTED_MODULE_3__.YN,_angular_forms__WEBPACK_IMPORTED_MODULE_3__.Kr],pipes:[_angular_common__WEBPACK_IMPORTED_MODULE_4__.Ov],encapsulation:2});class DynamicNGBootstrapSwitchComponent extends _ng_dynamic_forms_core__WEBPACK_IMPORTED_MODULE_1__.LvC{constructor(layoutService,validationService){super(layoutService,validationService),this.layoutService=layoutService,this.validationService=validationService,this.blur=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.vpe,this.change=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.vpe,this.focus=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.vpe}}__name(DynamicNGBootstrapSwitchComponent,"DynamicNGBootstrapSwitchComponent"),DynamicNGBootstrapSwitchComponent.\u0275fac=__name(function(t){return new(t||DynamicNGBootstrapSwitchComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_0__.Y36(_ng_dynamic_forms_core__WEBPACK_IMPORTED_MODULE_1__.vnf),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Y36(_ng_dynamic_forms_core__WEBPACK_IMPORTED_MODULE_1__.fhz))},"DynamicNGBootstrapSwitchComponent_Factory"),DynamicNGBootstrapSwitchComponent.\u0275cmp=_angular_core__WEBPACK_IMPORTED_MODULE_0__.Xpm({type:DynamicNGBootstrapSwitchComponent,selectors:[["dynamic-ng-bootstrap-switch"]],inputs:{formLayout:"formLayout",group:"group",layout:"layout",model:"model"},outputs:{blur:"blur",change:"change",focus:"focus"},features:[_angular_core__WEBPACK_IMPORTED_MODULE_0__.qOj],decls:3,vars:12,consts:[[1,"custom-control","custom-switch",3,"formGroup"],["type","checkbox",1,"custom-control-input",3,"formControlName","id","name","ngClass","required","tabindex","value","blur","change","focus"],[1,"custom-control-label",3,"for","innerHTML"]],template:__name(function(rf,ctx){1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_0__.TgZ(0,"div",0)(1,"input",1),_angular_core__WEBPACK_IMPORTED_MODULE_0__.NdJ("blur",__name(function($event){return ctx.onBlur($event)},"DynamicNGBootstrapSwitchComponent_Template_input_blur_1_listener"))("change",__name(function($event){return ctx.onChange($event)},"DynamicNGBootstrapSwitchComponent_Template_input_change_1_listener"))("focus",__name(function($event){return ctx.onFocus($event)},"DynamicNGBootstrapSwitchComponent_Template_input_focus_1_listener")),_angular_core__WEBPACK_IMPORTED_MODULE_0__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_0__._UZ(2,"label",2),_angular_core__WEBPACK_IMPORTED_MODULE_0__.qZA()),2&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_0__.Q6J("formGroup",ctx.group),_angular_core__WEBPACK_IMPORTED_MODULE_0__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_0__.ekj("is-invalid",ctx.showErrorMessages),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Q6J("formControlName",ctx.model.id)("id",ctx.id)("name",ctx.model.name)("ngClass",ctx.getClass("element","control"))("required",ctx.model.required)("tabindex",ctx.model.tabIndex)("value",ctx.model.value),_angular_core__WEBPACK_IMPORTED_MODULE_0__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Q6J("for",ctx.id)("innerHTML",ctx.model.label,_angular_core__WEBPACK_IMPORTED_MODULE_0__.oJD))},"DynamicNGBootstrapSwitchComponent_Template"),directives:[_angular_forms__WEBPACK_IMPORTED_MODULE_3__.JL,_angular_forms__WEBPACK_IMPORTED_MODULE_3__.sg,_angular_forms__WEBPACK_IMPORTED_MODULE_3__.Wl,_angular_forms__WEBPACK_IMPORTED_MODULE_3__.Zs,_angular_forms__WEBPACK_IMPORTED_MODULE_3__.JJ,_angular_forms__WEBPACK_IMPORTED_MODULE_3__.u,_angular_common__WEBPACK_IMPORTED_MODULE_4__.mk],encapsulation:2});class DynamicNGBootstrapTextAreaComponent extends _ng_dynamic_forms_core__WEBPACK_IMPORTED_MODULE_1__.LvC{constructor(layoutService,validationService){super(layoutService,validationService),this.layoutService=layoutService,this.validationService=validationService,this.blur=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.vpe,this.change=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.vpe,this.focus=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.vpe}}__name(DynamicNGBootstrapTextAreaComponent,"DynamicNGBootstrapTextAreaComponent"),DynamicNGBootstrapTextAreaComponent.\u0275fac=__name(function(t){return new(t||DynamicNGBootstrapTextAreaComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_0__.Y36(_ng_dynamic_forms_core__WEBPACK_IMPORTED_MODULE_1__.vnf),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Y36(_ng_dynamic_forms_core__WEBPACK_IMPORTED_MODULE_1__.fhz))},"DynamicNGBootstrapTextAreaComponent_Factory"),DynamicNGBootstrapTextAreaComponent.\u0275cmp=_angular_core__WEBPACK_IMPORTED_MODULE_0__.Xpm({type:DynamicNGBootstrapTextAreaComponent,selectors:[["dynamic-ng-bootstrap-textarea"]],inputs:{formLayout:"formLayout",group:"group",layout:"layout",model:"model"},outputs:{blur:"blur",change:"change",focus:"focus"},features:[_angular_core__WEBPACK_IMPORTED_MODULE_0__.qOj],decls:2,vars:17,consts:[[3,"formGroup"],[1,"form-control",3,"cols","formControlName","id","maxlength","minlength","name","ngClass","placeholder","readonly","required","rows","spellcheck","tabindex","wrap","blur","change","focus"]],template:__name(function(rf,ctx){1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_0__.ynx(0,0),_angular_core__WEBPACK_IMPORTED_MODULE_0__.TgZ(1,"textarea",1),_angular_core__WEBPACK_IMPORTED_MODULE_0__.NdJ("blur",__name(function($event){return ctx.onBlur($event)},"DynamicNGBootstrapTextAreaComponent_Template_textarea_blur_1_listener"))("change",__name(function($event){return ctx.onChange($event)},"DynamicNGBootstrapTextAreaComponent_Template_textarea_change_1_listener"))("focus",__name(function($event){return ctx.onFocus($event)},"DynamicNGBootstrapTextAreaComponent_Template_textarea_focus_1_listener")),_angular_core__WEBPACK_IMPORTED_MODULE_0__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_0__.BQk()),2&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_0__.Q6J("formGroup",ctx.group),_angular_core__WEBPACK_IMPORTED_MODULE_0__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_0__.ekj("is-invalid",ctx.showErrorMessages),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Q6J("cols",ctx.model.cols)("formControlName",ctx.model.id)("id",ctx.id)("maxlength",ctx.model.maxLength)("minlength",ctx.model.minLength)("name",ctx.model.name)("ngClass",ctx.getClass("element","control"))("placeholder",ctx.model.placeholder)("readonly",ctx.model.readOnly)("required",ctx.model.required)("rows",ctx.model.rows)("spellcheck",ctx.model.spellCheck)("tabindex",ctx.model.tabIndex)("wrap",ctx.model.wrap))},"DynamicNGBootstrapTextAreaComponent_Template"),directives:[_angular_forms__WEBPACK_IMPORTED_MODULE_3__.JL,_angular_forms__WEBPACK_IMPORTED_MODULE_3__.sg,_angular_forms__WEBPACK_IMPORTED_MODULE_3__.Fj,_angular_forms__WEBPACK_IMPORTED_MODULE_3__.JJ,_angular_forms__WEBPACK_IMPORTED_MODULE_3__.u,_angular_forms__WEBPACK_IMPORTED_MODULE_3__.nD,_angular_forms__WEBPACK_IMPORTED_MODULE_3__.wO,_angular_common__WEBPACK_IMPORTED_MODULE_4__.mk,_angular_forms__WEBPACK_IMPORTED_MODULE_3__.Q7],encapsulation:2});class DynamicNGBootstrapTimePickerComponent extends _ng_dynamic_forms_core__WEBPACK_IMPORTED_MODULE_1__.LvC{constructor(layoutService,validationService,config){super(layoutService,validationService),this.layoutService=layoutService,this.validationService=validationService,this.config=config,this.blur=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.vpe,this.change=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.vpe,this.focus=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.vpe}}__name(DynamicNGBootstrapTimePickerComponent,"DynamicNGBootstrapTimePickerComponent"),DynamicNGBootstrapTimePickerComponent.\u0275fac=__name(function(t){return new(t||DynamicNGBootstrapTimePickerComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_0__.Y36(_ng_dynamic_forms_core__WEBPACK_IMPORTED_MODULE_1__.vnf),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Y36(_ng_dynamic_forms_core__WEBPACK_IMPORTED_MODULE_1__.fhz),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Y36(_ng_bootstrap_ng_bootstrap__WEBPACK_IMPORTED_MODULE_2__.Kk))},"DynamicNGBootstrapTimePickerComponent_Factory"),DynamicNGBootstrapTimePickerComponent.\u0275cmp=_angular_core__WEBPACK_IMPORTED_MODULE_0__.Xpm({type:DynamicNGBootstrapTimePickerComponent,selectors:[["dynamic-ng-bootstrap-timepicker"]],viewQuery:__name(function(rf,ctx){if(1&rf&&_angular_core__WEBPACK_IMPORTED_MODULE_0__.Gf(_ng_bootstrap_ng_bootstrap__WEBPACK_IMPORTED_MODULE_2__.Pm,7),2&rf){let _t;_angular_core__WEBPACK_IMPORTED_MODULE_0__.iGM(_t=_angular_core__WEBPACK_IMPORTED_MODULE_0__.CRH())&&(ctx.ngbTimePicker=_t.first)}},"DynamicNGBootstrapTimePickerComponent_Query"),inputs:{formLayout:"formLayout",group:"group",layout:"layout",model:"model"},outputs:{blur:"blur",change:"change",focus:"focus"},features:[_angular_core__WEBPACK_IMPORTED_MODULE_0__.qOj],decls:2,vars:11,consts:[[3,"formGroup"],[3,"id","formControlName","hourStep","meridian","minuteStep","ngClass","seconds","secondStep","size","spinners"]],template:__name(function(rf,ctx){1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_0__.ynx(0,0),_angular_core__WEBPACK_IMPORTED_MODULE_0__._UZ(1,"ngb-timepicker",1),_angular_core__WEBPACK_IMPORTED_MODULE_0__.BQk()),2&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_0__.Q6J("formGroup",ctx.group),_angular_core__WEBPACK_IMPORTED_MODULE_0__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Q6J("id",ctx.id)("formControlName",ctx.model.id)("hourStep",ctx.model.getAdditional("hourStep",ctx.config.hourStep))("meridian",ctx.model.meridian)("minuteStep",ctx.model.getAdditional("minuteStep",ctx.config.minuteStep))("ngClass",ctx.getClass("element","control"))("seconds",ctx.model.showSeconds)("secondStep",ctx.model.getAdditional("secondStep",ctx.config.secondStep))("size",ctx.model.getAdditional("size",ctx.config.size))("spinners",ctx.model.getAdditional("spinners",ctx.config.spinners)))},"DynamicNGBootstrapTimePickerComponent_Template"),directives:[_ng_bootstrap_ng_bootstrap__WEBPACK_IMPORTED_MODULE_2__.Pm,_angular_forms__WEBPACK_IMPORTED_MODULE_3__.JL,_angular_forms__WEBPACK_IMPORTED_MODULE_3__.sg,_angular_forms__WEBPACK_IMPORTED_MODULE_3__.JJ,_angular_forms__WEBPACK_IMPORTED_MODULE_3__.u,_angular_common__WEBPACK_IMPORTED_MODULE_4__.mk],encapsulation:2,changeDetection:0});class DynamicNGBootstrapFormControlContainerComponent extends _ng_dynamic_forms_core__WEBPACK_IMPORTED_MODULE_1__.wT7{constructor(changeDetectorRef,componentFactoryResolver,layoutService,validationService,componentService,relationService){super(changeDetectorRef,componentFactoryResolver,layoutService,validationService,componentService,relationService),this.changeDetectorRef=changeDetectorRef,this.componentFactoryResolver=componentFactoryResolver,this.layoutService=layoutService,this.validationService=validationService,this.componentService=componentService,this.relationService=relationService,this.asBootstrapFormGroup=!0,this.context=null,this.blur=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.vpe,this.change=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.vpe,this.focus=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.vpe,this.customEvent=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.vpe}get componentType(){return this.componentService.getCustomComponentType(this.model)||ngBootstrapUIFormControlMapFn(this.model)}}function ngBootstrapUIFormControlMapFn(model){switch(model.type){case _ng_dynamic_forms_core__WEBPACK_IMPORTED_MODULE_1__.i9b:return DynamicNGBootstrapFormArrayComponent;case _ng_dynamic_forms_core__WEBPACK_IMPORTED_MODULE_1__.fSU:return DynamicNGBootstrapCheckboxComponent;case _ng_dynamic_forms_core__WEBPACK_IMPORTED_MODULE_1__.aTt:return DynamicNGBootstrapCheckboxGroupComponent;case _ng_dynamic_forms_core__WEBPACK_IMPORTED_MODULE_1__.VId:return model.inline?DynamicNGBootstrapCalendarComponent:DynamicNGBootstrapDatePickerComponent;case _ng_dynamic_forms_core__WEBPACK_IMPORTED_MODULE_1__.Qam:return DynamicNGBootstrapFormGroupComponent;case _ng_dynamic_forms_core__WEBPACK_IMPORTED_MODULE_1__.X9S:return DynamicNGBootstrapInputComponent;case _ng_dynamic_forms_core__WEBPACK_IMPORTED_MODULE_1__.e6P:return DynamicNGBootstrapRadioGroupComponent;case _ng_dynamic_forms_core__WEBPACK_IMPORTED_MODULE_1__.bwN:return DynamicNGBootstrapRatingComponent;case _ng_dynamic_forms_core__WEBPACK_IMPORTED_MODULE_1__.Lq6:return DynamicNGBootstrapSelectComponent;case _ng_dynamic_forms_core__WEBPACK_IMPORTED_MODULE_1__.YUR:return DynamicNGBootstrapSwitchComponent;case _ng_dynamic_forms_core__WEBPACK_IMPORTED_MODULE_1__.Pdh:return DynamicNGBootstrapTextAreaComponent;case _ng_dynamic_forms_core__WEBPACK_IMPORTED_MODULE_1__.BKB:return DynamicNGBootstrapTimePickerComponent;default:return null}}__name(DynamicNGBootstrapFormControlContainerComponent,"DynamicNGBootstrapFormControlContainerComponent"),DynamicNGBootstrapFormControlContainerComponent.\u0275fac=__name(function(t){return new(t||DynamicNGBootstrapFormControlContainerComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_0__.Y36(_angular_core__WEBPACK_IMPORTED_MODULE_0__.sBO),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Y36(_angular_core__WEBPACK_IMPORTED_MODULE_0__._Vd),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Y36(_ng_dynamic_forms_core__WEBPACK_IMPORTED_MODULE_1__.vnf),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Y36(_ng_dynamic_forms_core__WEBPACK_IMPORTED_MODULE_1__.fhz),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Y36(_ng_dynamic_forms_core__WEBPACK_IMPORTED_MODULE_1__.rJA),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Y36(_ng_dynamic_forms_core__WEBPACK_IMPORTED_MODULE_1__.uTg))},"DynamicNGBootstrapFormControlContainerComponent_Factory"),DynamicNGBootstrapFormControlContainerComponent.\u0275cmp=_angular_core__WEBPACK_IMPORTED_MODULE_0__.Xpm({type:DynamicNGBootstrapFormControlContainerComponent,selectors:[["dynamic-ng-bootstrap-form-control"]],contentQueries:__name(function(rf,ctx,dirIndex){if(1&rf&&_angular_core__WEBPACK_IMPORTED_MODULE_0__.Suo(dirIndex,_ng_dynamic_forms_core__WEBPACK_IMPORTED_MODULE_1__.ATj,4),2&rf){let _t;_angular_core__WEBPACK_IMPORTED_MODULE_0__.iGM(_t=_angular_core__WEBPACK_IMPORTED_MODULE_0__.CRH())&&(ctx.contentTemplateList=_t)}},"DynamicNGBootstrapFormControlContainerComponent_ContentQueries"),viewQuery:__name(function(rf,ctx){if(1&rf&&_angular_core__WEBPACK_IMPORTED_MODULE_0__.Gf(_c1,7,_angular_core__WEBPACK_IMPORTED_MODULE_0__.s_b),2&rf){let _t;_angular_core__WEBPACK_IMPORTED_MODULE_0__.iGM(_t=_angular_core__WEBPACK_IMPORTED_MODULE_0__.CRH())&&(ctx.componentViewContainerRef=_t.first)}},"DynamicNGBootstrapFormControlContainerComponent_Query"),hostVars:2,hostBindings:__name(function(rf,ctx){2&rf&&_angular_core__WEBPACK_IMPORTED_MODULE_0__.Tol(ctx.klass)},"DynamicNGBootstrapFormControlContainerComponent_HostBindings"),inputs:{asBootstrapFormGroup:"asBootstrapFormGroup",context:"context",group:"group",hostClass:"hostClass",inputTemplateList:["templates","inputTemplateList"],layout:"layout",model:"model"},outputs:{blur:"blur",change:"change",focus:"focus",customEvent:"ngbEvent"},features:[_angular_core__WEBPACK_IMPORTED_MODULE_0__.qOj],ngContentSelectors:["*"],decls:10,vars:16,consts:[[3,"formGroup","ngClass"],[3,"for","innerHTML","ngClass",4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"ngClass"],["componentViewContainer",""],["class","text-muted",3,"innerHTML","ngClass",4,"ngIf"],[3,"ngClass",4,"ngIf"],[3,"for","innerHTML","ngClass"],[1,"text-muted",3,"innerHTML","ngClass"],["class","invalid-feedback d-block",4,"ngFor","ngForOf"],[1,"invalid-feedback","d-block"]],template:__name(function(rf,ctx){1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_0__.F$t(),_angular_core__WEBPACK_IMPORTED_MODULE_0__.TgZ(0,"div",0),_angular_core__WEBPACK_IMPORTED_MODULE_0__.YNc(1,DynamicNGBootstrapFormControlContainerComponent_label_1_Template,1,6,"label",1),_angular_core__WEBPACK_IMPORTED_MODULE_0__.YNc(2,DynamicNGBootstrapFormControlContainerComponent_ng_container_2_Template,1,0,"ng-container",2),_angular_core__WEBPACK_IMPORTED_MODULE_0__.TgZ(3,"div",3),_angular_core__WEBPACK_IMPORTED_MODULE_0__.GkF(4,null,4),_angular_core__WEBPACK_IMPORTED_MODULE_0__.YNc(6,DynamicNGBootstrapFormControlContainerComponent_small_6_Template,1,2,"small",5),_angular_core__WEBPACK_IMPORTED_MODULE_0__.YNc(7,DynamicNGBootstrapFormControlContainerComponent_div_7_Template,2,5,"div",6),_angular_core__WEBPACK_IMPORTED_MODULE_0__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_0__.YNc(8,DynamicNGBootstrapFormControlContainerComponent_ng_container_8_Template,1,0,"ng-container",2),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Hsn(9),_angular_core__WEBPACK_IMPORTED_MODULE_0__.qZA()),2&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_0__.ekj("form-group","GROUP"!==ctx.model.type&&ctx.asBootstrapFormGroup||ctx.getClass("element","container").includes("form-group")),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Q6J("formGroup",ctx.group)("ngClass",_angular_core__WEBPACK_IMPORTED_MODULE_0__.kEZ(12,_c2,"ng-dynamic-forms-"+ctx.model.type.toLowerCase(),ctx.getClass("element","container"),ctx.getClass("grid","container"))),_angular_core__WEBPACK_IMPORTED_MODULE_0__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Q6J("ngIf",!ctx.isCheckbox&&ctx.hasLabel),_angular_core__WEBPACK_IMPORTED_MODULE_0__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Q6J("ngTemplateOutlet",null==ctx.startTemplate?null:ctx.startTemplate.templateRef)("ngTemplateOutletContext",ctx.model),_angular_core__WEBPACK_IMPORTED_MODULE_0__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Q6J("ngClass",ctx.getClass("grid","control")),_angular_core__WEBPACK_IMPORTED_MODULE_0__.xp6(3),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Q6J("ngIf",ctx.hasHint),_angular_core__WEBPACK_IMPORTED_MODULE_0__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Q6J("ngIf",ctx.showErrorMessages),_angular_core__WEBPACK_IMPORTED_MODULE_0__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Q6J("ngTemplateOutlet",null==ctx.endTemplate?null:ctx.endTemplate.templateRef)("ngTemplateOutletContext",ctx.model))},"DynamicNGBootstrapFormControlContainerComponent_Template"),directives:[_angular_forms__WEBPACK_IMPORTED_MODULE_3__.JL,_angular_forms__WEBPACK_IMPORTED_MODULE_3__.sg,_angular_common__WEBPACK_IMPORTED_MODULE_4__.mk,_angular_common__WEBPACK_IMPORTED_MODULE_4__.O5,_angular_common__WEBPACK_IMPORTED_MODULE_4__.tP,_angular_common__WEBPACK_IMPORTED_MODULE_4__.sg],encapsulation:2,changeDetection:0}),__name(ngBootstrapUIFormControlMapFn,"ngBootstrapUIFormControlMapFn");class DynamicNGBootstrapFormArrayComponent extends _ng_dynamic_forms_core__WEBPACK_IMPORTED_MODULE_1__.CRj{constructor(layoutService,validationService){super(layoutService,validationService),this.layoutService=layoutService,this.validationService=validationService,this.blur=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.vpe,this.change=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.vpe,this.customEvent=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.vpe,this.focus=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.vpe}}__name(DynamicNGBootstrapFormArrayComponent,"DynamicNGBootstrapFormArrayComponent"),DynamicNGBootstrapFormArrayComponent.\u0275fac=__name(function(t){return new(t||DynamicNGBootstrapFormArrayComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_0__.Y36(_ng_dynamic_forms_core__WEBPACK_IMPORTED_MODULE_1__.vnf),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Y36(_ng_dynamic_forms_core__WEBPACK_IMPORTED_MODULE_1__.fhz))},"DynamicNGBootstrapFormArrayComponent_Factory"),DynamicNGBootstrapFormArrayComponent.\u0275cmp=_angular_core__WEBPACK_IMPORTED_MODULE_0__.Xpm({type:DynamicNGBootstrapFormArrayComponent,selectors:[["dynamic-ng-bootstrap-form-array"]],viewQuery:__name(function(rf,ctx){if(1&rf&&_angular_core__WEBPACK_IMPORTED_MODULE_0__.Gf(DynamicNGBootstrapFormControlContainerComponent,5),2&rf){let _t;_angular_core__WEBPACK_IMPORTED_MODULE_0__.iGM(_t=_angular_core__WEBPACK_IMPORTED_MODULE_0__.CRH())&&(ctx.components=_t)}},"DynamicNGBootstrapFormArrayComponent_Query"),inputs:{formLayout:"formLayout",group:"group",layout:"layout",model:"model",templates:"templates"},outputs:{blur:"blur",change:"change",customEvent:"customEvent",focus:"focus"},features:[_angular_core__WEBPACK_IMPORTED_MODULE_0__.qOj],decls:3,vars:5,consts:[[3,"formGroup"],[3,"formArrayName","id","ngClass"],["role","group",3,"formGroupName","ngClass",4,"ngFor","ngForOf"],["role","group",3,"formGroupName","ngClass"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"context","group","hidden","layout","model","templates","hostClass","blur","change","focus","ngbEvent",4,"ngFor","ngForOf"],[3,"context","group","hidden","layout","model","templates","hostClass","blur","change","focus","ngbEvent"]],template:__name(function(rf,ctx){1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_0__.ynx(0,0),_angular_core__WEBPACK_IMPORTED_MODULE_0__.TgZ(1,"div",1),_angular_core__WEBPACK_IMPORTED_MODULE_0__.YNc(2,DynamicNGBootstrapFormArrayComponent_div_2_Template,4,10,"div",2),_angular_core__WEBPACK_IMPORTED_MODULE_0__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_0__.BQk()),2&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_0__.Q6J("formGroup",ctx.group),_angular_core__WEBPACK_IMPORTED_MODULE_0__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Q6J("formArrayName",ctx.model.id)("id",ctx.id)("ngClass",ctx.getClass("element","control")),_angular_core__WEBPACK_IMPORTED_MODULE_0__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Q6J("ngForOf",ctx.model.groups))},"DynamicNGBootstrapFormArrayComponent_Template"),directives:[DynamicNGBootstrapFormControlContainerComponent,_angular_forms__WEBPACK_IMPORTED_MODULE_3__.JL,_angular_forms__WEBPACK_IMPORTED_MODULE_3__.sg,_angular_forms__WEBPACK_IMPORTED_MODULE_3__.CE,_angular_common__WEBPACK_IMPORTED_MODULE_4__.mk,_angular_common__WEBPACK_IMPORTED_MODULE_4__.sg,_angular_forms__WEBPACK_IMPORTED_MODULE_3__.x0,_angular_common__WEBPACK_IMPORTED_MODULE_4__.tP],encapsulation:2});class DynamicNGBootstrapFormGroupComponent extends _ng_dynamic_forms_core__WEBPACK_IMPORTED_MODULE_1__.GE_{constructor(layoutService,validationService){super(layoutService,validationService),this.layoutService=layoutService,this.validationService=validationService,this.blur=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.vpe,this.change=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.vpe,this.customEvent=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.vpe,this.focus=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.vpe}}__name(DynamicNGBootstrapFormGroupComponent,"DynamicNGBootstrapFormGroupComponent"),DynamicNGBootstrapFormGroupComponent.\u0275fac=__name(function(t){return new(t||DynamicNGBootstrapFormGroupComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_0__.Y36(_ng_dynamic_forms_core__WEBPACK_IMPORTED_MODULE_1__.vnf),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Y36(_ng_dynamic_forms_core__WEBPACK_IMPORTED_MODULE_1__.fhz))},"DynamicNGBootstrapFormGroupComponent_Factory"),DynamicNGBootstrapFormGroupComponent.\u0275cmp=_angular_core__WEBPACK_IMPORTED_MODULE_0__.Xpm({type:DynamicNGBootstrapFormGroupComponent,selectors:[["dynamic-ng-bootstrap-form-group"]],viewQuery:__name(function(rf,ctx){if(1&rf&&_angular_core__WEBPACK_IMPORTED_MODULE_0__.Gf(DynamicNGBootstrapFormControlContainerComponent,5),2&rf){let _t;_angular_core__WEBPACK_IMPORTED_MODULE_0__.iGM(_t=_angular_core__WEBPACK_IMPORTED_MODULE_0__.CRH())&&(ctx.components=_t)}},"DynamicNGBootstrapFormGroupComponent_Query"),inputs:{formLayout:"formLayout",group:"group",layout:"layout",model:"model",templates:"templates"},outputs:{blur:"blur",change:"change",customEvent:"customEvent",focus:"focus"},features:[_angular_core__WEBPACK_IMPORTED_MODULE_0__.qOj],decls:3,vars:5,consts:[[3,"formGroup"],["role","group",3,"formGroupName","id","ngClass"],[3,"asBootstrapFormGroup","group","hidden","layout","model","templates","hostClass","blur","change","focus","ngbEvent",4,"ngFor","ngForOf"],[3,"asBootstrapFormGroup","group","hidden","layout","model","templates","hostClass","blur","change","focus","ngbEvent"]],template:__name(function(rf,ctx){1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_0__.ynx(0,0),_angular_core__WEBPACK_IMPORTED_MODULE_0__.TgZ(1,"div",1),_angular_core__WEBPACK_IMPORTED_MODULE_0__.YNc(2,DynamicNGBootstrapFormGroupComponent_dynamic_ng_bootstrap_form_control_2_Template,1,10,"dynamic-ng-bootstrap-form-control",2),_angular_core__WEBPACK_IMPORTED_MODULE_0__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_0__.BQk()),2&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_0__.Q6J("formGroup",ctx.group),_angular_core__WEBPACK_IMPORTED_MODULE_0__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Q6J("formGroupName",ctx.model.id)("id",ctx.id)("ngClass",ctx.getClass("element","control")),_angular_core__WEBPACK_IMPORTED_MODULE_0__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Q6J("ngForOf",ctx.model.group))},"DynamicNGBootstrapFormGroupComponent_Template"),directives:[DynamicNGBootstrapFormControlContainerComponent,_angular_forms__WEBPACK_IMPORTED_MODULE_3__.JL,_angular_forms__WEBPACK_IMPORTED_MODULE_3__.sg,_angular_forms__WEBPACK_IMPORTED_MODULE_3__.x0,_angular_common__WEBPACK_IMPORTED_MODULE_4__.mk,_angular_common__WEBPACK_IMPORTED_MODULE_4__.sg],encapsulation:2});class DynamicNGBootstrapFormComponent extends _ng_dynamic_forms_core__WEBPACK_IMPORTED_MODULE_1__.rmD{constructor(changeDetectorRef,componentService){super(changeDetectorRef,componentService),this.changeDetectorRef=changeDetectorRef,this.componentService=componentService,this.blur=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.vpe,this.change=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.vpe,this.focus=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.vpe,this.ngbEvent=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.vpe}}__name(DynamicNGBootstrapFormComponent,"DynamicNGBootstrapFormComponent"),DynamicNGBootstrapFormComponent.\u0275fac=__name(function(t){return new(t||DynamicNGBootstrapFormComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_0__.Y36(_angular_core__WEBPACK_IMPORTED_MODULE_0__.sBO),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Y36(_ng_dynamic_forms_core__WEBPACK_IMPORTED_MODULE_1__.rJA))},"DynamicNGBootstrapFormComponent_Factory"),DynamicNGBootstrapFormComponent.\u0275cmp=_angular_core__WEBPACK_IMPORTED_MODULE_0__.Xpm({type:DynamicNGBootstrapFormComponent,selectors:[["dynamic-ng-bootstrap-form"]],contentQueries:__name(function(rf,ctx,dirIndex){if(1&rf&&_angular_core__WEBPACK_IMPORTED_MODULE_0__.Suo(dirIndex,_ng_dynamic_forms_core__WEBPACK_IMPORTED_MODULE_1__.ATj,4),2&rf){let _t;_angular_core__WEBPACK_IMPORTED_MODULE_0__.iGM(_t=_angular_core__WEBPACK_IMPORTED_MODULE_0__.CRH())&&(ctx.templates=_t)}},"DynamicNGBootstrapFormComponent_ContentQueries"),viewQuery:__name(function(rf,ctx){if(1&rf&&_angular_core__WEBPACK_IMPORTED_MODULE_0__.Gf(DynamicNGBootstrapFormControlContainerComponent,5),2&rf){let _t;_angular_core__WEBPACK_IMPORTED_MODULE_0__.iGM(_t=_angular_core__WEBPACK_IMPORTED_MODULE_0__.CRH())&&(ctx.components=_t)}},"DynamicNGBootstrapFormComponent_Query"),inputs:{group:"group",model:"model",layout:"layout"},outputs:{blur:"blur",change:"change",focus:"focus",ngbEvent:"ngbEvent"},features:[_angular_core__WEBPACK_IMPORTED_MODULE_0__.qOj],decls:1,vars:2,consts:[[3,"group","hidden","layout","model","templates","blur","change","focus","ngbEvent",4,"ngFor","ngForOf","ngForTrackBy"],[3,"group","hidden","layout","model","templates","blur","change","focus","ngbEvent"]],template:__name(function(rf,ctx){1&rf&&_angular_core__WEBPACK_IMPORTED_MODULE_0__.YNc(0,DynamicNGBootstrapFormComponent_dynamic_ng_bootstrap_form_control_0_Template,1,5,"dynamic-ng-bootstrap-form-control",0),2&rf&&_angular_core__WEBPACK_IMPORTED_MODULE_0__.Q6J("ngForOf",ctx.model)("ngForTrackBy",ctx.trackByFn)},"DynamicNGBootstrapFormComponent_Template"),directives:[DynamicNGBootstrapFormControlContainerComponent,_angular_common__WEBPACK_IMPORTED_MODULE_4__.sg],encapsulation:2,changeDetection:0});class DynamicFormsNGBootstrapUIModule{}__name(DynamicFormsNGBootstrapUIModule,"DynamicFormsNGBootstrapUIModule"),DynamicFormsNGBootstrapUIModule.\u0275fac=__name(function(t){return new(t||DynamicFormsNGBootstrapUIModule)},"DynamicFormsNGBootstrapUIModule_Factory"),DynamicFormsNGBootstrapUIModule.\u0275mod=_angular_core__WEBPACK_IMPORTED_MODULE_0__.oAB({type:DynamicFormsNGBootstrapUIModule}),DynamicFormsNGBootstrapUIModule.\u0275inj=_angular_core__WEBPACK_IMPORTED_MODULE_0__.cJS({imports:[[_angular_common__WEBPACK_IMPORTED_MODULE_4__.ez,_angular_forms__WEBPACK_IMPORTED_MODULE_3__.UX,_ng_bootstrap_ng_bootstrap__WEBPACK_IMPORTED_MODULE_2__.xZ,_ng_bootstrap_ng_bootstrap__WEBPACK_IMPORTED_MODULE_2__.M,_ng_bootstrap_ng_bootstrap__WEBPACK_IMPORTED_MODULE_2__.mO,_ng_bootstrap_ng_bootstrap__WEBPACK_IMPORTED_MODULE_2__.UL,ngx_mask__WEBPACK_IMPORTED_MODULE_5__.yI,_ng_dynamic_forms_core__WEBPACK_IMPORTED_MODULE_1__.H9g],_ng_dynamic_forms_core__WEBPACK_IMPORTED_MODULE_1__.H9g]})}};