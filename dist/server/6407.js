var __defProp=Object.defineProperty,__name=(target,value)=>__defProp(target,"name",{value,configurable:!0});exports.id=6407,exports.ids=[6407],exports.modules={36407:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{LookupIdModule:()=>LookupIdModule});var common=__webpack_require__(69808),shared_module=__webpack_require__(57981),request_models=__webpack_require__(60602),operators=__webpack_require__(83292),empty_util=__webpack_require__(24702),remote_data_build_service=__webpack_require__(95611),object_cache_service=__webpack_require__(58943),hal_endpoint_service=__webpack_require__(93498),request_service=__webpack_require__(31241),shared_operators=__webpack_require__(13730),identifiable_data_service=__webpack_require__(72839),app_routing_paths=__webpack_require__(50503),core=__webpack_require__(5e3),router=__webpack_require__(74202);class DsoByIdOrUUIDDataService extends identifiable_data_service.t{constructor(requestService,rdbService,objectCache,halService){super(void 0,requestService,rdbService,objectCache,halService,void 0,(endpoint,resourceID)=>endpoint.replace(/{\?id}/,`?id=${resourceID}`).replace(/{\?uuid}/,`?uuid=${resourceID}`)),this.requestService=requestService,this.rdbService=rdbService,this.objectCache=objectCache,this.halService=halService}setLinkPath(identifierType){identifierType===request_models.fT.UUID?this.linkPath="dso":this.linkPath="pid"}}__name(DsoByIdOrUUIDDataService,"DsoByIdOrUUIDDataService");class DsoRedirectService{constructor(requestService,rdbService,objectCache,halService,router2){this.requestService=requestService,this.rdbService=rdbService,this.objectCache=objectCache,this.halService=halService,this.router=router2,this.dataService=new DsoByIdOrUUIDDataService(requestService,rdbService,objectCache,halService)}findByIdAndIDType(id,identifierType=request_models.fT.UUID){return this.dataService.setLinkPath(identifierType),this.dataService.findById(id).pipe((0,shared_operators.hC)(),(0,operators.bw)(response=>{if(response.hasSucceeded){const dso=response.payload;if((0,empty_util.Uh)(dso.uuid)){let newRoute=(0,app_routing_paths.Y4)(dso);(0,empty_util.Uh)(newRoute)&&this.router.navigate([newRoute])}}}))}}__name(DsoRedirectService,"DsoRedirectService"),DsoRedirectService.\u0275fac=__name(function(t){return new(t||DsoRedirectService)(core.LFG(request_service.s),core.LFG(remote_data_build_service.Q),core.LFG(object_cache_service.a),core.LFG(hal_endpoint_service.q),core.LFG(router.F0))},"DsoRedirectService_Factory"),DsoRedirectService.\u0275prov=core.Yz7({token:DsoRedirectService,factory:DsoRedirectService.\u0275fac});class LookupGuard{constructor(dsoService){this.dsoService=dsoService}canActivate(route,state){const params=this.getLookupParams(route);return this.dsoService.findByIdAndIDType(params.id,params.type).pipe((0,operators.UI)(response=>response.hasFailed))}getLookupParams(route){let type,id;const idType=route.params.idType;if(idType!==request_models.fT.HANDLE&&idType!==request_models.fT.UUID){type=request_models.fT.HANDLE;id=`hdl:${route.params.idType}/${route.params.id}`}else route.params.idType===request_models.fT.HANDLE?(type=request_models.fT.HANDLE,id="hdl:"+route.params.id):(type=request_models.fT.UUID,id=route.params.id);return{type,id}}}__name(LookupGuard,"LookupGuard"),LookupGuard.\u0275fac=__name(function(t){return new(t||LookupGuard)(core.LFG(DsoRedirectService))},"LookupGuard_Factory"),LookupGuard.\u0275prov=core.Yz7({token:LookupGuard,factory:LookupGuard.\u0275fac});var themed_component=__webpack_require__(25330);function ThemedObjectNotFoundComponent_ng_template_0_Template(rf,ctx){}__name(ThemedObjectNotFoundComponent_ng_template_0_Template,"ThemedObjectNotFoundComponent_ng_template_0_Template");class ThemedObjectNotFoundComponent extends themed_component.F{getComponentName(){return"ObjectNotFoundComponent"}importThemedComponent(themeName){return __webpack_require__(98947)(`./${themeName}/app/lookup-by-id/objectnotfound/objectnotfound.component`)}importUnthemedComponent(){return __webpack_require__.e(8664).then(__webpack_require__.bind(__webpack_require__,58664))}}__name(ThemedObjectNotFoundComponent,"ThemedObjectNotFoundComponent"),ThemedObjectNotFoundComponent.\u0275fac=function(){let \u0275ThemedObjectNotFoundComponent_BaseFactory;return __name(function(t){return(\u0275ThemedObjectNotFoundComponent_BaseFactory||(\u0275ThemedObjectNotFoundComponent_BaseFactory=core.n5z(ThemedObjectNotFoundComponent)))(t||ThemedObjectNotFoundComponent)},"ThemedObjectNotFoundComponent_Factory")}(),ThemedObjectNotFoundComponent.\u0275cmp=core.Xpm({type:ThemedObjectNotFoundComponent,selectors:[["ds-themed-objnotfound"]],features:[core.qOj],decls:2,vars:0,consts:[["vcr",""]],template:__name(function(rf,ctx){1&rf&&core.YNc(0,ThemedObjectNotFoundComponent_ng_template_0_Template,0,0,"ng-template",null,0,core.W1O)},"ThemedObjectNotFoundComponent_Template"),encapsulation:2});class LookupRoutingModule{}function urlMatcher(url){const idType=url[0].path,id=url.slice(1).map(us=>us.path).join("/");return(0,empty_util.UE)(idType)&&(0,empty_util.UE)(id)?{consumed:url,posParams:{idType:new router.bq(idType,{}),id:new router.bq(id,{})}}:null}__name(LookupRoutingModule,"LookupRoutingModule"),LookupRoutingModule.\u0275fac=__name(function(t){return new(t||LookupRoutingModule)},"LookupRoutingModule_Factory"),LookupRoutingModule.\u0275mod=core.oAB({type:LookupRoutingModule}),LookupRoutingModule.\u0275inj=core.cJS({providers:[LookupGuard],imports:[[router.Bz.forChild([{matcher:urlMatcher,canActivate:[LookupGuard],component:ThemedObjectNotFoundComponent}])]]}),__name(urlMatcher,"urlMatcher");class LookupIdModule{}__name(LookupIdModule,"LookupIdModule"),LookupIdModule.\u0275fac=__name(function(t){return new(t||LookupIdModule)},"LookupIdModule_Factory"),LookupIdModule.\u0275mod=core.oAB({type:LookupIdModule}),LookupIdModule.\u0275inj=core.cJS({providers:[DsoRedirectService],imports:[[LookupRoutingModule,common.ez,shared_module.m]]})},98947:(module,__unused_webpack_exports,__webpack_require__)=>{var map={"./custom/app/lookup-by-id/objectnotfound/objectnotfound.component":[88321,8321]};function webpackAsyncContext(req){if(!__webpack_require__.o(map,req))return Promise.resolve().then(()=>{var e=new Error("Cannot find module '"+req+"'");throw e.code="MODULE_NOT_FOUND",e});var ids=map[req],id=ids[0];return __webpack_require__.e(ids[1]).then(()=>__webpack_require__(id))}__name(webpackAsyncContext,"webpackAsyncContext"),webpackAsyncContext.keys=()=>Object.keys(map),webpackAsyncContext.id=98947,module.exports=webpackAsyncContext}};