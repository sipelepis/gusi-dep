"use strict";var __defProp=Object.defineProperty,__name=(target,value)=>__defProp(target,"name",{value,configurable:!0});exports.id=782,exports.ids=[782],exports.modules={10782:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{EditCommunityPageModule:()=>EditCommunityPageModule});var common=__webpack_require__(69808),shared_module=__webpack_require__(57981),edit_comcol_page_component=__webpack_require__(29663),community_page_routing_paths=__webpack_require__(43438),core=__webpack_require__(5e3),router=__webpack_require__(74202),ngx_translate_core=__webpack_require__(42466);const _c0=__name(function(a0){return{active:a0}},"_c0"),_c1=__name(function(a0){return[a0]},"_c1");function EditCommunityPageComponent_li_15_Template(rf,ctx){if(1&rf&&(core.TgZ(0,"li",13)(1,"a",14),core._uU(2),core.ALo(3,"translate"),core.qZA()()),2&rf){const page_r2=ctx.$implicit,ctx_r0=core.oxw();core.xp6(1),core.Q6J("ngClass",core.VKq(5,_c0,page_r2===ctx_r0.currentPage))("routerLink",core.VKq(7,_c1,"./"+page_r2)),core.xp6(1),core.hij(" ",core.lcZ(3,3,ctx_r0.type+".edit.tabs."+page_r2+".head")," ")}}function EditCommunityPageComponent_a_20_Template(rf,ctx){if(1&rf&&(core.TgZ(0,"a",15),core.ALo(1,"async"),core._UZ(2,"i",16),core._uU(3),core.ALo(4,"translate"),core.qZA()),2&rf){const ctx_r1=core.oxw();let tmp_0_0;core.Q6J("routerLink",ctx_r1.getPageUrl(null==(tmp_0_0=core.lcZ(1,2,ctx_r1.dsoRD$))?null:tmp_0_0.payload)),core.xp6(3),core.hij(" ",core.lcZ(4,4,ctx_r1.type+".edit.return")," ")}}__name(EditCommunityPageComponent_li_15_Template,"EditCommunityPageComponent_li_15_Template"),__name(EditCommunityPageComponent_a_20_Template,"EditCommunityPageComponent_a_20_Template");class EditCommunityPageComponent extends edit_comcol_page_component.x{constructor(router2,route){super(router2,route),this.router=router2,this.route=route,this.type="community"}getPageUrl(community){return(0,community_page_routing_paths.Ke)(community.id)}}__name(EditCommunityPageComponent,"EditCommunityPageComponent"),EditCommunityPageComponent.\u0275fac=__name(function(t){return new(t||EditCommunityPageComponent)(core.Y36(router.F0),core.Y36(router.gz))},"EditCommunityPageComponent_Factory"),EditCommunityPageComponent.\u0275cmp=core.Xpm({type:EditCommunityPageComponent,selectors:[["ds-edit-community"]],features:[core.qOj],decls:21,vars:11,consts:[[1,"container"],[1,"row"],[1,"col-12"],[1,"d-flex","justify-content-between","border-bottom"],[1,"btn","btn-danger",3,"routerLink"],[1,"fas","fa-trash"],[1,"pt-2"],[1,"nav","nav-tabs","justify-content-start","mb-2"],["class","nav-item",4,"ngFor","ngForOf"],[1,"tab-pane","active"],[1,"mb-4"],[1,"col-12","text-right"],["class","btn btn-outline-secondary",3,"routerLink",4,"ngIf"],[1,"nav-item"],[1,"nav-link",3,"ngClass","routerLink"],[1,"btn","btn-outline-secondary",3,"routerLink"],[1,"fas","fa-arrow-left"]],template:__name(function(rf,ctx){if(1&rf&&(core.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h2"),core._uU(5),core.ALo(6,"translate"),core.qZA(),core.TgZ(7,"div")(8,"a",4),core.ALo(9,"async"),core._UZ(10,"i",5),core._uU(11),core.ALo(12,"translate"),core.qZA()()(),core.TgZ(13,"div",6)(14,"ul",7),core.YNc(15,EditCommunityPageComponent_li_15_Template,4,9,"li",8),core.qZA(),core.TgZ(16,"div",9)(17,"div",10),core._UZ(18,"router-outlet"),core.qZA(),core.TgZ(19,"div",11),core.YNc(20,EditCommunityPageComponent_a_20_Template,5,6,"a",12),core.qZA()()()()()()),2&rf){let tmp_1_0;core.xp6(5),core.Oqu(core.lcZ(6,5,ctx.type+".edit.head")),core.xp6(3),core.Q6J("routerLink",("community"===ctx.type?"/communities/":"/collections/")+(null==(tmp_1_0=core.lcZ(9,7,ctx.dsoRD$))?null:tmp_1_0.payload.uuid)+"/delete"),core.xp6(3),core.hij(" ",core.lcZ(12,9,ctx.type+".edit.delete"),""),core.xp6(4),core.Q6J("ngForOf",ctx.pages),core.xp6(5),core.Q6J("ngIf",!ctx.hideReturnButton)}},"EditCommunityPageComponent_Template"),directives:[router.yS,common.sg,common.mk,router.lC,common.O5],pipes:[ngx_translate_core.X$,common.Ov],encapsulation:2});var comcol_metadata_component=__webpack_require__(7649),community_model=__webpack_require__(21721),community_data_service=__webpack_require__(16422),notifications_service=__webpack_require__(82596),community_form_component=__webpack_require__(32854);class CommunityMetadataComponent extends comcol_metadata_component.Z{constructor(communityDataService,router2,route,notificationsService,translate){super(communityDataService,router2,route,notificationsService,translate),this.communityDataService=communityDataService,this.router=router2,this.route=route,this.notificationsService=notificationsService,this.translate=translate,this.frontendURL="/communities/",this.type=community_model.S.type}}__name(CommunityMetadataComponent,"CommunityMetadataComponent"),CommunityMetadataComponent.\u0275fac=__name(function(t){return new(t||CommunityMetadataComponent)(core.Y36(community_data_service.w),core.Y36(router.F0),core.Y36(router.gz),core.Y36(notifications_service.T),core.Y36(ngx_translate_core.sK))},"CommunityMetadataComponent_Factory"),CommunityMetadataComponent.\u0275cmp=core.Xpm({type:CommunityMetadataComponent,selectors:[["ds-community-metadata"]],features:[core.qOj],decls:2,vars:3,consts:[[3,"dso","submitForm","back","finish"]],template:__name(function(rf,ctx){if(1&rf&&(core.TgZ(0,"ds-community-form",0),core.NdJ("submitForm",__name(function($event){return ctx.onSubmit($event)},"CommunityMetadataComponent_Template_ds_community_form_submitForm_0_listener"))("back",__name(function(){return ctx.navigateToHomePage()},"CommunityMetadataComponent_Template_ds_community_form_back_0_listener"))("finish",__name(function(){return ctx.navigateToHomePage()},"CommunityMetadataComponent_Template_ds_community_form_finish_0_listener")),core.ALo(1,"async"),core.qZA()),2&rf){let tmp_0_0;core.Q6J("dso",null==(tmp_0_0=core.lcZ(1,1,ctx.dsoRD$))?null:tmp_0_0.payload)}},"CommunityMetadataComponent_Template"),directives:[community_form_component.C],pipes:[common.Ov],encapsulation:2});var operators=__webpack_require__(83292),shared_operators=__webpack_require__(13730),comcol_role_component=__webpack_require__(33603);function CommunityRolesComponent_ds_comcol_role_0_Template(rf,ctx){if(1&rf&&(core._UZ(0,"ds-comcol-role",1),core.ALo(1,"async")),2&rf){const comcolRole_r1=ctx.$implicit,ctx_r0=core.oxw();core.Q6J("dso",core.lcZ(1,2,ctx_r0.community$))("comcolRole",comcolRole_r1)}}__name(CommunityRolesComponent_ds_comcol_role_0_Template,"CommunityRolesComponent_ds_comcol_role_0_Template");class CommunityRolesComponent{constructor(route){this.route=route}ngOnInit(){this.dsoRD$=this.route.parent.data.pipe((0,operators.Ps)(),(0,operators.UI)(data=>data.dso)),this.community$=this.dsoRD$.pipe((0,shared_operators.xw)(),(0,shared_operators.xe)()),this.comcolRoles$=this.community$.pipe((0,operators.UI)(community=>[{name:"community-admin",href:community._links.adminGroup.href}]))}}__name(CommunityRolesComponent,"CommunityRolesComponent"),CommunityRolesComponent.\u0275fac=__name(function(t){return new(t||CommunityRolesComponent)(core.Y36(router.gz))},"CommunityRolesComponent_Factory"),CommunityRolesComponent.\u0275cmp=core.Xpm({type:CommunityRolesComponent,selectors:[["ds-community-roles"]],decls:2,vars:3,consts:[[3,"dso","comcolRole",4,"ngFor","ngForOf"],[3,"dso","comcolRole"]],template:__name(function(rf,ctx){1&rf&&(core.YNc(0,CommunityRolesComponent_ds_comcol_role_0_Template,2,4,"ds-comcol-role",0),core.ALo(1,"async")),2&rf&&core.Q6J("ngForOf",core.lcZ(1,1,ctx.comcolRoles$))},"CommunityRolesComponent_Template"),directives:[common.sg,comcol_role_component.b],pipes:[common.Ov],encapsulation:2});var dso_name_service=__webpack_require__(83616),empty_util=__webpack_require__(24702),curation_form_component=__webpack_require__(57189);const community_curate_component_c0=__name(function(a0){return{community:a0}},"community_curate_component_c0");class CommunityCurateComponent{constructor(route,dsoNameService){this.route=route,this.dsoNameService=dsoNameService}ngOnInit(){this.dsoRD$=this.route.parent.data.pipe((0,operators.qn)(1),(0,operators.UI)(data=>data.dso)),this.communityName$=this.dsoRD$.pipe((0,operators.hX)(rd=>(0,empty_util.Uh)(rd)),(0,operators.UI)(rd=>this.dsoNameService.getName(rd.payload)))}}__name(CommunityCurateComponent,"CommunityCurateComponent"),CommunityCurateComponent.\u0275fac=__name(function(t){return new(t||CommunityCurateComponent)(core.Y36(router.gz),core.Y36(dso_name_service._))},"CommunityCurateComponent_Factory"),CommunityCurateComponent.\u0275cmp=core.Xpm({type:CommunityCurateComponent,selectors:[["ds-community-curate"]],decls:7,vars:11,consts:[[1,"container"],[3,"dsoHandle"]],template:__name(function(rf,ctx){if(1&rf&&(core.TgZ(0,"div",0)(1,"h3"),core._uU(2),core.ALo(3,"translate"),core.ALo(4,"async"),core.qZA(),core._UZ(5,"ds-curation-form",1),core.ALo(6,"async"),core.qZA()),2&rf){let tmp_1_0;core.xp6(2),core.Oqu(core.xi3(3,2,"community.curate.header",core.VKq(9,community_curate_component_c0,core.lcZ(4,5,ctx.communityName$)))),core.xp6(3),core.Q6J("dsoHandle",null==(tmp_1_0=core.lcZ(6,7,ctx.dsoRD$))?null:tmp_1_0.payload.handle)}},"CommunityCurateComponent_Template"),directives:[curation_form_component._],pipes:[ngx_translate_core.X$,common.Ov],encapsulation:2});var i18n_breadcrumb_resolver=__webpack_require__(98655),resource_policies_component=__webpack_require__(40195);class CommunityAuthorizationsComponent{constructor(route){this.route=route}ngOnInit(){this.dsoRD$=this.route.parent.parent.data.pipe((0,operators.Ps)(),(0,operators.UI)(data=>data.dso))}}__name(CommunityAuthorizationsComponent,"CommunityAuthorizationsComponent"),CommunityAuthorizationsComponent.\u0275fac=__name(function(t){return new(t||CommunityAuthorizationsComponent)(core.Y36(router.gz))},"CommunityAuthorizationsComponent_Factory"),CommunityAuthorizationsComponent.\u0275cmp=core.Xpm({type:CommunityAuthorizationsComponent,selectors:[["ds-community-authorizations"]],decls:3,vars:4,consts:[[1,"container"],[3,"resourceType","resourceUUID"]],template:__name(function(rf,ctx){if(1&rf&&(core.TgZ(0,"div",0),core._UZ(1,"ds-resource-policies",1),core.ALo(2,"async"),core.qZA()),2&rf){let tmp_1_0;core.xp6(1),core.Q6J("resourceType","community")("resourceUUID",null==(tmp_1_0=core.lcZ(2,2,ctx.dsoRD$))||null==tmp_1_0.payload?null:tmp_1_0.payload.id)}},"CommunityAuthorizationsComponent_Template"),directives:[resource_policies_component.F],pipes:[common.Ov],encapsulation:2});var resource_policy_target_resolver=__webpack_require__(66765),resource_policy_create_component=__webpack_require__(34981),resource_policy_resolver=__webpack_require__(54004),resource_policy_edit_component=__webpack_require__(86527),single_feature_authorization_guard=__webpack_require__(22904),authorization_data_service=__webpack_require__(19937),auth_service=__webpack_require__(24755),cjs=__webpack_require__(76477),feature_id=__webpack_require__(47235);class CommunityAdministratorGuard extends single_feature_authorization_guard.C{constructor(authorizationService,router2,authService){super(authorizationService,router2,authService),this.authorizationService=authorizationService,this.router=router2,this.authService=authService}getFeatureID(route,state){return(0,cjs.of)(feature_id.i.IsCommunityAdmin)}}__name(CommunityAdministratorGuard,"CommunityAdministratorGuard"),CommunityAdministratorGuard.\u0275fac=__name(function(t){return new(t||CommunityAdministratorGuard)(core.LFG(authorization_data_service._),core.LFG(router.F0),core.LFG(auth_service.e8))},"CommunityAdministratorGuard_Factory"),CommunityAdministratorGuard.\u0275prov=core.Yz7({token:CommunityAdministratorGuard,factory:CommunityAdministratorGuard.\u0275fac,providedIn:"root"});class EditCommunityPageRoutingModule{}__name(EditCommunityPageRoutingModule,"EditCommunityPageRoutingModule"),EditCommunityPageRoutingModule.\u0275fac=__name(function(t){return new(t||EditCommunityPageRoutingModule)},"EditCommunityPageRoutingModule_Factory"),EditCommunityPageRoutingModule.\u0275mod=core.oAB({type:EditCommunityPageRoutingModule}),EditCommunityPageRoutingModule.\u0275inj=core.cJS({providers:[resource_policy_resolver.b,resource_policy_target_resolver.a],imports:[[router.Bz.forChild([{path:"",resolve:{breadcrumb:i18n_breadcrumb_resolver.t},data:{breadcrumbKey:"community.edit"},component:EditCommunityPageComponent,canActivate:[CommunityAdministratorGuard],children:[{path:"",redirectTo:"metadata",pathMatch:"full"},{path:"metadata",component:CommunityMetadataComponent,data:{title:"community.edit.tabs.metadata.title",hideReturnButton:!0,showBreadcrumbs:!0}},{path:"roles",component:CommunityRolesComponent,data:{title:"community.edit.tabs.roles.title",showBreadcrumbs:!0}},{path:"curate",component:CommunityCurateComponent,data:{title:"community.edit.tabs.curate.title",showBreadcrumbs:!0}},{path:"authorizations",data:{showBreadcrumbs:!0},children:[{path:"create",resolve:{resourcePolicyTarget:resource_policy_target_resolver.a},component:resource_policy_create_component.v,data:{title:"resource-policies.create.page.title"}},{path:"edit",resolve:{resourcePolicy:resource_policy_resolver.b},component:resource_policy_edit_component.x,data:{title:"resource-policies.edit.page.title"}},{path:"",component:CommunityAuthorizationsComponent,data:{title:"community.edit.tabs.authorizations.title",showBreadcrumbs:!0,hideReturnButton:!0}}]}]}])]]});var community_form_module=__webpack_require__(63133),resource_policies_module=__webpack_require__(94337),comcol_module=__webpack_require__(18247);class EditCommunityPageModule{}__name(EditCommunityPageModule,"EditCommunityPageModule"),EditCommunityPageModule.\u0275fac=__name(function(t){return new(t||EditCommunityPageModule)},"EditCommunityPageModule_Factory"),EditCommunityPageModule.\u0275mod=core.oAB({type:EditCommunityPageModule}),EditCommunityPageModule.\u0275inj=core.cJS({imports:[[common.ez,shared_module.m,EditCommunityPageRoutingModule,community_form_module.T,comcol_module.H,resource_policies_module.q]]})},98655:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{t:()=>I18nBreadcrumbResolver});var _i18n_breadcrumbs_service__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(43001),_shared_empty_util__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(24702),_shared_utils_route_utils__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(78056),_angular_core__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(5e3);class I18nBreadcrumbResolver{constructor(breadcrumbService){this.breadcrumbService=breadcrumbService}resolve(route,state){const key=route.data.breadcrumbKey;if((0,_shared_empty_util__WEBPACK_IMPORTED_MODULE_1__.xI)(key))throw new Error('You provided an i18nBreadcrumbResolver for url "'+route.url+"\" but no breadcrumbKey in the route's data");const fullPath=(0,_shared_utils_route_utils__WEBPACK_IMPORTED_MODULE_2__.i)(route);return{provider:this.breadcrumbService,key,url:fullPath}}}__name(I18nBreadcrumbResolver,"I18nBreadcrumbResolver"),I18nBreadcrumbResolver.\u0275fac=__name(function(t){return new(t||I18nBreadcrumbResolver)(_angular_core__WEBPACK_IMPORTED_MODULE_3__.LFG(_i18n_breadcrumbs_service__WEBPACK_IMPORTED_MODULE_0__.d))},"I18nBreadcrumbResolver_Factory"),I18nBreadcrumbResolver.\u0275prov=_angular_core__WEBPACK_IMPORTED_MODULE_3__.Yz7({token:I18nBreadcrumbResolver,factory:I18nBreadcrumbResolver.\u0275fac,providedIn:"root"})},43001:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{d:()=>I18nBreadcrumbsService});var _breadcrumbs_breadcrumb_breadcrumb_model__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(83772),rxjs__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(76477),_angular_core__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(5e3);class I18nBreadcrumbsService{getBreadcrumbs(key,url){return(0,rxjs__WEBPACK_IMPORTED_MODULE_0__.of)([new _breadcrumbs_breadcrumb_breadcrumb_model__WEBPACK_IMPORTED_MODULE_1__.a(key+".breadcrumbs",url)])}}__name(I18nBreadcrumbsService,"I18nBreadcrumbsService"),I18nBreadcrumbsService.\u0275fac=__name(function(t){return new(t||I18nBreadcrumbsService)},"I18nBreadcrumbsService_Factory"),I18nBreadcrumbsService.\u0275prov=_angular_core__WEBPACK_IMPORTED_MODULE_2__.Yz7({token:I18nBreadcrumbsService,factory:I18nBreadcrumbsService.\u0275fac,providedIn:"root"})},84254:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{M0:()=>ITEM_EDIT_WITHDRAW_PATH,Pu:()=>ITEM_EDIT_REINSTATE_PATH,X$:()=>ITEM_EDIT_PRIVATE_PATH,dI:()=>ITEM_EDIT_PUBLIC_PATH,kJ:()=>ITEM_EDIT_DELETE_PATH,Gr:()=>ITEM_EDIT_MOVE_PATH,N:()=>ITEM_EDIT_AUTHORIZATIONS_PATH});const ITEM_EDIT_WITHDRAW_PATH="withdraw",ITEM_EDIT_REINSTATE_PATH="reinstate",ITEM_EDIT_PRIVATE_PATH="private",ITEM_EDIT_PUBLIC_PATH="public",ITEM_EDIT_DELETE_PATH="delete",ITEM_EDIT_MOVE_PATH="move",ITEM_EDIT_AUTHORIZATIONS_PATH="authorizations"},34981:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{v:()=>ResourcePolicyCreateComponent});var rxjs__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(76477),rxjs_operators__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(83292),_core_resource_policy_resource_policy_data_service__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(24886),_notifications_notifications_service__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(82596),_core_breadcrumbs_dso_name_service__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(83616),_item_page_edit_item_page_edit_item_page_routing_paths__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(84254),_core_shared_operators__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(13730),_angular_core__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(5e3),_angular_router__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(74202),_ngx_translate_core__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(42466),_form_resource_policy_form_component__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(35835);class ResourcePolicyCreateComponent{constructor(dsoNameService,notificationsService,resourcePolicyService,route,router,translate){this.dsoNameService=dsoNameService,this.notificationsService=notificationsService,this.resourcePolicyService=resourcePolicyService,this.route=route,this.router=router,this.translate=translate,this.processing$=new rxjs__WEBPACK_IMPORTED_MODULE_5__.BehaviorSubject(!1)}ngOnInit(){this.route.data.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_6__.UI)(data=>data),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_6__.qn)(1)).subscribe(data=>{this.targetResourceUUID=data.resourcePolicyTarget.payload.id,this.targetResourceName=this.dsoNameService.getName(data.resourcePolicyTarget.payload)})}isProcessing(){return this.processing$.asObservable()}redirectToAuthorizationsPage(){this.router.navigate([`../../${_item_page_edit_item_page_edit_item_page_routing_paths__WEBPACK_IMPORTED_MODULE_7__.N}`],{relativeTo:this.route})}createResourcePolicy(event){let response$;this.processing$.next(!0),response$="eperson"===event.target.type?this.resourcePolicyService.create(event.object,this.targetResourceUUID,event.target.uuid):this.resourcePolicyService.create(event.object,this.targetResourceUUID,null,event.target.uuid),response$.pipe((0,_core_shared_operators__WEBPACK_IMPORTED_MODULE_3__.hC)()).subscribe(responseRD=>{this.processing$.next(!1),responseRD.hasSucceeded?(this.notificationsService.success(null,this.translate.get("resource-policies.create.page.success.content")),this.redirectToAuthorizationsPage()):this.notificationsService.error(null,this.translate.get("resource-policies.create.page.failure.content"))})}}__name(ResourcePolicyCreateComponent,"ResourcePolicyCreateComponent"),ResourcePolicyCreateComponent.\u0275fac=__name(function(t){return new(t||ResourcePolicyCreateComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_8__.Y36(_core_breadcrumbs_dso_name_service__WEBPACK_IMPORTED_MODULE_2__._),_angular_core__WEBPACK_IMPORTED_MODULE_8__.Y36(_notifications_notifications_service__WEBPACK_IMPORTED_MODULE_1__.T),_angular_core__WEBPACK_IMPORTED_MODULE_8__.Y36(_core_resource_policy_resource_policy_data_service__WEBPACK_IMPORTED_MODULE_0__.I),_angular_core__WEBPACK_IMPORTED_MODULE_8__.Y36(_angular_router__WEBPACK_IMPORTED_MODULE_9__.gz),_angular_core__WEBPACK_IMPORTED_MODULE_8__.Y36(_angular_router__WEBPACK_IMPORTED_MODULE_9__.F0),_angular_core__WEBPACK_IMPORTED_MODULE_8__.Y36(_ngx_translate_core__WEBPACK_IMPORTED_MODULE_10__.sK))},"ResourcePolicyCreateComponent_Factory"),ResourcePolicyCreateComponent.\u0275cmp=_angular_core__WEBPACK_IMPORTED_MODULE_8__.Xpm({type:ResourcePolicyCreateComponent,selectors:[["ds-resource-policy-create"]],decls:5,vars:5,consts:[[1,"container"],[1,"mb-3"],[3,"isProcessing","reset","submit"]],template:__name(function(rf,ctx){1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_8__.TgZ(0,"div",0)(1,"h4",1),_angular_core__WEBPACK_IMPORTED_MODULE_8__._uU(2),_angular_core__WEBPACK_IMPORTED_MODULE_8__.ALo(3,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_8__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_8__.TgZ(4,"ds-resource-policy-form",2),_angular_core__WEBPACK_IMPORTED_MODULE_8__.NdJ("reset",__name(function(){return ctx.redirectToAuthorizationsPage()},"ResourcePolicyCreateComponent_Template_ds_resource_policy_form_reset_4_listener"))("submit",__name(function($event){return ctx.createResourcePolicy($event)},"ResourcePolicyCreateComponent_Template_ds_resource_policy_form_submit_4_listener")),_angular_core__WEBPACK_IMPORTED_MODULE_8__.qZA()()),2&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_8__.xp6(2),_angular_core__WEBPACK_IMPORTED_MODULE_8__.AsE("",_angular_core__WEBPACK_IMPORTED_MODULE_8__.lcZ(3,3,"resource-policies.create.page.heading")," ",ctx.targetResourceName,""),_angular_core__WEBPACK_IMPORTED_MODULE_8__.xp6(2),_angular_core__WEBPACK_IMPORTED_MODULE_8__.Q6J("isProcessing",ctx.isProcessing()))},"ResourcePolicyCreateComponent_Template"),directives:[_form_resource_policy_form_component__WEBPACK_IMPORTED_MODULE_4__.Z],pipes:[_ngx_translate_core__WEBPACK_IMPORTED_MODULE_10__.X$],encapsulation:2})},86527:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{x:()=>ResourcePolicyEditComponent});var rxjs__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(76477),rxjs_operators__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(83292),_core_resource_policy_resource_policy_data_service__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(24886),_notifications_notifications_service__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(82596),_core_resource_policy_models_resource_policy_resource_type__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(74648),_item_page_edit_item_page_edit_item_page_routing_paths__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(84254),_core_shared_operators__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(13730),_angular_core__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(5e3),_angular_router__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(74202),_ngx_translate_core__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(42466),_form_resource_policy_form_component__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(35835);class ResourcePolicyEditComponent{constructor(notificationsService,resourcePolicyService,route,router,translate){this.notificationsService=notificationsService,this.resourcePolicyService=resourcePolicyService,this.route=route,this.router=router,this.translate=translate,this.processing$=new rxjs__WEBPACK_IMPORTED_MODULE_5__.BehaviorSubject(!1)}ngOnInit(){this.route.data.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_6__.UI)(data=>data),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_6__.qn)(1)).subscribe(data=>{this.resourcePolicy=data.resourcePolicy.payload})}isProcessing(){return this.processing$.asObservable()}redirectToAuthorizationsPage(){this.router.navigate([`../../${_item_page_edit_item_page_edit_item_page_routing_paths__WEBPACK_IMPORTED_MODULE_7__.N}`],{relativeTo:this.route})}updateResourcePolicy(event){this.processing$.next(!0);const updatedObject=Object.assign({},event.object,{id:this.resourcePolicy.id,type:_core_resource_policy_models_resource_policy_resource_type__WEBPACK_IMPORTED_MODULE_2__.A.value,_links:this.resourcePolicy._links}),updateTargetSucceeded$=event.updateTarget?this.resourcePolicyService.updateTarget(this.resourcePolicy.id,this.resourcePolicy._links.self.href,event.target.uuid,event.target.type).pipe((0,_core_shared_operators__WEBPACK_IMPORTED_MODULE_3__.hC)(),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_6__.UI)(responseRD=>responseRD&&responseRD.hasSucceeded)):(0,rxjs__WEBPACK_IMPORTED_MODULE_5__.of)(!0),updateResourcePolicySucceeded$=this.resourcePolicyService.update(updatedObject).pipe((0,_core_shared_operators__WEBPACK_IMPORTED_MODULE_3__.hC)(),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_6__.UI)(responseRD=>responseRD&&responseRD.hasSucceeded));(0,rxjs__WEBPACK_IMPORTED_MODULE_5__.combineLatest)([updateTargetSucceeded$,updateResourcePolicySucceeded$]).subscribe(([updateTargetSucceeded,updateResourcePolicySucceeded])=>{this.processing$.next(!1),updateTargetSucceeded&&updateResourcePolicySucceeded?(this.notificationsService.success(null,this.translate.get("resource-policies.edit.page.success.content")),this.redirectToAuthorizationsPage()):updateResourcePolicySucceeded?this.notificationsService.error(null,this.translate.get("resource-policies.edit.page.target-failure.content")):updateTargetSucceeded?this.notificationsService.error(null,this.translate.get("resource-policies.edit.page.other-failure.content")):this.notificationsService.error(null,this.translate.get("resource-policies.edit.page.failure.content"))})}}__name(ResourcePolicyEditComponent,"ResourcePolicyEditComponent"),ResourcePolicyEditComponent.\u0275fac=__name(function(t){return new(t||ResourcePolicyEditComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_8__.Y36(_notifications_notifications_service__WEBPACK_IMPORTED_MODULE_1__.T),_angular_core__WEBPACK_IMPORTED_MODULE_8__.Y36(_core_resource_policy_resource_policy_data_service__WEBPACK_IMPORTED_MODULE_0__.I),_angular_core__WEBPACK_IMPORTED_MODULE_8__.Y36(_angular_router__WEBPACK_IMPORTED_MODULE_9__.gz),_angular_core__WEBPACK_IMPORTED_MODULE_8__.Y36(_angular_router__WEBPACK_IMPORTED_MODULE_9__.F0),_angular_core__WEBPACK_IMPORTED_MODULE_8__.Y36(_ngx_translate_core__WEBPACK_IMPORTED_MODULE_10__.sK))},"ResourcePolicyEditComponent_Factory"),ResourcePolicyEditComponent.\u0275cmp=_angular_core__WEBPACK_IMPORTED_MODULE_8__.Xpm({type:ResourcePolicyEditComponent,selectors:[["ds-resource-policy-edit"]],decls:5,vars:6,consts:[[1,"container"],[1,"mb-3"],[3,"resourcePolicy","isProcessing","reset","submit"]],template:__name(function(rf,ctx){1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_8__.TgZ(0,"div",0)(1,"h4",1),_angular_core__WEBPACK_IMPORTED_MODULE_8__._uU(2),_angular_core__WEBPACK_IMPORTED_MODULE_8__.ALo(3,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_8__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_8__.TgZ(4,"ds-resource-policy-form",2),_angular_core__WEBPACK_IMPORTED_MODULE_8__.NdJ("reset",__name(function(){return ctx.redirectToAuthorizationsPage()},"ResourcePolicyEditComponent_Template_ds_resource_policy_form_reset_4_listener"))("submit",__name(function($event){return ctx.updateResourcePolicy($event)},"ResourcePolicyEditComponent_Template_ds_resource_policy_form_submit_4_listener")),_angular_core__WEBPACK_IMPORTED_MODULE_8__.qZA()()),2&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_8__.xp6(2),_angular_core__WEBPACK_IMPORTED_MODULE_8__.AsE("",_angular_core__WEBPACK_IMPORTED_MODULE_8__.lcZ(3,4,"resource-policies.edit.page.heading")," ",ctx.resourcePolicy.id,""),_angular_core__WEBPACK_IMPORTED_MODULE_8__.xp6(2),_angular_core__WEBPACK_IMPORTED_MODULE_8__.Q6J("resourcePolicy",ctx.resourcePolicy)("isProcessing",ctx.isProcessing()))},"ResourcePolicyEditComponent_Template"),directives:[_form_resource_policy_form_component__WEBPACK_IMPORTED_MODULE_4__.Z],pipes:[_ngx_translate_core__WEBPACK_IMPORTED_MODULE_10__.X$],encapsulation:2})},60726:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Y:()=>ResourcePolicyEntryComponent});var _angular_core__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(5e3),_empty_util__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(24702),_date_util__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(38723),rxjs_operators__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(83292),_core_shared_operators__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(13730),_core_breadcrumbs_dso_name_service__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(83616),_app_routing_paths__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(50503),_access_control_access_control_routing_paths__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(92414),_core_eperson_group_data_service__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(43499),_angular_router__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(74202),_angular_forms__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(93075),_angular_common__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(69808),_ngx_translate_core__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(42466);function ResourcePolicyEntryComponent_button_27_Template(rf,ctx){if(1&rf){const _r2=_angular_core__WEBPACK_IMPORTED_MODULE_6__.EpF();_angular_core__WEBPACK_IMPORTED_MODULE_6__.TgZ(0,"button",6),_angular_core__WEBPACK_IMPORTED_MODULE_6__.NdJ("click",__name(function(){return _angular_core__WEBPACK_IMPORTED_MODULE_6__.CHM(_r2),_angular_core__WEBPACK_IMPORTED_MODULE_6__.oxw().redirectToGroupEditPage()},"ResourcePolicyEntryComponent_button_27_Template_button_click_0_listener")),_angular_core__WEBPACK_IMPORTED_MODULE_6__.ALo(1,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_6__._UZ(2,"i",9),_angular_core__WEBPACK_IMPORTED_MODULE_6__.qZA()}2&rf&&_angular_core__WEBPACK_IMPORTED_MODULE_6__.Q6J("title",_angular_core__WEBPACK_IMPORTED_MODULE_6__.lcZ(1,1,"resource-policies.table.headers.edit.group"))}__name(ResourcePolicyEntryComponent_button_27_Template,"ResourcePolicyEntryComponent_button_27_Template");class ResourcePolicyEntryComponent{constructor(dsoNameService,groupService,route,router){this.dsoNameService=dsoNameService,this.groupService=groupService,this.route=route,this.router=router,this.toggleCheckbox=new _angular_core__WEBPACK_IMPORTED_MODULE_6__.vpe}ngOnInit(){this.epersonName$=this.getName$(this.entry.policy.eperson),this.groupName$=this.getName$(this.entry.policy.group)}getName$(dso$){return dso$.pipe((0,_core_shared_operators__WEBPACK_IMPORTED_MODULE_1__.g1)(),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_7__.UI)(rd=>{if((0,_empty_util__WEBPACK_IMPORTED_MODULE_8__.Uh)(null==rd?void 0:rd.payload))return this.dsoNameService.getName(rd.payload)}))}formatDate(date){return(0,_empty_util__WEBPACK_IMPORTED_MODULE_8__.UE)(date)?(0,_date_util__WEBPACK_IMPORTED_MODULE_0__.UW)((0,_date_util__WEBPACK_IMPORTED_MODULE_0__.bj)(date)):""}redirectToResourcePolicyEditPage(){this.router.navigate(["./edit"],{relativeTo:this.route,queryParams:{policyId:this.entry.policy.id}})}redirectToGroupEditPage(){this.groupService.findByHref(this.entry.policy._links.group.href,!1).pipe((0,_core_shared_operators__WEBPACK_IMPORTED_MODULE_1__.Gp)(),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_7__.UI)(group=>group.id)).subscribe(groupUUID=>{this.router.navigate([_app_routing_paths__WEBPACK_IMPORTED_MODULE_3__.QX,_access_control_access_control_routing_paths__WEBPACK_IMPORTED_MODULE_4__.CH,groupUUID])})}}__name(ResourcePolicyEntryComponent,"ResourcePolicyEntryComponent"),ResourcePolicyEntryComponent.\u0275fac=__name(function(t){return new(t||ResourcePolicyEntryComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_6__.Y36(_core_breadcrumbs_dso_name_service__WEBPACK_IMPORTED_MODULE_2__._),_angular_core__WEBPACK_IMPORTED_MODULE_6__.Y36(_core_eperson_group_data_service__WEBPACK_IMPORTED_MODULE_5__.O),_angular_core__WEBPACK_IMPORTED_MODULE_6__.Y36(_angular_router__WEBPACK_IMPORTED_MODULE_9__.gz),_angular_core__WEBPACK_IMPORTED_MODULE_6__.Y36(_angular_router__WEBPACK_IMPORTED_MODULE_9__.F0))},"ResourcePolicyEntryComponent_Factory"),ResourcePolicyEntryComponent.\u0275cmp=_angular_core__WEBPACK_IMPORTED_MODULE_6__.Xpm({type:ResourcePolicyEntryComponent,selectors:[["tr","ds-resource-policy-entry",""]],inputs:{entry:"entry"},outputs:{toggleCheckbox:"toggleCheckbox"},attrs:["ds-resource-policy-entry",""],decls:29,vars:21,consts:[[1,"text-center"],[1,"custom-control","custom-checkbox"],["type","checkbox",1,"custom-control-input",3,"id","ngModel","ngModelChange"],[1,"custom-control-label",3,"for"],["scope","row"],[1,"btn-group","edit-field"],[1,"btn","btn-outline-primary","btn-sm",3,"title","click"],[1,"fas","fa-edit","fa-fw"],["class","btn btn-outline-primary btn-sm",3,"title","click",4,"ngIf"],[1,"fas","fa-users","fa-fw"]],template:__name(function(rf,ctx){1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_6__.TgZ(0,"td",0)(1,"div",1)(2,"input",2),_angular_core__WEBPACK_IMPORTED_MODULE_6__.NdJ("ngModelChange",__name(function($event){return ctx.toggleCheckbox.emit($event)},"ResourcePolicyEntryComponent_Template_input_ngModelChange_2_listener")),_angular_core__WEBPACK_IMPORTED_MODULE_6__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_6__._UZ(3,"label",3),_angular_core__WEBPACK_IMPORTED_MODULE_6__.qZA()(),_angular_core__WEBPACK_IMPORTED_MODULE_6__.TgZ(4,"th",4),_angular_core__WEBPACK_IMPORTED_MODULE_6__._uU(5),_angular_core__WEBPACK_IMPORTED_MODULE_6__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_6__.TgZ(6,"td"),_angular_core__WEBPACK_IMPORTED_MODULE_6__._uU(7),_angular_core__WEBPACK_IMPORTED_MODULE_6__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_6__.TgZ(8,"td"),_angular_core__WEBPACK_IMPORTED_MODULE_6__._uU(9),_angular_core__WEBPACK_IMPORTED_MODULE_6__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_6__.TgZ(10,"td"),_angular_core__WEBPACK_IMPORTED_MODULE_6__._uU(11),_angular_core__WEBPACK_IMPORTED_MODULE_6__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_6__.TgZ(12,"td"),_angular_core__WEBPACK_IMPORTED_MODULE_6__._uU(13),_angular_core__WEBPACK_IMPORTED_MODULE_6__.ALo(14,"async"),_angular_core__WEBPACK_IMPORTED_MODULE_6__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_6__.TgZ(15,"td"),_angular_core__WEBPACK_IMPORTED_MODULE_6__._uU(16),_angular_core__WEBPACK_IMPORTED_MODULE_6__.ALo(17,"async"),_angular_core__WEBPACK_IMPORTED_MODULE_6__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_6__.TgZ(18,"td"),_angular_core__WEBPACK_IMPORTED_MODULE_6__._uU(19),_angular_core__WEBPACK_IMPORTED_MODULE_6__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_6__.TgZ(20,"td"),_angular_core__WEBPACK_IMPORTED_MODULE_6__._uU(21),_angular_core__WEBPACK_IMPORTED_MODULE_6__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_6__.TgZ(22,"td",0)(23,"div",5)(24,"button",6),_angular_core__WEBPACK_IMPORTED_MODULE_6__.NdJ("click",__name(function(){return ctx.redirectToResourcePolicyEditPage()},"ResourcePolicyEntryComponent_Template_button_click_24_listener")),_angular_core__WEBPACK_IMPORTED_MODULE_6__.ALo(25,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_6__._UZ(26,"i",7),_angular_core__WEBPACK_IMPORTED_MODULE_6__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_6__.YNc(27,ResourcePolicyEntryComponent_button_27_Template,3,3,"button",8),_angular_core__WEBPACK_IMPORTED_MODULE_6__.ALo(28,"async"),_angular_core__WEBPACK_IMPORTED_MODULE_6__.qZA()()),2&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_6__.xp6(2),_angular_core__WEBPACK_IMPORTED_MODULE_6__.Q6J("id",ctx.entry.id)("ngModel",ctx.entry.checked),_angular_core__WEBPACK_IMPORTED_MODULE_6__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_6__.Q6J("for",ctx.entry.id),_angular_core__WEBPACK_IMPORTED_MODULE_6__.xp6(2),_angular_core__WEBPACK_IMPORTED_MODULE_6__.hij(" ",ctx.entry.id,"\n"),_angular_core__WEBPACK_IMPORTED_MODULE_6__.xp6(2),_angular_core__WEBPACK_IMPORTED_MODULE_6__.Oqu(ctx.entry.policy.name),_angular_core__WEBPACK_IMPORTED_MODULE_6__.xp6(2),_angular_core__WEBPACK_IMPORTED_MODULE_6__.Oqu(ctx.entry.policy.policyType),_angular_core__WEBPACK_IMPORTED_MODULE_6__.xp6(2),_angular_core__WEBPACK_IMPORTED_MODULE_6__.Oqu(ctx.entry.policy.action),_angular_core__WEBPACK_IMPORTED_MODULE_6__.xp6(2),_angular_core__WEBPACK_IMPORTED_MODULE_6__.hij(" ",_angular_core__WEBPACK_IMPORTED_MODULE_6__.lcZ(14,13,ctx.epersonName$),"\n"),_angular_core__WEBPACK_IMPORTED_MODULE_6__.xp6(3),_angular_core__WEBPACK_IMPORTED_MODULE_6__.hij(" ",_angular_core__WEBPACK_IMPORTED_MODULE_6__.lcZ(17,15,ctx.groupName$),"\n"),_angular_core__WEBPACK_IMPORTED_MODULE_6__.xp6(3),_angular_core__WEBPACK_IMPORTED_MODULE_6__.Oqu(ctx.formatDate(ctx.entry.policy.startDate)),_angular_core__WEBPACK_IMPORTED_MODULE_6__.xp6(2),_angular_core__WEBPACK_IMPORTED_MODULE_6__.Oqu(ctx.formatDate(ctx.entry.policy.endDate)),_angular_core__WEBPACK_IMPORTED_MODULE_6__.xp6(3),_angular_core__WEBPACK_IMPORTED_MODULE_6__.Q6J("title",_angular_core__WEBPACK_IMPORTED_MODULE_6__.lcZ(25,17,"resource-policies.table.headers.edit.policy")),_angular_core__WEBPACK_IMPORTED_MODULE_6__.xp6(3),_angular_core__WEBPACK_IMPORTED_MODULE_6__.Q6J("ngIf",void 0!==_angular_core__WEBPACK_IMPORTED_MODULE_6__.lcZ(28,19,ctx.groupName$)))},"ResourcePolicyEntryComponent_Template"),directives:[_angular_forms__WEBPACK_IMPORTED_MODULE_10__.Wl,_angular_forms__WEBPACK_IMPORTED_MODULE_10__.JJ,_angular_forms__WEBPACK_IMPORTED_MODULE_10__.On,_angular_common__WEBPACK_IMPORTED_MODULE_11__.O5],pipes:[_angular_common__WEBPACK_IMPORTED_MODULE_11__.Ov,_ngx_translate_core__WEBPACK_IMPORTED_MODULE_12__.X$],encapsulation:2})},72044:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{W:()=>EpersonGroupListComponent});var _angular_core__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(5e3),rxjs__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(76477),rxjs_operators__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(83292),lodash__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(17489),_pagination_pagination_component_options_model__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(26638),_empty_util__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(24702),_core_breadcrumbs_dso_name_service__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(83616),_core_eperson_models_eperson_resource_type__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(71508),_core_eperson_models_group_resource_type__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(77572),_animations_fade__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(28652),_core_shared_operators__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(13730),_core_pagination_pagination_service__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(77467),_core_data_find_list_options_model__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__(17481),_core_data_base_data_service_decorator__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(21147);function EpersonGroupListComponent_ds_eperson_search_box_1_Template(rf,ctx){if(1&rf){const _r4=_angular_core__WEBPACK_IMPORTED_MODULE_9__.EpF();_angular_core__WEBPACK_IMPORTED_MODULE_9__.TgZ(0,"ds-eperson-search-box",3),_angular_core__WEBPACK_IMPORTED_MODULE_9__.NdJ("search",__name(function($event){return _angular_core__WEBPACK_IMPORTED_MODULE_9__.CHM(_r4),_angular_core__WEBPACK_IMPORTED_MODULE_9__.oxw().onSearch($event)},"EpersonGroupListComponent_ds_eperson_search_box_1_Template_ds_eperson_search_box_search_0_listener")),_angular_core__WEBPACK_IMPORTED_MODULE_9__.qZA()}}function EpersonGroupListComponent_ds_group_search_box_2_Template(rf,ctx){if(1&rf){const _r6=_angular_core__WEBPACK_IMPORTED_MODULE_9__.EpF();_angular_core__WEBPACK_IMPORTED_MODULE_9__.TgZ(0,"ds-group-search-box",3),_angular_core__WEBPACK_IMPORTED_MODULE_9__.NdJ("search",__name(function($event){return _angular_core__WEBPACK_IMPORTED_MODULE_9__.CHM(_r6),_angular_core__WEBPACK_IMPORTED_MODULE_9__.oxw().onSearch($event)},"EpersonGroupListComponent_ds_group_search_box_2_Template_ds_group_search_box_search_0_listener")),_angular_core__WEBPACK_IMPORTED_MODULE_9__.qZA()}}function EpersonGroupListComponent_ds_pagination_3_tr_16_Template(rf,ctx){if(1&rf){const _r10=_angular_core__WEBPACK_IMPORTED_MODULE_9__.EpF();_angular_core__WEBPACK_IMPORTED_MODULE_9__.TgZ(0,"tr"),_angular_core__WEBPACK_IMPORTED_MODULE_9__.ALo(1,"async"),_angular_core__WEBPACK_IMPORTED_MODULE_9__.TgZ(2,"td"),_angular_core__WEBPACK_IMPORTED_MODULE_9__._uU(3),_angular_core__WEBPACK_IMPORTED_MODULE_9__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_9__.TgZ(4,"td"),_angular_core__WEBPACK_IMPORTED_MODULE_9__._uU(5),_angular_core__WEBPACK_IMPORTED_MODULE_9__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_9__.TgZ(6,"td",7)(7,"button",9),_angular_core__WEBPACK_IMPORTED_MODULE_9__.NdJ("click",__name(function(){const entry_r8=_angular_core__WEBPACK_IMPORTED_MODULE_9__.CHM(_r10).$implicit;return _angular_core__WEBPACK_IMPORTED_MODULE_9__.oxw(2).emitSelect(entry_r8)},"EpersonGroupListComponent_ds_pagination_3_tr_16_Template_button_click_7_listener")),_angular_core__WEBPACK_IMPORTED_MODULE_9__._uU(8),_angular_core__WEBPACK_IMPORTED_MODULE_9__.ALo(9,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_9__.qZA()()()}if(2&rf){const entry_r8=ctx.$implicit,ctx_r7=_angular_core__WEBPACK_IMPORTED_MODULE_9__.oxw(2);_angular_core__WEBPACK_IMPORTED_MODULE_9__.ekj("table-primary",_angular_core__WEBPACK_IMPORTED_MODULE_9__.lcZ(1,5,ctx_r7.isSelected(entry_r8))),_angular_core__WEBPACK_IMPORTED_MODULE_9__.xp6(3),_angular_core__WEBPACK_IMPORTED_MODULE_9__.Oqu(entry_r8.id),_angular_core__WEBPACK_IMPORTED_MODULE_9__.xp6(2),_angular_core__WEBPACK_IMPORTED_MODULE_9__.Oqu(ctx_r7.dsoNameService.getName(entry_r8)),_angular_core__WEBPACK_IMPORTED_MODULE_9__.xp6(3),_angular_core__WEBPACK_IMPORTED_MODULE_9__.hij(" ",_angular_core__WEBPACK_IMPORTED_MODULE_9__.lcZ(9,7,"resource-policies.form.eperson-group-list.select.btn")," ")}}function EpersonGroupListComponent_ds_pagination_3_Template(rf,ctx){if(1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_9__.TgZ(0,"ds-pagination",4),_angular_core__WEBPACK_IMPORTED_MODULE_9__.ALo(1,"async"),_angular_core__WEBPACK_IMPORTED_MODULE_9__.TgZ(2,"div",5)(3,"table",6)(4,"thead")(5,"tr",7)(6,"th"),_angular_core__WEBPACK_IMPORTED_MODULE_9__._uU(7),_angular_core__WEBPACK_IMPORTED_MODULE_9__.ALo(8,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_9__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_9__.TgZ(9,"th"),_angular_core__WEBPACK_IMPORTED_MODULE_9__._uU(10),_angular_core__WEBPACK_IMPORTED_MODULE_9__.ALo(11,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_9__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_9__.TgZ(12,"th"),_angular_core__WEBPACK_IMPORTED_MODULE_9__._uU(13),_angular_core__WEBPACK_IMPORTED_MODULE_9__.ALo(14,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_9__.qZA()()(),_angular_core__WEBPACK_IMPORTED_MODULE_9__.TgZ(15,"tbody"),_angular_core__WEBPACK_IMPORTED_MODULE_9__.YNc(16,EpersonGroupListComponent_ds_pagination_3_tr_16_Template,10,9,"tr",8),_angular_core__WEBPACK_IMPORTED_MODULE_9__.ALo(17,"async"),_angular_core__WEBPACK_IMPORTED_MODULE_9__.qZA()()()()),2&rf){const ctx_r2=_angular_core__WEBPACK_IMPORTED_MODULE_9__.oxw();let tmp_1_0,tmp_7_0;_angular_core__WEBPACK_IMPORTED_MODULE_9__.Q6J("paginationOptions",ctx_r2.paginationOptions)("collectionSize",null==(tmp_1_0=_angular_core__WEBPACK_IMPORTED_MODULE_9__.lcZ(1,8,ctx_r2.getList()))||null==tmp_1_0.payload?null:tmp_1_0.payload.totalElements)("retainScrollPosition",!0)("hideGear",!0),_angular_core__WEBPACK_IMPORTED_MODULE_9__.xp6(7),_angular_core__WEBPACK_IMPORTED_MODULE_9__.Oqu(_angular_core__WEBPACK_IMPORTED_MODULE_9__.lcZ(8,10,"resource-policies.form.eperson-group-list.table.headers.id")),_angular_core__WEBPACK_IMPORTED_MODULE_9__.xp6(3),_angular_core__WEBPACK_IMPORTED_MODULE_9__.Oqu(_angular_core__WEBPACK_IMPORTED_MODULE_9__.lcZ(11,12,"resource-policies.form.eperson-group-list.table.headers.name")),_angular_core__WEBPACK_IMPORTED_MODULE_9__.xp6(3),_angular_core__WEBPACK_IMPORTED_MODULE_9__.Oqu(_angular_core__WEBPACK_IMPORTED_MODULE_9__.lcZ(14,14,"resource-policies.form.eperson-group-list.table.headers.action")),_angular_core__WEBPACK_IMPORTED_MODULE_9__.xp6(3),_angular_core__WEBPACK_IMPORTED_MODULE_9__.Q6J("ngForOf",null==(tmp_7_0=_angular_core__WEBPACK_IMPORTED_MODULE_9__.lcZ(17,16,ctx_r2.getList()))||null==tmp_7_0.payload?null:tmp_7_0.payload.page)}}__name(EpersonGroupListComponent_ds_eperson_search_box_1_Template,"EpersonGroupListComponent_ds_eperson_search_box_1_Template"),__name(EpersonGroupListComponent_ds_group_search_box_2_Template,"EpersonGroupListComponent_ds_group_search_box_2_Template"),__name(EpersonGroupListComponent_ds_pagination_3_tr_16_Template,"EpersonGroupListComponent_ds_pagination_3_tr_16_Template"),__name(EpersonGroupListComponent_ds_pagination_3_Template,"EpersonGroupListComponent_ds_pagination_3_Template");class EpersonGroupListComponent{constructor(dsoNameService,parentInjector,paginationService){this.dsoNameService=dsoNameService,this.parentInjector=parentInjector,this.paginationService=paginationService,this.isListOfEPerson=!0,this.select=new _angular_core__WEBPACK_IMPORTED_MODULE_9__.vpe,this.currentSearchQuery="",this.currentSearchScope="metadata",this.paginationOptions=new _pagination_pagination_component_options_model__WEBPACK_IMPORTED_MODULE_1__.r,this.list$=new rxjs__WEBPACK_IMPORTED_MODULE_10__.BehaviorSubject({}),this.entrySelectedId=new rxjs__WEBPACK_IMPORTED_MODULE_10__.BehaviorSubject(""),this.subs=[]}ngOnInit(){const resourceType=this.isListOfEPerson?_core_eperson_models_eperson_resource_type__WEBPACK_IMPORTED_MODULE_3__.U:_core_eperson_models_group_resource_type__WEBPACK_IMPORTED_MODULE_4__.o,provider=(0,_core_data_base_data_service_decorator__WEBPACK_IMPORTED_MODULE_8__.p)(resourceType);this.dataService=_angular_core__WEBPACK_IMPORTED_MODULE_9__.zs3.create({providers:[],parent:this.parentInjector}).get(provider),this.paginationOptions.id=(0,lodash__WEBPACK_IMPORTED_MODULE_0__.uniqueId)("egl"),this.paginationOptions.pageSize=5,this.initSelected&&this.entrySelectedId.next(this.initSelected),this.updateList(this.currentSearchScope,this.currentSearchQuery)}emitSelect(entry){this.select.emit(entry),this.entrySelectedId.next(entry.id)}getList(){return this.list$.asObservable()}isSelected(entry){return this.entrySelectedId.asObservable().pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_11__.UI)(selectedId=>(0,_empty_util__WEBPACK_IMPORTED_MODULE_12__.UE)(selectedId)&&selectedId===entry.id))}onSearch(searchEvent){this.currentSearchQuery=searchEvent.query,this.currentSearchScope=searchEvent.scope,this.paginationService.resetPage(this.paginationOptions.id),this.updateList(this.currentSearchScope,this.currentSearchQuery)}updateList(scope,query){(0,_empty_util__WEBPACK_IMPORTED_MODULE_12__.Uh)(this.pageConfigSub)&&this.pageConfigSub.unsubscribe(),this.pageConfigSub=this.paginationService.getCurrentPagination(this.paginationOptions.id,this.paginationOptions).subscribe(paginationOptions=>{const options=Object.assign({},new _core_data_find_list_options_model__WEBPACK_IMPORTED_MODULE_13__.R,{elementsPerPage:paginationOptions.pageSize,currentPage:paginationOptions.currentPage}),search$=this.isListOfEPerson?this.dataService.searchByScope(scope,query,options):this.dataService.searchGroups(query,options);this.subs.push(search$.pipe((0,_core_shared_operators__WEBPACK_IMPORTED_MODULE_6__.hC)()).subscribe(list=>{(0,_empty_util__WEBPACK_IMPORTED_MODULE_12__.Uh)(this.list$)&&this.list$.next(list)}))})}ngOnDestroy(){this.list$=null,this.subs.filter(subscription=>(0,_empty_util__WEBPACK_IMPORTED_MODULE_12__.Uh)(subscription)).forEach(subscription=>subscription.unsubscribe()),this.paginationService.clearPagination(this.paginationOptions.id)}}__name(EpersonGroupListComponent,"EpersonGroupListComponent"),EpersonGroupListComponent.\u0275fac=__name(function(t){return new(t||EpersonGroupListComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_9__.Y36(_core_breadcrumbs_dso_name_service__WEBPACK_IMPORTED_MODULE_2__._),_angular_core__WEBPACK_IMPORTED_MODULE_9__.Y36(_angular_core__WEBPACK_IMPORTED_MODULE_9__.zs3),_angular_core__WEBPACK_IMPORTED_MODULE_9__.Y36(_core_pagination_pagination_service__WEBPACK_IMPORTED_MODULE_7__.N))},"EpersonGroupListComponent_Factory"),EpersonGroupListComponent.\u0275cmp=_angular_core__WEBPACK_IMPORTED_MODULE_9__.Xpm({type:EpersonGroupListComponent,selectors:[["ds-eperson-group-list"]],inputs:{isListOfEPerson:"isListOfEPerson",initSelected:"initSelected"},outputs:{select:"select"},decls:5,vars:6,consts:[[1,"mt-3"],[3,"search",4,"ngIf"],[3,"paginationOptions","collectionSize","retainScrollPosition","hideGear",4,"ngIf"],[3,"search"],[3,"paginationOptions","collectionSize","retainScrollPosition","hideGear"],[1,"table-responsive"],["id","groups",1,"table","table-sm","table-striped","table-hover","table-bordered"],[1,"text-center"],[3,"table-primary",4,"ngFor","ngForOf"],[1,"btn","btn-sm","btn-outline-primary",3,"click"]],template:__name(function(rf,ctx){if(1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_9__.TgZ(0,"div",0),_angular_core__WEBPACK_IMPORTED_MODULE_9__.YNc(1,EpersonGroupListComponent_ds_eperson_search_box_1_Template,1,0,"ds-eperson-search-box",1),_angular_core__WEBPACK_IMPORTED_MODULE_9__.YNc(2,EpersonGroupListComponent_ds_group_search_box_2_Template,1,0,"ds-group-search-box",1),_angular_core__WEBPACK_IMPORTED_MODULE_9__.YNc(3,EpersonGroupListComponent_ds_pagination_3_Template,18,18,"ds-pagination",2),_angular_core__WEBPACK_IMPORTED_MODULE_9__.ALo(4,"async"),_angular_core__WEBPACK_IMPORTED_MODULE_9__.qZA()),2&rf){let tmp_2_0;_angular_core__WEBPACK_IMPORTED_MODULE_9__.Q6J("@fadeInOut",void 0),_angular_core__WEBPACK_IMPORTED_MODULE_9__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_9__.Q6J("ngIf",ctx.isListOfEPerson),_angular_core__WEBPACK_IMPORTED_MODULE_9__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_9__.Q6J("ngIf",!ctx.isListOfEPerson),_angular_core__WEBPACK_IMPORTED_MODULE_9__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_9__.Q6J("ngIf",(null==(tmp_2_0=_angular_core__WEBPACK_IMPORTED_MODULE_9__.lcZ(4,4,ctx.getList()))||null==tmp_2_0.payload?null:tmp_2_0.payload.totalElements)>0)}},"EpersonGroupListComponent_Template"),styles:[""],data:{animation:[_animations_fade__WEBPACK_IMPORTED_MODULE_5__.Ic]}})},35835:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>ResourcePolicyFormComponent});var core=__webpack_require__(5e3),cjs=__webpack_require__(76477),operators=__webpack_require__(83292),fesm2015_core=__webpack_require__(87098),resource_policy_model=__webpack_require__(68720),ds_dynamic_input_model=__webpack_require__(19260),policy_type_model=__webpack_require__(57603),action_type_model=__webpack_require__(91709);const policyTypeList=[{label:policy_type_model.M.TYPE_SUBMISSION,value:policy_type_model.M.TYPE_SUBMISSION},{label:policy_type_model.M.TYPE_WORKFLOW,value:policy_type_model.M.TYPE_WORKFLOW},{label:policy_type_model.M.TYPE_INHERITED,value:policy_type_model.M.TYPE_INHERITED},{label:policy_type_model.M.TYPE_CUSTOM,value:policy_type_model.M.TYPE_CUSTOM}],policyActionList=[{label:action_type_model.U.READ.toString(),value:action_type_model.U.READ},{label:action_type_model.U.WRITE.toString(),value:action_type_model.U.WRITE},{label:action_type_model.U.REMOVE.toString(),value:action_type_model.U.REMOVE},{label:action_type_model.U.ADMIN.toString(),value:action_type_model.U.ADMIN},{label:action_type_model.U.DELETE.toString(),value:action_type_model.U.DELETE},{label:action_type_model.U.WITHDRAWN_READ.toString(),value:action_type_model.U.WITHDRAWN_READ},{label:action_type_model.U.DEFAULT_BITSTREAM_READ.toString(),value:action_type_model.U.DEFAULT_BITSTREAM_READ},{label:action_type_model.U.DEFAULT_ITEM_READ.toString(),value:action_type_model.U.DEFAULT_ITEM_READ}],RESOURCE_POLICY_FORM_NAME_CONFIG={id:"name",label:"resource-policies.form.name.label",metadataFields:[],repeatable:!1,submissionId:"",hasSelectableMetadata:!1},RESOURCE_POLICY_FORM_DESCRIPTION_CONFIG={id:"description",label:"resource-policies.form.description.label",metadataFields:[],repeatable:!1,rows:10,submissionId:"",hasSelectableMetadata:!1},RESOURCE_POLICY_FORM_POLICY_TYPE_CONFIG={id:"policyType",label:"resource-policies.form.policy-type.label",options:policyTypeList,required:!0,validators:{required:null},errorMessages:{required:"resource-policies.form.policy-type.required"}},RESOURCE_POLICY_FORM_ACTION_TYPE_CONFIG={id:"action",label:"resource-policies.form.action-type.label",options:policyActionList,required:!0,validators:{required:null},errorMessages:{required:"resource-policies.form.action-type.required"}},RESOURCE_POLICY_FORM_DATE_GROUP_CONFIG={id:"date",group:[]},RESOURCE_POLICY_FORM_DATE_GROUP_LAYOUT={element:{control:"form-row"}},RESOURCE_POLICY_FORM_START_DATE_CONFIG={id:"start",label:"resource-policies.form.date.start.label",placeholder:"resource-policies.form.date.start.label",inline:!1,toggleIcon:"far fa-calendar-alt"},RESOURCE_POLICY_FORM_START_DATE_LAYOUT={element:{container:"p-0",label:"col-form-label"},grid:{host:"col-md-6"}},RESOURCE_POLICY_FORM_END_DATE_CONFIG={id:"end",label:"resource-policies.form.date.end.label",placeholder:"resource-policies.form.date.end.label",inline:!1,toggleIcon:"far fa-calendar-alt"},RESOURCE_POLICY_FORM_END_DATE_LAYOUT={element:{container:"p-0",label:"col-form-label"},grid:{host:"col-md-6"}};var ds_dynamic_textarea_model=__webpack_require__(67779),dso_name_service=__webpack_require__(83616),empty_util=__webpack_require__(24702),form_service=__webpack_require__(28858),resource_policy_resource_type=__webpack_require__(74648),date_util=__webpack_require__(38723),eperson_data_service=__webpack_require__(45061),group_data_service=__webpack_require__(43499),shared_operators=__webpack_require__(13730),request_service=__webpack_require__(31241),ng_bootstrap=__webpack_require__(13707),common=__webpack_require__(69808),form_component=__webpack_require__(63311),eperson_group_list_component=__webpack_require__(72044),ngx_translate_core=__webpack_require__(42466);const _c0=["content"];function ResourcePolicyFormComponent_ds_form_1_Template(rf,ctx){if(1&rf&&core._UZ(0,"ds-form",16,17),2&rf){const ctx_r0=core.oxw();core.Q6J("formId",ctx_r0.formId)("formModel",ctx_r0.formModel)("displaySubmit",!1)("displayCancel",!1)}}function ResourcePolicyFormComponent_ng_template_14_Template(rf,ctx){if(1&rf){const _r10=core.EpF();core.TgZ(0,"ds-eperson-group-list",18),core.NdJ("select",__name(function($event){return core.CHM(_r10),core.oxw().updateObjectSelected($event,!0)},"ResourcePolicyFormComponent_ng_template_14_Template_ds_eperson_group_list_select_0_listener")),core.qZA()}}function ResourcePolicyFormComponent_ng_template_19_Template(rf,ctx){if(1&rf){const _r12=core.EpF();core.TgZ(0,"ds-eperson-group-list",19),core.NdJ("select",__name(function($event){return core.CHM(_r12),core.oxw().updateObjectSelected($event,!1)},"ResourcePolicyFormComponent_ng_template_19_Template_ds_eperson_group_list_select_0_listener")),core.qZA()}2&rf&&core.Q6J("isListOfEPerson",!1)}function ResourcePolicyFormComponent_span_32_Template(rf,ctx){1&rf&&(core.TgZ(0,"span"),core._UZ(1,"i",20),core._uU(2),core.ALo(3,"translate"),core.qZA()),2&rf&&(core.xp6(2),core.hij(" ",core.lcZ(3,1,"submission.workflow.tasks.generic.processing")," "))}function ResourcePolicyFormComponent_span_34_Template(rf,ctx){1&rf&&(core.TgZ(0,"span"),core._uU(1),core.ALo(2,"translate"),core.qZA()),2&rf&&(core.xp6(1),core.hij(" ",core.lcZ(2,1,"form.submit")," "))}function ResourcePolicyFormComponent_ng_template_36_Template(rf,ctx){if(1&rf){const _r15=core.EpF();core.TgZ(0,"div",21)(1,"h4",22),core._uU(2),core.ALo(3,"translate"),core.qZA(),core.TgZ(4,"button",23),core.NdJ("click",__name(function(){return core.CHM(_r15).$implicit.close()},"ResourcePolicyFormComponent_ng_template_36_Template_button_click_4_listener")),core.TgZ(5,"span",24),core._uU(6,"\xd7"),core.qZA()()(),core.TgZ(7,"div",25)(8,"div",26)(9,"div",27),core._UZ(10,"i",28),core.qZA(),core.TgZ(11,"div"),core._UZ(12,"p",29),core.ALo(13,"translate"),core._UZ(14,"p",30),core.ALo(15,"translate"),core.qZA()()(),core.TgZ(16,"div",31)(17,"button",32),core.NdJ("click",__name(function(){return core.CHM(_r15).$implicit.close()},"ResourcePolicyFormComponent_ng_template_36_Template_button_click_17_listener")),core._uU(18),core.ALo(19,"translate"),core.qZA()()}if(2&rf){const ctx_r7=core.oxw();core.xp6(2),core.Oqu(core.lcZ(3,4,"resource-policies.form.eperson-group-list.modal.header")),core.xp6(10),core.Q6J("innerHTML",core.lcZ(13,6,"eperson"===ctx_r7.navActiveId?"resource-policies.form.eperson-group-list.modal.text1.toGroup":"resource-policies.form.eperson-group-list.modal.text1.toEPerson"),core.oJD),core.xp6(2),core.Q6J("innerHTML",core.lcZ(15,8,"resource-policies.form.eperson-group-list.modal.text2"),core.oJD),core.xp6(4),core.Oqu(core.lcZ(19,10,"resource-policies.form.eperson-group-list.modal.close"))}}__name(ResourcePolicyFormComponent_ds_form_1_Template,"ResourcePolicyFormComponent_ds_form_1_Template"),__name(ResourcePolicyFormComponent_ng_template_14_Template,"ResourcePolicyFormComponent_ng_template_14_Template"),__name(ResourcePolicyFormComponent_ng_template_19_Template,"ResourcePolicyFormComponent_ng_template_19_Template"),__name(ResourcePolicyFormComponent_span_32_Template,"ResourcePolicyFormComponent_span_32_Template"),__name(ResourcePolicyFormComponent_span_34_Template,"ResourcePolicyFormComponent_span_34_Template"),__name(ResourcePolicyFormComponent_ng_template_36_Template,"ResourcePolicyFormComponent_ng_template_36_Template");class ResourcePolicyFormComponent{constructor(dsoNameService,ePersonService,formService,groupService,requestService,modalService){this.dsoNameService=dsoNameService,this.ePersonService=ePersonService,this.formService=formService,this.groupService=groupService,this.requestService=requestService,this.modalService=modalService,this.isProcessing=(0,cjs.of)(!1),this.reset=new core.vpe,this.submit=new core.vpe,this.resourcePolicyTargetName$=new cjs.BehaviorSubject(""),this.subs=[],this.resourcePolicyTargetUpdated=!1}ngOnInit(){if(this.isActive=!0,this.formId=this.formService.getUniqueId("resource-policy-form"),this.formModel=this.buildResourcePolicyForm(),this.isBeingEdited()){const epersonRD$=this.ePersonService.findByHref(this.resourcePolicy._links.eperson.href,!1).pipe((0,shared_operators.xw)()),groupRD$=this.groupService.findByHref(this.resourcePolicy._links.group.href,!1).pipe((0,shared_operators.xw)()),dsoRD$=(0,cjs.combineLatest)([epersonRD$,groupRD$]).pipe((0,operators.UI)(rdArr=>rdArr.find(rd=>(0,empty_util.UE)(rd.payload))),(0,empty_util.tz)());this.subs.push(dsoRD$.pipe((0,operators.hX)(()=>this.isActive)).subscribe(dsoRD=>{this.resourcePolicyGrant=dsoRD.payload,this.navActiveId=String(dsoRD.payload.type),this.resourcePolicyTargetName$.next(this.getResourcePolicyTargetName())}))}}isFormValid(){return this.formService.isValid(this.formId).pipe((0,operators.UI)(isValid=>isValid&&(0,empty_util.UE)(this.resourcePolicyGrant)))}buildResourcePolicyForm(){const formModel=[];formModel.push(new ds_dynamic_input_model.u(RESOURCE_POLICY_FORM_NAME_CONFIG),new ds_dynamic_textarea_model.D(RESOURCE_POLICY_FORM_DESCRIPTION_CONFIG),new fesm2015_core.nMt(RESOURCE_POLICY_FORM_POLICY_TYPE_CONFIG),new fesm2015_core.nMt(RESOURCE_POLICY_FORM_ACTION_TYPE_CONFIG));const startDateModel=new fesm2015_core.oqv(RESOURCE_POLICY_FORM_START_DATE_CONFIG,RESOURCE_POLICY_FORM_START_DATE_LAYOUT),endDateModel=new fesm2015_core.oqv(RESOURCE_POLICY_FORM_END_DATE_CONFIG,RESOURCE_POLICY_FORM_END_DATE_LAYOUT),dateGroupConfig=Object.assign({},RESOURCE_POLICY_FORM_DATE_GROUP_CONFIG,{group:[]});return dateGroupConfig.group.push(startDateModel,endDateModel),formModel.push(new fesm2015_core.S_O(dateGroupConfig,RESOURCE_POLICY_FORM_DATE_GROUP_LAYOUT)),this.initModelsValue(formModel),formModel}initModelsValue(formModel){return this.resourcePolicy&&formModel.forEach(model=>{"date"===model.id?((0,empty_util.Uh)(this.resourcePolicy.startDate)&&(model.get(0).value=(0,date_util.bj)(this.resourcePolicy.startDate)),(0,empty_util.Uh)(this.resourcePolicy.endDate)&&(model.get(1).value=(0,date_util.bj)(this.resourcePolicy.endDate))):this.resourcePolicy.hasOwnProperty(model.id)&&this.resourcePolicy[model.id]&&(model.value=this.resourcePolicy[model.id])}),formModel}isBeingEdited(){return!(0,empty_util.xb)(this.resourcePolicy)}getResourcePolicyTargetName(){return(0,empty_util.UE)(this.resourcePolicyGrant)?this.dsoNameService.getName(this.resourcePolicyGrant):""}updateObjectSelected(object,isEPerson){this.resourcePolicyTargetUpdated=!0,this.resourcePolicyGrant=object,this.resourcePolicyGrantType=isEPerson?"eperson":"group",this.resourcePolicyTargetName$.next(this.getResourcePolicyTargetName())}onReset(){this.reset.emit()}onSubmit(){this.formService.getFormData(this.formId).pipe((0,operators.qn)(1)).subscribe(data=>{const eventPayload=Object.create({});eventPayload.object=this.createResourcePolicyByFormData(data),eventPayload.target={type:this.resourcePolicyGrantType,uuid:this.resourcePolicyGrant.id},eventPayload.updateTarget=this.resourcePolicyTargetUpdated,this.submit.emit(eventPayload)})}createResourcePolicyByFormData(data){const resourcePolicy=new resource_policy_model.A;return resourcePolicy.name=data.name?data.name[0].value:null,resourcePolicy.description=data.description?data.description[0].value:null,resourcePolicy.policyType=data.policyType?data.policyType[0].value:null,resourcePolicy.action=data.action?data.action[0].value:null,resourcePolicy.startDate=data.date&&data.date.start?(0,date_util.iV)(data.date.start[0].value):null,resourcePolicy.endDate=data.date&&data.date.end?(0,date_util.iV)(data.date.end[0].value):null,resourcePolicy.type=resource_policy_resource_type.A,resourcePolicy}ngOnDestroy(){this.isActive=!1,this.formModel=null,this.subs.filter(subscription=>(0,empty_util.Uh)(subscription)).forEach(subscription=>subscription.unsubscribe())}onNavChange(changeEvent){this.isBeingEdited()&&(changeEvent.preventDefault(),this.modalService.open(this.content))}}__name(ResourcePolicyFormComponent,"ResourcePolicyFormComponent"),ResourcePolicyFormComponent.\u0275fac=__name(function(t){return new(t||ResourcePolicyFormComponent)(core.Y36(dso_name_service._),core.Y36(eperson_data_service.k),core.Y36(form_service.o),core.Y36(group_data_service.O),core.Y36(request_service.s),core.Y36(ng_bootstrap.FF))},"ResourcePolicyFormComponent_Factory"),ResourcePolicyFormComponent.\u0275cmp=core.Xpm({type:ResourcePolicyFormComponent,selectors:[["ds-resource-policy-form"]],viewQuery:__name(function(rf,ctx){if(1&rf&&core.Gf(_c0,5),2&rf){let _t;core.iGM(_t=core.CRH())&&(ctx.content=_t.first)}},"ResourcePolicyFormComponent_Query"),inputs:{resourcePolicy:"resourcePolicy",isProcessing:"isProcessing"},outputs:{reset:"reset",submit:"submit"},decls:38,vars:34,consts:[[3,"formId","formModel","displaySubmit","displayCancel",4,"ngIf"],[1,"container-fluid"],["for","ResourcePolicyObject"],["id","ResourcePolicyObject","type","text",1,"form-control","mb-3",3,"value"],["ngbNav","",1,"nav-pills",3,"activeId","activeIdChange","navChange"],["nav","ngbNav"],[3,"ngbNavItem"],["ngbNavLink",""],["ngbNavContent",""],[3,"ngbNavOutlet"],[1,"form-group","row"],[1,"col","text-right"],["type","reset",1,"btn","btn-default",3,"disabled","click"],["type","button",1,"btn","btn-primary",3,"disabled","click"],[4,"ngIf"],["content",""],[3,"formId","formModel","displaySubmit","displayCancel"],["formRef","formComponent"],[3,"select"],[3,"isListOfEPerson","select"],[1,"fas","fa-circle-notch","fa-spin"],[1,"modal-header"],["id","modal-basic-title",1,"modal-title"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],[1,"d-flex","flex-row"],[1,"mr-3"],[1,"fas","fa-info-circle","fa-2x","text-info"],[1,"font-weight-bold",3,"innerHTML"],[3,"innerHTML"],[1,"modal-footer"],["type","button",1,"btn","btn-secondary",3,"click"]],template:__name(function(rf,ctx){if(1&rf&&(core.TgZ(0,"div"),core.YNc(1,ResourcePolicyFormComponent_ds_form_1_Template,2,4,"ds-form",0),core.TgZ(2,"div",1)(3,"label",2),core._uU(4),core.ALo(5,"translate"),core.qZA(),core._UZ(6,"input",3),core.ALo(7,"async"),core.TgZ(8,"ul",4,5),core.NdJ("activeIdChange",__name(function($event){return ctx.navActiveId=$event},"ResourcePolicyFormComponent_Template_ul_activeIdChange_8_listener"))("navChange",__name(function($event){return ctx.onNavChange($event)},"ResourcePolicyFormComponent_Template_ul_navChange_8_listener")),core.TgZ(10,"li",6)(11,"a",7),core._uU(12),core.ALo(13,"translate"),core.qZA(),core.YNc(14,ResourcePolicyFormComponent_ng_template_14_Template,1,0,"ng-template",8),core.qZA(),core.TgZ(15,"li",6)(16,"a",7),core._uU(17),core.ALo(18,"translate"),core.qZA(),core.YNc(19,ResourcePolicyFormComponent_ng_template_19_Template,1,1,"ng-template",8),core.qZA()(),core._UZ(20,"div",9),core.TgZ(21,"div"),core._UZ(22,"hr"),core.TgZ(23,"div",10)(24,"div",11)(25,"button",12),core.NdJ("click",__name(function(){return ctx.onReset()},"ResourcePolicyFormComponent_Template_button_click_25_listener")),core.ALo(26,"async"),core._uU(27),core.ALo(28,"translate"),core.qZA(),core.TgZ(29,"button",13),core.NdJ("click",__name(function(){return ctx.onSubmit()},"ResourcePolicyFormComponent_Template_button_click_29_listener")),core.ALo(30,"async"),core.ALo(31,"async"),core.YNc(32,ResourcePolicyFormComponent_span_32_Template,4,3,"span",14),core.ALo(33,"async"),core.YNc(34,ResourcePolicyFormComponent_span_34_Template,3,3,"span",14),core.ALo(35,"async"),core.qZA()()()()()(),core.YNc(36,ResourcePolicyFormComponent_ng_template_36_Template,20,12,"ng-template",null,15,core.W1O)),2&rf){const _r1=core.MAs(9);core.xp6(1),core.Q6J("ngIf",ctx.formModel),core.xp6(3),core.Oqu(core.lcZ(5,14,"resource-policies.form.eperson-group-list.label")),core.xp6(2),core.Q6J("value",core.lcZ(7,16,ctx.resourcePolicyTargetName$)),core.xp6(2),core.Q6J("activeId",ctx.navActiveId),core.xp6(2),core.Q6J("ngbNavItem","eperson"),core.xp6(2),core.Oqu(core.lcZ(13,18,"resource-policies.form.eperson-group-list.tab.eperson")),core.xp6(3),core.Q6J("ngbNavItem","group"),core.xp6(2),core.Oqu(core.lcZ(18,20,"resource-policies.form.eperson-group-list.tab.group")),core.xp6(3),core.Q6J("ngbNavOutlet",_r1),core.xp6(5),core.Q6J("disabled",core.lcZ(26,22,ctx.isProcessing)),core.xp6(2),core.Oqu(core.lcZ(28,24,"form.cancel")),core.xp6(2),core.Q6J("disabled",!core.lcZ(30,26,ctx.isFormValid())||core.lcZ(31,28,ctx.isProcessing)),core.xp6(3),core.Q6J("ngIf",core.lcZ(33,30,ctx.isProcessing)),core.xp6(2),core.Q6J("ngIf",!core.lcZ(35,32,ctx.isProcessing))}},"ResourcePolicyFormComponent_Template"),directives:[common.O5,form_component.U,ng_bootstrap.Pz,ng_bootstrap.nv,ng_bootstrap.Vx,ng_bootstrap.uN,eperson_group_list_component.W,ng_bootstrap.tO],pipes:[ngx_translate_core.X$,common.Ov],encapsulation:2})},66765:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{a:()=>ResourcePolicyTargetResolver});var _angular_core__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(5e3),_core_shared_resource_type__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(3879),_empty_util__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(24702),_core_shared_operators__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(13730),_core_data_base_data_service_decorator__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(21147),_angular_router__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(74202);class ResourcePolicyTargetResolver{constructor(parentInjector,router){this.parentInjector=parentInjector,this.router=router}resolve(route,state){const targetType=route.queryParamMap.get("targetType"),policyTargetId=route.queryParamMap.get("policyTargetId");((0,_empty_util__WEBPACK_IMPORTED_MODULE_2__.xb)(targetType)||(0,_empty_util__WEBPACK_IMPORTED_MODULE_2__.xb)(policyTargetId))&&this.router.navigateByUrl("/404",{skipLocationChange:!0});const provider=(0,_core_data_base_data_service_decorator__WEBPACK_IMPORTED_MODULE_1__.p)(new _core_shared_resource_type__WEBPACK_IMPORTED_MODULE_3__._(targetType));return this.dataService=_angular_core__WEBPACK_IMPORTED_MODULE_4__.zs3.create({providers:[],parent:this.parentInjector}).get(provider),this.dataService.findById(policyTargetId).pipe((0,_core_shared_operators__WEBPACK_IMPORTED_MODULE_0__.hC)())}}__name(ResourcePolicyTargetResolver,"ResourcePolicyTargetResolver"),ResourcePolicyTargetResolver.\u0275fac=__name(function(t){return new(t||ResourcePolicyTargetResolver)(_angular_core__WEBPACK_IMPORTED_MODULE_4__.LFG(_angular_core__WEBPACK_IMPORTED_MODULE_4__.zs3),_angular_core__WEBPACK_IMPORTED_MODULE_4__.LFG(_angular_router__WEBPACK_IMPORTED_MODULE_5__.F0))},"ResourcePolicyTargetResolver_Factory"),ResourcePolicyTargetResolver.\u0275prov=_angular_core__WEBPACK_IMPORTED_MODULE_4__.Yz7({token:ResourcePolicyTargetResolver,factory:ResourcePolicyTargetResolver.\u0275fac})},54004:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{b:()=>ResourcePolicyResolver});var _empty_util__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(24702),_core_resource_policy_resource_policy_data_service__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(24886),_utils_follow_link_config_model__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(93369),_core_shared_operators__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(13730),_angular_core__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(5e3),_angular_router__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(74202);class ResourcePolicyResolver{constructor(resourcePolicyService,router){this.resourcePolicyService=resourcePolicyService,this.router=router}resolve(route,state){const policyId=route.queryParamMap.get("policyId");return(0,_empty_util__WEBPACK_IMPORTED_MODULE_2__.xb)(policyId)&&this.router.navigateByUrl("/404",{skipLocationChange:!0}),this.resourcePolicyService.findById(policyId,!0,!1,(0,_utils_follow_link_config_model__WEBPACK_IMPORTED_MODULE_3__.l)("eperson"),(0,_utils_follow_link_config_model__WEBPACK_IMPORTED_MODULE_3__.l)("group")).pipe((0,_core_shared_operators__WEBPACK_IMPORTED_MODULE_1__.hC)())}}__name(ResourcePolicyResolver,"ResourcePolicyResolver"),ResourcePolicyResolver.\u0275fac=__name(function(t){return new(t||ResourcePolicyResolver)(_angular_core__WEBPACK_IMPORTED_MODULE_4__.LFG(_core_resource_policy_resource_policy_data_service__WEBPACK_IMPORTED_MODULE_0__.I),_angular_core__WEBPACK_IMPORTED_MODULE_4__.LFG(_angular_router__WEBPACK_IMPORTED_MODULE_5__.F0))},"ResourcePolicyResolver_Factory"),ResourcePolicyResolver.\u0275prov=_angular_core__WEBPACK_IMPORTED_MODULE_4__.Yz7({token:ResourcePolicyResolver,factory:ResourcePolicyResolver.\u0275fac})},40195:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{F:()=>ResourcePoliciesComponent});var rxjs__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(76477),rxjs_operators__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(83292),_core_shared_operators__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(13730),_core_resource_policy_resource_policy_data_service__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(24886),_core_breadcrumbs_dso_name_service__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(83616),_core_eperson_group_data_service__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(43499),_empty_util__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(24702),_core_eperson_eperson_data_service__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(45061),_core_data_request_service__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(31241),_notifications_notifications_service__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(82596),_utils_follow_link_config_model__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(93369),_angular_core__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(5e3),_angular_router__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__(74202),_ngx_translate_core__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__(42466),_angular_common__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__(69808),_entry_resource_policy_entry_component__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(60726);function ResourcePoliciesComponent_ng_container_11_Template(rf,ctx){if(1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_8__.ynx(0),_angular_core__WEBPACK_IMPORTED_MODULE_8__._uU(1),_angular_core__WEBPACK_IMPORTED_MODULE_8__.BQk()),2&rf){const ctx_r0=_angular_core__WEBPACK_IMPORTED_MODULE_8__.oxw();_angular_core__WEBPACK_IMPORTED_MODULE_8__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_8__.hij(" (",ctx_r0.resourceUUID,") ")}}function ResourcePoliciesComponent_span_17_Template(rf,ctx){1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_8__.TgZ(0,"span"),_angular_core__WEBPACK_IMPORTED_MODULE_8__._UZ(1,"i",11),_angular_core__WEBPACK_IMPORTED_MODULE_8__._uU(2),_angular_core__WEBPACK_IMPORTED_MODULE_8__.ALo(3,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_8__.qZA()),2&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_8__.xp6(2),_angular_core__WEBPACK_IMPORTED_MODULE_8__.hij(" ",_angular_core__WEBPACK_IMPORTED_MODULE_8__.lcZ(3,1,"submission.workflow.tasks.generic.processing")," "))}function ResourcePoliciesComponent_span_19_Template(rf,ctx){1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_8__.TgZ(0,"span"),_angular_core__WEBPACK_IMPORTED_MODULE_8__._UZ(1,"i",12),_angular_core__WEBPACK_IMPORTED_MODULE_8__._uU(2),_angular_core__WEBPACK_IMPORTED_MODULE_8__.ALo(3,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_8__.qZA()),2&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_8__.xp6(2),_angular_core__WEBPACK_IMPORTED_MODULE_8__.hij(" ",_angular_core__WEBPACK_IMPORTED_MODULE_8__.lcZ(3,1,"resource-policies.delete.btn")," "))}function ResourcePoliciesComponent_tr_27_Template(rf,ctx){if(1&rf){const _r6=_angular_core__WEBPACK_IMPORTED_MODULE_8__.EpF();_angular_core__WEBPACK_IMPORTED_MODULE_8__.TgZ(0,"tr",13)(1,"th")(2,"div",14)(3,"input",15),_angular_core__WEBPACK_IMPORTED_MODULE_8__.NdJ("change",__name(function($event){return _angular_core__WEBPACK_IMPORTED_MODULE_8__.CHM(_r6),_angular_core__WEBPACK_IMPORTED_MODULE_8__.oxw().selectAllCheckbox($event)},"ResourcePoliciesComponent_tr_27_Template_input_change_3_listener")),_angular_core__WEBPACK_IMPORTED_MODULE_8__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_8__._UZ(4,"label",16),_angular_core__WEBPACK_IMPORTED_MODULE_8__.qZA()(),_angular_core__WEBPACK_IMPORTED_MODULE_8__.TgZ(5,"th"),_angular_core__WEBPACK_IMPORTED_MODULE_8__._uU(6),_angular_core__WEBPACK_IMPORTED_MODULE_8__.ALo(7,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_8__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_8__.TgZ(8,"th"),_angular_core__WEBPACK_IMPORTED_MODULE_8__._uU(9),_angular_core__WEBPACK_IMPORTED_MODULE_8__.ALo(10,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_8__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_8__.TgZ(11,"th"),_angular_core__WEBPACK_IMPORTED_MODULE_8__._uU(12),_angular_core__WEBPACK_IMPORTED_MODULE_8__.ALo(13,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_8__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_8__.TgZ(14,"th"),_angular_core__WEBPACK_IMPORTED_MODULE_8__._uU(15),_angular_core__WEBPACK_IMPORTED_MODULE_8__.ALo(16,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_8__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_8__.TgZ(17,"th"),_angular_core__WEBPACK_IMPORTED_MODULE_8__._uU(18),_angular_core__WEBPACK_IMPORTED_MODULE_8__.ALo(19,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_8__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_8__.TgZ(20,"th"),_angular_core__WEBPACK_IMPORTED_MODULE_8__._uU(21),_angular_core__WEBPACK_IMPORTED_MODULE_8__.ALo(22,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_8__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_8__.TgZ(23,"th"),_angular_core__WEBPACK_IMPORTED_MODULE_8__._uU(24),_angular_core__WEBPACK_IMPORTED_MODULE_8__.ALo(25,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_8__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_8__.TgZ(26,"th"),_angular_core__WEBPACK_IMPORTED_MODULE_8__._uU(27),_angular_core__WEBPACK_IMPORTED_MODULE_8__.ALo(28,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_8__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_8__.TgZ(29,"th"),_angular_core__WEBPACK_IMPORTED_MODULE_8__._uU(30),_angular_core__WEBPACK_IMPORTED_MODULE_8__.ALo(31,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_8__.qZA()()}if(2&rf){const ctx_r3=_angular_core__WEBPACK_IMPORTED_MODULE_8__.oxw();_angular_core__WEBPACK_IMPORTED_MODULE_8__.xp6(3),_angular_core__WEBPACK_IMPORTED_MODULE_8__.Q6J("id","selectAll_"+ctx_r3.resourceUUID),_angular_core__WEBPACK_IMPORTED_MODULE_8__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_8__.Q6J("for","selectAll_"+ctx_r3.resourceUUID),_angular_core__WEBPACK_IMPORTED_MODULE_8__.xp6(2),_angular_core__WEBPACK_IMPORTED_MODULE_8__.Oqu(_angular_core__WEBPACK_IMPORTED_MODULE_8__.lcZ(7,11,"resource-policies.table.headers.id")),_angular_core__WEBPACK_IMPORTED_MODULE_8__.xp6(3),_angular_core__WEBPACK_IMPORTED_MODULE_8__.Oqu(_angular_core__WEBPACK_IMPORTED_MODULE_8__.lcZ(10,13,"resource-policies.table.headers.name")),_angular_core__WEBPACK_IMPORTED_MODULE_8__.xp6(3),_angular_core__WEBPACK_IMPORTED_MODULE_8__.Oqu(_angular_core__WEBPACK_IMPORTED_MODULE_8__.lcZ(13,15,"resource-policies.table.headers.policyType")),_angular_core__WEBPACK_IMPORTED_MODULE_8__.xp6(3),_angular_core__WEBPACK_IMPORTED_MODULE_8__.Oqu(_angular_core__WEBPACK_IMPORTED_MODULE_8__.lcZ(16,17,"resource-policies.table.headers.action")),_angular_core__WEBPACK_IMPORTED_MODULE_8__.xp6(3),_angular_core__WEBPACK_IMPORTED_MODULE_8__.Oqu(_angular_core__WEBPACK_IMPORTED_MODULE_8__.lcZ(19,19,"resource-policies.table.headers.eperson")),_angular_core__WEBPACK_IMPORTED_MODULE_8__.xp6(3),_angular_core__WEBPACK_IMPORTED_MODULE_8__.Oqu(_angular_core__WEBPACK_IMPORTED_MODULE_8__.lcZ(22,21,"resource-policies.table.headers.group")),_angular_core__WEBPACK_IMPORTED_MODULE_8__.xp6(3),_angular_core__WEBPACK_IMPORTED_MODULE_8__.Oqu(_angular_core__WEBPACK_IMPORTED_MODULE_8__.lcZ(25,23,"resource-policies.table.headers.date.start")),_angular_core__WEBPACK_IMPORTED_MODULE_8__.xp6(3),_angular_core__WEBPACK_IMPORTED_MODULE_8__.Oqu(_angular_core__WEBPACK_IMPORTED_MODULE_8__.lcZ(28,25,"resource-policies.table.headers.date.end")),_angular_core__WEBPACK_IMPORTED_MODULE_8__.xp6(3),_angular_core__WEBPACK_IMPORTED_MODULE_8__.Oqu(_angular_core__WEBPACK_IMPORTED_MODULE_8__.lcZ(31,27,"resource-policies.table.headers.edit"))}}function ResourcePoliciesComponent_tbody_29_tr_1_Template(rf,ctx){if(1&rf){const _r10=_angular_core__WEBPACK_IMPORTED_MODULE_8__.EpF();_angular_core__WEBPACK_IMPORTED_MODULE_8__.TgZ(0,"tr",18),_angular_core__WEBPACK_IMPORTED_MODULE_8__.NdJ("toggleCheckbox",__name(function($event){const entry_r8=_angular_core__WEBPACK_IMPORTED_MODULE_8__.CHM(_r10).$implicit;return _angular_core__WEBPACK_IMPORTED_MODULE_8__.oxw(2).selectCheckbox(entry_r8,$event)},"ResourcePoliciesComponent_tbody_29_tr_1_Template_tr_toggleCheckbox_0_listener")),_angular_core__WEBPACK_IMPORTED_MODULE_8__.qZA()}if(2&rf){const entry_r8=ctx.$implicit;_angular_core__WEBPACK_IMPORTED_MODULE_8__.Q6J("entry",entry_r8)}}function ResourcePoliciesComponent_tbody_29_Template(rf,ctx){if(1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_8__.TgZ(0,"tbody"),_angular_core__WEBPACK_IMPORTED_MODULE_8__.YNc(1,ResourcePoliciesComponent_tbody_29_tr_1_Template,1,1,"tr",17),_angular_core__WEBPACK_IMPORTED_MODULE_8__.ALo(2,"async"),_angular_core__WEBPACK_IMPORTED_MODULE_8__.qZA()),2&rf){const ctx_r4=_angular_core__WEBPACK_IMPORTED_MODULE_8__.oxw();_angular_core__WEBPACK_IMPORTED_MODULE_8__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_8__.Q6J("ngForOf",_angular_core__WEBPACK_IMPORTED_MODULE_8__.lcZ(2,1,ctx_r4.getResourcePolicies()))}}__name(ResourcePoliciesComponent_ng_container_11_Template,"ResourcePoliciesComponent_ng_container_11_Template"),__name(ResourcePoliciesComponent_span_17_Template,"ResourcePoliciesComponent_span_17_Template"),__name(ResourcePoliciesComponent_span_19_Template,"ResourcePoliciesComponent_span_19_Template"),__name(ResourcePoliciesComponent_tr_27_Template,"ResourcePoliciesComponent_tr_27_Template"),__name(ResourcePoliciesComponent_tbody_29_tr_1_Template,"ResourcePoliciesComponent_tbody_29_tr_1_Template"),__name(ResourcePoliciesComponent_tbody_29_Template,"ResourcePoliciesComponent_tbody_29_Template");class ResourcePoliciesComponent{constructor(cdr,dsoNameService,ePersonService,groupService,notificationsService,requestService,resourcePolicyService,route,router,translate){this.cdr=cdr,this.dsoNameService=dsoNameService,this.ePersonService=ePersonService,this.groupService=groupService,this.notificationsService=notificationsService,this.requestService=requestService,this.resourcePolicyService=resourcePolicyService,this.route=route,this.router=router,this.translate=translate,this.processingDelete$=new rxjs__WEBPACK_IMPORTED_MODULE_9__.BehaviorSubject(!1),this.resourcePoliciesEntries$=new rxjs__WEBPACK_IMPORTED_MODULE_9__.BehaviorSubject([]),this.subs=[]}ngOnInit(){this.isActive=!0,this.initResourcePolicyList()}canDelete(){return(0,rxjs__WEBPACK_IMPORTED_MODULE_9__.from)(this.resourcePoliciesEntries$.value).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_10__.hX)(entry=>entry.checked),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_10__.u4)((acc,value)=>[...acc,value],[]),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_10__.UI)(entries=>(0,_empty_util__WEBPACK_IMPORTED_MODULE_11__.UE)(entries)),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_10__.xb)())}deleteSelectedResourcePolicies(){this.processingDelete$.next(!0);const policiesToDelete=this.resourcePoliciesEntries$.value.filter(entry=>entry.checked);this.subs.push((0,rxjs__WEBPACK_IMPORTED_MODULE_9__.from)(policiesToDelete).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_10__.bJ)(entry=>this.resourcePolicyService.delete(entry.policy.id)),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_10__.Rp)((acc,value)=>[...acc,value],[]),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_10__.hX)(results=>results.length===policiesToDelete.length),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_10__.qn)(1)).subscribe(results=>{const failureResults=results.filter(result=>!result);(0,_empty_util__WEBPACK_IMPORTED_MODULE_11__.xb)(failureResults)?this.notificationsService.success(null,this.translate.get("resource-policies.delete.success.content")):this.notificationsService.error(null,this.translate.get("resource-policies.delete.failure.content")),this.processingDelete$.next(!1)}))}getResourcePolicies(){return this.resourcePoliciesEntries$.asObservable()}initResourcePolicyList(){this.subs.push(this.resourcePolicyService.searchByResource(this.resourceUUID,null,!1,!0,(0,_utils_follow_link_config_model__WEBPACK_IMPORTED_MODULE_12__.l)("eperson"),(0,_utils_follow_link_config_model__WEBPACK_IMPORTED_MODULE_12__.l)("group")).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_10__.hX)(()=>this.isActive),(0,_core_shared_operators__WEBPACK_IMPORTED_MODULE_0__.g1)()).subscribe(result=>{const entries=result.payload.page.map(policy=>({id:policy.id,policy,checked:!1}));this.resourcePoliciesEntries$.next(entries),this.cdr.detectChanges()}))}isProcessingDelete(){return this.processingDelete$.asObservable()}redirectToResourcePolicyCreatePage(){this.router.navigate(["./create"],{relativeTo:this.route,queryParams:{policyTargetId:this.resourceUUID,targetType:this.resourceType}})}selectAllCheckbox(event){const checked=event.target.checked;this.resourcePoliciesEntries$.value.forEach(entry=>entry.checked=checked)}selectCheckbox(policyEntry,checked){policyEntry.checked=checked}ngOnDestroy(){this.isActive=!1,this.resourcePoliciesEntries$=null,this.subs.filter(subscription=>(0,_empty_util__WEBPACK_IMPORTED_MODULE_11__.Uh)(subscription)).forEach(subscription=>subscription.unsubscribe())}}__name(ResourcePoliciesComponent,"ResourcePoliciesComponent"),ResourcePoliciesComponent.\u0275fac=__name(function(t){return new(t||ResourcePoliciesComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_8__.Y36(_angular_core__WEBPACK_IMPORTED_MODULE_8__.sBO),_angular_core__WEBPACK_IMPORTED_MODULE_8__.Y36(_core_breadcrumbs_dso_name_service__WEBPACK_IMPORTED_MODULE_2__._),_angular_core__WEBPACK_IMPORTED_MODULE_8__.Y36(_core_eperson_eperson_data_service__WEBPACK_IMPORTED_MODULE_4__.k),_angular_core__WEBPACK_IMPORTED_MODULE_8__.Y36(_core_eperson_group_data_service__WEBPACK_IMPORTED_MODULE_3__.O),_angular_core__WEBPACK_IMPORTED_MODULE_8__.Y36(_notifications_notifications_service__WEBPACK_IMPORTED_MODULE_6__.T),_angular_core__WEBPACK_IMPORTED_MODULE_8__.Y36(_core_data_request_service__WEBPACK_IMPORTED_MODULE_5__.s),_angular_core__WEBPACK_IMPORTED_MODULE_8__.Y36(_core_resource_policy_resource_policy_data_service__WEBPACK_IMPORTED_MODULE_1__.I),_angular_core__WEBPACK_IMPORTED_MODULE_8__.Y36(_angular_router__WEBPACK_IMPORTED_MODULE_13__.gz),_angular_core__WEBPACK_IMPORTED_MODULE_8__.Y36(_angular_router__WEBPACK_IMPORTED_MODULE_13__.F0),_angular_core__WEBPACK_IMPORTED_MODULE_8__.Y36(_ngx_translate_core__WEBPACK_IMPORTED_MODULE_14__.sK))},"ResourcePoliciesComponent_Factory"),ResourcePoliciesComponent.\u0275cmp=_angular_core__WEBPACK_IMPORTED_MODULE_8__.Xpm({type:ResourcePoliciesComponent,selectors:[["ds-resource-policies"]],inputs:{resourceUUID:"resourceUUID",resourceType:"resourceType",resourceName:"resourceName"},decls:31,vars:34,consts:[[1,"table-responsive"],[1,"table","table-striped","table-bordered","table-hover"],["colspan","10"],[1,"d-flex","justify-content-between","align-items-center","m-0"],[1,"text-info"],[4,"ngIf"],[1,"space-children-mr","flex-shrink-0"],[1,"btn","btn-danger","p-1",3,"disabled","title","click"],[1,"btn","btn-success","p-1",3,"disabled","title","click"],[1,"fas","fa-plus"],["class","text-center",4,"ngIf"],[1,"fas","fa-circle-notch","fa-spin"],[1,"fas","fa-trash-alt","fa-fw"],[1,"text-center"],[1,"custom-control","custom-checkbox"],["type","checkbox",1,"custom-control-input",3,"id","change"],[1,"custom-control-label",3,"for"],["ds-resource-policy-entry","",3,"entry","toggleCheckbox",4,"ngFor","ngForOf"],["ds-resource-policy-entry","",3,"entry","toggleCheckbox"]],template:__name(function(rf,ctx){if(1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_8__.TgZ(0,"div",0)(1,"table",1)(2,"thead")(3,"tr")(4,"th",2)(5,"div",3)(6,"span"),_angular_core__WEBPACK_IMPORTED_MODULE_8__._uU(7),_angular_core__WEBPACK_IMPORTED_MODULE_8__.ALo(8,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_8__.TgZ(9,"span",4),_angular_core__WEBPACK_IMPORTED_MODULE_8__._uU(10),_angular_core__WEBPACK_IMPORTED_MODULE_8__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_8__.YNc(11,ResourcePoliciesComponent_ng_container_11_Template,2,1,"ng-container",5),_angular_core__WEBPACK_IMPORTED_MODULE_8__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_8__.TgZ(12,"div",6)(13,"button",7),_angular_core__WEBPACK_IMPORTED_MODULE_8__.NdJ("click",__name(function(){return ctx.deleteSelectedResourcePolicies()},"ResourcePoliciesComponent_Template_button_click_13_listener")),_angular_core__WEBPACK_IMPORTED_MODULE_8__.ALo(14,"async"),_angular_core__WEBPACK_IMPORTED_MODULE_8__.ALo(15,"async"),_angular_core__WEBPACK_IMPORTED_MODULE_8__.ALo(16,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_8__.YNc(17,ResourcePoliciesComponent_span_17_Template,4,3,"span",5),_angular_core__WEBPACK_IMPORTED_MODULE_8__.ALo(18,"async"),_angular_core__WEBPACK_IMPORTED_MODULE_8__.YNc(19,ResourcePoliciesComponent_span_19_Template,4,3,"span",5),_angular_core__WEBPACK_IMPORTED_MODULE_8__.ALo(20,"async"),_angular_core__WEBPACK_IMPORTED_MODULE_8__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_8__.TgZ(21,"button",8),_angular_core__WEBPACK_IMPORTED_MODULE_8__.NdJ("click",__name(function(){return ctx.redirectToResourcePolicyCreatePage()},"ResourcePoliciesComponent_Template_button_click_21_listener")),_angular_core__WEBPACK_IMPORTED_MODULE_8__.ALo(22,"async"),_angular_core__WEBPACK_IMPORTED_MODULE_8__.ALo(23,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_8__._UZ(24,"i",9),_angular_core__WEBPACK_IMPORTED_MODULE_8__._uU(25),_angular_core__WEBPACK_IMPORTED_MODULE_8__.ALo(26,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_8__.qZA()()()()(),_angular_core__WEBPACK_IMPORTED_MODULE_8__.YNc(27,ResourcePoliciesComponent_tr_27_Template,32,29,"tr",10),_angular_core__WEBPACK_IMPORTED_MODULE_8__.ALo(28,"async"),_angular_core__WEBPACK_IMPORTED_MODULE_8__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_8__.YNc(29,ResourcePoliciesComponent_tbody_29_Template,3,3,"tbody",5),_angular_core__WEBPACK_IMPORTED_MODULE_8__.ALo(30,"async"),_angular_core__WEBPACK_IMPORTED_MODULE_8__.qZA()()),2&rf){let tmp_10_0,tmp_11_0;_angular_core__WEBPACK_IMPORTED_MODULE_8__.xp6(7),_angular_core__WEBPACK_IMPORTED_MODULE_8__.hij(" ",_angular_core__WEBPACK_IMPORTED_MODULE_8__.lcZ(8,12,"resource-policies.table.headers.title.for."+ctx.resourceType)," "),_angular_core__WEBPACK_IMPORTED_MODULE_8__.xp6(3),_angular_core__WEBPACK_IMPORTED_MODULE_8__.hij(" ",ctx.resourceName," "),_angular_core__WEBPACK_IMPORTED_MODULE_8__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_8__.Q6J("ngIf","item"!=ctx.resourceType),_angular_core__WEBPACK_IMPORTED_MODULE_8__.xp6(2),_angular_core__WEBPACK_IMPORTED_MODULE_8__.Q6J("disabled",!_angular_core__WEBPACK_IMPORTED_MODULE_8__.lcZ(14,14,ctx.canDelete())||_angular_core__WEBPACK_IMPORTED_MODULE_8__.lcZ(15,16,ctx.isProcessingDelete()))("title",_angular_core__WEBPACK_IMPORTED_MODULE_8__.lcZ(16,18,"resource-policies.delete.btn.title")),_angular_core__WEBPACK_IMPORTED_MODULE_8__.xp6(4),_angular_core__WEBPACK_IMPORTED_MODULE_8__.Q6J("ngIf",_angular_core__WEBPACK_IMPORTED_MODULE_8__.lcZ(18,20,ctx.isProcessingDelete())),_angular_core__WEBPACK_IMPORTED_MODULE_8__.xp6(2),_angular_core__WEBPACK_IMPORTED_MODULE_8__.Q6J("ngIf",!_angular_core__WEBPACK_IMPORTED_MODULE_8__.lcZ(20,22,ctx.isProcessingDelete())),_angular_core__WEBPACK_IMPORTED_MODULE_8__.xp6(2),_angular_core__WEBPACK_IMPORTED_MODULE_8__.Q6J("disabled",_angular_core__WEBPACK_IMPORTED_MODULE_8__.lcZ(22,24,ctx.isProcessingDelete()))("title",_angular_core__WEBPACK_IMPORTED_MODULE_8__.lcZ(23,26,"resource-policies.add.for."+ctx.resourceType)),_angular_core__WEBPACK_IMPORTED_MODULE_8__.xp6(4),_angular_core__WEBPACK_IMPORTED_MODULE_8__.hij(" ",_angular_core__WEBPACK_IMPORTED_MODULE_8__.lcZ(26,28,"resource-policies.add.button")," "),_angular_core__WEBPACK_IMPORTED_MODULE_8__.xp6(2),_angular_core__WEBPACK_IMPORTED_MODULE_8__.Q6J("ngIf",(null==(tmp_10_0=_angular_core__WEBPACK_IMPORTED_MODULE_8__.lcZ(28,30,ctx.getResourcePolicies()))?null:tmp_10_0.length)>0),_angular_core__WEBPACK_IMPORTED_MODULE_8__.xp6(2),_angular_core__WEBPACK_IMPORTED_MODULE_8__.Q6J("ngIf",(null==(tmp_11_0=_angular_core__WEBPACK_IMPORTED_MODULE_8__.lcZ(30,32,ctx.getResourcePolicies()))?null:tmp_11_0.length)>0)}},"ResourcePoliciesComponent_Template"),directives:[_angular_common__WEBPACK_IMPORTED_MODULE_15__.O5,_angular_common__WEBPACK_IMPORTED_MODULE_15__.sg,_entry_resource_policy_entry_component__WEBPACK_IMPORTED_MODULE_7__.Y],pipes:[_ngx_translate_core__WEBPACK_IMPORTED_MODULE_14__.X$,_angular_common__WEBPACK_IMPORTED_MODULE_15__.Ov],styles:["td[_ngcontent-%COMP%]   .btn-link[_ngcontent-%COMP%]:focus{box-shadow:none!important}"]})},94337:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{q:()=>ResourcePoliciesModule});var common=__webpack_require__(69808),ngx_translate_core=__webpack_require__(42466),resource_policies_component=__webpack_require__(40195),resource_policy_form_component=__webpack_require__(35835),resource_policy_edit_component=__webpack_require__(86527),resource_policy_create_component=__webpack_require__(34981),form_module=__webpack_require__(10194),resource_policy_resolver=__webpack_require__(54004),resource_policy_target_resolver=__webpack_require__(66765),eperson_group_list_component=__webpack_require__(72044),core=__webpack_require__(5e3),empty_util=__webpack_require__(24702),fesm2015_forms=__webpack_require__(93075);class GroupSearchBoxComponent{constructor(formBuilder){this.formBuilder=formBuilder,this.labelPrefix="admin.access-control.groups.",this.subs=[],this.search=new core.vpe,this.searchForm=this.formBuilder.group({query:""})}reset(){this.searchForm=this.formBuilder.group({query:""})}submit(data){const event={scope:"",query:(0,empty_util.K0)(data)?data.query:""};this.search.emit(event)}}__name(GroupSearchBoxComponent,"GroupSearchBoxComponent"),GroupSearchBoxComponent.\u0275fac=__name(function(t){return new(t||GroupSearchBoxComponent)(core.Y36(fesm2015_forms.qu))},"GroupSearchBoxComponent_Factory"),GroupSearchBoxComponent.\u0275cmp=core.Xpm({type:GroupSearchBoxComponent,selectors:[["ds-group-search-box"]],outputs:{search:"search"},decls:13,vars:7,consts:[[1,"d-flex","justify-content-between",3,"formGroup","ngSubmit"],[1,"flex-grow-1","mr-3"],[1,"form-group","input-group"],["type","text","name","query","id","query","formControlName","query","aria-label","Search input",1,"form-control"],[1,"input-group-append"],["type","submit",1,"search-button","btn","btn-primary"],[1,"fas","fa-search"],["type","button",1,"search-button","btn","btn-secondary",3,"click"]],template:__name(function(rf,ctx){1&rf&&(core.TgZ(0,"form",0),core.NdJ("ngSubmit",__name(function($event){return ctx.submit(ctx.searchForm.value),$event.stopImmediatePropagation()},"GroupSearchBoxComponent_Template_form_ngSubmit_0_listener")),core.TgZ(1,"div",1)(2,"div",2),core._UZ(3,"input",3),core.TgZ(4,"span",4)(5,"button",5),core._UZ(6,"i",6),core._uU(7),core.ALo(8,"translate"),core.qZA()()()(),core.TgZ(9,"div")(10,"button",7),core.NdJ("click",__name(function(){return ctx.submit(null),ctx.reset()},"GroupSearchBoxComponent_Template_button_click_10_listener")),core._uU(11),core.ALo(12,"translate"),core.qZA()()()),2&rf&&(core.Q6J("formGroup",ctx.searchForm),core.xp6(7),core.hij(" ",core.lcZ(8,3,ctx.labelPrefix+"search.button")," "),core.xp6(4),core.hij(" ",core.lcZ(12,5,ctx.labelPrefix+"button.see-all")," "))},"GroupSearchBoxComponent_Template"),directives:[fesm2015_forms._Y,fesm2015_forms.JL,fesm2015_forms.sg,fesm2015_forms.Fj,fesm2015_forms.JJ,fesm2015_forms.u],pipes:[ngx_translate_core.X$],encapsulation:2});class EpersonSearchBoxComponent{constructor(formBuilder){this.formBuilder=formBuilder,this.labelPrefix="admin.access-control.epeople.",this.subs=[],this.search=new core.vpe,this.searchForm=this.formBuilder.group({scope:"metadata",query:""})}reset(){this.searchForm=this.formBuilder.group({scope:"metadata",query:""})}submit(data){const event={scope:(0,empty_util.K0)(data)?data.scope:"metadata",query:(0,empty_util.K0)(data)?data.query:""};this.search.emit(event)}}__name(EpersonSearchBoxComponent,"EpersonSearchBoxComponent"),EpersonSearchBoxComponent.\u0275fac=__name(function(t){return new(t||EpersonSearchBoxComponent)(core.Y36(fesm2015_forms.qu))},"EpersonSearchBoxComponent_Factory"),EpersonSearchBoxComponent.\u0275cmp=core.Xpm({type:EpersonSearchBoxComponent,selectors:[["ds-eperson-search-box"]],outputs:{search:"search"},decls:21,vars:13,consts:[[1,"d-flex","justify-content-between",3,"formGroup","ngSubmit"],["name","scope","id","scope","formControlName","scope","aria-label","Search scope",1,"form-control"],["value","metadata"],["value","email"],[1,"flex-grow-1","mr-3","ml-3"],[1,"form-group","input-group"],["type","text","name","query","id","query","formControlName","query","aria-label","Search input",1,"form-control"],[1,"input-group-append"],["type","submit",1,"search-button","btn","btn-primary"],[1,"fas","fa-search"],["type","button",1,"search-button","btn","btn-secondary",3,"click"]],template:__name(function(rf,ctx){1&rf&&(core.TgZ(0,"form",0),core.NdJ("ngSubmit",__name(function($event){return ctx.submit(ctx.searchForm.value),$event.stopImmediatePropagation()},"EpersonSearchBoxComponent_Template_form_ngSubmit_0_listener")),core.TgZ(1,"div")(2,"select",1)(3,"option",2),core._uU(4),core.ALo(5,"translate"),core.qZA(),core.TgZ(6,"option",3),core._uU(7),core.ALo(8,"translate"),core.qZA()()(),core.TgZ(9,"div",4)(10,"div",5),core._UZ(11,"input",6),core.TgZ(12,"span",7)(13,"button",8),core._UZ(14,"i",9),core._uU(15),core.ALo(16,"translate"),core.qZA()()()(),core.TgZ(17,"div")(18,"button",10),core.NdJ("click",__name(function(){return ctx.submit(null),ctx.reset()},"EpersonSearchBoxComponent_Template_button_click_18_listener")),core._uU(19),core.ALo(20,"translate"),core.qZA()()()),2&rf&&(core.Q6J("formGroup",ctx.searchForm),core.xp6(4),core.Oqu(core.lcZ(5,5,ctx.labelPrefix+"search.scope.metadata")),core.xp6(3),core.Oqu(core.lcZ(8,7,ctx.labelPrefix+"search.scope.email")),core.xp6(8),core.hij(" ",core.lcZ(16,9,ctx.labelPrefix+"search.button")," "),core.xp6(4),core.hij(" ",core.lcZ(20,11,ctx.labelPrefix+"button.see-all")," "))},"EpersonSearchBoxComponent_Template"),directives:[fesm2015_forms._Y,fesm2015_forms.JL,fesm2015_forms.sg,fesm2015_forms.EJ,fesm2015_forms.JJ,fesm2015_forms.u,fesm2015_forms.YN,fesm2015_forms.Kr,fesm2015_forms.Fj],pipes:[ngx_translate_core.X$],encapsulation:2});var ng_bootstrap=__webpack_require__(13707),shared_module=__webpack_require__(57981),resource_policy_entry_component=__webpack_require__(60726),pagination_component=__webpack_require__(62697);resource_policies_component.F,resource_policy_entry_component.Y,resource_policy_form_component.Z,resource_policy_edit_component.x,resource_policy_create_component.v,eperson_group_list_component.W;const PROVIDERS=[resource_policy_resolver.b,resource_policy_target_resolver.a];class ResourcePoliciesModule{}__name(ResourcePoliciesModule,"ResourcePoliciesModule"),ResourcePoliciesModule.\u0275fac=__name(function(t){return new(t||ResourcePoliciesModule)},"ResourcePoliciesModule_Factory"),ResourcePoliciesModule.\u0275mod=core.oAB({type:ResourcePoliciesModule}),ResourcePoliciesModule.\u0275inj=core.cJS({providers:[...PROVIDERS],imports:[[ng_bootstrap.IJ,common.ez,form_module.e,ngx_translate_core.aw,shared_module.m]]}),core.B6R(eperson_group_list_component.W,[common.O5,EpersonSearchBoxComponent,GroupSearchBoxComponent,pagination_component.Q,common.sg],[common.Ov,ngx_translate_core.X$])}};