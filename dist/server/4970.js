var __defProp=Object.defineProperty,__name=(target,value)=>__defProp(target,"name",{value,configurable:!0});exports.id=4970,exports.ids=[4970,1317],exports.modules={92414:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{CH:()=>GROUP_EDIT_PATH,EV:()=>getGroupEditRoute});var _core_url_combiner_url_combiner__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(23631),_app_routing_paths__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(50503);const GROUP_EDIT_PATH="groups";function getGroupEditRoute(id){return new _core_url_combiner_url_combiner__WEBPACK_IMPORTED_MODULE_1__.R((0,_app_routing_paths__WEBPACK_IMPORTED_MODULE_0__.sr)(),GROUP_EDIT_PATH,id).toString()}__name(function getGroupsRoute(){return new URLCombiner(getAccessControlModuleRoute(),GROUP_EDIT_PATH).toString()},"getGroupsRoute"),__name(getGroupEditRoute,"getGroupEditRoute")},83772:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{a:()=>Breadcrumb});class Breadcrumb{constructor(text,url){this.text=text,this.url=url}}__name(Breadcrumb,"Breadcrumb")},77284:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{t:()=>DSOBreadcrumbResolver});var _dso_breadcrumbs_service__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(86362),_shared_operators__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(13730),rxjs_operators__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(83292),_shared_empty_util__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(24702),_data_base_identifiable_data_service__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(72839),_angular_core__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(5e3);class DSOBreadcrumbResolver{constructor(breadcrumbService,dataService){this.breadcrumbService=breadcrumbService,this.dataService=dataService}resolve(route,state){const uuid=route.params.id;return this.dataService.findById(uuid,!0,!1,...this.followLinks).pipe((0,_shared_operators__WEBPACK_IMPORTED_MODULE_1__.hC)(),(0,_shared_operators__WEBPACK_IMPORTED_MODULE_1__.xe)(),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_3__.UI)(object=>{if((0,_shared_empty_util__WEBPACK_IMPORTED_MODULE_4__.Uh)(object)){const fullPath=state.url,url=fullPath.substr(0,fullPath.indexOf(uuid))+uuid;return{provider:this.breadcrumbService,key:object,url}}}))}}__name(DSOBreadcrumbResolver,"DSOBreadcrumbResolver"),DSOBreadcrumbResolver.\u0275fac=__name(function(t){return new(t||DSOBreadcrumbResolver)(_angular_core__WEBPACK_IMPORTED_MODULE_5__.LFG(_dso_breadcrumbs_service__WEBPACK_IMPORTED_MODULE_0__.B),_angular_core__WEBPACK_IMPORTED_MODULE_5__.LFG(_data_base_identifiable_data_service__WEBPACK_IMPORTED_MODULE_2__.t))},"DSOBreadcrumbResolver_Factory"),DSOBreadcrumbResolver.\u0275prov=_angular_core__WEBPACK_IMPORTED_MODULE_5__.Yz7({token:DSOBreadcrumbResolver,factory:DSOBreadcrumbResolver.\u0275fac,providedIn:"root"})},86362:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{B:()=>DSOBreadcrumbsService});var _breadcrumbs_breadcrumb_breadcrumb_model__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(83772),_dso_name_service__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(83616),rxjs__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(76477),_cache_builders_link_service__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(94476),_shared_utils_follow_link_config_model__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(93369),rxjs_operators__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(83292),_shared_empty_util__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(24702),_app_routing_paths__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(50503),_angular_core__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(5e3);class DSOBreadcrumbsService{constructor(linkService,dsoNameService){this.linkService=linkService,this.dsoNameService=dsoNameService}getBreadcrumbs(key,url){const label=this.dsoNameService.getName(key),crumb=new _breadcrumbs_breadcrumb_breadcrumb_model__WEBPACK_IMPORTED_MODULE_3__.a(label,url),propertyName=key.getParentLinkKey();return this.linkService.resolveLink(key,(0,_shared_utils_follow_link_config_model__WEBPACK_IMPORTED_MODULE_4__.l)(propertyName))[propertyName].pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_5__.sE)(parentRD=>parentRD.hasSucceeded||204===parentRD.statusCode),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_5__.wt)(parentRD=>{if((0,_shared_empty_util__WEBPACK_IMPORTED_MODULE_6__.Uh)(parentRD.payload)){const parent=parentRD.payload;return this.getBreadcrumbs(parent,(0,_app_routing_paths__WEBPACK_IMPORTED_MODULE_2__.Y4)(parent))}return(0,rxjs__WEBPACK_IMPORTED_MODULE_7__.of)([])}),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_5__.UI)(breadcrumbs=>[...breadcrumbs,crumb]))}}__name(DSOBreadcrumbsService,"DSOBreadcrumbsService"),DSOBreadcrumbsService.\u0275fac=__name(function(t){return new(t||DSOBreadcrumbsService)(_angular_core__WEBPACK_IMPORTED_MODULE_8__.LFG(_cache_builders_link_service__WEBPACK_IMPORTED_MODULE_1__.M),_angular_core__WEBPACK_IMPORTED_MODULE_8__.LFG(_dso_name_service__WEBPACK_IMPORTED_MODULE_0__._))},"DSOBreadcrumbsService_Factory"),DSOBreadcrumbsService.\u0275prov=_angular_core__WEBPACK_IMPORTED_MODULE_8__.Yz7({token:DSOBreadcrumbsService,factory:DSOBreadcrumbsService.\u0275fac,providedIn:"root"})},98655:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{t:()=>I18nBreadcrumbResolver});var _i18n_breadcrumbs_service__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(43001),_shared_empty_util__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(24702),_shared_utils_route_utils__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(78056),_angular_core__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(5e3);class I18nBreadcrumbResolver{constructor(breadcrumbService){this.breadcrumbService=breadcrumbService}resolve(route,state){const key=route.data.breadcrumbKey;if((0,_shared_empty_util__WEBPACK_IMPORTED_MODULE_1__.xI)(key))throw new Error('You provided an i18nBreadcrumbResolver for url "'+route.url+"\" but no breadcrumbKey in the route's data");const fullPath=(0,_shared_utils_route_utils__WEBPACK_IMPORTED_MODULE_2__.i)(route);return{provider:this.breadcrumbService,key,url:fullPath}}}__name(I18nBreadcrumbResolver,"I18nBreadcrumbResolver"),I18nBreadcrumbResolver.\u0275fac=__name(function(t){return new(t||I18nBreadcrumbResolver)(_angular_core__WEBPACK_IMPORTED_MODULE_3__.LFG(_i18n_breadcrumbs_service__WEBPACK_IMPORTED_MODULE_0__.d))},"I18nBreadcrumbResolver_Factory"),I18nBreadcrumbResolver.\u0275prov=_angular_core__WEBPACK_IMPORTED_MODULE_3__.Yz7({token:I18nBreadcrumbResolver,factory:I18nBreadcrumbResolver.\u0275fac,providedIn:"root"})},43001:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{d:()=>I18nBreadcrumbsService});var _breadcrumbs_breadcrumb_breadcrumb_model__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(83772),rxjs__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(76477),_angular_core__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(5e3);class I18nBreadcrumbsService{getBreadcrumbs(key,url){return(0,rxjs__WEBPACK_IMPORTED_MODULE_0__.of)([new _breadcrumbs_breadcrumb_breadcrumb_model__WEBPACK_IMPORTED_MODULE_1__.a(key+".breadcrumbs",url)])}}__name(I18nBreadcrumbsService,"I18nBreadcrumbsService"),I18nBreadcrumbsService.\u0275fac=__name(function(t){return new(t||I18nBreadcrumbsService)},"I18nBreadcrumbsService_Factory"),I18nBreadcrumbsService.\u0275prov=_angular_core__WEBPACK_IMPORTED_MODULE_2__.Yz7({token:I18nBreadcrumbsService,factory:I18nBreadcrumbsService.\u0275fac,providedIn:"root"})},68212:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{h:()=>DsoPageSingleFeatureGuard});var _dso_page_some_feature_guard__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(74307),rxjs_operators__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(83292);class DsoPageSingleFeatureGuard extends _dso_page_some_feature_guard__WEBPACK_IMPORTED_MODULE_0__.q{getFeatureIDs(route,state){return this.getFeatureID(route,state).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_1__.UI)(featureID=>[featureID]))}}__name(DsoPageSingleFeatureGuard,"DsoPageSingleFeatureGuard")},74307:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{q:()=>DsoPageSomeFeatureGuard});var _shared_operators__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(13730),rxjs_operators__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(83292),_shared_empty_util__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(24702),_some_feature_authorization_guard__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(89141);class DsoPageSomeFeatureGuard extends _some_feature_authorization_guard__WEBPACK_IMPORTED_MODULE_1__.I{constructor(resolver,authorizationService,router,authService){super(authorizationService,router,authService),this.resolver=resolver,this.authorizationService=authorizationService,this.router=router,this.authService=authService}getObjectUrl(route,state){const routeWithObjectID=this.getRouteWithDSOId(route);return this.resolver.resolve(routeWithObjectID,state).pipe((0,_shared_operators__WEBPACK_IMPORTED_MODULE_0__.mc)(),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_2__.UI)(dso=>dso.self))}getRouteWithDSOId(route){let routeWithDSOId=route;for(;(0,_shared_empty_util__WEBPACK_IMPORTED_MODULE_3__.xI)(routeWithDSOId.params.id)&&(0,_shared_empty_util__WEBPACK_IMPORTED_MODULE_3__.Uh)(routeWithDSOId.parent);)routeWithDSOId=routeWithDSOId.parent;return routeWithDSOId}}__name(DsoPageSomeFeatureGuard,"DsoPageSomeFeatureGuard")},8136:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{K:()=>ResolvedAction});const ResolverActionTypes={RESOLVED:(0,__webpack_require__(79472).d)("dspace/resolver/RESOLVED")};class ResolvedAction{constructor(url,dso){this.type=ResolverActionTypes.RESOLVED,this.payload={url,dso}}}__name(ResolvedAction,"ResolvedAction")},74227:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{x:()=>JournalEntitiesModule});var common=__webpack_require__(69808),shared_module=__webpack_require__(57981),tslib_es6=__webpack_require__(70655),view_mode_model=__webpack_require__(51121),listable_object_decorator=__webpack_require__(62921),versioned_item_component=__webpack_require__(46659),core=__webpack_require__(5e3),item_page_title_field_component=__webpack_require__(34261),dso_page_version_button_component=__webpack_require__(56808),dso_page_edit_button_component=__webpack_require__(42257),metadata_field_wrapper_component=__webpack_require__(37796),thumbnail_component=__webpack_require__(4775),generic_item_page_field_component=__webpack_require__(98055),related_items_component=__webpack_require__(82542),router=__webpack_require__(74202),tabbed_related_entities_search_component=__webpack_require__(67797),ngx_translate_core=__webpack_require__(42466);const _c0=__name(function(){return["creativeworkseries.issn"]},"_c0"),_c1=__name(function(){return["creativework.publisher"]},"_c1"),_c2=__name(function(){return["creativework.editor"]},"_c2"),_c3=__name(function(){return["dc.description"]},"_c3"),_c4=__name(function(a0){return[a0]},"_c4"),_c5=__name(function(){return{label:"isJournalOfPublication",filter:"isJournalOfPublication",configuration:"default-relationships"}},"_c5");let JournalComponent=__name(class extends versioned_item_component.d{},"JournalComponent");JournalComponent.\u0275fac=function(){let \u0275JournalComponent_BaseFactory;return __name(function(t){return(\u0275JournalComponent_BaseFactory||(\u0275JournalComponent_BaseFactory=core.n5z(JournalComponent)))(t||JournalComponent)},"JournalComponent_Factory")}(),JournalComponent.\u0275cmp=core.Xpm({type:JournalComponent,selectors:[["ds-journal"]],features:[core.qOj],decls:23,vars:43,consts:[[1,"d-flex","flex-row"],[1,"mr-auto",3,"item"],[1,"pl-2","space-children-mr"],[3,"dso","tooltipMsgCreate","tooltipMsgHasDraft","newVersionEvent"],[3,"pageRoute","dso","tooltipMsg"],[1,"row"],[1,"col-xs-12","col-md-4"],[3,"hideIfNoTextContent"],[3,"thumbnail"],[1,"item-page-fields",3,"item","fields","label"],[3,"item","fields","label"],[1,"col-xs-12","col-md-6"],[3,"parentItem","relationType","label"],[1,"btn","btn-outline-primary",3,"routerLink"],[1,"mt-5","w-100"],[3,"item","relationTypes"]],template:__name(function(rf,ctx){1&rf&&(core.TgZ(0,"div",0),core._UZ(1,"ds-item-page-title-field",1),core.TgZ(2,"div",2)(3,"ds-dso-page-version-button",3),core.NdJ("newVersionEvent",__name(function(){return ctx.onCreateNewVersion()},"JournalComponent_Template_ds_dso_page_version_button_newVersionEvent_3_listener")),core.qZA(),core._UZ(4,"ds-dso-page-edit-button",4),core.qZA()(),core.TgZ(5,"div",5)(6,"div",6)(7,"ds-metadata-field-wrapper",7),core._UZ(8,"ds-thumbnail",8),core.ALo(9,"async"),core.qZA(),core._UZ(10,"ds-generic-item-page-field",9)(11,"ds-generic-item-page-field",9)(12,"ds-generic-item-page-field",10),core.qZA(),core.TgZ(13,"div",11),core._UZ(14,"ds-related-items",12),core.ALo(15,"translate"),core._UZ(16,"ds-generic-item-page-field",9),core.TgZ(17,"div")(18,"a",13),core._uU(19),core.ALo(20,"translate"),core.qZA()()(),core.TgZ(21,"div",14),core._UZ(22,"ds-tabbed-related-entities-search",15),core.qZA()()),2&rf&&(core.xp6(1),core.Q6J("item",ctx.object),core.xp6(2),core.Q6J("dso",ctx.object)("tooltipMsgCreate","item.page.version.create")("tooltipMsgHasDraft","item.page.version.hasDraft"),core.xp6(1),core.Q6J("pageRoute",ctx.itemPageRoute)("dso",ctx.object)("tooltipMsg","journal.page.edit"),core.xp6(3),core.Q6J("hideIfNoTextContent",!1),core.xp6(1),core.Q6J("thumbnail",core.lcZ(9,28,null==ctx.object?null:ctx.object.thumbnail)),core.xp6(2),core.Q6J("item",ctx.object)("fields",core.DdM(34,_c0))("label","journal.page.issn"),core.xp6(1),core.Q6J("item",ctx.object)("fields",core.DdM(35,_c1))("label","journal.page.publisher"),core.xp6(1),core.Q6J("item",ctx.object)("fields",core.DdM(36,_c2))("label","journal.page.editor"),core.xp6(2),core.Q6J("parentItem",ctx.object)("relationType","isVolumeOfJournal")("label",core.lcZ(15,30,"relationships.isVolumeOf")),core.xp6(2),core.Q6J("item",ctx.object)("fields",core.DdM(37,_c3))("label","journal.page.description"),core.xp6(2),core.Q6J("routerLink",core.VKq(38,_c4,ctx.itemPageRoute+"/full")),core.xp6(1),core.hij(" ",core.lcZ(20,32,"item.page.link.full")," "),core.xp6(3),core.Q6J("item",ctx.object)("relationTypes",core.VKq(41,_c4,core.DdM(40,_c5))))},"JournalComponent_Template"),directives:[item_page_title_field_component.k,dso_page_version_button_component._,dso_page_edit_button_component._,metadata_field_wrapper_component.n,thumbnail_component.Z,generic_item_page_field_component.w,related_items_component.e,router.yS,tabbed_related_entities_search_component.i],pipes:[common.Ov,ngx_translate_core.X$],styles:[""]}),JournalComponent=(0,tslib_es6.gn)([(0,listable_object_decorator.d$)("Journal",view_mode_model.w.StandalonePage)],JournalComponent);const journal_issue_component_c0=__name(function(){return["publicationvolume.volumeNumber"]},"journal_issue_component_c0"),journal_issue_component_c1=__name(function(){return["publicationissue.issueNumber"]},"journal_issue_component_c1"),journal_issue_component_c2=__name(function(){return["creativework.datePublished"]},"journal_issue_component_c2"),journal_issue_component_c3=__name(function(){return["journal.title"]},"journal_issue_component_c3"),journal_issue_component_c4=__name(function(){return["creativeworkseries.issn"]},"journal_issue_component_c4"),journal_issue_component_c5=__name(function(){return["dc.description"]},"journal_issue_component_c5"),_c6=__name(function(){return["creativework.keywords"]},"_c6"),_c7=__name(function(a0){return[a0]},"_c7");let JournalIssueComponent=__name(class extends versioned_item_component.d{},"JournalIssueComponent");JournalIssueComponent.\u0275fac=function(){let \u0275JournalIssueComponent_BaseFactory;return __name(function(t){return(\u0275JournalIssueComponent_BaseFactory||(\u0275JournalIssueComponent_BaseFactory=core.n5z(JournalIssueComponent)))(t||JournalIssueComponent)},"JournalIssueComponent_Factory")}(),JournalIssueComponent.\u0275cmp=core.Xpm({type:JournalIssueComponent,selectors:[["ds-journal-issue"]],features:[core.qOj],decls:26,vars:55,consts:[[1,"d-flex","flex-row"],[1,"mr-auto",3,"item"],[1,"pl-2","space-children-mr"],[3,"dso","tooltipMsgCreate","tooltipMsgHasDraft","newVersionEvent"],[3,"pageRoute","dso","tooltipMsg"],[1,"row"],[1,"col-xs-12","col-md-4"],[3,"hideIfNoTextContent"],[3,"thumbnail"],[3,"item","fields","label"],[1,"col-xs-12","col-md-6"],[3,"parentItem","relationType","label"],[1,"mb-1","mt-1",3,"parentItem","relationType","label"],[1,"btn","btn-outline-primary",3,"routerLink"]],template:__name(function(rf,ctx){1&rf&&(core.TgZ(0,"div",0),core._UZ(1,"ds-item-page-title-field",1),core.TgZ(2,"div",2)(3,"ds-dso-page-version-button",3),core.NdJ("newVersionEvent",__name(function(){return ctx.onCreateNewVersion()},"JournalIssueComponent_Template_ds_dso_page_version_button_newVersionEvent_3_listener")),core.qZA(),core._UZ(4,"ds-dso-page-edit-button",4),core.qZA()(),core.TgZ(5,"div",5)(6,"div",6)(7,"ds-metadata-field-wrapper",7),core._UZ(8,"ds-thumbnail",8),core.ALo(9,"async"),core.qZA(),core._UZ(10,"ds-generic-item-page-field",9)(11,"ds-generic-item-page-field",9)(12,"ds-generic-item-page-field",9)(13,"ds-generic-item-page-field",9)(14,"ds-generic-item-page-field",9),core.qZA(),core.TgZ(15,"div",10),core._UZ(16,"ds-related-items",11),core.ALo(17,"translate"),core._UZ(18,"ds-related-items",12),core.ALo(19,"translate"),core._UZ(20,"ds-generic-item-page-field",9)(21,"ds-generic-item-page-field",9),core.TgZ(22,"div")(23,"a",13),core._uU(24),core.ALo(25,"translate"),core.qZA()()()()),2&rf&&(core.xp6(1),core.Q6J("item",ctx.object),core.xp6(2),core.Q6J("dso",ctx.object)("tooltipMsgCreate","item.page.version.create")("tooltipMsgHasDraft","item.page.version.hasDraft"),core.xp6(1),core.Q6J("pageRoute",ctx.itemPageRoute)("dso",ctx.object)("tooltipMsg","journalissue.page.edit"),core.xp6(3),core.Q6J("hideIfNoTextContent",!1),core.xp6(1),core.Q6J("thumbnail",core.lcZ(9,38,null==ctx.object?null:ctx.object.thumbnail)),core.xp6(2),core.Q6J("item",ctx.object)("fields",core.DdM(46,journal_issue_component_c0))("label","journalvolume.page.volume"),core.xp6(1),core.Q6J("item",ctx.object)("fields",core.DdM(47,journal_issue_component_c1))("label","journalissue.page.number"),core.xp6(1),core.Q6J("item",ctx.object)("fields",core.DdM(48,journal_issue_component_c2))("label","journalissue.page.issuedate"),core.xp6(1),core.Q6J("item",ctx.object)("fields",core.DdM(49,journal_issue_component_c3))("label","journalissue.page.journal-title"),core.xp6(1),core.Q6J("item",ctx.object)("fields",core.DdM(50,journal_issue_component_c4))("label","journalissue.page.journal-issn"),core.xp6(2),core.Q6J("parentItem",ctx.object)("relationType","isJournalVolumeOfIssue")("label",core.lcZ(17,40,"relationships.isSingleVolumeOf")),core.xp6(2),core.Q6J("parentItem",ctx.object)("relationType","isPublicationOfJournalIssue")("label",core.lcZ(19,42,"relationships.isPublicationOfJournalIssue")),core.xp6(2),core.Q6J("item",ctx.object)("fields",core.DdM(51,journal_issue_component_c5))("label","journalissue.page.description"),core.xp6(1),core.Q6J("item",ctx.object)("fields",core.DdM(52,_c6))("label","journalissue.page.keyword"),core.xp6(2),core.Q6J("routerLink",core.VKq(53,_c7,ctx.itemPageRoute+"/full")),core.xp6(1),core.hij(" ",core.lcZ(25,44,"item.page.link.full")," "))},"JournalIssueComponent_Template"),directives:[item_page_title_field_component.k,dso_page_version_button_component._,dso_page_edit_button_component._,metadata_field_wrapper_component.n,thumbnail_component.Z,generic_item_page_field_component.w,related_items_component.e,router.yS],pipes:[common.Ov,ngx_translate_core.X$],styles:[""]}),JournalIssueComponent=(0,tslib_es6.gn)([(0,listable_object_decorator.d$)("JournalIssue",view_mode_model.w.StandalonePage)],JournalIssueComponent);const journal_volume_component_c0=__name(function(){return["publicationvolume.volumeNumber"]},"journal_volume_component_c0"),journal_volume_component_c1=__name(function(){return["creativework.datePublished"]},"journal_volume_component_c1"),journal_volume_component_c2=__name(function(){return["dc.description"]},"journal_volume_component_c2"),journal_volume_component_c3=__name(function(a0){return[a0]},"journal_volume_component_c3");let JournalVolumeComponent=__name(class extends versioned_item_component.d{},"JournalVolumeComponent");JournalVolumeComponent.\u0275fac=function(){let \u0275JournalVolumeComponent_BaseFactory;return __name(function(t){return(\u0275JournalVolumeComponent_BaseFactory||(\u0275JournalVolumeComponent_BaseFactory=core.n5z(JournalVolumeComponent)))(t||JournalVolumeComponent)},"JournalVolumeComponent_Factory")}(),JournalVolumeComponent.\u0275cmp=core.Xpm({type:JournalVolumeComponent,selectors:[["ds-journal-volume"]],features:[core.qOj],decls:22,vars:39,consts:[[1,"d-flex","flex-row"],[1,"mr-auto",3,"item"],[1,"pl-2","space-children-mr"],[3,"dso","tooltipMsgCreate","tooltipMsgHasDraft","newVersionEvent"],[3,"pageRoute","dso","tooltipMsg"],[1,"row"],[1,"col-xs-12","col-md-4"],[3,"hideIfNoTextContent"],[3,"thumbnail"],[3,"item","fields","label"],[1,"col-xs-12","col-md-6"],[3,"parentItem","relationType","label"],[1,"btn","btn-outline-primary",3,"routerLink"]],template:__name(function(rf,ctx){1&rf&&(core.TgZ(0,"div",0),core._UZ(1,"ds-item-page-title-field",1),core.TgZ(2,"div",2)(3,"ds-dso-page-version-button",3),core.NdJ("newVersionEvent",__name(function(){return ctx.onCreateNewVersion()},"JournalVolumeComponent_Template_ds_dso_page_version_button_newVersionEvent_3_listener")),core.qZA(),core._UZ(4,"ds-dso-page-edit-button",4),core.qZA()(),core.TgZ(5,"div",5)(6,"div",6)(7,"ds-metadata-field-wrapper",7),core._UZ(8,"ds-thumbnail",8),core.ALo(9,"async"),core.qZA(),core._UZ(10,"ds-generic-item-page-field",9)(11,"ds-generic-item-page-field",9),core.qZA(),core.TgZ(12,"div",10),core._UZ(13,"ds-related-items",11),core.ALo(14,"translate"),core._UZ(15,"ds-related-items",11),core.ALo(16,"translate"),core._UZ(17,"ds-generic-item-page-field",9),core.TgZ(18,"div")(19,"a",12),core._uU(20),core.ALo(21,"translate"),core.qZA()()()()),2&rf&&(core.xp6(1),core.Q6J("item",ctx.object),core.xp6(2),core.Q6J("dso",ctx.object)("tooltipMsgCreate","item.page.version.create")("tooltipMsgHasDraft","item.page.version.hasDraft"),core.xp6(1),core.Q6J("pageRoute",ctx.itemPageRoute)("dso",ctx.object)("tooltipMsg","journalvolume.page.edit"),core.xp6(3),core.Q6J("hideIfNoTextContent",!1),core.xp6(1),core.Q6J("thumbnail",core.lcZ(9,26,null==ctx.object?null:ctx.object.thumbnail)),core.xp6(2),core.Q6J("item",ctx.object)("fields",core.DdM(34,journal_volume_component_c0))("label","journalvolume.page.volume"),core.xp6(1),core.Q6J("item",ctx.object)("fields",core.DdM(35,journal_volume_component_c1))("label","journalvolume.page.issuedate"),core.xp6(2),core.Q6J("parentItem",ctx.object)("relationType","isJournalOfVolume")("label",core.lcZ(14,28,"relationships.isSingleJournalOf")),core.xp6(2),core.Q6J("parentItem",ctx.object)("relationType","isIssueOfJournalVolume")("label",core.lcZ(16,30,"relationships.isIssueOf")),core.xp6(2),core.Q6J("item",ctx.object)("fields",core.DdM(36,journal_volume_component_c2))("label","journalvolume.page.description"),core.xp6(2),core.Q6J("routerLink",core.VKq(37,journal_volume_component_c3,ctx.itemPageRoute+"/full")),core.xp6(1),core.hij(" ",core.lcZ(21,32,"item.page.link.full")," "))},"JournalVolumeComponent_Template"),directives:[item_page_title_field_component.k,dso_page_version_button_component._,dso_page_edit_button_component._,metadata_field_wrapper_component.n,thumbnail_component.Z,generic_item_page_field_component.w,related_items_component.e,router.yS],pipes:[common.Ov,ngx_translate_core.X$],styles:[""]}),JournalVolumeComponent=(0,tslib_es6.gn)([(0,listable_object_decorator.d$)("JournalVolume",view_mode_model.w.StandalonePage)],JournalVolumeComponent);var abstract_listable_element_component=__webpack_require__(88829),item_search_result_list_element_component=__webpack_require__(30892),type_badge_component=__webpack_require__(64617),truncatable_component=__webpack_require__(57416),truncatable_part_component=__webpack_require__(84630);const journal_search_result_list_element_component_c0=__name(function(a0){return[a0]},"journal_search_result_list_element_component_c0");function JournalSearchResultListElementComponent_div_1_a_1_Template(rf,ctx){if(1&rf&&(core.TgZ(0,"a",13),core._UZ(1,"ds-thumbnail",14),core.ALo(2,"async"),core.qZA()),2&rf){const ctx_r5=core.oxw(2);core.Q6J("target",ctx_r5.linkType==ctx_r5.linkTypes.ExternalLink?"_blank":"_self")("routerLink",core.VKq(6,journal_search_result_list_element_component_c0,ctx_r5.itemPageRoute)),core.xp6(1),core.Q6J("thumbnail",core.lcZ(2,4,null==ctx_r5.dso?null:ctx_r5.dso.thumbnail))("limitWidth",!0)}}function JournalSearchResultListElementComponent_div_1_span_2_Template(rf,ctx){if(1&rf&&(core.TgZ(0,"span",15),core._UZ(1,"ds-thumbnail",14),core.ALo(2,"async"),core.qZA()),2&rf){const ctx_r6=core.oxw(2);core.xp6(1),core.Q6J("thumbnail",core.lcZ(2,2,null==ctx_r6.dso?null:ctx_r6.dso.thumbnail))("limitWidth",!0)}}function JournalSearchResultListElementComponent_div_1_Template(rf,ctx){if(1&rf&&(core.TgZ(0,"div",10),core.YNc(1,JournalSearchResultListElementComponent_div_1_a_1_Template,3,8,"a",11),core.YNc(2,JournalSearchResultListElementComponent_div_1_span_2_Template,3,4,"span",12),core.qZA()),2&rf){const ctx_r0=core.oxw();core.xp6(1),core.Q6J("ngIf",ctx_r0.linkType!=ctx_r0.linkTypes.None),core.xp6(1),core.Q6J("ngIf",ctx_r0.linkType==ctx_r0.linkTypes.None)}}function JournalSearchResultListElementComponent_ds_type_badge_3_Template(rf,ctx){if(1&rf&&core._UZ(0,"ds-type-badge",16),2&rf){const ctx_r1=core.oxw();core.Q6J("object",ctx_r1.dso)}}function JournalSearchResultListElementComponent_a_5_Template(rf,ctx){if(1&rf&&core._UZ(0,"a",17),2&rf){const ctx_r2=core.oxw();core.Q6J("target",ctx_r2.linkType==ctx_r2.linkTypes.ExternalLink?"_blank":"_self")("routerLink",core.VKq(3,journal_search_result_list_element_component_c0,ctx_r2.itemPageRoute))("innerHTML",ctx_r2.dsoTitle,core.oJD)}}function JournalSearchResultListElementComponent_span_6_Template(rf,ctx){if(1&rf&&core._UZ(0,"span",18),2&rf){const ctx_r3=core.oxw();core.Q6J("innerHTML",ctx_r3.dsoTitle,core.oJD)}}function JournalSearchResultListElementComponent_span_9_span_1_Template(rf,ctx){if(1&rf&&(core.TgZ(0,"span")(1,"span",21),core._UZ(2,"span",21),core.qZA()()),2&rf){const value_r8=ctx.$implicit;core.xp6(1),core.Q6J("innerHTML",value_r8,core.oJD),core.xp6(1),core.Q6J("innerHTML",value_r8,core.oJD)}}__name(JournalSearchResultListElementComponent_div_1_a_1_Template,"JournalSearchResultListElementComponent_div_1_a_1_Template"),__name(JournalSearchResultListElementComponent_div_1_span_2_Template,"JournalSearchResultListElementComponent_div_1_span_2_Template"),__name(JournalSearchResultListElementComponent_div_1_Template,"JournalSearchResultListElementComponent_div_1_Template"),__name(JournalSearchResultListElementComponent_ds_type_badge_3_Template,"JournalSearchResultListElementComponent_ds_type_badge_3_Template"),__name(JournalSearchResultListElementComponent_a_5_Template,"JournalSearchResultListElementComponent_a_5_Template"),__name(JournalSearchResultListElementComponent_span_6_Template,"JournalSearchResultListElementComponent_span_6_Template"),__name(JournalSearchResultListElementComponent_span_9_span_1_Template,"JournalSearchResultListElementComponent_span_9_span_1_Template");const journal_search_result_list_element_component_c1=__name(function(){return["creativeworkseries.issn"]},"journal_search_result_list_element_component_c1");function JournalSearchResultListElementComponent_span_9_Template(rf,ctx){if(1&rf&&(core.TgZ(0,"span",19),core.YNc(1,JournalSearchResultListElementComponent_span_9_span_1_Template,3,2,"span",20),core.qZA()),2&rf){const ctx_r4=core.oxw();core.xp6(1),core.Q6J("ngForOf",ctx_r4.allMetadataValues(core.DdM(1,journal_search_result_list_element_component_c1)))}}__name(JournalSearchResultListElementComponent_span_9_Template,"JournalSearchResultListElementComponent_span_9_Template");let JournalSearchResultListElementComponent=__name(class extends item_search_result_list_element_component.h{ngOnInit(){super.ngOnInit(),this.showThumbnails=this.appConfig.browseBy.showThumbnails}},"JournalSearchResultListElementComponent");JournalSearchResultListElementComponent.\u0275fac=function(){let \u0275JournalSearchResultListElementComponent_BaseFactory;return __name(function(t){return(\u0275JournalSearchResultListElementComponent_BaseFactory||(\u0275JournalSearchResultListElementComponent_BaseFactory=core.n5z(JournalSearchResultListElementComponent)))(t||JournalSearchResultListElementComponent)},"JournalSearchResultListElementComponent_Factory")}(),JournalSearchResultListElementComponent.\u0275cmp=core.Xpm({type:JournalSearchResultListElementComponent,selectors:[["ds-journal-search-result-list-element"]],features:[core.qOj],decls:10,vars:10,consts:[[1,"row"],["class","col-3 col-md-2",4,"ngIf"],[3,"ngClass"],[3,"object",4,"ngIf"],[3,"id"],["rel","noopener noreferrer","class","lead item-list-title dont-break-out",3,"target","routerLink","innerHTML",4,"ngIf"],["class","lead item-list-title dont-break-out",3,"innerHTML",4,"ngIf"],[1,"text-muted"],[3,"id","minLines"],["class","item-list-journals",4,"ngIf"],[1,"col-3","col-md-2"],["rel","noopener noreferrer","class","lead item-list-title dont-break-out",3,"target","routerLink",4,"ngIf"],["class","lead item-list-title dont-break-out",4,"ngIf"],["rel","noopener noreferrer",1,"lead","item-list-title","dont-break-out",3,"target","routerLink"],[3,"thumbnail","limitWidth"],[1,"lead","item-list-title","dont-break-out"],[3,"object"],["rel","noopener noreferrer",1,"lead","item-list-title","dont-break-out",3,"target","routerLink","innerHTML"],[1,"lead","item-list-title","dont-break-out",3,"innerHTML"],[1,"item-list-journals"],[4,"ngFor","ngForOf"],[3,"innerHTML"]],template:__name(function(rf,ctx){1&rf&&(core.TgZ(0,"div",0),core.YNc(1,JournalSearchResultListElementComponent_div_1_Template,3,2,"div",1),core.TgZ(2,"div",2),core.YNc(3,JournalSearchResultListElementComponent_ds_type_badge_3_Template,1,1,"ds-type-badge",3),core.TgZ(4,"ds-truncatable",4),core.YNc(5,JournalSearchResultListElementComponent_a_5_Template,1,5,"a",5),core.YNc(6,JournalSearchResultListElementComponent_span_6_Template,1,1,"span",6),core.TgZ(7,"span",7)(8,"ds-truncatable-part",8),core.YNc(9,JournalSearchResultListElementComponent_span_9_Template,2,2,"span",9),core.qZA()()()()()),2&rf&&(core.xp6(1),core.Q6J("ngIf",ctx.showThumbnails),core.xp6(1),core.Q6J("ngClass",ctx.showThumbnails?"col-9":"col-md-12"),core.xp6(1),core.Q6J("ngIf",ctx.showLabel),core.xp6(1),core.Q6J("id",ctx.dso.id),core.xp6(1),core.Q6J("ngIf",ctx.linkType!=ctx.linkTypes.None),core.xp6(1),core.Q6J("ngIf",ctx.linkType==ctx.linkTypes.None),core.xp6(2),core.Q6J("id",ctx.dso.id)("minLines",1),core.xp6(1),core.Q6J("ngIf",ctx.dso.allMetadata(core.DdM(9,journal_search_result_list_element_component_c1)).length>0))},"JournalSearchResultListElementComponent_Template"),directives:[common.O5,router.yS,thumbnail_component.Z,common.mk,type_badge_component.F,truncatable_component.n,truncatable_part_component.L,common.sg],pipes:[common.Ov],styles:[""]}),JournalSearchResultListElementComponent=(0,tslib_es6.gn)([(0,listable_object_decorator.d$)("JournalSearchResult",view_mode_model.w.ListElement)],JournalSearchResultListElementComponent);const journal_list_element_component_c0=__name(function(){return{}},"journal_list_element_component_c0"),journal_list_element_component_c1=__name(function(a0,a1){return{indexableObject:a0,hitHighlights:a1}},"journal_list_element_component_c1");let JournalListElementComponent=__name(class extends abstract_listable_element_component.i{},"JournalListElementComponent");JournalListElementComponent.\u0275fac=function(){let \u0275JournalListElementComponent_BaseFactory;return __name(function(t){return(\u0275JournalListElementComponent_BaseFactory||(\u0275JournalListElementComponent_BaseFactory=core.n5z(JournalListElementComponent)))(t||JournalListElementComponent)},"JournalListElementComponent_Factory")}(),JournalListElementComponent.\u0275cmp=core.Xpm({type:JournalListElementComponent,selectors:[["ds-journal-list-element"]],features:[core.qOj],decls:1,vars:7,consts:[[3,"showLabel","object","linkType"]],template:__name(function(rf,ctx){1&rf&&core._UZ(0,"ds-journal-search-result-list-element",0),2&rf&&core.Q6J("showLabel",ctx.showLabel)("object",core.WLB(4,journal_list_element_component_c1,ctx.object,core.DdM(3,journal_list_element_component_c0)))("linkType",ctx.linkType)},"JournalListElementComponent_Template"),directives:[JournalSearchResultListElementComponent],styles:[""]}),JournalListElementComponent=(0,tslib_es6.gn)([(0,listable_object_decorator.d$)("Journal",view_mode_model.w.ListElement)],JournalListElementComponent);const journal_issue_search_result_list_element_component_c0=__name(function(a0){return[a0]},"journal_issue_search_result_list_element_component_c0");function JournalIssueSearchResultListElementComponent_div_1_a_1_Template(rf,ctx){if(1&rf&&(core.TgZ(0,"a",13),core._UZ(1,"ds-thumbnail",14),core.ALo(2,"async"),core.qZA()),2&rf){const ctx_r5=core.oxw(2);core.Q6J("target",ctx_r5.linkType==ctx_r5.linkTypes.ExternalLink?"_blank":"_self")("routerLink",core.VKq(6,journal_issue_search_result_list_element_component_c0,ctx_r5.itemPageRoute)),core.xp6(1),core.Q6J("thumbnail",core.lcZ(2,4,null==ctx_r5.dso?null:ctx_r5.dso.thumbnail))("limitWidth",!0)}}function JournalIssueSearchResultListElementComponent_div_1_span_2_Template(rf,ctx){if(1&rf&&(core.TgZ(0,"span",15),core._UZ(1,"ds-thumbnail",14),core.ALo(2,"async"),core.qZA()),2&rf){const ctx_r6=core.oxw(2);core.xp6(1),core.Q6J("thumbnail",core.lcZ(2,2,null==ctx_r6.dso?null:ctx_r6.dso.thumbnail))("limitWidth",!0)}}function JournalIssueSearchResultListElementComponent_div_1_Template(rf,ctx){if(1&rf&&(core.TgZ(0,"div",10),core.YNc(1,JournalIssueSearchResultListElementComponent_div_1_a_1_Template,3,8,"a",11),core.YNc(2,JournalIssueSearchResultListElementComponent_div_1_span_2_Template,3,4,"span",12),core.qZA()),2&rf){const ctx_r0=core.oxw();core.xp6(1),core.Q6J("ngIf",ctx_r0.linkType!=ctx_r0.linkTypes.None),core.xp6(1),core.Q6J("ngIf",ctx_r0.linkType==ctx_r0.linkTypes.None)}}function JournalIssueSearchResultListElementComponent_ds_type_badge_3_Template(rf,ctx){if(1&rf&&core._UZ(0,"ds-type-badge",16),2&rf){const ctx_r1=core.oxw();core.Q6J("object",ctx_r1.dso)}}function JournalIssueSearchResultListElementComponent_a_5_Template(rf,ctx){if(1&rf&&core._UZ(0,"a",17),2&rf){const ctx_r2=core.oxw();core.Q6J("target",ctx_r2.linkType==ctx_r2.linkTypes.ExternalLink?"_blank":"_self")("routerLink",core.VKq(3,journal_issue_search_result_list_element_component_c0,ctx_r2.itemPageRoute))("innerHTML",ctx_r2.dsoTitle,core.oJD)}}function JournalIssueSearchResultListElementComponent_span_6_Template(rf,ctx){if(1&rf&&core._UZ(0,"span",18),2&rf){const ctx_r3=core.oxw();core.Q6J("innerHTML",ctx_r3.dsoTitle,core.oJD)}}function JournalIssueSearchResultListElementComponent_span_9_span_1_Template(rf,ctx){if(1&rf&&(core.TgZ(0,"span")(1,"span",22),core._UZ(2,"span",22),core.qZA()()),2&rf){const value_r9=ctx.$implicit;core.xp6(1),core.Q6J("innerHTML",value_r9,core.oJD),core.xp6(1),core.Q6J("innerHTML",value_r9,core.oJD)}}function JournalIssueSearchResultListElementComponent_span_9_span_2_span_1_Template(rf,ctx){if(1&rf&&(core.TgZ(0,"span")(1,"span"),core._uU(2," - "),core.qZA(),core.TgZ(3,"span",22),core._UZ(4,"span",22),core.qZA()()),2&rf){const value_r12=ctx.$implicit;core.xp6(3),core.Q6J("innerHTML",value_r12,core.oJD),core.xp6(1),core.Q6J("innerHTML",value_r12,core.oJD)}}__name(JournalIssueSearchResultListElementComponent_div_1_a_1_Template,"JournalIssueSearchResultListElementComponent_div_1_a_1_Template"),__name(JournalIssueSearchResultListElementComponent_div_1_span_2_Template,"JournalIssueSearchResultListElementComponent_div_1_span_2_Template"),__name(JournalIssueSearchResultListElementComponent_div_1_Template,"JournalIssueSearchResultListElementComponent_div_1_Template"),__name(JournalIssueSearchResultListElementComponent_ds_type_badge_3_Template,"JournalIssueSearchResultListElementComponent_ds_type_badge_3_Template"),__name(JournalIssueSearchResultListElementComponent_a_5_Template,"JournalIssueSearchResultListElementComponent_a_5_Template"),__name(JournalIssueSearchResultListElementComponent_span_6_Template,"JournalIssueSearchResultListElementComponent_span_6_Template"),__name(JournalIssueSearchResultListElementComponent_span_9_span_1_Template,"JournalIssueSearchResultListElementComponent_span_9_span_1_Template"),__name(JournalIssueSearchResultListElementComponent_span_9_span_2_span_1_Template,"JournalIssueSearchResultListElementComponent_span_9_span_2_span_1_Template");const journal_issue_search_result_list_element_component_c1=__name(function(){return["publicationissue.issueNumber"]},"journal_issue_search_result_list_element_component_c1");function JournalIssueSearchResultListElementComponent_span_9_span_2_Template(rf,ctx){if(1&rf&&(core.TgZ(0,"span",23),core.YNc(1,JournalIssueSearchResultListElementComponent_span_9_span_2_span_1_Template,5,2,"span",20),core.qZA()),2&rf){const ctx_r8=core.oxw(2);core.xp6(1),core.Q6J("ngForOf",ctx_r8.allMetadataValues(core.DdM(1,journal_issue_search_result_list_element_component_c1)))}}__name(JournalIssueSearchResultListElementComponent_span_9_span_2_Template,"JournalIssueSearchResultListElementComponent_span_9_span_2_Template");const journal_issue_search_result_list_element_component_c2=__name(function(){return["publicationvolume.volumeNumber"]},"journal_issue_search_result_list_element_component_c2");function JournalIssueSearchResultListElementComponent_span_9_Template(rf,ctx){if(1&rf&&(core.TgZ(0,"span",19),core.YNc(1,JournalIssueSearchResultListElementComponent_span_9_span_1_Template,3,2,"span",20),core.YNc(2,JournalIssueSearchResultListElementComponent_span_9_span_2_Template,2,2,"span",21),core.qZA()),2&rf){const ctx_r4=core.oxw();core.xp6(1),core.Q6J("ngForOf",ctx_r4.allMetadataValues(core.DdM(2,journal_issue_search_result_list_element_component_c2))),core.xp6(1),core.Q6J("ngIf",ctx_r4.dso.allMetadata(core.DdM(3,journal_issue_search_result_list_element_component_c1)).length>0)}}__name(JournalIssueSearchResultListElementComponent_span_9_Template,"JournalIssueSearchResultListElementComponent_span_9_Template");let JournalIssueSearchResultListElementComponent=__name(class extends item_search_result_list_element_component.h{ngOnInit(){super.ngOnInit(),this.showThumbnails=this.appConfig.browseBy.showThumbnails}},"JournalIssueSearchResultListElementComponent");JournalIssueSearchResultListElementComponent.\u0275fac=function(){let \u0275JournalIssueSearchResultListElementComponent_BaseFactory;return __name(function(t){return(\u0275JournalIssueSearchResultListElementComponent_BaseFactory||(\u0275JournalIssueSearchResultListElementComponent_BaseFactory=core.n5z(JournalIssueSearchResultListElementComponent)))(t||JournalIssueSearchResultListElementComponent)},"JournalIssueSearchResultListElementComponent_Factory")}(),JournalIssueSearchResultListElementComponent.\u0275cmp=core.Xpm({type:JournalIssueSearchResultListElementComponent,selectors:[["ds-journal-issue-search-result-list-element"]],features:[core.qOj],decls:10,vars:10,consts:[[1,"row"],["class","col-3 col-md-2",4,"ngIf"],[3,"ngClass"],[3,"object",4,"ngIf"],[3,"id"],["rel","noopener noreferrer","class","lead item-list-title dont-break-out",3,"target","routerLink","innerHTML",4,"ngIf"],["class","lead item-list-title dont-break-out",3,"innerHTML",4,"ngIf"],[1,"text-muted"],[3,"id","minLines"],["class","item-list-journal-issues",4,"ngIf"],[1,"col-3","col-md-2"],["rel","noopener noreferrer","class","lead item-list-title dont-break-out",3,"target","routerLink",4,"ngIf"],["class","lead item-list-title dont-break-out",4,"ngIf"],["rel","noopener noreferrer",1,"lead","item-list-title","dont-break-out",3,"target","routerLink"],[3,"thumbnail","limitWidth"],[1,"lead","item-list-title","dont-break-out"],[3,"object"],["rel","noopener noreferrer",1,"lead","item-list-title","dont-break-out",3,"target","routerLink","innerHTML"],[1,"lead","item-list-title","dont-break-out",3,"innerHTML"],[1,"item-list-journal-issues"],[4,"ngFor","ngForOf"],["class","item-list-journal-issue-numbers",4,"ngIf"],[3,"innerHTML"],[1,"item-list-journal-issue-numbers"]],template:__name(function(rf,ctx){1&rf&&(core.TgZ(0,"div",0),core.YNc(1,JournalIssueSearchResultListElementComponent_div_1_Template,3,2,"div",1),core.TgZ(2,"div",2),core.YNc(3,JournalIssueSearchResultListElementComponent_ds_type_badge_3_Template,1,1,"ds-type-badge",3),core.TgZ(4,"ds-truncatable",4),core.YNc(5,JournalIssueSearchResultListElementComponent_a_5_Template,1,5,"a",5),core.YNc(6,JournalIssueSearchResultListElementComponent_span_6_Template,1,1,"span",6),core.TgZ(7,"span",7)(8,"ds-truncatable-part",8),core.YNc(9,JournalIssueSearchResultListElementComponent_span_9_Template,3,4,"span",9),core.qZA()()()()()),2&rf&&(core.xp6(1),core.Q6J("ngIf",ctx.showThumbnails),core.xp6(1),core.Q6J("ngClass",ctx.showThumbnails?"col-9":"col-md-12"),core.xp6(1),core.Q6J("ngIf",ctx.showLabel),core.xp6(1),core.Q6J("id",ctx.dso.id),core.xp6(1),core.Q6J("ngIf",ctx.linkType!=ctx.linkTypes.None),core.xp6(1),core.Q6J("ngIf",ctx.linkType==ctx.linkTypes.None),core.xp6(2),core.Q6J("id",ctx.dso.id)("minLines",1),core.xp6(1),core.Q6J("ngIf",ctx.dso.allMetadata(core.DdM(9,journal_issue_search_result_list_element_component_c2)).length>0))},"JournalIssueSearchResultListElementComponent_Template"),directives:[common.O5,router.yS,thumbnail_component.Z,common.mk,type_badge_component.F,truncatable_component.n,truncatable_part_component.L,common.sg],pipes:[common.Ov],styles:[""]}),JournalIssueSearchResultListElementComponent=(0,tslib_es6.gn)([(0,listable_object_decorator.d$)("JournalIssueSearchResult",view_mode_model.w.ListElement)],JournalIssueSearchResultListElementComponent);const journal_issue_list_element_component_c0=__name(function(){return{}},"journal_issue_list_element_component_c0"),journal_issue_list_element_component_c1=__name(function(a0,a1){return{indexableObject:a0,hitHighlights:a1}},"journal_issue_list_element_component_c1");let JournalIssueListElementComponent=__name(class extends abstract_listable_element_component.i{},"JournalIssueListElementComponent");JournalIssueListElementComponent.\u0275fac=function(){let \u0275JournalIssueListElementComponent_BaseFactory;return __name(function(t){return(\u0275JournalIssueListElementComponent_BaseFactory||(\u0275JournalIssueListElementComponent_BaseFactory=core.n5z(JournalIssueListElementComponent)))(t||JournalIssueListElementComponent)},"JournalIssueListElementComponent_Factory")}(),JournalIssueListElementComponent.\u0275cmp=core.Xpm({type:JournalIssueListElementComponent,selectors:[["ds-journal-issue-list-element"]],features:[core.qOj],decls:1,vars:7,consts:[[3,"showLabel","object","linkType"]],template:__name(function(rf,ctx){1&rf&&core._UZ(0,"ds-journal-issue-search-result-list-element",0),2&rf&&core.Q6J("showLabel",ctx.showLabel)("object",core.WLB(4,journal_issue_list_element_component_c1,ctx.object,core.DdM(3,journal_issue_list_element_component_c0)))("linkType",ctx.linkType)},"JournalIssueListElementComponent_Template"),directives:[JournalIssueSearchResultListElementComponent],styles:[""]}),JournalIssueListElementComponent=(0,tslib_es6.gn)([(0,listable_object_decorator.d$)("JournalIssue",view_mode_model.w.ListElement)],JournalIssueListElementComponent);const journal_volume_search_result_list_element_component_c0=__name(function(a0){return[a0]},"journal_volume_search_result_list_element_component_c0");function JournalVolumeSearchResultListElementComponent_div_1_a_1_Template(rf,ctx){if(1&rf&&(core.TgZ(0,"a",14),core._UZ(1,"ds-thumbnail",15),core.ALo(2,"async"),core.qZA()),2&rf){const ctx_r6=core.oxw(2);core.Q6J("target",ctx_r6.linkType==ctx_r6.linkTypes.ExternalLink?"_blank":"_self")("routerLink",core.VKq(6,journal_volume_search_result_list_element_component_c0,ctx_r6.itemPageRoute)),core.xp6(1),core.Q6J("thumbnail",core.lcZ(2,4,null==ctx_r6.dso?null:ctx_r6.dso.thumbnail))("limitWidth",!0)}}function JournalVolumeSearchResultListElementComponent_div_1_span_2_Template(rf,ctx){if(1&rf&&(core.TgZ(0,"span",16),core._UZ(1,"ds-thumbnail",15),core.ALo(2,"async"),core.qZA()),2&rf){const ctx_r7=core.oxw(2);core.xp6(1),core.Q6J("thumbnail",core.lcZ(2,2,null==ctx_r7.dso?null:ctx_r7.dso.thumbnail))("limitWidth",!0)}}function JournalVolumeSearchResultListElementComponent_div_1_Template(rf,ctx){if(1&rf&&(core.TgZ(0,"div",11),core.YNc(1,JournalVolumeSearchResultListElementComponent_div_1_a_1_Template,3,8,"a",12),core.YNc(2,JournalVolumeSearchResultListElementComponent_div_1_span_2_Template,3,4,"span",13),core.qZA()),2&rf){const ctx_r0=core.oxw();core.xp6(1),core.Q6J("ngIf",ctx_r0.linkType!=ctx_r0.linkTypes.None),core.xp6(1),core.Q6J("ngIf",ctx_r0.linkType==ctx_r0.linkTypes.None)}}function JournalVolumeSearchResultListElementComponent_ds_type_badge_3_Template(rf,ctx){if(1&rf&&core._UZ(0,"ds-type-badge",17),2&rf){const ctx_r1=core.oxw();core.Q6J("object",ctx_r1.dso)}}function JournalVolumeSearchResultListElementComponent_a_5_Template(rf,ctx){if(1&rf&&core._UZ(0,"a",18),2&rf){const ctx_r2=core.oxw();core.Q6J("target",ctx_r2.linkType==ctx_r2.linkTypes.ExternalLink?"_blank":"_self")("routerLink",core.VKq(3,journal_volume_search_result_list_element_component_c0,ctx_r2.itemPageRoute))("innerHTML",ctx_r2.dsoTitle,core.oJD)}}function JournalVolumeSearchResultListElementComponent_span_6_Template(rf,ctx){if(1&rf&&core._UZ(0,"span",19),2&rf){const ctx_r3=core.oxw();core.Q6J("innerHTML",ctx_r3.dsoTitle,core.oJD)}}function JournalVolumeSearchResultListElementComponent_span_9_span_1_Template(rf,ctx){if(1&rf&&(core.TgZ(0,"span")(1,"span",22),core._UZ(2,"span",22),core.qZA()()),2&rf){const value_r9=ctx.$implicit;core.xp6(1),core.Q6J("innerHTML",value_r9,core.oJD),core.xp6(1),core.Q6J("innerHTML",value_r9,core.oJD)}}__name(JournalVolumeSearchResultListElementComponent_div_1_a_1_Template,"JournalVolumeSearchResultListElementComponent_div_1_a_1_Template"),__name(JournalVolumeSearchResultListElementComponent_div_1_span_2_Template,"JournalVolumeSearchResultListElementComponent_div_1_span_2_Template"),__name(JournalVolumeSearchResultListElementComponent_div_1_Template,"JournalVolumeSearchResultListElementComponent_div_1_Template"),__name(JournalVolumeSearchResultListElementComponent_ds_type_badge_3_Template,"JournalVolumeSearchResultListElementComponent_ds_type_badge_3_Template"),__name(JournalVolumeSearchResultListElementComponent_a_5_Template,"JournalVolumeSearchResultListElementComponent_a_5_Template"),__name(JournalVolumeSearchResultListElementComponent_span_6_Template,"JournalVolumeSearchResultListElementComponent_span_6_Template"),__name(JournalVolumeSearchResultListElementComponent_span_9_span_1_Template,"JournalVolumeSearchResultListElementComponent_span_9_span_1_Template");const journal_volume_search_result_list_element_component_c1=__name(function(){return["journal.title"]},"journal_volume_search_result_list_element_component_c1");function JournalVolumeSearchResultListElementComponent_span_9_Template(rf,ctx){if(1&rf&&(core.TgZ(0,"span",20),core.YNc(1,JournalVolumeSearchResultListElementComponent_span_9_span_1_Template,3,2,"span",21),core.qZA()),2&rf){const ctx_r4=core.oxw();core.xp6(1),core.Q6J("ngForOf",ctx_r4.allMetadataValues(core.DdM(1,journal_volume_search_result_list_element_component_c1)))}}function JournalVolumeSearchResultListElementComponent_span_10_span_1_Template(rf,ctx){if(1&rf&&(core.TgZ(0,"span")(1,"span"),core._uU(2," ("),core.qZA(),core.TgZ(3,"span",22),core._UZ(4,"span",22),core.qZA(),core.TgZ(5,"span"),core._uU(6,")"),core.qZA()()),2&rf){const value_r12=ctx.$implicit;core.xp6(3),core.Q6J("innerHTML",value_r12,core.oJD),core.xp6(1),core.Q6J("innerHTML",value_r12,core.oJD)}}__name(JournalVolumeSearchResultListElementComponent_span_9_Template,"JournalVolumeSearchResultListElementComponent_span_9_Template"),__name(JournalVolumeSearchResultListElementComponent_span_10_span_1_Template,"JournalVolumeSearchResultListElementComponent_span_10_span_1_Template");const journal_volume_search_result_list_element_component_c2=__name(function(){return["publicationvolume.volumeNumber"]},"journal_volume_search_result_list_element_component_c2");function JournalVolumeSearchResultListElementComponent_span_10_Template(rf,ctx){if(1&rf&&(core.TgZ(0,"span",23),core.YNc(1,JournalVolumeSearchResultListElementComponent_span_10_span_1_Template,7,2,"span",21),core.qZA()),2&rf){const ctx_r5=core.oxw();core.xp6(1),core.Q6J("ngForOf",ctx_r5.allMetadataValues(core.DdM(1,journal_volume_search_result_list_element_component_c2)))}}__name(JournalVolumeSearchResultListElementComponent_span_10_Template,"JournalVolumeSearchResultListElementComponent_span_10_Template");let JournalVolumeSearchResultListElementComponent=__name(class extends item_search_result_list_element_component.h{ngOnInit(){super.ngOnInit(),this.showThumbnails=this.appConfig.browseBy.showThumbnails}},"JournalVolumeSearchResultListElementComponent");JournalVolumeSearchResultListElementComponent.\u0275fac=function(){let \u0275JournalVolumeSearchResultListElementComponent_BaseFactory;return __name(function(t){return(\u0275JournalVolumeSearchResultListElementComponent_BaseFactory||(\u0275JournalVolumeSearchResultListElementComponent_BaseFactory=core.n5z(JournalVolumeSearchResultListElementComponent)))(t||JournalVolumeSearchResultListElementComponent)},"JournalVolumeSearchResultListElementComponent_Factory")}(),JournalVolumeSearchResultListElementComponent.\u0275cmp=core.Xpm({type:JournalVolumeSearchResultListElementComponent,selectors:[["ds-journal-volume-search-result-list-element"]],features:[core.qOj],decls:11,vars:12,consts:[[1,"row"],["class","col-3 col-md-2",4,"ngIf"],[3,"ngClass"],[3,"object",4,"ngIf"],[3,"id"],["rel","noopener noreferrer","class","lead item-list-title dont-break-out",3,"target","routerLink","innerHTML",4,"ngIf"],["class","lead item-list-title dont-break-out",3,"innerHTML",4,"ngIf"],[1,"text-muted"],[3,"id","minLines"],["class","item-list-journal-volumes",4,"ngIf"],["class","item-list-journal-volume-identifiers",4,"ngIf"],[1,"col-3","col-md-2"],["rel","noopener noreferrer","class","lead item-list-title dont-break-out",3,"target","routerLink",4,"ngIf"],["class","lead item-list-title dont-break-out",4,"ngIf"],["rel","noopener noreferrer",1,"lead","item-list-title","dont-break-out",3,"target","routerLink"],[3,"thumbnail","limitWidth"],[1,"lead","item-list-title","dont-break-out"],[3,"object"],["rel","noopener noreferrer",1,"lead","item-list-title","dont-break-out",3,"target","routerLink","innerHTML"],[1,"lead","item-list-title","dont-break-out",3,"innerHTML"],[1,"item-list-journal-volumes"],[4,"ngFor","ngForOf"],[3,"innerHTML"],[1,"item-list-journal-volume-identifiers"]],template:__name(function(rf,ctx){1&rf&&(core.TgZ(0,"div",0),core.YNc(1,JournalVolumeSearchResultListElementComponent_div_1_Template,3,2,"div",1),core.TgZ(2,"div",2),core.YNc(3,JournalVolumeSearchResultListElementComponent_ds_type_badge_3_Template,1,1,"ds-type-badge",3),core.TgZ(4,"ds-truncatable",4),core.YNc(5,JournalVolumeSearchResultListElementComponent_a_5_Template,1,5,"a",5),core.YNc(6,JournalVolumeSearchResultListElementComponent_span_6_Template,1,1,"span",6),core.TgZ(7,"span",7)(8,"ds-truncatable-part",8),core.YNc(9,JournalVolumeSearchResultListElementComponent_span_9_Template,2,2,"span",9),core.YNc(10,JournalVolumeSearchResultListElementComponent_span_10_Template,2,2,"span",10),core.qZA()()()()()),2&rf&&(core.xp6(1),core.Q6J("ngIf",ctx.showThumbnails),core.xp6(1),core.Q6J("ngClass",ctx.showThumbnails?"col-9":"col-md-12"),core.xp6(1),core.Q6J("ngIf",ctx.showLabel),core.xp6(1),core.Q6J("id",ctx.dso.id),core.xp6(1),core.Q6J("ngIf",ctx.linkType!=ctx.linkTypes.None),core.xp6(1),core.Q6J("ngIf",ctx.linkType==ctx.linkTypes.None),core.xp6(2),core.Q6J("id",ctx.dso.id)("minLines",1),core.xp6(1),core.Q6J("ngIf",ctx.dso.allMetadata(core.DdM(10,journal_volume_search_result_list_element_component_c1)).length>0),core.xp6(1),core.Q6J("ngIf",ctx.dso.allMetadata(core.DdM(11,journal_volume_search_result_list_element_component_c2)).length>0))},"JournalVolumeSearchResultListElementComponent_Template"),directives:[common.O5,router.yS,thumbnail_component.Z,common.mk,type_badge_component.F,truncatable_component.n,truncatable_part_component.L,common.sg],pipes:[common.Ov],styles:[""]}),JournalVolumeSearchResultListElementComponent=(0,tslib_es6.gn)([(0,listable_object_decorator.d$)("JournalVolumeSearchResult",view_mode_model.w.ListElement)],JournalVolumeSearchResultListElementComponent);const journal_volume_list_element_component_c0=__name(function(){return{}},"journal_volume_list_element_component_c0"),journal_volume_list_element_component_c1=__name(function(a0,a1){return{indexableObject:a0,hitHighlights:a1}},"journal_volume_list_element_component_c1");let JournalVolumeListElementComponent=__name(class extends abstract_listable_element_component.i{},"JournalVolumeListElementComponent");JournalVolumeListElementComponent.\u0275fac=function(){let \u0275JournalVolumeListElementComponent_BaseFactory;return __name(function(t){return(\u0275JournalVolumeListElementComponent_BaseFactory||(\u0275JournalVolumeListElementComponent_BaseFactory=core.n5z(JournalVolumeListElementComponent)))(t||JournalVolumeListElementComponent)},"JournalVolumeListElementComponent_Factory")}(),JournalVolumeListElementComponent.\u0275cmp=core.Xpm({type:JournalVolumeListElementComponent,selectors:[["ds-journal-volume-list-element"]],features:[core.qOj],decls:1,vars:7,consts:[[3,"showLabel","object","linkType"]],template:__name(function(rf,ctx){1&rf&&core._UZ(0,"ds-journal-volume-search-result-list-element",0),2&rf&&core.Q6J("showLabel",ctx.showLabel)("object",core.WLB(4,journal_volume_list_element_component_c1,ctx.object,core.DdM(3,journal_volume_list_element_component_c0)))("linkType",ctx.linkType)},"JournalVolumeListElementComponent_Template"),directives:[JournalVolumeSearchResultListElementComponent],styles:[""]}),JournalVolumeListElementComponent=(0,tslib_es6.gn)([(0,listable_object_decorator.d$)("JournalVolume",view_mode_model.w.ListElement)],JournalVolumeListElementComponent);var animations_focus=__webpack_require__(10299),item_search_result_grid_element_component=__webpack_require__(94034);const journal_issue_search_result_grid_element_component_c0=__name(function(a0){return[a0]},"journal_issue_search_result_grid_element_component_c0");function JournalIssueSearchResultGridElementComponent_a_5_Template(rf,ctx){if(1&rf&&(core.TgZ(0,"a",12),core.ALo(1,"translate"),core.TgZ(2,"div"),core._UZ(3,"ds-thumbnail",13),core.ALo(4,"async"),core.qZA()()),2&rf){const ctx_r0=core.oxw();core.Q6J("target",ctx_r0.linkType==ctx_r0.linkTypes.ExternalLink?"_blank":"_self")("routerLink",core.VKq(9,journal_issue_search_result_grid_element_component_c0,ctx_r0.itemPageRoute)),core.uIk("title",core.lcZ(1,5,"search.results.view-result")),core.xp6(3),core.Q6J("thumbnail",core.lcZ(4,7,null==ctx_r0.dso?null:ctx_r0.dso.thumbnail))("limitWidth",!1)}}function JournalIssueSearchResultGridElementComponent_span_6_Template(rf,ctx){if(1&rf&&(core.TgZ(0,"span",14)(1,"div"),core._UZ(2,"ds-thumbnail",13),core.ALo(3,"async"),core.qZA()()),2&rf){const ctx_r1=core.oxw();core.xp6(2),core.Q6J("thumbnail",core.lcZ(3,2,null==ctx_r1.dso?null:ctx_r1.dso.thumbnail))("limitWidth",!1)}}function JournalIssueSearchResultGridElementComponent_ds_type_badge_8_Template(rf,ctx){if(1&rf&&core._UZ(0,"ds-type-badge",15),2&rf){const ctx_r2=core.oxw();core.Q6J("object",ctx_r2.dso)}}function JournalIssueSearchResultGridElementComponent_p_11_Template(rf,ctx){if(1&rf&&(core.TgZ(0,"p",16)(1,"ds-truncatable-part",17),core._UZ(2,"span",18),core.qZA()()),2&rf){const ctx_r3=core.oxw();core.xp6(1),core.Q6J("id",ctx_r3.dso.id)("minLines",1),core.xp6(1),core.Q6J("innerHTML",ctx_r3.firstMetadataValue("creativework.datePublished"),core.oJD)}}function JournalIssueSearchResultGridElementComponent_p_12_Template(rf,ctx){if(1&rf&&(core.TgZ(0,"p",19)(1,"ds-truncatable-part",17),core._UZ(2,"span",18),core.qZA()()),2&rf){const ctx_r4=core.oxw();core.xp6(1),core.Q6J("id",ctx_r4.dso.id)("minLines",3),core.xp6(1),core.Q6J("innerHTML",ctx_r4.firstMetadataValue("journal.title"),core.oJD)}}function JournalIssueSearchResultGridElementComponent_div_13_Template(rf,ctx){if(1&rf&&(core.TgZ(0,"div",20)(1,"a",21),core._uU(2),core.ALo(3,"translate"),core.qZA()()),2&rf){const ctx_r5=core.oxw();core.xp6(1),core.Q6J("target",ctx_r5.linkType==ctx_r5.linkTypes.ExternalLink?"_blank":"_self")("routerLink",core.VKq(5,journal_issue_search_result_grid_element_component_c0,ctx_r5.itemPageRoute)),core.xp6(1),core.Oqu(core.lcZ(3,3,"search.results.view-result"))}}__name(JournalIssueSearchResultGridElementComponent_a_5_Template,"JournalIssueSearchResultGridElementComponent_a_5_Template"),__name(JournalIssueSearchResultGridElementComponent_span_6_Template,"JournalIssueSearchResultGridElementComponent_span_6_Template"),__name(JournalIssueSearchResultGridElementComponent_ds_type_badge_8_Template,"JournalIssueSearchResultGridElementComponent_ds_type_badge_8_Template"),__name(JournalIssueSearchResultGridElementComponent_p_11_Template,"JournalIssueSearchResultGridElementComponent_p_11_Template"),__name(JournalIssueSearchResultGridElementComponent_p_12_Template,"JournalIssueSearchResultGridElementComponent_p_12_Template"),__name(JournalIssueSearchResultGridElementComponent_div_13_Template,"JournalIssueSearchResultGridElementComponent_div_13_Template");const journal_issue_search_result_grid_element_component_c1=["*","*"];let JournalIssueSearchResultGridElementComponent=__name(class extends item_search_result_grid_element_component.n{},"JournalIssueSearchResultGridElementComponent");JournalIssueSearchResultGridElementComponent.\u0275fac=function(){let \u0275JournalIssueSearchResultGridElementComponent_BaseFactory;return __name(function(t){return(\u0275JournalIssueSearchResultGridElementComponent_BaseFactory||(\u0275JournalIssueSearchResultGridElementComponent_BaseFactory=core.n5z(JournalIssueSearchResultGridElementComponent)))(t||JournalIssueSearchResultGridElementComponent)},"JournalIssueSearchResultGridElementComponent_Factory")}(),JournalIssueSearchResultGridElementComponent.\u0275cmp=core.Xpm({type:JournalIssueSearchResultGridElementComponent,selectors:[["ds-journal-issue-search-result-grid-element"]],features:[core.qOj],ngContentSelectors:journal_issue_search_result_grid_element_component_c1,decls:15,vars:13,consts:[[1,"card"],[3,"id"],[1,"position-absolute","ml-1"],["rel","noopener noreferrer","class","card-img-top full-width",3,"target","routerLink",4,"ngIf"],["class","card-img-top full-width",4,"ngIf"],[1,"card-body"],[3,"object",4,"ngIf"],["type","h4",3,"id","minLines"],[1,"card-title",3,"innerHTML"],["class","item-date card-text text-muted",4,"ngIf"],["class","item-journal-title card-text",4,"ngIf"],["class","text-center",4,"ngIf"],["rel","noopener noreferrer",1,"card-img-top","full-width",3,"target","routerLink"],[3,"thumbnail","limitWidth"],[1,"card-img-top","full-width"],[3,"object"],[1,"item-date","card-text","text-muted"],[3,"id","minLines"],[3,"innerHTML"],[1,"item-journal-title","card-text"],[1,"text-center"],["rel","noopener noreferrer",1,"lead","btn","btn-primary","viewButton",3,"target","routerLink"]],template:__name(function(rf,ctx){1&rf&&(core.F$t(journal_issue_search_result_grid_element_component_c1),core.TgZ(0,"div",0),core.ALo(1,"async"),core.TgZ(2,"ds-truncatable",1)(3,"div",2),core.Hsn(4),core.qZA(),core.YNc(5,JournalIssueSearchResultGridElementComponent_a_5_Template,5,11,"a",3),core.YNc(6,JournalIssueSearchResultGridElementComponent_span_6_Template,4,4,"span",4),core.TgZ(7,"div",5),core.YNc(8,JournalIssueSearchResultGridElementComponent_ds_type_badge_8_Template,1,1,"ds-type-badge",6),core.TgZ(9,"ds-truncatable-part",7),core._UZ(10,"h4",8),core.qZA(),core.YNc(11,JournalIssueSearchResultGridElementComponent_p_11_Template,3,3,"p",9),core.YNc(12,JournalIssueSearchResultGridElementComponent_p_12_Template,3,3,"p",10),core.YNc(13,JournalIssueSearchResultGridElementComponent_div_13_Template,4,7,"div",11),core.qZA()(),core.Hsn(14,1),core.qZA()),2&rf&&(core.Q6J("@focusShadow",core.lcZ(1,11,ctx.isCollapsed$)?"blur":"focus"),core.xp6(2),core.Q6J("id",ctx.dso.id),core.xp6(3),core.Q6J("ngIf",ctx.linkType!=ctx.linkTypes.None),core.xp6(1),core.Q6J("ngIf",ctx.linkType==ctx.linkTypes.None),core.xp6(2),core.Q6J("ngIf",ctx.showLabel),core.xp6(1),core.Q6J("id",ctx.dso.id)("minLines",3),core.xp6(1),core.Q6J("innerHTML",ctx.dsoTitle,core.oJD),core.xp6(1),core.Q6J("ngIf",ctx.dso.hasMetadata("creativework.datePublished")),core.xp6(1),core.Q6J("ngIf",ctx.dso.hasMetadata("journal.title")),core.xp6(1),core.Q6J("ngIf",ctx.linkType!=ctx.linkTypes.None))},"JournalIssueSearchResultGridElementComponent_Template"),directives:[truncatable_component.n,common.O5,router.yS,thumbnail_component.Z,type_badge_component.F,truncatable_part_component.L],pipes:[common.Ov,ngx_translate_core.X$],styles:[""],data:{animation:[animations_focus.X]}}),JournalIssueSearchResultGridElementComponent=(0,tslib_es6.gn)([(0,listable_object_decorator.d$)("JournalIssueSearchResult",view_mode_model.w.GridElement)],JournalIssueSearchResultGridElementComponent);const journal_issue_grid_element_component_c0=__name(function(){return{}},"journal_issue_grid_element_component_c0"),journal_issue_grid_element_component_c1=__name(function(a0,a1){return{indexableObject:a0,hitHighlights:a1}},"journal_issue_grid_element_component_c1");let JournalIssueGridElementComponent=__name(class extends abstract_listable_element_component.i{},"JournalIssueGridElementComponent");JournalIssueGridElementComponent.\u0275fac=function(){let \u0275JournalIssueGridElementComponent_BaseFactory;return __name(function(t){return(\u0275JournalIssueGridElementComponent_BaseFactory||(\u0275JournalIssueGridElementComponent_BaseFactory=core.n5z(JournalIssueGridElementComponent)))(t||JournalIssueGridElementComponent)},"JournalIssueGridElementComponent_Factory")}(),JournalIssueGridElementComponent.\u0275cmp=core.Xpm({type:JournalIssueGridElementComponent,selectors:[["ds-journal-issue-grid-element"]],features:[core.qOj],decls:1,vars:7,consts:[[3,"showLabel","object","linkType"]],template:__name(function(rf,ctx){1&rf&&core._UZ(0,"ds-journal-issue-search-result-grid-element",0),2&rf&&core.Q6J("showLabel",ctx.showLabel)("object",core.WLB(4,journal_issue_grid_element_component_c1,ctx.object,core.DdM(3,journal_issue_grid_element_component_c0)))("linkType",ctx.linkType)},"JournalIssueGridElementComponent_Template"),directives:[JournalIssueSearchResultGridElementComponent],styles:[""]}),JournalIssueGridElementComponent=(0,tslib_es6.gn)([(0,listable_object_decorator.d$)("JournalIssue",view_mode_model.w.GridElement)],JournalIssueGridElementComponent);const journal_volume_search_result_grid_element_component_c0=__name(function(a0){return[a0]},"journal_volume_search_result_grid_element_component_c0");function JournalVolumeSearchResultGridElementComponent_a_5_Template(rf,ctx){if(1&rf&&(core.TgZ(0,"a",12),core.ALo(1,"translate"),core.TgZ(2,"div"),core._UZ(3,"ds-thumbnail",13),core.ALo(4,"async"),core.qZA()()),2&rf){const ctx_r0=core.oxw();core.Q6J("target",ctx_r0.linkType==ctx_r0.linkTypes.ExternalLink?"_blank":"_self")("routerLink",core.VKq(9,journal_volume_search_result_grid_element_component_c0,ctx_r0.itemPageRoute)),core.uIk("title",core.lcZ(1,5,"search.results.view-result")),core.xp6(3),core.Q6J("thumbnail",core.lcZ(4,7,null==ctx_r0.dso?null:ctx_r0.dso.thumbnail))("limitWidth",!1)}}function JournalVolumeSearchResultGridElementComponent_span_6_Template(rf,ctx){if(1&rf&&(core.TgZ(0,"span",14)(1,"div"),core._UZ(2,"ds-thumbnail",13),core.ALo(3,"async"),core.qZA()()),2&rf){const ctx_r1=core.oxw();core.xp6(2),core.Q6J("thumbnail",core.lcZ(3,2,null==ctx_r1.dso?null:ctx_r1.dso.thumbnail))("limitWidth",!1)}}function JournalVolumeSearchResultGridElementComponent_ds_type_badge_8_Template(rf,ctx){if(1&rf&&core._UZ(0,"ds-type-badge",15),2&rf){const ctx_r2=core.oxw();core.Q6J("object",ctx_r2.dso)}}function JournalVolumeSearchResultGridElementComponent_p_11_Template(rf,ctx){if(1&rf&&(core.TgZ(0,"p",16)(1,"ds-truncatable-part",17),core._UZ(2,"span",18),core.qZA()()),2&rf){const ctx_r3=core.oxw();core.xp6(1),core.Q6J("id",ctx_r3.dso.id)("minLines",1),core.xp6(1),core.Q6J("innerHTML",ctx_r3.firstMetadataValue("creativework.datePublished"),core.oJD)}}function JournalVolumeSearchResultGridElementComponent_p_12_Template(rf,ctx){if(1&rf&&(core.TgZ(0,"p",19)(1,"ds-truncatable-part",17),core._UZ(2,"span",18),core.qZA()()),2&rf){const ctx_r4=core.oxw();core.xp6(1),core.Q6J("id",ctx_r4.dso.id)("minLines",3),core.xp6(1),core.Q6J("innerHTML",ctx_r4.firstMetadataValue("dc.description"),core.oJD)}}function JournalVolumeSearchResultGridElementComponent_div_13_Template(rf,ctx){if(1&rf&&(core.TgZ(0,"div",20)(1,"a",21),core._uU(2),core.ALo(3,"translate"),core.qZA()()),2&rf){const ctx_r5=core.oxw();core.xp6(1),core.Q6J("target",ctx_r5.linkType==ctx_r5.linkTypes.ExternalLink?"_blank":"_self")("routerLink",core.VKq(5,journal_volume_search_result_grid_element_component_c0,ctx_r5.itemPageRoute)),core.xp6(1),core.Oqu(core.lcZ(3,3,"search.results.view-result"))}}__name(JournalVolumeSearchResultGridElementComponent_a_5_Template,"JournalVolumeSearchResultGridElementComponent_a_5_Template"),__name(JournalVolumeSearchResultGridElementComponent_span_6_Template,"JournalVolumeSearchResultGridElementComponent_span_6_Template"),__name(JournalVolumeSearchResultGridElementComponent_ds_type_badge_8_Template,"JournalVolumeSearchResultGridElementComponent_ds_type_badge_8_Template"),__name(JournalVolumeSearchResultGridElementComponent_p_11_Template,"JournalVolumeSearchResultGridElementComponent_p_11_Template"),__name(JournalVolumeSearchResultGridElementComponent_p_12_Template,"JournalVolumeSearchResultGridElementComponent_p_12_Template"),__name(JournalVolumeSearchResultGridElementComponent_div_13_Template,"JournalVolumeSearchResultGridElementComponent_div_13_Template");const journal_volume_search_result_grid_element_component_c1=["*","*"];let JournalVolumeSearchResultGridElementComponent=__name(class extends item_search_result_grid_element_component.n{},"JournalVolumeSearchResultGridElementComponent");JournalVolumeSearchResultGridElementComponent.\u0275fac=function(){let \u0275JournalVolumeSearchResultGridElementComponent_BaseFactory;return __name(function(t){return(\u0275JournalVolumeSearchResultGridElementComponent_BaseFactory||(\u0275JournalVolumeSearchResultGridElementComponent_BaseFactory=core.n5z(JournalVolumeSearchResultGridElementComponent)))(t||JournalVolumeSearchResultGridElementComponent)},"JournalVolumeSearchResultGridElementComponent_Factory")}(),JournalVolumeSearchResultGridElementComponent.\u0275cmp=core.Xpm({type:JournalVolumeSearchResultGridElementComponent,selectors:[["ds-journal-volume-search-result-grid-element"]],features:[core.qOj],ngContentSelectors:journal_volume_search_result_grid_element_component_c1,decls:15,vars:13,consts:[[1,"card"],[3,"id"],[1,"position-absolute","ml-1"],["rel","noopener noreferrer","class","card-img-top full-width",3,"target","routerLink",4,"ngIf"],["class","card-img-top full-width",4,"ngIf"],[1,"card-body"],[3,"object",4,"ngIf"],["type","h4",3,"id","minLines"],[1,"card-title",3,"innerHTML"],["class","item-date card-text text-muted",4,"ngIf"],["class","item-description card-text",4,"ngIf"],["class","text-center",4,"ngIf"],["rel","noopener noreferrer",1,"card-img-top","full-width",3,"target","routerLink"],[3,"thumbnail","limitWidth"],[1,"card-img-top","full-width"],[3,"object"],[1,"item-date","card-text","text-muted"],[3,"id","minLines"],[3,"innerHTML"],[1,"item-description","card-text"],[1,"text-center"],["rel","noopener noreferrer",1,"lead","btn","btn-primary","viewButton",3,"target","routerLink"]],template:__name(function(rf,ctx){1&rf&&(core.F$t(journal_volume_search_result_grid_element_component_c1),core.TgZ(0,"div",0),core.ALo(1,"async"),core.TgZ(2,"ds-truncatable",1)(3,"div",2),core.Hsn(4),core.qZA(),core.YNc(5,JournalVolumeSearchResultGridElementComponent_a_5_Template,5,11,"a",3),core.YNc(6,JournalVolumeSearchResultGridElementComponent_span_6_Template,4,4,"span",4),core.TgZ(7,"div",5),core.YNc(8,JournalVolumeSearchResultGridElementComponent_ds_type_badge_8_Template,1,1,"ds-type-badge",6),core.TgZ(9,"ds-truncatable-part",7),core._UZ(10,"h4",8),core.qZA(),core.YNc(11,JournalVolumeSearchResultGridElementComponent_p_11_Template,3,3,"p",9),core.YNc(12,JournalVolumeSearchResultGridElementComponent_p_12_Template,3,3,"p",10),core.YNc(13,JournalVolumeSearchResultGridElementComponent_div_13_Template,4,7,"div",11),core.qZA()(),core.Hsn(14,1),core.qZA()),2&rf&&(core.Q6J("@focusShadow",core.lcZ(1,11,ctx.isCollapsed$)?"blur":"focus"),core.xp6(2),core.Q6J("id",ctx.dso.id),core.xp6(3),core.Q6J("ngIf",ctx.linkType!=ctx.linkTypes.None),core.xp6(1),core.Q6J("ngIf",ctx.linkType==ctx.linkTypes.None),core.xp6(2),core.Q6J("ngIf",ctx.showLabel),core.xp6(1),core.Q6J("id",ctx.dso.id)("minLines",3),core.xp6(1),core.Q6J("innerHTML",ctx.dsoTitle,core.oJD),core.xp6(1),core.Q6J("ngIf",ctx.dso.hasMetadata("creativework.datePublished")),core.xp6(1),core.Q6J("ngIf",ctx.dso.hasMetadata("dc.description")),core.xp6(1),core.Q6J("ngIf",ctx.linkType!=ctx.linkTypes.None))},"JournalVolumeSearchResultGridElementComponent_Template"),directives:[truncatable_component.n,common.O5,router.yS,thumbnail_component.Z,type_badge_component.F,truncatable_part_component.L],pipes:[common.Ov,ngx_translate_core.X$],styles:[""],data:{animation:[animations_focus.X]}}),JournalVolumeSearchResultGridElementComponent=(0,tslib_es6.gn)([(0,listable_object_decorator.d$)("JournalVolumeSearchResult",view_mode_model.w.GridElement)],JournalVolumeSearchResultGridElementComponent);const journal_volume_grid_element_component_c0=__name(function(){return{}},"journal_volume_grid_element_component_c0"),journal_volume_grid_element_component_c1=__name(function(a0,a1){return{indexableObject:a0,hitHighlights:a1}},"journal_volume_grid_element_component_c1");let JournalVolumeGridElementComponent=__name(class extends abstract_listable_element_component.i{},"JournalVolumeGridElementComponent");JournalVolumeGridElementComponent.\u0275fac=function(){let \u0275JournalVolumeGridElementComponent_BaseFactory;return __name(function(t){return(\u0275JournalVolumeGridElementComponent_BaseFactory||(\u0275JournalVolumeGridElementComponent_BaseFactory=core.n5z(JournalVolumeGridElementComponent)))(t||JournalVolumeGridElementComponent)},"JournalVolumeGridElementComponent_Factory")}(),JournalVolumeGridElementComponent.\u0275cmp=core.Xpm({type:JournalVolumeGridElementComponent,selectors:[["ds-journal-volume-grid-element"]],features:[core.qOj],decls:1,vars:7,consts:[[3,"showLabel","object","linkType"]],template:__name(function(rf,ctx){1&rf&&core._UZ(0,"ds-journal-volume-search-result-grid-element",0),2&rf&&core.Q6J("showLabel",ctx.showLabel)("object",core.WLB(4,journal_volume_grid_element_component_c1,ctx.object,core.DdM(3,journal_volume_grid_element_component_c0)))("linkType",ctx.linkType)},"JournalVolumeGridElementComponent_Template"),directives:[JournalVolumeSearchResultGridElementComponent],styles:[""]}),JournalVolumeGridElementComponent=(0,tslib_es6.gn)([(0,listable_object_decorator.d$)("JournalVolume",view_mode_model.w.GridElement)],JournalVolumeGridElementComponent);const journal_search_result_grid_element_component_c0=__name(function(a0){return[a0]},"journal_search_result_grid_element_component_c0");function JournalSearchResultGridElementComponent_a_5_Template(rf,ctx){if(1&rf&&(core.TgZ(0,"a",12),core.ALo(1,"translate"),core.TgZ(2,"div"),core._UZ(3,"ds-thumbnail",13),core.ALo(4,"async"),core.qZA()()),2&rf){const ctx_r0=core.oxw();core.Q6J("target",ctx_r0.linkType==ctx_r0.linkTypes.ExternalLink?"_blank":"_self")("routerLink",core.VKq(9,journal_search_result_grid_element_component_c0,ctx_r0.itemPageRoute)),core.uIk("title",core.lcZ(1,5,"search.results.view-result")),core.xp6(3),core.Q6J("thumbnail",core.lcZ(4,7,null==ctx_r0.dso?null:ctx_r0.dso.thumbnail))("limitWidth",!1)}}function JournalSearchResultGridElementComponent_span_6_Template(rf,ctx){if(1&rf&&(core.TgZ(0,"span",14)(1,"div"),core._UZ(2,"ds-thumbnail",13),core.ALo(3,"async"),core.qZA()()),2&rf){const ctx_r1=core.oxw();core.xp6(2),core.Q6J("thumbnail",core.lcZ(3,2,null==ctx_r1.dso?null:ctx_r1.dso.thumbnail))("limitWidth",!1)}}function JournalSearchResultGridElementComponent_ds_type_badge_8_Template(rf,ctx){if(1&rf&&core._UZ(0,"ds-type-badge",15),2&rf){const ctx_r2=core.oxw();core.Q6J("object",ctx_r2.dso)}}function JournalSearchResultGridElementComponent_p_11_span_4_Template(rf,ctx){if(1&rf&&(core.TgZ(0,"span",20)(1,"span"),core._uU(2,", "),core.qZA(),core._uU(3),core.qZA()),2&rf){const ctx_r6=core.oxw(2);core.xp6(3),core.hij(" ",ctx_r6.firstMetadataValue("creativework.publisher")," ")}}function JournalSearchResultGridElementComponent_p_11_Template(rf,ctx){if(1&rf&&(core.TgZ(0,"p",16)(1,"ds-truncatable-part",17)(2,"span",18),core._uU(3),core.qZA(),core.YNc(4,JournalSearchResultGridElementComponent_p_11_span_4_Template,4,1,"span",19),core.qZA()()),2&rf){const ctx_r3=core.oxw();core.xp6(1),core.Q6J("id",ctx_r3.dso.id)("minLines",1),core.xp6(2),core.Oqu(ctx_r3.firstMetadataValue("creativework.editor")),core.xp6(1),core.Q6J("ngIf",ctx_r3.dso.hasMetadata("creativework.publisher"))}}function JournalSearchResultGridElementComponent_p_12_Template(rf,ctx){if(1&rf&&(core.TgZ(0,"p",21)(1,"ds-truncatable-part",17),core._UZ(2,"span",22),core.qZA()()),2&rf){const ctx_r4=core.oxw();core.xp6(1),core.Q6J("id",ctx_r4.dso.id)("minLines",3),core.xp6(1),core.Q6J("innerHTML",ctx_r4.firstMetadataValue("dc.description"),core.oJD)}}function JournalSearchResultGridElementComponent_div_13_Template(rf,ctx){if(1&rf&&(core.TgZ(0,"div",23)(1,"a",24),core._uU(2),core.ALo(3,"translate"),core.qZA()()),2&rf){const ctx_r5=core.oxw();core.xp6(1),core.Q6J("target",ctx_r5.linkType==ctx_r5.linkTypes.ExternalLink?"_blank":"_self")("routerLink",core.VKq(5,journal_search_result_grid_element_component_c0,ctx_r5.itemPageRoute)),core.xp6(1),core.Oqu(core.lcZ(3,3,"search.results.view-result"))}}__name(JournalSearchResultGridElementComponent_a_5_Template,"JournalSearchResultGridElementComponent_a_5_Template"),__name(JournalSearchResultGridElementComponent_span_6_Template,"JournalSearchResultGridElementComponent_span_6_Template"),__name(JournalSearchResultGridElementComponent_ds_type_badge_8_Template,"JournalSearchResultGridElementComponent_ds_type_badge_8_Template"),__name(JournalSearchResultGridElementComponent_p_11_span_4_Template,"JournalSearchResultGridElementComponent_p_11_span_4_Template"),__name(JournalSearchResultGridElementComponent_p_11_Template,"JournalSearchResultGridElementComponent_p_11_Template"),__name(JournalSearchResultGridElementComponent_p_12_Template,"JournalSearchResultGridElementComponent_p_12_Template"),__name(JournalSearchResultGridElementComponent_div_13_Template,"JournalSearchResultGridElementComponent_div_13_Template");const journal_search_result_grid_element_component_c1=["*","*"];let JournalSearchResultGridElementComponent=__name(class extends item_search_result_grid_element_component.n{},"JournalSearchResultGridElementComponent");JournalSearchResultGridElementComponent.\u0275fac=function(){let \u0275JournalSearchResultGridElementComponent_BaseFactory;return __name(function(t){return(\u0275JournalSearchResultGridElementComponent_BaseFactory||(\u0275JournalSearchResultGridElementComponent_BaseFactory=core.n5z(JournalSearchResultGridElementComponent)))(t||JournalSearchResultGridElementComponent)},"JournalSearchResultGridElementComponent_Factory")}(),JournalSearchResultGridElementComponent.\u0275cmp=core.Xpm({type:JournalSearchResultGridElementComponent,selectors:[["ds-journal-search-result-grid-element"]],features:[core.qOj],ngContentSelectors:journal_search_result_grid_element_component_c1,decls:15,vars:13,consts:[[1,"card"],[3,"id"],[1,"position-absolute","ml-1"],["rel","noopener noreferrer","class","card-img-top full-width",3,"target","routerLink",4,"ngIf"],["class","card-img-top full-width",4,"ngIf"],[1,"card-body"],[3,"object",4,"ngIf"],["type","h4",3,"id","minLines"],[1,"card-title",3,"innerHTML"],["class","item-publisher card-text text-muted",4,"ngIf"],["class","item-description card-text",4,"ngIf"],["class","text-center",4,"ngIf"],["rel","noopener noreferrer",1,"card-img-top","full-width",3,"target","routerLink"],[3,"thumbnail","limitWidth"],[1,"card-img-top","full-width"],[3,"object"],[1,"item-publisher","card-text","text-muted"],[3,"id","minLines"],[1,"item-editor"],["class","item-publisher",4,"ngIf"],[1,"item-publisher"],[1,"item-description","card-text"],[3,"innerHTML"],[1,"text-center"],["rel","noopener noreferrer",1,"lead","btn","btn-primary","viewButton",3,"target","routerLink"]],template:__name(function(rf,ctx){1&rf&&(core.F$t(journal_search_result_grid_element_component_c1),core.TgZ(0,"div",0),core.ALo(1,"async"),core.TgZ(2,"ds-truncatable",1)(3,"div",2),core.Hsn(4),core.qZA(),core.YNc(5,JournalSearchResultGridElementComponent_a_5_Template,5,11,"a",3),core.YNc(6,JournalSearchResultGridElementComponent_span_6_Template,4,4,"span",4),core.TgZ(7,"div",5),core.YNc(8,JournalSearchResultGridElementComponent_ds_type_badge_8_Template,1,1,"ds-type-badge",6),core.TgZ(9,"ds-truncatable-part",7),core._UZ(10,"h4",8),core.qZA(),core.YNc(11,JournalSearchResultGridElementComponent_p_11_Template,5,4,"p",9),core.YNc(12,JournalSearchResultGridElementComponent_p_12_Template,3,3,"p",10),core.YNc(13,JournalSearchResultGridElementComponent_div_13_Template,4,7,"div",11),core.qZA()(),core.Hsn(14,1),core.qZA()),2&rf&&(core.Q6J("@focusShadow",core.lcZ(1,11,ctx.isCollapsed$)?"blur":"focus"),core.xp6(2),core.Q6J("id",ctx.dso.id),core.xp6(3),core.Q6J("ngIf",ctx.linkType!=ctx.linkTypes.None),core.xp6(1),core.Q6J("ngIf",ctx.linkType==ctx.linkTypes.None),core.xp6(2),core.Q6J("ngIf",ctx.showLabel),core.xp6(1),core.Q6J("id",ctx.dso.id)("minLines",3),core.xp6(1),core.Q6J("innerHTML",ctx.dsoTitle,core.oJD),core.xp6(1),core.Q6J("ngIf",ctx.dso.hasMetadata("creativework.editor")),core.xp6(1),core.Q6J("ngIf",ctx.dso.hasMetadata("dc.description")),core.xp6(1),core.Q6J("ngIf",ctx.linkType!=ctx.linkTypes.None))},"JournalSearchResultGridElementComponent_Template"),directives:[truncatable_component.n,common.O5,router.yS,thumbnail_component.Z,type_badge_component.F,truncatable_part_component.L],pipes:[common.Ov,ngx_translate_core.X$],styles:[""],data:{animation:[animations_focus.X]}}),JournalSearchResultGridElementComponent=(0,tslib_es6.gn)([(0,listable_object_decorator.d$)("JournalSearchResult",view_mode_model.w.GridElement)],JournalSearchResultGridElementComponent);const journal_grid_element_component_c0=__name(function(){return{}},"journal_grid_element_component_c0"),journal_grid_element_component_c1=__name(function(a0,a1){return{indexableObject:a0,hitHighlights:a1}},"journal_grid_element_component_c1");let JournalGridElementComponent=__name(class extends abstract_listable_element_component.i{},"JournalGridElementComponent");JournalGridElementComponent.\u0275fac=function(){let \u0275JournalGridElementComponent_BaseFactory;return __name(function(t){return(\u0275JournalGridElementComponent_BaseFactory||(\u0275JournalGridElementComponent_BaseFactory=core.n5z(JournalGridElementComponent)))(t||JournalGridElementComponent)},"JournalGridElementComponent_Factory")}(),JournalGridElementComponent.\u0275cmp=core.Xpm({type:JournalGridElementComponent,selectors:[["ds-journal-grid-element"]],features:[core.qOj],decls:1,vars:7,consts:[[3,"showLabel","object","linkType"]],template:__name(function(rf,ctx){1&rf&&core._UZ(0,"ds-journal-search-result-grid-element",0),2&rf&&core.Q6J("showLabel",ctx.showLabel)("object",core.WLB(4,journal_grid_element_component_c1,ctx.object,core.DdM(3,journal_grid_element_component_c0)))("linkType",ctx.linkType)},"JournalGridElementComponent_Template"),directives:[JournalSearchResultGridElementComponent],styles:[""]}),JournalGridElementComponent=(0,tslib_es6.gn)([(0,listable_object_decorator.d$)("Journal",view_mode_model.w.GridElement)],JournalGridElementComponent);var context_model=__webpack_require__(84935),sidebar_search_list_element_component=__webpack_require__(39283),empty_util=__webpack_require__(24702);function JournalVolumeSidebarSearchListElementComponent_ds_truncatable_part_7_Template(rf,ctx){if(1&rf&&(core.TgZ(0,"ds-truncatable-part",0),core._UZ(1,"div",4),core.qZA()),2&rf){const ctx_r0=core.oxw();core.Q6J("maxLines",1)("background",ctx_r0.isCurrent()?"primary":"default")("showToggle",!1),core.xp6(1),core.Q6J("ngClass",ctx_r0.isCurrent()?"text-light":"text-secondary")("innerHTML",ctx_r0.description,core.oJD)}}__name(JournalVolumeSidebarSearchListElementComponent_ds_truncatable_part_7_Template,"JournalVolumeSidebarSearchListElementComponent_ds_truncatable_part_7_Template");let JournalVolumeSidebarSearchListElementComponent=__name(class extends sidebar_search_list_element_component.l{getDescription(){const titles=this.allMetadataValues(["journal.title"]),numbers=this.allMetadataValues(["publicationvolume.volumeNumber"]);let description="";return(0,empty_util.UE)(titles)&&(description+=titles.join(", ")),(0,empty_util.UE)(numbers)&&((0,empty_util.UE)(description)&&(description+=" "),description+=numbers.map(n=>`(${n})`).join(" ")),this.undefinedIfEmpty(description)}},"JournalVolumeSidebarSearchListElementComponent");function JournalIssueSidebarSearchListElementComponent_ds_truncatable_part_7_Template(rf,ctx){if(1&rf&&(core.TgZ(0,"ds-truncatable-part",0),core._UZ(1,"div",4),core.qZA()),2&rf){const ctx_r0=core.oxw();core.Q6J("maxLines",1)("background",ctx_r0.isCurrent()?"primary":"default")("showToggle",!1),core.xp6(1),core.Q6J("ngClass",ctx_r0.isCurrent()?"text-light":"text-secondary")("innerHTML",ctx_r0.description,core.oJD)}}JournalVolumeSidebarSearchListElementComponent.\u0275fac=function(){let \u0275JournalVolumeSidebarSearchListElementComponent_BaseFactory;return __name(function(t){return(\u0275JournalVolumeSidebarSearchListElementComponent_BaseFactory||(\u0275JournalVolumeSidebarSearchListElementComponent_BaseFactory=core.n5z(JournalVolumeSidebarSearchListElementComponent)))(t||JournalVolumeSidebarSearchListElementComponent)},"JournalVolumeSidebarSearchListElementComponent_Factory")}(),JournalVolumeSidebarSearchListElementComponent.\u0275cmp=core.Xpm({type:JournalVolumeSidebarSearchListElementComponent,selectors:[["ds-journal-volume-sidebar-search-list-element"]],features:[core.qOj],decls:8,vars:17,consts:[[3,"maxLines","background","showToggle"],[3,"ngClass","innerHTML"],[1,"font-weight-bold",3,"ngClass","innerHTML"],[3,"maxLines","background","showToggle",4,"ngIf"],[1,"text-secondary",3,"ngClass","innerHTML"]],template:__name(function(rf,ctx){1&rf&&(core.TgZ(0,"ds-truncatable-part",0),core._UZ(1,"div",1),core.ALo(2,"async"),core.ALo(3,"async"),core.ALo(4,"translate"),core.qZA(),core.TgZ(5,"ds-truncatable-part",0),core._UZ(6,"div",2),core.qZA(),core.YNc(7,JournalVolumeSidebarSearchListElementComponent_ds_truncatable_part_7_Template,2,5,"ds-truncatable-part",3)),2&rf&&(core.Q6J("maxLines",1)("background",ctx.isCurrent()?"primary":"default")("showToggle",!1),core.xp6(1),core.Q6J("ngClass",ctx.isCurrent()?"text-light":"text-body")("innerHTML",core.lcZ(2,11,ctx.parentTitle$&&ctx.parentTitle$)?core.lcZ(3,13,ctx.parentTitle$):core.lcZ(4,15,"home.breadcrumbs"),core.oJD),core.xp6(4),core.Q6J("maxLines",1)("background",ctx.isCurrent()?"primary":"default")("showToggle",!1),core.xp6(1),core.Q6J("ngClass",ctx.isCurrent()?"text-light":"text-primary")("innerHTML",ctx.dsoTitle,core.oJD),core.xp6(1),core.Q6J("ngIf",ctx.description))},"JournalVolumeSidebarSearchListElementComponent_Template"),directives:[truncatable_part_component.L,common.mk,common.O5],pipes:[common.Ov,ngx_translate_core.X$],encapsulation:2}),JournalVolumeSidebarSearchListElementComponent=(0,tslib_es6.gn)([(0,listable_object_decorator.d$)("JournalVolumeSearchResult",view_mode_model.w.ListElement,context_model._.SideBarSearchModal),(0,listable_object_decorator.d$)("JournalVolumeSearchResult",view_mode_model.w.ListElement,context_model._.SideBarSearchModalCurrent)],JournalVolumeSidebarSearchListElementComponent),__name(JournalIssueSidebarSearchListElementComponent_ds_truncatable_part_7_Template,"JournalIssueSidebarSearchListElementComponent_ds_truncatable_part_7_Template");let JournalIssueSidebarSearchListElementComponent=__name(class extends sidebar_search_list_element_component.l{getDescription(){const volumeNumbers=this.allMetadataValues(["publicationvolume.volumeNumber"]),issueNumbers=this.allMetadataValues(["publicationissue.issueNumber"]);let description="";return(0,empty_util.UE)(volumeNumbers)&&(description+=volumeNumbers.join(", ")),(0,empty_util.UE)(description)&&(0,empty_util.UE)(issueNumbers)&&(description+=" - "),(0,empty_util.UE)(issueNumbers)&&(description+=issueNumbers.join(", ")),this.undefinedIfEmpty(description)}},"JournalIssueSidebarSearchListElementComponent");function JournalSidebarSearchListElementComponent_ds_truncatable_part_7_Template(rf,ctx){if(1&rf&&(core.TgZ(0,"ds-truncatable-part",0),core._UZ(1,"div",4),core.qZA()),2&rf){const ctx_r0=core.oxw();core.Q6J("maxLines",1)("background",ctx_r0.isCurrent()?"primary":"default")("showToggle",!1),core.xp6(1),core.Q6J("ngClass",ctx_r0.isCurrent()?"text-light":"text-secondary")("innerHTML",ctx_r0.description,core.oJD)}}JournalIssueSidebarSearchListElementComponent.\u0275fac=function(){let \u0275JournalIssueSidebarSearchListElementComponent_BaseFactory;return __name(function(t){return(\u0275JournalIssueSidebarSearchListElementComponent_BaseFactory||(\u0275JournalIssueSidebarSearchListElementComponent_BaseFactory=core.n5z(JournalIssueSidebarSearchListElementComponent)))(t||JournalIssueSidebarSearchListElementComponent)},"JournalIssueSidebarSearchListElementComponent_Factory")}(),JournalIssueSidebarSearchListElementComponent.\u0275cmp=core.Xpm({type:JournalIssueSidebarSearchListElementComponent,selectors:[["ds-journal-issue-sidebar-search-list-element"]],features:[core.qOj],decls:8,vars:17,consts:[[3,"maxLines","background","showToggle"],[3,"ngClass","innerHTML"],[1,"font-weight-bold",3,"ngClass","innerHTML"],[3,"maxLines","background","showToggle",4,"ngIf"],[1,"text-secondary",3,"ngClass","innerHTML"]],template:__name(function(rf,ctx){1&rf&&(core.TgZ(0,"ds-truncatable-part",0),core._UZ(1,"div",1),core.ALo(2,"async"),core.ALo(3,"async"),core.ALo(4,"translate"),core.qZA(),core.TgZ(5,"ds-truncatable-part",0),core._UZ(6,"div",2),core.qZA(),core.YNc(7,JournalIssueSidebarSearchListElementComponent_ds_truncatable_part_7_Template,2,5,"ds-truncatable-part",3)),2&rf&&(core.Q6J("maxLines",1)("background",ctx.isCurrent()?"primary":"default")("showToggle",!1),core.xp6(1),core.Q6J("ngClass",ctx.isCurrent()?"text-light":"text-body")("innerHTML",core.lcZ(2,11,ctx.parentTitle$&&ctx.parentTitle$)?core.lcZ(3,13,ctx.parentTitle$):core.lcZ(4,15,"home.breadcrumbs"),core.oJD),core.xp6(4),core.Q6J("maxLines",1)("background",ctx.isCurrent()?"primary":"default")("showToggle",!1),core.xp6(1),core.Q6J("ngClass",ctx.isCurrent()?"text-light":"text-primary")("innerHTML",ctx.dsoTitle,core.oJD),core.xp6(1),core.Q6J("ngIf",ctx.description))},"JournalIssueSidebarSearchListElementComponent_Template"),directives:[truncatable_part_component.L,common.mk,common.O5],pipes:[common.Ov,ngx_translate_core.X$],encapsulation:2}),JournalIssueSidebarSearchListElementComponent=(0,tslib_es6.gn)([(0,listable_object_decorator.d$)("JournalIssueSearchResult",view_mode_model.w.ListElement,context_model._.SideBarSearchModal),(0,listable_object_decorator.d$)("JournalIssueSearchResult",view_mode_model.w.ListElement,context_model._.SideBarSearchModalCurrent)],JournalIssueSidebarSearchListElementComponent),__name(JournalSidebarSearchListElementComponent_ds_truncatable_part_7_Template,"JournalSidebarSearchListElementComponent_ds_truncatable_part_7_Template");let JournalSidebarSearchListElementComponent=__name(class extends sidebar_search_list_element_component.l{getDescription(){const issns=this.allMetadataValues(["creativeworkseries.issn"]);let description="";return(0,empty_util.UE)(issns)&&(description+=issns.join(", ")),this.undefinedIfEmpty(description)}},"JournalSidebarSearchListElementComponent");JournalSidebarSearchListElementComponent.\u0275fac=function(){let \u0275JournalSidebarSearchListElementComponent_BaseFactory;return __name(function(t){return(\u0275JournalSidebarSearchListElementComponent_BaseFactory||(\u0275JournalSidebarSearchListElementComponent_BaseFactory=core.n5z(JournalSidebarSearchListElementComponent)))(t||JournalSidebarSearchListElementComponent)},"JournalSidebarSearchListElementComponent_Factory")}(),JournalSidebarSearchListElementComponent.\u0275cmp=core.Xpm({type:JournalSidebarSearchListElementComponent,selectors:[["ds-journal-sidebar-search-list-element"]],features:[core.qOj],decls:8,vars:17,consts:[[3,"maxLines","background","showToggle"],[3,"ngClass","innerHTML"],[1,"font-weight-bold",3,"ngClass","innerHTML"],[3,"maxLines","background","showToggle",4,"ngIf"],[1,"text-secondary",3,"ngClass","innerHTML"]],template:__name(function(rf,ctx){1&rf&&(core.TgZ(0,"ds-truncatable-part",0),core._UZ(1,"div",1),core.ALo(2,"async"),core.ALo(3,"async"),core.ALo(4,"translate"),core.qZA(),core.TgZ(5,"ds-truncatable-part",0),core._UZ(6,"div",2),core.qZA(),core.YNc(7,JournalSidebarSearchListElementComponent_ds_truncatable_part_7_Template,2,5,"ds-truncatable-part",3)),2&rf&&(core.Q6J("maxLines",1)("background",ctx.isCurrent()?"primary":"default")("showToggle",!1),core.xp6(1),core.Q6J("ngClass",ctx.isCurrent()?"text-light":"text-body")("innerHTML",core.lcZ(2,11,ctx.parentTitle$&&ctx.parentTitle$)?core.lcZ(3,13,ctx.parentTitle$):core.lcZ(4,15,"home.breadcrumbs"),core.oJD),core.xp6(4),core.Q6J("maxLines",1)("background",ctx.isCurrent()?"primary":"default")("showToggle",!1),core.xp6(1),core.Q6J("ngClass",ctx.isCurrent()?"text-light":"text-primary")("innerHTML",ctx.dsoTitle,core.oJD),core.xp6(1),core.Q6J("ngIf",ctx.description))},"JournalSidebarSearchListElementComponent_Template"),directives:[truncatable_part_component.L,common.mk,common.O5],pipes:[common.Ov,ngx_translate_core.X$],encapsulation:2}),JournalSidebarSearchListElementComponent=(0,tslib_es6.gn)([(0,listable_object_decorator.d$)("JournalSearchResult",view_mode_model.w.ListElement,context_model._.SideBarSearchModal),(0,listable_object_decorator.d$)("JournalSearchResult",view_mode_model.w.ListElement,context_model._.SideBarSearchModalCurrent)],JournalSidebarSearchListElementComponent);var item_shared_module=__webpack_require__(43302);const ENTRY_COMPONENTS=[JournalComponent,JournalIssueComponent,JournalVolumeComponent,JournalListElementComponent,JournalIssueListElementComponent,JournalVolumeListElementComponent,JournalIssueGridElementComponent,JournalVolumeGridElementComponent,JournalGridElementComponent,JournalSearchResultListElementComponent,JournalIssueSearchResultListElementComponent,JournalVolumeSearchResultListElementComponent,JournalIssueSearchResultGridElementComponent,JournalVolumeSearchResultGridElementComponent,JournalSearchResultGridElementComponent,JournalVolumeSidebarSearchListElementComponent,JournalIssueSidebarSearchListElementComponent,JournalSidebarSearchListElementComponent];class JournalEntitiesModule{static withEntryComponents(){return{ngModule:JournalEntitiesModule,providers:ENTRY_COMPONENTS.map(component=>({provide:component}))}}}__name(JournalEntitiesModule,"JournalEntitiesModule"),JournalEntitiesModule.\u0275fac=__name(function(t){return new(t||JournalEntitiesModule)},"JournalEntitiesModule_Factory"),JournalEntitiesModule.\u0275mod=core.oAB({type:JournalEntitiesModule}),JournalEntitiesModule.\u0275inj=core.cJS({imports:[[common.ez,item_shared_module.e,shared_module.m]]})},84376:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{a:()=>ResearchEntitiesModule});var common=__webpack_require__(69808),ng_bootstrap=__webpack_require__(13707),shared_module=__webpack_require__(57981),tslib_es6=__webpack_require__(70655),view_mode_model=__webpack_require__(51121),listable_object_decorator=__webpack_require__(62921),versioned_item_component=__webpack_require__(46659),core=__webpack_require__(5e3),item_page_title_field_component=__webpack_require__(34261),dso_page_version_button_component=__webpack_require__(56808),dso_page_edit_button_component=__webpack_require__(42257),metadata_field_wrapper_component=__webpack_require__(37796),thumbnail_component=__webpack_require__(4775),generic_item_page_field_component=__webpack_require__(98055),related_items_component=__webpack_require__(82542),router=__webpack_require__(74202),tabbed_related_entities_search_component=__webpack_require__(67797),ngx_translate_core=__webpack_require__(42466);const _c0=__name(function(){return["organization.foundingDate"]},"_c0"),_c1=__name(function(){return["organization.address.addressLocality"]},"_c1"),_c2=__name(function(){return["organization.adress.addressCountry"]},"_c2"),_c3=__name(function(){return["dc.identifier"]},"_c3"),_c4=__name(function(){return["dc.description"]},"_c4"),_c5=__name(function(a0){return[a0]},"_c5"),_c6=__name(function(){return{label:"isOrgUnitOfPerson",filter:"isOrgUnitOfPerson",configuration:"person-relationships"}},"_c6"),_c7=__name(function(){return{label:"isOrgUnitOfProject",filter:"isOrgUnitOfProject",configuration:"project-relationships"}},"_c7"),_c8=__name(function(a0,a1){return[a0,a1]},"_c8");let OrgUnitComponent=__name(class extends versioned_item_component.d{},"OrgUnitComponent");OrgUnitComponent.\u0275fac=function(){let \u0275OrgUnitComponent_BaseFactory;return __name(function(t){return(\u0275OrgUnitComponent_BaseFactory||(\u0275OrgUnitComponent_BaseFactory=core.n5z(OrgUnitComponent)))(t||OrgUnitComponent)},"OrgUnitComponent_Factory")}(),OrgUnitComponent.\u0275cmp=core.Xpm({type:OrgUnitComponent,selectors:[["ds-org-unit"]],features:[core.qOj],decls:24,vars:52,consts:[[1,"d-flex","flex-row"],[1,"mr-auto",3,"item"],[1,"pl-2","space-children-mr"],[3,"dso","tooltipMsgCreate","tooltipMsgHasDraft","newVersionEvent"],[3,"pageRoute","dso","tooltipMsg"],[1,"row"],[1,"col-xs-12","col-md-4"],[3,"hideIfNoTextContent"],[3,"thumbnail","defaultImage","alt","placeholder"],[3,"item","fields","label"],[1,"col-xs-12","col-md-7"],[3,"parentItem","relationType","label"],[1,"btn","btn-outline-primary",3,"routerLink"],[1,"mt-5","w-100"],[3,"item","relationTypes"]],template:__name(function(rf,ctx){1&rf&&(core.TgZ(0,"div",0),core._UZ(1,"ds-item-page-title-field",1),core.TgZ(2,"div",2)(3,"ds-dso-page-version-button",3),core.NdJ("newVersionEvent",__name(function(){return ctx.onCreateNewVersion()},"OrgUnitComponent_Template_ds_dso_page_version_button_newVersionEvent_3_listener")),core.qZA(),core._UZ(4,"ds-dso-page-edit-button",4),core.qZA()(),core.TgZ(5,"div",5)(6,"div",6)(7,"ds-metadata-field-wrapper",7),core._UZ(8,"ds-thumbnail",8),core.ALo(9,"async"),core.qZA(),core._UZ(10,"ds-generic-item-page-field",9)(11,"ds-generic-item-page-field",9)(12,"ds-generic-item-page-field",9)(13,"ds-generic-item-page-field",9),core.qZA(),core.TgZ(14,"div",10),core._UZ(15,"ds-related-items",11),core.ALo(16,"translate"),core._UZ(17,"ds-generic-item-page-field",9),core.TgZ(18,"div")(19,"a",12),core._uU(20),core.ALo(21,"translate"),core.qZA()()(),core.TgZ(22,"div",13),core._UZ(23,"ds-tabbed-related-entities-search",14),core.qZA()()),2&rf&&(core.xp6(1),core.Q6J("item",ctx.object),core.xp6(2),core.Q6J("dso",ctx.object)("tooltipMsgCreate","item.page.version.create")("tooltipMsgHasDraft","item.page.version.hasDraft"),core.xp6(1),core.Q6J("pageRoute",ctx.itemPageRoute)("dso",ctx.object)("tooltipMsg","orgunit.page.edit"),core.xp6(3),core.Q6J("hideIfNoTextContent",!1),core.xp6(1),core.Q6J("thumbnail",core.lcZ(9,34,null==ctx.object?null:ctx.object.thumbnail))("defaultImage","assets/images/orgunit-placeholder.svg")("alt","thumbnail.orgunit.alt")("placeholder","thumbnail.orgunit.placeholder"),core.xp6(2),core.Q6J("item",ctx.object)("fields",core.DdM(40,_c0))("label","orgunit.page.dateestablished"),core.xp6(1),core.Q6J("item",ctx.object)("fields",core.DdM(41,_c1))("label","orgunit.page.city"),core.xp6(1),core.Q6J("item",ctx.object)("fields",core.DdM(42,_c2))("label","orgunit.page.country"),core.xp6(1),core.Q6J("item",ctx.object)("fields",core.DdM(43,_c3))("label","orgunit.page.id"),core.xp6(2),core.Q6J("parentItem",ctx.object)("relationType","isPublicationOfOrgUnit")("label",core.lcZ(16,36,"relationships.isPublicationOf")),core.xp6(2),core.Q6J("item",ctx.object)("fields",core.DdM(44,_c4))("label","orgunit.page.description"),core.xp6(2),core.Q6J("routerLink",core.VKq(45,_c5,ctx.itemPageRoute+"/full")),core.xp6(1),core.hij(" ",core.lcZ(21,38,"item.page.link.full")," "),core.xp6(3),core.Q6J("item",ctx.object)("relationTypes",core.WLB(49,_c8,core.DdM(47,_c6),core.DdM(48,_c7))))},"OrgUnitComponent_Template"),directives:[item_page_title_field_component.k,dso_page_version_button_component._,dso_page_edit_button_component._,metadata_field_wrapper_component.n,thumbnail_component.Z,generic_item_page_field_component.w,related_items_component.e,router.yS,tabbed_related_entities_search_component.i],pipes:[common.Ov,ngx_translate_core.X$],styles:[""]}),OrgUnitComponent=(0,tslib_es6.gn)([(0,listable_object_decorator.d$)("OrgUnit",view_mode_model.w.StandalonePage)],OrgUnitComponent);var dso_page_orcid_button_component=__webpack_require__(31051),person_page_claim_button_component=__webpack_require__(70005);const person_component_c0=__name(function(){return["person.email"]},"person_component_c0"),person_component_c1=__name(function(){return["person.birthDate"]},"person_component_c1"),person_component_c2=__name(function(){return["person.jobTitle"]},"person_component_c2"),person_component_c3=__name(function(){return["person.familyName"]},"person_component_c3"),person_component_c4=__name(function(){return["person.givenName"]},"person_component_c4"),person_component_c5=__name(function(){return["dc.title"]},"person_component_c5"),person_component_c6=__name(function(a0){return[a0]},"person_component_c6"),person_component_c7=__name(function(){return{label:"isAuthorOfPublication",filter:"isAuthorOfPublication",configuration:"default-relationships"}},"person_component_c7");let PersonComponent=__name(class extends versioned_item_component.d{},"PersonComponent");PersonComponent.\u0275fac=function(){let \u0275PersonComponent_BaseFactory;return __name(function(t){return(\u0275PersonComponent_BaseFactory||(\u0275PersonComponent_BaseFactory=core.n5z(PersonComponent)))(t||PersonComponent)},"PersonComponent_Factory")}(),PersonComponent.\u0275cmp=core.Xpm({type:PersonComponent,selectors:[["ds-person"]],features:[core.qOj],decls:29,vars:62,consts:[[1,"d-flex","flex-row"],[1,"mr-auto",3,"item"],[1,"pl-2","space-children-mr"],[1,"mr-2",3,"pageRoute","dso"],[3,"dso","tooltipMsgCreate","tooltipMsgHasDraft","newVersionEvent"],[3,"pageRoute","dso","tooltipMsg"],[3,"object"],[1,"row"],[1,"col-xs-12","col-md-4"],[3,"hideIfNoTextContent"],[3,"thumbnail","defaultImage","alt","placeholder"],[3,"item","fields","label"],[1,"col-xs-12","col-md-7"],[3,"parentItem","relationType","label"],[1,"btn","btn-outline-primary",3,"routerLink"],[1,"mt-5","w-100"],[3,"item","relationTypes"]],template:__name(function(rf,ctx){1&rf&&(core.TgZ(0,"div",0),core._UZ(1,"ds-item-page-title-field",1),core.TgZ(2,"div",2),core._UZ(3,"ds-dso-page-orcid-button",3),core.TgZ(4,"ds-dso-page-version-button",4),core.NdJ("newVersionEvent",__name(function(){return ctx.onCreateNewVersion()},"PersonComponent_Template_ds_dso_page_version_button_newVersionEvent_4_listener")),core.qZA(),core._UZ(5,"ds-dso-page-edit-button",5)(6,"ds-person-page-claim-button",6),core.qZA()(),core.TgZ(7,"div",7)(8,"div",8)(9,"ds-metadata-field-wrapper",9),core._UZ(10,"ds-thumbnail",10),core.ALo(11,"async"),core.qZA(),core._UZ(12,"ds-generic-item-page-field",11)(13,"ds-generic-item-page-field",11),core.qZA(),core.TgZ(14,"div",12),core._UZ(15,"ds-related-items",13),core.ALo(16,"translate"),core._UZ(17,"ds-related-items",13),core.ALo(18,"translate"),core._UZ(19,"ds-generic-item-page-field",11)(20,"ds-generic-item-page-field",11)(21,"ds-generic-item-page-field",11)(22,"ds-generic-item-page-field",11),core.TgZ(23,"div")(24,"a",14),core._uU(25),core.ALo(26,"translate"),core.qZA()()(),core.TgZ(27,"div",15),core._UZ(28,"ds-tabbed-related-entities-search",16),core.qZA()()),2&rf&&(core.xp6(1),core.Q6J("item",ctx.object),core.xp6(2),core.Q6J("pageRoute",ctx.itemPageRoute)("dso",ctx.object),core.xp6(1),core.Q6J("dso",ctx.object)("tooltipMsgCreate","item.page.version.create")("tooltipMsgHasDraft","item.page.version.hasDraft"),core.xp6(1),core.Q6J("pageRoute",ctx.itemPageRoute)("dso",ctx.object)("tooltipMsg","person.page.edit"),core.xp6(1),core.Q6J("object",ctx.object),core.xp6(3),core.Q6J("hideIfNoTextContent",!1),core.xp6(1),core.Q6J("thumbnail",core.lcZ(11,43,null==ctx.object?null:ctx.object.thumbnail))("defaultImage","assets/images/person-placeholder.svg")("alt","thumbnail.person.alt")("placeholder","thumbnail.person.placeholder"),core.xp6(2),core.Q6J("item",ctx.object)("fields",core.DdM(51,person_component_c0))("label","person.page.email"),core.xp6(1),core.Q6J("item",ctx.object)("fields",core.DdM(52,person_component_c1))("label","person.page.birthdate"),core.xp6(2),core.Q6J("parentItem",ctx.object)("relationType","isProjectOfPerson")("label",core.lcZ(16,45,"relationships.isProjectOf")),core.xp6(2),core.Q6J("parentItem",ctx.object)("relationType","isOrgUnitOfPerson")("label",core.lcZ(18,47,"relationships.isOrgUnitOf")),core.xp6(2),core.Q6J("item",ctx.object)("fields",core.DdM(53,person_component_c2))("label","person.page.jobtitle"),core.xp6(1),core.Q6J("item",ctx.object)("fields",core.DdM(54,person_component_c3))("label","person.page.lastname"),core.xp6(1),core.Q6J("item",ctx.object)("fields",core.DdM(55,person_component_c4))("label","person.page.firstname"),core.xp6(1),core.Q6J("item",ctx.object)("fields",core.DdM(56,person_component_c5))("label","person.page.name"),core.xp6(2),core.Q6J("routerLink",core.VKq(57,person_component_c6,ctx.itemPageRoute+"/full")),core.xp6(1),core.hij(" ",core.lcZ(26,49,"item.page.link.full")," "),core.xp6(3),core.Q6J("item",ctx.object)("relationTypes",core.VKq(60,person_component_c6,core.DdM(59,person_component_c7))))},"PersonComponent_Template"),directives:[item_page_title_field_component.k,dso_page_orcid_button_component.i,dso_page_version_button_component._,dso_page_edit_button_component._,person_page_claim_button_component.f,metadata_field_wrapper_component.n,thumbnail_component.Z,generic_item_page_field_component.w,related_items_component.e,router.yS,tabbed_related_entities_search_component.i],pipes:[common.Ov,ngx_translate_core.X$],styles:[""]}),PersonComponent=(0,tslib_es6.gn)([(0,listable_object_decorator.d$)("Person",view_mode_model.w.StandalonePage)],PersonComponent);var metadata_representation_list_component=__webpack_require__(14077);const project_component_c0=__name(function(){return["project.contributor.other"]},"project_component_c0"),project_component_c1=__name(function(){return["project.identifier.funder"]},"project_component_c1"),project_component_c2=__name(function(){return["dc.identifier"]},"project_component_c2"),project_component_c3=__name(function(){return["dc.description"]},"project_component_c3"),project_component_c4=__name(function(){return["dc.subject"]},"project_component_c4"),project_component_c5=__name(function(a0){return[a0]},"project_component_c5");let ProjectComponent=__name(class extends versioned_item_component.d{},"ProjectComponent");ProjectComponent.\u0275fac=function(){let \u0275ProjectComponent_BaseFactory;return __name(function(t){return(\u0275ProjectComponent_BaseFactory||(\u0275ProjectComponent_BaseFactory=core.n5z(ProjectComponent)))(t||ProjectComponent)},"ProjectComponent_Factory")}(),ProjectComponent.\u0275cmp=core.Xpm({type:ProjectComponent,selectors:[["ds-project"]],features:[core.qOj],decls:27,vars:58,consts:[[1,"d-flex","flex-row"],[1,"mr-auto",3,"item"],[1,"pl-2","space-children-mr"],[3,"dso","tooltipMsgCreate","tooltipMsgHasDraft","newVersionEvent"],[3,"pageRoute","dso","tooltipMsg"],[1,"row"],[1,"col-xs-12","col-md-4"],[3,"hideIfNoTextContent"],[3,"thumbnail","defaultImage","alt","placeholder"],[3,"parentItem","itemType","metadataFields","label"],[3,"item","fields","label"],[1,"col-xs-12","col-md-7"],[3,"parentItem","relationType","label"],[1,"btn","btn-outline-primary",3,"routerLink"]],template:__name(function(rf,ctx){1&rf&&(core.TgZ(0,"div",0),core._UZ(1,"ds-item-page-title-field",1),core.TgZ(2,"div",2)(3,"ds-dso-page-version-button",3),core.NdJ("newVersionEvent",__name(function(){return ctx.onCreateNewVersion()},"ProjectComponent_Template_ds_dso_page_version_button_newVersionEvent_3_listener")),core.qZA(),core._UZ(4,"ds-dso-page-edit-button",4),core.qZA()(),core.TgZ(5,"div",5)(6,"div",6)(7,"ds-metadata-field-wrapper",7),core._UZ(8,"ds-thumbnail",8),core.ALo(9,"async"),core.qZA(),core._UZ(10,"ds-metadata-representation-list",9),core.ALo(11,"translate"),core._UZ(12,"ds-generic-item-page-field",10)(13,"ds-generic-item-page-field",10),core.qZA(),core.TgZ(14,"div",11),core._UZ(15,"ds-related-items",12),core.ALo(16,"translate"),core._UZ(17,"ds-related-items",12),core.ALo(18,"translate"),core._UZ(19,"ds-related-items",12),core.ALo(20,"translate"),core._UZ(21,"ds-generic-item-page-field",10)(22,"ds-generic-item-page-field",10),core.TgZ(23,"div")(24,"a",13),core._uU(25),core.ALo(26,"translate"),core.qZA()()()()),2&rf&&(core.xp6(1),core.Q6J("item",ctx.object),core.xp6(2),core.Q6J("dso",ctx.object)("tooltipMsgCreate","item.page.version.create")("tooltipMsgHasDraft","item.page.version.hasDraft"),core.xp6(1),core.Q6J("pageRoute",ctx.itemPageRoute)("dso",ctx.object)("tooltipMsg","project.page.edit"),core.xp6(3),core.Q6J("hideIfNoTextContent",!1),core.xp6(1),core.Q6J("thumbnail",core.lcZ(9,39,null==ctx.object?null:ctx.object.thumbnail))("defaultImage","assets/images/project-placeholder.svg")("alt","thumbnail.project.alt")("placeholder","thumbnail.project.placeholder"),core.xp6(2),core.Q6J("parentItem",ctx.object)("itemType","OrgUnit")("metadataFields",core.DdM(51,project_component_c0))("label",core.lcZ(11,41,"project.page.contributor")),core.xp6(2),core.Q6J("item",ctx.object)("fields",core.DdM(52,project_component_c1))("label","project.page.funder"),core.xp6(1),core.Q6J("item",ctx.object)("fields",core.DdM(53,project_component_c2))("label","project.page.id"),core.xp6(2),core.Q6J("parentItem",ctx.object)("relationType","isPersonOfProject")("label",core.lcZ(16,43,"relationships.isPersonOf")),core.xp6(2),core.Q6J("parentItem",ctx.object)("relationType","isPublicationOfProject")("label",core.lcZ(18,45,"relationships.isPublicationOf")),core.xp6(2),core.Q6J("parentItem",ctx.object)("relationType","isOrgUnitOfProject")("label",core.lcZ(20,47,"relationships.isOrgUnitOf")),core.xp6(2),core.Q6J("item",ctx.object)("fields",core.DdM(54,project_component_c3))("label","project.page.description"),core.xp6(1),core.Q6J("item",ctx.object)("fields",core.DdM(55,project_component_c4))("label","project.page.keyword"),core.xp6(2),core.Q6J("routerLink",core.VKq(56,project_component_c5,ctx.itemPageRoute+"/full")),core.xp6(1),core.hij(" ",core.lcZ(26,49,"item.page.link.full")," "))},"ProjectComponent_Template"),directives:[item_page_title_field_component.k,dso_page_version_button_component._,dso_page_edit_button_component._,metadata_field_wrapper_component.n,thumbnail_component.Z,metadata_representation_list_component.Q,generic_item_page_field_component.w,related_items_component.e,router.yS],pipes:[common.Ov,ngx_translate_core.X$],styles:[""]}),ProjectComponent=(0,tslib_es6.gn)([(0,listable_object_decorator.d$)("Project",view_mode_model.w.StandalonePage)],ProjectComponent);var abstract_listable_element_component=__webpack_require__(88829),item_search_result_list_element_component=__webpack_require__(30892),type_badge_component=__webpack_require__(64617),truncatable_component=__webpack_require__(57416),truncatable_part_component=__webpack_require__(84630);const org_unit_search_result_list_element_component_c0=__name(function(a0){return[a0]},"org_unit_search_result_list_element_component_c0");function OrgUnitSearchResultListElementComponent_div_1_a_1_Template(rf,ctx){if(1&rf&&(core.TgZ(0,"a",12),core._UZ(1,"ds-thumbnail",13),core.ALo(2,"async"),core.qZA()),2&rf){const ctx_r5=core.oxw(2);core.Q6J("target",ctx_r5.linkType==ctx_r5.linkTypes.ExternalLink?"_blank":"_self")("routerLink",core.VKq(8,org_unit_search_result_list_element_component_c0,ctx_r5.itemPageRoute)),core.xp6(1),core.Q6J("thumbnail",core.lcZ(2,6,null==ctx_r5.dso?null:ctx_r5.dso.thumbnail))("defaultImage","assets/images/orgunit-placeholder.svg")("alt","thumbnail.orgunit.alt")("placeholder","thumbnail.orgunit.placeholder")}}function OrgUnitSearchResultListElementComponent_div_1_span_2_Template(rf,ctx){if(1&rf&&(core.TgZ(0,"span",14),core._UZ(1,"ds-thumbnail",13),core.ALo(2,"async"),core.qZA()),2&rf){const ctx_r6=core.oxw(2);core.xp6(1),core.Q6J("thumbnail",core.lcZ(2,4,null==ctx_r6.dso?null:ctx_r6.dso.thumbnail))("defaultImage","assets/images/orgunit-placeholder.svg")("alt","thumbnail.orgunit.alt")("placeholder","thumbnail.orgunit.placeholder")}}function OrgUnitSearchResultListElementComponent_div_1_Template(rf,ctx){if(1&rf&&(core.TgZ(0,"div",9),core.YNc(1,OrgUnitSearchResultListElementComponent_div_1_a_1_Template,3,10,"a",10),core.YNc(2,OrgUnitSearchResultListElementComponent_div_1_span_2_Template,3,6,"span",11),core.qZA()),2&rf){const ctx_r0=core.oxw();core.xp6(1),core.Q6J("ngIf",ctx_r0.linkType!=ctx_r0.linkTypes.None),core.xp6(1),core.Q6J("ngIf",ctx_r0.linkType==ctx_r0.linkTypes.None)}}function OrgUnitSearchResultListElementComponent_ds_type_badge_3_Template(rf,ctx){if(1&rf&&core._UZ(0,"ds-type-badge",15),2&rf){const ctx_r1=core.oxw();core.Q6J("object",ctx_r1.dso)}}function OrgUnitSearchResultListElementComponent_a_5_Template(rf,ctx){if(1&rf&&(core._UZ(0,"a",16),core.ALo(1,"translate")),2&rf){const ctx_r2=core.oxw();core.Q6J("target",ctx_r2.linkType==ctx_r2.linkTypes.ExternalLink?"_blank":"_self")("routerLink",core.VKq(5,org_unit_search_result_list_element_component_c0,ctx_r2.itemPageRoute))("innerHTML",ctx_r2.dsoTitle||core.lcZ(1,3,"orgunit.listelement.no-title"),core.oJD)}}function OrgUnitSearchResultListElementComponent_span_6_Template(rf,ctx){if(1&rf&&(core._UZ(0,"span",17),core.ALo(1,"translate")),2&rf){const ctx_r3=core.oxw();core.Q6J("innerHTML",ctx_r3.dsoTitle||core.lcZ(1,1,"orgunit.listelement.no-title"),core.oJD)}}function OrgUnitSearchResultListElementComponent_span_8_Template(rf,ctx){if(1&rf&&(core.TgZ(0,"span",18)(1,"ds-truncatable-part",19),core._UZ(2,"span",20),core.qZA()()),2&rf){const ctx_r4=core.oxw();core.xp6(1),core.Q6J("id",ctx_r4.dso.id)("minLines",3),core.xp6(1),core.Q6J("innerHTML",ctx_r4.firstMetadataValue("dc.description"),core.oJD)}}__name(OrgUnitSearchResultListElementComponent_div_1_a_1_Template,"OrgUnitSearchResultListElementComponent_div_1_a_1_Template"),__name(OrgUnitSearchResultListElementComponent_div_1_span_2_Template,"OrgUnitSearchResultListElementComponent_div_1_span_2_Template"),__name(OrgUnitSearchResultListElementComponent_div_1_Template,"OrgUnitSearchResultListElementComponent_div_1_Template"),__name(OrgUnitSearchResultListElementComponent_ds_type_badge_3_Template,"OrgUnitSearchResultListElementComponent_ds_type_badge_3_Template"),__name(OrgUnitSearchResultListElementComponent_a_5_Template,"OrgUnitSearchResultListElementComponent_a_5_Template"),__name(OrgUnitSearchResultListElementComponent_span_6_Template,"OrgUnitSearchResultListElementComponent_span_6_Template"),__name(OrgUnitSearchResultListElementComponent_span_8_Template,"OrgUnitSearchResultListElementComponent_span_8_Template");const org_unit_search_result_list_element_component_c1=__name(function(){return["dc.description"]},"org_unit_search_result_list_element_component_c1");let OrgUnitSearchResultListElementComponent=__name(class extends item_search_result_list_element_component.h{ngOnInit(){super.ngOnInit(),this.showThumbnails=this.appConfig.browseBy.showThumbnails}},"OrgUnitSearchResultListElementComponent");OrgUnitSearchResultListElementComponent.\u0275fac=function(){let \u0275OrgUnitSearchResultListElementComponent_BaseFactory;return __name(function(t){return(\u0275OrgUnitSearchResultListElementComponent_BaseFactory||(\u0275OrgUnitSearchResultListElementComponent_BaseFactory=core.n5z(OrgUnitSearchResultListElementComponent)))(t||OrgUnitSearchResultListElementComponent)},"OrgUnitSearchResultListElementComponent_Factory")}(),OrgUnitSearchResultListElementComponent.\u0275cmp=core.Xpm({type:OrgUnitSearchResultListElementComponent,selectors:[["ds-org-unit-search-result-list-element"]],features:[core.qOj],decls:9,vars:8,consts:[[1,"row"],["class","col-3 col-md-2",4,"ngIf"],[3,"ngClass"],[3,"object",4,"ngIf"],[3,"id"],["rel","noopener noreferrer","class","lead",3,"target","routerLink","innerHTML",4,"ngIf"],["class","lead",3,"innerHTML",4,"ngIf"],[1,"text-muted"],["class","item-list-org-unit-description",4,"ngIf"],[1,"col-3","col-md-2"],["rel","noopener noreferrer","class","dont-break-out",3,"target","routerLink",4,"ngIf"],["class","dont-break-out",4,"ngIf"],["rel","noopener noreferrer",1,"dont-break-out",3,"target","routerLink"],[3,"thumbnail","defaultImage","alt","placeholder"],[1,"dont-break-out"],[3,"object"],["rel","noopener noreferrer",1,"lead",3,"target","routerLink","innerHTML"],[1,"lead",3,"innerHTML"],[1,"item-list-org-unit-description"],[3,"id","minLines"],[3,"innerHTML"]],template:__name(function(rf,ctx){1&rf&&(core.TgZ(0,"div",0),core.YNc(1,OrgUnitSearchResultListElementComponent_div_1_Template,3,2,"div",1),core.TgZ(2,"div",2),core.YNc(3,OrgUnitSearchResultListElementComponent_ds_type_badge_3_Template,1,1,"ds-type-badge",3),core.TgZ(4,"ds-truncatable",4),core.YNc(5,OrgUnitSearchResultListElementComponent_a_5_Template,2,7,"a",5),core.YNc(6,OrgUnitSearchResultListElementComponent_span_6_Template,2,3,"span",6),core.TgZ(7,"span",7),core.YNc(8,OrgUnitSearchResultListElementComponent_span_8_Template,3,3,"span",8),core.qZA()()()()),2&rf&&(core.xp6(1),core.Q6J("ngIf",ctx.showThumbnails),core.xp6(1),core.Q6J("ngClass",ctx.showThumbnails?"col-9":"col-md-12"),core.xp6(1),core.Q6J("ngIf",ctx.showLabel),core.xp6(1),core.Q6J("id",ctx.dso.id),core.xp6(1),core.Q6J("ngIf",ctx.linkType!=ctx.linkTypes.None),core.xp6(1),core.Q6J("ngIf",ctx.linkType==ctx.linkTypes.None),core.xp6(2),core.Q6J("ngIf",ctx.dso.allMetadata(core.DdM(7,org_unit_search_result_list_element_component_c1)).length>0))},"OrgUnitSearchResultListElementComponent_Template"),directives:[common.O5,router.yS,thumbnail_component.Z,common.mk,type_badge_component.F,truncatable_component.n,truncatable_part_component.L],pipes:[common.Ov,ngx_translate_core.X$],styles:[""]}),OrgUnitSearchResultListElementComponent=(0,tslib_es6.gn)([(0,listable_object_decorator.d$)("OrgUnitSearchResult",view_mode_model.w.ListElement)],OrgUnitSearchResultListElementComponent);const org_unit_list_element_component_c0=__name(function(){return{}},"org_unit_list_element_component_c0"),org_unit_list_element_component_c1=__name(function(a0,a1){return{indexableObject:a0,hitHighlights:a1}},"org_unit_list_element_component_c1");let OrgUnitListElementComponent=__name(class extends abstract_listable_element_component.i{},"OrgUnitListElementComponent");OrgUnitListElementComponent.\u0275fac=function(){let \u0275OrgUnitListElementComponent_BaseFactory;return __name(function(t){return(\u0275OrgUnitListElementComponent_BaseFactory||(\u0275OrgUnitListElementComponent_BaseFactory=core.n5z(OrgUnitListElementComponent)))(t||OrgUnitListElementComponent)},"OrgUnitListElementComponent_Factory")}(),OrgUnitListElementComponent.\u0275cmp=core.Xpm({type:OrgUnitListElementComponent,selectors:[["ds-org-unit-list-element"]],features:[core.qOj],decls:1,vars:7,consts:[[3,"showLabel","object","linkType"]],template:__name(function(rf,ctx){1&rf&&core._UZ(0,"ds-org-unit-search-result-list-element",0),2&rf&&core.Q6J("showLabel",ctx.showLabel)("object",core.WLB(4,org_unit_list_element_component_c1,ctx.object,core.DdM(3,org_unit_list_element_component_c0)))("linkType",ctx.linkType)},"OrgUnitListElementComponent_Template"),directives:[OrgUnitSearchResultListElementComponent],styles:[""]}),OrgUnitListElementComponent=(0,tslib_es6.gn)([(0,listable_object_decorator.d$)("OrgUnit",view_mode_model.w.ListElement)],OrgUnitListElementComponent);var truncatable_service=__webpack_require__(29602),dso_name_service=__webpack_require__(83616),app_config_interface=__webpack_require__(63645);const person_search_result_list_element_component_c0=__name(function(a0){return[a0]},"person_search_result_list_element_component_c0");function PersonSearchResultListElementComponent_div_1_a_1_Template(rf,ctx){if(1&rf&&(core.TgZ(0,"a",13),core._UZ(1,"ds-thumbnail",14),core.ALo(2,"async"),core.qZA()),2&rf){const ctx_r5=core.oxw(2);core.Q6J("target",ctx_r5.linkType==ctx_r5.linkTypes.ExternalLink?"_blank":"_self")("routerLink",core.VKq(8,person_search_result_list_element_component_c0,ctx_r5.itemPageRoute)),core.xp6(1),core.Q6J("thumbnail",core.lcZ(2,6,null==ctx_r5.dso?null:ctx_r5.dso.thumbnail))("defaultImage","assets/images/person-placeholder.svg")("alt","thumbnail.person.alt")("placeholder","thumbnail.person.placeholder")}}function PersonSearchResultListElementComponent_div_1_span_2_Template(rf,ctx){if(1&rf&&(core.TgZ(0,"span",15),core._UZ(1,"ds-thumbnail",14),core.ALo(2,"async"),core.qZA()),2&rf){const ctx_r6=core.oxw(2);core.xp6(1),core.Q6J("thumbnail",core.lcZ(2,4,null==ctx_r6.dso?null:ctx_r6.dso.thumbnail))("defaultImage","assets/images/person-placeholder.svg")("alt","thumbnail.person.alt")("placeholder","thumbnail.person.placeholder")}}function PersonSearchResultListElementComponent_div_1_Template(rf,ctx){if(1&rf&&(core.TgZ(0,"div",10),core.YNc(1,PersonSearchResultListElementComponent_div_1_a_1_Template,3,10,"a",11),core.YNc(2,PersonSearchResultListElementComponent_div_1_span_2_Template,3,6,"span",12),core.qZA()),2&rf){const ctx_r0=core.oxw();core.xp6(1),core.Q6J("ngIf",ctx_r0.linkType!=ctx_r0.linkTypes.None),core.xp6(1),core.Q6J("ngIf",ctx_r0.linkType==ctx_r0.linkTypes.None)}}function PersonSearchResultListElementComponent_ds_type_badge_3_Template(rf,ctx){if(1&rf&&core._UZ(0,"ds-type-badge",16),2&rf){const ctx_r1=core.oxw();core.Q6J("object",ctx_r1.dso)}}function PersonSearchResultListElementComponent_a_5_Template(rf,ctx){if(1&rf&&(core._UZ(0,"a",17),core.ALo(1,"translate")),2&rf){const ctx_r2=core.oxw();core.Q6J("target",ctx_r2.linkType==ctx_r2.linkTypes.ExternalLink?"_blank":"_self")("routerLink",core.VKq(5,person_search_result_list_element_component_c0,ctx_r2.itemPageRoute))("innerHTML",ctx_r2.dsoTitle||core.lcZ(1,3,"person.listelement.no-title"),core.oJD)}}function PersonSearchResultListElementComponent_span_6_Template(rf,ctx){if(1&rf&&(core._UZ(0,"span",18),core.ALo(1,"translate")),2&rf){const ctx_r3=core.oxw();core.Q6J("innerHTML",ctx_r3.dsoTitle||core.lcZ(1,1,"person.listelement.no-title"),core.oJD)}}function PersonSearchResultListElementComponent_span_9_span_1_Template(rf,ctx){if(1&rf&&(core.TgZ(0,"span")(1,"span",21),core._UZ(2,"span",21),core.qZA()()),2&rf){const value_r8=ctx.$implicit;core.xp6(1),core.Q6J("innerHTML",value_r8,core.oJD),core.xp6(1),core.Q6J("innerHTML",value_r8,core.oJD)}}__name(PersonSearchResultListElementComponent_div_1_a_1_Template,"PersonSearchResultListElementComponent_div_1_a_1_Template"),__name(PersonSearchResultListElementComponent_div_1_span_2_Template,"PersonSearchResultListElementComponent_div_1_span_2_Template"),__name(PersonSearchResultListElementComponent_div_1_Template,"PersonSearchResultListElementComponent_div_1_Template"),__name(PersonSearchResultListElementComponent_ds_type_badge_3_Template,"PersonSearchResultListElementComponent_ds_type_badge_3_Template"),__name(PersonSearchResultListElementComponent_a_5_Template,"PersonSearchResultListElementComponent_a_5_Template"),__name(PersonSearchResultListElementComponent_span_6_Template,"PersonSearchResultListElementComponent_span_6_Template"),__name(PersonSearchResultListElementComponent_span_9_span_1_Template,"PersonSearchResultListElementComponent_span_9_span_1_Template");const person_search_result_list_element_component_c1=__name(function(){return["person.jobTitle"]},"person_search_result_list_element_component_c1");function PersonSearchResultListElementComponent_span_9_Template(rf,ctx){if(1&rf&&(core.TgZ(0,"span",19),core.YNc(1,PersonSearchResultListElementComponent_span_9_span_1_Template,3,2,"span",20),core.qZA()),2&rf){const ctx_r4=core.oxw();core.xp6(1),core.Q6J("ngForOf",ctx_r4.allMetadataValues(core.DdM(1,person_search_result_list_element_component_c1)))}}__name(PersonSearchResultListElementComponent_span_9_Template,"PersonSearchResultListElementComponent_span_9_Template");let PersonSearchResultListElementComponent=__name(class extends item_search_result_list_element_component.h{constructor(truncatableService,dsoNameService,appConfig){super(truncatableService,dsoNameService,appConfig),this.truncatableService=truncatableService,this.dsoNameService=dsoNameService,this.appConfig=appConfig}ngOnInit(){super.ngOnInit(),this.showThumbnails=this.appConfig.browseBy.showThumbnails}},"PersonSearchResultListElementComponent");PersonSearchResultListElementComponent.\u0275fac=__name(function(t){return new(t||PersonSearchResultListElementComponent)(core.Y36(truncatable_service.F),core.Y36(dso_name_service._),core.Y36(app_config_interface.q))},"PersonSearchResultListElementComponent_Factory"),PersonSearchResultListElementComponent.\u0275cmp=core.Xpm({type:PersonSearchResultListElementComponent,selectors:[["ds-person-search-result-list-element"]],features:[core.qOj],decls:10,vars:10,consts:[[1,"row"],["class","col-3 col-md-2",4,"ngIf"],[3,"ngClass"],[3,"object",4,"ngIf"],[3,"id"],["rel","noopener noreferrer","class","lead",3,"target","routerLink","innerHTML",4,"ngIf"],["class","lead",3,"innerHTML",4,"ngIf"],[1,"text-muted"],[3,"id","minLines"],["class","item-list-job-title",4,"ngIf"],[1,"col-3","col-md-2"],["rel","noopener noreferrer","class","dont-break-out",3,"target","routerLink",4,"ngIf"],["class","dont-break-out",4,"ngIf"],["rel","noopener noreferrer",1,"dont-break-out",3,"target","routerLink"],[3,"thumbnail","defaultImage","alt","placeholder"],[1,"dont-break-out"],[3,"object"],["rel","noopener noreferrer",1,"lead",3,"target","routerLink","innerHTML"],[1,"lead",3,"innerHTML"],[1,"item-list-job-title"],[4,"ngFor","ngForOf"],[3,"innerHTML"]],template:__name(function(rf,ctx){1&rf&&(core.TgZ(0,"div",0),core.YNc(1,PersonSearchResultListElementComponent_div_1_Template,3,2,"div",1),core.TgZ(2,"div",2),core.YNc(3,PersonSearchResultListElementComponent_ds_type_badge_3_Template,1,1,"ds-type-badge",3),core.TgZ(4,"ds-truncatable",4),core.YNc(5,PersonSearchResultListElementComponent_a_5_Template,2,7,"a",5),core.YNc(6,PersonSearchResultListElementComponent_span_6_Template,2,3,"span",6),core.TgZ(7,"span",7)(8,"ds-truncatable-part",8),core.YNc(9,PersonSearchResultListElementComponent_span_9_Template,2,2,"span",9),core.qZA()()()()()),2&rf&&(core.xp6(1),core.Q6J("ngIf",ctx.showThumbnails),core.xp6(1),core.Q6J("ngClass",ctx.showThumbnails?"col-9 col-md-10":"col-12"),core.xp6(1),core.Q6J("ngIf",ctx.showLabel),core.xp6(1),core.Q6J("id",ctx.dso.id),core.xp6(1),core.Q6J("ngIf",ctx.linkType!=ctx.linkTypes.None),core.xp6(1),core.Q6J("ngIf",ctx.linkType==ctx.linkTypes.None),core.xp6(2),core.Q6J("id",ctx.dso.id)("minLines",1),core.xp6(1),core.Q6J("ngIf",ctx.dso.allMetadata(core.DdM(9,person_search_result_list_element_component_c1)).length>0))},"PersonSearchResultListElementComponent_Template"),directives:[common.O5,router.yS,thumbnail_component.Z,common.mk,type_badge_component.F,truncatable_component.n,truncatable_part_component.L,common.sg],pipes:[common.Ov,ngx_translate_core.X$],styles:[""]}),PersonSearchResultListElementComponent=(0,tslib_es6.gn)([(0,listable_object_decorator.d$)("PersonSearchResult",view_mode_model.w.ListElement),(0,tslib_es6.w6)("design:paramtypes",[truncatable_service.F,dso_name_service._,Object])],PersonSearchResultListElementComponent);const person_list_element_component_c0=__name(function(){return{}},"person_list_element_component_c0"),person_list_element_component_c1=__name(function(a0,a1){return{indexableObject:a0,hitHighlights:a1}},"person_list_element_component_c1");let PersonListElementComponent=__name(class extends abstract_listable_element_component.i{},"PersonListElementComponent");PersonListElementComponent.\u0275fac=function(){let \u0275PersonListElementComponent_BaseFactory;return __name(function(t){return(\u0275PersonListElementComponent_BaseFactory||(\u0275PersonListElementComponent_BaseFactory=core.n5z(PersonListElementComponent)))(t||PersonListElementComponent)},"PersonListElementComponent_Factory")}(),PersonListElementComponent.\u0275cmp=core.Xpm({type:PersonListElementComponent,selectors:[["ds-person-list-element"]],features:[core.qOj],decls:1,vars:8,consts:[[3,"object","linkType","showLabel","value"]],template:__name(function(rf,ctx){1&rf&&core._UZ(0,"ds-person-search-result-list-element",0),2&rf&&core.Q6J("object",core.WLB(5,person_list_element_component_c1,ctx.object,core.DdM(4,person_list_element_component_c0)))("linkType",ctx.linkType)("showLabel",ctx.showLabel)("value",ctx.value)},"PersonListElementComponent_Template"),directives:[PersonSearchResultListElementComponent],styles:[""]}),PersonListElementComponent=(0,tslib_es6.gn)([(0,listable_object_decorator.d$)("Person",view_mode_model.w.ListElement)],PersonListElementComponent);const project_search_result_list_element_component_c0=__name(function(a0){return[a0]},"project_search_result_list_element_component_c0");function ProjectSearchResultListElementComponent_div_1_a_1_Template(rf,ctx){if(1&rf&&(core.TgZ(0,"a",10),core._UZ(1,"ds-thumbnail",11),core.ALo(2,"async"),core.qZA()),2&rf){const ctx_r4=core.oxw(2);core.Q6J("target",ctx_r4.linkType==ctx_r4.linkTypes.ExternalLink?"_blank":"_self")("routerLink",core.VKq(8,project_search_result_list_element_component_c0,ctx_r4.itemPageRoute)),core.xp6(1),core.Q6J("thumbnail",core.lcZ(2,6,null==ctx_r4.dso?null:ctx_r4.dso.thumbnail))("defaultImage","assets/images/project-placeholder.svg")("alt","thumbnail.project.alt")("placeholder","thumbnail.project.placeholder")}}function ProjectSearchResultListElementComponent_div_1_span_2_Template(rf,ctx){if(1&rf&&(core.TgZ(0,"span",12),core._UZ(1,"ds-thumbnail",11),core.ALo(2,"async"),core.qZA()),2&rf){const ctx_r5=core.oxw(2);core.xp6(1),core.Q6J("thumbnail",core.lcZ(2,4,null==ctx_r5.dso?null:ctx_r5.dso.thumbnail))("defaultImage","assets/images/project-placeholder.svg")("alt","thumbnail.project.alt")("placeholder","thumbnail.project.placeholder")}}function ProjectSearchResultListElementComponent_div_1_Template(rf,ctx){if(1&rf&&(core.TgZ(0,"div",7),core.YNc(1,ProjectSearchResultListElementComponent_div_1_a_1_Template,3,10,"a",8),core.YNc(2,ProjectSearchResultListElementComponent_div_1_span_2_Template,3,6,"span",9),core.qZA()),2&rf){const ctx_r0=core.oxw();core.xp6(1),core.Q6J("ngIf",ctx_r0.linkType!=ctx_r0.linkTypes.None),core.xp6(1),core.Q6J("ngIf",ctx_r0.linkType==ctx_r0.linkTypes.None)}}function ProjectSearchResultListElementComponent_ds_type_badge_4_Template(rf,ctx){if(1&rf&&core._UZ(0,"ds-type-badge",13),2&rf){const ctx_r1=core.oxw();core.Q6J("object",ctx_r1.dso)}}function ProjectSearchResultListElementComponent_a_5_Template(rf,ctx){if(1&rf&&core._UZ(0,"a",14),2&rf){const ctx_r2=core.oxw();core.Q6J("target",ctx_r2.linkType==ctx_r2.linkTypes.ExternalLink?"_blank":"_self")("routerLink",core.VKq(3,project_search_result_list_element_component_c0,ctx_r2.itemPageRoute))("innerHTML",ctx_r2.dsoTitle,core.oJD)}}function ProjectSearchResultListElementComponent_span_6_Template(rf,ctx){if(1&rf&&core._UZ(0,"span",15),2&rf){const ctx_r3=core.oxw();core.Q6J("innerHTML",ctx_r3.dsoTitle,core.oJD)}}__name(ProjectSearchResultListElementComponent_div_1_a_1_Template,"ProjectSearchResultListElementComponent_div_1_a_1_Template"),__name(ProjectSearchResultListElementComponent_div_1_span_2_Template,"ProjectSearchResultListElementComponent_div_1_span_2_Template"),__name(ProjectSearchResultListElementComponent_div_1_Template,"ProjectSearchResultListElementComponent_div_1_Template"),__name(ProjectSearchResultListElementComponent_ds_type_badge_4_Template,"ProjectSearchResultListElementComponent_ds_type_badge_4_Template"),__name(ProjectSearchResultListElementComponent_a_5_Template,"ProjectSearchResultListElementComponent_a_5_Template"),__name(ProjectSearchResultListElementComponent_span_6_Template,"ProjectSearchResultListElementComponent_span_6_Template");let ProjectSearchResultListElementComponent=__name(class extends item_search_result_list_element_component.h{ngOnInit(){super.ngOnInit(),this.showThumbnails=this.appConfig.browseBy.showThumbnails}},"ProjectSearchResultListElementComponent");ProjectSearchResultListElementComponent.\u0275fac=function(){let \u0275ProjectSearchResultListElementComponent_BaseFactory;return __name(function(t){return(\u0275ProjectSearchResultListElementComponent_BaseFactory||(\u0275ProjectSearchResultListElementComponent_BaseFactory=core.n5z(ProjectSearchResultListElementComponent)))(t||ProjectSearchResultListElementComponent)},"ProjectSearchResultListElementComponent_Factory")}(),ProjectSearchResultListElementComponent.\u0275cmp=core.Xpm({type:ProjectSearchResultListElementComponent,selectors:[["ds-project-search-result-list-element"]],features:[core.qOj],decls:7,vars:6,consts:[[1,"row"],["class","col-3 col-md-2",4,"ngIf"],[3,"ngClass"],[3,"id"],[3,"object",4,"ngIf"],["rel","noopener noreferrer","class","lead item-list-title dont-break-out",3,"target","routerLink","innerHTML",4,"ngIf"],["class","lead item-list-title dont-break-out",3,"innerHTML",4,"ngIf"],[1,"col-3","col-md-2"],["rel","noopener noreferrer","class","dont-break-out",3,"target","routerLink",4,"ngIf"],["class","dont-break-out",4,"ngIf"],["rel","noopener noreferrer",1,"dont-break-out",3,"target","routerLink"],[3,"thumbnail","defaultImage","alt","placeholder"],[1,"dont-break-out"],[3,"object"],["rel","noopener noreferrer",1,"lead","item-list-title","dont-break-out",3,"target","routerLink","innerHTML"],[1,"lead","item-list-title","dont-break-out",3,"innerHTML"]],template:__name(function(rf,ctx){1&rf&&(core.TgZ(0,"div",0),core.YNc(1,ProjectSearchResultListElementComponent_div_1_Template,3,2,"div",1),core.TgZ(2,"div",2)(3,"ds-truncatable",3),core.YNc(4,ProjectSearchResultListElementComponent_ds_type_badge_4_Template,1,1,"ds-type-badge",4),core.YNc(5,ProjectSearchResultListElementComponent_a_5_Template,1,5,"a",5),core.YNc(6,ProjectSearchResultListElementComponent_span_6_Template,1,1,"span",6),core.qZA()()()),2&rf&&(core.xp6(1),core.Q6J("ngIf",ctx.showThumbnails),core.xp6(1),core.Q6J("ngClass",ctx.showThumbnails?"col-9":"col-md-12"),core.xp6(1),core.Q6J("id",ctx.dso.id),core.xp6(1),core.Q6J("ngIf",ctx.showLabel),core.xp6(1),core.Q6J("ngIf",ctx.linkType!=ctx.linkTypes.None),core.xp6(1),core.Q6J("ngIf",ctx.linkType==ctx.linkTypes.None))},"ProjectSearchResultListElementComponent_Template"),directives:[common.O5,router.yS,thumbnail_component.Z,common.mk,truncatable_component.n,type_badge_component.F],pipes:[common.Ov],styles:[""]}),ProjectSearchResultListElementComponent=(0,tslib_es6.gn)([(0,listable_object_decorator.d$)("ProjectSearchResult",view_mode_model.w.ListElement)],ProjectSearchResultListElementComponent);const project_list_element_component_c0=__name(function(){return{}},"project_list_element_component_c0"),project_list_element_component_c1=__name(function(a0,a1){return{indexableObject:a0,hitHighlights:a1}},"project_list_element_component_c1");let ProjectListElementComponent=__name(class extends abstract_listable_element_component.i{},"ProjectListElementComponent");ProjectListElementComponent.\u0275fac=function(){let \u0275ProjectListElementComponent_BaseFactory;return __name(function(t){return(\u0275ProjectListElementComponent_BaseFactory||(\u0275ProjectListElementComponent_BaseFactory=core.n5z(ProjectListElementComponent)))(t||ProjectListElementComponent)},"ProjectListElementComponent_Factory")}(),ProjectListElementComponent.\u0275cmp=core.Xpm({type:ProjectListElementComponent,selectors:[["ds-project-list-element"]],features:[core.qOj],decls:1,vars:7,consts:[[3,"showLabel","object","linkType"]],template:__name(function(rf,ctx){1&rf&&core._UZ(0,"ds-project-search-result-list-element",0),2&rf&&core.Q6J("showLabel",ctx.showLabel)("object",core.WLB(4,project_list_element_component_c1,ctx.object,core.DdM(3,project_list_element_component_c0)))("linkType",ctx.linkType)},"ProjectListElementComponent_Template"),directives:[ProjectSearchResultListElementComponent],styles:[""]}),ProjectListElementComponent=(0,tslib_es6.gn)([(0,listable_object_decorator.d$)("Project",view_mode_model.w.ListElement)],ProjectListElementComponent);var animations_focus=__webpack_require__(10299),item_search_result_grid_element_component=__webpack_require__(94034);const person_search_result_grid_element_component_c0=__name(function(a0){return[a0]},"person_search_result_grid_element_component_c0");function PersonSearchResultGridElementComponent_a_5_Template(rf,ctx){if(1&rf&&(core.TgZ(0,"a",12),core.ALo(1,"translate"),core.TgZ(2,"div"),core._UZ(3,"ds-thumbnail",13),core.ALo(4,"async"),core.qZA()()),2&rf){const ctx_r0=core.oxw();core.Q6J("target",ctx_r0.linkType==ctx_r0.linkTypes.ExternalLink?"_blank":"_self")("routerLink",core.VKq(9,person_search_result_grid_element_component_c0,ctx_r0.itemPageRoute)),core.uIk("title",core.lcZ(1,5,"search.results.view-result")),core.xp6(3),core.Q6J("thumbnail",core.lcZ(4,7,null==ctx_r0.dso?null:ctx_r0.dso.thumbnail))("limitWidth",!1)}}function PersonSearchResultGridElementComponent_span_6_Template(rf,ctx){if(1&rf&&(core.TgZ(0,"span",14)(1,"div"),core._UZ(2,"ds-thumbnail",13),core.ALo(3,"async"),core.qZA()()),2&rf){const ctx_r1=core.oxw();core.xp6(2),core.Q6J("thumbnail",core.lcZ(3,2,null==ctx_r1.dso?null:ctx_r1.dso.thumbnail))("limitWidth",!1)}}function PersonSearchResultGridElementComponent_ds_type_badge_8_Template(rf,ctx){if(1&rf&&core._UZ(0,"ds-type-badge",15),2&rf){const ctx_r2=core.oxw();core.Q6J("object",ctx_r2.dso)}}function PersonSearchResultGridElementComponent_p_11_Template(rf,ctx){if(1&rf&&(core.TgZ(0,"p",16)(1,"ds-truncatable-part",17),core._UZ(2,"span",18),core.qZA()()),2&rf){const ctx_r3=core.oxw();core.xp6(1),core.Q6J("id",ctx_r3.dso.id)("minLines",1),core.xp6(1),core.Q6J("innerHTML",ctx_r3.firstMetadataValue("person.email"),core.oJD)}}function PersonSearchResultGridElementComponent_p_12_Template(rf,ctx){if(1&rf&&(core.TgZ(0,"p",19)(1,"ds-truncatable-part",17),core._UZ(2,"span",18),core.qZA()()),2&rf){const ctx_r4=core.oxw();core.xp6(1),core.Q6J("id",ctx_r4.dso.id)("minLines",3),core.xp6(1),core.Q6J("innerHTML",ctx_r4.firstMetadataValue("person.jobTitle"),core.oJD)}}function PersonSearchResultGridElementComponent_div_13_Template(rf,ctx){if(1&rf&&(core.TgZ(0,"div",20)(1,"a",21),core._uU(2),core.ALo(3,"translate"),core.qZA()()),2&rf){const ctx_r5=core.oxw();core.xp6(1),core.Q6J("target",ctx_r5.linkType==ctx_r5.linkTypes.ExternalLink?"_blank":"_self")("routerLink",core.VKq(5,person_search_result_grid_element_component_c0,ctx_r5.itemPageRoute)),core.xp6(1),core.Oqu(core.lcZ(3,3,"search.results.view-result"))}}__name(PersonSearchResultGridElementComponent_a_5_Template,"PersonSearchResultGridElementComponent_a_5_Template"),__name(PersonSearchResultGridElementComponent_span_6_Template,"PersonSearchResultGridElementComponent_span_6_Template"),__name(PersonSearchResultGridElementComponent_ds_type_badge_8_Template,"PersonSearchResultGridElementComponent_ds_type_badge_8_Template"),__name(PersonSearchResultGridElementComponent_p_11_Template,"PersonSearchResultGridElementComponent_p_11_Template"),__name(PersonSearchResultGridElementComponent_p_12_Template,"PersonSearchResultGridElementComponent_p_12_Template"),__name(PersonSearchResultGridElementComponent_div_13_Template,"PersonSearchResultGridElementComponent_div_13_Template");const person_search_result_grid_element_component_c1=["*","*"];let PersonSearchResultGridElementComponent=__name(class extends item_search_result_grid_element_component.n{},"PersonSearchResultGridElementComponent");PersonSearchResultGridElementComponent.\u0275fac=function(){let \u0275PersonSearchResultGridElementComponent_BaseFactory;return __name(function(t){return(\u0275PersonSearchResultGridElementComponent_BaseFactory||(\u0275PersonSearchResultGridElementComponent_BaseFactory=core.n5z(PersonSearchResultGridElementComponent)))(t||PersonSearchResultGridElementComponent)},"PersonSearchResultGridElementComponent_Factory")}(),PersonSearchResultGridElementComponent.\u0275cmp=core.Xpm({type:PersonSearchResultGridElementComponent,selectors:[["ds-person-search-result-grid-element"]],features:[core.qOj],ngContentSelectors:person_search_result_grid_element_component_c1,decls:15,vars:13,consts:[[1,"card"],[3,"id"],[1,"position-absolute","ml-1"],["rel","noopener noreferrer","class","card-img-top full-width",3,"target","routerLink",4,"ngIf"],["class","card-img-top full-width",4,"ngIf"],[1,"card-body"],[3,"object",4,"ngIf"],["type","h4",3,"id","minLines"],[1,"card-title",3,"innerHTML"],["class","item-email card-text text-muted",4,"ngIf"],["class","item-jobtitle card-text",4,"ngIf"],["class","text-center",4,"ngIf"],["rel","noopener noreferrer",1,"card-img-top","full-width",3,"target","routerLink"],[3,"thumbnail","limitWidth"],[1,"card-img-top","full-width"],[3,"object"],[1,"item-email","card-text","text-muted"],[3,"id","minLines"],[3,"innerHTML"],[1,"item-jobtitle","card-text"],[1,"text-center"],["rel","noopener noreferrer",1,"lead","btn","btn-primary","viewButton",3,"target","routerLink"]],template:__name(function(rf,ctx){1&rf&&(core.F$t(person_search_result_grid_element_component_c1),core.TgZ(0,"div",0),core.ALo(1,"async"),core.TgZ(2,"ds-truncatable",1)(3,"div",2),core.Hsn(4),core.qZA(),core.YNc(5,PersonSearchResultGridElementComponent_a_5_Template,5,11,"a",3),core.YNc(6,PersonSearchResultGridElementComponent_span_6_Template,4,4,"span",4),core.TgZ(7,"div",5),core.YNc(8,PersonSearchResultGridElementComponent_ds_type_badge_8_Template,1,1,"ds-type-badge",6),core.TgZ(9,"ds-truncatable-part",7),core._UZ(10,"h4",8),core.qZA(),core.YNc(11,PersonSearchResultGridElementComponent_p_11_Template,3,3,"p",9),core.YNc(12,PersonSearchResultGridElementComponent_p_12_Template,3,3,"p",10),core.YNc(13,PersonSearchResultGridElementComponent_div_13_Template,4,7,"div",11),core.qZA()(),core.Hsn(14,1),core.qZA()),2&rf&&(core.Q6J("@focusShadow",core.lcZ(1,11,ctx.isCollapsed$)?"blur":"focus"),core.xp6(2),core.Q6J("id",ctx.dso.id),core.xp6(3),core.Q6J("ngIf",ctx.linkType!=ctx.linkTypes.None),core.xp6(1),core.Q6J("ngIf",ctx.linkType==ctx.linkTypes.None),core.xp6(2),core.Q6J("ngIf",ctx.showLabel),core.xp6(1),core.Q6J("id",ctx.dso.id)("minLines",3),core.xp6(1),core.Q6J("innerHTML",ctx.dsoTitle,core.oJD),core.xp6(1),core.Q6J("ngIf",ctx.dso.hasMetadata("person.email")),core.xp6(1),core.Q6J("ngIf",ctx.dso.hasMetadata("person.jobTitle")),core.xp6(1),core.Q6J("ngIf",ctx.linkType!=ctx.linkTypes.None))},"PersonSearchResultGridElementComponent_Template"),directives:[truncatable_component.n,common.O5,router.yS,thumbnail_component.Z,type_badge_component.F,truncatable_part_component.L],pipes:[common.Ov,ngx_translate_core.X$],styles:[""],data:{animation:[animations_focus.X]}}),PersonSearchResultGridElementComponent=(0,tslib_es6.gn)([(0,listable_object_decorator.d$)("PersonSearchResult",view_mode_model.w.GridElement)],PersonSearchResultGridElementComponent);const person_grid_element_component_c0=__name(function(){return{}},"person_grid_element_component_c0"),person_grid_element_component_c1=__name(function(a0,a1){return{indexableObject:a0,hitHighlights:a1}},"person_grid_element_component_c1");let PersonGridElementComponent=__name(class extends abstract_listable_element_component.i{},"PersonGridElementComponent");PersonGridElementComponent.\u0275fac=function(){let \u0275PersonGridElementComponent_BaseFactory;return __name(function(t){return(\u0275PersonGridElementComponent_BaseFactory||(\u0275PersonGridElementComponent_BaseFactory=core.n5z(PersonGridElementComponent)))(t||PersonGridElementComponent)},"PersonGridElementComponent_Factory")}(),PersonGridElementComponent.\u0275cmp=core.Xpm({type:PersonGridElementComponent,selectors:[["ds-person-grid-element"]],features:[core.qOj],decls:1,vars:7,consts:[[3,"showLabel","object","linkType"]],template:__name(function(rf,ctx){1&rf&&core._UZ(0,"ds-person-search-result-grid-element",0),2&rf&&core.Q6J("showLabel",ctx.showLabel)("object",core.WLB(4,person_grid_element_component_c1,ctx.object,core.DdM(3,person_grid_element_component_c0)))("linkType",ctx.linkType)},"PersonGridElementComponent_Template"),directives:[PersonSearchResultGridElementComponent],styles:[""]}),PersonGridElementComponent=(0,tslib_es6.gn)([(0,listable_object_decorator.d$)("Person",view_mode_model.w.GridElement)],PersonGridElementComponent);const org_unit_search_result_grid_element_component_c0=__name(function(a0){return[a0]},"org_unit_search_result_grid_element_component_c0");function OrgUnitSearchResultGridElementComponent_a_5_Template(rf,ctx){if(1&rf&&(core.TgZ(0,"a",12),core.ALo(1,"translate"),core.TgZ(2,"div"),core._UZ(3,"ds-thumbnail",13),core.ALo(4,"async"),core.qZA()()),2&rf){const ctx_r0=core.oxw();core.Q6J("target",ctx_r0.linkType==ctx_r0.linkTypes.ExternalLink?"_blank":"_self")("routerLink",core.VKq(9,org_unit_search_result_grid_element_component_c0,ctx_r0.itemPageRoute)),core.uIk("title",core.lcZ(1,5,"search.results.view-result")),core.xp6(3),core.Q6J("thumbnail",core.lcZ(4,7,null==ctx_r0.dso?null:ctx_r0.dso.thumbnail))("limitWidth",!1)}}function OrgUnitSearchResultGridElementComponent_span_6_Template(rf,ctx){if(1&rf&&(core.TgZ(0,"span",14)(1,"div"),core._UZ(2,"ds-thumbnail",13),core.ALo(3,"async"),core.qZA()()),2&rf){const ctx_r1=core.oxw();core.xp6(2),core.Q6J("thumbnail",core.lcZ(3,2,null==ctx_r1.dso?null:ctx_r1.dso.thumbnail))("limitWidth",!1)}}function OrgUnitSearchResultGridElementComponent_ds_type_badge_8_Template(rf,ctx){if(1&rf&&core._UZ(0,"ds-type-badge",15),2&rf){const ctx_r2=core.oxw();core.Q6J("object",ctx_r2.dso)}}function OrgUnitSearchResultGridElementComponent_p_11_Template(rf,ctx){if(1&rf&&(core.TgZ(0,"p",16)(1,"ds-truncatable-part",17),core._UZ(2,"span",18),core.qZA()()),2&rf){const ctx_r3=core.oxw();core.xp6(1),core.Q6J("id",ctx_r3.dso.id)("minLines",1),core.xp6(1),core.Q6J("innerHTML",ctx_r3.firstMetadataValue("organization.foundingDate"),core.oJD)}}function OrgUnitSearchResultGridElementComponent_p_12_span_4_Template(rf,ctx){if(1&rf&&(core.TgZ(0,"span",22)(1,"span"),core._uU(2,", "),core.qZA(),core._uU(3),core.qZA()),2&rf){const ctx_r6=core.oxw(2);core.xp6(3),core.hij(" ",ctx_r6.firstMetadataValue("organization.address.addressLocality")," ")}}function OrgUnitSearchResultGridElementComponent_p_12_Template(rf,ctx){if(1&rf&&(core.TgZ(0,"p",19)(1,"ds-truncatable-part",17)(2,"span",20),core._uU(3),core.qZA(),core.YNc(4,OrgUnitSearchResultGridElementComponent_p_12_span_4_Template,4,1,"span",21),core.qZA()()),2&rf){const ctx_r4=core.oxw();core.xp6(1),core.Q6J("id",ctx_r4.dso.id)("minLines",3),core.xp6(2),core.Oqu(ctx_r4.firstMetadataValue("organization.address.addressCountry")),core.xp6(1),core.Q6J("ngIf",ctx_r4.dso.hasMetadata("organization.address.addressLocality"))}}function OrgUnitSearchResultGridElementComponent_div_13_Template(rf,ctx){if(1&rf&&(core.TgZ(0,"div",23)(1,"a",24),core._uU(2),core.ALo(3,"translate"),core.qZA()()),2&rf){const ctx_r5=core.oxw();core.xp6(1),core.Q6J("target",ctx_r5.linkType==ctx_r5.linkTypes.ExternalLink?"_blank":"_self")("routerLink",core.VKq(5,org_unit_search_result_grid_element_component_c0,ctx_r5.itemPageRoute)),core.xp6(1),core.Oqu(core.lcZ(3,3,"search.results.view-result"))}}__name(OrgUnitSearchResultGridElementComponent_a_5_Template,"OrgUnitSearchResultGridElementComponent_a_5_Template"),__name(OrgUnitSearchResultGridElementComponent_span_6_Template,"OrgUnitSearchResultGridElementComponent_span_6_Template"),__name(OrgUnitSearchResultGridElementComponent_ds_type_badge_8_Template,"OrgUnitSearchResultGridElementComponent_ds_type_badge_8_Template"),__name(OrgUnitSearchResultGridElementComponent_p_11_Template,"OrgUnitSearchResultGridElementComponent_p_11_Template"),__name(OrgUnitSearchResultGridElementComponent_p_12_span_4_Template,"OrgUnitSearchResultGridElementComponent_p_12_span_4_Template"),__name(OrgUnitSearchResultGridElementComponent_p_12_Template,"OrgUnitSearchResultGridElementComponent_p_12_Template"),__name(OrgUnitSearchResultGridElementComponent_div_13_Template,"OrgUnitSearchResultGridElementComponent_div_13_Template");const org_unit_search_result_grid_element_component_c1=["*","*"];let OrgUnitSearchResultGridElementComponent=__name(class extends item_search_result_grid_element_component.n{},"OrgUnitSearchResultGridElementComponent");OrgUnitSearchResultGridElementComponent.\u0275fac=function(){let \u0275OrgUnitSearchResultGridElementComponent_BaseFactory;return __name(function(t){return(\u0275OrgUnitSearchResultGridElementComponent_BaseFactory||(\u0275OrgUnitSearchResultGridElementComponent_BaseFactory=core.n5z(OrgUnitSearchResultGridElementComponent)))(t||OrgUnitSearchResultGridElementComponent)},"OrgUnitSearchResultGridElementComponent_Factory")}(),OrgUnitSearchResultGridElementComponent.\u0275cmp=core.Xpm({type:OrgUnitSearchResultGridElementComponent,selectors:[["ds-org-unit-search-result-grid-element"]],features:[core.qOj],ngContentSelectors:org_unit_search_result_grid_element_component_c1,decls:15,vars:13,consts:[[1,"card"],[3,"id"],[1,"position-absolute","ml-1"],["rel","noopener noreferrer","class","card-img-top full-width",3,"target","routerLink",4,"ngIf"],["class","card-img-top full-width",4,"ngIf"],[1,"card-body"],[3,"object",4,"ngIf"],["type","h4",3,"id","minLines"],[1,"card-title",3,"innerHTML"],["class","item-date card-text text-muted",4,"ngIf"],["class","item-location card-text",4,"ngIf"],["class","text-center",4,"ngIf"],["rel","noopener noreferrer",1,"card-img-top","full-width",3,"target","routerLink"],[3,"thumbnail","limitWidth"],[1,"card-img-top","full-width"],[3,"object"],[1,"item-date","card-text","text-muted"],[3,"id","minLines"],[3,"innerHTML"],[1,"item-location","card-text"],[1,"item-country"],["class","item-city",4,"ngIf"],[1,"item-city"],[1,"text-center"],["rel","noopener noreferrer",1,"lead","btn","btn-primary","viewButton",3,"target","routerLink"]],template:__name(function(rf,ctx){1&rf&&(core.F$t(org_unit_search_result_grid_element_component_c1),core.TgZ(0,"div",0),core.ALo(1,"async"),core.TgZ(2,"ds-truncatable",1)(3,"div",2),core.Hsn(4),core.qZA(),core.YNc(5,OrgUnitSearchResultGridElementComponent_a_5_Template,5,11,"a",3),core.YNc(6,OrgUnitSearchResultGridElementComponent_span_6_Template,4,4,"span",4),core.TgZ(7,"div",5),core.YNc(8,OrgUnitSearchResultGridElementComponent_ds_type_badge_8_Template,1,1,"ds-type-badge",6),core.TgZ(9,"ds-truncatable-part",7),core._UZ(10,"h4",8),core.qZA(),core.YNc(11,OrgUnitSearchResultGridElementComponent_p_11_Template,3,3,"p",9),core.YNc(12,OrgUnitSearchResultGridElementComponent_p_12_Template,5,4,"p",10),core.YNc(13,OrgUnitSearchResultGridElementComponent_div_13_Template,4,7,"div",11),core.qZA()(),core.Hsn(14,1),core.qZA()),2&rf&&(core.Q6J("@focusShadow",core.lcZ(1,11,ctx.isCollapsed$)?"blur":"focus"),core.xp6(2),core.Q6J("id",ctx.dso.id),core.xp6(3),core.Q6J("ngIf",ctx.linkType!=ctx.linkTypes.None),core.xp6(1),core.Q6J("ngIf",ctx.linkType==ctx.linkTypes.None),core.xp6(2),core.Q6J("ngIf",ctx.showLabel),core.xp6(1),core.Q6J("id",ctx.dso.id)("minLines",3),core.xp6(1),core.Q6J("innerHTML",ctx.dsoTitle,core.oJD),core.xp6(1),core.Q6J("ngIf",ctx.dso.hasMetadata("organization.foundingDate")),core.xp6(1),core.Q6J("ngIf",ctx.dso.hasMetadata("organization.address.addressCountry")),core.xp6(1),core.Q6J("ngIf",ctx.linkType!=ctx.linkTypes.None))},"OrgUnitSearchResultGridElementComponent_Template"),directives:[truncatable_component.n,common.O5,router.yS,thumbnail_component.Z,type_badge_component.F,truncatable_part_component.L],pipes:[common.Ov,ngx_translate_core.X$],styles:[""],data:{animation:[animations_focus.X]}}),OrgUnitSearchResultGridElementComponent=(0,tslib_es6.gn)([(0,listable_object_decorator.d$)("OrgUnitSearchResult",view_mode_model.w.GridElement)],OrgUnitSearchResultGridElementComponent);const org_unit_grid_element_component_c0=__name(function(){return{}},"org_unit_grid_element_component_c0"),org_unit_grid_element_component_c1=__name(function(a0,a1){return{indexableObject:a0,hitHighlights:a1}},"org_unit_grid_element_component_c1");let OrgUnitGridElementComponent=__name(class extends abstract_listable_element_component.i{},"OrgUnitGridElementComponent");OrgUnitGridElementComponent.\u0275fac=function(){let \u0275OrgUnitGridElementComponent_BaseFactory;return __name(function(t){return(\u0275OrgUnitGridElementComponent_BaseFactory||(\u0275OrgUnitGridElementComponent_BaseFactory=core.n5z(OrgUnitGridElementComponent)))(t||OrgUnitGridElementComponent)},"OrgUnitGridElementComponent_Factory")}(),OrgUnitGridElementComponent.\u0275cmp=core.Xpm({type:OrgUnitGridElementComponent,selectors:[["ds-org-unit-grid-element"]],features:[core.qOj],decls:1,vars:7,consts:[[3,"showLabel","object","linkType"]],template:__name(function(rf,ctx){1&rf&&core._UZ(0,"ds-org-unit-search-result-grid-element",0),2&rf&&core.Q6J("showLabel",ctx.showLabel)("object",core.WLB(4,org_unit_grid_element_component_c1,ctx.object,core.DdM(3,org_unit_grid_element_component_c0)))("linkType",ctx.linkType)},"OrgUnitGridElementComponent_Template"),directives:[OrgUnitSearchResultGridElementComponent],styles:[""]}),OrgUnitGridElementComponent=(0,tslib_es6.gn)([(0,listable_object_decorator.d$)("OrgUnit",view_mode_model.w.GridElement)],OrgUnitGridElementComponent);const project_search_result_grid_element_component_c0=__name(function(a0){return[a0]},"project_search_result_grid_element_component_c0");function ProjectSearchResultGridElementComponent_a_5_Template(rf,ctx){if(1&rf&&(core.TgZ(0,"a",11),core.ALo(1,"translate"),core.TgZ(2,"div"),core._UZ(3,"ds-thumbnail",12),core.ALo(4,"async"),core.qZA()()),2&rf){const ctx_r0=core.oxw();core.Q6J("target",ctx_r0.linkType==ctx_r0.linkTypes.ExternalLink?"_blank":"_self")("routerLink",core.VKq(9,project_search_result_grid_element_component_c0,ctx_r0.itemPageRoute)),core.uIk("title",core.lcZ(1,5,"search.results.view-result")),core.xp6(3),core.Q6J("thumbnail",core.lcZ(4,7,null==ctx_r0.dso?null:ctx_r0.dso.thumbnail))("limitWidth",!1)}}function ProjectSearchResultGridElementComponent_span_6_Template(rf,ctx){if(1&rf&&(core.TgZ(0,"span",13)(1,"div"),core._UZ(2,"ds-thumbnail",12),core.ALo(3,"async"),core.qZA()()),2&rf){const ctx_r1=core.oxw();core.xp6(2),core.Q6J("thumbnail",core.lcZ(3,2,null==ctx_r1.dso?null:ctx_r1.dso.thumbnail))("limitWidth",!1)}}function ProjectSearchResultGridElementComponent_ds_type_badge_8_Template(rf,ctx){if(1&rf&&core._UZ(0,"ds-type-badge",14),2&rf){const ctx_r2=core.oxw();core.Q6J("object",ctx_r2.dso)}}function ProjectSearchResultGridElementComponent_p_11_Template(rf,ctx){if(1&rf&&(core.TgZ(0,"p",15)(1,"ds-truncatable-part",16),core._UZ(2,"span",17),core.qZA()()),2&rf){const ctx_r3=core.oxw();core.xp6(1),core.Q6J("id",ctx_r3.dso.id)("minLines",3),core.xp6(1),core.Q6J("innerHTML",ctx_r3.firstMetadataValue("dc.description"),core.oJD)}}function ProjectSearchResultGridElementComponent_div_12_Template(rf,ctx){if(1&rf&&(core.TgZ(0,"div",18)(1,"a",19),core._uU(2),core.ALo(3,"translate"),core.qZA()()),2&rf){const ctx_r4=core.oxw();core.xp6(1),core.Q6J("target",ctx_r4.linkType==ctx_r4.linkTypes.ExternalLink?"_blank":"_self")("routerLink",core.VKq(5,project_search_result_grid_element_component_c0,ctx_r4.itemPageRoute)),core.xp6(1),core.Oqu(core.lcZ(3,3,"search.results.view-result"))}}__name(ProjectSearchResultGridElementComponent_a_5_Template,"ProjectSearchResultGridElementComponent_a_5_Template"),__name(ProjectSearchResultGridElementComponent_span_6_Template,"ProjectSearchResultGridElementComponent_span_6_Template"),__name(ProjectSearchResultGridElementComponent_ds_type_badge_8_Template,"ProjectSearchResultGridElementComponent_ds_type_badge_8_Template"),__name(ProjectSearchResultGridElementComponent_p_11_Template,"ProjectSearchResultGridElementComponent_p_11_Template"),__name(ProjectSearchResultGridElementComponent_div_12_Template,"ProjectSearchResultGridElementComponent_div_12_Template");const project_search_result_grid_element_component_c1=["*","*"];let ProjectSearchResultGridElementComponent=__name(class extends item_search_result_grid_element_component.n{},"ProjectSearchResultGridElementComponent");ProjectSearchResultGridElementComponent.\u0275fac=function(){let \u0275ProjectSearchResultGridElementComponent_BaseFactory;return __name(function(t){return(\u0275ProjectSearchResultGridElementComponent_BaseFactory||(\u0275ProjectSearchResultGridElementComponent_BaseFactory=core.n5z(ProjectSearchResultGridElementComponent)))(t||ProjectSearchResultGridElementComponent)},"ProjectSearchResultGridElementComponent_Factory")}(),ProjectSearchResultGridElementComponent.\u0275cmp=core.Xpm({type:ProjectSearchResultGridElementComponent,selectors:[["ds-project-search-result-grid-element"]],features:[core.qOj],ngContentSelectors:project_search_result_grid_element_component_c1,decls:14,vars:12,consts:[[1,"card"],[3,"id"],[1,"position-absolute","ml-1"],["rel","noopener noreferrer","class","card-img-top full-width",3,"target","routerLink",4,"ngIf"],["class","card-img-top full-width",4,"ngIf"],[1,"card-body"],[3,"object",4,"ngIf"],["type","h4",3,"id","minLines"],[1,"card-title",3,"innerHTML"],["class","item-description card-text text-muted",4,"ngIf"],["class","text-center",4,"ngIf"],["rel","noopener noreferrer",1,"card-img-top","full-width",3,"target","routerLink"],[3,"thumbnail","limitWidth"],[1,"card-img-top","full-width"],[3,"object"],[1,"item-description","card-text","text-muted"],[3,"id","minLines"],[3,"innerHTML"],[1,"text-center"],["rel","noopener noreferrer",1,"lead","btn","btn-primary","viewButton",3,"target","routerLink"]],template:__name(function(rf,ctx){1&rf&&(core.F$t(project_search_result_grid_element_component_c1),core.TgZ(0,"div",0),core.ALo(1,"async"),core.TgZ(2,"ds-truncatable",1)(3,"div",2),core.Hsn(4),core.qZA(),core.YNc(5,ProjectSearchResultGridElementComponent_a_5_Template,5,11,"a",3),core.YNc(6,ProjectSearchResultGridElementComponent_span_6_Template,4,4,"span",4),core.TgZ(7,"div",5),core.YNc(8,ProjectSearchResultGridElementComponent_ds_type_badge_8_Template,1,1,"ds-type-badge",6),core.TgZ(9,"ds-truncatable-part",7),core._UZ(10,"h4",8),core.qZA(),core.YNc(11,ProjectSearchResultGridElementComponent_p_11_Template,3,3,"p",9),core.YNc(12,ProjectSearchResultGridElementComponent_div_12_Template,4,7,"div",10),core.qZA()(),core.Hsn(13,1),core.qZA()),2&rf&&(core.Q6J("@focusShadow",core.lcZ(1,10,ctx.isCollapsed$)?"blur":"focus"),core.xp6(2),core.Q6J("id",ctx.dso.id),core.xp6(3),core.Q6J("ngIf",ctx.linkType!=ctx.linkTypes.None),core.xp6(1),core.Q6J("ngIf",ctx.linkType==ctx.linkTypes.None),core.xp6(2),core.Q6J("ngIf",ctx.showLabel),core.xp6(1),core.Q6J("id",ctx.dso.id)("minLines",3),core.xp6(1),core.Q6J("innerHTML",ctx.dsoTitle,core.oJD),core.xp6(1),core.Q6J("ngIf",ctx.dso.hasMetadata("dc.description")),core.xp6(1),core.Q6J("ngIf",ctx.linkType!=ctx.linkTypes.None))},"ProjectSearchResultGridElementComponent_Template"),directives:[truncatable_component.n,common.O5,router.yS,thumbnail_component.Z,type_badge_component.F,truncatable_part_component.L],pipes:[common.Ov,ngx_translate_core.X$],styles:[""],data:{animation:[animations_focus.X]}}),ProjectSearchResultGridElementComponent=(0,tslib_es6.gn)([(0,listable_object_decorator.d$)("ProjectSearchResult",view_mode_model.w.GridElement)],ProjectSearchResultGridElementComponent);const project_grid_element_component_c0=__name(function(){return{}},"project_grid_element_component_c0"),project_grid_element_component_c1=__name(function(a0,a1){return{indexableObject:a0,hitHighlights:a1}},"project_grid_element_component_c1");let ProjectGridElementComponent=__name(class extends abstract_listable_element_component.i{},"ProjectGridElementComponent");ProjectGridElementComponent.\u0275fac=function(){let \u0275ProjectGridElementComponent_BaseFactory;return __name(function(t){return(\u0275ProjectGridElementComponent_BaseFactory||(\u0275ProjectGridElementComponent_BaseFactory=core.n5z(ProjectGridElementComponent)))(t||ProjectGridElementComponent)},"ProjectGridElementComponent_Factory")}(),ProjectGridElementComponent.\u0275cmp=core.Xpm({type:ProjectGridElementComponent,selectors:[["ds-project-grid-element"]],features:[core.qOj],decls:1,vars:7,consts:[[3,"showLabel","object","linkType"]],template:__name(function(rf,ctx){1&rf&&core._UZ(0,"ds-project-search-result-grid-element",0),2&rf&&core.Q6J("showLabel",ctx.showLabel)("object",core.WLB(4,project_grid_element_component_c1,ctx.object,core.DdM(3,project_grid_element_component_c0)))("linkType",ctx.linkType)},"ProjectGridElementComponent_Template"),directives:[ProjectSearchResultGridElementComponent],styles:[""]}),ProjectGridElementComponent=(0,tslib_es6.gn)([(0,listable_object_decorator.d$)("Project",view_mode_model.w.GridElement)],ProjectGridElementComponent);var metadata_representation_decorator=__webpack_require__(52760),metadata_representation_model=__webpack_require__(52885),item_metadata_representation_list_element_component=__webpack_require__(77049);function PersonItemMetadataListElementComponent_ng_template_0_span_1_span_1_Template(rf,ctx){if(1&rf&&(core.TgZ(0,"span")(1,"span",7),core._UZ(2,"span",7),core.qZA()()),2&rf){const value_r4=ctx.$implicit;core.xp6(1),core.Q6J("innerHTML",value_r4,core.oJD),core.xp6(1),core.Q6J("innerHTML",value_r4,core.oJD)}}__name(PersonItemMetadataListElementComponent_ng_template_0_span_1_span_1_Template,"PersonItemMetadataListElementComponent_ng_template_0_span_1_span_1_Template");const person_item_metadata_list_element_component_c0=__name(function(){return["person.jobTitle"]},"person_item_metadata_list_element_component_c0");function PersonItemMetadataListElementComponent_ng_template_0_span_1_Template(rf,ctx){if(1&rf&&(core.TgZ(0,"span",5),core.YNc(1,PersonItemMetadataListElementComponent_ng_template_0_span_1_span_1_Template,3,2,"span",6),core.qZA()),2&rf){const ctx_r2=core.oxw(2);core.xp6(1),core.Q6J("ngForOf",ctx_r2.metadataRepresentation.allMetadataValues(core.DdM(1,person_item_metadata_list_element_component_c0)))}}function PersonItemMetadataListElementComponent_ng_template_0_Template(rf,ctx){if(1&rf&&(core.TgZ(0,"span",3),core.YNc(1,PersonItemMetadataListElementComponent_ng_template_0_span_1_Template,2,2,"span",4),core.qZA()),2&rf){const ctx_r1=core.oxw();core.xp6(1),core.Q6J("ngIf",ctx_r1.metadataRepresentation.allMetadata(core.DdM(1,person_item_metadata_list_element_component_c0)).length>0)}}__name(PersonItemMetadataListElementComponent_ng_template_0_span_1_Template,"PersonItemMetadataListElementComponent_ng_template_0_span_1_Template"),__name(PersonItemMetadataListElementComponent_ng_template_0_Template,"PersonItemMetadataListElementComponent_ng_template_0_Template");const person_item_metadata_list_element_component_c1=__name(function(a0){return[a0]},"person_item_metadata_list_element_component_c1");let PersonItemMetadataListElementComponent=__name(class extends item_metadata_representation_list_element_component.X{},"PersonItemMetadataListElementComponent");PersonItemMetadataListElementComponent.\u0275fac=function(){let \u0275PersonItemMetadataListElementComponent_BaseFactory;return __name(function(t){return(\u0275PersonItemMetadataListElementComponent_BaseFactory||(\u0275PersonItemMetadataListElementComponent_BaseFactory=core.n5z(PersonItemMetadataListElementComponent)))(t||PersonItemMetadataListElementComponent)},"PersonItemMetadataListElementComponent_Factory")}(),PersonItemMetadataListElementComponent.\u0275cmp=core.Xpm({type:PersonItemMetadataListElementComponent,selectors:[["ds-person-item-metadata-list-element"]],features:[core.qOj],decls:4,vars:7,consts:[["descTemplate",""],[3,"id"],[3,"routerLink","innerHTML","ngbTooltip"],[1,"text-muted"],["class","item-list-job-title",4,"ngIf"],[1,"item-list-job-title"],[4,"ngFor","ngForOf"],[3,"innerHTML"]],template:__name(function(rf,ctx){if(1&rf&&(core.YNc(0,PersonItemMetadataListElementComponent_ng_template_0_Template,2,2,"ng-template",null,0,core.W1O),core.TgZ(2,"ds-truncatable",1),core._UZ(3,"a",2),core.qZA()),2&rf){const _r0=core.MAs(1);core.xp6(2),core.Q6J("id",ctx.metadataRepresentation.id),core.xp6(1),core.Q6J("routerLink",core.VKq(4,person_item_metadata_list_element_component_c1,ctx.itemPageRoute))("innerHTML",ctx.metadataRepresentation.getValue(),core.oJD)("ngbTooltip",ctx.metadataRepresentation.allMetadata(core.DdM(6,person_item_metadata_list_element_component_c0)).length>0?_r0:null)}},"PersonItemMetadataListElementComponent_Template"),directives:[common.O5,common.sg,truncatable_component.n,router.yS,ng_bootstrap._L],encapsulation:2}),PersonItemMetadataListElementComponent=(0,tslib_es6.gn)([(0,metadata_representation_decorator.Bu)("Person",metadata_representation_model.P.Item)],PersonItemMetadataListElementComponent);const org_unit_item_metadata_list_element_component_c0=__name(function(){return["dc.description"]},"org_unit_item_metadata_list_element_component_c0");function OrgUnitItemMetadataListElementComponent_ng_template_0_Template(rf,ctx){if(1&rf&&(core.TgZ(0,"span",3)(1,"span",4),core._UZ(2,"span",5),core.qZA()()),2&rf){const ctx_r1=core.oxw();core.xp6(2),core.Q6J("innerHTML",ctx_r1.metadataRepresentation.firstMetadataValue(core.DdM(1,org_unit_item_metadata_list_element_component_c0)),core.oJD)}}__name(OrgUnitItemMetadataListElementComponent_ng_template_0_Template,"OrgUnitItemMetadataListElementComponent_ng_template_0_Template");const org_unit_item_metadata_list_element_component_c1=__name(function(a0){return[a0]},"org_unit_item_metadata_list_element_component_c1");let OrgUnitItemMetadataListElementComponent=__name(class extends item_metadata_representation_list_element_component.X{},"OrgUnitItemMetadataListElementComponent");OrgUnitItemMetadataListElementComponent.\u0275fac=function(){let \u0275OrgUnitItemMetadataListElementComponent_BaseFactory;return __name(function(t){return(\u0275OrgUnitItemMetadataListElementComponent_BaseFactory||(\u0275OrgUnitItemMetadataListElementComponent_BaseFactory=core.n5z(OrgUnitItemMetadataListElementComponent)))(t||OrgUnitItemMetadataListElementComponent)},"OrgUnitItemMetadataListElementComponent_Factory")}(),OrgUnitItemMetadataListElementComponent.\u0275cmp=core.Xpm({type:OrgUnitItemMetadataListElementComponent,selectors:[["ds-org-unit-item-metadata-list-element"]],features:[core.qOj],decls:4,vars:7,consts:[["descTemplate",""],[3,"id"],[3,"routerLink","innerHTML","ngbTooltip"],[1,"text-muted"],[1,"item-list-job-title"],[3,"innerHTML"]],template:__name(function(rf,ctx){if(1&rf&&(core.YNc(0,OrgUnitItemMetadataListElementComponent_ng_template_0_Template,3,2,"ng-template",null,0,core.W1O),core.TgZ(2,"ds-truncatable",1),core._UZ(3,"a",2),core.qZA()),2&rf){const _r0=core.MAs(1);core.xp6(2),core.Q6J("id",ctx.metadataRepresentation.id),core.xp6(1),core.Q6J("routerLink",core.VKq(4,org_unit_item_metadata_list_element_component_c1,ctx.itemPageRoute))("innerHTML",ctx.metadataRepresentation.getValue(),core.oJD)("ngbTooltip",ctx.metadataRepresentation.allMetadata(core.DdM(6,org_unit_item_metadata_list_element_component_c0)).length>0?_r0:null)}},"OrgUnitItemMetadataListElementComponent_Template"),directives:[truncatable_component.n,router.yS,ng_bootstrap._L],encapsulation:2}),OrgUnitItemMetadataListElementComponent=(0,tslib_es6.gn)([(0,metadata_representation_decorator.Bu)("OrgUnit",metadata_representation_model.P.Item)],OrgUnitItemMetadataListElementComponent);var bitstream_data_service=__webpack_require__(48532),search_result_list_element_component=__webpack_require__(79691),context_model=__webpack_require__(84935),relationship_data_service=__webpack_require__(88002),operators=__webpack_require__(83292),notifications_service=__webpack_require__(82596);const name_variant_modal_component_c0=__name(function(a0){return{value:a0}},"name_variant_modal_component_c0");class NameVariantModalComponent{constructor(modal){this.modal=modal}}__name(NameVariantModalComponent,"NameVariantModalComponent"),NameVariantModalComponent.\u0275fac=__name(function(t){return new(t||NameVariantModalComponent)(core.Y36(ng_bootstrap.Kz))},"NameVariantModalComponent_Factory"),NameVariantModalComponent.\u0275cmp=core.Xpm({type:NameVariantModalComponent,selectors:[["ds-name-variant-modal"]],inputs:{value:"value"},decls:16,vars:12,consts:[[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],[1,"modal-footer","justify-content-between"],["type","button",1,"btn","btn-light","confirm-button",3,"click"],["type","button",1,"btn","btn-light","decline-button",3,"click"]],template:__name(function(rf,ctx){1&rf&&(core.TgZ(0,"div",0)(1,"h4",1),core._uU(2,"New name variant"),core.qZA(),core.TgZ(3,"button",2),core.NdJ("click",__name(function(){return ctx.modal.dismiss("Cross click")},"NameVariantModalComponent_Template_button_click_3_listener")),core.TgZ(4,"span",3),core._uU(5,"\xd7"),core.qZA()()(),core.TgZ(6,"div",4),core._uU(7),core.ALo(8,"translate"),core.qZA(),core.TgZ(9,"div",5)(10,"button",6),core.NdJ("click",__name(function(){return ctx.modal.close()},"NameVariantModalComponent_Template_button_click_10_listener")),core._uU(11),core.ALo(12,"translate"),core.qZA(),core.TgZ(13,"button",7),core.NdJ("click",__name(function(){return ctx.modal.dismiss()},"NameVariantModalComponent_Template_button_click_13_listener")),core._uU(14),core.ALo(15,"translate"),core.qZA()()),2&rf&&(core.xp6(7),core.hij(" ",core.xi3(8,3,"submission.sections.describe.relationship-lookup.name-variant.notification.content",core.VKq(10,name_variant_modal_component_c0,ctx.value)),"\n"),core.xp6(4),core.Oqu(core.lcZ(12,6,"submission.sections.describe.relationship-lookup.name-variant.notification.confirm")),core.xp6(3),core.Oqu(core.lcZ(15,8,"submission.sections.describe.relationship-lookup.name-variant.notification.decline")))},"NameVariantModalComponent_Template"),pipes:[ngx_translate_core.X$],styles:[""]});var metadata_models=__webpack_require__(79300),item_data_service=__webpack_require__(83639),selectable_list_service=__webpack_require__(51117),fesm2015_forms=__webpack_require__(93075),input_suggestions_component=__webpack_require__(28538),click_outside_directive=__webpack_require__(90059),debounce_directive=__webpack_require__(34159);function PersonInputSuggestionsComponent_div_8_Template(rf,ctx){if(1&rf){const _r6=core.EpF();core.TgZ(0,"div")(1,"a",8,9),core.NdJ("click",__name(function(){const suggestionOption_r3=core.CHM(_r6).$implicit;return core.oxw().onClickSuggestion(suggestionOption_r3)},"PersonInputSuggestionsComponent_div_8_Template_a_click_1_listener")),core._UZ(3,"span",10),core.qZA()()}if(2&rf){const suggestionOption_r3=ctx.$implicit;core.xp6(3),core.Q6J("innerHTML",suggestionOption_r3,core.oJD)}}__name(PersonInputSuggestionsComponent_div_8_Template,"PersonInputSuggestionsComponent_div_8_Template");const person_input_suggestions_component_c0=__name(function(a0){return{"is-invalid":a0}},"person_input_suggestions_component_c0"),person_input_suggestions_component_c1=__name(function(){return{standalone:!0}},"person_input_suggestions_component_c1"),person_input_suggestions_component_c2=__name(function(a0){return{show:a0}},"person_input_suggestions_component_c2");class PersonInputSuggestionsComponent extends input_suggestions_component.o{constructor(){super(...arguments),this.suggestions=[]}ngOnInit(){this.suggestions.length>0&&(this.value=this.suggestions[0])}onSubmit(data){data!==this.value&&(this.value=data,this.submitSuggestion.emit(data))}onClickSuggestion(data){return this.value=data,this.clickSuggestion.emit(data),this.close(),this.blockReopen=!0,this.queryInput.nativeElement.focus(),!1}}function PersonSearchResultListSubmissionElementComponent_div_1_a_1_Template(rf,ctx){if(1&rf&&(core.TgZ(0,"a",11),core._UZ(1,"ds-thumbnail",12),core.ALo(2,"async"),core.qZA()),2&rf){const ctx_r2=core.oxw(2);core.Q6J("target",ctx_r2.linkType==ctx_r2.linkTypes.ExternalLink?"_blank":"_self"),core.xp6(1),core.Q6J("thumbnail",core.lcZ(2,5,null==ctx_r2.dso?null:ctx_r2.dso.thumbnail))("defaultImage","assets/images/person-placeholder.svg")("alt","thumbnail.person.alt")("placeholder","thumbnail.person.placeholder")}}function PersonSearchResultListSubmissionElementComponent_div_1_span_2_Template(rf,ctx){if(1&rf&&(core.TgZ(0,"span",13),core._UZ(1,"ds-thumbnail",12),core.ALo(2,"async"),core.qZA()),2&rf){const ctx_r3=core.oxw(2);core.xp6(1),core.Q6J("thumbnail",core.lcZ(2,4,null==ctx_r3.dso?null:ctx_r3.dso.thumbnail))("defaultImage","assets/images/person-placeholder.svg")("alt","thumbnail.person.alt")("placeholder","thumbnail.person.placeholder")}}function PersonSearchResultListSubmissionElementComponent_div_1_Template(rf,ctx){if(1&rf&&(core.TgZ(0,"div",8),core.YNc(1,PersonSearchResultListSubmissionElementComponent_div_1_a_1_Template,3,7,"a",9),core.YNc(2,PersonSearchResultListSubmissionElementComponent_div_1_span_2_Template,3,6,"span",10),core.qZA()),2&rf){const ctx_r0=core.oxw();core.xp6(1),core.Q6J("ngIf",ctx_r0.linkType!=ctx_r0.linkTypes.None),core.xp6(1),core.Q6J("ngIf",ctx_r0.linkType==ctx_r0.linkTypes.None)}}function PersonSearchResultListSubmissionElementComponent_span_7_span_1_Template(rf,ctx){if(1&rf&&(core.TgZ(0,"span")(1,"span",16),core._UZ(2,"span",16),core.qZA()()),2&rf){const value_r5=ctx.$implicit;core.xp6(1),core.Q6J("innerHTML",value_r5,core.oJD),core.xp6(1),core.Q6J("innerHTML",value_r5,core.oJD)}}__name(PersonInputSuggestionsComponent,"PersonInputSuggestionsComponent"),PersonInputSuggestionsComponent.\u0275fac=function(){let \u0275PersonInputSuggestionsComponent_BaseFactory;return __name(function(t){return(\u0275PersonInputSuggestionsComponent_BaseFactory||(\u0275PersonInputSuggestionsComponent_BaseFactory=core.n5z(PersonInputSuggestionsComponent)))(t||PersonInputSuggestionsComponent)},"PersonInputSuggestionsComponent_Factory")}(),PersonInputSuggestionsComponent.\u0275cmp=core.Xpm({type:PersonInputSuggestionsComponent,selectors:[["ds-person-input-suggestions"]],inputs:{suggestions:"suggestions"},features:[core._Bn([{provide:fesm2015_forms.JU,useExisting:(0,core.Gpc)(()=>PersonInputSuggestionsComponent),multi:!0}]),core.qOj],decls:9,vars:16,consts:[[3,"action","ngSubmit","keydown","keydown.arrowdown","keydown.arrowup","keydown.esc","dsClickOutside"],["form","ngForm"],["type","text","autocomplete","off",1,"form-control","suggestion_input",3,"ngModel","name","ngClass","dsDebounce","placeholder","ngModelOptions","focus","blur","click","onDebounce"],["inputField",""],["type","submit",1,"d-none"],[1,"autocomplete","dropdown-menu",3,"ngClass"],[1,"dropdown-list"],[4,"ngFor","ngForOf"],["href","javascript:void(0);",1,"d-block","dropdown-item",3,"click"],["suggestion",""],[3,"innerHTML"]],template:__name(function(rf,ctx){if(1&rf){const _r7=core.EpF();core.TgZ(0,"form",0,1),core.NdJ("ngSubmit",__name(function(){core.CHM(_r7);const _r1=core.MAs(3);return ctx.onSubmit(_r1.value)},"PersonInputSuggestionsComponent_Template_form_ngSubmit_0_listener"))("keydown",__name(function($event){return ctx.onKeydown($event)},"PersonInputSuggestionsComponent_Template_form_keydown_0_listener"))("keydown.arrowdown",__name(function($event){return ctx.shiftFocusDown($event)},"PersonInputSuggestionsComponent_Template_form_keydown_arrowdown_0_listener"))("keydown.arrowup",__name(function($event){return ctx.shiftFocusUp($event)},"PersonInputSuggestionsComponent_Template_form_keydown_arrowup_0_listener"))("keydown.esc",__name(function(){return ctx.close()},"PersonInputSuggestionsComponent_Template_form_keydown_esc_0_listener"))("dsClickOutside",__name(function(){return ctx.close()},"PersonInputSuggestionsComponent_Template_form_dsClickOutside_0_listener")),core.TgZ(2,"input",2,3),core.NdJ("focus",__name(function(){return ctx.open()},"PersonInputSuggestionsComponent_Template_input_focus_2_listener"))("blur",__name(function(){core.CHM(_r7);const _r1=core.MAs(3);return ctx.onSubmit(_r1.value)},"PersonInputSuggestionsComponent_Template_input_blur_2_listener"))("click",__name(function(){return ctx.open()},"PersonInputSuggestionsComponent_Template_input_click_2_listener"))("onDebounce",__name(function($event){return ctx.find($event)},"PersonInputSuggestionsComponent_Template_input_onDebounce_2_listener")),core.qZA(),core._UZ(4,"input",4),core.TgZ(5,"div",5),core.ALo(6,"async"),core.TgZ(7,"div",6),core.YNc(8,PersonInputSuggestionsComponent_div_8_Template,4,1,"div",7),core.qZA()()()}2&rf&&(core.Q6J("action",ctx.action,core.LSH),core.xp6(2),core.Q6J("ngModel",ctx.value)("name",ctx.name)("ngClass",core.VKq(11,person_input_suggestions_component_c0,!ctx.valid))("dsDebounce",ctx.debounceTime)("placeholder",ctx.placeholder)("ngModelOptions",core.DdM(13,person_input_suggestions_component_c1)),core.xp6(3),core.Q6J("ngClass",core.VKq(14,person_input_suggestions_component_c2,core.lcZ(6,9,ctx.show)&&ctx.isNotEmpty(ctx.suggestions))),core.xp6(3),core.Q6J("ngForOf",ctx.suggestions))},"PersonInputSuggestionsComponent_Template"),directives:[fesm2015_forms._Y,fesm2015_forms.JL,fesm2015_forms.F,click_outside_directive._,fesm2015_forms.Fj,fesm2015_forms.JJ,fesm2015_forms.On,debounce_directive.q,common.mk,common.sg],pipes:[common.Ov],styles:['form[_ngcontent-%COMP%]:before{pointer-events:none;position:absolute;font-weight:900;font-family:"Font Awesome 5 Free";content:"\\f0d7";top:7px;right:0;height:20px;width:20px}form[_ngcontent-%COMP%]   input.suggestion_input[_ngcontent-%COMP%]{background:transparent}',".autocomplete[_ngcontent-%COMP%]{width:100%}.autocomplete[_ngcontent-%COMP%]   .dropdown-item[_ngcontent-%COMP%]{white-space:normal;word-break:break-word;padding:var(--bs-input-padding-y) var(--bs-input-padding-x)}.autocomplete[_ngcontent-%COMP%]   .dropdown-item[_ngcontent-%COMP%]:focus{outline:none}form[_ngcontent-%COMP%]{position:relative}"]}),__name(PersonSearchResultListSubmissionElementComponent_div_1_a_1_Template,"PersonSearchResultListSubmissionElementComponent_div_1_a_1_Template"),__name(PersonSearchResultListSubmissionElementComponent_div_1_span_2_Template,"PersonSearchResultListSubmissionElementComponent_div_1_span_2_Template"),__name(PersonSearchResultListSubmissionElementComponent_div_1_Template,"PersonSearchResultListSubmissionElementComponent_div_1_Template"),__name(PersonSearchResultListSubmissionElementComponent_span_7_span_1_Template,"PersonSearchResultListSubmissionElementComponent_span_7_span_1_Template");const person_search_result_list_submission_element_component_c0=__name(function(){return["person.jobTitle"]},"person_search_result_list_submission_element_component_c0");function PersonSearchResultListSubmissionElementComponent_span_7_Template(rf,ctx){if(1&rf&&(core.TgZ(0,"span",14),core.YNc(1,PersonSearchResultListSubmissionElementComponent_span_7_span_1_Template,3,2,"span",15),core.qZA()),2&rf){const ctx_r1=core.oxw();core.xp6(1),core.Q6J("ngForOf",ctx_r1.allMetadataValues(core.DdM(1,person_search_result_list_submission_element_component_c0)))}}__name(PersonSearchResultListSubmissionElementComponent_span_7_Template,"PersonSearchResultListSubmissionElementComponent_span_7_Template");let PersonSearchResultListSubmissionElementComponent=__name(class extends search_result_list_element_component.c{constructor(truncatableService,relationshipService,notificationsService,translateService,modalService,itemDataService,bitstreamDataService,selectableListService,dsoNameService,appConfig){super(truncatableService,dsoNameService,appConfig),this.truncatableService=truncatableService,this.relationshipService=relationshipService,this.notificationsService=notificationsService,this.translateService=translateService,this.modalService=modalService,this.itemDataService=itemDataService,this.bitstreamDataService=bitstreamDataService,this.selectableListService=selectableListService,this.dsoNameService=dsoNameService,this.appConfig=appConfig,this.alternativeField="dc.title.alternative"}ngOnInit(){super.ngOnInit();const defaultValue=this.dsoTitle,alternatives=this.allMetadataValues(this.alternativeField);this.allSuggestions=[defaultValue,...alternatives],this.relationshipService.getNameVariant(this.listID,this.dso.uuid).pipe((0,operators.qn)(1)).subscribe(nameVariant=>{this.selectedName=nameVariant||defaultValue}),this.showThumbnails=this.appConfig.browseBy.showThumbnails}select(value){this.relationshipService.setNameVariant(this.listID,this.dso.uuid,value),this.selectableListService.isObjectSelected(this.listID,this.object).pipe((0,operators.qn)(1)).subscribe(selected=>{selected||this.selectableListService.selectSingle(this.listID,this.object)})}selectCustom(value){this.allSuggestions.includes(value)||this.openModal(value).then(()=>{const newName=new metadata_models.DA;newName.value=value;const existingNames=this.dso.metadata[this.alternativeField]||[],alternativeNames={[this.alternativeField]:[...existingNames,newName]},updatedItem=Object.assign({},this.dso,{metadata:Object.assign(Object.assign({},this.dso.metadata),alternativeNames)});this.itemDataService.update(updatedItem).pipe((0,operators.qn)(1)).subscribe(),this.itemDataService.commitUpdates()}).catch(()=>{}).finally(()=>{this.select(value)})}openModal(value){const modalRef=this.modalService.open(NameVariantModalComponent,{centered:!0});return modalRef.componentInstance.value=value,modalRef.result}},"PersonSearchResultListSubmissionElementComponent");function OrgUnitInputSuggestionsComponent_div_8_Template(rf,ctx){if(1&rf){const _r6=core.EpF();core.TgZ(0,"div")(1,"a",8,9),core.NdJ("click",__name(function(){const suggestionOption_r3=core.CHM(_r6).$implicit;return core.oxw().onClickSuggestion(suggestionOption_r3)},"OrgUnitInputSuggestionsComponent_div_8_Template_a_click_1_listener")),core._UZ(3,"span",10),core.qZA()()}if(2&rf){const suggestionOption_r3=ctx.$implicit;core.xp6(3),core.Q6J("innerHTML",suggestionOption_r3,core.oJD)}}PersonSearchResultListSubmissionElementComponent.\u0275fac=__name(function(t){return new(t||PersonSearchResultListSubmissionElementComponent)(core.Y36(truncatable_service.F),core.Y36(relationship_data_service.U),core.Y36(notifications_service.T),core.Y36(ngx_translate_core.sK),core.Y36(ng_bootstrap.FF),core.Y36(item_data_service.S),core.Y36(bitstream_data_service.J),core.Y36(selectable_list_service.w),core.Y36(dso_name_service._),core.Y36(app_config_interface.q))},"PersonSearchResultListSubmissionElementComponent_Factory"),PersonSearchResultListSubmissionElementComponent.\u0275cmp=core.Xpm({type:PersonSearchResultListSubmissionElementComponent,selectors:[["ds-person-search-result-list-submission-element"]],features:[core.qOj],decls:8,vars:6,consts:[[1,"row"],["class","col-3 col-md-2",4,"ngIf"],[3,"ngClass"],[1,"d-flex"],[1,"flex-grow-1"],[3,"suggestions","ngModel","ngModelChange","clickSuggestion","submitSuggestion"],[1,"text-muted"],["class","item-list-job-title",4,"ngIf"],[1,"col-3","col-md-2"],["rel","noopener noreferrer","class","dont-break-out",3,"target",4,"ngIf"],["class","dont-break-out",4,"ngIf"],["rel","noopener noreferrer",1,"dont-break-out",3,"target"],[3,"thumbnail","defaultImage","alt","placeholder"],[1,"dont-break-out"],[1,"item-list-job-title"],[4,"ngFor","ngForOf"],[3,"innerHTML"]],template:__name(function(rf,ctx){1&rf&&(core.TgZ(0,"div",0),core.YNc(1,PersonSearchResultListSubmissionElementComponent_div_1_Template,3,2,"div",1),core.TgZ(2,"div",2)(3,"div",3)(4,"div",4)(5,"ds-person-input-suggestions",5),core.NdJ("ngModelChange",__name(function($event){return ctx.selectedName=$event},"PersonSearchResultListSubmissionElementComponent_Template_ds_person_input_suggestions_ngModelChange_5_listener"))("clickSuggestion",__name(function($event){return ctx.select($event)},"PersonSearchResultListSubmissionElementComponent_Template_ds_person_input_suggestions_clickSuggestion_5_listener"))("submitSuggestion",__name(function($event){return ctx.selectCustom($event)},"PersonSearchResultListSubmissionElementComponent_Template_ds_person_input_suggestions_submitSuggestion_5_listener")),core.qZA(),core.TgZ(6,"span",6),core.YNc(7,PersonSearchResultListSubmissionElementComponent_span_7_Template,2,2,"span",7),core.qZA()()()()()),2&rf&&(core.xp6(1),core.Q6J("ngIf",ctx.showThumbnails),core.xp6(1),core.Q6J("ngClass",ctx.showThumbnails?"col-9":"col-md-12"),core.xp6(3),core.Q6J("suggestions",ctx.allSuggestions)("ngModel",ctx.selectedName),core.xp6(2),core.Q6J("ngIf",ctx.dso.allMetadata(core.DdM(5,person_search_result_list_submission_element_component_c0)).length>0))},"PersonSearchResultListSubmissionElementComponent_Template"),directives:[common.O5,thumbnail_component.Z,common.mk,PersonInputSuggestionsComponent,fesm2015_forms.JJ,fesm2015_forms.On,common.sg],pipes:[common.Ov],styles:[".person-thumbnail[_ngcontent-%COMP%]{width:var(--ds-submission-relationship-thumbnail-width)}"]}),PersonSearchResultListSubmissionElementComponent=(0,tslib_es6.gn)([(0,listable_object_decorator.d$)("PersonSearchResult",view_mode_model.w.ListElement,context_model._.EntitySearchModalWithNameVariants),(0,tslib_es6.w6)("design:paramtypes",[truncatable_service.F,relationship_data_service.U,notifications_service.T,ngx_translate_core.sK,ng_bootstrap.FF,item_data_service.S,bitstream_data_service.J,selectable_list_service.w,dso_name_service._,Object])],PersonSearchResultListSubmissionElementComponent),__name(OrgUnitInputSuggestionsComponent_div_8_Template,"OrgUnitInputSuggestionsComponent_div_8_Template");const org_unit_input_suggestions_component_c0=__name(function(a0){return{"is-invalid":a0}},"org_unit_input_suggestions_component_c0"),org_unit_input_suggestions_component_c1=__name(function(){return{standalone:!0}},"org_unit_input_suggestions_component_c1"),org_unit_input_suggestions_component_c2=__name(function(a0){return{show:a0}},"org_unit_input_suggestions_component_c2");class OrgUnitInputSuggestionsComponent extends input_suggestions_component.o{constructor(){super(...arguments),this.suggestions=[]}ngOnInit(){this.suggestions.length>0&&(this.value=this.suggestions[0])}onSubmit(data){this.value=data,this.submitSuggestion.emit(data)}onClickSuggestion(data){return this.value=data,this.clickSuggestion.emit(data),this.close(),this.blockReopen=!0,this.queryInput.nativeElement.focus(),!1}}function OrgUnitSearchResultListSubmissionElementComponent_ds_org_unit_input_suggestions_2_Template(rf,ctx){if(1&rf){const _r5=core.EpF();core.TgZ(0,"ds-org-unit-input-suggestions",7),core.NdJ("ngModelChange",__name(function($event){core.CHM(_r5);return core.oxw().selectedName=$event},"OrgUnitSearchResultListSubmissionElementComponent_ds_org_unit_input_suggestions_2_Template_ds_org_unit_input_suggestions_ngModelChange_0_listener"))("clickSuggestion",__name(function($event){return core.CHM(_r5),core.oxw().select($event)},"OrgUnitSearchResultListSubmissionElementComponent_ds_org_unit_input_suggestions_2_Template_ds_org_unit_input_suggestions_clickSuggestion_0_listener"))("submitSuggestion",__name(function($event){return core.CHM(_r5),core.oxw().selectCustom($event)},"OrgUnitSearchResultListSubmissionElementComponent_ds_org_unit_input_suggestions_2_Template_ds_org_unit_input_suggestions_submitSuggestion_0_listener")),core.qZA()}if(2&rf){const ctx_r0=core.oxw();core.Q6J("suggestions",ctx_r0.allSuggestions)("ngModel",ctx_r0.selectedName)}}function OrgUnitSearchResultListSubmissionElementComponent_div_3_Template(rf,ctx){if(1&rf&&core._UZ(0,"div",8),2&rf){const ctx_r1=core.oxw();core.Q6J("innerHTML",ctx_r1.dsoTitle,core.oJD)}}function OrgUnitSearchResultListSubmissionElementComponent_span_5_span_3_Template(rf,ctx){1&rf&&(core.TgZ(0,"span"),core._uU(1,", "),core.qZA())}__name(OrgUnitInputSuggestionsComponent,"OrgUnitInputSuggestionsComponent"),OrgUnitInputSuggestionsComponent.\u0275fac=function(){let \u0275OrgUnitInputSuggestionsComponent_BaseFactory;return __name(function(t){return(\u0275OrgUnitInputSuggestionsComponent_BaseFactory||(\u0275OrgUnitInputSuggestionsComponent_BaseFactory=core.n5z(OrgUnitInputSuggestionsComponent)))(t||OrgUnitInputSuggestionsComponent)},"OrgUnitInputSuggestionsComponent_Factory")}(),OrgUnitInputSuggestionsComponent.\u0275cmp=core.Xpm({type:OrgUnitInputSuggestionsComponent,selectors:[["ds-org-unit-input-suggestions"]],inputs:{suggestions:"suggestions"},features:[core._Bn([{provide:fesm2015_forms.JU,useExisting:(0,core.Gpc)(()=>OrgUnitInputSuggestionsComponent),multi:!0}]),core.qOj],decls:9,vars:16,consts:[[3,"action","ngSubmit","keydown","keydown.arrowdown","keydown.arrowup","keydown.esc","dsClickOutside"],["form","ngForm"],["type","text","autocomplete","off",1,"form-control","suggestion_input",3,"ngModel","name","ngClass","dsDebounce","placeholder","ngModelOptions","ngModelChange","focus","click","onDebounce"],["inputField",""],["type","submit",1,"d-none"],[1,"autocomplete","dropdown-menu",3,"ngClass"],[1,"dropdown-list"],[4,"ngFor","ngForOf"],["href","javascript:void(0);",1,"d-block","dropdown-item",3,"click"],["suggestion",""],[3,"innerHTML"]],template:__name(function(rf,ctx){1&rf&&(core.TgZ(0,"form",0,1),core.NdJ("ngSubmit",__name(function(){return ctx.onSubmit(ctx.value)},"OrgUnitInputSuggestionsComponent_Template_form_ngSubmit_0_listener"))("keydown",__name(function($event){return ctx.onKeydown($event)},"OrgUnitInputSuggestionsComponent_Template_form_keydown_0_listener"))("keydown.arrowdown",__name(function($event){return ctx.shiftFocusDown($event)},"OrgUnitInputSuggestionsComponent_Template_form_keydown_arrowdown_0_listener"))("keydown.arrowup",__name(function($event){return ctx.shiftFocusUp($event)},"OrgUnitInputSuggestionsComponent_Template_form_keydown_arrowup_0_listener"))("keydown.esc",__name(function(){return ctx.close()},"OrgUnitInputSuggestionsComponent_Template_form_keydown_esc_0_listener"))("dsClickOutside",__name(function(){return ctx.close()},"OrgUnitInputSuggestionsComponent_Template_form_dsClickOutside_0_listener")),core.TgZ(2,"input",2,3),core.NdJ("ngModelChange",__name(function($event){return ctx.value=$event},"OrgUnitInputSuggestionsComponent_Template_input_ngModelChange_2_listener"))("focus",__name(function(){return ctx.open()},"OrgUnitInputSuggestionsComponent_Template_input_focus_2_listener"))("click",__name(function(){return ctx.open()},"OrgUnitInputSuggestionsComponent_Template_input_click_2_listener"))("onDebounce",__name(function($event){return ctx.find($event)},"OrgUnitInputSuggestionsComponent_Template_input_onDebounce_2_listener")),core.qZA(),core._UZ(4,"input",4),core.TgZ(5,"div",5),core.ALo(6,"async"),core.TgZ(7,"div",6),core.YNc(8,OrgUnitInputSuggestionsComponent_div_8_Template,4,1,"div",7),core.qZA()()()),2&rf&&(core.Q6J("action",ctx.action,core.LSH),core.xp6(2),core.Q6J("ngModel",ctx.value)("name",ctx.name)("ngClass",core.VKq(11,org_unit_input_suggestions_component_c0,!ctx.valid))("dsDebounce",ctx.debounceTime)("placeholder",ctx.placeholder)("ngModelOptions",core.DdM(13,org_unit_input_suggestions_component_c1)),core.xp6(3),core.Q6J("ngClass",core.VKq(14,org_unit_input_suggestions_component_c2,core.lcZ(6,9,ctx.show)&&ctx.isNotEmpty(ctx.suggestions))),core.xp6(3),core.Q6J("ngForOf",ctx.suggestions))},"OrgUnitInputSuggestionsComponent_Template"),directives:[fesm2015_forms._Y,fesm2015_forms.JL,fesm2015_forms.F,click_outside_directive._,fesm2015_forms.Fj,fesm2015_forms.JJ,fesm2015_forms.On,debounce_directive.q,common.mk,common.sg],pipes:[common.Ov],styles:['form[_ngcontent-%COMP%]{z-index:1}form[_ngcontent-%COMP%]:before{pointer-events:none;position:absolute;font-weight:900;font-family:"Font Awesome 5 Free";content:"\\f0d7";top:7px;right:0;height:20px;width:20px;z-index:-1}form[_ngcontent-%COMP%]   input.suggestion_input[_ngcontent-%COMP%]{background:transparent}',".autocomplete[_ngcontent-%COMP%]{width:100%}.autocomplete[_ngcontent-%COMP%]   .dropdown-item[_ngcontent-%COMP%]{white-space:normal;word-break:break-word;padding:var(--bs-input-padding-y) var(--bs-input-padding-x)}.autocomplete[_ngcontent-%COMP%]   .dropdown-item[_ngcontent-%COMP%]:focus{outline:none}form[_ngcontent-%COMP%]{position:relative}"]}),__name(OrgUnitSearchResultListSubmissionElementComponent_ds_org_unit_input_suggestions_2_Template,"OrgUnitSearchResultListSubmissionElementComponent_ds_org_unit_input_suggestions_2_Template"),__name(OrgUnitSearchResultListSubmissionElementComponent_div_3_Template,"OrgUnitSearchResultListSubmissionElementComponent_div_3_Template"),__name(OrgUnitSearchResultListSubmissionElementComponent_span_5_span_3_Template,"OrgUnitSearchResultListSubmissionElementComponent_span_5_span_3_Template");const org_unit_search_result_list_submission_element_component_c0=__name(function(){return["organization.address.addressLocality"]},"org_unit_search_result_list_submission_element_component_c0");function OrgUnitSearchResultListSubmissionElementComponent_span_5_Template(rf,ctx){if(1&rf&&(core.TgZ(0,"span",9)(1,"span",10),core._UZ(2,"span",10),core.qZA(),core.YNc(3,OrgUnitSearchResultListSubmissionElementComponent_span_5_span_3_Template,2,0,"span",11),core.qZA()),2&rf){const ctx_r2=core.oxw();core.xp6(1),core.Q6J("innerHTML",ctx_r2.firstMetadataValue(core.DdM(3,org_unit_search_result_list_submission_element_component_c0)),core.oJD),core.xp6(1),core.Q6J("innerHTML",ctx_r2.firstMetadataValue(core.DdM(4,org_unit_search_result_list_submission_element_component_c0)),core.oJD),core.xp6(1),core.Q6J("ngIf",ctx_r2.dso.allMetadata("organization.address.addressCountry").length>0)}}__name(OrgUnitSearchResultListSubmissionElementComponent_span_5_Template,"OrgUnitSearchResultListSubmissionElementComponent_span_5_Template");const org_unit_search_result_list_submission_element_component_c1=__name(function(){return["organization.address.addressCountry"]},"org_unit_search_result_list_submission_element_component_c1");function OrgUnitSearchResultListSubmissionElementComponent_span_6_Template(rf,ctx){if(1&rf&&(core.TgZ(0,"span",12)(1,"span",10),core._UZ(2,"span",10),core.qZA()()),2&rf){const ctx_r3=core.oxw();core.xp6(1),core.Q6J("innerHTML",ctx_r3.firstMetadataValue(core.DdM(2,org_unit_search_result_list_submission_element_component_c1)),core.oJD),core.xp6(1),core.Q6J("innerHTML",ctx_r3.firstMetadataValue(core.DdM(3,org_unit_search_result_list_submission_element_component_c1)),core.oJD)}}__name(OrgUnitSearchResultListSubmissionElementComponent_span_6_Template,"OrgUnitSearchResultListSubmissionElementComponent_span_6_Template");let OrgUnitSearchResultListSubmissionElementComponent=__name(class extends search_result_list_element_component.c{constructor(truncatableService,relationshipService,notificationsService,translateService,modalService,itemDataService,bitstreamDataService,selectableListService,dsoNameService,appConfig){super(truncatableService,dsoNameService,appConfig),this.truncatableService=truncatableService,this.relationshipService=relationshipService,this.notificationsService=notificationsService,this.translateService=translateService,this.modalService=modalService,this.itemDataService=itemDataService,this.bitstreamDataService=bitstreamDataService,this.selectableListService=selectableListService,this.dsoNameService=dsoNameService,this.appConfig=appConfig,this.alternativeField="dc.title.alternative",this.useNameVariants=!1}ngOnInit(){if(super.ngOnInit(),this.useNameVariants=this.context===context_model._.EntitySearchModalWithNameVariants,this.useNameVariants){const defaultValue=this.dsoTitle,alternatives=this.allMetadataValues(this.alternativeField);this.allSuggestions=[defaultValue,...alternatives],this.relationshipService.getNameVariant(this.listID,this.dso.uuid).pipe((0,operators.qn)(1)).subscribe(nameVariant=>{this.selectedName=nameVariant||defaultValue})}this.showThumbnails=this.appConfig.browseBy.showThumbnails}select(value){this.selectableListService.isObjectSelected(this.listID,this.object).pipe((0,operators.qn)(1)).subscribe(selected=>{selected||this.selectableListService.selectSingle(this.listID,this.object)}),this.relationshipService.setNameVariant(this.listID,this.dso.uuid,value)}selectCustom(value){this.allSuggestions.includes(value)||this.openModal(value).then(()=>{const newName=new metadata_models.DA;newName.value=value;const existingNames=this.dso.metadata[this.alternativeField]||[],alternativeNames={[this.alternativeField]:[...existingNames,newName]},updatedItem=Object.assign({},this.dso,{metadata:Object.assign(Object.assign({},this.dso.metadata),alternativeNames)});this.itemDataService.update(updatedItem).pipe((0,operators.qn)(1)).subscribe()}).catch(()=>{}).finally(()=>{this.select(value)})}openModal(value){const modalRef=this.modalService.open(NameVariantModalComponent,{centered:!0});return modalRef.componentInstance.value=value,modalRef.result}},"OrgUnitSearchResultListSubmissionElementComponent");OrgUnitSearchResultListSubmissionElementComponent.\u0275fac=__name(function(t){return new(t||OrgUnitSearchResultListSubmissionElementComponent)(core.Y36(truncatable_service.F),core.Y36(relationship_data_service.U),core.Y36(notifications_service.T),core.Y36(ngx_translate_core.sK),core.Y36(ng_bootstrap.FF),core.Y36(item_data_service.S),core.Y36(bitstream_data_service.J),core.Y36(selectable_list_service.w),core.Y36(dso_name_service._),core.Y36(app_config_interface.q))},"OrgUnitSearchResultListSubmissionElementComponent_Factory"),OrgUnitSearchResultListSubmissionElementComponent.\u0275cmp=core.Xpm({type:OrgUnitSearchResultListSubmissionElementComponent,selectors:[["ds-person-search-result-list-submission-element"]],features:[core.qOj],decls:7,vars:4,consts:[[1,"d-flex"],[1,"flex-grow-1"],[3,"suggestions","ngModel","ngModelChange","clickSuggestion","submitSuggestion",4,"ngIf"],["class","lead",3,"innerHTML",4,"ngIf"],[1,"text-muted"],["class","item-list-address-locality",4,"ngIf"],["class","item-list-address-country",4,"ngIf"],[3,"suggestions","ngModel","ngModelChange","clickSuggestion","submitSuggestion"],[1,"lead",3,"innerHTML"],[1,"item-list-address-locality"],[3,"innerHTML"],[4,"ngIf"],[1,"item-list-address-country"]],template:__name(function(rf,ctx){1&rf&&(core.TgZ(0,"div",0)(1,"div",1),core.YNc(2,OrgUnitSearchResultListSubmissionElementComponent_ds_org_unit_input_suggestions_2_Template,1,2,"ds-org-unit-input-suggestions",2),core.YNc(3,OrgUnitSearchResultListSubmissionElementComponent_div_3_Template,1,1,"div",3),core.TgZ(4,"span",4),core.YNc(5,OrgUnitSearchResultListSubmissionElementComponent_span_5_Template,4,5,"span",5),core.YNc(6,OrgUnitSearchResultListSubmissionElementComponent_span_6_Template,3,4,"span",6),core.qZA()()()),2&rf&&(core.xp6(2),core.Q6J("ngIf",ctx.useNameVariants),core.xp6(1),core.Q6J("ngIf",!ctx.useNameVariants),core.xp6(2),core.Q6J("ngIf",ctx.dso.allMetadata("organization.address.addressLocality").length>0),core.xp6(1),core.Q6J("ngIf",ctx.dso.allMetadata("organization.address.addressCountry").length>0))},"OrgUnitSearchResultListSubmissionElementComponent_Template"),directives:[common.O5,OrgUnitInputSuggestionsComponent,fesm2015_forms.JJ,fesm2015_forms.On],styles:[".person-thumbnail[_ngcontent-%COMP%]{width:var(--ds-submission-relationship-thumbnail-width)}"]}),OrgUnitSearchResultListSubmissionElementComponent=(0,tslib_es6.gn)([(0,listable_object_decorator.d$)("OrgUnitSearchResult",view_mode_model.w.ListElement,context_model._.EntitySearchModal),(0,listable_object_decorator.d$)("OrgUnitSearchResult",view_mode_model.w.ListElement,context_model._.EntitySearchModalWithNameVariants),(0,tslib_es6.w6)("design:paramtypes",[truncatable_service.F,relationship_data_service.U,notifications_service.T,ngx_translate_core.sK,ng_bootstrap.FF,item_data_service.S,bitstream_data_service.J,selectable_list_service.w,dso_name_service._,Object])],OrgUnitSearchResultListSubmissionElementComponent);var external_source_entry_model=__webpack_require__(56237),metadata_utils=__webpack_require__(94569);function ExternalSourceEntryListSubmissionElementComponent_div_3_Template(rf,ctx){if(1&rf&&(core.TgZ(0,"div")(1,"a",2),core._uU(2),core.qZA()()),2&rf){const ctx_r0=core.oxw();core.xp6(1),core.Q6J("href",ctx_r0.uri.value,core.LSH),core.xp6(1),core.Oqu(ctx_r0.uri.value)}}__name(ExternalSourceEntryListSubmissionElementComponent_div_3_Template,"ExternalSourceEntryListSubmissionElementComponent_div_3_Template");let ExternalSourceEntryListSubmissionElementComponent=__name(class extends abstract_listable_element_component.i{ngOnInit(){this.uri=metadata_utils.S.first(this.object.metadata,"dc.identifier.uri")}},"ExternalSourceEntryListSubmissionElementComponent");ExternalSourceEntryListSubmissionElementComponent.\u0275fac=function(){let \u0275ExternalSourceEntryListSubmissionElementComponent_BaseFactory;return __name(function(t){return(\u0275ExternalSourceEntryListSubmissionElementComponent_BaseFactory||(\u0275ExternalSourceEntryListSubmissionElementComponent_BaseFactory=core.n5z(ExternalSourceEntryListSubmissionElementComponent)))(t||ExternalSourceEntryListSubmissionElementComponent)},"ExternalSourceEntryListSubmissionElementComponent_Factory")}(),ExternalSourceEntryListSubmissionElementComponent.\u0275cmp=core.Xpm({type:ExternalSourceEntryListSubmissionElementComponent,selectors:[["ds-external-source-entry-list-submission-element"]],features:[core.qOj],decls:4,vars:2,consts:[[1,"d-inline-block"],[4,"ngIf"],["target","_blank",3,"href"]],template:__name(function(rf,ctx){1&rf&&(core.TgZ(0,"div",0)(1,"div"),core._uU(2),core.qZA(),core.YNc(3,ExternalSourceEntryListSubmissionElementComponent_div_3_Template,3,2,"div",1),core.qZA()),2&rf&&(core.xp6(2),core.Oqu(ctx.object.display),core.xp6(1),core.Q6J("ngIf",ctx.uri))},"ExternalSourceEntryListSubmissionElementComponent_Template"),directives:[common.O5],styles:[""]}),ExternalSourceEntryListSubmissionElementComponent=(0,tslib_es6.gn)([(0,listable_object_decorator.d$)(external_source_entry_model.T,view_mode_model.w.ListElement,context_model._.EntitySearchModal),(0,listable_object_decorator.d$)(external_source_entry_model.T,view_mode_model.w.ListElement,context_model._.EntitySearchModalWithNameVariants)],ExternalSourceEntryListSubmissionElementComponent);var sidebar_search_list_element_component=__webpack_require__(39283);function OrgUnitSidebarSearchListElementComponent_ds_truncatable_part_7_Template(rf,ctx){if(1&rf&&(core.TgZ(0,"ds-truncatable-part",0),core._UZ(1,"div",4),core.qZA()),2&rf){const ctx_r0=core.oxw();core.Q6J("maxLines",1)("background",ctx_r0.isCurrent()?"primary":"default")("showToggle",!1),core.xp6(1),core.Q6J("ngClass",ctx_r0.isCurrent()?"text-light":"text-secondary")("innerHTML",ctx_r0.description,core.oJD)}}__name(OrgUnitSidebarSearchListElementComponent_ds_truncatable_part_7_Template,"OrgUnitSidebarSearchListElementComponent_ds_truncatable_part_7_Template");let OrgUnitSidebarSearchListElementComponent=__name(class extends sidebar_search_list_element_component.l{getDescription(){return this.firstMetadataValue("dc.description")}},"OrgUnitSidebarSearchListElementComponent");OrgUnitSidebarSearchListElementComponent.\u0275fac=function(){let \u0275OrgUnitSidebarSearchListElementComponent_BaseFactory;return __name(function(t){return(\u0275OrgUnitSidebarSearchListElementComponent_BaseFactory||(\u0275OrgUnitSidebarSearchListElementComponent_BaseFactory=core.n5z(OrgUnitSidebarSearchListElementComponent)))(t||OrgUnitSidebarSearchListElementComponent)},"OrgUnitSidebarSearchListElementComponent_Factory")}(),OrgUnitSidebarSearchListElementComponent.\u0275cmp=core.Xpm({type:OrgUnitSidebarSearchListElementComponent,selectors:[["ds-org-unit-sidebar-search-list-element"]],features:[core.qOj],decls:8,vars:17,consts:[[3,"maxLines","background","showToggle"],[3,"ngClass","innerHTML"],[1,"font-weight-bold",3,"ngClass","innerHTML"],[3,"maxLines","background","showToggle",4,"ngIf"],[1,"text-secondary",3,"ngClass","innerHTML"]],template:__name(function(rf,ctx){1&rf&&(core.TgZ(0,"ds-truncatable-part",0),core._UZ(1,"div",1),core.ALo(2,"async"),core.ALo(3,"async"),core.ALo(4,"translate"),core.qZA(),core.TgZ(5,"ds-truncatable-part",0),core._UZ(6,"div",2),core.qZA(),core.YNc(7,OrgUnitSidebarSearchListElementComponent_ds_truncatable_part_7_Template,2,5,"ds-truncatable-part",3)),2&rf&&(core.Q6J("maxLines",1)("background",ctx.isCurrent()?"primary":"default")("showToggle",!1),core.xp6(1),core.Q6J("ngClass",ctx.isCurrent()?"text-light":"text-body")("innerHTML",core.lcZ(2,11,ctx.parentTitle$&&ctx.parentTitle$)?core.lcZ(3,13,ctx.parentTitle$):core.lcZ(4,15,"home.breadcrumbs"),core.oJD),core.xp6(4),core.Q6J("maxLines",1)("background",ctx.isCurrent()?"primary":"default")("showToggle",!1),core.xp6(1),core.Q6J("ngClass",ctx.isCurrent()?"text-light":"text-primary")("innerHTML",ctx.dsoTitle,core.oJD),core.xp6(1),core.Q6J("ngIf",ctx.description))},"OrgUnitSidebarSearchListElementComponent_Template"),directives:[truncatable_part_component.L,common.mk,common.O5],pipes:[common.Ov,ngx_translate_core.X$],encapsulation:2}),OrgUnitSidebarSearchListElementComponent=(0,tslib_es6.gn)([(0,listable_object_decorator.d$)("OrgUnitSearchResult",view_mode_model.w.ListElement,context_model._.SideBarSearchModal),(0,listable_object_decorator.d$)("OrgUnitSearchResult",view_mode_model.w.ListElement,context_model._.SideBarSearchModalCurrent)],OrgUnitSidebarSearchListElementComponent);var empty_util=__webpack_require__(24702),link_service=__webpack_require__(94476);function PersonSidebarSearchListElementComponent_ds_truncatable_part_7_Template(rf,ctx){if(1&rf&&(core.TgZ(0,"ds-truncatable-part",0),core._UZ(1,"div",4),core.qZA()),2&rf){const ctx_r0=core.oxw();core.Q6J("maxLines",1)("background",ctx_r0.isCurrent()?"primary":"default")("showToggle",!1),core.xp6(1),core.Q6J("ngClass",ctx_r0.isCurrent()?"text-light":"text-secondary")("innerHTML",ctx_r0.description,core.oJD)}}__name(PersonSidebarSearchListElementComponent_ds_truncatable_part_7_Template,"PersonSidebarSearchListElementComponent_ds_truncatable_part_7_Template");let PersonSidebarSearchListElementComponent=__name(class extends sidebar_search_list_element_component.l{constructor(truncatableService,linkService,translateService,dsoNameService){super(truncatableService,linkService,dsoNameService),this.truncatableService=truncatableService,this.linkService=linkService,this.translateService=translateService,this.dsoNameService=dsoNameService}getDescription(){const titles=this.allMetadataValues(["person.jobTitle"]);let description="";return(0,empty_util.UE)(titles)&&(description+=titles.join(", ")),this.undefinedIfEmpty(description)}},"PersonSidebarSearchListElementComponent");function ProjectSidebarSearchListElementComponent_ds_truncatable_part_7_Template(rf,ctx){if(1&rf&&(core.TgZ(0,"ds-truncatable-part",0),core._UZ(1,"div",4),core.qZA()),2&rf){const ctx_r0=core.oxw();core.Q6J("maxLines",1)("background",ctx_r0.isCurrent()?"primary":"default")("showToggle",!1),core.xp6(1),core.Q6J("ngClass",ctx_r0.isCurrent()?"text-light":"text-secondary")("innerHTML",ctx_r0.description,core.oJD)}}PersonSidebarSearchListElementComponent.\u0275fac=__name(function(t){return new(t||PersonSidebarSearchListElementComponent)(core.Y36(truncatable_service.F),core.Y36(link_service.M),core.Y36(ngx_translate_core.sK),core.Y36(dso_name_service._))},"PersonSidebarSearchListElementComponent_Factory"),PersonSidebarSearchListElementComponent.\u0275cmp=core.Xpm({type:PersonSidebarSearchListElementComponent,selectors:[["ds-person-sidebar-search-list-element"]],features:[core.qOj],decls:8,vars:17,consts:[[3,"maxLines","background","showToggle"],[3,"ngClass","innerHTML"],[1,"font-weight-bold",3,"ngClass","innerHTML"],[3,"maxLines","background","showToggle",4,"ngIf"],[1,"text-secondary",3,"ngClass","innerHTML"]],template:__name(function(rf,ctx){1&rf&&(core.TgZ(0,"ds-truncatable-part",0),core._UZ(1,"div",1),core.ALo(2,"async"),core.ALo(3,"async"),core.ALo(4,"translate"),core.qZA(),core.TgZ(5,"ds-truncatable-part",0),core._UZ(6,"div",2),core.qZA(),core.YNc(7,PersonSidebarSearchListElementComponent_ds_truncatable_part_7_Template,2,5,"ds-truncatable-part",3)),2&rf&&(core.Q6J("maxLines",1)("background",ctx.isCurrent()?"primary":"default")("showToggle",!1),core.xp6(1),core.Q6J("ngClass",ctx.isCurrent()?"text-light":"text-body")("innerHTML",core.lcZ(2,11,ctx.parentTitle$&&ctx.parentTitle$)?core.lcZ(3,13,ctx.parentTitle$):core.lcZ(4,15,"home.breadcrumbs"),core.oJD),core.xp6(4),core.Q6J("maxLines",1)("background",ctx.isCurrent()?"primary":"default")("showToggle",!1),core.xp6(1),core.Q6J("ngClass",ctx.isCurrent()?"text-light":"text-primary")("innerHTML",ctx.dsoTitle,core.oJD),core.xp6(1),core.Q6J("ngIf",ctx.description))},"PersonSidebarSearchListElementComponent_Template"),directives:[truncatable_part_component.L,common.mk,common.O5],pipes:[common.Ov,ngx_translate_core.X$],encapsulation:2}),PersonSidebarSearchListElementComponent=(0,tslib_es6.gn)([(0,listable_object_decorator.d$)("PersonSearchResult",view_mode_model.w.ListElement,context_model._.SideBarSearchModal),(0,listable_object_decorator.d$)("PersonSearchResult",view_mode_model.w.ListElement,context_model._.SideBarSearchModalCurrent),(0,tslib_es6.w6)("design:paramtypes",[truncatable_service.F,link_service.M,ngx_translate_core.sK,dso_name_service._])],PersonSidebarSearchListElementComponent),__name(ProjectSidebarSearchListElementComponent_ds_truncatable_part_7_Template,"ProjectSidebarSearchListElementComponent_ds_truncatable_part_7_Template");let ProjectSidebarSearchListElementComponent=__name(class extends sidebar_search_list_element_component.l{getDescription(){}},"ProjectSidebarSearchListElementComponent");ProjectSidebarSearchListElementComponent.\u0275fac=function(){let \u0275ProjectSidebarSearchListElementComponent_BaseFactory;return __name(function(t){return(\u0275ProjectSidebarSearchListElementComponent_BaseFactory||(\u0275ProjectSidebarSearchListElementComponent_BaseFactory=core.n5z(ProjectSidebarSearchListElementComponent)))(t||ProjectSidebarSearchListElementComponent)},"ProjectSidebarSearchListElementComponent_Factory")}(),ProjectSidebarSearchListElementComponent.\u0275cmp=core.Xpm({type:ProjectSidebarSearchListElementComponent,selectors:[["ds-project-sidebar-search-list-element"]],features:[core.qOj],decls:8,vars:17,consts:[[3,"maxLines","background","showToggle"],[3,"ngClass","innerHTML"],[1,"font-weight-bold",3,"ngClass","innerHTML"],[3,"maxLines","background","showToggle",4,"ngIf"],[1,"text-secondary",3,"ngClass","innerHTML"]],template:__name(function(rf,ctx){1&rf&&(core.TgZ(0,"ds-truncatable-part",0),core._UZ(1,"div",1),core.ALo(2,"async"),core.ALo(3,"async"),core.ALo(4,"translate"),core.qZA(),core.TgZ(5,"ds-truncatable-part",0),core._UZ(6,"div",2),core.qZA(),core.YNc(7,ProjectSidebarSearchListElementComponent_ds_truncatable_part_7_Template,2,5,"ds-truncatable-part",3)),2&rf&&(core.Q6J("maxLines",1)("background",ctx.isCurrent()?"primary":"default")("showToggle",!1),core.xp6(1),core.Q6J("ngClass",ctx.isCurrent()?"text-light":"text-body")("innerHTML",core.lcZ(2,11,ctx.parentTitle$&&ctx.parentTitle$)?core.lcZ(3,13,ctx.parentTitle$):core.lcZ(4,15,"home.breadcrumbs"),core.oJD),core.xp6(4),core.Q6J("maxLines",1)("background",ctx.isCurrent()?"primary":"default")("showToggle",!1),core.xp6(1),core.Q6J("ngClass",ctx.isCurrent()?"text-light":"text-primary")("innerHTML",ctx.dsoTitle,core.oJD),core.xp6(1),core.Q6J("ngIf",ctx.description))},"ProjectSidebarSearchListElementComponent_Template"),directives:[truncatable_part_component.L,common.mk,common.O5],pipes:[common.Ov,ngx_translate_core.X$],encapsulation:2}),ProjectSidebarSearchListElementComponent=(0,tslib_es6.gn)([(0,listable_object_decorator.d$)("ProjectSearchResult",view_mode_model.w.ListElement,context_model._.SideBarSearchModal),(0,listable_object_decorator.d$)("ProjectSearchResult",view_mode_model.w.ListElement,context_model._.SideBarSearchModalCurrent)],ProjectSidebarSearchListElementComponent);var item_shared_module=__webpack_require__(43302);const ENTRY_COMPONENTS=[OrgUnitComponent,PersonComponent,ProjectComponent,OrgUnitListElementComponent,OrgUnitItemMetadataListElementComponent,PersonListElementComponent,PersonItemMetadataListElementComponent,ProjectListElementComponent,PersonGridElementComponent,OrgUnitGridElementComponent,ProjectGridElementComponent,OrgUnitSearchResultListElementComponent,PersonSearchResultListElementComponent,ProjectSearchResultListElementComponent,PersonSearchResultGridElementComponent,OrgUnitSearchResultGridElementComponent,ProjectSearchResultGridElementComponent,PersonSearchResultListSubmissionElementComponent,OrgUnitSearchResultListSubmissionElementComponent,OrgUnitInputSuggestionsComponent,ExternalSourceEntryListSubmissionElementComponent,OrgUnitSidebarSearchListElementComponent,PersonSidebarSearchListElementComponent,ProjectSidebarSearchListElementComponent];class ResearchEntitiesModule{static withEntryComponents(){return{ngModule:ResearchEntitiesModule,providers:ENTRY_COMPONENTS.map(component=>({provide:component}))}}}__name(ResearchEntitiesModule,"ResearchEntitiesModule"),ResearchEntitiesModule.\u0275fac=__name(function(t){return new(t||ResearchEntitiesModule)},"ResearchEntitiesModule_Factory"),ResearchEntitiesModule.\u0275mod=core.oAB({type:ResearchEntitiesModule}),ResearchEntitiesModule.\u0275inj=core.cJS({imports:[[common.ez,item_shared_module.e,shared_module.m,ng_bootstrap.HK]]})},25226:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{a:()=>AbstractItemUpdateComponent});var rxjs__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(76477),_core_data_item_data_service__WEBPACK_IMPORTED_MODULE_1__=(__webpack_require__(33609),__webpack_require__(83639)),_core_data_object_updates_object_updates_service__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(46040),_shared_notifications_notifications_service__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(82596),rxjs_operators__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(83292),_shared_trackable_abstract_trackable_component__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(38030),_environments_environment__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(21540),_item_page_routing_paths__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(40747),_core_shared_operators__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(13730),_shared_empty_util__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(24702),_item_resolver__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(27102),_angular_core__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(5e3),_angular_router__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__(74202),_ngx_translate_core__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__(42466);class AbstractItemUpdateComponent extends _shared_trackable_abstract_trackable_component__WEBPACK_IMPORTED_MODULE_4__._{constructor(itemService,objectUpdatesService,router,notificationsService,translateService,route){super(objectUpdatesService,notificationsService,translateService),this.itemService=itemService,this.objectUpdatesService=objectUpdatesService,this.router=router,this.notificationsService=notificationsService,this.translateService=translateService,this.route=route}ngOnInit(){(0,_shared_empty_util__WEBPACK_IMPORTED_MODULE_8__.Uh)(this.item)?this.setItem(this.item):this.itemUpdateSubscription=(0,rxjs__WEBPACK_IMPORTED_MODULE_9__.combineLatest)([this.route.data,this.route.parent.data]).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_10__.UI)(([data,parentData])=>Object.assign({},data,parentData)),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_10__.UI)(data=>data.dso),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_10__.bw)(rd=>{this.item=rd.payload}),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_10__.wt)(rd=>this.itemService.findByHref(rd.payload._links.self.href,!0,!0,..._item_resolver__WEBPACK_IMPORTED_MODULE_7__.H)),(0,_core_shared_operators__WEBPACK_IMPORTED_MODULE_6__.g1)()).subscribe(rd=>{this.setItem(rd.payload)}),this.discardTimeOut=_environments_environment__WEBPACK_IMPORTED_MODULE_5__.N.item.edit.undoTimeout,this.url=this.router.url,this.url.indexOf("?")>0&&(this.url=this.url.substr(0,this.url.indexOf("?"))),this.hasChanges().pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_10__.Ps)()).subscribe(hasChanges=>{hasChanges?this.checkLastModified():this.initializeOriginalFields()}),this.initializeNotificationsPrefix(),this.initializeUpdates()}setItem(item){this.item=item,this.itemPageRoute=(0,_item_page_routing_paths__WEBPACK_IMPORTED_MODULE_11__.Tt)(this.item),this.postItemInit(),this.initializeUpdates()}ngOnDestroy(){(0,_shared_empty_util__WEBPACK_IMPORTED_MODULE_8__.Uh)(this.itemUpdateSubscription)&&this.itemUpdateSubscription.unsubscribe()}postItemInit(){}initializeUpdates(){}initializeNotificationsPrefix(){}initializeOriginalFields(){}submit(){}trackUpdate(index,update){return update&&update.field?update.field.uuid:void 0}isValid(){return this.objectUpdatesService.isValidPage(this.url)}checkLastModified(){const currentVersion=this.item.lastModified;this.objectUpdatesService.getLastModified(this.url).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_10__.Ps)()).subscribe(updateVersion=>{updateVersion.getDate()!==currentVersion.getDate()&&(this.notificationsService.warning(this.getNotificationTitle("outdated"),this.getNotificationContent("outdated")),this.initializeOriginalFields())})}}__name(AbstractItemUpdateComponent,"AbstractItemUpdateComponent"),AbstractItemUpdateComponent.\u0275fac=__name(function(t){return new(t||AbstractItemUpdateComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_12__.Y36(_core_data_item_data_service__WEBPACK_IMPORTED_MODULE_1__.S),_angular_core__WEBPACK_IMPORTED_MODULE_12__.Y36(_core_data_object_updates_object_updates_service__WEBPACK_IMPORTED_MODULE_2__.d),_angular_core__WEBPACK_IMPORTED_MODULE_12__.Y36(_angular_router__WEBPACK_IMPORTED_MODULE_13__.F0),_angular_core__WEBPACK_IMPORTED_MODULE_12__.Y36(_shared_notifications_notifications_service__WEBPACK_IMPORTED_MODULE_3__.T),_angular_core__WEBPACK_IMPORTED_MODULE_12__.Y36(_ngx_translate_core__WEBPACK_IMPORTED_MODULE_14__.sK),_angular_core__WEBPACK_IMPORTED_MODULE_12__.Y36(_angular_router__WEBPACK_IMPORTED_MODULE_13__.gz))},"AbstractItemUpdateComponent_Factory"),AbstractItemUpdateComponent.\u0275cmp=_angular_core__WEBPACK_IMPORTED_MODULE_12__.Xpm({type:AbstractItemUpdateComponent,selectors:[["ds-abstract-item-update"]],inputs:{item:"item"},features:[_angular_core__WEBPACK_IMPORTED_MODULE_12__.qOj],decls:0,vars:0,template:__name(function(rf,ctx){},"AbstractItemUpdateComponent_Template"),encapsulation:2})},53018:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{EditItemPageModule:()=>EditItemPageModule});var common=__webpack_require__(69808),ng_bootstrap=__webpack_require__(13707),shared_module=__webpack_require__(57981),router=__webpack_require__(74202),fade=__webpack_require__(28652),cjs=__webpack_require__(76477),operators=__webpack_require__(83292),empty_util=__webpack_require__(24702),item_page_routing_paths=__webpack_require__(40747),core=__webpack_require__(5e3),ngx_translate_core=__webpack_require__(42466);const _c0=__name(function(a0){return{active:a0}},"_c0"),_c1=__name(function(a0){return[a0]},"_c1");function EditItemPageComponent_li_8_a_1_Template(rf,ctx){if(1&rf&&(core.TgZ(0,"a",17),core._uU(1),core.ALo(2,"translate"),core.qZA()),2&rf){const page_r1=core.oxw().$implicit,ctx_r2=core.oxw();core.Q6J("ngClass",core.VKq(5,_c0,page_r1.page===ctx_r2.currentPage))("routerLink",core.VKq(7,_c1,"./"+page_r1.page)),core.xp6(1),core.hij(" ",core.lcZ(2,3,"item.edit.tabs."+page_r1.page+".head")," ")}}function EditItemPageComponent_li_8_button_5_Template(rf,ctx){if(1&rf&&(core.TgZ(0,"button",18),core._uU(1),core.ALo(2,"translate"),core.qZA()),2&rf){const page_r1=core.oxw().$implicit;core.xp6(1),core.hij(" ",core.lcZ(2,1,"item.edit.tabs."+page_r1.page+".head")," ")}}function EditItemPageComponent_li_8_Template(rf,ctx){if(1&rf&&(core.TgZ(0,"li",13),core.YNc(1,EditItemPageComponent_li_8_a_1_Template,3,9,"a",14),core.ALo(2,"async"),core.TgZ(3,"span",15),core.ALo(4,"translate"),core.YNc(5,EditItemPageComponent_li_8_button_5_Template,3,3,"button",16),core.ALo(6,"async"),core.qZA()()),2&rf){const page_r1=ctx.$implicit;core.xp6(1),core.Q6J("ngIf",core.lcZ(2,3,page_r1.enabled)),core.xp6(2),core.Q6J("ngbTooltip",core.lcZ(4,5,"item.edit.tabs.disabled.tooltip")),core.xp6(2),core.Q6J("ngIf",!core.lcZ(6,7,page_r1.enabled))}}__name(EditItemPageComponent_li_8_a_1_Template,"EditItemPageComponent_li_8_a_1_Template"),__name(EditItemPageComponent_li_8_button_5_Template,"EditItemPageComponent_li_8_button_5_Template"),__name(EditItemPageComponent_li_8_Template,"EditItemPageComponent_li_8_Template");class EditItemPageComponent{constructor(route,router2,injector){this.route=route,this.router=router2,this.injector=injector,this.router.events.subscribe(()=>this.initPageParamsByRoute())}ngOnInit(){this.initPageParamsByRoute(),this.pages=this.route.routeConfig.children.filter(child=>(0,empty_util.UE)(child.path)).map(child=>{let enabled=(0,cjs.of)(!0);return(0,empty_util.UE)(child.canActivate)&&(enabled=(0,cjs.combineLatest)(child.canActivate.map(guardConstructor=>this.injector.get(guardConstructor).canActivate(this.route.snapshot,this.router.routerState.snapshot))).pipe((0,operators.UI)(canActivateOutcomes=>canActivateOutcomes.every(e=>!0===e)))),{page:child.path,enabled}}),this.itemRD$=this.route.data.pipe((0,operators.UI)(data=>data.dso))}getItemPage(item){return(0,item_page_routing_paths.Tt)(item)}initPageParamsByRoute(){this.currentPage=this.route.snapshot.firstChild.routeConfig.path}}__name(EditItemPageComponent,"EditItemPageComponent"),EditItemPageComponent.\u0275fac=__name(function(t){return new(t||EditItemPageComponent)(core.Y36(router.gz),core.Y36(router.F0),core.Y36(core.zs3))},"EditItemPageComponent_Factory"),EditItemPageComponent.\u0275cmp=core.Xpm({type:EditItemPageComponent,selectors:[["ds-edit-item-page"]],decls:19,vars:10,consts:[[1,"container"],[1,"row"],[1,"col-12"],[1,"border-bottom"],[1,"pt-2"],[1,"nav","nav-tabs","justify-content-start"],["class","nav-item",4,"ngFor","ngForOf"],[1,"tab-pane","active"],[1,"mb-4"],[1,"button-row","bottom"],[1,"text-right"],["role","button",1,"btn","btn-outline-secondary",3,"routerLink"],[1,"fas","fa-arrow-left"],[1,"nav-item"],["class","nav-link",3,"ngClass","routerLink",4,"ngIf"],[3,"ngbTooltip"],["class","nav-link disabled",4,"ngIf"],[1,"nav-link",3,"ngClass","routerLink"],[1,"nav-link","disabled"]],template:__name(function(rf,ctx){if(1&rf&&(core.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h2",3),core._uU(4),core.ALo(5,"translate"),core.qZA(),core.TgZ(6,"div",4)(7,"ul",5),core.YNc(8,EditItemPageComponent_li_8_Template,7,9,"li",6),core.qZA(),core.TgZ(9,"div",7)(10,"div",8),core._UZ(11,"router-outlet"),core.qZA(),core.TgZ(12,"div",9)(13,"div",10)(14,"a",11),core.ALo(15,"async"),core._UZ(16,"i",12),core._uU(17),core.ALo(18,"translate"),core.qZA()()()()()()()()),2&rf){let tmp_2_0;core.xp6(4),core.Oqu(core.lcZ(5,4,"item.edit.head")),core.xp6(4),core.Q6J("ngForOf",ctx.pages),core.xp6(6),core.Q6J("routerLink",ctx.getItemPage(null==(tmp_2_0=core.lcZ(15,6,ctx.itemRD$))?null:tmp_2_0.payload)),core.xp6(3),core.hij(" ",core.lcZ(18,8,"item.edit.return"),"")}},"EditItemPageComponent_Template"),directives:[common.sg,common.O5,router.yS,common.mk,ng_bootstrap._L,router.lC],pipes:[ngx_translate_core.X$,common.Ov],encapsulation:2,data:{animation:[fade.Ji,fade.Ic]},changeDetection:0});var notifications_service=__webpack_require__(82596),item_data_service=__webpack_require__(83639),shared_operators=__webpack_require__(13730);const findSuccessfulAccordingTo=__name(predicate=>source=>source.pipe((0,shared_operators.g1)(),(0,operators.Ps)(predicate)),"findSuccessfulAccordingTo");var modify_item_overview_component=__webpack_require__(30409);const abstract_simple_item_action_component_c0=__name(function(a0){return{id:a0}},"abstract_simple_item_action_component_c0"),abstract_simple_item_action_component_c1=__name(function(a0){return[a0,"edit"]},"abstract_simple_item_action_component_c1");class AbstractSimpleItemActionComponent{constructor(route,router2,notificationsService,itemDataService,translateService){this.route=route,this.router=router2,this.notificationsService=notificationsService,this.itemDataService=itemDataService,this.translateService=translateService}ngOnInit(){this.itemRD$=this.route.data.pipe((0,operators.UI)(data=>data.dso),(0,shared_operators.xw)()),this.itemRD$.pipe((0,operators.Ps)()).subscribe(rd=>{this.item=rd.payload,this.itemPageRoute=(0,item_page_routing_paths.Tt)(this.item)}),this.confirmMessage="item.edit."+this.messageKey+".confirm",this.cancelMessage="item.edit."+this.messageKey+".cancel",this.headerMessage="item.edit."+this.messageKey+".header",this.descriptionMessage="item.edit."+this.messageKey+".description"}performAction(){}processRestResponse(response){response.hasSucceeded?this.itemDataService.findById(this.item.id).pipe(findSuccessfulAccordingTo(this.predicate)).subscribe(()=>{this.notificationsService.success(this.translateService.get("item.edit."+this.messageKey+".success")),this.router.navigate([(0,item_page_routing_paths.tn)(this.item)])}):(this.notificationsService.error(this.translateService.get("item.edit."+this.messageKey+".error")),this.router.navigate([(0,item_page_routing_paths.tn)(this.item)]))}}__name(AbstractSimpleItemActionComponent,"AbstractSimpleItemActionComponent"),AbstractSimpleItemActionComponent.\u0275fac=__name(function(t){return new(t||AbstractSimpleItemActionComponent)(core.Y36(router.gz),core.Y36(router.F0),core.Y36(notifications_service.T),core.Y36(item_data_service.S),core.Y36(ngx_translate_core.sK))},"AbstractSimpleItemActionComponent_Factory"),AbstractSimpleItemActionComponent.\u0275cmp=core.Xpm({type:AbstractSimpleItemActionComponent,selectors:[["ds-simple-action"]],decls:17,vars:19,consts:[[1,"container"],[1,"row"],[1,"col-12"],[3,"item"],[1,"space-children-mr"],[1,"btn","btn-outline-secondary","perform-action",3,"click"],[1,"btn","btn-outline-secondary","cancel",3,"routerLink"]],template:__name(function(rf,ctx){1&rf&&(core.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h2"),core._uU(4),core.ALo(5,"translate"),core.qZA(),core.TgZ(6,"p"),core._uU(7),core.ALo(8,"translate"),core.qZA(),core._UZ(9,"ds-modify-item-overview",3),core.TgZ(10,"div",4)(11,"button",5),core.NdJ("click",__name(function(){return ctx.performAction()},"AbstractSimpleItemActionComponent_Template_button_click_11_listener")),core._uU(12),core.ALo(13,"translate"),core.qZA(),core.TgZ(14,"button",6),core._uU(15),core.ALo(16,"translate"),core.qZA()()()()()),2&rf&&(core.xp6(4),core.Oqu(core.xi3(5,6,ctx.headerMessage,core.VKq(15,abstract_simple_item_action_component_c0,ctx.item.handle))),core.xp6(3),core.Oqu(core.lcZ(8,9,ctx.descriptionMessage)),core.xp6(2),core.Q6J("item",ctx.item),core.xp6(3),core.hij("",core.lcZ(13,11,ctx.confirmMessage)," "),core.xp6(2),core.Q6J("routerLink",core.VKq(17,abstract_simple_item_action_component_c1,ctx.itemPageRoute)),core.xp6(1),core.hij(" ",core.lcZ(16,13,ctx.cancelMessage)," "))},"AbstractSimpleItemActionComponent_Template"),directives:[modify_item_overview_component.E,router.rH],pipes:[ngx_translate_core.X$],encapsulation:2});const item_withdraw_component_c0=__name(function(a0){return{id:a0}},"item_withdraw_component_c0"),item_withdraw_component_c1=__name(function(a0){return[a0,"edit"]},"item_withdraw_component_c1");class ItemWithdrawComponent extends AbstractSimpleItemActionComponent{constructor(route,router2,notificationsService,itemDataService,translateService){super(route,router2,notificationsService,itemDataService,translateService),this.route=route,this.router=router2,this.notificationsService=notificationsService,this.itemDataService=itemDataService,this.translateService=translateService,this.messageKey="withdraw",this.predicate=rd=>rd.payload.isWithdrawn}performAction(){this.itemDataService.setWithDrawn(this.item,!0).pipe((0,shared_operators.hC)()).subscribe(response=>{this.processRestResponse(response)})}}__name(ItemWithdrawComponent,"ItemWithdrawComponent"),ItemWithdrawComponent.\u0275fac=__name(function(t){return new(t||ItemWithdrawComponent)(core.Y36(router.gz),core.Y36(router.F0),core.Y36(notifications_service.T),core.Y36(item_data_service.S),core.Y36(ngx_translate_core.sK))},"ItemWithdrawComponent_Factory"),ItemWithdrawComponent.\u0275cmp=core.Xpm({type:ItemWithdrawComponent,selectors:[["ds-item-withdraw"]],features:[core.qOj],decls:17,vars:19,consts:[[1,"container"],[1,"row"],[1,"col-12"],[3,"item"],[1,"space-children-mr"],[1,"btn","btn-outline-secondary","perform-action",3,"click"],[1,"btn","btn-outline-secondary","cancel",3,"routerLink"]],template:__name(function(rf,ctx){1&rf&&(core.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h2"),core._uU(4),core.ALo(5,"translate"),core.qZA(),core.TgZ(6,"p"),core._uU(7),core.ALo(8,"translate"),core.qZA(),core._UZ(9,"ds-modify-item-overview",3),core.TgZ(10,"div",4)(11,"button",5),core.NdJ("click",__name(function(){return ctx.performAction()},"ItemWithdrawComponent_Template_button_click_11_listener")),core._uU(12),core.ALo(13,"translate"),core.qZA(),core.TgZ(14,"button",6),core._uU(15),core.ALo(16,"translate"),core.qZA()()()()()),2&rf&&(core.xp6(4),core.Oqu(core.xi3(5,6,ctx.headerMessage,core.VKq(15,item_withdraw_component_c0,ctx.item.handle))),core.xp6(3),core.Oqu(core.lcZ(8,9,ctx.descriptionMessage)),core.xp6(2),core.Q6J("item",ctx.item),core.xp6(3),core.hij("",core.lcZ(13,11,ctx.confirmMessage)," "),core.xp6(2),core.Q6J("routerLink",core.VKq(17,item_withdraw_component_c1,ctx.itemPageRoute)),core.xp6(1),core.hij(" ",core.lcZ(16,13,ctx.cancelMessage)," "))},"ItemWithdrawComponent_Template"),directives:[modify_item_overview_component.E,router.rH],pipes:[ngx_translate_core.X$],encapsulation:2});const item_reinstate_component_c0=__name(function(a0){return{id:a0}},"item_reinstate_component_c0"),item_reinstate_component_c1=__name(function(a0){return[a0,"edit"]},"item_reinstate_component_c1");class ItemReinstateComponent extends AbstractSimpleItemActionComponent{constructor(route,router2,notificationsService,itemDataService,translateService){super(route,router2,notificationsService,itemDataService,translateService),this.route=route,this.router=router2,this.notificationsService=notificationsService,this.itemDataService=itemDataService,this.translateService=translateService,this.messageKey="reinstate",this.predicate=rd=>!rd.payload.isWithdrawn}performAction(){this.itemDataService.setWithDrawn(this.item,!1).pipe((0,shared_operators.hC)()).subscribe(response=>{this.processRestResponse(response)})}}__name(ItemReinstateComponent,"ItemReinstateComponent"),ItemReinstateComponent.\u0275fac=__name(function(t){return new(t||ItemReinstateComponent)(core.Y36(router.gz),core.Y36(router.F0),core.Y36(notifications_service.T),core.Y36(item_data_service.S),core.Y36(ngx_translate_core.sK))},"ItemReinstateComponent_Factory"),ItemReinstateComponent.\u0275cmp=core.Xpm({type:ItemReinstateComponent,selectors:[["ds-item-reinstate"]],features:[core.qOj],decls:17,vars:19,consts:[[1,"container"],[1,"row"],[1,"col-12"],[3,"item"],[1,"space-children-mr"],[1,"btn","btn-outline-secondary","perform-action",3,"click"],[1,"btn","btn-outline-secondary","cancel",3,"routerLink"]],template:__name(function(rf,ctx){1&rf&&(core.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h2"),core._uU(4),core.ALo(5,"translate"),core.qZA(),core.TgZ(6,"p"),core._uU(7),core.ALo(8,"translate"),core.qZA(),core._UZ(9,"ds-modify-item-overview",3),core.TgZ(10,"div",4)(11,"button",5),core.NdJ("click",__name(function(){return ctx.performAction()},"ItemReinstateComponent_Template_button_click_11_listener")),core._uU(12),core.ALo(13,"translate"),core.qZA(),core.TgZ(14,"button",6),core._uU(15),core.ALo(16,"translate"),core.qZA()()()()()),2&rf&&(core.xp6(4),core.Oqu(core.xi3(5,6,ctx.headerMessage,core.VKq(15,item_reinstate_component_c0,ctx.item.handle))),core.xp6(3),core.Oqu(core.lcZ(8,9,ctx.descriptionMessage)),core.xp6(2),core.Q6J("item",ctx.item),core.xp6(3),core.hij("",core.lcZ(13,11,ctx.confirmMessage)," "),core.xp6(2),core.Q6J("routerLink",core.VKq(17,item_reinstate_component_c1,ctx.itemPageRoute)),core.xp6(1),core.hij(" ",core.lcZ(16,13,ctx.cancelMessage)," "))},"ItemReinstateComponent_Template"),directives:[modify_item_overview_component.E,router.rH],pipes:[ngx_translate_core.X$],encapsulation:2});const item_private_component_c0=__name(function(a0){return{id:a0}},"item_private_component_c0"),item_private_component_c1=__name(function(a0){return[a0,"edit"]},"item_private_component_c1");class ItemPrivateComponent extends AbstractSimpleItemActionComponent{constructor(route,router2,notificationsService,itemDataService,translateService){super(route,router2,notificationsService,itemDataService,translateService),this.route=route,this.router=router2,this.notificationsService=notificationsService,this.itemDataService=itemDataService,this.translateService=translateService,this.messageKey="private",this.predicate=rd=>!rd.payload.isDiscoverable}performAction(){this.itemDataService.setDiscoverable(this.item,!1).pipe((0,shared_operators.hC)()).subscribe(rd=>{this.processRestResponse(rd)})}}__name(ItemPrivateComponent,"ItemPrivateComponent"),ItemPrivateComponent.\u0275fac=__name(function(t){return new(t||ItemPrivateComponent)(core.Y36(router.gz),core.Y36(router.F0),core.Y36(notifications_service.T),core.Y36(item_data_service.S),core.Y36(ngx_translate_core.sK))},"ItemPrivateComponent_Factory"),ItemPrivateComponent.\u0275cmp=core.Xpm({type:ItemPrivateComponent,selectors:[["ds-item-private"]],features:[core.qOj],decls:17,vars:19,consts:[[1,"container"],[1,"row"],[1,"col-12"],[3,"item"],[1,"space-children-mr"],[1,"btn","btn-outline-secondary","perform-action",3,"click"],[1,"btn","btn-outline-secondary","cancel",3,"routerLink"]],template:__name(function(rf,ctx){1&rf&&(core.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h2"),core._uU(4),core.ALo(5,"translate"),core.qZA(),core.TgZ(6,"p"),core._uU(7),core.ALo(8,"translate"),core.qZA(),core._UZ(9,"ds-modify-item-overview",3),core.TgZ(10,"div",4)(11,"button",5),core.NdJ("click",__name(function(){return ctx.performAction()},"ItemPrivateComponent_Template_button_click_11_listener")),core._uU(12),core.ALo(13,"translate"),core.qZA(),core.TgZ(14,"button",6),core._uU(15),core.ALo(16,"translate"),core.qZA()()()()()),2&rf&&(core.xp6(4),core.Oqu(core.xi3(5,6,ctx.headerMessage,core.VKq(15,item_private_component_c0,ctx.item.handle))),core.xp6(3),core.Oqu(core.lcZ(8,9,ctx.descriptionMessage)),core.xp6(2),core.Q6J("item",ctx.item),core.xp6(3),core.hij("",core.lcZ(13,11,ctx.confirmMessage)," "),core.xp6(2),core.Q6J("routerLink",core.VKq(17,item_private_component_c1,ctx.itemPageRoute)),core.xp6(1),core.hij(" ",core.lcZ(16,13,ctx.cancelMessage)," "))},"ItemPrivateComponent_Template"),directives:[modify_item_overview_component.E,router.rH],pipes:[ngx_translate_core.X$],encapsulation:2});const item_public_component_c0=__name(function(a0){return{id:a0}},"item_public_component_c0"),item_public_component_c1=__name(function(a0){return[a0,"edit"]},"item_public_component_c1");class ItemPublicComponent extends AbstractSimpleItemActionComponent{constructor(route,router2,notificationsService,itemDataService,translateService){super(route,router2,notificationsService,itemDataService,translateService),this.route=route,this.router=router2,this.notificationsService=notificationsService,this.itemDataService=itemDataService,this.translateService=translateService,this.messageKey="public",this.predicate=rd=>rd.payload.isDiscoverable}performAction(){this.itemDataService.setDiscoverable(this.item,!0).pipe((0,shared_operators.hC)()).subscribe(response=>{this.processRestResponse(response)})}}__name(ItemPublicComponent,"ItemPublicComponent"),ItemPublicComponent.\u0275fac=__name(function(t){return new(t||ItemPublicComponent)(core.Y36(router.gz),core.Y36(router.F0),core.Y36(notifications_service.T),core.Y36(item_data_service.S),core.Y36(ngx_translate_core.sK))},"ItemPublicComponent_Factory"),ItemPublicComponent.\u0275cmp=core.Xpm({type:ItemPublicComponent,selectors:[["ds-item-public"]],features:[core.qOj],decls:17,vars:19,consts:[[1,"container"],[1,"row"],[1,"col-12"],[3,"item"],[1,"space-children-mr"],[1,"btn","btn-outline-secondary","perform-action",3,"click"],[1,"btn","btn-outline-secondary","cancel",3,"routerLink"]],template:__name(function(rf,ctx){1&rf&&(core.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h2"),core._uU(4),core.ALo(5,"translate"),core.qZA(),core.TgZ(6,"p"),core._uU(7),core.ALo(8,"translate"),core.qZA(),core._UZ(9,"ds-modify-item-overview",3),core.TgZ(10,"div",4)(11,"button",5),core.NdJ("click",__name(function(){return ctx.performAction()},"ItemPublicComponent_Template_button_click_11_listener")),core._uU(12),core.ALo(13,"translate"),core.qZA(),core.TgZ(14,"button",6),core._uU(15),core.ALo(16,"translate"),core.qZA()()()()()),2&rf&&(core.xp6(4),core.Oqu(core.xi3(5,6,ctx.headerMessage,core.VKq(15,item_public_component_c0,ctx.item.handle))),core.xp6(3),core.Oqu(core.lcZ(8,9,ctx.descriptionMessage)),core.xp6(2),core.Q6J("item",ctx.item),core.xp6(3),core.hij("",core.lcZ(13,11,ctx.confirmMessage)," "),core.xp6(2),core.Q6J("routerLink",core.VKq(17,item_public_component_c1,ctx.itemPageRoute)),core.xp6(1),core.hij(" ",core.lcZ(16,13,ctx.cancelMessage)," "))},"ItemPublicComponent_Template"),directives:[modify_item_overview_component.E,router.rH],pipes:[ngx_translate_core.X$],encapsulation:2});var view_mode_model=__webpack_require__(51121),object_updates_service=__webpack_require__(46040),relationship_data_service=__webpack_require__(88002),entity_type_data_service=__webpack_require__(94357),link_service=__webpack_require__(94476),follow_link_config_model=__webpack_require__(93369),var_directive=__webpack_require__(98605),listable_object_component_loader_component=__webpack_require__(51962);function ItemDeleteComponent_ng_container_10_div_1_div_3_div_1_div_9_ng_container_1_ds_listable_object_component_loader_1_Template(rf,ctx){if(1&rf&&core._UZ(0,"ds-listable-object-component-loader",24),2&rf){const relatedItem_r10=core.oxw().ngVar,ctx_r11=core.oxw(6);core.Q6J("object",relatedItem_r10)("viewMode",ctx_r11.viewMode)}}function ItemDeleteComponent_ng_container_10_div_1_div_3_div_1_div_9_ng_container_1_ng_template_6_ds_listable_object_component_loader_8_Template(rf,ctx){if(1&rf&&core._UZ(0,"ds-listable-object-component-loader",24),2&rf){const relatedItem_r10=core.oxw(2).ngVar,ctx_r15=core.oxw(6);core.Q6J("object",relatedItem_r10)("viewMode",ctx_r15.viewMode)}}function ItemDeleteComponent_ng_container_10_div_1_div_3_div_1_div_9_ng_container_1_ng_template_6_div_9_Template(rf,ctx){if(1&rf&&(core.TgZ(0,"div")(1,"div")(2,"div",30),core._uU(3),core.qZA(),core.TgZ(4,"div"),core._uU(5),core.qZA()()()),2&rf){const metadata_r18=ctx.$implicit;core.xp6(3),core.hij(" ",metadata_r18.metadataField," "),core.xp6(2),core.hij(" ",metadata_r18.metadataValue.value," ")}}function ItemDeleteComponent_ng_container_10_div_1_div_3_div_1_div_9_ng_container_1_ng_template_6_Template(rf,ctx){if(1&rf){const _r20=core.EpF();core.TgZ(0,"div")(1,"div",25),core._uU(2),core.ALo(3,"translate"),core.TgZ(4,"button",26),core.NdJ("click",__name(function(){return core.CHM(_r20),core.oxw(7).closeVirtualMetadataModal()},"ItemDeleteComponent_ng_container_10_div_1_div_3_div_1_div_9_ng_container_1_ng_template_6_Template_button_click_4_listener")),core.TgZ(5,"span",27),core._uU(6,"\xd7"),core.qZA()()(),core.TgZ(7,"div",28),core.YNc(8,ItemDeleteComponent_ng_container_10_div_1_div_3_div_1_div_9_ng_container_1_ng_template_6_ds_listable_object_component_loader_8_Template,1,2,"ds-listable-object-component-loader",18),core.YNc(9,ItemDeleteComponent_ng_container_10_div_1_div_3_div_1_div_9_ng_container_1_ng_template_6_div_9_Template,6,2,"div",29),core.ALo(10,"async"),core.qZA()()}if(2&rf){const relatedItem_r10=core.oxw().ngVar,relationship_r8=core.oxw().$implicit,ctx_r13=core.oxw(5);core.xp6(2),core.hij(" ",core.lcZ(3,3,"virtual-metadata.delete-item.modal-head")," "),core.xp6(6),core.Q6J("ngIf",relatedItem_r10),core.xp6(1),core.Q6J("ngForOf",core.lcZ(10,5,ctx_r13.getVirtualMetadata(relationship_r8)))}}function ItemDeleteComponent_ng_container_10_div_1_div_3_div_1_div_9_ng_container_1_Template(rf,ctx){if(1&rf){const _r24=core.EpF();core.ynx(0),core.YNc(1,ItemDeleteComponent_ng_container_10_div_1_div_3_div_1_div_9_ng_container_1_ds_listable_object_component_loader_1_Template,1,2,"ds-listable-object-component-loader",18),core.TgZ(2,"div",19)(3,"div",20)(4,"button",21),core.NdJ("click",__name(function(){core.CHM(_r24);const _r12=core.MAs(7);return core.oxw(6).openVirtualMetadataModal(_r12)},"ItemDeleteComponent_ng_container_10_div_1_div_3_div_1_div_9_ng_container_1_Template_button_click_4_listener")),core._UZ(5,"i",22),core.qZA()()(),core.YNc(6,ItemDeleteComponent_ng_container_10_div_1_div_3_div_1_div_9_ng_container_1_ng_template_6_Template,11,7,"ng-template",null,23,core.W1O),core.BQk()}if(2&rf){const relatedItem_r10=ctx.ngVar;core.xp6(1),core.Q6J("ngIf",relatedItem_r10)}}function ItemDeleteComponent_ng_container_10_div_1_div_3_div_1_div_9_Template(rf,ctx){if(1&rf&&(core.TgZ(0,"div",12),core.YNc(1,ItemDeleteComponent_ng_container_10_div_1_div_3_div_1_div_9_ng_container_1_Template,8,1,"ng-container",4),core.ALo(2,"async"),core.qZA()),2&rf){const relationship_r8=ctx.$implicit,ctx_r7=core.oxw(5);core.xp6(1),core.Q6J("ngVar",core.lcZ(2,1,ctx_r7.getRelatedItem(relationship_r8)))}}function ItemDeleteComponent_ng_container_10_div_1_div_3_div_1_Template(rf,ctx){if(1&rf){const _r27=core.EpF();core.TgZ(0,"div",12)(1,"div",13),core.NdJ("click",__name(function(){const selected_r6=core.CHM(_r27).ngVar,type_r4=core.oxw().$implicit;return core.oxw(3).setSelected(type_r4,!selected_r6)},"ItemDeleteComponent_ng_container_10_div_1_div_3_div_1_Template_div_click_1_listener")),core.TgZ(2,"label"),core._UZ(3,"input",14),core.qZA()(),core.TgZ(4,"div",15)(5,"h5",16),core.NdJ("click",__name(function(){const selected_r6=core.CHM(_r27).ngVar,type_r4=core.oxw().$implicit;return core.oxw(3).setSelected(type_r4,!selected_r6)},"ItemDeleteComponent_ng_container_10_div_1_div_3_div_1_Template_h5_click_5_listener")),core._uU(6),core.ALo(7,"translate"),core.ALo(8,"async"),core.qZA(),core.YNc(9,ItemDeleteComponent_ng_container_10_div_1_div_3_div_1_div_9_Template,3,3,"div",17),core.ALo(10,"async"),core.qZA()()}if(2&rf){const selected_r6=ctx.ngVar,type_r4=core.oxw().$implicit,ctx_r5=core.oxw(3);core.xp6(3),core.Q6J("checked",selected_r6),core.xp6(3),core.hij(" ",core.lcZ(7,3,ctx_r5.getRelationshipMessageKey(core.lcZ(8,5,ctx_r5.getLabel(type_r4))))," "),core.xp6(3),core.Q6J("ngForOf",core.lcZ(10,7,ctx_r5.getRelationships(type_r4)))}}function ItemDeleteComponent_ng_container_10_div_1_div_3_Template(rf,ctx){if(1&rf&&(core.TgZ(0,"div",9),core.YNc(1,ItemDeleteComponent_ng_container_10_div_1_div_3_div_1_Template,11,9,"div",11),core.ALo(2,"async"),core.qZA()),2&rf){const type_r4=ctx.$implicit,ctx_r3=core.oxw(3);core.xp6(1),core.Q6J("ngVar",core.lcZ(2,1,ctx_r3.isSelected(type_r4)))}}function ItemDeleteComponent_ng_container_10_div_1_Template(rf,ctx){if(1&rf&&(core.TgZ(0,"div",9),core._uU(1),core.ALo(2,"translate"),core.YNc(3,ItemDeleteComponent_ng_container_10_div_1_div_3_Template,3,3,"div",10),core.qZA()),2&rf){const types_r1=core.oxw().ngVar;core.xp6(1),core.hij(" ",core.lcZ(2,2,"virtual-metadata.delete-item.info")," "),core.xp6(2),core.Q6J("ngForOf",types_r1)}}function ItemDeleteComponent_ng_container_10_Template(rf,ctx){if(1&rf&&(core.ynx(0),core.YNc(1,ItemDeleteComponent_ng_container_10_div_1_Template,4,4,"div",8),core.BQk()),2&rf){const types_r1=ctx.ngVar;core.xp6(1),core.Q6J("ngIf",types_r1&&types_r1.length>0)}}__name(ItemDeleteComponent_ng_container_10_div_1_div_3_div_1_div_9_ng_container_1_ds_listable_object_component_loader_1_Template,"ItemDeleteComponent_ng_container_10_div_1_div_3_div_1_div_9_ng_container_1_ds_listable_object_component_loader_1_Template"),__name(ItemDeleteComponent_ng_container_10_div_1_div_3_div_1_div_9_ng_container_1_ng_template_6_ds_listable_object_component_loader_8_Template,"ItemDeleteComponent_ng_container_10_div_1_div_3_div_1_div_9_ng_container_1_ng_template_6_ds_listable_object_component_loader_8_Template"),__name(ItemDeleteComponent_ng_container_10_div_1_div_3_div_1_div_9_ng_container_1_ng_template_6_div_9_Template,"ItemDeleteComponent_ng_container_10_div_1_div_3_div_1_div_9_ng_container_1_ng_template_6_div_9_Template"),__name(ItemDeleteComponent_ng_container_10_div_1_div_3_div_1_div_9_ng_container_1_ng_template_6_Template,"ItemDeleteComponent_ng_container_10_div_1_div_3_div_1_div_9_ng_container_1_ng_template_6_Template"),__name(ItemDeleteComponent_ng_container_10_div_1_div_3_div_1_div_9_ng_container_1_Template,"ItemDeleteComponent_ng_container_10_div_1_div_3_div_1_div_9_ng_container_1_Template"),__name(ItemDeleteComponent_ng_container_10_div_1_div_3_div_1_div_9_Template,"ItemDeleteComponent_ng_container_10_div_1_div_3_div_1_div_9_Template"),__name(ItemDeleteComponent_ng_container_10_div_1_div_3_div_1_Template,"ItemDeleteComponent_ng_container_10_div_1_div_3_div_1_Template"),__name(ItemDeleteComponent_ng_container_10_div_1_div_3_Template,"ItemDeleteComponent_ng_container_10_div_1_div_3_Template"),__name(ItemDeleteComponent_ng_container_10_div_1_Template,"ItemDeleteComponent_ng_container_10_div_1_Template"),__name(ItemDeleteComponent_ng_container_10_Template,"ItemDeleteComponent_ng_container_10_Template");const item_delete_component_c0=__name(function(a0){return{id:a0}},"item_delete_component_c0"),item_delete_component_c1=__name(function(a0){return[a0,"edit"]},"item_delete_component_c1");class ItemDeleteComponent extends AbstractSimpleItemActionComponent{constructor(route,router2,notificationsService,itemDataService,translateService,modalService,objectUpdatesService,relationshipService,entityTypeService,linkService){super(route,router2,notificationsService,itemDataService,translateService),this.route=route,this.router=router2,this.notificationsService=notificationsService,this.itemDataService=itemDataService,this.translateService=translateService,this.modalService=modalService,this.objectUpdatesService=objectUpdatesService,this.relationshipService=relationshipService,this.entityTypeService=entityTypeService,this.linkService=linkService,this.messageKey="delete",this.viewMode=view_mode_model.w.ListElement,this.types$=new cjs.BehaviorSubject([]),this.relationships$=new Map,this.relatedItems$=new Map,this.virtualMetadata$=new Map,this.subs=[]}ngOnInit(){super.ngOnInit(),this.url=this.router.url;const label=this.item.firstMetadataValue("dspace.entity.type");(0,empty_util.UE)(label)&&this.subs.push(this.entityTypeService.getEntityTypeByLabel(label).pipe((0,shared_operators.xw)(),(0,shared_operators.xe)(),(0,operators.wt)(entityType=>this.entityTypeService.getEntityTypeRelationships(entityType.id)),(0,shared_operators.xw)(),(0,shared_operators.xe)(),(0,operators.UI)(relationshipTypes=>relationshipTypes.page),(0,operators.wt)(types=>0===types.length?(0,cjs.of)(types):(0,cjs.combineLatest)(types.map(type=>this.getRelationships(type))).pipe((0,operators.UI)(relationships=>types.reduce((includedTypes,type,index)=>includedTypes.some(includedType=>includedType.id===type.id)||0===relationships[index].length?includedTypes:[...includedTypes,type],[]))))).subscribe(types=>this.types$.next(types))),this.subs.push(this.types$.pipe((0,operators.qn)(1)).subscribe(types=>this.objectUpdatesService.initialize(this.url,types,this.item.lastModified)))}openVirtualMetadataModal(content){this.modalRef=this.modalService.open(content)}closeVirtualMetadataModal(){this.modalRef.close()}getRelationshipMessageKey(label){return(0,empty_util.Uh)(label)&&label.indexOf("Of")>-1?`relationships.${label.substring(0,label.indexOf("Of")+2)}`:label}getLabel(relationshipType){return this.getRelationships(relationshipType).pipe((0,operators.wt)(relationships=>this.isLeftItem(relationships[0]).pipe((0,operators.UI)(isLeftItem=>isLeftItem?relationshipType.leftwardType:relationshipType.rightwardType))))}getRelationships(relationshipType){return this.relationships$.has(relationshipType)||this.relationships$.set(relationshipType,this.relationshipService.getItemRelationshipsArray(this.item).pipe((0,operators.wt)(relationships=>(0,cjs.combineLatest)(relationships.map(relationship=>this.getRelationshipType(relationship))).pipe((0,operators.dL)([]),(0,operators.UI)(types=>relationships.filter((relationship,index)=>relationshipType.id===types[index].id)))))),this.relationships$.get(relationshipType)}getRelationshipType(relationship){return this.linkService.resolveLinks(relationship,(0,follow_link_config_model.l)("relationshipType"),(0,follow_link_config_model.l)("leftItem"),(0,follow_link_config_model.l)("rightItem")),relationship.relationshipType.pipe((0,shared_operators.xw)(),(0,shared_operators.xe)(),(0,operators.hX)(relationshipType=>(0,empty_util.Uh)(relationshipType)&&(0,empty_util.UE)(relationshipType.uuid)))}getRelatedItem(relationship){return this.relatedItems$.has(relationship)||this.relatedItems$.set(relationship,this.isLeftItem(relationship).pipe((0,operators.wt)(isLeftItem=>isLeftItem?relationship.rightItem:relationship.leftItem),(0,shared_operators.xw)(),(0,shared_operators.xe)())),this.relatedItems$.get(relationship)}getVirtualMetadata(relationship){return this.virtualMetadata$.has(relationship)||this.virtualMetadata$.set(relationship,this.getRelatedItem(relationship).pipe((0,operators.UI)(relatedItem=>Object.entries(relatedItem.metadata).map(([key,value])=>value.filter(metadata=>metadata.authority&&metadata.authority.endsWith(relationship.id)).map(metadata=>({metadataField:key,metadataValue:metadata}))).reduce((previous,current)=>previous.concat(current))))),this.virtualMetadata$.get(relationship)}isLeftItem(relationship){return relationship.leftItem.pipe((0,shared_operators.xw)(),(0,shared_operators.xe)(),(0,operators.hX)(item=>(0,empty_util.Uh)(item)&&(0,empty_util.UE)(item.uuid)),(0,operators.UI)(leftItem=>leftItem.uuid===this.item.uuid))}isSelected(type){return this.objectUpdatesService.isSelectedVirtualMetadata(this.url,this.item.uuid,type.uuid)}setSelected(type,selected){this.objectUpdatesService.setSelectedVirtualMetadata(this.url,this.item.uuid,type.uuid,selected)}performAction(){this.subs.push(this.types$.pipe((0,operators.wt)(types=>(0,cjs.combineLatest)(types.map(type=>this.isSelected(type))).pipe((0,operators.dL)([]),(0,operators.UI)(selection=>types.filter((type,index)=>selection[index])),(0,operators.UI)(selectedTypes=>selectedTypes.map(type=>type.id)))),(0,operators.wt)(types=>this.itemDataService.delete(this.item.id,types).pipe((0,shared_operators.hC)()))).subscribe(rd=>{this.notify(rd.hasSucceeded)}))}notify(succeeded){succeeded?(this.notificationsService.success(this.translateService.get("item.edit."+this.messageKey+".success")),this.router.navigate([""])):(this.notificationsService.error(this.translateService.get("item.edit."+this.messageKey+".error")),this.router.navigate([(0,item_page_routing_paths.tn)(this.item)]))}ngOnDestroy(){this.subs.filter(sub=>(0,empty_util.Uh)(sub)).forEach(sub=>sub.unsubscribe())}}__name(ItemDeleteComponent,"ItemDeleteComponent"),ItemDeleteComponent.\u0275fac=__name(function(t){return new(t||ItemDeleteComponent)(core.Y36(router.gz),core.Y36(router.F0),core.Y36(notifications_service.T),core.Y36(item_data_service.S),core.Y36(ngx_translate_core.sK),core.Y36(ng_bootstrap.FF),core.Y36(object_updates_service.d),core.Y36(relationship_data_service.U),core.Y36(entity_type_data_service.k),core.Y36(link_service.M))},"ItemDeleteComponent_Factory"),ItemDeleteComponent.\u0275cmp=core.Xpm({type:ItemDeleteComponent,selectors:[["ds-item-delete"]],inputs:{url:"url"},features:[core.qOj],decls:19,vars:22,consts:[[1,"container"],[1,"row"],[1,"col-12"],[3,"item"],[4,"ngVar"],[1,"space-children-mr"],[1,"btn","btn-outline-secondary","perform-action",3,"click"],[1,"btn","btn-outline-secondary","cancel",3,"routerLink"],["class","mb-4",4,"ngIf"],[1,"mb-4"],["class","mb-4",4,"ngFor","ngForOf"],["class","d-flex flex-row",4,"ngVar"],[1,"d-flex","flex-row"],[1,"m-2",3,"click"],["type","checkbox",3,"checked"],[1,"flex-column","flex-grow-1"],[3,"click"],["class","d-flex flex-row",4,"ngFor","ngForOf"],[3,"object","viewMode",4,"ngIf"],[1,"ml-auto"],[1,"btn-group"],[1,"btn","btn-outline-info","btn-sm",3,"click"],[1,"fas","fa-info","fa-fw"],["virtualMetadataModal",""],[3,"object","viewMode"],[1,"modal-header"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],[4,"ngFor","ngForOf"],[1,"font-weight-bold"]],template:__name(function(rf,ctx){1&rf&&(core.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h2"),core._uU(4),core.ALo(5,"translate"),core.qZA(),core.TgZ(6,"p"),core._uU(7),core.ALo(8,"translate"),core.qZA(),core._UZ(9,"ds-modify-item-overview",3),core.YNc(10,ItemDeleteComponent_ng_container_10_Template,2,1,"ng-container",4),core.ALo(11,"async"),core.TgZ(12,"div",5)(13,"button",6),core.NdJ("click",__name(function(){return ctx.performAction()},"ItemDeleteComponent_Template_button_click_13_listener")),core._uU(14),core.ALo(15,"translate"),core.qZA(),core.TgZ(16,"button",7),core._uU(17),core.ALo(18,"translate"),core.qZA()()()()()),2&rf&&(core.xp6(4),core.Oqu(core.xi3(5,7,ctx.headerMessage,core.VKq(18,item_delete_component_c0,ctx.item.handle))),core.xp6(3),core.Oqu(core.lcZ(8,10,ctx.descriptionMessage)),core.xp6(2),core.Q6J("item",ctx.item),core.xp6(1),core.Q6J("ngVar",core.lcZ(11,12,ctx.types$)),core.xp6(4),core.hij("",core.lcZ(15,14,ctx.confirmMessage)," "),core.xp6(2),core.Q6J("routerLink",core.VKq(20,item_delete_component_c1,ctx.itemPageRoute)),core.xp6(1),core.hij(" ",core.lcZ(18,16,ctx.cancelMessage)," "))},"ItemDeleteComponent_Template"),directives:[modify_item_overview_component.E,var_directive.g,common.O5,common.sg,listable_object_component_loader_component.p,router.rH],pipes:[ngx_translate_core.X$,common.Ov],encapsulation:2});class ItemOperation{constructor(operationKey,operationUrl,featureID,disabled=!1,authorized=!0){this.operationKey=operationKey,this.operationUrl=operationUrl,this.featureID=featureID,this.authorized=authorized,this.setDisabled(disabled)}setDisabled(disabled){this.disabled=disabled}}__name(ItemOperation,"ItemOperation");var authorization_data_service=__webpack_require__(19937),feature_id=__webpack_require__(47235);function ItemOperationComponent_span_5_Template(rf,ctx){if(1&rf&&(core.TgZ(0,"span")(1,"button",5),core._uU(2),core.ALo(3,"translate"),core.qZA()()),2&rf){const ctx_r0=core.oxw();core.xp6(1),core.Q6J("disabled",ctx_r0.operation.disabled)("routerLink",ctx_r0.operation.operationUrl),core.xp6(1),core.hij(" ",core.lcZ(3,3,"item.edit.tabs.status.buttons."+ctx_r0.operation.operationKey+".button")," ")}}function ItemOperationComponent_span_6_Template(rf,ctx){if(1&rf&&(core.TgZ(0,"span",6),core.ALo(1,"translate"),core.TgZ(2,"button",7),core._uU(3),core.ALo(4,"translate"),core.qZA()()),2&rf){const ctx_r1=core.oxw();core.Q6J("ngbTooltip",core.lcZ(1,3,"item.edit.tabs.status.buttons.unauthorized")),core.xp6(2),core.Q6J("disabled",!0),core.xp6(1),core.hij(" ",core.lcZ(4,5,"item.edit.tabs.status.buttons."+ctx_r1.operation.operationKey+".button")," ")}}__name(ItemOperationComponent_span_5_Template,"ItemOperationComponent_span_5_Template"),__name(ItemOperationComponent_span_6_Template,"ItemOperationComponent_span_6_Template");class ItemOperationComponent{}function ItemStatusComponent_div_4_Template(rf,ctx){if(1&rf&&(core.TgZ(0,"div",7)(1,"div",3),core._uU(2),core.ALo(3,"translate"),core.qZA(),core.TgZ(4,"div",8),core._uU(5),core.qZA()()),2&rf){const statusKey_r2=ctx.$implicit,ctx_r0=core.oxw();core.xp6(2),core.hij(" ",core.lcZ(3,3,"item.edit.tabs.status.labels."+statusKey_r2),": "),core.xp6(2),core.MGl("id","status-",statusKey_r2,""),core.xp6(1),core.hij(" ",ctx_r0.statusData[statusKey_r2]," ")}}function ItemStatusComponent_div_13_ds_item_operation_1_Template(rf,ctx){if(1&rf&&core._UZ(0,"ds-item-operation",11),2&rf){const operation_r3=core.oxw().$implicit;core.Q6J("operation",operation_r3)}}__name(ItemOperationComponent,"ItemOperationComponent"),ItemOperationComponent.\u0275fac=__name(function(t){return new(t||ItemOperationComponent)},"ItemOperationComponent_Factory"),ItemOperationComponent.\u0275cmp=core.Xpm({type:ItemOperationComponent,selectors:[["ds-item-operation"]],inputs:{operation:"operation"},decls:7,vars:5,consts:[[1,"col-3","float-left","d-flex","h-100","action-label"],[1,"justify-content-center","align-self-center"],[1,"col-9","float-left","action-button"],[4,"ngIf"],[3,"ngbTooltip",4,"ngIf"],[1,"btn","btn-outline-primary",3,"disabled","routerLink"],[3,"ngbTooltip"],[1,"btn","btn-outline-primary",3,"disabled"]],template:__name(function(rf,ctx){1&rf&&(core.TgZ(0,"div",0)(1,"span",1),core._uU(2),core.ALo(3,"translate"),core.qZA()(),core.TgZ(4,"div",2),core.YNc(5,ItemOperationComponent_span_5_Template,4,5,"span",3),core.YNc(6,ItemOperationComponent_span_6_Template,5,7,"span",4),core.qZA()),2&rf&&(core.xp6(2),core.hij(" ",core.lcZ(3,3,"item.edit.tabs.status.buttons."+ctx.operation.operationKey+".label")," "),core.xp6(3),core.Q6J("ngIf",ctx.operation.authorized),core.xp6(1),core.Q6J("ngIf",!ctx.operation.authorized))},"ItemOperationComponent_Template"),directives:[common.O5,router.rH,ng_bootstrap._L],pipes:[ngx_translate_core.X$],encapsulation:2}),__name(ItemStatusComponent_div_4_Template,"ItemStatusComponent_div_4_Template"),__name(ItemStatusComponent_div_13_ds_item_operation_1_Template,"ItemStatusComponent_div_13_ds_item_operation_1_Template");const item_status_component_c0=__name(function(a0){return{"pt-3":a0}},"item_status_component_c0");function ItemStatusComponent_div_13_Template(rf,ctx){if(1&rf&&(core.TgZ(0,"div",9),core.YNc(1,ItemStatusComponent_div_13_ds_item_operation_1_Template,1,1,"ds-item-operation",10),core.qZA()),2&rf){const operation_r3=ctx.$implicit;core.Q6J("ngClass",core.VKq(2,item_status_component_c0,operation_r3)),core.xp6(1),core.Q6J("ngIf",operation_r3)}}__name(ItemStatusComponent_div_13_Template,"ItemStatusComponent_div_13_Template");class ItemStatusComponent{constructor(route,authorizationService){this.route=route,this.authorizationService=authorizationService,this.operations$=new cjs.BehaviorSubject([])}ngOnInit(){this.itemRD$=this.route.parent.data.pipe((0,operators.UI)(data=>data.dso)),this.itemRD$.pipe((0,operators.Ps)(),(0,operators.UI)(data=>data.payload)).subscribe(item=>{this.statusData=Object.assign({id:item.id,handle:item.handle,lastModified:item.lastModified}),this.statusDataKeys=Object.keys(this.statusData);const operations=[];operations.push(new ItemOperation("authorizations",this.getCurrentUrl(item)+"/authorizations",feature_id.i.CanManagePolicies,!0)),operations.push(new ItemOperation("mappedCollections",this.getCurrentUrl(item)+"/mapper",feature_id.i.CanManageMappings,!0)),item.isWithdrawn?operations.push(new ItemOperation("reinstate",this.getCurrentUrl(item)+"/reinstate",feature_id.i.ReinstateItem,!0)):operations.push(new ItemOperation("withdraw",this.getCurrentUrl(item)+"/withdraw",feature_id.i.WithdrawItem,!0)),item.isDiscoverable?operations.push(new ItemOperation("private",this.getCurrentUrl(item)+"/private",feature_id.i.CanMakePrivate,!0)):operations.push(new ItemOperation("public",this.getCurrentUrl(item)+"/public",feature_id.i.CanMakePrivate,!0)),operations.push(new ItemOperation("delete",this.getCurrentUrl(item)+"/delete",feature_id.i.CanDelete,!0)),operations.push(new ItemOperation("move",this.getCurrentUrl(item)+"/move",feature_id.i.CanMove,!0)),this.operations$.next(operations),(0,cjs.from)(operations).pipe((0,operators.zg)(operation=>(0,empty_util.Uh)(operation.featureID)?this.authorizationService.isAuthorized(operation.featureID,item.self).pipe((0,operators.xb)(),(0,operators.UI)(authorized=>new ItemOperation(operation.operationKey,operation.operationUrl,operation.featureID,!authorized,authorized))):[operation]),(0,operators.qo)()).subscribe(ops=>this.operations$.next(ops))}),this.itemPageRoute$=this.itemRD$.pipe((0,shared_operators.mc)(),(0,operators.UI)(item=>(0,item_page_routing_paths.Tt)(item)))}getCurrentUrl(item){return(0,item_page_routing_paths.tn)(item)}trackOperation(index,operation){return(0,empty_util.Uh)(operation)?operation.operationKey:void 0}}__name(ItemStatusComponent,"ItemStatusComponent"),ItemStatusComponent.\u0275fac=__name(function(t){return new(t||ItemStatusComponent)(core.Y36(router.gz),core.Y36(authorization_data_service._))},"ItemStatusComponent_Factory"),ItemStatusComponent.\u0275cmp=core.Xpm({type:ItemStatusComponent,selectors:[["ds-item-status"]],decls:15,vars:16,consts:[[1,"mt-2"],[1,"row"],["class","w-100",4,"ngFor","ngForOf"],[1,"col-3","float-left","status-label"],["id","status-itemPage",1,"col-9","float-left","status-data"],[3,"routerLink"],["class","w-100",3,"ngClass",4,"ngFor","ngForOf"],[1,"w-100"],[1,"col-9","float-left","status-data",3,"id"],[1,"w-100",3,"ngClass"],[3,"operation",4,"ngIf"],[3,"operation"]],template:__name(function(rf,ctx){1&rf&&(core.TgZ(0,"p",0),core._uU(1),core.ALo(2,"translate"),core.qZA(),core.TgZ(3,"div",1),core.YNc(4,ItemStatusComponent_div_4_Template,6,5,"div",2),core.TgZ(5,"div",3),core._uU(6),core.ALo(7,"translate"),core.qZA(),core.TgZ(8,"div",4)(9,"a",5),core.ALo(10,"async"),core._uU(11),core.ALo(12,"async"),core.qZA()(),core.YNc(13,ItemStatusComponent_div_13_Template,2,4,"div",6),core.ALo(14,"async"),core.qZA()),2&rf&&(core.xp6(1),core.Oqu(core.lcZ(2,6,"item.edit.tabs.status.description")),core.xp6(3),core.Q6J("ngForOf",ctx.statusDataKeys),core.xp6(2),core.hij(" ",core.lcZ(7,8,"item.edit.tabs.status.labels.itemPage"),": "),core.xp6(3),core.Q6J("routerLink",core.lcZ(10,10,ctx.itemPageRoute$)),core.xp6(2),core.Oqu(core.lcZ(12,12,ctx.itemPageRoute$)),core.xp6(2),core.Q6J("ngForOf",core.lcZ(14,14,ctx.operations$)))},"ItemStatusComponent_Template"),directives:[common.sg,router.yS,common.mk,common.O5,ItemOperationComponent],pipes:[ngx_translate_core.X$,common.Ov],encapsulation:2,data:{animation:[fade.Ji,fade.Ic]}});var item_metadata_component=__webpack_require__(7803),abstract_item_update_component=__webpack_require__(25226),bitstream_data_service=__webpack_require__(48532),object_cache_service=__webpack_require__(58943),request_service=__webpack_require__(31241),bundle_data_service=__webpack_require__(90697),paginated_search_options_model=__webpack_require__(35598);class ResponsiveColumnSizes{constructor(xs,sm,md,lg,xl){this.xs=xs,this.sm=sm,this.md=md,this.lg=lg,this.xl=xl}buildClasses(){return`col-${this.xs} col-sm-${this.sm} col-md-${this.md} col-lg-${this.lg} col-xl-${this.xl}`}}__name(ResponsiveColumnSizes,"ResponsiveColumnSizes");class ResponsiveTableSizes{constructor(columns){this.columns=columns}combineColumns(start,end){if(start<end&&(0,empty_util.Uh)(this.columns[start])&&(0,empty_util.Uh)(this.columns[end])){let xs=this.columns[start].xs,sm=this.columns[start].sm,md=this.columns[start].md,lg=this.columns[start].lg,xl=this.columns[start].xl;for(let i=start+1;i<end+1;i++)xs+=this.columns[i].xs,sm+=this.columns[i].sm,md+=this.columns[i].md,lg+=this.columns[i].lg,xl+=this.columns[i].xl;return new ResponsiveColumnSizes(xs,sm,md,lg,xl)}}}__name(ResponsiveTableSizes,"ResponsiveTableSizes");var field_change_type_model=__webpack_require__(59051);const item_edit_bitstream_drag_handle_component_c0=["handleView"];function ItemEditBitstreamDragHandleComponent_ng_template_0_Template(rf,ctx){1&rf&&(core.TgZ(0,"div",1),core._UZ(1,"i",2),core.ALo(2,"translate"),core.qZA()),2&rf&&(core.xp6(1),core.Q6J("title",core.lcZ(2,1,"item.edit.bitstreams.edit.buttons.drag")))}__name(ItemEditBitstreamDragHandleComponent_ng_template_0_Template,"ItemEditBitstreamDragHandleComponent_ng_template_0_Template");class ItemEditBitstreamDragHandleComponent{constructor(viewContainerRef){this.viewContainerRef=viewContainerRef}ngOnInit(){this.viewContainerRef.createEmbeddedView(this.handleView)}}__name(ItemEditBitstreamDragHandleComponent,"ItemEditBitstreamDragHandleComponent"),ItemEditBitstreamDragHandleComponent.\u0275fac=__name(function(t){return new(t||ItemEditBitstreamDragHandleComponent)(core.Y36(core.s_b))},"ItemEditBitstreamDragHandleComponent_Factory"),ItemEditBitstreamDragHandleComponent.\u0275cmp=core.Xpm({type:ItemEditBitstreamDragHandleComponent,selectors:[["ds-item-edit-bitstream-drag-handle"]],viewQuery:__name(function(rf,ctx){if(1&rf&&core.Gf(item_edit_bitstream_drag_handle_component_c0,7),2&rf){let _t;core.iGM(_t=core.CRH())&&(ctx.handleView=_t.first)}},"ItemEditBitstreamDragHandleComponent_Query"),decls:2,vars:0,consts:[["handleView",""],["tabindex","0",1,"drag-handle","text-muted","float-left","p-1","mr-2"],[1,"fas","fa-grip-vertical","fa-fw",3,"title"]],template:__name(function(rf,ctx){1&rf&&core.YNc(0,ItemEditBitstreamDragHandleComponent_ng_template_0_Template,3,3,"ng-template",null,0,core.W1O)},"ItemEditBitstreamDragHandleComponent_Template"),pipes:[ngx_translate_core.X$],styles:[".header-row[_ngcontent-%COMP%]{color:var(--bs-table-dark-color);background-color:var(--bs-table-dark-bg);border-color:var(--bs-table-dark-border-color)}.bundle-row[_ngcontent-%COMP%]{color:var(--bs-table-head-color);background-color:var(--bs-table-head-bg);border-color:var(--bs-table-border-color)}.row-element[_ngcontent-%COMP%]{padding:.75em;border-bottom:var(--bs-table-border-width) solid var(--bs-table-border-color)}.drag-handle[_ngcontent-%COMP%]{visibility:hidden}.drag-handle[_ngcontent-%COMP%]:hover, .bitstream-row-drag-handle[_ngcontent-%COMP%]:hover{cursor:move}[_nghost-%COMP%]     .bitstream-row:hover .drag-handle, [_nghost-%COMP%]     .bitstream-row-drag-handle:focus .drag-handle{visibility:visible!important}.cdk-drag-preview[_ngcontent-%COMP%]{margin-left:0;box-sizing:border-box;box-shadow:0 5px 5px -3px #0003,0 8px 10px 1px #00000024,0 3px 14px 2px #0000001f}.cdk-drag-placeholder[_ngcontent-%COMP%]{opacity:0}.cdk-drag-animating[_ngcontent-%COMP%]{transition:transform .25s cubic-bezier(0,0,.2,1)}.cdk-drop-list-dragging[_ngcontent-%COMP%]   .bitstream-row-drag-handle[_ngcontent-%COMP%], .cdk-drop-list-dragging[_ngcontent-%COMP%]   .drag-handle[_ngcontent-%COMP%]{cursor:grabbing}[_nghost-%COMP%]     .larger-tooltip .tooltip-inner{max-width:500px}"]});__webpack_require__(11221),__webpack_require__(33609);var pagination_component_options_model=__webpack_require__(26638),drag_drop=__webpack_require__(72903),pagination_component=__webpack_require__(62697),object_values_pipe=__webpack_require__(5023),item_relationships_utils=__webpack_require__(4900),pagination_service=__webpack_require__(77467);const compareArraysUsingFieldUuids=__name(()=>(0,item_relationships_utils.Rh)(fieldUpdate=>(0,empty_util.Uh)(fieldUpdate)&&(0,empty_util.Uh)(fieldUpdate.field)?fieldUpdate.field.uuid:void 0),"compareArraysUsingFieldUuids");class AbstractPaginatedDragAndDropListComponent{constructor(objectUpdatesService,elRef,objectValuesPipe,paginationService){this.objectUpdatesService=objectUpdatesService,this.elRef=elRef,this.objectValuesPipe=objectValuesPipe,this.paginationService=paginationService,this.dropObject=new core.vpe,this.pageSize=10,this.options=Object.assign(new pagination_component_options_model.r,{id:"dad",currentPage:1,pageSize:this.pageSize}),this.currentPage$=new cjs.BehaviorSubject(this.options),this.loading$=new cjs.BehaviorSubject(!1),this.subs=[]}ngOnInit(){this.initializeObjectsRD(),this.initializeURL(),this.initializeUpdates(),this.initializePagination()}initializePagination(){this.paginationService.getCurrentPagination(this.options.id,this.options).subscribe(currentPagination=>{this.currentPage$.next(currentPagination)})}initializeUpdates(){this.objectsRD$.pipe((0,shared_operators.xw)(),(0,shared_operators.ZU)()).subscribe(objects=>{this.objectUpdatesService.initialize(this.url,objects,new Date)}),this.updates$=this.objectsRD$.pipe((0,shared_operators.g1)(),(0,shared_operators.ZU)(),(0,operators.wt)(objects=>this.objectUpdatesService.getFieldUpdatesExclusive(this.url,objects))),this.subs.push(this.updates$.pipe((0,operators.UI)(fieldUpdates=>this.objectValuesPipe.transform(fieldUpdates)),(0,operators.xb)(compareArraysUsingFieldUuids())).subscribe(updateValues=>{this.customOrder=updateValues.map(fieldUpdate=>fieldUpdate.field.uuid),this.loading$.next(!1)}),this.loading$.subscribe(loading=>this.options.disabled=loading))}drop(event2){const dragIndex=event2.previousIndex;let dropIndex=event2.currentIndex;const dragPage=this.currentPage$.value.currentPage-1;let dropPage=this.currentPage$.value.currentPage-1;const droppedOnElement=this.elRef.nativeElement.querySelector(".page-item:hover");if((0,empty_util.Uh)(droppedOnElement)&&(0,empty_util.Uh)(droppedOnElement.textContent)){const droppedPage=Number(droppedOnElement.textContent);(0,empty_util.Uh)(droppedPage)&&!Number.isNaN(droppedPage)&&(dropPage=droppedPage-1,dropIndex=0)}const isNewPage=dragPage!==dropPage;!isNewPage&&dragIndex!==dropIndex&&(0,drag_drop.bA)(this.customOrder,dragIndex,dropIndex);const redirectPage=dropPage+1,fromIndex=dragPage*this.pageSize+dragIndex,toIndex=dropPage*this.pageSize+dropIndex;fromIndex!==toIndex&&(isNewPage&&this.loading$.next(!0),this.dropObject.emit(Object.assign({fromIndex,toIndex,finish:()=>{isNewPage&&this.paginationComponent.doPageChange(redirectPage)}})))}ngOnDestroy(){this.subs.filter(sub=>(0,empty_util.Uh)(sub)).forEach(sub=>sub.unsubscribe()),this.paginationService.clearPagination(this.options.id)}}__name(AbstractPaginatedDragAndDropListComponent,"AbstractPaginatedDragAndDropListComponent"),AbstractPaginatedDragAndDropListComponent.\u0275fac=__name(function(t){return new(t||AbstractPaginatedDragAndDropListComponent)(core.Y36(object_updates_service.d),core.Y36(core.SBq),core.Y36(object_values_pipe.g),core.Y36(pagination_service.N))},"AbstractPaginatedDragAndDropListComponent_Factory"),AbstractPaginatedDragAndDropListComponent.\u0275cmp=core.Xpm({type:AbstractPaginatedDragAndDropListComponent,selectors:[["ds-paginated-drag-drop-abstract"]],viewQuery:__name(function(rf,ctx){if(1&rf&&core.Gf(pagination_component.Q,5),2&rf){let _t;core.iGM(_t=core.CRH())&&(ctx.paginationComponent=_t.first)}},"AbstractPaginatedDragAndDropListComponent_Query"),outputs:{dropObject:"dropObject"},decls:0,vars:0,template:__name(function(rf,ctx){},"AbstractPaginatedDragAndDropListComponent_Template"),encapsulation:2});var lodash=__webpack_require__(17489),dso_name_service=__webpack_require__(83616),app_routing_paths=__webpack_require__(50503),browser_only_pipe=__webpack_require__(73579);const item_edit_bitstream_component_c0=["bitstreamView"];function ItemEditBitstreamComponent_ng_template_0_a_17_Template(rf,ctx){if(1&rf&&(core.TgZ(0,"a",14),core.ALo(1,"translate"),core.ALo(2,"dsBrowserOnly"),core._UZ(3,"i",15),core.qZA()),2&rf){const ctx_r2=core.oxw(2);core.s9C("title",core.lcZ(1,3,"item.edit.bitstreams.edit.buttons.download")),core.Q6J("href",ctx_r2.bitstreamDownloadUrl,core.LSH),core.uIk("data-test",core.lcZ(2,5,"download-button"))}}__name(ItemEditBitstreamComponent_ng_template_0_a_17_Template,"ItemEditBitstreamComponent_ng_template_0_a_17_Template");const item_edit_bitstream_component_c1=__name(function(a1){return["/bitstreams/",a1,"edit"]},"item_edit_bitstream_component_c1");function ItemEditBitstreamComponent_ng_template_0_Template(rf,ctx){if(1&rf){const _r4=core.EpF();core.TgZ(0,"div"),core.Hsn(1),core.TgZ(2,"div",1)(3,"span",2),core._uU(4),core.qZA()()(),core.TgZ(5,"div")(6,"div",3)(7,"div",4),core._uU(8),core.qZA()()(),core.TgZ(9,"div")(10,"div",5)(11,"span",2),core._uU(12),core.ALo(13,"async"),core.qZA()()(),core.TgZ(14,"div")(15,"div",5)(16,"div",6),core.YNc(17,ItemEditBitstreamComponent_ng_template_0_a_17_Template,4,7,"a",7),core.TgZ(18,"button",8),core.ALo(19,"translate"),core._UZ(20,"i",9),core.qZA(),core.TgZ(21,"button",10),core.NdJ("click",__name(function(){return core.CHM(_r4),core.oxw().remove()},"ItemEditBitstreamComponent_ng_template_0_Template_button_click_21_listener")),core.ALo(22,"translate"),core._UZ(23,"i",11),core.qZA(),core.TgZ(24,"button",12),core.NdJ("click",__name(function(){return core.CHM(_r4),core.oxw().undo()},"ItemEditBitstreamComponent_ng_template_0_Template_button_click_24_listener")),core.ALo(25,"translate"),core._UZ(26,"i",13),core.qZA()()()()}if(2&rf){const ctx_r1=core.oxw();let tmp_7_0;core.Gre("",ctx_r1.columnSizes.columns[0].buildClasses()," row-element d-flex"),core.xp6(4),core.hij(" ",ctx_r1.bitstreamName," "),core.xp6(1),core.Gre("",ctx_r1.columnSizes.columns[1].buildClasses()," row-element d-flex align-items-center"),core.xp6(2),core.Q6J("tooltipClass","larger-tooltip")("ngbTooltip",null==ctx_r1.bitstream?null:ctx_r1.bitstream.firstMetadataValue("dc.description")),core.xp6(1),core.hij(" ",null==ctx_r1.bitstream?null:ctx_r1.bitstream.firstMetadataValue("dc.description")," "),core.xp6(1),core.Gre("",ctx_r1.columnSizes.columns[2].buildClasses()," row-element d-flex align-items-center"),core.xp6(3),core.hij(" ",null==(tmp_7_0=core.lcZ(13,24,ctx_r1.format$))?null:tmp_7_0.shortDescription," "),core.xp6(2),core.Gre("",ctx_r1.columnSizes.columns[3].buildClasses()," row-element d-flex align-items-center"),core.xp6(3),core.Q6J("ngIf",null!=ctx_r1.bitstreamDownloadUrl),core.xp6(1),core.s9C("title",core.lcZ(19,26,"item.edit.bitstreams.edit.buttons.edit")),core.Q6J("routerLink",core.VKq(32,item_edit_bitstream_component_c1,ctx_r1.bitstream.id)),core.xp6(3),core.s9C("title",core.lcZ(22,28,"item.edit.bitstreams.edit.buttons.remove")),core.Q6J("disabled",!ctx_r1.canRemove()),core.xp6(3),core.s9C("title",core.lcZ(25,30,"item.edit.bitstreams.edit.buttons.undo")),core.Q6J("disabled",!ctx_r1.canUndo())}}__name(ItemEditBitstreamComponent_ng_template_0_Template,"ItemEditBitstreamComponent_ng_template_0_Template");const _c2=[[["","slot","drag-handle"]]];class ItemEditBitstreamComponent{constructor(objectUpdatesService,dsoNameService,viewContainerRef){this.objectUpdatesService=objectUpdatesService,this.dsoNameService=dsoNameService,this.viewContainerRef=viewContainerRef}ngOnInit(){this.viewContainerRef.createEmbeddedView(this.bitstreamView)}ngOnChanges(changes){this.bitstream=(0,lodash.cloneDeep)(this.fieldUpdate.field),this.bitstreamName=this.dsoNameService.getName(this.bitstream),this.bitstreamDownloadUrl=(0,app_routing_paths.gs)(this.bitstream),this.format$=this.bitstream.format.pipe((0,shared_operators.xw)(),(0,shared_operators.xe)())}remove(){this.objectUpdatesService.saveRemoveFieldUpdate(this.bundleUrl,this.bitstream)}undo(){this.objectUpdatesService.removeSingleFieldUpdate(this.bundleUrl,this.bitstream.uuid)}canRemove(){return this.fieldUpdate.changeType!==field_change_type_model.m.REMOVE}canUndo(){return this.fieldUpdate.changeType>=0}}__name(ItemEditBitstreamComponent,"ItemEditBitstreamComponent"),ItemEditBitstreamComponent.\u0275fac=__name(function(t){return new(t||ItemEditBitstreamComponent)(core.Y36(object_updates_service.d),core.Y36(dso_name_service._),core.Y36(core.s_b))},"ItemEditBitstreamComponent_Factory"),ItemEditBitstreamComponent.\u0275cmp=core.Xpm({type:ItemEditBitstreamComponent,selectors:[["ds-item-edit-bitstream"]],viewQuery:__name(function(rf,ctx){if(1&rf&&core.Gf(item_edit_bitstream_component_c0,7),2&rf){let _t;core.iGM(_t=core.CRH())&&(ctx.bitstreamView=_t.first)}},"ItemEditBitstreamComponent_Query"),inputs:{fieldUpdate:"fieldUpdate",bundleUrl:"bundleUrl",columnSizes:"columnSizes"},features:[core.TTD],ngContentSelectors:["[slot=drag-handle]"],decls:2,vars:0,consts:[["bitstreamView",""],[1,"float-left","d-flex","align-items-center","overflow-hidden"],[1,"text-truncate"],[1,"w-100"],["placement","bottom",1,"text-truncate",3,"tooltipClass","ngbTooltip"],[1,"text-center","w-100"],[1,"btn-group","relationship-action-buttons"],["class","btn btn-outline-primary btn-sm",3,"href","title",4,"ngIf"],[1,"btn","btn-outline-primary","btn-sm",3,"routerLink","title"],[1,"fas","fa-edit","fa-fw"],[1,"btn","btn-outline-danger","btn-sm",3,"disabled","title","click"],[1,"fas","fa-trash-alt","fa-fw"],[1,"btn","btn-outline-warning","btn-sm",3,"disabled","title","click"],[1,"fas","fa-undo-alt","fa-fw"],[1,"btn","btn-outline-primary","btn-sm",3,"href","title"],[1,"fas","fa-download","fa-fw"]],template:__name(function(rf,ctx){1&rf&&(core.F$t(_c2),core.YNc(0,ItemEditBitstreamComponent_ng_template_0_Template,27,34,"ng-template",null,0,core.W1O))},"ItemEditBitstreamComponent_Template"),directives:[ng_bootstrap._L,common.O5,router.rH],pipes:[common.Ov,ngx_translate_core.X$,browser_only_pipe.g],styles:[".header-row[_ngcontent-%COMP%]{color:var(--bs-table-dark-color);background-color:var(--bs-table-dark-bg);border-color:var(--bs-table-dark-border-color)}.bundle-row[_ngcontent-%COMP%]{color:var(--bs-table-head-color);background-color:var(--bs-table-head-bg);border-color:var(--bs-table-border-color)}.row-element[_ngcontent-%COMP%]{padding:.75em;border-bottom:var(--bs-table-border-width) solid var(--bs-table-border-color)}.drag-handle[_ngcontent-%COMP%]{visibility:hidden}.drag-handle[_ngcontent-%COMP%]:hover, .bitstream-row-drag-handle[_ngcontent-%COMP%]:hover{cursor:move}[_nghost-%COMP%]     .bitstream-row:hover .drag-handle, [_nghost-%COMP%]     .bitstream-row-drag-handle:focus .drag-handle{visibility:visible!important}.cdk-drag-preview[_ngcontent-%COMP%]{margin-left:0;box-sizing:border-box;box-shadow:0 5px 5px -3px #0003,0 8px 10px 1px #00000024,0 3px 14px 2px #0000001f}.cdk-drag-placeholder[_ngcontent-%COMP%]{opacity:0}.cdk-drag-animating[_ngcontent-%COMP%]{transition:transform .25s cubic-bezier(0,0,.2,1)}.cdk-drop-list-dragging[_ngcontent-%COMP%]   .bitstream-row-drag-handle[_ngcontent-%COMP%], .cdk-drop-list-dragging[_ngcontent-%COMP%]   .drag-handle[_ngcontent-%COMP%]{cursor:grabbing}[_nghost-%COMP%]     .larger-tooltip .tooltip-inner{max-width:500px}"]});var themed_loading_component=__webpack_require__(48106);const paginated_drag_and_drop_bitstream_list_component_c0=__name(function(a0,a1,a2,a3){return{"table-warning":a0,"table-danger":a1,"table-success":a2,"bg-white":a3}},"paginated_drag_and_drop_bitstream_list_component_c0");function PaginatedDragAndDropBitstreamListComponent_ds_pagination_0_ng_container_3_div_1_ng_container_2_div_1_Template(rf,ctx){if(1&rf&&(core.TgZ(0,"div",7)(1,"ds-item-edit-bitstream",8)(2,"div",9),core._UZ(3,"ds-item-edit-bitstream-drag-handle"),core.qZA()()()),2&rf){const uuid_r7=ctx.$implicit,updates_r4=core.oxw(2).ngVar,ctx_r6=core.oxw(3);core.Q6J("id",uuid_r7)("ngClass",core.l5B(5,paginated_drag_and_drop_bitstream_list_component_c0,0===updates_r4[uuid_r7].changeType,2===updates_r4[uuid_r7].changeType,1===updates_r4[uuid_r7].changeType,void 0===updates_r4[uuid_r7].changeType)),core.xp6(1),core.Q6J("fieldUpdate",updates_r4[uuid_r7])("bundleUrl",ctx_r6.bundle.self)("columnSizes",ctx_r6.columnSizes)}}function PaginatedDragAndDropBitstreamListComponent_ds_pagination_0_ng_container_3_div_1_ng_container_2_Template(rf,ctx){if(1&rf&&(core.ynx(0),core.YNc(1,PaginatedDragAndDropBitstreamListComponent_ds_pagination_0_ng_container_3_div_1_ng_container_2_div_1_Template,4,10,"div",6),core.BQk()),2&rf){const ctx_r5=core.oxw(4);core.xp6(1),core.Q6J("ngForOf",ctx_r5.customOrder)}}__name(PaginatedDragAndDropBitstreamListComponent_ds_pagination_0_ng_container_3_div_1_ng_container_2_div_1_Template,"PaginatedDragAndDropBitstreamListComponent_ds_pagination_0_ng_container_3_div_1_ng_container_2_div_1_Template"),__name(PaginatedDragAndDropBitstreamListComponent_ds_pagination_0_ng_container_3_div_1_ng_container_2_Template,"PaginatedDragAndDropBitstreamListComponent_ds_pagination_0_ng_container_3_div_1_ng_container_2_Template");const paginated_drag_and_drop_bitstream_list_component_c1=__name(function(a0){return{"mb-3":a0}},"paginated_drag_and_drop_bitstream_list_component_c1");function PaginatedDragAndDropBitstreamListComponent_ds_pagination_0_ng_container_3_div_1_Template(rf,ctx){if(1&rf){const _r10=core.EpF();core.TgZ(0,"div",5),core.NdJ("cdkDropListDropped",__name(function($event){return core.CHM(_r10),core.oxw(3).drop($event)},"PaginatedDragAndDropBitstreamListComponent_ds_pagination_0_ng_container_3_div_1_Template_div_cdkDropListDropped_0_listener")),core.ALo(1,"async"),core.YNc(2,PaginatedDragAndDropBitstreamListComponent_ds_pagination_0_ng_container_3_div_1_ng_container_2_Template,2,1,"ng-container",2),core.qZA()}if(2&rf){const updates_r4=ctx.ngVar,ctx_r3=core.oxw(3);let tmp_1_0;core.Q6J("id",ctx_r3.bundle.id)("ngClass",core.VKq(5,paginated_drag_and_drop_bitstream_list_component_c1,(null==(tmp_1_0=core.lcZ(1,3,ctx_r3.objectsRD$))||null==tmp_1_0.payload?null:tmp_1_0.payload.totalElements)>ctx_r3.pageSize)),core.xp6(2),core.Q6J("ngIf",updates_r4)}}function PaginatedDragAndDropBitstreamListComponent_ds_pagination_0_ng_container_3_Template(rf,ctx){if(1&rf&&(core.ynx(0),core.YNc(1,PaginatedDragAndDropBitstreamListComponent_ds_pagination_0_ng_container_3_div_1_Template,3,7,"div",4),core.ALo(2,"async"),core.BQk()),2&rf){const ctx_r1=core.oxw(2);core.xp6(1),core.Q6J("ngVar",core.lcZ(2,1,ctx_r1.updates$))}}function PaginatedDragAndDropBitstreamListComponent_ds_pagination_0_ds_themed_loading_5_Template(rf,ctx){1&rf&&(core._UZ(0,"ds-themed-loading",10),core.ALo(1,"translate")),2&rf&&core.Q6J("message",core.lcZ(1,1,"loading.bitstreams"))}function PaginatedDragAndDropBitstreamListComponent_ds_pagination_0_Template(rf,ctx){if(1&rf&&(core.TgZ(0,"ds-pagination",1),core.ALo(1,"async"),core.ALo(2,"async"),core.YNc(3,PaginatedDragAndDropBitstreamListComponent_ds_pagination_0_ng_container_3_Template,3,3,"ng-container",2),core.ALo(4,"async"),core.YNc(5,PaginatedDragAndDropBitstreamListComponent_ds_pagination_0_ds_themed_loading_5_Template,2,3,"ds-themed-loading",3),core.ALo(6,"async"),core.qZA()),2&rf){const ctx_r0=core.oxw();let tmp_4_0,tmp_5_0;core.Q6J("hideGear",!0)("hidePagerWhenSinglePage",!0)("hidePaginationDetail",!0)("paginationOptions",ctx_r0.options)("pageInfoState",null==(tmp_4_0=core.lcZ(1,8,ctx_r0.objectsRD$))?null:tmp_4_0.payload)("collectionSize",null==(tmp_5_0=core.lcZ(2,10,ctx_r0.objectsRD$))||null==tmp_5_0.payload?null:tmp_5_0.payload.totalElements),core.xp6(3),core.Q6J("ngIf",!core.lcZ(4,12,ctx_r0.loading$)),core.xp6(2),core.Q6J("ngIf",core.lcZ(6,14,ctx_r0.loading$))}}__name(PaginatedDragAndDropBitstreamListComponent_ds_pagination_0_ng_container_3_div_1_Template,"PaginatedDragAndDropBitstreamListComponent_ds_pagination_0_ng_container_3_div_1_Template"),__name(PaginatedDragAndDropBitstreamListComponent_ds_pagination_0_ng_container_3_Template,"PaginatedDragAndDropBitstreamListComponent_ds_pagination_0_ng_container_3_Template"),__name(PaginatedDragAndDropBitstreamListComponent_ds_pagination_0_ds_themed_loading_5_Template,"PaginatedDragAndDropBitstreamListComponent_ds_pagination_0_ds_themed_loading_5_Template"),__name(PaginatedDragAndDropBitstreamListComponent_ds_pagination_0_Template,"PaginatedDragAndDropBitstreamListComponent_ds_pagination_0_Template");class PaginatedDragAndDropBitstreamListComponent extends AbstractPaginatedDragAndDropListComponent{constructor(objectUpdatesService,elRef,objectValuesPipe,bundleService,paginationService,requestService){super(objectUpdatesService,elRef,objectValuesPipe,paginationService),this.objectUpdatesService=objectUpdatesService,this.elRef=elRef,this.objectValuesPipe=objectValuesPipe,this.bundleService=bundleService,this.paginationService=paginationService,this.requestService=requestService}ngOnInit(){super.ngOnInit()}initializeObjectsRD(){this.objectsRD$=this.currentPage$.pipe((0,operators.wt)(page=>{const paginatedOptions=new paginated_search_options_model.t({pagination:Object.assign({},page)});return this.bundleService.getBitstreamsEndpoint(this.bundle.id,paginatedOptions).pipe((0,operators.wt)(href=>this.requestService.hasByHref$(href)),(0,operators.wt)(()=>this.bundleService.getBitstreams(this.bundle.id,paginatedOptions,(0,follow_link_config_model.l)("format"))))}))}initializeURL(){this.url=this.bundle.self}}__name(PaginatedDragAndDropBitstreamListComponent,"PaginatedDragAndDropBitstreamListComponent"),PaginatedDragAndDropBitstreamListComponent.\u0275fac=__name(function(t){return new(t||PaginatedDragAndDropBitstreamListComponent)(core.Y36(object_updates_service.d),core.Y36(core.SBq),core.Y36(object_values_pipe.g),core.Y36(bundle_data_service.b),core.Y36(pagination_service.N),core.Y36(request_service.s))},"PaginatedDragAndDropBitstreamListComponent_Factory"),PaginatedDragAndDropBitstreamListComponent.\u0275cmp=core.Xpm({type:PaginatedDragAndDropBitstreamListComponent,selectors:[["ds-paginated-drag-and-drop-bitstream-list"]],inputs:{bundle:"bundle",columnSizes:"columnSizes"},features:[core.qOj],decls:2,vars:3,consts:[[3,"hideGear","hidePagerWhenSinglePage","hidePaginationDetail","paginationOptions","pageInfoState","collectionSize",4,"ngIf"],[3,"hideGear","hidePagerWhenSinglePage","hidePaginationDetail","paginationOptions","pageInfoState","collectionSize"],[4,"ngIf"],[3,"message",4,"ngIf"],["class","bundle-bitstreams-list","cdkDropList","",3,"id","ngClass","cdkDropListDropped",4,"ngVar"],["cdkDropList","",1,"bundle-bitstreams-list",3,"id","ngClass","cdkDropListDropped"],["class","row bitstream-row","cdkDrag","",3,"id","ngClass",4,"ngFor","ngForOf"],["cdkDrag","",1,"row","bitstream-row",3,"id","ngClass"],[3,"fieldUpdate","bundleUrl","columnSizes"],["slot","drag-handle","cdkDragHandle","","tabindex","0",1,"d-flex","align-items-center","bitstream-row-drag-handle"],[3,"message"]],template:__name(function(rf,ctx){if(1&rf&&(core.YNc(0,PaginatedDragAndDropBitstreamListComponent_ds_pagination_0_Template,7,16,"ds-pagination",0),core.ALo(1,"async")),2&rf){let tmp_0_0;core.Q6J("ngIf",null==(tmp_0_0=core.lcZ(1,1,ctx.objectsRD$))?null:tmp_0_0.payload)}},"PaginatedDragAndDropBitstreamListComponent_Template"),directives:[common.O5,pagination_component.Q,var_directive.g,drag_drop.Wj,common.mk,common.sg,drag_drop.Zt,ItemEditBitstreamComponent,drag_drop.Bh,ItemEditBitstreamDragHandleComponent,themed_loading_component.Z],pipes:[common.Ov,ngx_translate_core.X$],styles:[".header-row[_ngcontent-%COMP%]{color:var(--bs-table-dark-color);background-color:var(--bs-table-dark-bg);border-color:var(--bs-table-dark-border-color)}.bundle-row[_ngcontent-%COMP%]{color:var(--bs-table-head-color);background-color:var(--bs-table-head-bg);border-color:var(--bs-table-border-color)}.row-element[_ngcontent-%COMP%]{padding:.75em;border-bottom:var(--bs-table-border-width) solid var(--bs-table-border-color)}.drag-handle[_ngcontent-%COMP%]{visibility:hidden}.drag-handle[_ngcontent-%COMP%]:hover, .bitstream-row-drag-handle[_ngcontent-%COMP%]:hover{cursor:move}[_nghost-%COMP%]     .bitstream-row:hover .drag-handle, [_nghost-%COMP%]     .bitstream-row-drag-handle:focus .drag-handle{visibility:visible!important}.cdk-drag-preview[_ngcontent-%COMP%]{margin-left:0;box-sizing:border-box;box-shadow:0 5px 5px -3px #0003,0 8px 10px 1px #00000024,0 3px 14px 2px #0000001f}.cdk-drag-placeholder[_ngcontent-%COMP%]{opacity:0}.cdk-drag-animating[_ngcontent-%COMP%]{transition:transform .25s cubic-bezier(0,0,.2,1)}.cdk-drop-list-dragging[_ngcontent-%COMP%]   .bitstream-row-drag-handle[_ngcontent-%COMP%], .cdk-drop-list-dragging[_ngcontent-%COMP%]   .drag-handle[_ngcontent-%COMP%]{cursor:grabbing}[_nghost-%COMP%]     .larger-tooltip .tooltip-inner{max-width:500px}"]});const item_edit_bitstream_bundle_component_c0=["bundleView"],item_edit_bitstream_bundle_component_c1=__name(function(a0){return{name:a0}},"item_edit_bitstream_bundle_component_c1"),item_edit_bitstream_bundle_component_c2=__name(function(a0){return[a0,"bitstreams","new"]},"item_edit_bitstream_bundle_component_c2"),item_edit_bitstream_bundle_component_c3=__name(function(a0){return{bundle:a0}},"item_edit_bitstream_bundle_component_c3");function ItemEditBitstreamBundleComponent_ng_template_0_Template(rf,ctx){if(1&rf){const _r3=core.EpF();core.TgZ(0,"div",1)(1,"div"),core._UZ(2,"ds-item-edit-bitstream-drag-handle"),core.TgZ(3,"div",2),core._uU(4),core.ALo(5,"translate"),core.qZA()(),core.TgZ(6,"div")(7,"div",3)(8,"button",4),core.ALo(9,"translate"),core._UZ(10,"i",5),core.qZA()()()(),core.TgZ(11,"ds-paginated-drag-and-drop-bitstream-list",6),core.NdJ("dropObject",__name(function($event){return core.CHM(_r3),core.oxw().dropObject.emit($event)},"ItemEditBitstreamBundleComponent_ng_template_0_Template_ds_paginated_drag_and_drop_bitstream_list_dropObject_11_listener")),core.qZA()}if(2&rf){const ctx_r1=core.oxw();core.xp6(1),core.Gre("",ctx_r1.bundleNameColumn.buildClasses()," font-weight-bold row-element d-flex"),core.xp6(3),core.hij(" ",core.xi3(5,12,"item.edit.bitstreams.bundle.name",core.VKq(17,item_edit_bitstream_bundle_component_c1,ctx_r1.bundle.name))," "),core.xp6(2),core.Gre("",ctx_r1.columnSizes.columns[3].buildClasses()," text-center row-element"),core.xp6(2),core.s9C("title",core.lcZ(9,15,"item.edit.bitstreams.bundle.edit.buttons.upload")),core.Q6J("routerLink",core.VKq(19,item_edit_bitstream_bundle_component_c2,ctx_r1.itemPageRoute))("queryParams",core.VKq(21,item_edit_bitstream_bundle_component_c3,ctx_r1.bundle.id)),core.xp6(3),core.Q6J("bundle",ctx_r1.bundle)("columnSizes",ctx_r1.columnSizes)}}__name(ItemEditBitstreamBundleComponent_ng_template_0_Template,"ItemEditBitstreamBundleComponent_ng_template_0_Template");class ItemEditBitstreamBundleComponent{constructor(viewContainerRef){this.viewContainerRef=viewContainerRef,this.dropObject=new core.vpe}ngOnInit(){this.bundleNameColumn=this.columnSizes.combineColumns(0,2),this.viewContainerRef.createEmbeddedView(this.bundleView),this.itemPageRoute=(0,item_page_routing_paths.Tt)(this.item)}}function ItemBitstreamsComponent_div_0_button_7_Template(rf,ctx){if(1&rf){const _r10=core.EpF();core.TgZ(0,"button",15),core.NdJ("click",__name(function(){return core.CHM(_r10),core.oxw(2).reinstate()},"ItemBitstreamsComponent_div_0_button_7_Template_button_click_0_listener")),core._UZ(1,"i",16),core.TgZ(2,"span",5),core._uU(3),core.ALo(4,"translate"),core.qZA()()}2&rf&&(core.xp6(3),core.hij("\xa0",core.lcZ(4,1,"item.edit.bitstreams.reinstate-button"),""))}function ItemBitstreamsComponent_div_0_button_15_Template(rf,ctx){if(1&rf){const _r12=core.EpF();core.TgZ(0,"button",17),core.NdJ("click",__name(function(){return core.CHM(_r12),core.oxw(2).discard()},"ItemBitstreamsComponent_div_0_button_15_Template_button_click_0_listener")),core.ALo(1,"async"),core._UZ(2,"i",18),core.TgZ(3,"span",5),core._uU(4),core.ALo(5,"translate"),core.qZA()()}if(2&rf){const ctx_r3=core.oxw(2);core.Q6J("disabled",!core.lcZ(1,2,ctx_r3.hasChanges())||ctx_r3.submitting),core.xp6(4),core.hij("\xa0",core.lcZ(5,4,"item.edit.bitstreams.discard-button"),"")}}function ItemBitstreamsComponent_div_0_div_17_ds_item_edit_bitstream_bundle_15_Template(rf,ctx){if(1&rf){const _r16=core.EpF();core.TgZ(0,"ds-item-edit-bitstream-bundle",22),core.NdJ("dropObject",__name(function($event){const bundle_r14=core.CHM(_r16).$implicit;return core.oxw(3).dropBitstream(bundle_r14,$event)},"ItemBitstreamsComponent_div_0_div_17_ds_item_edit_bitstream_bundle_15_Template_ds_item_edit_bitstream_bundle_dropObject_0_listener")),core.qZA()}if(2&rf){const bundle_r14=ctx.$implicit,ctx_r13=core.oxw(3);core.Q6J("bundle",bundle_r14)("item",ctx_r13.item)("columnSizes",ctx_r13.columnSizes)}}function ItemBitstreamsComponent_div_0_div_17_Template(rf,ctx){if(1&rf&&(core.TgZ(0,"div",19)(1,"div",20)(2,"div"),core._UZ(3,"ds-item-edit-bitstream-drag-handle"),core._uU(4),core.ALo(5,"translate"),core.qZA(),core.TgZ(6,"div"),core._uU(7),core.ALo(8,"translate"),core.qZA(),core.TgZ(9,"div"),core._uU(10),core.ALo(11,"translate"),core.qZA(),core.TgZ(12,"div"),core._uU(13),core.ALo(14,"translate"),core.qZA()(),core.YNc(15,ItemBitstreamsComponent_div_0_div_17_ds_item_edit_bitstream_bundle_15_Template,1,3,"ds-item-edit-bitstream-bundle",21),core.qZA()),2&rf){const bundles_r1=core.oxw().ngVar,ctx_r4=core.oxw();core.xp6(2),core.Gre("",ctx_r4.columnSizes.columns[0].buildClasses()," row-element"),core.xp6(2),core.hij(" ",core.lcZ(5,17,"item.edit.bitstreams.headers.name")," "),core.xp6(2),core.Gre("",ctx_r4.columnSizes.columns[1].buildClasses()," row-element"),core.xp6(1),core.Oqu(core.lcZ(8,19,"item.edit.bitstreams.headers.description")),core.xp6(2),core.Gre("",ctx_r4.columnSizes.columns[2].buildClasses()," text-center row-element"),core.xp6(1),core.Oqu(core.lcZ(11,21,"item.edit.bitstreams.headers.format")),core.xp6(2),core.Gre("",ctx_r4.columnSizes.columns[3].buildClasses()," text-center row-element"),core.xp6(1),core.Oqu(core.lcZ(14,23,"item.edit.bitstreams.headers.actions")),core.xp6(2),core.Q6J("ngForOf",bundles_r1)}}function ItemBitstreamsComponent_div_0_div_18_Template(rf,ctx){1&rf&&(core.TgZ(0,"div",23),core._uU(1),core.ALo(2,"translate"),core.qZA()),2&rf&&(core.xp6(1),core.hij(" ",core.lcZ(2,1,"item.edit.bitstreams.empty")," "))}function ItemBitstreamsComponent_div_0_ds_themed_loading_19_Template(rf,ctx){1&rf&&(core._UZ(0,"ds-themed-loading",24),core.ALo(1,"translate")),2&rf&&core.s9C("message",core.lcZ(1,1,"loading.bitstreams"))}function ItemBitstreamsComponent_div_0_button_22_Template(rf,ctx){if(1&rf){const _r19=core.EpF();core.TgZ(0,"button",15),core.NdJ("click",__name(function(){return core.CHM(_r19),core.oxw(2).reinstate()},"ItemBitstreamsComponent_div_0_button_22_Template_button_click_0_listener")),core._UZ(1,"i",16),core.TgZ(2,"span",5),core._uU(3),core.ALo(4,"translate"),core.qZA()()}2&rf&&(core.xp6(3),core.hij("\xa0",core.lcZ(4,1,"item.edit.bitstreams.reinstate-button"),""))}function ItemBitstreamsComponent_div_0_button_30_Template(rf,ctx){if(1&rf){const _r21=core.EpF();core.TgZ(0,"button",17),core.NdJ("click",__name(function(){return core.CHM(_r21),core.oxw(2).discard()},"ItemBitstreamsComponent_div_0_button_30_Template_button_click_0_listener")),core.ALo(1,"async"),core._UZ(2,"i",18),core.TgZ(3,"span",5),core._uU(4),core.ALo(5,"translate"),core.qZA()()}if(2&rf){const ctx_r8=core.oxw(2);core.Q6J("disabled",!core.lcZ(1,2,ctx_r8.hasChanges())||ctx_r8.submitting),core.xp6(4),core.hij("\xa0",core.lcZ(5,4,"item.edit.bitstreams.discard-button"),"")}}__name(ItemEditBitstreamBundleComponent,"ItemEditBitstreamBundleComponent"),ItemEditBitstreamBundleComponent.\u0275fac=__name(function(t){return new(t||ItemEditBitstreamBundleComponent)(core.Y36(core.s_b))},"ItemEditBitstreamBundleComponent_Factory"),ItemEditBitstreamBundleComponent.\u0275cmp=core.Xpm({type:ItemEditBitstreamBundleComponent,selectors:[["ds-item-edit-bitstream-bundle"]],viewQuery:__name(function(rf,ctx){if(1&rf&&core.Gf(item_edit_bitstream_bundle_component_c0,7),2&rf){let _t;core.iGM(_t=core.CRH())&&(ctx.bundleView=_t.first)}},"ItemEditBitstreamBundleComponent_Query"),inputs:{bundle:"bundle",item:"item",columnSizes:"columnSizes"},outputs:{dropObject:"dropObject"},decls:2,vars:0,consts:[["bundleView",""],[1,"row","bundle-row"],[1,"float-left","d-flex","align-items-center"],[1,"btn-group","bundle-action-buttons"],[1,"btn","btn-outline-success","btn-sm",3,"routerLink","queryParams","title"],[1,"fas","fa-upload","fa-fw"],[3,"bundle","columnSizes","dropObject"]],template:__name(function(rf,ctx){1&rf&&core.YNc(0,ItemEditBitstreamBundleComponent_ng_template_0_Template,12,23,"ng-template",null,0,core.W1O)},"ItemEditBitstreamBundleComponent_Template"),directives:[ItemEditBitstreamDragHandleComponent,router.rH,PaginatedDragAndDropBitstreamListComponent],pipes:[ngx_translate_core.X$],styles:[".header-row[_ngcontent-%COMP%]{color:var(--bs-table-dark-color);background-color:var(--bs-table-dark-bg);border-color:var(--bs-table-dark-border-color)}.bundle-row[_ngcontent-%COMP%]{color:var(--bs-table-head-color);background-color:var(--bs-table-head-bg);border-color:var(--bs-table-border-color)}.row-element[_ngcontent-%COMP%]{padding:.75em;border-bottom:var(--bs-table-border-width) solid var(--bs-table-border-color)}.drag-handle[_ngcontent-%COMP%]{visibility:hidden}.drag-handle[_ngcontent-%COMP%]:hover, .bitstream-row-drag-handle[_ngcontent-%COMP%]:hover{cursor:move}[_nghost-%COMP%]     .bitstream-row:hover .drag-handle, [_nghost-%COMP%]     .bitstream-row-drag-handle:focus .drag-handle{visibility:visible!important}.cdk-drag-preview[_ngcontent-%COMP%]{margin-left:0;box-sizing:border-box;box-shadow:0 5px 5px -3px #0003,0 8px 10px 1px #00000024,0 3px 14px 2px #0000001f}.cdk-drag-placeholder[_ngcontent-%COMP%]{opacity:0}.cdk-drag-animating[_ngcontent-%COMP%]{transition:transform .25s cubic-bezier(0,0,.2,1)}.cdk-drop-list-dragging[_ngcontent-%COMP%]   .bitstream-row-drag-handle[_ngcontent-%COMP%], .cdk-drop-list-dragging[_ngcontent-%COMP%]   .drag-handle[_ngcontent-%COMP%]{cursor:grabbing}[_nghost-%COMP%]     .larger-tooltip .tooltip-inner{max-width:500px}"]}),__name(ItemBitstreamsComponent_div_0_button_7_Template,"ItemBitstreamsComponent_div_0_button_7_Template"),__name(ItemBitstreamsComponent_div_0_button_15_Template,"ItemBitstreamsComponent_div_0_button_15_Template"),__name(ItemBitstreamsComponent_div_0_div_17_ds_item_edit_bitstream_bundle_15_Template,"ItemBitstreamsComponent_div_0_div_17_ds_item_edit_bitstream_bundle_15_Template"),__name(ItemBitstreamsComponent_div_0_div_17_Template,"ItemBitstreamsComponent_div_0_div_17_Template"),__name(ItemBitstreamsComponent_div_0_div_18_Template,"ItemBitstreamsComponent_div_0_div_18_Template"),__name(ItemBitstreamsComponent_div_0_ds_themed_loading_19_Template,"ItemBitstreamsComponent_div_0_ds_themed_loading_19_Template"),__name(ItemBitstreamsComponent_div_0_button_22_Template,"ItemBitstreamsComponent_div_0_button_22_Template"),__name(ItemBitstreamsComponent_div_0_button_30_Template,"ItemBitstreamsComponent_div_0_button_30_Template");const item_bitstreams_component_c0=__name(function(a0){return[a0,"bitstreams","new"]},"item_bitstreams_component_c0");function ItemBitstreamsComponent_div_0_Template(rf,ctx){if(1&rf){const _r23=core.EpF();core.TgZ(0,"div",1)(1,"div",2)(2,"button",3),core._UZ(3,"i",4),core.TgZ(4,"span",5),core._uU(5),core.ALo(6,"translate"),core.qZA()(),core.YNc(7,ItemBitstreamsComponent_div_0_button_7_Template,5,3,"button",6),core.ALo(8,"async"),core.TgZ(9,"button",7),core.NdJ("click",__name(function(){return core.CHM(_r23),core.oxw().submit()},"ItemBitstreamsComponent_div_0_Template_button_click_9_listener")),core.ALo(10,"async"),core._UZ(11,"i",8),core.TgZ(12,"span",5),core._uU(13),core.ALo(14,"translate"),core.qZA()(),core.YNc(15,ItemBitstreamsComponent_div_0_button_15_Template,6,6,"button",9),core.ALo(16,"async"),core.qZA(),core.YNc(17,ItemBitstreamsComponent_div_0_div_17_Template,16,25,"div",10),core.YNc(18,ItemBitstreamsComponent_div_0_div_18_Template,3,3,"div",11),core.YNc(19,ItemBitstreamsComponent_div_0_ds_themed_loading_19_Template,2,3,"ds-themed-loading",12),core.TgZ(20,"div",13)(21,"div",14),core.YNc(22,ItemBitstreamsComponent_div_0_button_22_Template,5,3,"button",6),core.ALo(23,"async"),core.TgZ(24,"button",7),core.NdJ("click",__name(function(){return core.CHM(_r23),core.oxw().submit()},"ItemBitstreamsComponent_div_0_Template_button_click_24_listener")),core.ALo(25,"async"),core._UZ(26,"i",8),core.TgZ(27,"span",5),core._uU(28),core.ALo(29,"translate"),core.qZA()(),core.YNc(30,ItemBitstreamsComponent_div_0_button_30_Template,6,6,"button",9),core.ALo(31,"async"),core.qZA()()()}if(2&rf){const bundles_r1=ctx.ngVar,ctx_r0=core.oxw();core.xp6(2),core.Q6J("routerLink",core.VKq(31,item_bitstreams_component_c0,ctx_r0.itemPageRoute)),core.xp6(3),core.hij("\xa0",core.lcZ(6,13,"item.edit.bitstreams.upload-button"),""),core.xp6(2),core.Q6J("ngIf",core.lcZ(8,15,ctx_r0.isReinstatable())),core.xp6(2),core.Q6J("disabled",!core.lcZ(10,17,ctx_r0.hasChanges())||ctx_r0.submitting),core.xp6(4),core.hij("\xa0",core.lcZ(14,19,"item.edit.bitstreams.save-button"),""),core.xp6(2),core.Q6J("ngIf",!core.lcZ(16,21,ctx_r0.isReinstatable())),core.xp6(2),core.Q6J("ngIf",ctx_r0.item&&(null==bundles_r1?null:bundles_r1.length)>0),core.xp6(1),core.Q6J("ngIf",0===(null==bundles_r1?null:bundles_r1.length)),core.xp6(1),core.Q6J("ngIf",!bundles_r1),core.xp6(3),core.Q6J("ngIf",core.lcZ(23,23,ctx_r0.isReinstatable())),core.xp6(2),core.Q6J("disabled",!core.lcZ(25,25,ctx_r0.hasChanges())||ctx_r0.submitting),core.xp6(4),core.hij("\xa0",core.lcZ(29,27,"item.edit.bitstreams.save-button"),""),core.xp6(2),core.Q6J("ngIf",!core.lcZ(31,29,ctx_r0.isReinstatable()))}}__name(ItemBitstreamsComponent_div_0_Template,"ItemBitstreamsComponent_div_0_Template");class ItemBitstreamsComponent extends abstract_item_update_component.a{constructor(itemService,objectUpdatesService,router2,notificationsService,translateService,route,bitstreamService,objectCache,requestService,cdRef,bundleService,zone){super(itemService,objectUpdatesService,router2,notificationsService,translateService,route),this.itemService=itemService,this.objectUpdatesService=objectUpdatesService,this.router=router2,this.notificationsService=notificationsService,this.translateService=translateService,this.route=route,this.bitstreamService=bitstreamService,this.objectCache=objectCache,this.requestService=requestService,this.cdRef=cdRef,this.bundleService=bundleService,this.zone=zone,this.bundlesOptions={id:"bundles-pagination-options",currentPage:1,pageSize:9999},this.columnSizes=new ResponsiveTableSizes([new ResponsiveColumnSizes(2,2,3,4,4),new ResponsiveColumnSizes(2,3,3,3,3),new ResponsiveColumnSizes(2,2,2,2,2),new ResponsiveColumnSizes(6,5,4,3,3)]),this.submitting=!1}postItemInit(){this.bundles$=this.itemService.getBundles(this.item.id,new paginated_search_options_model.t({pagination:this.bundlesOptions})).pipe((0,shared_operators.xw)(),(0,shared_operators.xe)(),(0,operators.UI)(bundlePage=>bundlePage.page))}initializeNotificationsPrefix(){this.notificationsPrefix="item.edit.bitstreams.notifications."}submit(){this.submitting=!0,this.bundles$.pipe((0,operators.qn)(1)).pipe((0,operators.wt)(bundles=>(0,cjs.zip)(...bundles.map(bundle=>this.objectUpdatesService.getFieldUpdates(bundle.self,[],!0)))),(0,operators.UI)(fieldUpdates=>[].concat(...fieldUpdates.map(updates=>Object.values(updates).filter(fieldUpdate=>fieldUpdate.changeType===field_change_type_model.m.REMOVE)))),(0,operators.UI)(fieldUpdates=>fieldUpdates.map(fieldUpdate=>fieldUpdate.field))).pipe((0,operators.qn)(1),(0,operators.wt)(removedBistreams=>(0,empty_util.UE)(removedBistreams)?(0,cjs.zip)(...removedBistreams.map(bitstream=>this.bitstreamService.delete(bitstream.id))):(0,cjs.of)(void 0))).pipe((0,operators.qn)(1)).subscribe(responses=>{this.displayNotifications("item.edit.bitstreams.notifications.remove",responses),this.submitting=!1})}dropBitstream(bundle,event2){this.zone.runOutsideAngular(()=>{if((0,empty_util.Uh)(event2)&&(0,empty_util.Uh)(event2.fromIndex)&&(0,empty_util.Uh)(event2.toIndex)&&(0,empty_util.Uh)(event2.finish)){const moveOperation={op:"move",from:`/_links/bitstreams/${event2.fromIndex}/href`,path:`/_links/bitstreams/${event2.toIndex}/href`};this.bundleService.patch(bundle,[moveOperation]).pipe((0,operators.qn)(1)).subscribe(response=>{this.zone.run(()=>{this.displayNotifications("item.edit.bitstreams.notifications.move",[response]),this.requestService.removeByHrefSubstring(bundle.self).pipe((0,operators.hX)(isCached=>isCached),(0,operators.qn)(1)).subscribe(()=>event2.finish())})})}})}displayNotifications(key,responses){if((0,empty_util.UE)(responses)){const failedResponses=responses.filter(response=>(0,empty_util.Uh)(response)&&response.hasFailed),successfulResponses=responses.filter(response=>(0,empty_util.Uh)(response)&&response.hasSucceeded);failedResponses.forEach(response=>{this.notificationsService.error(this.translateService.instant(`${key}.failed.title`),response.errorMessage)}),successfulResponses.length>0&&this.notificationsService.success(this.translateService.instant(`${key}.saved.title`),this.translateService.instant(`${key}.saved.content`))}}discard(){const undoNotification=this.notificationsService.info(this.getNotificationTitle("discarded"),this.getNotificationContent("discarded"),{timeOut:this.discardTimeOut});this.objectUpdatesService.discardAllFieldUpdates(this.url,undoNotification)}reinstate(){this.bundles$.pipe((0,operators.qn)(1)).subscribe(bundles=>{bundles.forEach(bundle=>{this.objectUpdatesService.reinstateFieldUpdates(bundle.self)})})}isReinstatable(){return this.bundles$.pipe((0,operators.wt)(bundles=>(0,cjs.zip)(...bundles.map(bundle=>this.objectUpdatesService.isReinstatable(bundle.self)))),(0,operators.UI)(reinstatable=>reinstatable.includes(!0)))}hasChanges(){return this.bundles$.pipe((0,operators.wt)(bundles=>(0,cjs.zip)(...bundles.map(bundle=>this.objectUpdatesService.hasUpdates(bundle.self)))),(0,operators.UI)(hasChanges=>hasChanges.includes(!0)))}ngOnDestroy(){this.itemUpdateSubscription&&this.itemUpdateSubscription.unsubscribe()}}__name(ItemBitstreamsComponent,"ItemBitstreamsComponent"),ItemBitstreamsComponent.\u0275fac=__name(function(t){return new(t||ItemBitstreamsComponent)(core.Y36(item_data_service.S),core.Y36(object_updates_service.d),core.Y36(router.F0),core.Y36(notifications_service.T),core.Y36(ngx_translate_core.sK),core.Y36(router.gz),core.Y36(bitstream_data_service.J),core.Y36(object_cache_service.a),core.Y36(request_service.s),core.Y36(core.sBO),core.Y36(bundle_data_service.b),core.Y36(core.R0b))},"ItemBitstreamsComponent_Factory"),ItemBitstreamsComponent.\u0275cmp=core.Xpm({type:ItemBitstreamsComponent,selectors:[["ds-item-bitstreams"]],features:[core.qOj],decls:2,vars:3,consts:[["class","item-bitstreams",4,"ngVar"],[1,"item-bitstreams"],[1,"button-row","top","d-flex","mt-2","space-children-mr"],[1,"mr-auto","btn","btn-success",3,"routerLink"],[1,"fas","fa-upload"],[1,"d-none","d-sm-inline"],["class","btn btn-warning",3,"click",4,"ngIf"],[1,"btn","btn-primary",3,"disabled","click"],[1,"fas","fa-save"],["class","btn btn-danger",3,"disabled","click",4,"ngIf"],["class","container table-bordered mt-4",4,"ngIf"],["class","alert alert-info w-100 d-inline-block mt-4","role","alert",4,"ngIf"],[3,"message",4,"ngIf"],[1,"button-row","bottom"],[1,"mt-4","float-right","space-children-mr","ml-gap"],[1,"btn","btn-warning",3,"click"],[1,"fas","fa-undo-alt"],[1,"btn","btn-danger",3,"disabled","click"],[1,"fas","fa-times"],[1,"container","table-bordered","mt-4"],[1,"row","header-row","font-weight-bold"],[3,"bundle","item","columnSizes","dropObject",4,"ngFor","ngForOf"],[3,"bundle","item","columnSizes","dropObject"],["role","alert",1,"alert","alert-info","w-100","d-inline-block","mt-4"],[3,"message"]],template:__name(function(rf,ctx){1&rf&&(core.YNc(0,ItemBitstreamsComponent_div_0_Template,32,33,"div",0),core.ALo(1,"async")),2&rf&&core.Q6J("ngVar",core.lcZ(1,1,ctx.bundles$))},"ItemBitstreamsComponent_Template"),directives:[var_directive.g,router.rH,common.O5,ItemEditBitstreamDragHandleComponent,common.sg,ItemEditBitstreamBundleComponent,themed_loading_component.Z],pipes:[common.Ov,ngx_translate_core.X$],styles:[".header-row[_ngcontent-%COMP%]{color:var(--bs-table-dark-color);background-color:var(--bs-table-dark-bg);border-color:var(--bs-table-dark-border-color)}.bundle-row[_ngcontent-%COMP%]{color:var(--bs-table-head-color);background-color:var(--bs-table-head-bg);border-color:var(--bs-table-border-color)}.row-element[_ngcontent-%COMP%]{padding:.75em;border-bottom:var(--bs-table-border-width) solid var(--bs-table-border-color)}.drag-handle[_ngcontent-%COMP%]{visibility:hidden}.drag-handle[_ngcontent-%COMP%]:hover, .bitstream-row-drag-handle[_ngcontent-%COMP%]:hover{cursor:move}[_nghost-%COMP%]     .bitstream-row:hover .drag-handle, [_nghost-%COMP%]     .bitstream-row-drag-handle:focus .drag-handle{visibility:visible!important}.cdk-drag-preview[_ngcontent-%COMP%]{margin-left:0;box-sizing:border-box;box-shadow:0 5px 5px -3px #0003,0 8px 10px 1px #00000024,0 3px 14px 2px #0000001f}.cdk-drag-placeholder[_ngcontent-%COMP%]{opacity:0}.cdk-drag-animating[_ngcontent-%COMP%]{transition:transform .25s cubic-bezier(0,0,.2,1)}.cdk-drop-list-dragging[_ngcontent-%COMP%]   .bitstream-row-drag-handle[_ngcontent-%COMP%], .cdk-drop-list-dragging[_ngcontent-%COMP%]   .drag-handle[_ngcontent-%COMP%]{cursor:grabbing}[_nghost-%COMP%]     .larger-tooltip .tooltip-inner{max-width:500px}"]});var collection_data_service=__webpack_require__(36391),dspace_object_type_model=__webpack_require__(95642),search_configuration_service=__webpack_require__(36872),search_service=__webpack_require__(5164),collection_select_component=__webpack_require__(13811),search_form_component=__webpack_require__(13511);const item_collection_mapper_component_c0=["tabs"];function ItemCollectionMapperComponent_ng_template_18_Template(rf,ctx){if(1&rf){const _r4=core.EpF();core.TgZ(0,"div",10)(1,"ds-collection-select",11),core.NdJ("confirm",__name(function($event){return core.CHM(_r4),core.oxw().removeMappings($event)},"ItemCollectionMapperComponent_ng_template_18_Template_ds_collection_select_confirm_1_listener"))("cancel",__name(function(){return core.CHM(_r4),core.oxw().onCancel()},"ItemCollectionMapperComponent_ng_template_18_Template_ds_collection_select_cancel_1_listener")),core.ALo(2,"async"),core.qZA()()}if(2&rf){const ctx_r1=core.oxw();let tmp_2_0;core.xp6(1),core.Q6J("key","browse")("dsoRD$",ctx_r1.itemCollectionsRD$)("paginationOptions",null==(tmp_2_0=core.lcZ(2,6,ctx_r1.searchOptions$))?null:tmp_2_0.pagination)("confirmButton","item.edit.item-mapper.buttons.remove")("cancelButton","item.edit.item-mapper.cancel")("dangerConfirm",!0)}}function ItemCollectionMapperComponent_ng_template_23_div_5_Template(rf,ctx){if(1&rf){const _r9=core.EpF();core.TgZ(0,"div")(1,"ds-collection-select",17),core.NdJ("confirm",__name(function($event){return core.CHM(_r9),core.oxw(2).mapCollections($event)},"ItemCollectionMapperComponent_ng_template_23_div_5_Template_ds_collection_select_confirm_1_listener"))("cancel",__name(function(){return core.CHM(_r9),core.oxw(2).onCancel()},"ItemCollectionMapperComponent_ng_template_23_div_5_Template_ds_collection_select_cancel_1_listener")),core.ALo(2,"async"),core.ALo(3,"async"),core.qZA()()}if(2&rf){const ctx_r6=core.oxw(2);let tmp_2_0,tmp_3_0;core.xp6(1),core.Q6J("key","map")("dsoRD$",ctx_r6.mappedCollectionsRD$)("paginationOptions",null==(tmp_2_0=core.lcZ(2,6,ctx_r6.searchOptions$))?null:tmp_2_0.pagination)("sortOptions",null==(tmp_3_0=core.lcZ(3,8,ctx_r6.searchOptions$))?null:tmp_3_0.sort)("confirmButton","item.edit.item-mapper.buttons.add")("cancelButton","item.edit.item-mapper.cancel")}}function ItemCollectionMapperComponent_ng_template_23_div_6_Template(rf,ctx){1&rf&&(core.TgZ(0,"div",18),core._uU(1),core.ALo(2,"translate"),core.qZA()),2&rf&&(core.xp6(1),core.hij(" ",core.lcZ(2,1,"item.edit.item-mapper.no-search")," "))}function ItemCollectionMapperComponent_ng_template_23_Template(rf,ctx){if(1&rf){const _r12=core.EpF();core.TgZ(0,"div",12)(1,"div",13)(2,"ds-search-form",14),core.NdJ("submitSearch",__name(function(){core.CHM(_r12);return core.oxw().performedSearch=!0},"ItemCollectionMapperComponent_ng_template_23_Template_ds_search_form_submitSearch_2_listener")),core.ALo(3,"async"),core.ALo(4,"translate"),core.qZA()()(),core.YNc(5,ItemCollectionMapperComponent_ng_template_23_div_5_Template,4,10,"div",15),core.YNc(6,ItemCollectionMapperComponent_ng_template_23_div_6_Template,3,3,"div",16)}if(2&rf){const ctx_r2=core.oxw();let tmp_0_0;core.xp6(2),core.Q6J("query",null==(tmp_0_0=core.lcZ(3,6,ctx_r2.searchOptions$))?null:tmp_0_0.query)("currentUrl","./")("inPlaceSearch",!0)("searchPlaceholder",core.lcZ(4,8,"item.edit.item-mapper.search-form.placeholder")),core.xp6(3),core.Q6J("ngIf",ctx_r2.performedSearch),core.xp6(1),core.Q6J("ngIf",!ctx_r2.performedSearch)}}__name(ItemCollectionMapperComponent_ng_template_18_Template,"ItemCollectionMapperComponent_ng_template_18_Template"),__name(ItemCollectionMapperComponent_ng_template_23_div_5_Template,"ItemCollectionMapperComponent_ng_template_23_div_5_Template"),__name(ItemCollectionMapperComponent_ng_template_23_div_6_Template,"ItemCollectionMapperComponent_ng_template_23_div_6_Template"),__name(ItemCollectionMapperComponent_ng_template_23_Template,"ItemCollectionMapperComponent_ng_template_23_Template");const item_collection_mapper_component_c1=__name(function(a0){return{name:a0}},"item_collection_mapper_component_c1");class ItemCollectionMapperComponent{constructor(route,router2,searchConfigService,searchService,notificationsService,itemDataService,collectionDataService,translateService,dsoNameService){this.route=route,this.router=router2,this.searchConfigService=searchConfigService,this.searchService=searchService,this.notificationsService=notificationsService,this.itemDataService=itemDataService,this.collectionDataService=collectionDataService,this.translateService=translateService,this.dsoNameService=dsoNameService,this.performedSearch=!1}ngOnInit(){this.itemRD$=this.route.parent.data.pipe((0,operators.qn)(1),(0,operators.UI)(data=>data.dso)),this.itemName$=this.itemRD$.pipe((0,operators.hX)(rd=>(0,empty_util.Uh)(rd)),(0,operators.UI)(rd=>this.dsoNameService.getName(rd.payload))),this.searchOptions$=this.searchConfigService.paginatedSearchOptions,this.loadCollectionLists()}loadCollectionLists(){this.shouldUpdate$=new cjs.BehaviorSubject(!0),this.itemCollectionsRD$=(0,cjs.combineLatest)(this.itemRD$.pipe((0,shared_operators.Gp)()),this.shouldUpdate$).pipe((0,operators.wt)(([item,shouldUpdate])=>(!0===shouldUpdate&&this.shouldUpdate$.next(!1),this.collectionDataService.findListByHref(this.itemDataService.getMappedCollectionsEndpoint(item.id),void 0,!shouldUpdate,!1).pipe((0,shared_operators.g1)()))));const owningCollectionRD$=this.itemRD$.pipe((0,shared_operators.Gp)(),(0,operators.wt)(item=>this.collectionDataService.findOwningCollectionFor(item)),(0,shared_operators.g1)()),itemCollectionsAndOptions$=(0,cjs.combineLatest)(this.itemCollectionsRD$,owningCollectionRD$,this.searchOptions$);this.mappedCollectionsRD$=itemCollectionsAndOptions$.pipe((0,operators.wt)(([itemCollectionsRD,owningCollectionRD,searchOptions])=>this.searchService.search(Object.assign(new paginated_search_options_model.t(searchOptions),{query:this.buildQuery([...itemCollectionsRD.payload.page,owningCollectionRD.payload],searchOptions.query),dsoTypes:[dspace_object_type_model.h.COLLECTION]}),1e4).pipe((0,shared_operators.Ie)(),(0,operators.O4)(void 0))))}mapCollections(ids){const responses$=(0,cjs.combineLatest)([this.itemRD$.pipe((0,shared_operators.xw)(),(0,operators.UI)(rd=>rd.payload),(0,operators.UI)(item=>item.id)),this.itemCollectionsRD$.pipe((0,shared_operators.xw)(),(0,operators.UI)(rd=>rd.payload.page),(0,operators.UI)(collections=>collections.map(collection=>collection.id)))]).pipe((0,operators.wt)(([itemId,excludingIds])=>(0,cjs.combineLatest)(this.filterIds(ids,excludingIds).map(id=>this.itemDataService.mapToCollection(itemId,id).pipe((0,shared_operators.hC)())))));this.showNotifications(responses$,"item.edit.item-mapper.notifications.add")}removeMappings(ids){const responses$=this.itemRD$.pipe((0,shared_operators.xw)(),(0,operators.UI)(itemRD=>itemRD.payload.id),(0,operators.wt)(itemId=>(0,cjs.combineLatest)(ids.map(id=>this.itemDataService.removeMappingFromCollection(itemId,id).pipe((0,shared_operators.hC)())))));this.showNotifications(responses$,"item.edit.item-mapper.notifications.remove")}filterIds(ids,excluding){return ids.filter(id=>excluding.indexOf(id)<0)}showNotifications(responses$,messagePrefix){responses$.subscribe(responses=>{const successful=responses.filter(response=>response.hasSucceeded),unsuccessful=responses.filter(response=>response.hasFailed);successful.length>0&&((0,cjs.combineLatest)([this.translateService.get(`${messagePrefix}.success.head`),this.translateService.get(`${messagePrefix}.success.content`,{amount:successful.length})]).subscribe(([head,content])=>{this.notificationsService.success(head,content)}),this.shouldUpdate$.next(!0)),unsuccessful.length>0&&(0,cjs.combineLatest)([this.translateService.get(`${messagePrefix}.error.head`),this.translateService.get(`${messagePrefix}.error.content`,{amount:unsuccessful.length})]).subscribe(([head,content])=>{this.notificationsService.error(head,content)}),this.switchToFirstTab()})}tabChange(event2){this.performedSearch=!1,this.router.navigateByUrl(this.getCurrentUrl())}getCurrentUrl(){return this.router.url.indexOf("?")>-1?this.router.url.substring(0,this.router.url.indexOf("?")):this.router.url}buildQuery(collections,query){let result=query;for(const collection of collections)result=this.addExcludeCollection(collection.id,result);return result}addExcludeCollection(collectionId,query){const excludeQuery=`-search.resourceid:${collectionId}`;return(0,empty_util.UE)(query)?`${query} AND ${excludeQuery}`:excludeQuery}switchToFirstTab(){this.tabs.select("browseTab")}onCancel(){this.itemRD$.pipe((0,shared_operators.xw)(),(0,shared_operators.xe)(),(0,operators.qn)(1)).subscribe(item=>{this.router.navigate([(0,item_page_routing_paths.Tt)(item)])})}}__name(ItemCollectionMapperComponent,"ItemCollectionMapperComponent"),ItemCollectionMapperComponent.\u0275fac=__name(function(t){return new(t||ItemCollectionMapperComponent)(core.Y36(router.gz),core.Y36(router.F0),core.Y36(search_configuration_service.U),core.Y36(search_service.o),core.Y36(notifications_service.T),core.Y36(item_data_service.S),core.Y36(collection_data_service.W),core.Y36(ngx_translate_core.sK),core.Y36(dso_name_service._))},"ItemCollectionMapperComponent_Factory"),ItemCollectionMapperComponent.\u0275cmp=core.Xpm({type:ItemCollectionMapperComponent,selectors:[["ds-item-collection-mapper"]],viewQuery:__name(function(rf,ctx){if(1&rf&&core.Gf(item_collection_mapper_component_c0,5),2&rf){let _t;core.iGM(_t=core.CRH())&&(ctx.tabs=_t.first)}},"ItemCollectionMapperComponent_Query"),decls:25,vars:24,consts:[[1,"container"],[1,"row"],[1,"col-12"],["id","item-name",3,"innerHTML"],["ngbNav","",1,"nav-tabs",3,"destroyOnHide","navChange"],["tabs","ngbNav"],[3,"ngbNavItem"],["ngbNavLink",""],["ngbNavContent",""],[3,"ngbNavOutlet"],[1,"mt-2"],[1,"mt-2",3,"key","dsoRD$","paginationOptions","confirmButton","cancelButton","dangerConfirm","confirm","cancel"],[1,"row","mt-2"],[1,"col-12","col-lg-6"],["id","search-form",3,"query","currentUrl","inPlaceSearch","searchPlaceholder","submitSearch"],[4,"ngIf"],["class","alert alert-info w-100","role","alert",4,"ngIf"],[1,"mt-2",3,"key","dsoRD$","paginationOptions","sortOptions","confirmButton","cancelButton","confirm","cancel"],["role","alert",1,"alert","alert-info","w-100"]],template:__name(function(rf,ctx){if(1&rf&&(core.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h2"),core._uU(4),core.ALo(5,"translate"),core.qZA(),core._UZ(6,"p",3),core.ALo(7,"translate"),core.ALo(8,"async"),core.TgZ(9,"p"),core._uU(10),core.ALo(11,"translate"),core.qZA(),core.TgZ(12,"ul",4,5),core.NdJ("navChange",__name(function($event){return ctx.tabChange($event)},"ItemCollectionMapperComponent_Template_ul_navChange_12_listener")),core.TgZ(14,"li",6)(15,"a",7),core._uU(16),core.ALo(17,"translate"),core.qZA(),core.YNc(18,ItemCollectionMapperComponent_ng_template_18_Template,3,8,"ng-template",8),core.qZA(),core.TgZ(19,"li",6)(20,"a",7),core._uU(21),core.ALo(22,"translate"),core.qZA(),core.YNc(23,ItemCollectionMapperComponent_ng_template_23_Template,7,10,"ng-template",8),core.qZA()(),core._UZ(24,"div",9),core.qZA()()()),2&rf){const _r0=core.MAs(13);core.xp6(4),core.Oqu(core.lcZ(5,9,"item.edit.item-mapper.head")),core.xp6(2),core.Q6J("innerHTML",core.xi3(7,11,"item.edit.item-mapper.item",core.VKq(22,item_collection_mapper_component_c1,core.lcZ(8,14,ctx.itemName$))),core.oJD),core.xp6(4),core.Oqu(core.lcZ(11,16,"item.edit.item-mapper.description")),core.xp6(2),core.Q6J("destroyOnHide",!0),core.xp6(2),core.Q6J("ngbNavItem","browseTab"),core.xp6(2),core.Oqu(core.lcZ(17,18,"item.edit.item-mapper.tabs.browse")),core.xp6(3),core.Q6J("ngbNavItem","mapTab"),core.xp6(2),core.Oqu(core.lcZ(22,20,"item.edit.item-mapper.tabs.map")),core.xp6(3),core.Q6J("ngbNavOutlet",_r0)}},"ItemCollectionMapperComponent_Template"),directives:[ng_bootstrap.Pz,ng_bootstrap.nv,ng_bootstrap.Vx,ng_bootstrap.uN,collection_select_component.v,search_form_component.o,common.O5,ng_bootstrap.tO],pipes:[ngx_translate_core.X$,common.Ov],styles:[""],data:{animation:[fade.Ji,fade.Ic]},changeDetection:0});var authorized_collection_selector_component=__webpack_require__(53330),fesm2015_forms=__webpack_require__(93075);function ItemMoveComponent_span_37_Template(rf,ctx){1&rf&&(core.TgZ(0,"span"),core._UZ(1,"i",17),core._uU(2),core.ALo(3,"translate"),core.qZA()),2&rf&&(core.xp6(2),core.hij(" ",core.lcZ(3,1,"item.edit.move.save-button")," "))}function ItemMoveComponent_span_38_Template(rf,ctx){1&rf&&(core.TgZ(0,"span"),core._UZ(1,"i",18),core._uU(2),core.ALo(3,"translate"),core.qZA()),2&rf&&(core.xp6(2),core.hij(" ",core.lcZ(3,1,"item.edit.move.processing")," "))}__name(ItemMoveComponent_span_37_Template,"ItemMoveComponent_span_37_Template"),__name(ItemMoveComponent_span_38_Template,"ItemMoveComponent_span_38_Template");const item_move_component_c0=__name(function(a0){return{id:a0}},"item_move_component_c0"),item_move_component_c1=__name(function(){return{type:"collection"}},"item_move_component_c1"),item_move_component_c2=__name(function(a0){return[a0,"edit"]},"item_move_component_c2");class ItemMoveComponent{constructor(route,router2,notificationsService,itemDataService,searchService,translateService,requestService){this.route=route,this.router=router2,this.notificationsService=notificationsService,this.itemDataService=itemDataService,this.searchService=searchService,this.translateService=translateService,this.requestService=requestService,this.selectorType=dspace_object_type_model.h.COLLECTION,this.inheritPolicies=!1,this.canSubmit=!1,this.processing=!1,this.COLLECTIONS=[dspace_object_type_model.h.COLLECTION]}ngOnInit(){this.itemRD$=this.route.data.pipe((0,operators.UI)(data=>data.dso),(0,shared_operators.xw)()),this.itemPageRoute$=this.itemRD$.pipe((0,shared_operators.mc)(),(0,operators.UI)(item=>(0,item_page_routing_paths.Tt)(item))),this.itemRD$.subscribe(rd=>{this.item=rd.payload}),this.itemRD$.pipe((0,shared_operators.xw)(),(0,shared_operators.xe)(),(0,operators.wt)(item=>item.owningCollection),(0,shared_operators.xw)(),(0,shared_operators.xe)()).subscribe(collection=>{this.originalCollection=collection})}selectDso(data){this.selectedCollection=data,this.selectedCollectionName=data.name,this.canSubmit=!0}getCurrentUrl(){return this.router.url}moveToCollection(){this.processing=!0;const move$=this.itemDataService.moveToCollection(this.item.id,this.selectedCollection).pipe((0,shared_operators.hC)());move$.subscribe(response=>{response.hasSucceeded?this.notificationsService.success(this.translateService.get("item.edit.move.success")):this.notificationsService.error(this.translateService.get("item.edit.move.error"))}),move$.pipe((0,operators.wt)(()=>this.requestService.setStaleByHrefSubstring(this.item.id)),(0,operators.wt)(()=>this.itemDataService.findById(this.item.id,!1,!0,(0,follow_link_config_model.l)("owningCollection"))),(0,shared_operators.hC)()).subscribe(()=>{this.processing=!1,this.router.navigate([(0,item_page_routing_paths.tn)(this.item)])})}discard(){this.selectedCollection=null,this.canSubmit=!1}get canMove(){var _a;return this.canSubmit&&(null===(_a=this.selectedCollection)||void 0===_a?void 0:_a.id)!==this.originalCollection.id}}__name(ItemMoveComponent,"ItemMoveComponent"),ItemMoveComponent.\u0275fac=__name(function(t){return new(t||ItemMoveComponent)(core.Y36(router.gz),core.Y36(router.F0),core.Y36(notifications_service.T),core.Y36(item_data_service.S),core.Y36(search_service.o),core.Y36(ngx_translate_core.sK),core.Y36(request_service.s))},"ItemMoveComponent_Factory"),ItemMoveComponent.\u0275cmp=core.Xpm({type:ItemMoveComponent,selectors:[["ds-item-move"]],decls:43,vars:40,consts:[[1,"container"],[1,"row"],[1,"col-12"],[1,"card","mb-3"],[1,"card-header"],[1,"card-body"],[3,"types","currentDSOId","onSelect"],["type","checkbox","name","tc","id","inheritPoliciesCheckbox",3,"ngModel","ngModelChange"],["for","inheritPoliciesCheckbox"],[1,"button-row","bottom"],[1,"float-right","space-children-mr"],[1,"btn","btn-outline-secondary",3,"routerLink"],[1,"fas","fa-arrow-left"],[1,"btn","btn-primary",3,"disabled","click"],[4,"ngIf"],[1,"btn","btn-danger",3,"disabled","click"],[1,"fas","fa-times"],[1,"fas","fa-save"],[1,"fas","fa-circle-notch","fa-spin"]],template:__name(function(rf,ctx){if(1&rf&&(core.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h2"),core._uU(4),core.ALo(5,"translate"),core.ALo(6,"async"),core.qZA(),core.TgZ(7,"p"),core._uU(8),core.ALo(9,"translate"),core.qZA(),core.TgZ(10,"div",1)(11,"div",2)(12,"div",3)(13,"div",4),core._uU(14),core.ALo(15,"translate"),core.qZA(),core.TgZ(16,"div",5)(17,"ds-authorized-collection-selector",6),core.NdJ("onSelect",__name(function($event){return ctx.selectDso($event)},"ItemMoveComponent_Template_ds_authorized_collection_selector_onSelect_17_listener")),core.qZA()(),core._UZ(18,"div"),core.qZA()()(),core.TgZ(19,"div",1)(20,"div",2)(21,"p")(22,"input",7),core.NdJ("ngModelChange",__name(function($event){return ctx.inheritPolicies=$event},"ItemMoveComponent_Template_input_ngModelChange_22_listener")),core.qZA(),core.TgZ(23,"label",8),core._uU(24),core.ALo(25,"translate"),core.qZA()(),core.TgZ(26,"p"),core._uU(27),core.ALo(28,"translate"),core.qZA()()(),core.TgZ(29,"div",9)(30,"div",10)(31,"button",11),core.ALo(32,"async"),core._UZ(33,"i",12),core._uU(34),core.ALo(35,"translate"),core.qZA(),core.TgZ(36,"button",13),core.NdJ("click",__name(function(){return ctx.moveToCollection()},"ItemMoveComponent_Template_button_click_36_listener")),core.YNc(37,ItemMoveComponent_span_37_Template,4,3,"span",14),core.YNc(38,ItemMoveComponent_span_38_Template,4,3,"span",14),core.qZA(),core.TgZ(39,"button",15),core.NdJ("click",__name(function(){return ctx.discard()},"ItemMoveComponent_Template_button_click_39_listener")),core._UZ(40,"i",16),core._uU(41),core.ALo(42,"translate"),core.qZA()()()()()()),2&rf){let tmp_0_0;core.xp6(4),core.Oqu(core.xi3(5,15,"item.edit.move.head",core.VKq(35,item_move_component_c0,null==(tmp_0_0=core.lcZ(6,18,ctx.itemRD$))||null==tmp_0_0.payload?null:tmp_0_0.payload.handle))),core.xp6(4),core.Oqu(core.lcZ(9,20,"item.edit.move.description")),core.xp6(6),core.Oqu(core.xi3(15,22,"dso-selector.placeholder",core.DdM(37,item_move_component_c1))),core.xp6(3),core.Q6J("types",ctx.COLLECTIONS)("currentDSOId",ctx.selectedCollection?ctx.selectedCollection.id:ctx.originalCollection.id),core.xp6(5),core.Q6J("ngModel",ctx.inheritPolicies),core.xp6(2),core.Oqu(core.lcZ(25,25,"item.edit.move.inheritpolicies.checkbox")),core.xp6(3),core.hij(" ",core.lcZ(28,27,"item.edit.move.inheritpolicies.description")," "),core.xp6(4),core.Q6J("routerLink",core.VKq(38,item_move_component_c2,core.lcZ(32,29,ctx.itemPageRoute$))),core.xp6(3),core.hij(" ",core.lcZ(35,31,"item.edit.move.cancel")," "),core.xp6(2),core.Q6J("disabled",!ctx.canMove),core.xp6(1),core.Q6J("ngIf",!ctx.processing),core.xp6(1),core.Q6J("ngIf",ctx.processing),core.xp6(1),core.Q6J("disabled",!ctx.canSubmit),core.xp6(2),core.hij(" ",core.lcZ(42,33,"item.edit.move.discard-button")," ")}},"ItemMoveComponent_Template"),directives:[authorized_collection_selector_component.$,fesm2015_forms.Wl,fesm2015_forms.JJ,fesm2015_forms.On,router.rH,common.O5],pipes:[ngx_translate_core.X$,common.Ov],encapsulation:2});var relationship_model=__webpack_require__(11316),relationship_type_data_service=__webpack_require__(67357),dynamic_lookup_relation_modal_component=(__webpack_require__(87917),__webpack_require__(86180),__webpack_require__(55648)),relationship_options_model=__webpack_require__(34780),selectable_list_service=__webpack_require__(51117),app_config_interface=__webpack_require__(63645),relation_query_utils=__webpack_require__(49454);function VirtualMetadataComponent_ng_container_8_div_1_div_6_Template(rf,ctx){if(1&rf&&(core.TgZ(0,"div")(1,"div",16),core._uU(2),core.qZA(),core.TgZ(3,"div"),core._uU(4),core.qZA()()),2&rf){const metadata_r5=ctx.$implicit;core.xp6(2),core.hij(" ",metadata_r5.metadataField," "),core.xp6(2),core.hij(" ",metadata_r5.metadataValue.value," ")}}function VirtualMetadataComponent_ng_container_8_div_1_Template(rf,ctx){if(1&rf){const _r8=core.EpF();core.TgZ(0,"div",10),core.NdJ("click",__name(function(){const selected_r3=core.CHM(_r8).ngVar,item_r1=core.oxw().$implicit;return core.oxw().setSelectedVirtualMetadataItem(item_r1,!selected_r3)},"VirtualMetadataComponent_ng_container_8_div_1_Template_div_click_0_listener")),core.TgZ(1,"div",11)(2,"label"),core._UZ(3,"input",12),core.qZA()(),core.TgZ(4,"div",13),core._UZ(5,"ds-listable-object-component-loader",14),core.YNc(6,VirtualMetadataComponent_ng_container_8_div_1_div_6_Template,5,2,"div",15),core.qZA()()}if(2&rf){const selected_r3=ctx.ngVar,item_r1=core.oxw().$implicit,ctx_r2=core.oxw();core.xp6(3),core.Q6J("checked",selected_r3),core.xp6(2),core.Q6J("object",item_r1),core.xp6(1),core.Q6J("ngForOf",ctx_r2.virtualMetadata.get(item_r1.uuid))}}function VirtualMetadataComponent_ng_container_8_Template(rf,ctx){if(1&rf&&(core.ynx(0),core.YNc(1,VirtualMetadataComponent_ng_container_8_div_1_Template,7,3,"div",9),core.ALo(2,"async"),core.BQk()),2&rf){const item_r1=ctx.$implicit,ctx_r0=core.oxw();core.xp6(1),core.Q6J("ngVar",core.lcZ(2,1,ctx_r0.isSelectedVirtualMetadataItem(item_r1)))}}__name(VirtualMetadataComponent_ng_container_8_div_1_div_6_Template,"VirtualMetadataComponent_ng_container_8_div_1_div_6_Template"),__name(VirtualMetadataComponent_ng_container_8_div_1_Template,"VirtualMetadataComponent_ng_container_8_div_1_Template"),__name(VirtualMetadataComponent_ng_container_8_Template,"VirtualMetadataComponent_ng_container_8_Template");class VirtualMetadataComponent{constructor(objectUpdatesService,appConfig){this.objectUpdatesService=objectUpdatesService,this.appConfig=appConfig,this.close=new core.vpe,this.save=new core.vpe,this.virtualMetadata=new Map,this.showThumbnails=this.appConfig.browseBy.showThumbnails}get items(){return[this.leftItem,this.rightItem]}getVirtualMetadata(item){return Object.entries(item.metadata).map(([key,value])=>value.filter(metadata=>!key.startsWith("relation")&&metadata.authority&&metadata.authority.endsWith(this.relationshipId)).map(metadata=>({metadataField:key,metadataValue:metadata}))).reduce((previous,current)=>previous.concat(current),[])}setSelectedVirtualMetadataItem(item,selected){this.objectUpdatesService.setSelectedVirtualMetadata(this.url,this.relationshipId,item.uuid,selected)}isSelectedVirtualMetadataItem(item){return this.objectUpdatesService.isSelectedVirtualMetadata(this.url,this.relationshipId,item.uuid)}trackItem(index,item){return item&&item.uuid}ngOnInit(){this.items.forEach(item=>{this.virtualMetadata.set(item.uuid,this.getVirtualMetadata(item))})}}function EditRelationshipComponent_div_0_Template(rf,ctx){if(1&rf){const _r4=core.EpF();core.TgZ(0,"div",2)(1,"div",3),core._UZ(2,"ds-listable-object-component-loader",4),core.ALo(3,"async"),core.qZA(),core.TgZ(4,"div",5)(5,"div",6)(6,"button",7),core.NdJ("click",__name(function(){core.CHM(_r4);const ctx_r3=core.oxw(),_r1=core.MAs(3);return ctx_r3.openVirtualMetadataModal(_r1)},"EditRelationshipComponent_div_0_Template_button_click_6_listener")),core.ALo(7,"translate"),core._UZ(8,"i",8),core.qZA(),core.TgZ(9,"button",9),core.NdJ("click",__name(function(){return core.CHM(_r4),core.oxw().undo()},"EditRelationshipComponent_div_0_Template_button_click_9_listener")),core.ALo(10,"translate"),core._UZ(11,"i",10),core.qZA()()()()}if(2&rf){const ctx_r0=core.oxw();core.xp6(2),core.Q6J("object",core.lcZ(3,7,ctx_r0.relatedItem$))("viewMode",ctx_r0.viewMode)("value",ctx_r0.nameVariant),core.xp6(4),core.s9C("title",core.lcZ(7,9,"item.edit.metadata.edit.buttons.remove")),core.Q6J("disabled",!ctx_r0.canRemove()),core.xp6(3),core.s9C("title",core.lcZ(10,11,"item.edit.metadata.edit.buttons.undo")),core.Q6J("disabled",!ctx_r0.canUndo())}}function EditRelationshipComponent_ng_template_2_Template(rf,ctx){if(1&rf){const _r7=core.EpF();core.TgZ(0,"ds-virtual-metadata",11),core.NdJ("close",__name(function(){return core.CHM(_r7),core.oxw().closeVirtualMetadataModal()},"EditRelationshipComponent_ng_template_2_Template_ds_virtual_metadata_close_0_listener"))("save",__name(function(){return core.CHM(_r7),core.oxw().remove()},"EditRelationshipComponent_ng_template_2_Template_ds_virtual_metadata_save_0_listener")),core.ALo(1,"async"),core.ALo(2,"async"),core.qZA()}if(2&rf){const ctx_r2=core.oxw();core.Q6J("relationshipId",ctx_r2.relationship.id)("leftItem",core.lcZ(1,4,ctx_r2.leftItem$))("rightItem",core.lcZ(2,6,ctx_r2.rightItem$))("url",ctx_r2.url)}}__name(VirtualMetadataComponent,"VirtualMetadataComponent"),VirtualMetadataComponent.\u0275fac=__name(function(t){return new(t||VirtualMetadataComponent)(core.Y36(object_updates_service.d),core.Y36(app_config_interface.q))},"VirtualMetadataComponent_Factory"),VirtualMetadataComponent.\u0275cmp=core.Xpm({type:VirtualMetadataComponent,selectors:[["ds-virtual-metadata"]],inputs:{url:"url",relationshipId:"relationshipId",leftItem:"leftItem",rightItem:"rightItem"},outputs:{close:"close",save:"save"},decls:14,vars:9,consts:[[3,"ngClass"],[1,"modal-header"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],[4,"ngFor","ngForOf","ngForTrackBy"],[1,"d-flex","flex-row-reverse","m-2"],[1,"btn","btn-primary","save",3,"click"],[1,"fas","fa-save"],["class","item d-flex flex-row",3,"click",4,"ngVar"],[1,"item","d-flex","flex-row",3,"click"],[1,"m-2"],["type","checkbox",1,"select",3,"checked"],[1,"flex-column"],[3,"object"],[4,"ngFor","ngForOf"],[1,"font-weight-bold"]],template:__name(function(rf,ctx){1&rf&&(core.TgZ(0,"div",0)(1,"div",1),core._uU(2),core.ALo(3,"translate"),core.TgZ(4,"button",2),core.NdJ("click",__name(function(){return ctx.close.emit()},"VirtualMetadataComponent_Template_button_click_4_listener")),core.TgZ(5,"span",3),core._uU(6,"\xd7"),core.qZA()()(),core.TgZ(7,"div",4),core.YNc(8,VirtualMetadataComponent_ng_container_8_Template,3,3,"ng-container",5),core.TgZ(9,"div",6)(10,"button",7),core.NdJ("click",__name(function(){return ctx.save.emit()},"VirtualMetadataComponent_Template_button_click_10_listener")),core._UZ(11,"i",8),core._uU(12),core.ALo(13,"translate"),core.qZA()()()()),2&rf&&(core.Q6J("ngClass",ctx.showThumbnails?"hide-modal-thumbnail-column":""),core.xp6(2),core.hij("",core.lcZ(3,5,"virtual-metadata.delete-relationship.modal-head")," "),core.xp6(6),core.Q6J("ngForOf",ctx.items)("ngForTrackBy",ctx.trackItem),core.xp6(4),core.hij(" ",core.lcZ(13,7,"item.edit.metadata.save-button")," "))},"VirtualMetadataComponent_Template"),directives:[common.mk,common.sg,var_directive.g,listable_object_component_loader_component.p],pipes:[ngx_translate_core.X$,common.Ov],encapsulation:2}),__name(EditRelationshipComponent_div_0_Template,"EditRelationshipComponent_div_0_Template"),__name(EditRelationshipComponent_ng_template_2_Template,"EditRelationshipComponent_ng_template_2_Template");class EditRelationshipComponent{constructor(objectUpdatesService,modalService){this.objectUpdatesService=objectUpdatesService,this.modalService=modalService,this.viewMode=view_mode_model.w.ListElement}get relationship(){return this.update.relationship}get update(){return this.fieldUpdate.field}get nameVariant(){return this.update.nameVariant}ngOnChanges(){this.relationship&&(this.relationship.leftItem||this.relationship.rightItem)?(this.leftItem$=this.relationship.leftItem.pipe((0,shared_operators.xw)(),(0,shared_operators.xe)(),(0,operators.hX)(item=>(0,empty_util.Uh)(item)&&(0,empty_util.UE)(item.uuid))),this.rightItem$=this.relationship.rightItem.pipe((0,shared_operators.xw)(),(0,shared_operators.xe)(),(0,operators.hX)(item=>(0,empty_util.Uh)(item)&&(0,empty_util.UE)(item.uuid))),this.relatedItem$=(0,cjs.combineLatest)(this.leftItem$,this.rightItem$).pipe((0,operators.UI)(items=>items.find(item=>item.uuid!==this.editItem.uuid)))):this.relatedItem$=(0,cjs.of)(this.update.relatedItem)}remove(){this.closeVirtualMetadataModal(),(0,cjs.combineLatest)(this.leftItem$,this.rightItem$).pipe((0,operators.UI)(items=>items.map(item=>this.objectUpdatesService.isSelectedVirtualMetadata(this.url,this.relationship.id,item.uuid))),(0,operators.wt)(selection$=>(0,cjs.combineLatest)(selection$)),(0,operators.UI)(selection=>Object.assign({},this.fieldUpdate.field,{keepLeftVirtualMetadata:!0===selection[0],keepRightVirtualMetadata:!0===selection[1]})),(0,operators.qn)(1)).subscribe(deleteRelationship=>this.objectUpdatesService.saveRemoveFieldUpdate(this.url,deleteRelationship))}openVirtualMetadataModal(content){this.modalRef=this.modalService.open(content)}closeVirtualMetadataModal(){this.modalRef.close()}undo(){this.objectUpdatesService.removeSingleFieldUpdate(this.url,this.fieldUpdate.field.uuid)}canRemove(){return this.fieldUpdate.changeType!==field_change_type_model.m.REMOVE&&this.fieldUpdate.changeType!==field_change_type_model.m.ADD}canUndo(){return this.fieldUpdate.changeType>=0}}__name(EditRelationshipComponent,"EditRelationshipComponent"),EditRelationshipComponent.\u0275fac=__name(function(t){return new(t||EditRelationshipComponent)(core.Y36(object_updates_service.d),core.Y36(ng_bootstrap.FF))},"EditRelationshipComponent_Factory"),EditRelationshipComponent.\u0275cmp=core.Xpm({type:EditRelationshipComponent,selectors:[["ds-edit-relationship"]],inputs:{fieldUpdate:"fieldUpdate",url:"url",editItem:"editItem"},features:[core.TTD],decls:4,vars:3,consts:[["class","row",4,"ngIf"],["virtualMetadataModal",""],[1,"row"],[1,"col-10","relationship"],[3,"object","viewMode","value"],[1,"col-2"],[1,"btn-group","relationship-action-buttons"],[1,"btn","btn-outline-danger","btn-sm",3,"disabled","title","click"],[1,"fas","fa-trash-alt","fa-fw"],[1,"btn","btn-outline-warning","btn-sm",3,"disabled","title","click"],[1,"fas","fa-undo-alt","fa-fw"],[3,"relationshipId","leftItem","rightItem","url","close","save"]],template:__name(function(rf,ctx){1&rf&&(core.YNc(0,EditRelationshipComponent_div_0_Template,12,13,"div",0),core.ALo(1,"async"),core.YNc(2,EditRelationshipComponent_ng_template_2_Template,3,8,"ng-template",null,1,core.W1O)),2&rf&&core.Q6J("ngIf",core.lcZ(1,1,ctx.relatedItem$))},"EditRelationshipComponent_Template"),directives:[common.O5,listable_object_component_loader_component.p,VirtualMetadataComponent],pipes:[common.Ov,ngx_translate_core.X$],styles:[".btn[disabled][_ngcontent-%COMP%]{color:var(--bs-gray-600);border-color:var(--bs-gray-600);z-index:0}.relationship-action-buttons[_ngcontent-%COMP%]{margin:0;position:absolute;top:50%;left:50%;transform:translate(-50%,-50%)}"]});const edit_relationship_list_component_c0=__name(function(){return{}},"edit_relationship_list_component_c0"),edit_relationship_list_component_c1=__name(function(a0,a1,a2){return{"alert-success":a0,"alert-warning":a1,"alert-danger":a2}},"edit_relationship_list_component_c1");function EditRelationshipListComponent_ng_container_10_ng_container_1_ng_container_1_ds_edit_relationship_6_Template(rf,ctx){if(1&rf&&core._UZ(0,"ds-edit-relationship",8),2&rf){const updateValue_r8=ctx.$implicit,ctx_r6=core.oxw(4);core.Q6J("fieldUpdate",updateValue_r8||core.DdM(4,edit_relationship_list_component_c0))("url",ctx_r6.url)("editItem",ctx_r6.item)("ngClass",core.kEZ(5,edit_relationship_list_component_c1,1===updateValue_r8.changeType,0===updateValue_r8.changeType,2===updateValue_r8.changeType))}}function EditRelationshipListComponent_ng_container_10_ng_container_1_ng_container_1_div_7_Template(rf,ctx){1&rf&&(core.TgZ(0,"div"),core._uU(1),core.ALo(2,"translate"),core.qZA()),2&rf&&(core.xp6(1),core.Oqu(core.lcZ(2,1,"item.edit.relationships.no-relationships")))}function EditRelationshipListComponent_ng_container_10_ng_container_1_ng_container_1_Template(rf,ctx){if(1&rf&&(core.ynx(0),core.TgZ(1,"ds-pagination",5),core.ALo(2,"async"),core.ALo(3,"async"),core.ALo(4,"async"),core.TgZ(5,"div",6),core.YNc(6,EditRelationshipListComponent_ng_container_10_ng_container_1_ng_container_1_ds_edit_relationship_6_Template,1,9,"ds-edit-relationship",7),core.qZA()(),core.YNc(7,EditRelationshipListComponent_ng_container_10_ng_container_1_ng_container_1_div_7_Template,3,3,"div",4),core.BQk()),2&rf){const updateValues_r5=ctx.ngVar,ctx_r4=core.oxw(3);let tmp_1_0,tmp_2_0;core.xp6(1),core.Q6J("paginationOptions",ctx_r4.paginationConfig)("pageInfoState",null==(tmp_1_0=core.lcZ(2,8,ctx_r4.relationshipsRd$))||null==tmp_1_0.payload?null:tmp_1_0.payload.pageInfo)("collectionSize",(null==(tmp_2_0=core.lcZ(3,10,ctx_r4.relationshipsRd$))||null==tmp_2_0.payload?null:tmp_2_0.payload.totalElements)+core.lcZ(4,12,ctx_r4.nbAddedFields$))("hideGear",!0)("hidePagerWhenSinglePage",!0),core.xp6(5),core.Q6J("ngForOf",updateValues_r5)("ngForTrackBy",ctx_r4.trackUpdate),core.xp6(1),core.Q6J("ngIf",0===updateValues_r5.length)}}function EditRelationshipListComponent_ng_container_10_ng_container_1_Template(rf,ctx){if(1&rf&&(core.ynx(0),core.YNc(1,EditRelationshipListComponent_ng_container_10_ng_container_1_ng_container_1_Template,8,14,"ng-container",3),core.ALo(2,"dsObjectValues"),core.BQk()),2&rf){const updates_r1=core.oxw().ngVar;core.xp6(1),core.Q6J("ngVar",core.lcZ(2,1,updates_r1))}}function EditRelationshipListComponent_ng_container_10_ds_themed_loading_3_Template(rf,ctx){1&rf&&core._UZ(0,"ds-themed-loading")}function EditRelationshipListComponent_ng_container_10_Template(rf,ctx){if(1&rf&&(core.ynx(0),core.YNc(1,EditRelationshipListComponent_ng_container_10_ng_container_1_Template,3,3,"ng-container",4),core.ALo(2,"async"),core.YNc(3,EditRelationshipListComponent_ng_container_10_ds_themed_loading_3_Template,1,0,"ds-themed-loading",4),core.ALo(4,"async"),core.BQk()),2&rf){const updates_r1=ctx.ngVar,ctx_r0=core.oxw();core.xp6(1),core.Q6J("ngIf",updates_r1&&!core.lcZ(2,2,ctx_r0.loading$)),core.xp6(2),core.Q6J("ngIf",core.lcZ(4,4,ctx_r0.loading$))}}__name(EditRelationshipListComponent_ng_container_10_ng_container_1_ng_container_1_ds_edit_relationship_6_Template,"EditRelationshipListComponent_ng_container_10_ng_container_1_ng_container_1_ds_edit_relationship_6_Template"),__name(EditRelationshipListComponent_ng_container_10_ng_container_1_ng_container_1_div_7_Template,"EditRelationshipListComponent_ng_container_10_ng_container_1_ng_container_1_div_7_Template"),__name(EditRelationshipListComponent_ng_container_10_ng_container_1_ng_container_1_Template,"EditRelationshipListComponent_ng_container_10_ng_container_1_ng_container_1_Template"),__name(EditRelationshipListComponent_ng_container_10_ng_container_1_Template,"EditRelationshipListComponent_ng_container_10_ng_container_1_Template"),__name(EditRelationshipListComponent_ng_container_10_ds_themed_loading_3_Template,"EditRelationshipListComponent_ng_container_10_ds_themed_loading_3_Template"),__name(EditRelationshipListComponent_ng_container_10_Template,"EditRelationshipListComponent_ng_container_10_Template");class EditRelationshipListComponent{constructor(objectUpdatesService,linkService,relationshipService,relationshipTypeService,modalService,paginationService,selectableListService,appConfig){this.objectUpdatesService=objectUpdatesService,this.linkService=linkService,this.relationshipService=relationshipService,this.relationshipTypeService=relationshipTypeService,this.modalService=modalService,this.paginationService=paginationService,this.selectableListService=selectableListService,this.appConfig=appConfig,this.submit=new core.vpe,this.updates$=new cjs.BehaviorSubject(void 0),this.relationshipsRd$=new cjs.BehaviorSubject(void 0),this.isLastPage$=new cjs.BehaviorSubject(!0),this.loading$=new cjs.BehaviorSubject(!0),this.nbAddedFields$=new cjs.BehaviorSubject(0),this.subs=[],this.fetchThumbnail=this.appConfig.browseBy.showThumbnails}getRelationshipMessageKey(){return(0,cjs.combineLatest)(this.getLabel(),this.relatedEntityType$).pipe((0,operators.UI)(([label,relatedEntityType])=>{if((0,empty_util.Uh)(label)&&label.indexOf("is")>-1&&label.indexOf("Of")>-1){const relationshipLabel=`${label.substring(2,label.indexOf("Of"))}`;return relationshipLabel!==relatedEntityType.label?`relationships.is${relationshipLabel}Of.${relatedEntityType.label}`:`relationships.is${relationshipLabel}Of`}return label}))}getLabel(){return(0,cjs.combineLatest)([this.relationshipType.leftType,this.relationshipType.rightType].map(itemTypeRD=>itemTypeRD.pipe((0,shared_operators.xw)(),(0,shared_operators.xe)()))).pipe((0,operators.UI)(itemTypes=>[this.relationshipType.leftwardType,this.relationshipType.rightwardType][itemTypes.findIndex(itemType=>itemType.id===this.itemType.id)]))}trackUpdate(index,update){return update&&update.field?update.field.uuid:void 0}openLookup(){this.modalRef=this.modalService.open(dynamic_lookup_relation_modal_component.i,{size:"lg"});const modalComp=this.modalRef.componentInstance;modalComp.repeatable=!0,modalComp.isEditRelationship=!0,modalComp.listId=this.listId,modalComp.item=this.item,modalComp.relationshipType=this.relationshipType,modalComp.currentItemIsLeftItem$=this.currentItemIsLeftItem$,modalComp.toAdd=[],modalComp.toRemove=[],modalComp.isPending=!1,this.item.owningCollection.pipe((0,shared_operators.Gp)()).subscribe(collection=>{modalComp.collection=collection}),modalComp.select=(...selectableObjects)=>{selectableObjects.forEach(searchResult=>{const relatedItem=searchResult.indexableObject,foundIndex=modalComp.toRemove.findIndex(el=>el.uuid===relatedItem.uuid);-1!==foundIndex?modalComp.toRemove.splice(foundIndex,1):this.getRelationFromId(relatedItem).subscribe(relationship=>{if(relationship){const foundIndexRemove=modalComp.toRemove.findIndex(el=>el.indexableObject.uuid===relatedItem.uuid);-1!==foundIndexRemove&&modalComp.toRemove.splice(foundIndexRemove,1)}else modalComp.toAdd.push(searchResult);this.loading$.next(!0),this.relationshipsRd$.next(this.relationshipsRd$.getValue())})})},modalComp.deselect=(...selectableObjects)=>{selectableObjects.forEach(searchResult=>{const relatedItem=searchResult.indexableObject,foundIndex=modalComp.toAdd.findIndex(el=>el.indexableObject.uuid===relatedItem.uuid);-1!==foundIndex?modalComp.toAdd.splice(foundIndex,1):modalComp.toRemove.push(searchResult)})},modalComp.submitEv=()=>{const subscriptions=[];modalComp.toAdd.forEach(searchResult=>{const relatedItem=searchResult.indexableObject;subscriptions.push(this.relationshipService.getNameVariant(this.listId,relatedItem.uuid).pipe((0,operators.UI)(nameVariant=>{const update={uuid:this.relationshipType.id+"-"+searchResult.indexableObject.uuid,nameVariant,type:this.relationshipType,relatedItem};return this.objectUpdatesService.saveAddFieldUpdate(this.url,update),update})))}),modalComp.toRemove.forEach(searchResult=>{subscriptions.push(this.relationshipService.getNameVariant(this.listId,searchResult.indexableObjectuuid).pipe((0,operators.wt)(nameVariant=>this.getRelationFromId(searchResult.indexableObject).pipe((0,operators.UI)(relationship=>{const update={uuid:relationship.id,nameVariant,type:this.relationshipType,relationship};return this.objectUpdatesService.saveRemoveFieldUpdate(this.url,update),update})))))}),(0,cjs.combineLatest)(subscriptions).subscribe(res=>{setTimeout(()=>{this.submit.emit()},1e3),modalComp.isPending=!0})},modalComp.discardEv=()=>{modalComp.toAdd.forEach(searchResult=>{this.selectableListService.deselectSingle(this.listId,searchResult)}),modalComp.toRemove.forEach(searchResult=>{this.selectableListService.selectSingle(this.listId,searchResult)}),modalComp.toAdd=[],modalComp.toRemove=[]},this.relatedEntityType$.pipe((0,operators.qn)(1)).subscribe(relatedEntityType=>{modalComp.relationshipOptions=Object.assign(new relationship_options_model.u,{relationshipType:relatedEntityType.label,searchConfiguration:relatedEntityType.label.toLowerCase(),nameVariants:"true"})}),this.selectableListService.deselectAll(this.listId)}getRelationFromId(relatedItem){return this.currentItemIsLeftItem$.pipe((0,operators.qn)(1),(0,operators.wt)(isLeft=>{let apiCall;return apiCall=isLeft?this.relationshipService.searchByItemsAndType(this.relationshipType.id,this.item.uuid,this.relationshipType.leftwardType,[relatedItem.id]).pipe((0,shared_operators.xw)(),(0,shared_operators.xe)()):this.relationshipService.searchByItemsAndType(this.relationshipType.id,this.item.uuid,this.relationshipType.rightwardType,[relatedItem.id]).pipe((0,shared_operators.xw)(),(0,shared_operators.xe)()),apiCall.pipe((0,operators.UI)(res=>res.page[0]))}))}getFieldUpdatesForRelatedItem(relatedItem){return this.updates$.pipe((0,operators.qn)(1),(0,operators.UI)(updates=>Object.values(updates).map(update=>update.field).filter(field=>field.relationship)),(0,operators.zg)(identifiables=>(0,cjs.combineLatest)(identifiables.map(identifiable=>this.getRelatedItem(identifiable.relationship))).pipe((0,operators.dL)([]),(0,operators.UI)(relatedItems=>identifiables.filter((identifiable,index)=>relatedItems[index].uuid===relatedItem.uuid)))))}getIsRelatedItem(relatedItem){return this.currentItemIsLeftItem$.pipe((0,operators.qn)(1),(0,operators.UI)(isLeft=>isLeft?!!this.item.allMetadataValues("relation."+this.relationshipType.leftwardType).find(uuid=>uuid===relatedItem.uuid):!!this.item.allMetadataValues("relation."+this.relationshipType.rightwardType).find(uuid=>uuid===relatedItem.uuid)))}getRelatedItem(relationship){return this.relationshipService.isLeftItem(relationship,this.item).pipe((0,operators.wt)(isLeftItem=>isLeftItem?relationship.rightItem:relationship.leftItem),(0,shared_operators.xw)(),(0,shared_operators.xe)())}ngOnInit(){this.relationshipLeftAndRightType$=(0,cjs.combineLatest)([this.relationshipType.leftType,this.relationshipType.rightType].map(type=>type.pipe((0,shared_operators.xw)(),(0,shared_operators.xe)()))),this.relatedEntityType$=this.relationshipLeftAndRightType$.pipe((0,operators.UI)(relatedTypes=>relatedTypes.find(relatedType=>relatedType.uuid!==this.itemType.uuid)),(0,empty_util.tz)()),this.relatedEntityType$.pipe((0,operators.qn)(1)).subscribe(relatedEntityType=>this.listId=`edit-relationship-${this.itemType.id}-${relatedEntityType.id}`),this.currentItemIsLeftItem$=this.relationshipLeftAndRightType$.pipe((0,operators.UI)(([leftType,rightType])=>leftType.id===this.itemType.id||rightType.id!==this.itemType.id&&void console.warn(`The item ${this.item.uuid} is not on the right or the left side of relationship type ${this.relationshipType.uuid}`))),this.paginationConfig=new pagination_component_options_model.r,this.paginationConfig.id=`er${this.relationshipType.id}`,this.paginationConfig.pageSize=5,this.paginationConfig.currentPage=1;const currentPagination$=this.paginationService.getCurrentPagination(this.paginationConfig.id,this.paginationConfig).pipe((0,operators.bw)(()=>this.loading$.next(!0)));let linksToFollow=(0,relation_query_utils.IX)(this.fetchThumbnail);this.subs.push((0,cjs.combineLatest)([currentPagination$,this.currentItemIsLeftItem$]).pipe((0,operators.wt)(([currentPagination,currentItemIsLeftItem])=>this.relationshipService.getItemRelationshipsByLabel(this.item,currentItemIsLeftItem?this.relationshipType.leftwardType:this.relationshipType.rightwardType,{elementsPerPage:currentPagination.pageSize,currentPage:currentPagination.currentPage},!1,!0,...linksToFollow))).subscribe(rd=>{this.relationshipsRd$.next(rd)})),this.subs.push(this.relationshipsRd$.pipe((0,empty_util.tz)(),(0,shared_operators.g1)()).subscribe(rd=>{this.isLastPage$.next((0,empty_util.xI)(rd.payload._links.next))})),this.subs.push(this.relationshipsRd$.pipe((0,empty_util.tz)(),(0,shared_operators.g1)(),(0,operators.wt)(rd=>(0,cjs.from)(rd.payload.page).pipe((0,operators.zg)(relationship=>this.relationshipService.isLeftItem(relationship,this.item).pipe((0,operators.UI)(isLeftItem=>[relationship,isLeftItem]))),(0,operators.UI)(([relationship,isLeftItem])=>{const nameVariant=isLeftItem?relationship.rightwardValue:relationship.leftwardValue;return{uuid:relationship.id,type:this.relationshipType,relationship,nameVariant}}),(0,operators.qo)(),(0,operators.dL)([]))),(0,operators.wt)(nextFields=>this.objectUpdatesService.getFieldUpdates(this.url,nextFields).pipe((0,operators.UI)(fieldUpdates=>{const fieldUpdatesFiltered={};return this.nbAddedFields$.next(0),Object.keys(fieldUpdates).forEach(uuid=>{(0,empty_util.Uh)(fieldUpdates[uuid])&&fieldUpdates[uuid].field.type.id===this.relationshipType.id&&(fieldUpdates[uuid].changeType===field_change_type_model.m.ADD?(this.nbAddedFields$.next(this.nbAddedFields$.getValue()+1),!0===this.isLastPage$.getValue()&&(fieldUpdatesFiltered[uuid]=fieldUpdates[uuid])):fieldUpdatesFiltered[uuid]=fieldUpdates[uuid])}),fieldUpdatesFiltered}))),(0,operators.O4)({})).subscribe(updates=>{this.loading$.next(!1),this.updates$.next(updates)}))}ngOnDestroy(){this.subs.filter(subscription=>(0,empty_util.Uh)(subscription)).forEach(subscription=>subscription.unsubscribe())}}function ItemRelationshipsComponent_ng_container_1_ng_container_1_button_2_Template(rf,ctx){if(1&rf){const _r10=core.EpF();core.TgZ(0,"button",14),core.NdJ("click",__name(function(){return core.CHM(_r10),core.oxw(3).discard()},"ItemRelationshipsComponent_ng_container_1_ng_container_1_button_2_Template_button_click_0_listener")),core.ALo(1,"async"),core._UZ(2,"i",15),core.TgZ(3,"span",9),core._uU(4),core.ALo(5,"translate"),core.qZA()()}if(2&rf){const ctx_r4=core.oxw(3);core.Q6J("disabled",!core.lcZ(1,2,ctx_r4.hasChanges())),core.xp6(4),core.hij("\xa0",core.lcZ(5,4,"item.edit.metadata.discard-button"),"")}}function ItemRelationshipsComponent_ng_container_1_ng_container_1_button_4_Template(rf,ctx){if(1&rf){const _r12=core.EpF();core.TgZ(0,"button",16),core.NdJ("click",__name(function(){return core.CHM(_r12),core.oxw(3).reinstate()},"ItemRelationshipsComponent_ng_container_1_ng_container_1_button_4_Template_button_click_0_listener")),core._UZ(1,"i",17),core.TgZ(2,"span",9),core._uU(3),core.ALo(4,"translate"),core.qZA()()}2&rf&&(core.xp6(3),core.hij("\xa0",core.lcZ(4,1,"item.edit.metadata.reinstate-button"),""))}function ItemRelationshipsComponent_ng_container_1_ng_container_1_ng_container_12_ng_container_1_div_1_Template(rf,ctx){if(1&rf){const _r19=core.EpF();core.TgZ(0,"div",19)(1,"ds-edit-relationship-list",20),core.NdJ("submit",__name(function(){return core.CHM(_r19),core.oxw(5).submit()},"ItemRelationshipsComponent_ng_container_1_ng_container_1_ng_container_12_ng_container_1_div_1_Template_ds_edit_relationship_list_submit_1_listener")),core.ALo(2,"async"),core.qZA()()}if(2&rf){const relationshipType_r17=ctx.$implicit,ctx_r16=core.oxw(5);core.xp6(1),core.Q6J("url",ctx_r16.url)("item",ctx_r16.item)("itemType",core.lcZ(2,5,ctx_r16.entityType$))("relationshipType",relationshipType_r17)("hasChanges",ctx_r16.hasChanges())}}function ItemRelationshipsComponent_ng_container_1_ng_container_1_ng_container_12_ng_container_1_Template(rf,ctx){if(1&rf&&(core.ynx(0),core.YNc(1,ItemRelationshipsComponent_ng_container_1_ng_container_1_ng_container_12_ng_container_1_div_1_Template,3,7,"div",18),core.BQk()),2&rf){const relationshipTypes_r13=core.oxw().ngVar;core.xp6(1),core.Q6J("ngForOf",relationshipTypes_r13)}}function ItemRelationshipsComponent_ng_container_1_ng_container_1_ng_container_12_ds_themed_loading_2_Template(rf,ctx){1&rf&&core._UZ(0,"ds-themed-loading")}function ItemRelationshipsComponent_ng_container_1_ng_container_1_ng_container_12_Template(rf,ctx){if(1&rf&&(core.ynx(0),core.YNc(1,ItemRelationshipsComponent_ng_container_1_ng_container_1_ng_container_12_ng_container_1_Template,2,1,"ng-container",2),core.YNc(2,ItemRelationshipsComponent_ng_container_1_ng_container_1_ng_container_12_ds_themed_loading_2_Template,1,0,"ds-themed-loading",2),core.BQk()),2&rf){const relationshipTypes_r13=ctx.ngVar;core.xp6(1),core.Q6J("ngIf",relationshipTypes_r13),core.xp6(1),core.Q6J("ngIf",!relationshipTypes_r13)}}function ItemRelationshipsComponent_ng_container_1_ng_container_1_button_16_Template(rf,ctx){if(1&rf){const _r22=core.EpF();core.TgZ(0,"button",21),core.NdJ("click",__name(function(){return core.CHM(_r22),core.oxw(3).discard()},"ItemRelationshipsComponent_ng_container_1_ng_container_1_button_16_Template_button_click_0_listener")),core.ALo(1,"async"),core._UZ(2,"i",15),core.TgZ(3,"span",9),core._uU(4),core.ALo(5,"translate"),core.qZA()()}if(2&rf){const ctx_r7=core.oxw(3);core.Q6J("disabled",!core.lcZ(1,2,ctx_r7.hasChanges())),core.xp6(4),core.hij("\xa0",core.lcZ(5,4,"item.edit.metadata.discard-button"),"")}}function ItemRelationshipsComponent_ng_container_1_ng_container_1_button_18_Template(rf,ctx){if(1&rf){const _r24=core.EpF();core.TgZ(0,"button",22),core.NdJ("click",__name(function(){return core.CHM(_r24),core.oxw(3).reinstate()},"ItemRelationshipsComponent_ng_container_1_ng_container_1_button_18_Template_button_click_0_listener")),core._UZ(1,"i",17),core.TgZ(2,"span",9),core._uU(3),core.ALo(4,"translate"),core.qZA()()}2&rf&&(core.xp6(3),core.hij("\xa0",core.lcZ(4,1,"item.edit.metadata.reinstate-button"),""))}function ItemRelationshipsComponent_ng_container_1_ng_container_1_Template(rf,ctx){if(1&rf){const _r26=core.EpF();core.ynx(0),core.TgZ(1,"div",4),core.YNc(2,ItemRelationshipsComponent_ng_container_1_ng_container_1_button_2_Template,6,6,"button",5),core.ALo(3,"async"),core.YNc(4,ItemRelationshipsComponent_ng_container_1_ng_container_1_button_4_Template,5,3,"button",6),core.ALo(5,"async"),core.TgZ(6,"button",7),core.NdJ("click",__name(function(){return core.CHM(_r26),core.oxw(2).submit()},"ItemRelationshipsComponent_ng_container_1_ng_container_1_Template_button_click_6_listener")),core.ALo(7,"async"),core._UZ(8,"i",8),core.TgZ(9,"span",9),core._uU(10),core.ALo(11,"translate"),core.qZA()()(),core.YNc(12,ItemRelationshipsComponent_ng_container_1_ng_container_1_ng_container_12_Template,3,2,"ng-container",1),core.ALo(13,"async"),core.TgZ(14,"div",10)(15,"div",11),core.YNc(16,ItemRelationshipsComponent_ng_container_1_ng_container_1_button_16_Template,6,6,"button",12),core.ALo(17,"async"),core.YNc(18,ItemRelationshipsComponent_ng_container_1_ng_container_1_button_18_Template,5,3,"button",13),core.ALo(19,"async"),core.TgZ(20,"button",7),core.NdJ("click",__name(function(){return core.CHM(_r26),core.oxw(2).submit()},"ItemRelationshipsComponent_ng_container_1_ng_container_1_Template_button_click_20_listener")),core.ALo(21,"async"),core._UZ(22,"i",8),core.TgZ(23,"span",9),core._uU(24),core.ALo(25,"translate"),core.qZA()()()(),core.BQk()}if(2&rf){const ctx_r2=core.oxw(2);core.xp6(2),core.Q6J("ngIf",!core.lcZ(3,9,ctx_r2.isReinstatable())),core.xp6(2),core.Q6J("ngIf",core.lcZ(5,11,ctx_r2.isReinstatable())),core.xp6(2),core.Q6J("disabled",!core.lcZ(7,13,ctx_r2.hasChanges())),core.xp6(4),core.hij("\xa0",core.lcZ(11,15,"item.edit.metadata.save-button"),""),core.xp6(2),core.Q6J("ngVar",core.lcZ(13,17,ctx_r2.relationshipTypes$)),core.xp6(4),core.Q6J("ngIf",!core.lcZ(17,19,ctx_r2.isReinstatable())),core.xp6(2),core.Q6J("ngIf",core.lcZ(19,21,ctx_r2.isReinstatable())),core.xp6(2),core.Q6J("disabled",!core.lcZ(21,23,ctx_r2.hasChanges())),core.xp6(4),core.hij("\xa0",core.lcZ(25,25,"item.edit.metadata.save-button"),"")}}function ItemRelationshipsComponent_ng_container_1_div_2_Template(rf,ctx){1&rf&&(core.TgZ(0,"div",23),core._uU(1),core.ALo(2,"translate"),core.qZA()),2&rf&&(core.xp6(1),core.hij(" ",core.lcZ(2,1,"item.edit.relationships.no-entity-type")," "))}function ItemRelationshipsComponent_ng_container_1_Template(rf,ctx){if(1&rf&&(core.ynx(0),core.YNc(1,ItemRelationshipsComponent_ng_container_1_ng_container_1_Template,26,27,"ng-container",2),core.YNc(2,ItemRelationshipsComponent_ng_container_1_div_2_Template,3,3,"div",3),core.BQk()),2&rf){const entityType_r1=ctx.ngVar;core.xp6(1),core.Q6J("ngIf",entityType_r1),core.xp6(1),core.Q6J("ngIf",!entityType_r1)}}__name(EditRelationshipListComponent,"EditRelationshipListComponent"),EditRelationshipListComponent.\u0275fac=__name(function(t){return new(t||EditRelationshipListComponent)(core.Y36(object_updates_service.d),core.Y36(link_service.M),core.Y36(relationship_data_service.U),core.Y36(relationship_type_data_service.X),core.Y36(ng_bootstrap.FF),core.Y36(pagination_service.N),core.Y36(selectable_list_service.w),core.Y36(app_config_interface.q))},"EditRelationshipListComponent_Factory"),EditRelationshipListComponent.\u0275cmp=core.Xpm({type:EditRelationshipListComponent,selectors:[["ds-edit-relationship-list"]],inputs:{item:"item",itemType:"itemType",url:"url",relationshipType:"relationshipType",hasChanges:"hasChanges"},outputs:{submit:"submit"},decls:12,vars:14,consts:[[1,"ml-2","btn","btn-success",3,"disabled","click"],[1,"fas","fa-plus"],[1,"d-none","d-sm-inline"],[4,"ngVar"],[4,"ngIf"],[3,"paginationOptions","pageInfoState","collectionSize","hideGear","hidePagerWhenSinglePage"],[1,"my-2"],["class","relationship-row d-block alert",3,"fieldUpdate","url","editItem","ngClass",4,"ngFor","ngForOf","ngForTrackBy"],[1,"relationship-row","d-block","alert",3,"fieldUpdate","url","editItem","ngClass"]],template:__name(function(rf,ctx){1&rf&&(core.TgZ(0,"h5"),core._uU(1),core.ALo(2,"translate"),core.ALo(3,"async"),core.TgZ(4,"button",0),core.NdJ("click",__name(function(){return ctx.openLookup()},"EditRelationshipListComponent_Template_button_click_4_listener")),core.ALo(5,"async"),core._UZ(6,"i",1),core.TgZ(7,"span",2),core._uU(8),core.ALo(9,"translate"),core.qZA()()(),core.YNc(10,EditRelationshipListComponent_ng_container_10_Template,5,6,"ng-container",3),core.ALo(11,"async")),2&rf&&(core.xp6(1),core.hij(" ",core.lcZ(2,4,core.lcZ(3,6,ctx.getRelationshipMessageKey()))," "),core.xp6(3),core.Q6J("disabled",core.lcZ(5,8,ctx.hasChanges)),core.xp6(4),core.hij("\xa0",core.lcZ(9,10,"item.edit.relationships.edit.buttons.add"),""),core.xp6(2),core.Q6J("ngVar",core.lcZ(11,12,ctx.updates$)))},"EditRelationshipListComponent_Template"),directives:[var_directive.g,common.O5,pagination_component.Q,common.sg,EditRelationshipComponent,common.mk,themed_loading_component.Z],pipes:[ngx_translate_core.X$,common.Ov,object_values_pipe.g],styles:[".relationship-row[_ngcontent-%COMP%]:not(.alert){padding:var(--bs-alert-padding-y) 0}.relationship-row.alert[_ngcontent-%COMP%]{margin-left:calc(-1 * var(--bs-alert-padding-x));margin-right:calc(-1 * var(--bs-alert-padding-x));margin-top:-1px;margin-bottom:-1px}"]}),__name(ItemRelationshipsComponent_ng_container_1_ng_container_1_button_2_Template,"ItemRelationshipsComponent_ng_container_1_ng_container_1_button_2_Template"),__name(ItemRelationshipsComponent_ng_container_1_ng_container_1_button_4_Template,"ItemRelationshipsComponent_ng_container_1_ng_container_1_button_4_Template"),__name(ItemRelationshipsComponent_ng_container_1_ng_container_1_ng_container_12_ng_container_1_div_1_Template,"ItemRelationshipsComponent_ng_container_1_ng_container_1_ng_container_12_ng_container_1_div_1_Template"),__name(ItemRelationshipsComponent_ng_container_1_ng_container_1_ng_container_12_ng_container_1_Template,"ItemRelationshipsComponent_ng_container_1_ng_container_1_ng_container_12_ng_container_1_Template"),__name(ItemRelationshipsComponent_ng_container_1_ng_container_1_ng_container_12_ds_themed_loading_2_Template,"ItemRelationshipsComponent_ng_container_1_ng_container_1_ng_container_12_ds_themed_loading_2_Template"),__name(ItemRelationshipsComponent_ng_container_1_ng_container_1_ng_container_12_Template,"ItemRelationshipsComponent_ng_container_1_ng_container_1_ng_container_12_Template"),__name(ItemRelationshipsComponent_ng_container_1_ng_container_1_button_16_Template,"ItemRelationshipsComponent_ng_container_1_ng_container_1_button_16_Template"),__name(ItemRelationshipsComponent_ng_container_1_ng_container_1_button_18_Template,"ItemRelationshipsComponent_ng_container_1_ng_container_1_button_18_Template"),__name(ItemRelationshipsComponent_ng_container_1_ng_container_1_Template,"ItemRelationshipsComponent_ng_container_1_ng_container_1_Template"),__name(ItemRelationshipsComponent_ng_container_1_div_2_Template,"ItemRelationshipsComponent_ng_container_1_div_2_Template"),__name(ItemRelationshipsComponent_ng_container_1_Template,"ItemRelationshipsComponent_ng_container_1_Template");class ItemRelationshipsComponent extends abstract_item_update_component.a{constructor(itemService,objectUpdatesService,router2,notificationsService,translateService,route,relationshipService,objectCache,requestService,entityTypeService,relationshipTypeService,cdr,modalService){super(itemService,objectUpdatesService,router2,notificationsService,translateService,route),this.itemService=itemService,this.objectUpdatesService=objectUpdatesService,this.router=router2,this.notificationsService=notificationsService,this.translateService=translateService,this.route=route,this.relationshipService=relationshipService,this.objectCache=objectCache,this.requestService=requestService,this.entityTypeService=entityTypeService,this.relationshipTypeService=relationshipTypeService,this.cdr=cdr,this.modalService=modalService}initializeUpdates(){const label=this.item.firstMetadataValue("dspace.entity.type");void 0!==label?(this.relationshipTypes$=this.relationshipTypeService.searchByEntityType(label,!0,!0,...this.getRelationshipTypeFollowLinks()).pipe((0,operators.UI)(relationshipTypes=>relationshipTypes.page)),this.entityType$=this.entityTypeService.getEntityTypeByLabel(label).pipe((0,shared_operators.xw)(),(0,shared_operators.xe)())):this.entityType$=(0,cjs.of)(void 0)}initializeNotificationsPrefix(){this.notificationsPrefix="item.edit.relationships.notifications."}submit(){const removedRelationshipIDs$=this.relationshipService.getItemRelationshipsArray(this.item).pipe((0,operators.O4)([]),(0,operators.UI)(relationships=>relationships.map(relationship=>Object.assign(new relationship_model.W,relationship,{uuid:relationship.id}))),(0,operators.wt)(relationships=>this.objectUpdatesService.getFieldUpdatesExclusive(this.url,relationships)),(0,operators.UI)(fieldUpdates=>Object.values(fieldUpdates).filter(fieldUpdate=>fieldUpdate.changeType===field_change_type_model.m.REMOVE).map(fieldUpdate=>fieldUpdate.field))),addRelatedItems$=this.objectUpdatesService.getFieldUpdates(this.url,[]).pipe((0,operators.UI)(fieldUpdates=>Object.values(fieldUpdates).filter(fieldUpdate=>(0,empty_util.Uh)(fieldUpdate)).filter(fieldUpdate=>fieldUpdate.changeType===field_change_type_model.m.ADD).map(fieldUpdate=>fieldUpdate.field)));(0,cjs.combineLatest)(removedRelationshipIDs$,addRelatedItems$).pipe((0,operators.qn)(1)).subscribe(([removeRelationshipIDs,addRelatedItems])=>{[this.deleteRelationships(removeRelationshipIDs),this.addRelationships(addRelatedItems)].forEach(action=>action.subscribe(response=>{response.length>0&&(this.initializeOriginalFields(),this.cdr.detectChanges(),this.displayNotifications(response),this.modalService.dismissAll())}))})}deleteRelationships(deleteRelationshipIDs){return(0,cjs.zip)(...deleteRelationshipIDs.map(deleteRelationship=>{let copyVirtualMetadata;return copyVirtualMetadata=deleteRelationship.keepLeftVirtualMetadata&&deleteRelationship.keepRightVirtualMetadata?"all":deleteRelationship.keepLeftVirtualMetadata?"left":deleteRelationship.keepRightVirtualMetadata?"right":"none",this.relationshipService.deleteRelationship(deleteRelationship.uuid,copyVirtualMetadata)}))}addRelationships(addRelatedItems){return(0,cjs.zip)(...addRelatedItems.map(addRelationship=>this.entityType$.pipe((0,operators.wt)(entityType=>this.entityTypeService.isLeftType(addRelationship.type,entityType)),(0,operators.wt)(isLeftType=>{let leftItem,rightItem,leftwardValue,rightwardValue;return isLeftType?(leftItem=this.item,rightItem=addRelationship.relatedItem,leftwardValue=null,rightwardValue=addRelationship.nameVariant):(leftItem=addRelationship.relatedItem,rightItem=this.item,leftwardValue=addRelationship.nameVariant,rightwardValue=null),this.relationshipService.addRelationship(addRelationship.type.id,leftItem,rightItem,leftwardValue,rightwardValue)}))))}displayNotifications(responses){const failedResponses=responses.filter(response=>response.hasFailed),successfulResponses=responses.filter(response=>response.hasSucceeded);failedResponses.forEach(response=>{this.notificationsService.error(this.getNotificationTitle("failed"),response.errorMessage)}),successfulResponses.length>0&&this.notificationsService.success(this.getNotificationTitle("saved"),this.getNotificationContent("saved"))}initializeOriginalFields(){return this.relationshipService.getRelatedItems(this.item).pipe((0,operators.qn)(1)).subscribe(items=>{this.objectUpdatesService.initialize(this.url,items,this.item.lastModified)})}getRelationshipTypeFollowLinks(){return[(0,follow_link_config_model.l)("leftType"),(0,follow_link_config_model.l)("rightType")]}}__name(ItemRelationshipsComponent,"ItemRelationshipsComponent"),ItemRelationshipsComponent.\u0275fac=__name(function(t){return new(t||ItemRelationshipsComponent)(core.Y36(item_data_service.S),core.Y36(object_updates_service.d),core.Y36(router.F0),core.Y36(notifications_service.T),core.Y36(ngx_translate_core.sK),core.Y36(router.gz),core.Y36(relationship_data_service.U),core.Y36(object_cache_service.a),core.Y36(request_service.s),core.Y36(entity_type_data_service.k),core.Y36(relationship_type_data_service.X),core.Y36(core.sBO),core.Y36(ng_bootstrap.FF))},"ItemRelationshipsComponent_Factory"),ItemRelationshipsComponent.\u0275cmp=core.Xpm({type:ItemRelationshipsComponent,selectors:[["ds-item-relationships"]],features:[core.qOj],decls:3,vars:3,consts:[[1,"item-relationships"],[4,"ngVar"],[4,"ngIf"],["class","alert alert-info mt-2","role","alert",4,"ngIf"],[1,"button-row","top","d-flex","space-children-mr"],["class","btn btn-danger ml-auto",3,"disabled","click",4,"ngIf"],["class","btn btn-warning ml-auto",3,"click",4,"ngIf"],[1,"btn","btn-primary",3,"disabled","click"],[1,"fas","fa-save"],[1,"d-none","d-sm-inline"],[1,"button-row","bottom"],[1,"float-right","space-children-mr","ml-gap"],["class","btn btn-danger",3,"disabled","click",4,"ngIf"],["class","btn btn-warning",3,"click",4,"ngIf"],[1,"btn","btn-danger","ml-auto",3,"disabled","click"],[1,"fas","fa-times"],[1,"btn","btn-warning","ml-auto",3,"click"],[1,"fas","fa-undo-alt"],["class","mb-4",4,"ngFor","ngForOf"],[1,"mb-4"],[3,"url","item","itemType","relationshipType","hasChanges","submit"],[1,"btn","btn-danger",3,"disabled","click"],[1,"btn","btn-warning",3,"click"],["role","alert",1,"alert","alert-info","mt-2"]],template:__name(function(rf,ctx){1&rf&&(core.TgZ(0,"div",0),core.YNc(1,ItemRelationshipsComponent_ng_container_1_Template,3,2,"ng-container",1),core.ALo(2,"async"),core.qZA()),2&rf&&(core.xp6(1),core.Q6J("ngVar",core.lcZ(2,1,ctx.entityType$)))},"ItemRelationshipsComponent_Template"),directives:[var_directive.g,common.O5,common.sg,EditRelationshipListComponent,themed_loading_component.Z],pipes:[common.Ov,ngx_translate_core.X$],styles:[".button-row[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{margin-right:var(--ds-gap)}.button-row[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:last-child{margin-right:0}@media screen and (min-width: 576px){.button-row[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{min-width:var(--ds-edit-item-button-min-width)}}.button-row.top[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{margin-top:calc(var(--bs-spacer) / 2);margin-bottom:calc(var(--bs-spacer) / 2)}"]});var i18n_breadcrumb_resolver=__webpack_require__(98655),aletr_type=__webpack_require__(74711),item_versions_component=__webpack_require__(75112);function ItemVersionHistoryComponent_div_0_ds_item_versions_1_Template(rf,ctx){if(1&rf&&core._UZ(0,"ds-item-versions",3),2&rf){const item_r1=core.oxw().ngVar;core.Q6J("item",item_r1)("displayWhenEmpty",!0)("displayTitle",!1)("displayActions",!0)}}function ItemVersionHistoryComponent_div_0_Template(rf,ctx){if(1&rf&&(core.TgZ(0,"div",1),core.YNc(1,ItemVersionHistoryComponent_div_0_ds_item_versions_1_Template,1,4,"ds-item-versions",2),core.qZA()),2&rf){const item_r1=ctx.ngVar;core.xp6(1),core.Q6J("ngIf",item_r1)}}__name(ItemVersionHistoryComponent_div_0_ds_item_versions_1_Template,"ItemVersionHistoryComponent_div_0_ds_item_versions_1_Template"),__name(ItemVersionHistoryComponent_div_0_Template,"ItemVersionHistoryComponent_div_0_Template");class ItemVersionHistoryComponent{constructor(route){this.route=route,this.AlertTypeEnum=aletr_type.N}ngOnInit(){this.itemRD$=this.route.parent.parent.data.pipe((0,operators.UI)(data=>data.dso)).pipe((0,shared_operators.xw)())}}__name(ItemVersionHistoryComponent,"ItemVersionHistoryComponent"),ItemVersionHistoryComponent.\u0275fac=__name(function(t){return new(t||ItemVersionHistoryComponent)(core.Y36(router.gz))},"ItemVersionHistoryComponent_Factory"),ItemVersionHistoryComponent.\u0275cmp=core.Xpm({type:ItemVersionHistoryComponent,selectors:[["ds-item-version-history"]],decls:2,vars:3,consts:[["class","mt-2",4,"ngVar"],[1,"mt-2"],[3,"item","displayWhenEmpty","displayTitle","displayActions",4,"ngIf"],[3,"item","displayWhenEmpty","displayTitle","displayActions"]],template:__name(function(rf,ctx){if(1&rf&&(core.YNc(0,ItemVersionHistoryComponent_div_0_Template,2,1,"div",0),core.ALo(1,"async")),2&rf){let tmp_0_0;core.Q6J("ngVar",null==(tmp_0_0=core.lcZ(1,1,ctx.itemRD$))?null:tmp_0_0.payload)}},"ItemVersionHistoryComponent_Template"),directives:[var_directive.g,common.O5,item_versions_component.h],pipes:[common.Ov],encapsulation:2});var paginated_list_model=__webpack_require__(24789),alert_component=__webpack_require__(38605),resource_policies_component=__webpack_require__(40195),ng_for_track_by_id_directive=__webpack_require__(86361);function ItemAuthorizationsComponent_ng_container_5_ng_container_2_ng_container_7_Template(rf,ctx){if(1&rf&&(core.ynx(0),core._UZ(1,"ds-resource-policies",5),core.BQk()),2&rf){const bitstream_r6=ctx.$implicit;core.xp6(1),core.Q6J("resourceType","bitstream")("resourceUUID",bitstream_r6.id)("resourceName",bitstream_r6.name)}}function ItemAuthorizationsComponent_ng_container_5_ng_container_2_div_9_Template(rf,ctx){if(1&rf){const _r9=core.EpF();core.TgZ(0,"div",11)(1,"button",12),core.NdJ("click",__name(function(){core.CHM(_r9);const bundle_r2=core.oxw(2).$implicit;return core.oxw().onBitstreamsLoad(bundle_r2)},"ItemAuthorizationsComponent_ng_container_5_ng_container_2_div_9_Template_button_click_1_listener")),core._uU(2),core.ALo(3,"translate"),core.qZA()()}2&rf&&(core.xp6(2),core.Oqu(core.lcZ(3,1,"collection.edit.item.authorizations.load-more-button")))}function ItemAuthorizationsComponent_ng_container_5_ng_container_2_Template(rf,ctx){if(1&rf){const _r12=core.EpF();core.ynx(0),core.TgZ(1,"div",7)(2,"div",8)(3,"button",9),core.NdJ("click",__name(function(){core.CHM(_r12);const bundle_r2=core.oxw().$implicit;return core.oxw().collapseArea(bundle_r2.id)},"ItemAuthorizationsComponent_ng_container_5_ng_container_2_Template_button_click_3_listener")),core._uU(4),core.ALo(5,"translate"),core.qZA()(),core.TgZ(6,"div",10),core.YNc(7,ItemAuthorizationsComponent_ng_container_5_ng_container_2_ng_container_7_Template,2,3,"ng-container",3),core.ALo(8,"async"),core.YNc(9,ItemAuthorizationsComponent_ng_container_5_ng_container_2_div_9_Template,4,3,"div",4),core.qZA()(),core.BQk()}if(2&rf){const bundle_r2=core.oxw().$implicit,ctx_r3=core.oxw();core.xp6(3),core.uIk("aria-expanded",!1)("aria-controls",bundle_r2.id),core.xp6(1),core.AsE(" ",core.lcZ(5,8,"collection.edit.item.authorizations.show-bitstreams-button")," ",bundle_r2.name," "),core.xp6(2),core.Q6J("id",bundle_r2.id)("ngbCollapse",ctx_r3.bundleBitstreamsMap.get(bundle_r2.id).isCollapsed),core.xp6(1),core.Q6J("ngForOf",core.lcZ(8,10,ctx_r3.bundleBitstreamsMap.get(bundle_r2.id).bitstreams)),core.xp6(2),core.Q6J("ngIf",!ctx_r3.bundleBitstreamsMap.get(bundle_r2.id).allBitstreamsLoaded)}}function ItemAuthorizationsComponent_ng_container_5_Template(rf,ctx){if(1&rf&&(core.ynx(0),core._UZ(1,"ds-resource-policies",5),core.YNc(2,ItemAuthorizationsComponent_ng_container_5_ng_container_2_Template,10,12,"ng-container",6),core.ALo(3,"async"),core.BQk()),2&rf){const bundle_r2=ctx.$implicit,ctx_r0=core.oxw();let tmp_3_0;core.xp6(1),core.Q6J("resourceType","bundle")("resourceUUID",bundle_r2.id)("resourceName",bundle_r2.name),core.xp6(1),core.Q6J("ngIf",(null==(tmp_3_0=core.lcZ(3,4,null==(tmp_3_0=ctx_r0.bundleBitstreamsMap.get(bundle_r2.id))?null:tmp_3_0.bitstreams))?null:tmp_3_0.length)>0)}}function ItemAuthorizationsComponent_div_7_Template(rf,ctx){if(1&rf){const _r15=core.EpF();core.TgZ(0,"div",11)(1,"button",12),core.NdJ("click",__name(function(){return core.CHM(_r15),core.oxw().onBundleLoad()},"ItemAuthorizationsComponent_div_7_Template_button_click_1_listener")),core._uU(2),core.ALo(3,"translate"),core.qZA()()}2&rf&&(core.xp6(2),core.Oqu(core.lcZ(3,1,"collection.edit.item.authorizations.load-bundle-button")))}__name(ItemAuthorizationsComponent_ng_container_5_ng_container_2_ng_container_7_Template,"ItemAuthorizationsComponent_ng_container_5_ng_container_2_ng_container_7_Template"),__name(ItemAuthorizationsComponent_ng_container_5_ng_container_2_div_9_Template,"ItemAuthorizationsComponent_ng_container_5_ng_container_2_div_9_Template"),__name(ItemAuthorizationsComponent_ng_container_5_ng_container_2_Template,"ItemAuthorizationsComponent_ng_container_5_ng_container_2_Template"),__name(ItemAuthorizationsComponent_ng_container_5_Template,"ItemAuthorizationsComponent_ng_container_5_Template"),__name(ItemAuthorizationsComponent_div_7_Template,"ItemAuthorizationsComponent_div_7_Template");class ItemAuthorizationsComponent{constructor(linkService,route,nameService){this.linkService=linkService,this.route=route,this.nameService=nameService,this.bundleBitstreamsMap=new Map,this.bundles$=new cjs.BehaviorSubject([]),this.subs=[],this.bundlesPerPage=6,this.bundlesPageSize=1,this.allBundlesLoaded=!1,this.bitstreamSize=4,this.bitstreamPageSize=4}ngOnInit(){this.getBundlesPerItem()}getItemUUID(){return this.item$.pipe((0,operators.UI)(item=>item.id),(0,operators.Ps)(UUID=>(0,empty_util.UE)(UUID)))}getItemName(){return this.item$.pipe((0,operators.UI)(item=>this.nameService.getName(item)))}getItemBundles(){return this.bundles$.asObservable()}getBundlesPerItem(page=1){this.item$=this.route.data.pipe((0,operators.UI)(data=>data.dso),(0,shared_operators.A6)(),(0,operators.UI)(item=>this.linkService.resolveLink(item,(0,follow_link_config_model.l)("bundles",{findListOptions:{currentPage:page,elementsPerPage:this.bundlesPerPage}},(0,follow_link_config_model.l)("bitstreams")))));const bundles$=this.item$.pipe((0,operators.hX)(item=>(0,empty_util.UE)(item.bundles)),(0,operators.zg)(item=>item.bundles),(0,shared_operators.A6)(),(0,operators.KQ)(error=>(console.error(error),(0,cjs.of)((0,paginated_list_model.b)(null,[])))));this.subs.push(bundles$.pipe((0,operators.qn)(1),(0,operators.UI)(list=>list.page)).subscribe(bundles=>{((0,lodash.isEqual)(bundles.length,0)||bundles.length<this.bundlesPerPage)&&(this.allBundlesLoaded=!0),(0,lodash.isEqual)(page,1)?this.bundles$.next(bundles):this.bundles$.next(this.bundles$.getValue().concat(bundles))}),bundles$.pipe((0,operators.qn)(1),(0,operators.zg)(list=>list.page),(0,operators.UI)(bundle=>({id:bundle.id,bitstreams:this.getBundleBitstreams(bundle)}))).subscribe(entry=>{let bitstreamMapValues={isCollapsed:!0,allBitstreamsLoaded:!1,bitstreams:null};bitstreamMapValues.bitstreams=entry.bitstreams.pipe((0,operators.UI)(b=>(bitstreamMapValues.allBitstreamsLoaded=(null==b?void 0:b.page.length)<this.bitstreamSize,[...b.page.slice(0,this.bitstreamSize)]))),this.bundleBitstreamsMap.set(entry.id,bitstreamMapValues)}))}getBundleBitstreams(bundle){return bundle.bitstreams.pipe((0,shared_operators.Gp)(),(0,operators.KQ)(error=>(console.error(error),(0,cjs.of)((0,paginated_list_model.b)(null,[])))))}collapseArea(bundleId){this.bundleBitstreamsMap.get(bundleId).isCollapsed=!this.bundleBitstreamsMap.get(bundleId).isCollapsed}onBundleLoad(){this.bundlesPageSize++,this.getBundlesPerItem(this.bundlesPageSize)}onBitstreamsLoad(bundle){return this.getBundleBitstreams(bundle).subscribe(res=>{let nextBitstreams=null==res?void 0:res.page.slice(this.bitstreamPageSize,this.bitstreamPageSize+this.bitstreamSize),bitstreamsToShow=this.bundleBitstreamsMap.get(bundle.id).bitstreams.pipe((0,operators.UI)(existingBits=>[...existingBits,...nextBitstreams]));this.bitstreamPageSize=this.bitstreamPageSize+this.bitstreamSize;let bitstreamMapValues={bitstreams:bitstreamsToShow,isCollapsed:this.bundleBitstreamsMap.get(bundle.id).isCollapsed,allBitstreamsLoaded:(null==res?void 0:res.page.length)<=this.bitstreamPageSize};this.bundleBitstreamsMap.set(bundle.id,bitstreamMapValues)})}ngOnDestroy(){this.subs.filter(subscription=>(0,empty_util.Uh)(subscription)).forEach(subscription=>subscription.unsubscribe())}}__name(ItemAuthorizationsComponent,"ItemAuthorizationsComponent"),ItemAuthorizationsComponent.\u0275fac=__name(function(t){return new(t||ItemAuthorizationsComponent)(core.Y36(link_service.M),core.Y36(router.gz),core.Y36(dso_name_service._))},"ItemAuthorizationsComponent_Factory"),ItemAuthorizationsComponent.\u0275cmp=core.Xpm({type:ItemAuthorizationsComponent,selectors:[["ds-item-authorizations"]],decls:8,vars:13,consts:[[1,"container"],[3,"type","content"],[3,"resourceType","resourceName","resourceUUID"],[4,"ngFor","ngForTrackById","ngForOf"],["class","row justify-content-center",4,"ngIf"],[3,"resourceType","resourceUUID","resourceName"],[4,"ngIf"],[1,"card","auth-bitstream-container"],[1,"card-header"],["type","button",1,"btn","btn-outline-primary",3,"click"],[1,"card-body",3,"id","ngbCollapse"],[1,"row","justify-content-center"],["type","button",1,"btn","btn-link",3,"click"]],template:__name(function(rf,ctx){1&rf&&(core.TgZ(0,"div",0),core._UZ(1,"ds-alert",1)(2,"ds-resource-policies",2),core.ALo(3,"async"),core.ALo(4,"async"),core.YNc(5,ItemAuthorizationsComponent_ng_container_5_Template,4,6,"ng-container",3),core.ALo(6,"async"),core.YNc(7,ItemAuthorizationsComponent_div_7_Template,4,3,"div",4),core.qZA()),2&rf&&(core.xp6(1),core.Q6J("type","alert-info")("content","item.edit.authorizations.heading"),core.xp6(1),core.Q6J("resourceType","item")("resourceName",core.lcZ(3,7,ctx.getItemName()))("resourceUUID",core.lcZ(4,9,ctx.getItemUUID())),core.xp6(3),core.Q6J("ngForOf",core.lcZ(6,11,ctx.bundles$)),core.xp6(2),core.Q6J("ngIf",!ctx.allBundlesLoaded))},"ItemAuthorizationsComponent_Template"),directives:[alert_component.w,resource_policies_component.F,common.sg,ng_for_track_by_id_directive.$,common.O5,ng_bootstrap._D],pipes:[common.Ov,ngx_translate_core.X$],styles:[".auth-bitstream-container[_ngcontent-%COMP%]{margin-top:-1em;margin-bottom:1.5em}"]});var resource_policy_target_resolver=__webpack_require__(66765),resource_policy_resolver=__webpack_require__(54004),resource_policy_create_component=__webpack_require__(34981),resource_policy_edit_component=__webpack_require__(86527),i18n_breadcrumbs_service=__webpack_require__(43001),edit_item_page_routing_paths=__webpack_require__(84254),dso_page_single_feature_guard=__webpack_require__(68212),item_page_resolver=__webpack_require__(59508),auth_service=__webpack_require__(24755);class ItemPageReinstateGuard extends dso_page_single_feature_guard.h{constructor(resolver,authorizationService,router2,authService){super(resolver,authorizationService,router2,authService),this.resolver=resolver,this.authorizationService=authorizationService,this.router=router2,this.authService=authService}getFeatureID(next,state){return(0,cjs.of)(feature_id.i.ReinstateItem)}}__name(ItemPageReinstateGuard,"ItemPageReinstateGuard"),ItemPageReinstateGuard.\u0275fac=__name(function(t){return new(t||ItemPageReinstateGuard)(core.LFG(item_page_resolver.o),core.LFG(authorization_data_service._),core.LFG(router.F0),core.LFG(auth_service.e8))},"ItemPageReinstateGuard_Factory"),ItemPageReinstateGuard.\u0275prov=core.Yz7({token:ItemPageReinstateGuard,factory:ItemPageReinstateGuard.\u0275fac,providedIn:"root"});class ItemPageWithdrawGuard extends dso_page_single_feature_guard.h{constructor(resolver,authorizationService,router2,authService){super(resolver,authorizationService,router2,authService),this.resolver=resolver,this.authorizationService=authorizationService,this.router=router2,this.authService=authService}getFeatureID(next,state){return(0,cjs.of)(feature_id.i.WithdrawItem)}}__name(ItemPageWithdrawGuard,"ItemPageWithdrawGuard"),ItemPageWithdrawGuard.\u0275fac=__name(function(t){return new(t||ItemPageWithdrawGuard)(core.LFG(item_page_resolver.o),core.LFG(authorization_data_service._),core.LFG(router.F0),core.LFG(auth_service.e8))},"ItemPageWithdrawGuard_Factory"),ItemPageWithdrawGuard.\u0275prov=core.Yz7({token:ItemPageWithdrawGuard,factory:ItemPageWithdrawGuard.\u0275fac,providedIn:"root"});class ItemPageMetadataGuard extends dso_page_single_feature_guard.h{constructor(resolver,authorizationService,router2,authService){super(resolver,authorizationService,router2,authService),this.resolver=resolver,this.authorizationService=authorizationService,this.router=router2,this.authService=authService}getFeatureID(next,state){return(0,cjs.of)(feature_id.i.CanEditMetadata)}}__name(ItemPageMetadataGuard,"ItemPageMetadataGuard"),ItemPageMetadataGuard.\u0275fac=__name(function(t){return new(t||ItemPageMetadataGuard)(core.LFG(item_page_resolver.o),core.LFG(authorization_data_service._),core.LFG(router.F0),core.LFG(auth_service.e8))},"ItemPageMetadataGuard_Factory"),ItemPageMetadataGuard.\u0275prov=core.Yz7({token:ItemPageMetadataGuard,factory:ItemPageMetadataGuard.\u0275fac,providedIn:"root"});var item_page_administrator_guard=__webpack_require__(7056),dso_page_some_feature_guard=__webpack_require__(74307);class ItemPageStatusGuard extends dso_page_some_feature_guard.q{constructor(resolver,authorizationService,router2,authService){super(resolver,authorizationService,router2,authService),this.resolver=resolver,this.authorizationService=authorizationService,this.router=router2,this.authService=authService}getFeatureIDs(next,state){return(0,cjs.of)([feature_id.i.CanManageMappings,feature_id.i.WithdrawItem,feature_id.i.ReinstateItem,feature_id.i.CanManagePolicies,feature_id.i.CanMakePrivate,feature_id.i.CanDelete,feature_id.i.CanMove])}}__name(ItemPageStatusGuard,"ItemPageStatusGuard"),ItemPageStatusGuard.\u0275fac=__name(function(t){return new(t||ItemPageStatusGuard)(core.LFG(item_page_resolver.o),core.LFG(authorization_data_service._),core.LFG(router.F0),core.LFG(auth_service.e8))},"ItemPageStatusGuard_Factory"),ItemPageStatusGuard.\u0275prov=core.Yz7({token:ItemPageStatusGuard,factory:ItemPageStatusGuard.\u0275fac,providedIn:"root"});class ItemPageBitstreamsGuard extends dso_page_single_feature_guard.h{constructor(resolver,authorizationService,router2,authService){super(resolver,authorizationService,router2,authService),this.resolver=resolver,this.authorizationService=authorizationService,this.router=router2,this.authService=authService}getFeatureID(next,state){return(0,cjs.of)(feature_id.i.CanManageBitstreamBundles)}}__name(ItemPageBitstreamsGuard,"ItemPageBitstreamsGuard"),ItemPageBitstreamsGuard.\u0275fac=__name(function(t){return new(t||ItemPageBitstreamsGuard)(core.LFG(item_page_resolver.o),core.LFG(authorization_data_service._),core.LFG(router.F0),core.LFG(auth_service.e8))},"ItemPageBitstreamsGuard_Factory"),ItemPageBitstreamsGuard.\u0275prov=core.Yz7({token:ItemPageBitstreamsGuard,factory:ItemPageBitstreamsGuard.\u0275fac,providedIn:"root"});class ItemPageRelationshipsGuard extends dso_page_single_feature_guard.h{constructor(resolver,authorizationService,router2,authService){super(resolver,authorizationService,router2,authService),this.resolver=resolver,this.authorizationService=authorizationService,this.router=router2,this.authService=authService}getFeatureID(next,state){return(0,cjs.of)(feature_id.i.CanManageRelationships)}}__name(ItemPageRelationshipsGuard,"ItemPageRelationshipsGuard"),ItemPageRelationshipsGuard.\u0275fac=__name(function(t){return new(t||ItemPageRelationshipsGuard)(core.LFG(item_page_resolver.o),core.LFG(authorization_data_service._),core.LFG(router.F0),core.LFG(auth_service.e8))},"ItemPageRelationshipsGuard_Factory"),ItemPageRelationshipsGuard.\u0275prov=core.Yz7({token:ItemPageRelationshipsGuard,factory:ItemPageRelationshipsGuard.\u0275fac,providedIn:"root"});class ItemPageVersionHistoryGuard extends dso_page_single_feature_guard.h{constructor(resolver,authorizationService,router2,authService){super(resolver,authorizationService,router2,authService),this.resolver=resolver,this.authorizationService=authorizationService,this.router=router2,this.authService=authService}getFeatureID(next,state){return(0,cjs.of)(feature_id.i.CanManageVersions)}}__name(ItemPageVersionHistoryGuard,"ItemPageVersionHistoryGuard"),ItemPageVersionHistoryGuard.\u0275fac=__name(function(t){return new(t||ItemPageVersionHistoryGuard)(core.LFG(item_page_resolver.o),core.LFG(authorization_data_service._),core.LFG(router.F0),core.LFG(auth_service.e8))},"ItemPageVersionHistoryGuard_Factory"),ItemPageVersionHistoryGuard.\u0275prov=core.Yz7({token:ItemPageVersionHistoryGuard,factory:ItemPageVersionHistoryGuard.\u0275fac,providedIn:"root"});class ItemPageCollectionMapperGuard extends dso_page_single_feature_guard.h{constructor(resolver,authorizationService,router2,authService){super(resolver,authorizationService,router2,authService),this.resolver=resolver,this.authorizationService=authorizationService,this.router=router2,this.authService=authService}getFeatureID(next,state){return(0,cjs.of)(feature_id.i.CanManageMappings)}}__name(ItemPageCollectionMapperGuard,"ItemPageCollectionMapperGuard"),ItemPageCollectionMapperGuard.\u0275fac=__name(function(t){return new(t||ItemPageCollectionMapperGuard)(core.LFG(item_page_resolver.o),core.LFG(authorization_data_service._),core.LFG(router.F0),core.LFG(auth_service.e8))},"ItemPageCollectionMapperGuard_Factory"),ItemPageCollectionMapperGuard.\u0275prov=core.Yz7({token:ItemPageCollectionMapperGuard,factory:ItemPageCollectionMapperGuard.\u0275fac,providedIn:"root"});class EditItemPageRoutingModule{}__name(EditItemPageRoutingModule,"EditItemPageRoutingModule"),EditItemPageRoutingModule.\u0275fac=__name(function(t){return new(t||EditItemPageRoutingModule)},"EditItemPageRoutingModule_Factory"),EditItemPageRoutingModule.\u0275mod=core.oAB({type:EditItemPageRoutingModule}),EditItemPageRoutingModule.\u0275inj=core.cJS({providers:[i18n_breadcrumb_resolver.t,i18n_breadcrumbs_service.d,resource_policy_resolver.b,resource_policy_target_resolver.a,ItemPageReinstateGuard,ItemPageWithdrawGuard,item_page_administrator_guard.F,ItemPageMetadataGuard,ItemPageStatusGuard,ItemPageBitstreamsGuard,ItemPageRelationshipsGuard,ItemPageVersionHistoryGuard,ItemPageCollectionMapperGuard],imports:[[router.Bz.forChild([{path:"",resolve:{breadcrumb:i18n_breadcrumb_resolver.t},data:{breadcrumbKey:"item.edit"},children:[{path:"",component:EditItemPageComponent,children:[{path:"",redirectTo:"status",pathMatch:"full"},{path:"status",component:ItemStatusComponent,data:{title:"item.edit.tabs.status.title",showBreadcrumbs:!0},canActivate:[ItemPageStatusGuard]},{path:"bitstreams",component:ItemBitstreamsComponent,data:{title:"item.edit.tabs.bitstreams.title",showBreadcrumbs:!0},canActivate:[ItemPageBitstreamsGuard]},{path:"metadata",component:item_metadata_component.ItemMetadataComponent,data:{title:"item.edit.tabs.metadata.title",showBreadcrumbs:!0},canActivate:[ItemPageMetadataGuard]},{path:"relationships",component:ItemRelationshipsComponent,data:{title:"item.edit.tabs.relationships.title",showBreadcrumbs:!0},canActivate:[ItemPageRelationshipsGuard]},{path:"versionhistory",component:ItemVersionHistoryComponent,data:{title:"item.edit.tabs.versionhistory.title",showBreadcrumbs:!0},canActivate:[ItemPageVersionHistoryGuard]},{path:"mapper",component:ItemCollectionMapperComponent,data:{title:"item.edit.tabs.item-mapper.title",showBreadcrumbs:!0},canActivate:[ItemPageCollectionMapperGuard]}]},{path:"mapper",component:ItemCollectionMapperComponent},{path:edit_item_page_routing_paths.M0,component:ItemWithdrawComponent,canActivate:[ItemPageWithdrawGuard]},{path:edit_item_page_routing_paths.Pu,component:ItemReinstateComponent,canActivate:[ItemPageReinstateGuard]},{path:edit_item_page_routing_paths.X$,component:ItemPrivateComponent},{path:edit_item_page_routing_paths.dI,component:ItemPublicComponent},{path:edit_item_page_routing_paths.kJ,component:ItemDeleteComponent},{path:edit_item_page_routing_paths.Gr,component:ItemMoveComponent,data:{title:"item.edit.move.title"}},{path:edit_item_page_routing_paths.N,children:[{path:"create",resolve:{resourcePolicyTarget:resource_policy_target_resolver.a},component:resource_policy_create_component.v,data:{title:"resource-policies.create.page.title"}},{path:"edit",resolve:{resourcePolicy:resource_policy_resolver.b},component:resource_policy_edit_component.x,data:{title:"resource-policies.edit.page.title"}},{path:"",component:ItemAuthorizationsComponent,data:{title:"item.edit.authorizations.title"}}]}]}])]]});var search_page_module=__webpack_require__(98190),resource_policies_module=__webpack_require__(94337);class EditItemPageModule{}__name(EditItemPageModule,"EditItemPageModule"),EditItemPageModule.\u0275fac=__name(function(t){return new(t||EditItemPageModule)},"EditItemPageModule_Factory"),EditItemPageModule.\u0275mod=core.oAB({type:EditItemPageModule}),EditItemPageModule.\u0275inj=core.cJS({providers:[bundle_data_service.b,object_values_pipe.g],imports:[[common.ez,shared_module.m,ng_bootstrap.HK,EditItemPageRoutingModule,search_page_module.q,drag_drop._t,resource_policies_module.q,ng_bootstrap.IJ]]})},84254:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{M0:()=>ITEM_EDIT_WITHDRAW_PATH,Pu:()=>ITEM_EDIT_REINSTATE_PATH,X$:()=>ITEM_EDIT_PRIVATE_PATH,dI:()=>ITEM_EDIT_PUBLIC_PATH,kJ:()=>ITEM_EDIT_DELETE_PATH,Gr:()=>ITEM_EDIT_MOVE_PATH,N:()=>ITEM_EDIT_AUTHORIZATIONS_PATH});const ITEM_EDIT_WITHDRAW_PATH="withdraw",ITEM_EDIT_REINSTATE_PATH="reinstate",ITEM_EDIT_PRIVATE_PATH="private",ITEM_EDIT_PUBLIC_PATH="public",ITEM_EDIT_DELETE_PATH="delete",ITEM_EDIT_MOVE_PATH="move",ITEM_EDIT_AUTHORIZATIONS_PATH="authorizations"},76487:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{I:()=>EditInPlaceFieldComponent});var _core_shared_operators__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(13730),_shared_empty_util__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(24702),_core_registry_registry_service__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(45879),lodash__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(17489),rxjs__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(76477),rxjs_operators__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__(83292),_core_data_object_updates_object_updates_service__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(46040),_shared_utils_follow_link_config_model__WEBPACK_IMPORTED_MODULE_13__=(__webpack_require__(79300),__webpack_require__(93369)),_core_data_object_updates_field_change_type_model__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(59051),_angular_core__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(5e3),_angular_common__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__(69808),_shared_input_suggestions_validation_suggestions_validation_suggestions_component__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(5468),_shared_utils_auto_focus_directive__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(30668),_angular_forms__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__(93075),_shared_utils_click_outside_directive__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(90059),_shared_utils_debounce_directive__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(34159),_ngx_translate_core__WEBPACK_IMPORTED_MODULE_17__=__webpack_require__(42466);function EditInPlaceFieldComponent_div_2_Template(rf,ctx){if(1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_10__.TgZ(0,"div")(1,"span"),_angular_core__WEBPACK_IMPORTED_MODULE_10__._uU(2),_angular_core__WEBPACK_IMPORTED_MODULE_10__.qZA()()),2&rf){const ctx_r0=_angular_core__WEBPACK_IMPORTED_MODULE_10__.oxw();_angular_core__WEBPACK_IMPORTED_MODULE_10__.xp6(2),_angular_core__WEBPACK_IMPORTED_MODULE_10__.Oqu(null==ctx_r0.metadata||null==ctx_r0.metadata.key?null:ctx_r0.metadata.key.split(".").join(".\u200b"))}}__name(EditInPlaceFieldComponent_div_2_Template,"EditInPlaceFieldComponent_div_2_Template");const _c1=__name(function(){return{standalone:!0}},"_c1");function EditInPlaceFieldComponent_div_4_Template(rf,ctx){if(1&rf){const _r11=_angular_core__WEBPACK_IMPORTED_MODULE_10__.EpF();_angular_core__WEBPACK_IMPORTED_MODULE_10__.TgZ(0,"div",15)(1,"ds-validation-suggestions",16,17),_angular_core__WEBPACK_IMPORTED_MODULE_10__.NdJ("ngModelChange",__name(function($event){_angular_core__WEBPACK_IMPORTED_MODULE_10__.CHM(_r11);return _angular_core__WEBPACK_IMPORTED_MODULE_10__.oxw().metadata.key=$event},"EditInPlaceFieldComponent_div_4_Template_ds_validation_suggestions_ngModelChange_1_listener"))("submitSuggestion",__name(function(){_angular_core__WEBPACK_IMPORTED_MODULE_10__.CHM(_r11);const _r9=_angular_core__WEBPACK_IMPORTED_MODULE_10__.MAs(2);return _angular_core__WEBPACK_IMPORTED_MODULE_10__.oxw().update(_r9)},"EditInPlaceFieldComponent_div_4_Template_ds_validation_suggestions_submitSuggestion_1_listener"))("clickSuggestion",__name(function(){_angular_core__WEBPACK_IMPORTED_MODULE_10__.CHM(_r11);const _r9=_angular_core__WEBPACK_IMPORTED_MODULE_10__.MAs(2);return _angular_core__WEBPACK_IMPORTED_MODULE_10__.oxw().update(_r9)},"EditInPlaceFieldComponent_div_4_Template_ds_validation_suggestions_clickSuggestion_1_listener"))("typeSuggestion",__name(function(){_angular_core__WEBPACK_IMPORTED_MODULE_10__.CHM(_r11);const _r9=_angular_core__WEBPACK_IMPORTED_MODULE_10__.MAs(2);return _angular_core__WEBPACK_IMPORTED_MODULE_10__.oxw().update(_r9)},"EditInPlaceFieldComponent_div_4_Template_ds_validation_suggestions_typeSuggestion_1_listener"))("dsClickOutside",__name(function(){_angular_core__WEBPACK_IMPORTED_MODULE_10__.CHM(_r11);const _r9=_angular_core__WEBPACK_IMPORTED_MODULE_10__.MAs(2);return _angular_core__WEBPACK_IMPORTED_MODULE_10__.oxw().checkValidity(_r9)},"EditInPlaceFieldComponent_div_4_Template_ds_validation_suggestions_dsClickOutside_1_listener"))("findSuggestions",__name(function($event){return _angular_core__WEBPACK_IMPORTED_MODULE_10__.CHM(_r11),_angular_core__WEBPACK_IMPORTED_MODULE_10__.oxw().findMetadataFieldSuggestions($event)},"EditInPlaceFieldComponent_div_4_Template_ds_validation_suggestions_findSuggestions_1_listener")),_angular_core__WEBPACK_IMPORTED_MODULE_10__.ALo(3,"async"),_angular_core__WEBPACK_IMPORTED_MODULE_10__.ALo(4,"async"),_angular_core__WEBPACK_IMPORTED_MODULE_10__.qZA()()}if(2&rf){const ctx_r1=_angular_core__WEBPACK_IMPORTED_MODULE_10__.oxw();_angular_core__WEBPACK_IMPORTED_MODULE_10__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_10__.Q6J("disable",1!=ctx_r1.fieldUpdate.changeType)("suggestions",_angular_core__WEBPACK_IMPORTED_MODULE_10__.lcZ(3,7,ctx_r1.metadataFieldSuggestions))("ngModel",ctx_r1.metadata.key)("url",ctx_r1.url)("metadata",ctx_r1.metadata)("valid",!1!==_angular_core__WEBPACK_IMPORTED_MODULE_10__.lcZ(4,9,ctx_r1.valid))("ngModelOptions",_angular_core__WEBPACK_IMPORTED_MODULE_10__.DdM(11,_c1))}}function EditInPlaceFieldComponent_small_6_Template(rf,ctx){1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_10__.TgZ(0,"small",18),_angular_core__WEBPACK_IMPORTED_MODULE_10__._uU(1),_angular_core__WEBPACK_IMPORTED_MODULE_10__.ALo(2,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_10__.qZA()),2&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_10__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_10__.Oqu(_angular_core__WEBPACK_IMPORTED_MODULE_10__.lcZ(2,1,"item.edit.metadata.metadatafield.invalid")))}function EditInPlaceFieldComponent_div_10_Template(rf,ctx){if(1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_10__.TgZ(0,"div")(1,"span",19),_angular_core__WEBPACK_IMPORTED_MODULE_10__._uU(2),_angular_core__WEBPACK_IMPORTED_MODULE_10__.qZA()()),2&rf){const ctx_r3=_angular_core__WEBPACK_IMPORTED_MODULE_10__.oxw();_angular_core__WEBPACK_IMPORTED_MODULE_10__.xp6(2),_angular_core__WEBPACK_IMPORTED_MODULE_10__.Oqu(null==ctx_r3.metadata?null:ctx_r3.metadata.value)}}function EditInPlaceFieldComponent_div_12_Template(rf,ctx){if(1&rf){const _r18=_angular_core__WEBPACK_IMPORTED_MODULE_10__.EpF();_angular_core__WEBPACK_IMPORTED_MODULE_10__.TgZ(0,"div",15)(1,"textarea",20),_angular_core__WEBPACK_IMPORTED_MODULE_10__.NdJ("ngModelChange",__name(function($event){_angular_core__WEBPACK_IMPORTED_MODULE_10__.CHM(_r18);return _angular_core__WEBPACK_IMPORTED_MODULE_10__.oxw().metadata.value=$event},"EditInPlaceFieldComponent_div_12_Template_textarea_ngModelChange_1_listener"))("onDebounce",__name(function(){return _angular_core__WEBPACK_IMPORTED_MODULE_10__.CHM(_r18),_angular_core__WEBPACK_IMPORTED_MODULE_10__.oxw().update()},"EditInPlaceFieldComponent_div_12_Template_textarea_onDebounce_1_listener")),_angular_core__WEBPACK_IMPORTED_MODULE_10__.qZA()()}if(2&rf){const ctx_r4=_angular_core__WEBPACK_IMPORTED_MODULE_10__.oxw();_angular_core__WEBPACK_IMPORTED_MODULE_10__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_10__.Q6J("ngModel",ctx_r4.metadata.value)}}function EditInPlaceFieldComponent_div_16_Template(rf,ctx){if(1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_10__.TgZ(0,"div")(1,"span"),_angular_core__WEBPACK_IMPORTED_MODULE_10__._uU(2),_angular_core__WEBPACK_IMPORTED_MODULE_10__.qZA()()),2&rf){const ctx_r5=_angular_core__WEBPACK_IMPORTED_MODULE_10__.oxw();_angular_core__WEBPACK_IMPORTED_MODULE_10__.xp6(2),_angular_core__WEBPACK_IMPORTED_MODULE_10__.Oqu(null==ctx_r5.metadata?null:ctx_r5.metadata.language)}}function EditInPlaceFieldComponent_div_18_Template(rf,ctx){if(1&rf){const _r21=_angular_core__WEBPACK_IMPORTED_MODULE_10__.EpF();_angular_core__WEBPACK_IMPORTED_MODULE_10__.TgZ(0,"div",15)(1,"input",21),_angular_core__WEBPACK_IMPORTED_MODULE_10__.NdJ("ngModelChange",__name(function($event){_angular_core__WEBPACK_IMPORTED_MODULE_10__.CHM(_r21);return _angular_core__WEBPACK_IMPORTED_MODULE_10__.oxw().metadata.language=$event},"EditInPlaceFieldComponent_div_18_Template_input_ngModelChange_1_listener"))("onDebounce",__name(function(){return _angular_core__WEBPACK_IMPORTED_MODULE_10__.CHM(_r21),_angular_core__WEBPACK_IMPORTED_MODULE_10__.oxw().update()},"EditInPlaceFieldComponent_div_18_Template_input_onDebounce_1_listener")),_angular_core__WEBPACK_IMPORTED_MODULE_10__.qZA()()}if(2&rf){const ctx_r6=_angular_core__WEBPACK_IMPORTED_MODULE_10__.oxw();_angular_core__WEBPACK_IMPORTED_MODULE_10__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_10__.Q6J("ngModel",ctx_r6.metadata.language)}}function EditInPlaceFieldComponent_button_22_Template(rf,ctx){if(1&rf){const _r24=_angular_core__WEBPACK_IMPORTED_MODULE_10__.EpF();_angular_core__WEBPACK_IMPORTED_MODULE_10__.TgZ(0,"button",22),_angular_core__WEBPACK_IMPORTED_MODULE_10__.NdJ("click",__name(function(){return _angular_core__WEBPACK_IMPORTED_MODULE_10__.CHM(_r24),_angular_core__WEBPACK_IMPORTED_MODULE_10__.oxw().setEditable(!0)},"EditInPlaceFieldComponent_button_22_Template_button_click_0_listener")),_angular_core__WEBPACK_IMPORTED_MODULE_10__.ALo(1,"async"),_angular_core__WEBPACK_IMPORTED_MODULE_10__.ALo(2,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_10__._UZ(3,"i",23),_angular_core__WEBPACK_IMPORTED_MODULE_10__.qZA()}if(2&rf){const ctx_r7=_angular_core__WEBPACK_IMPORTED_MODULE_10__.oxw();_angular_core__WEBPACK_IMPORTED_MODULE_10__.s9C("title",_angular_core__WEBPACK_IMPORTED_MODULE_10__.lcZ(2,4,"item.edit.metadata.edit.buttons.edit")),_angular_core__WEBPACK_IMPORTED_MODULE_10__.Q6J("disabled",!_angular_core__WEBPACK_IMPORTED_MODULE_10__.lcZ(1,2,ctx_r7.canSetEditable()))}}function EditInPlaceFieldComponent_button_24_Template(rf,ctx){if(1&rf){const _r26=_angular_core__WEBPACK_IMPORTED_MODULE_10__.EpF();_angular_core__WEBPACK_IMPORTED_MODULE_10__.TgZ(0,"button",24),_angular_core__WEBPACK_IMPORTED_MODULE_10__.NdJ("click",__name(function(){return _angular_core__WEBPACK_IMPORTED_MODULE_10__.CHM(_r26),_angular_core__WEBPACK_IMPORTED_MODULE_10__.oxw().setEditable(!1)},"EditInPlaceFieldComponent_button_24_Template_button_click_0_listener")),_angular_core__WEBPACK_IMPORTED_MODULE_10__.ALo(1,"async"),_angular_core__WEBPACK_IMPORTED_MODULE_10__.ALo(2,"async"),_angular_core__WEBPACK_IMPORTED_MODULE_10__.ALo(3,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_10__._UZ(4,"i",25),_angular_core__WEBPACK_IMPORTED_MODULE_10__.qZA()}if(2&rf){const ctx_r8=_angular_core__WEBPACK_IMPORTED_MODULE_10__.oxw();_angular_core__WEBPACK_IMPORTED_MODULE_10__.s9C("title",_angular_core__WEBPACK_IMPORTED_MODULE_10__.lcZ(3,6,"item.edit.metadata.edit.buttons.unedit")),_angular_core__WEBPACK_IMPORTED_MODULE_10__.Q6J("disabled",!_angular_core__WEBPACK_IMPORTED_MODULE_10__.lcZ(1,2,ctx_r8.canSetUneditable())||!1===_angular_core__WEBPACK_IMPORTED_MODULE_10__.lcZ(2,4,ctx_r8.valid))}}__name(EditInPlaceFieldComponent_div_4_Template,"EditInPlaceFieldComponent_div_4_Template"),__name(EditInPlaceFieldComponent_small_6_Template,"EditInPlaceFieldComponent_small_6_Template"),__name(EditInPlaceFieldComponent_div_10_Template,"EditInPlaceFieldComponent_div_10_Template"),__name(EditInPlaceFieldComponent_div_12_Template,"EditInPlaceFieldComponent_div_12_Template"),__name(EditInPlaceFieldComponent_div_16_Template,"EditInPlaceFieldComponent_div_16_Template"),__name(EditInPlaceFieldComponent_div_18_Template,"EditInPlaceFieldComponent_div_18_Template"),__name(EditInPlaceFieldComponent_button_22_Template,"EditInPlaceFieldComponent_button_22_Template"),__name(EditInPlaceFieldComponent_button_24_Template,"EditInPlaceFieldComponent_button_24_Template");class EditInPlaceFieldComponent{constructor(registryService,objectUpdatesService){this.registryService=registryService,this.objectUpdatesService=objectUpdatesService,this.metadataFieldSuggestions=new rxjs__WEBPACK_IMPORTED_MODULE_11__.BehaviorSubject([])}ngOnInit(){this.editable=this.objectUpdatesService.isEditable(this.url,this.metadata.uuid),this.valid=this.objectUpdatesService.isValid(this.url,this.metadata.uuid)}update(ngModel){this.objectUpdatesService.saveChangeFieldUpdate(this.url,(0,lodash__WEBPACK_IMPORTED_MODULE_2__.cloneDeep)(this.metadata)),(0,_shared_empty_util__WEBPACK_IMPORTED_MODULE_12__.Uh)(ngModel)&&this.checkValidity(ngModel)}checkValidity(ngModel){ngModel.control.setValue(ngModel.viewModel),ngModel.control.updateValueAndValidity(),this.objectUpdatesService.setValidFieldUpdate(this.url,this.metadata.uuid,ngModel.control.valid)}setEditable(editable){this.objectUpdatesService.setEditableFieldUpdate(this.url,this.metadata.uuid,editable)}remove(){this.objectUpdatesService.saveRemoveFieldUpdate(this.url,(0,lodash__WEBPACK_IMPORTED_MODULE_2__.cloneDeep)(this.metadata))}removeChangesFromField(){this.objectUpdatesService.removeSingleFieldUpdate(this.url,this.metadata.uuid)}ngOnChanges(){this.metadata=(0,lodash__WEBPACK_IMPORTED_MODULE_2__.cloneDeep)(this.fieldUpdate.field)}findMetadataFieldSuggestions(query){if((0,_shared_empty_util__WEBPACK_IMPORTED_MODULE_12__.UE)(query))return this.registryService.queryMetadataFields(query,null,!0,!1,(0,_shared_utils_follow_link_config_model__WEBPACK_IMPORTED_MODULE_13__.l)("schema")).pipe((0,_core_shared_operators__WEBPACK_IMPORTED_MODULE_0__.xw)(),(0,_core_shared_operators__WEBPACK_IMPORTED_MODULE_0__.EB)()).subscribe(fieldNames=>{this.setInputSuggestions(fieldNames)});this.metadataFieldSuggestions.next([])}setInputSuggestions(fields){this.metadataFieldSuggestions.next(fields.map(fieldName=>({displayValue:fieldName.split(".").join(".&#8203;"),value:fieldName})))}canSetEditable(){return this.editable.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_14__.UI)(editable=>!editable&&this.fieldUpdate.changeType!==_core_data_object_updates_field_change_type_model__WEBPACK_IMPORTED_MODULE_5__.m.REMOVE))}canSetUneditable(){return this.editable}canRemove(){return(0,rxjs__WEBPACK_IMPORTED_MODULE_11__.of)(this.fieldUpdate.changeType!==_core_data_object_updates_field_change_type_model__WEBPACK_IMPORTED_MODULE_5__.m.REMOVE&&this.fieldUpdate.changeType!==_core_data_object_updates_field_change_type_model__WEBPACK_IMPORTED_MODULE_5__.m.ADD)}canUndo(){return this.editable.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_14__.UI)(editable=>this.fieldUpdate.changeType>=0||editable))}isNotEmpty(value){return(0,_shared_empty_util__WEBPACK_IMPORTED_MODULE_12__.UE)(value)}}__name(EditInPlaceFieldComponent,"EditInPlaceFieldComponent"),EditInPlaceFieldComponent.\u0275fac=__name(function(t){return new(t||EditInPlaceFieldComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_10__.Y36(_core_registry_registry_service__WEBPACK_IMPORTED_MODULE_1__.k),_angular_core__WEBPACK_IMPORTED_MODULE_10__.Y36(_core_data_object_updates_object_updates_service__WEBPACK_IMPORTED_MODULE_3__.d))},"EditInPlaceFieldComponent_Factory"),EditInPlaceFieldComponent.\u0275cmp=_angular_core__WEBPACK_IMPORTED_MODULE_10__.Xpm({type:EditInPlaceFieldComponent,selectors:[["","ds-edit-in-place-field",""]],inputs:{fieldUpdate:"fieldUpdate",url:"url",metadata:"metadata"},features:[_angular_core__WEBPACK_IMPORTED_MODULE_10__.TTD],attrs:["ds-edit-in-place-field",""],decls:34,vars:39,consts:[[1,"metadata-field"],[4,"ngIf"],["class","field-container",4,"ngIf"],["class","text-danger",4,"ngIf"],[1,"w-100"],[1,"value-field"],[1,"text-center"],[1,"language-field"],[1,"btn-group","edit-field"],["class","btn btn-outline-primary btn-sm",3,"disabled","title","click",4,"ngIf"],["class","btn btn-outline-success btn-sm",3,"disabled","title","click",4,"ngIf"],[1,"btn","btn-outline-danger","btn-sm",3,"disabled","title","click"],[1,"fas","fa-trash-alt","fa-fw"],[1,"btn","btn-outline-warning","btn-sm",3,"disabled","title","click"],[1,"fas","fa-undo-alt","fa-fw"],[1,"field-container"],["dsAutoFocus","","autoFocusSelector",".suggestion_input",3,"disable","suggestions","ngModel","url","metadata","valid","ngModelOptions","ngModelChange","submitSuggestion","clickSuggestion","typeSuggestion","dsClickOutside","findSuggestions"],["suggestionControl","ngModel"],[1,"text-danger"],[1,"dont-break-out","preserve-line-breaks"],["type","textarea","attr.aria-labelledby","fieldValue",1,"form-control",3,"ngModel","dsDebounce","ngModelChange","onDebounce"],["type","text","attr.aria-labelledby","fieldLang",1,"form-control",3,"ngModel","dsDebounce","ngModelChange","onDebounce"],[1,"btn","btn-outline-primary","btn-sm",3,"disabled","title","click"],[1,"fas","fa-edit","fa-fw"],[1,"btn","btn-outline-success","btn-sm",3,"disabled","title","click"],[1,"fas","fa-check","fa-fw"]],template:__name(function(rf,ctx){1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_10__.TgZ(0,"td")(1,"div",0),_angular_core__WEBPACK_IMPORTED_MODULE_10__.YNc(2,EditInPlaceFieldComponent_div_2_Template,3,1,"div",1),_angular_core__WEBPACK_IMPORTED_MODULE_10__.ALo(3,"async"),_angular_core__WEBPACK_IMPORTED_MODULE_10__.YNc(4,EditInPlaceFieldComponent_div_4_Template,5,12,"div",2),_angular_core__WEBPACK_IMPORTED_MODULE_10__.ALo(5,"async"),_angular_core__WEBPACK_IMPORTED_MODULE_10__.YNc(6,EditInPlaceFieldComponent_small_6_Template,3,3,"small",3),_angular_core__WEBPACK_IMPORTED_MODULE_10__.ALo(7,"async"),_angular_core__WEBPACK_IMPORTED_MODULE_10__.qZA()(),_angular_core__WEBPACK_IMPORTED_MODULE_10__.TgZ(8,"td",4)(9,"div",5),_angular_core__WEBPACK_IMPORTED_MODULE_10__.YNc(10,EditInPlaceFieldComponent_div_10_Template,3,1,"div",1),_angular_core__WEBPACK_IMPORTED_MODULE_10__.ALo(11,"async"),_angular_core__WEBPACK_IMPORTED_MODULE_10__.YNc(12,EditInPlaceFieldComponent_div_12_Template,2,1,"div",2),_angular_core__WEBPACK_IMPORTED_MODULE_10__.ALo(13,"async"),_angular_core__WEBPACK_IMPORTED_MODULE_10__.qZA()(),_angular_core__WEBPACK_IMPORTED_MODULE_10__.TgZ(14,"td",6)(15,"div",7),_angular_core__WEBPACK_IMPORTED_MODULE_10__.YNc(16,EditInPlaceFieldComponent_div_16_Template,3,1,"div",1),_angular_core__WEBPACK_IMPORTED_MODULE_10__.ALo(17,"async"),_angular_core__WEBPACK_IMPORTED_MODULE_10__.YNc(18,EditInPlaceFieldComponent_div_18_Template,2,1,"div",2),_angular_core__WEBPACK_IMPORTED_MODULE_10__.ALo(19,"async"),_angular_core__WEBPACK_IMPORTED_MODULE_10__.qZA()(),_angular_core__WEBPACK_IMPORTED_MODULE_10__.TgZ(20,"td",6)(21,"div",8),_angular_core__WEBPACK_IMPORTED_MODULE_10__.YNc(22,EditInPlaceFieldComponent_button_22_Template,4,6,"button",9),_angular_core__WEBPACK_IMPORTED_MODULE_10__.ALo(23,"async"),_angular_core__WEBPACK_IMPORTED_MODULE_10__.YNc(24,EditInPlaceFieldComponent_button_24_Template,5,8,"button",10),_angular_core__WEBPACK_IMPORTED_MODULE_10__.ALo(25,"async"),_angular_core__WEBPACK_IMPORTED_MODULE_10__.TgZ(26,"button",11),_angular_core__WEBPACK_IMPORTED_MODULE_10__.NdJ("click",__name(function(){return ctx.remove()},"EditInPlaceFieldComponent_Template_button_click_26_listener")),_angular_core__WEBPACK_IMPORTED_MODULE_10__.ALo(27,"async"),_angular_core__WEBPACK_IMPORTED_MODULE_10__.ALo(28,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_10__._UZ(29,"i",12),_angular_core__WEBPACK_IMPORTED_MODULE_10__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_10__.TgZ(30,"button",13),_angular_core__WEBPACK_IMPORTED_MODULE_10__.NdJ("click",__name(function(){return ctx.removeChangesFromField()},"EditInPlaceFieldComponent_Template_button_click_30_listener")),_angular_core__WEBPACK_IMPORTED_MODULE_10__.ALo(31,"async"),_angular_core__WEBPACK_IMPORTED_MODULE_10__.ALo(32,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_10__._UZ(33,"i",14),_angular_core__WEBPACK_IMPORTED_MODULE_10__.qZA()()()),2&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_10__.xp6(2),_angular_core__WEBPACK_IMPORTED_MODULE_10__.Q6J("ngIf",!_angular_core__WEBPACK_IMPORTED_MODULE_10__.lcZ(3,13,ctx.editable)),_angular_core__WEBPACK_IMPORTED_MODULE_10__.xp6(2),_angular_core__WEBPACK_IMPORTED_MODULE_10__.Q6J("ngIf",_angular_core__WEBPACK_IMPORTED_MODULE_10__.lcZ(5,15,ctx.editable)),_angular_core__WEBPACK_IMPORTED_MODULE_10__.xp6(2),_angular_core__WEBPACK_IMPORTED_MODULE_10__.Q6J("ngIf",!1===_angular_core__WEBPACK_IMPORTED_MODULE_10__.lcZ(7,17,ctx.valid)),_angular_core__WEBPACK_IMPORTED_MODULE_10__.xp6(4),_angular_core__WEBPACK_IMPORTED_MODULE_10__.Q6J("ngIf",!_angular_core__WEBPACK_IMPORTED_MODULE_10__.lcZ(11,19,ctx.editable)),_angular_core__WEBPACK_IMPORTED_MODULE_10__.xp6(2),_angular_core__WEBPACK_IMPORTED_MODULE_10__.Q6J("ngIf",_angular_core__WEBPACK_IMPORTED_MODULE_10__.lcZ(13,21,ctx.editable)),_angular_core__WEBPACK_IMPORTED_MODULE_10__.xp6(4),_angular_core__WEBPACK_IMPORTED_MODULE_10__.Q6J("ngIf",!_angular_core__WEBPACK_IMPORTED_MODULE_10__.lcZ(17,23,ctx.editable)),_angular_core__WEBPACK_IMPORTED_MODULE_10__.xp6(2),_angular_core__WEBPACK_IMPORTED_MODULE_10__.Q6J("ngIf",_angular_core__WEBPACK_IMPORTED_MODULE_10__.lcZ(19,25,ctx.editable)),_angular_core__WEBPACK_IMPORTED_MODULE_10__.xp6(4),_angular_core__WEBPACK_IMPORTED_MODULE_10__.Q6J("ngIf",!_angular_core__WEBPACK_IMPORTED_MODULE_10__.lcZ(23,27,ctx.editable)),_angular_core__WEBPACK_IMPORTED_MODULE_10__.xp6(2),_angular_core__WEBPACK_IMPORTED_MODULE_10__.Q6J("ngIf",_angular_core__WEBPACK_IMPORTED_MODULE_10__.lcZ(25,29,ctx.editable)),_angular_core__WEBPACK_IMPORTED_MODULE_10__.xp6(2),_angular_core__WEBPACK_IMPORTED_MODULE_10__.s9C("title",_angular_core__WEBPACK_IMPORTED_MODULE_10__.lcZ(28,33,"item.edit.metadata.edit.buttons.remove")),_angular_core__WEBPACK_IMPORTED_MODULE_10__.Q6J("disabled",!_angular_core__WEBPACK_IMPORTED_MODULE_10__.lcZ(27,31,ctx.canRemove())),_angular_core__WEBPACK_IMPORTED_MODULE_10__.xp6(4),_angular_core__WEBPACK_IMPORTED_MODULE_10__.s9C("title",_angular_core__WEBPACK_IMPORTED_MODULE_10__.lcZ(32,37,"item.edit.metadata.edit.buttons.undo")),_angular_core__WEBPACK_IMPORTED_MODULE_10__.Q6J("disabled",!_angular_core__WEBPACK_IMPORTED_MODULE_10__.lcZ(31,35,ctx.canUndo())))},"EditInPlaceFieldComponent_Template"),directives:[_angular_common__WEBPACK_IMPORTED_MODULE_15__.O5,_shared_input_suggestions_validation_suggestions_validation_suggestions_component__WEBPACK_IMPORTED_MODULE_6__.e,_shared_utils_auto_focus_directive__WEBPACK_IMPORTED_MODULE_7__.h,_angular_forms__WEBPACK_IMPORTED_MODULE_16__.JJ,_angular_forms__WEBPACK_IMPORTED_MODULE_16__.On,_shared_utils_click_outside_directive__WEBPACK_IMPORTED_MODULE_8__._,_angular_forms__WEBPACK_IMPORTED_MODULE_16__.Fj,_shared_utils_debounce_directive__WEBPACK_IMPORTED_MODULE_9__.q],pipes:[_angular_common__WEBPACK_IMPORTED_MODULE_15__.Ov,_ngx_translate_core__WEBPACK_IMPORTED_MODULE_17__.X$],styles:[".btn[disabled][_ngcontent-%COMP%]{color:var(--bs-gray-600);border-color:var(--bs-gray-600);z-index:0}.metadata-field[_ngcontent-%COMP%]{width:var(--ds-edit-item-metadata-field-width)}.language-field[_ngcontent-%COMP%]{width:var(--ds-edit-item-language-field-width)}"]})},7803:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{ItemMetadataComponent:()=>ItemMetadataComponent});var item_data_service=__webpack_require__(83639),object_updates_service=__webpack_require__(46040),lodash=__webpack_require__(17489),operators=__webpack_require__(83292),shared_operators=__webpack_require__(13730),notifications_service=__webpack_require__(82596),metadata_models=__webpack_require__(79300),abstract_item_update_component=__webpack_require__(25226),empty_util=__webpack_require__(24702),aletr_type=__webpack_require__(74711);class MetadataPatchOperation{constructor(op,field){this.op=op,this.field=field}}__name(MetadataPatchOperation,"MetadataPatchOperation");class MetadataPatchAddOperation extends MetadataPatchOperation{constructor(field,value){super(MetadataPatchAddOperation.operationType,field),this.value=value}toOperation(){return{op:this.op,path:`/metadata/${this.field}/-`,value:this.value}}}__name(MetadataPatchAddOperation,"MetadataPatchAddOperation"),MetadataPatchAddOperation.operationType="add";class MetadataPatchRemoveOperation extends MetadataPatchOperation{constructor(field,place){super(MetadataPatchRemoveOperation.operationType,field),this.place=place}toOperation(){return{op:this.op,path:`/metadata/${this.field}/${this.place}`}}}__name(MetadataPatchRemoveOperation,"MetadataPatchRemoveOperation"),MetadataPatchRemoveOperation.operationType="remove";class MetadataPatchReplaceOperation extends MetadataPatchOperation{constructor(field,place,value){super(MetadataPatchReplaceOperation.operationType,field),this.place=place,this.value=value}toOperation(){return{op:this.op,path:`/metadata/${this.field}/${this.place}`,value:this.value}}}__name(MetadataPatchReplaceOperation,"MetadataPatchReplaceOperation"),MetadataPatchReplaceOperation.operationType="replace";var field_change_type_model=__webpack_require__(59051),core=__webpack_require__(5e3);class MetadataPatchOperationService{fieldUpdatesToPatchOperations(fieldUpdates){const metadataPatch=this.fieldUpdatesToMetadataPatchOperations(fieldUpdates),metadataRemoveMap=new Map,patch=[];return metadataPatch.forEach(operation=>{(operation.op===MetadataPatchRemoveOperation.operationType||operation.op===MetadataPatchReplaceOperation.operationType)&&(0,empty_util.Uh)(operation.place)&&metadataRemoveMap.has(operation.field)&&metadataRemoveMap.get(operation.field).forEach(index=>{index<operation.place&&operation.place--}),operation.op===MetadataPatchRemoveOperation.operationType&&(0,empty_util.Uh)(operation.place)&&(metadataRemoveMap.has(operation.field)||metadataRemoveMap.set(operation.field,[]),metadataRemoveMap.get(operation.field).push(operation.place)),patch.push(operation.toOperation())}),patch}fieldUpdatesToMetadataPatchOperations(fieldUpdates){const metadataPatch=[];return Object.keys(fieldUpdates).forEach(uuid=>{const update=fieldUpdates[uuid],metadatum=update.field,val={value:metadatum.value,language:metadatum.language};let operation;switch(update.changeType){case field_change_type_model.m.ADD:operation=new MetadataPatchAddOperation(metadatum.key,[val]);break;case field_change_type_model.m.REMOVE:operation=new MetadataPatchRemoveOperation(metadatum.key,metadatum.place);break;case field_change_type_model.m.UPDATE:operation=new MetadataPatchReplaceOperation(metadatum.key,metadatum.place,val)}metadataPatch.push(operation)}),metadataPatch}}__name(MetadataPatchOperationService,"MetadataPatchOperationService"),MetadataPatchOperationService.\u0275fac=__name(function(t){return new(t||MetadataPatchOperationService)},"MetadataPatchOperationService_Factory"),MetadataPatchOperationService.\u0275prov=core.Yz7({token:MetadataPatchOperationService,factory:MetadataPatchOperationService.\u0275fac,providedIn:"root"});var router=__webpack_require__(74202),ngx_translate_core=__webpack_require__(42466),common=__webpack_require__(69808),edit_in_place_field_component=__webpack_require__(76487),alert_component=__webpack_require__(38605),object_values_pipe=__webpack_require__(5023);function ItemMetadataComponent_button_7_Template(rf,ctx){if(1&rf){const _r7=core.EpF();core.TgZ(0,"button",13),core.NdJ("click",__name(function(){return core.CHM(_r7),core.oxw().reinstate()},"ItemMetadataComponent_button_7_Template_button_click_0_listener")),core._UZ(1,"i",14),core.TgZ(2,"span",4),core._uU(3),core.ALo(4,"translate"),core.qZA()()}2&rf&&(core.xp6(3),core.hij("\xa0",core.lcZ(4,1,"item.edit.metadata.reinstate-button"),""))}function ItemMetadataComponent_button_16_Template(rf,ctx){if(1&rf){const _r9=core.EpF();core.TgZ(0,"button",15),core.NdJ("click",__name(function(){return core.CHM(_r9),core.oxw().discard()},"ItemMetadataComponent_button_16_Template_button_click_0_listener")),core.ALo(1,"async"),core._UZ(2,"i",16),core.TgZ(3,"span",4),core._uU(4),core.ALo(5,"translate"),core.qZA()()}if(2&rf){const ctx_r1=core.oxw();core.Q6J("disabled",!core.lcZ(1,2,ctx_r1.hasChanges())),core.xp6(4),core.hij("\xa0",core.lcZ(5,4,"item.edit.metadata.discard-button"),"")}}__name(ItemMetadataComponent_button_7_Template,"ItemMetadataComponent_button_7_Template"),__name(ItemMetadataComponent_button_16_Template,"ItemMetadataComponent_button_16_Template");const _c0=__name(function(){return{}},"_c0"),_c1=__name(function(a0,a1,a2){return{"table-warning":a0,"table-danger":a1,"table-success":a2}},"_c1");function ItemMetadataComponent_table_18_tr_19_Template(rf,ctx){if(1&rf&&core._UZ(0,"tr",23),2&rf){const updateValue_r11=ctx.$implicit,ctx_r10=core.oxw(2);core.Q6J("fieldUpdate",updateValue_r11||core.DdM(3,_c0))("url",ctx_r10.url)("ngClass",core.kEZ(4,_c1,0===updateValue_r11.changeType,2===updateValue_r11.changeType,1===updateValue_r11.changeType))}}function ItemMetadataComponent_table_18_Template(rf,ctx){if(1&rf&&(core.TgZ(0,"table",17)(1,"thead")(2,"tr")(3,"th")(4,"span",18),core._uU(5),core.ALo(6,"translate"),core.qZA()(),core.TgZ(7,"th")(8,"span",19),core._uU(9),core.ALo(10,"translate"),core.qZA()(),core.TgZ(11,"th",20)(12,"span",21),core._uU(13),core.ALo(14,"translate"),core.qZA()(),core.TgZ(15,"th",20),core._uU(16),core.ALo(17,"translate"),core.qZA()()(),core.TgZ(18,"tbody"),core.YNc(19,ItemMetadataComponent_table_18_tr_19_Template,1,8,"tr",22),core.ALo(20,"dsObjectValues"),core.ALo(21,"async"),core.qZA()()),2&rf){const ctx_r2=core.oxw();core.xp6(5),core.Oqu(core.lcZ(6,6,"item.edit.metadata.headers.field")),core.xp6(4),core.Oqu(core.lcZ(10,8,"item.edit.metadata.headers.value")),core.xp6(4),core.Oqu(core.lcZ(14,10,"item.edit.metadata.headers.language")),core.xp6(3),core.Oqu(core.lcZ(17,12,"item.edit.metadata.headers.edit")),core.xp6(3),core.Q6J("ngForOf",core.lcZ(20,14,core.lcZ(21,16,ctx_r2.updates$)))("ngForTrackBy",ctx_r2.trackUpdate)}}function ItemMetadataComponent_div_21_Template(rf,ctx){if(1&rf&&(core.TgZ(0,"div"),core._UZ(1,"ds-alert",24),core.qZA()),2&rf){const ctx_r3=core.oxw();core.xp6(1),core.Q6J("content","item.edit.metadata.empty")("type",ctx_r3.AlertTypeEnum.Info)}}function ItemMetadataComponent_button_26_Template(rf,ctx){if(1&rf){const _r13=core.EpF();core.TgZ(0,"button",13),core.NdJ("click",__name(function(){return core.CHM(_r13),core.oxw().reinstate()},"ItemMetadataComponent_button_26_Template_button_click_0_listener")),core._UZ(1,"i",14),core._uU(2),core.ALo(3,"translate"),core.qZA()}2&rf&&(core.xp6(2),core.hij(" ",core.lcZ(3,1,"item.edit.metadata.reinstate-button")," "))}function ItemMetadataComponent_button_33_Template(rf,ctx){if(1&rf){const _r15=core.EpF();core.TgZ(0,"button",15),core.NdJ("click",__name(function(){return core.CHM(_r15),core.oxw().discard()},"ItemMetadataComponent_button_33_Template_button_click_0_listener")),core.ALo(1,"async"),core._UZ(2,"i",16),core._uU(3),core.ALo(4,"translate"),core.qZA()}if(2&rf){const ctx_r5=core.oxw();core.Q6J("disabled",!core.lcZ(1,2,ctx_r5.hasChanges())),core.xp6(3),core.hij(" ",core.lcZ(4,4,"item.edit.metadata.discard-button")," ")}}__name(ItemMetadataComponent_table_18_tr_19_Template,"ItemMetadataComponent_table_18_tr_19_Template"),__name(ItemMetadataComponent_table_18_Template,"ItemMetadataComponent_table_18_Template"),__name(ItemMetadataComponent_div_21_Template,"ItemMetadataComponent_div_21_Template"),__name(ItemMetadataComponent_button_26_Template,"ItemMetadataComponent_button_26_Template"),__name(ItemMetadataComponent_button_33_Template,"ItemMetadataComponent_button_33_Template");class ItemMetadataComponent extends abstract_item_update_component.a{constructor(itemService,objectUpdatesService,router2,notificationsService,translateService,route){super(itemService,objectUpdatesService,router2,notificationsService,translateService,route),this.itemService=itemService,this.objectUpdatesService=objectUpdatesService,this.router=router2,this.notificationsService=notificationsService,this.translateService=translateService,this.route=route,this.AlertTypeEnum=aletr_type.N}ngOnInit(){super.ngOnInit(),(0,empty_util.xI)(this.updateService)&&(this.updateService=this.itemService)}initializeUpdates(){this.updates$=this.objectUpdatesService.getFieldUpdates(this.url,this.item.metadataAsList)}initializeNotificationsPrefix(){this.notificationsPrefix="item.edit.metadata.notifications."}add(metadata=new metadata_models.s5){this.objectUpdatesService.saveAddFieldUpdate(this.url,metadata)}initializeOriginalFields(){this.objectUpdatesService.initialize(this.url,this.item.metadataAsList,this.item.lastModified,MetadataPatchOperationService)}submit(){this.isValid().pipe((0,operators.Ps)()).subscribe(isValid=>{isValid?this.objectUpdatesService.createPatch(this.url).pipe((0,operators.Ps)(),(0,operators.wt)(patch=>this.updateService.patch(this.item,patch).pipe((0,shared_operators.hC)()))).subscribe(rd=>{rd.hasFailed?this.notificationsService.error(this.getNotificationTitle("error"),rd.errorMessage):(this.item=rd.payload,this.checkAndFixMetadataUUIDs(),this.initializeOriginalFields(),this.updates$=this.objectUpdatesService.getFieldUpdates(this.url,this.item.metadataAsList),this.notificationsService.success(this.getNotificationTitle("saved"),this.getNotificationContent("saved")))}):this.notificationsService.error(this.getNotificationTitle("invalid"),this.getNotificationContent("invalid"))})}checkAndFixMetadataUUIDs(){const metadata=(0,lodash.cloneDeep)(this.item.metadata);Object.keys(this.item.metadata).forEach(key=>{metadata[key]=this.item.metadata[key].map(value=>(0,empty_util.Uh)(value.uuid)?value:Object.assign(new metadata_models.DA,value))}),this.item.metadata=metadata}}__name(ItemMetadataComponent,"ItemMetadataComponent"),ItemMetadataComponent.\u0275fac=__name(function(t){return new(t||ItemMetadataComponent)(core.Y36(item_data_service.S),core.Y36(object_updates_service.d),core.Y36(router.F0),core.Y36(notifications_service.T),core.Y36(ngx_translate_core.sK),core.Y36(router.gz))},"ItemMetadataComponent_Factory"),ItemMetadataComponent.\u0275cmp=core.Xpm({type:ItemMetadataComponent,selectors:[["ds-item-metadata"]],inputs:{updateService:"updateService"},features:[core.qOj],decls:35,vars:39,consts:[[1,"item-metadata"],[1,"button-row","top","d-flex","mb-2","space-children-mr"],[1,"mr-auto","btn","btn-success",3,"click"],[1,"fas","fa-plus"],[1,"d-none","d-sm-inline"],["class","btn btn-warning",3,"click",4,"ngIf"],[1,"btn","btn-primary",3,"disabled","click"],[1,"fas","fa-save"],["class","btn btn-danger",3,"disabled","click",4,"ngIf"],["class","table table-responsive table-striped table-bordered",4,"ngIf"],[4,"ngIf"],[1,"button-row","bottom"],[1,"mt-2","float-right","space-children-mr","ml-gap"],[1,"btn","btn-warning",3,"click"],[1,"fas","fa-undo-alt"],[1,"btn","btn-danger",3,"disabled","click"],[1,"fas","fa-times"],[1,"table","table-responsive","table-striped","table-bordered"],["id","fieldName"],["id","fieldValue"],[1,"text-center"],["id","fieldLang"],["ds-edit-in-place-field","",3,"fieldUpdate","url","ngClass",4,"ngFor","ngForOf","ngForTrackBy"],["ds-edit-in-place-field","",3,"fieldUpdate","url","ngClass"],[3,"content","type"]],template:__name(function(rf,ctx){1&rf&&(core.TgZ(0,"div",0)(1,"div",1)(2,"button",2),core.NdJ("click",__name(function(){return ctx.add()},"ItemMetadataComponent_Template_button_click_2_listener")),core._UZ(3,"i",3),core.TgZ(4,"span",4),core._uU(5),core.ALo(6,"translate"),core.qZA()(),core.YNc(7,ItemMetadataComponent_button_7_Template,5,3,"button",5),core.ALo(8,"async"),core.TgZ(9,"button",6),core.NdJ("click",__name(function(){return ctx.submit()},"ItemMetadataComponent_Template_button_click_9_listener")),core.ALo(10,"async"),core.ALo(11,"async"),core._UZ(12,"i",7),core.TgZ(13,"span",4),core._uU(14),core.ALo(15,"translate"),core.qZA()(),core.YNc(16,ItemMetadataComponent_button_16_Template,6,6,"button",8),core.ALo(17,"async"),core.qZA(),core.YNc(18,ItemMetadataComponent_table_18_Template,22,18,"table",9),core.ALo(19,"dsObjectValues"),core.ALo(20,"async"),core.YNc(21,ItemMetadataComponent_div_21_Template,2,2,"div",10),core.ALo(22,"dsObjectValues"),core.ALo(23,"async"),core.TgZ(24,"div",11)(25,"div",12),core.YNc(26,ItemMetadataComponent_button_26_Template,4,3,"button",5),core.ALo(27,"async"),core.TgZ(28,"button",6),core.NdJ("click",__name(function(){return ctx.submit()},"ItemMetadataComponent_Template_button_click_28_listener")),core.ALo(29,"async"),core._UZ(30,"i",7),core._uU(31),core.ALo(32,"translate"),core.qZA(),core.YNc(33,ItemMetadataComponent_button_33_Template,5,6,"button",8),core.ALo(34,"async"),core.qZA()()()),2&rf&&(core.xp6(5),core.hij("\xa0",core.lcZ(6,11,"item.edit.metadata.add-button"),""),core.xp6(2),core.Q6J("ngIf",core.lcZ(8,13,ctx.isReinstatable())),core.xp6(2),core.Q6J("disabled",!core.lcZ(10,15,ctx.hasChanges())||!core.lcZ(11,17,ctx.isValid())),core.xp6(5),core.hij("\xa0",core.lcZ(15,19,"item.edit.metadata.save-button"),""),core.xp6(2),core.Q6J("ngIf",!core.lcZ(17,21,ctx.isReinstatable())),core.xp6(2),core.Q6J("ngIf",core.lcZ(19,23,core.lcZ(20,25,ctx.updates$)).length>0),core.xp6(3),core.Q6J("ngIf",0==core.lcZ(22,27,core.lcZ(23,29,ctx.updates$)).length),core.xp6(5),core.Q6J("ngIf",core.lcZ(27,31,ctx.isReinstatable())),core.xp6(2),core.Q6J("disabled",!core.lcZ(29,33,ctx.hasChanges())),core.xp6(3),core.hij(" ",core.lcZ(32,35,"item.edit.metadata.save-button")," "),core.xp6(2),core.Q6J("ngIf",!core.lcZ(34,37,ctx.isReinstatable())))},"ItemMetadataComponent_Template"),directives:[common.O5,common.sg,edit_in_place_field_component.I,common.mk,alert_component.w],pipes:[ngx_translate_core.X$,common.Ov,object_values_pipe.g],styles:[".button-row[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{margin-right:var(--ds-gap)}.button-row[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:last-child{margin-right:0}@media screen and (min-width: 576px){.button-row[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{min-width:var(--ds-edit-item-button-min-width)}}.button-row.top[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{margin-top:calc(var(--bs-spacer) / 2);margin-bottom:calc(var(--bs-spacer) / 2)}"]})},69722:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{U:()=>CollectionsComponent});var rxjs__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(76477),rxjs_operators__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(83292),_core_data_collection_data_service__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(36391),_shared_empty_util__WEBPACK_IMPORTED_MODULE_8__=(__webpack_require__(33609),__webpack_require__(24702)),_core_shared_operators__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(13730),_core_data_find_list_options_model__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(17481),_angular_core__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(5e3),_metadata_field_wrapper_metadata_field_wrapper_component__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(37796),_angular_common__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(69808),_angular_router__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(74202),_ngx_translate_core__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(42466);function CollectionsComponent_a_3_span_3_Template(rf,ctx){if(1&rf&&_angular_core__WEBPACK_IMPORTED_MODULE_4__._UZ(0,"span",7),2&rf){const ctx_r5=_angular_core__WEBPACK_IMPORTED_MODULE_4__.oxw(2);_angular_core__WEBPACK_IMPORTED_MODULE_4__.Q6J("innerHTML",ctx_r5.separator,_angular_core__WEBPACK_IMPORTED_MODULE_4__.oJD)}}__name(CollectionsComponent_a_3_span_3_Template,"CollectionsComponent_a_3_span_3_Template");const _c0=__name(function(a1){return["/collections",a1]},"_c0");function CollectionsComponent_a_3_Template(rf,ctx){if(1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_4__.TgZ(0,"a",5)(1,"span"),_angular_core__WEBPACK_IMPORTED_MODULE_4__._uU(2),_angular_core__WEBPACK_IMPORTED_MODULE_4__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_4__.YNc(3,CollectionsComponent_a_3_span_3_Template,1,1,"span",6),_angular_core__WEBPACK_IMPORTED_MODULE_4__.qZA()),2&rf){const collection_r3=ctx.$implicit,last_r4=ctx.last;_angular_core__WEBPACK_IMPORTED_MODULE_4__.Q6J("routerLink",_angular_core__WEBPACK_IMPORTED_MODULE_4__.VKq(3,_c0,collection_r3.id)),_angular_core__WEBPACK_IMPORTED_MODULE_4__.xp6(2),_angular_core__WEBPACK_IMPORTED_MODULE_4__.Oqu(null==collection_r3?null:collection_r3.name),_angular_core__WEBPACK_IMPORTED_MODULE_4__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_4__.Q6J("ngIf",!last_r4)}}function CollectionsComponent_div_5_Template(rf,ctx){1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_4__.TgZ(0,"div"),_angular_core__WEBPACK_IMPORTED_MODULE_4__._uU(1),_angular_core__WEBPACK_IMPORTED_MODULE_4__.ALo(2,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_4__.qZA()),2&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_4__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_4__.hij(" ",_angular_core__WEBPACK_IMPORTED_MODULE_4__.lcZ(2,1,"item.page.collections.loading")," "))}function CollectionsComponent_a_7_Template(rf,ctx){if(1&rf){const _r7=_angular_core__WEBPACK_IMPORTED_MODULE_4__.EpF();_angular_core__WEBPACK_IMPORTED_MODULE_4__.TgZ(0,"a",8),_angular_core__WEBPACK_IMPORTED_MODULE_4__.NdJ("click",__name(function($event){_angular_core__WEBPACK_IMPORTED_MODULE_4__.CHM(_r7);const ctx_r6=_angular_core__WEBPACK_IMPORTED_MODULE_4__.oxw();return $event.preventDefault(),ctx_r6.handleLoadMore()},"CollectionsComponent_a_7_Template_a_click_0_listener")),_angular_core__WEBPACK_IMPORTED_MODULE_4__._uU(1),_angular_core__WEBPACK_IMPORTED_MODULE_4__.ALo(2,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_4__.qZA()}2&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_4__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_4__.hij(" ",_angular_core__WEBPACK_IMPORTED_MODULE_4__.lcZ(2,1,"item.page.collections.load-more")," "))}__name(CollectionsComponent_a_3_Template,"CollectionsComponent_a_3_Template"),__name(CollectionsComponent_div_5_Template,"CollectionsComponent_div_5_Template"),__name(CollectionsComponent_a_7_Template,"CollectionsComponent_a_7_Template");class CollectionsComponent{constructor(cds){this.cds=cds,this.label="item.page.collections",this.separator="<br/>",this.pageSize=5,this.lastPage$=new rxjs__WEBPACK_IMPORTED_MODULE_5__.BehaviorSubject(0),this.loadMore$=new rxjs__WEBPACK_IMPORTED_MODULE_5__.BehaviorSubject(void 0),this.isLoading$=new rxjs__WEBPACK_IMPORTED_MODULE_5__.BehaviorSubject(!0),this.hasMore$=new rxjs__WEBPACK_IMPORTED_MODULE_5__.BehaviorSubject(!0)}ngOnInit(){const owningCollection$=this.cds.findOwningCollectionFor(this.item).pipe((0,_core_shared_operators__WEBPACK_IMPORTED_MODULE_2__.Gp)(),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_6__.O4)(null)),mappedCollections$=this.loadMore$.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_6__.bw)(()=>this.isLoading$.next(!0)),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_6__.Mm)(this.lastPage$),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_6__.wt)(([_,lastPage])=>this.cds.findMappedCollectionsFor(this.item,Object.assign(new _core_data_find_list_options_model__WEBPACK_IMPORTED_MODULE_7__.R,{elementsPerPage:this.pageSize,currentPage:lastPage+1}))),(0,_core_shared_operators__WEBPACK_IMPORTED_MODULE_2__.f1)(),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_6__.bw)(()=>this.isLoading$.next(!1)),(0,_core_shared_operators__WEBPACK_IMPORTED_MODULE_2__.mc)(),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_6__.bw)(response=>this.hasMore$.next(response.currentPage<response.totalPages)),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_6__.bw)(response=>this.lastPage$.next(response.currentPage)),(0,_core_shared_operators__WEBPACK_IMPORTED_MODULE_2__.qP)(),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_6__.Rp)((prev,current)=>[...prev,...current],[]),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_6__.O4)([]));this.collections$=(0,rxjs__WEBPACK_IMPORTED_MODULE_5__.combineLatest)([owningCollection$,mappedCollections$]).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_6__.UI)(([owningCollection,mappedCollections])=>[owningCollection,...mappedCollections].filter(collection=>(0,_shared_empty_util__WEBPACK_IMPORTED_MODULE_8__.Uh)(collection))))}handleLoadMore(){this.loadMore$.next()}}__name(CollectionsComponent,"CollectionsComponent"),CollectionsComponent.\u0275fac=__name(function(t){return new(t||CollectionsComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_4__.Y36(_core_data_collection_data_service__WEBPACK_IMPORTED_MODULE_0__.W))},"CollectionsComponent_Factory"),CollectionsComponent.\u0275cmp=_angular_core__WEBPACK_IMPORTED_MODULE_4__.Xpm({type:CollectionsComponent,selectors:[["ds-item-page-collections"]],inputs:{item:"item",separator:"separator"},decls:10,vars:14,consts:[[3,"label"],[1,"collections"],[3,"routerLink",4,"ngFor","ngForOf"],[4,"ngIf"],["class","load-more-btn btn btn-sm btn-outline-secondary","role","button","href","javascript:void(0);",3,"click",4,"ngIf"],[3,"routerLink"],[3,"innerHTML",4,"ngIf"],[3,"innerHTML"],["role","button","href","javascript:void(0);",1,"load-more-btn","btn","btn-sm","btn-outline-secondary",3,"click"]],template:__name(function(rf,ctx){1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_4__.TgZ(0,"ds-metadata-field-wrapper",0),_angular_core__WEBPACK_IMPORTED_MODULE_4__.ALo(1,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_4__.TgZ(2,"div",1),_angular_core__WEBPACK_IMPORTED_MODULE_4__.YNc(3,CollectionsComponent_a_3_Template,4,5,"a",2),_angular_core__WEBPACK_IMPORTED_MODULE_4__.ALo(4,"async"),_angular_core__WEBPACK_IMPORTED_MODULE_4__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_4__.YNc(5,CollectionsComponent_div_5_Template,3,3,"div",3),_angular_core__WEBPACK_IMPORTED_MODULE_4__.ALo(6,"async"),_angular_core__WEBPACK_IMPORTED_MODULE_4__.YNc(7,CollectionsComponent_a_7_Template,3,3,"a",4),_angular_core__WEBPACK_IMPORTED_MODULE_4__.ALo(8,"async"),_angular_core__WEBPACK_IMPORTED_MODULE_4__.ALo(9,"async"),_angular_core__WEBPACK_IMPORTED_MODULE_4__.qZA()),2&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_4__.Q6J("label",_angular_core__WEBPACK_IMPORTED_MODULE_4__.lcZ(1,4,ctx.label)),_angular_core__WEBPACK_IMPORTED_MODULE_4__.xp6(3),_angular_core__WEBPACK_IMPORTED_MODULE_4__.Q6J("ngForOf",_angular_core__WEBPACK_IMPORTED_MODULE_4__.lcZ(4,6,ctx.collections$)),_angular_core__WEBPACK_IMPORTED_MODULE_4__.xp6(2),_angular_core__WEBPACK_IMPORTED_MODULE_4__.Q6J("ngIf",_angular_core__WEBPACK_IMPORTED_MODULE_4__.lcZ(6,8,ctx.isLoading$)),_angular_core__WEBPACK_IMPORTED_MODULE_4__.xp6(2),_angular_core__WEBPACK_IMPORTED_MODULE_4__.Q6J("ngIf",!_angular_core__WEBPACK_IMPORTED_MODULE_4__.lcZ(8,10,ctx.isLoading$)&&_angular_core__WEBPACK_IMPORTED_MODULE_4__.lcZ(9,12,ctx.hasMore$)))},"CollectionsComponent_Template"),directives:[_metadata_field_wrapper_metadata_field_wrapper_component__WEBPACK_IMPORTED_MODULE_3__.n,_angular_common__WEBPACK_IMPORTED_MODULE_9__.sg,_angular_router__WEBPACK_IMPORTED_MODULE_10__.yS,_angular_common__WEBPACK_IMPORTED_MODULE_9__.O5],pipes:[_ngx_translate_core__WEBPACK_IMPORTED_MODULE_11__.X$,_angular_common__WEBPACK_IMPORTED_MODULE_9__.Ov],encapsulation:2})},94281:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{e:()=>FullFileSectionComponent});var _core_data_bitstream_data_service__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(48532),_shared_utils_follow_link_config_model__WEBPACK_IMPORTED_MODULE_14__=(__webpack_require__(33609),__webpack_require__(93369)),_simple_field_components_file_section_file_section_component__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(57200),_shared_pagination_pagination_component_options_model__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(26638),rxjs_operators__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__(83292),_shared_notifications_notifications_service__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(82596),_shared_empty_util__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__(24702),_core_pagination_pagination_service__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(77467),_angular_core__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(5e3),_ngx_translate_core__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__(42466),_field_components_metadata_field_wrapper_metadata_field_wrapper_component__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(37796),_shared_utils_var_directive__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(98605),_angular_common__WEBPACK_IMPORTED_MODULE_17__=__webpack_require__(69808),_shared_pagination_pagination_component__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(62697),_thumbnail_thumbnail_component__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(4775),_shared_file_download_link_file_download_link_component__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(13582),_shared_utils_file_size_pipe__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(54202);function FullFileSectionComponent_div_2_div_1_ds_pagination_4_div_1_Template(rf,ctx){if(1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_12__.TgZ(0,"div",7)(1,"div",8),_angular_core__WEBPACK_IMPORTED_MODULE_12__._UZ(2,"ds-thumbnail",9),_angular_core__WEBPACK_IMPORTED_MODULE_12__.ALo(3,"async"),_angular_core__WEBPACK_IMPORTED_MODULE_12__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_12__.TgZ(4,"div",10)(5,"dl",11)(6,"dt",12),_angular_core__WEBPACK_IMPORTED_MODULE_12__._uU(7),_angular_core__WEBPACK_IMPORTED_MODULE_12__.ALo(8,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_12__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_12__.TgZ(9,"dd",13),_angular_core__WEBPACK_IMPORTED_MODULE_12__._uU(10),_angular_core__WEBPACK_IMPORTED_MODULE_12__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_12__.TgZ(11,"dt",12),_angular_core__WEBPACK_IMPORTED_MODULE_12__._uU(12),_angular_core__WEBPACK_IMPORTED_MODULE_12__.ALo(13,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_12__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_12__.TgZ(14,"dd",13),_angular_core__WEBPACK_IMPORTED_MODULE_12__._uU(15),_angular_core__WEBPACK_IMPORTED_MODULE_12__.ALo(16,"dsFileSize"),_angular_core__WEBPACK_IMPORTED_MODULE_12__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_12__.TgZ(17,"dt",12),_angular_core__WEBPACK_IMPORTED_MODULE_12__._uU(18),_angular_core__WEBPACK_IMPORTED_MODULE_12__.ALo(19,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_12__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_12__.TgZ(20,"dd",13),_angular_core__WEBPACK_IMPORTED_MODULE_12__._uU(21),_angular_core__WEBPACK_IMPORTED_MODULE_12__.ALo(22,"async"),_angular_core__WEBPACK_IMPORTED_MODULE_12__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_12__.TgZ(23,"dt",12),_angular_core__WEBPACK_IMPORTED_MODULE_12__._uU(24),_angular_core__WEBPACK_IMPORTED_MODULE_12__.ALo(25,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_12__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_12__.TgZ(26,"dd",13),_angular_core__WEBPACK_IMPORTED_MODULE_12__._uU(27),_angular_core__WEBPACK_IMPORTED_MODULE_12__.qZA()()(),_angular_core__WEBPACK_IMPORTED_MODULE_12__.TgZ(28,"div",14)(29,"ds-file-download-link",15),_angular_core__WEBPACK_IMPORTED_MODULE_12__._uU(30),_angular_core__WEBPACK_IMPORTED_MODULE_12__.ALo(31,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_12__.qZA()()()),2&rf){const file_r6=ctx.$implicit,ctx_r5=_angular_core__WEBPACK_IMPORTED_MODULE_12__.oxw(4);let tmp_0_0,tmp_6_0;_angular_core__WEBPACK_IMPORTED_MODULE_12__.xp6(2),_angular_core__WEBPACK_IMPORTED_MODULE_12__.Q6J("thumbnail",null==(tmp_0_0=_angular_core__WEBPACK_IMPORTED_MODULE_12__.lcZ(3,12,file_r6.thumbnail))?null:tmp_0_0.payload),_angular_core__WEBPACK_IMPORTED_MODULE_12__.xp6(5),_angular_core__WEBPACK_IMPORTED_MODULE_12__.Oqu(_angular_core__WEBPACK_IMPORTED_MODULE_12__.lcZ(8,14,"item.page.filesection.name")),_angular_core__WEBPACK_IMPORTED_MODULE_12__.xp6(3),_angular_core__WEBPACK_IMPORTED_MODULE_12__.Oqu(file_r6.name),_angular_core__WEBPACK_IMPORTED_MODULE_12__.xp6(2),_angular_core__WEBPACK_IMPORTED_MODULE_12__.Oqu(_angular_core__WEBPACK_IMPORTED_MODULE_12__.lcZ(13,16,"item.page.filesection.size")),_angular_core__WEBPACK_IMPORTED_MODULE_12__.xp6(3),_angular_core__WEBPACK_IMPORTED_MODULE_12__.Oqu(_angular_core__WEBPACK_IMPORTED_MODULE_12__.lcZ(16,18,file_r6.sizeBytes)),_angular_core__WEBPACK_IMPORTED_MODULE_12__.xp6(3),_angular_core__WEBPACK_IMPORTED_MODULE_12__.Oqu(_angular_core__WEBPACK_IMPORTED_MODULE_12__.lcZ(19,20,"item.page.filesection.format")),_angular_core__WEBPACK_IMPORTED_MODULE_12__.xp6(3),_angular_core__WEBPACK_IMPORTED_MODULE_12__.Oqu(null==(tmp_6_0=_angular_core__WEBPACK_IMPORTED_MODULE_12__.lcZ(22,22,file_r6.format))||null==tmp_6_0.payload?null:tmp_6_0.payload.description),_angular_core__WEBPACK_IMPORTED_MODULE_12__.xp6(3),_angular_core__WEBPACK_IMPORTED_MODULE_12__.Oqu(_angular_core__WEBPACK_IMPORTED_MODULE_12__.lcZ(25,24,"item.page.filesection.description")),_angular_core__WEBPACK_IMPORTED_MODULE_12__.xp6(3),_angular_core__WEBPACK_IMPORTED_MODULE_12__.Oqu(file_r6.firstMetadataValue("dc.description")),_angular_core__WEBPACK_IMPORTED_MODULE_12__.xp6(2),_angular_core__WEBPACK_IMPORTED_MODULE_12__.Q6J("bitstream",file_r6)("item",ctx_r5.item),_angular_core__WEBPACK_IMPORTED_MODULE_12__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_12__.hij(" ",_angular_core__WEBPACK_IMPORTED_MODULE_12__.lcZ(31,26,"item.page.filesection.download")," ")}}function FullFileSectionComponent_div_2_div_1_ds_pagination_4_Template(rf,ctx){if(1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_12__.TgZ(0,"ds-pagination",5),_angular_core__WEBPACK_IMPORTED_MODULE_12__.YNc(1,FullFileSectionComponent_div_2_div_1_ds_pagination_4_div_1_Template,32,28,"div",6),_angular_core__WEBPACK_IMPORTED_MODULE_12__.qZA()),2&rf){const originals_r2=_angular_core__WEBPACK_IMPORTED_MODULE_12__.oxw(2).ngVar,ctx_r4=_angular_core__WEBPACK_IMPORTED_MODULE_12__.oxw();_angular_core__WEBPACK_IMPORTED_MODULE_12__.Q6J("hideGear",!0)("hidePagerWhenSinglePage",!0)("paginationOptions",ctx_r4.originalOptions)("pageInfoState",originals_r2)("collectionSize",null==originals_r2?null:originals_r2.totalElements)("retainScrollPosition",!0),_angular_core__WEBPACK_IMPORTED_MODULE_12__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_12__.Q6J("ngForOf",null==originals_r2?null:originals_r2.page)}}function FullFileSectionComponent_div_2_div_1_Template(rf,ctx){if(1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_12__.TgZ(0,"div")(1,"h5",3),_angular_core__WEBPACK_IMPORTED_MODULE_12__._uU(2),_angular_core__WEBPACK_IMPORTED_MODULE_12__.ALo(3,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_12__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_12__.YNc(4,FullFileSectionComponent_div_2_div_1_ds_pagination_4_Template,2,7,"ds-pagination",4),_angular_core__WEBPACK_IMPORTED_MODULE_12__.qZA()),2&rf){const originals_r2=_angular_core__WEBPACK_IMPORTED_MODULE_12__.oxw().ngVar;_angular_core__WEBPACK_IMPORTED_MODULE_12__.xp6(2),_angular_core__WEBPACK_IMPORTED_MODULE_12__.Oqu(_angular_core__WEBPACK_IMPORTED_MODULE_12__.lcZ(3,2,"item.page.filesection.original.bundle")),_angular_core__WEBPACK_IMPORTED_MODULE_12__.xp6(2),_angular_core__WEBPACK_IMPORTED_MODULE_12__.Q6J("ngIf",(null==originals_r2||null==originals_r2.page?null:originals_r2.page.length)>0)}}function FullFileSectionComponent_div_2_Template(rf,ctx){if(1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_12__.TgZ(0,"div"),_angular_core__WEBPACK_IMPORTED_MODULE_12__.YNc(1,FullFileSectionComponent_div_2_div_1_Template,5,4,"div",2),_angular_core__WEBPACK_IMPORTED_MODULE_12__.qZA()),2&rf){const originals_r2=ctx.ngVar,ctx_r0=_angular_core__WEBPACK_IMPORTED_MODULE_12__.oxw();_angular_core__WEBPACK_IMPORTED_MODULE_12__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_12__.Q6J("ngIf",ctx_r0.hasValuesInBundle(originals_r2))}}function FullFileSectionComponent_div_4_div_1_ds_pagination_4_div_1_Template(rf,ctx){if(1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_12__.TgZ(0,"div",17)(1,"div",8),_angular_core__WEBPACK_IMPORTED_MODULE_12__._UZ(2,"ds-thumbnail",9),_angular_core__WEBPACK_IMPORTED_MODULE_12__.ALo(3,"async"),_angular_core__WEBPACK_IMPORTED_MODULE_12__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_12__.TgZ(4,"div",10)(5,"dl",11)(6,"dt",12),_angular_core__WEBPACK_IMPORTED_MODULE_12__._uU(7),_angular_core__WEBPACK_IMPORTED_MODULE_12__.ALo(8,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_12__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_12__.TgZ(9,"dd",13),_angular_core__WEBPACK_IMPORTED_MODULE_12__._uU(10),_angular_core__WEBPACK_IMPORTED_MODULE_12__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_12__.TgZ(11,"dt",12),_angular_core__WEBPACK_IMPORTED_MODULE_12__._uU(12),_angular_core__WEBPACK_IMPORTED_MODULE_12__.ALo(13,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_12__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_12__.TgZ(14,"dd",13),_angular_core__WEBPACK_IMPORTED_MODULE_12__._uU(15),_angular_core__WEBPACK_IMPORTED_MODULE_12__.ALo(16,"dsFileSize"),_angular_core__WEBPACK_IMPORTED_MODULE_12__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_12__.TgZ(17,"dt",12),_angular_core__WEBPACK_IMPORTED_MODULE_12__._uU(18),_angular_core__WEBPACK_IMPORTED_MODULE_12__.ALo(19,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_12__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_12__.TgZ(20,"dd",13),_angular_core__WEBPACK_IMPORTED_MODULE_12__._uU(21),_angular_core__WEBPACK_IMPORTED_MODULE_12__.ALo(22,"async"),_angular_core__WEBPACK_IMPORTED_MODULE_12__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_12__.TgZ(23,"dt",12),_angular_core__WEBPACK_IMPORTED_MODULE_12__._uU(24),_angular_core__WEBPACK_IMPORTED_MODULE_12__.ALo(25,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_12__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_12__.TgZ(26,"dd",13),_angular_core__WEBPACK_IMPORTED_MODULE_12__._uU(27),_angular_core__WEBPACK_IMPORTED_MODULE_12__.qZA()()(),_angular_core__WEBPACK_IMPORTED_MODULE_12__.TgZ(28,"div",14)(29,"ds-file-download-link",15),_angular_core__WEBPACK_IMPORTED_MODULE_12__._uU(30),_angular_core__WEBPACK_IMPORTED_MODULE_12__.ALo(31,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_12__.qZA()()()),2&rf){const file_r13=ctx.$implicit,ctx_r12=_angular_core__WEBPACK_IMPORTED_MODULE_12__.oxw(4);let tmp_0_0,tmp_6_0;_angular_core__WEBPACK_IMPORTED_MODULE_12__.xp6(2),_angular_core__WEBPACK_IMPORTED_MODULE_12__.Q6J("thumbnail",null==(tmp_0_0=_angular_core__WEBPACK_IMPORTED_MODULE_12__.lcZ(3,12,file_r13.thumbnail))?null:tmp_0_0.payload),_angular_core__WEBPACK_IMPORTED_MODULE_12__.xp6(5),_angular_core__WEBPACK_IMPORTED_MODULE_12__.Oqu(_angular_core__WEBPACK_IMPORTED_MODULE_12__.lcZ(8,14,"item.page.filesection.name")),_angular_core__WEBPACK_IMPORTED_MODULE_12__.xp6(3),_angular_core__WEBPACK_IMPORTED_MODULE_12__.Oqu(file_r13.name),_angular_core__WEBPACK_IMPORTED_MODULE_12__.xp6(2),_angular_core__WEBPACK_IMPORTED_MODULE_12__.Oqu(_angular_core__WEBPACK_IMPORTED_MODULE_12__.lcZ(13,16,"item.page.filesection.size")),_angular_core__WEBPACK_IMPORTED_MODULE_12__.xp6(3),_angular_core__WEBPACK_IMPORTED_MODULE_12__.Oqu(_angular_core__WEBPACK_IMPORTED_MODULE_12__.lcZ(16,18,file_r13.sizeBytes)),_angular_core__WEBPACK_IMPORTED_MODULE_12__.xp6(3),_angular_core__WEBPACK_IMPORTED_MODULE_12__.Oqu(_angular_core__WEBPACK_IMPORTED_MODULE_12__.lcZ(19,20,"item.page.filesection.format")),_angular_core__WEBPACK_IMPORTED_MODULE_12__.xp6(3),_angular_core__WEBPACK_IMPORTED_MODULE_12__.Oqu(null==(tmp_6_0=_angular_core__WEBPACK_IMPORTED_MODULE_12__.lcZ(22,22,file_r13.format))||null==tmp_6_0.payload?null:tmp_6_0.payload.description),_angular_core__WEBPACK_IMPORTED_MODULE_12__.xp6(3),_angular_core__WEBPACK_IMPORTED_MODULE_12__.Oqu(_angular_core__WEBPACK_IMPORTED_MODULE_12__.lcZ(25,24,"item.page.filesection.description")),_angular_core__WEBPACK_IMPORTED_MODULE_12__.xp6(3),_angular_core__WEBPACK_IMPORTED_MODULE_12__.Oqu(file_r13.firstMetadataValue("dc.description")),_angular_core__WEBPACK_IMPORTED_MODULE_12__.xp6(2),_angular_core__WEBPACK_IMPORTED_MODULE_12__.Q6J("bitstream",file_r13)("item",ctx_r12.item),_angular_core__WEBPACK_IMPORTED_MODULE_12__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_12__.hij(" ",_angular_core__WEBPACK_IMPORTED_MODULE_12__.lcZ(31,26,"item.page.filesection.download")," ")}}function FullFileSectionComponent_div_4_div_1_ds_pagination_4_Template(rf,ctx){if(1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_12__.TgZ(0,"ds-pagination",5),_angular_core__WEBPACK_IMPORTED_MODULE_12__.YNc(1,FullFileSectionComponent_div_4_div_1_ds_pagination_4_div_1_Template,32,28,"div",16),_angular_core__WEBPACK_IMPORTED_MODULE_12__.qZA()),2&rf){const licenses_r9=_angular_core__WEBPACK_IMPORTED_MODULE_12__.oxw(2).ngVar,ctx_r11=_angular_core__WEBPACK_IMPORTED_MODULE_12__.oxw();_angular_core__WEBPACK_IMPORTED_MODULE_12__.Q6J("hideGear",!0)("hidePagerWhenSinglePage",!0)("paginationOptions",ctx_r11.licenseOptions)("pageInfoState",licenses_r9)("collectionSize",null==licenses_r9?null:licenses_r9.totalElements)("retainScrollPosition",!0),_angular_core__WEBPACK_IMPORTED_MODULE_12__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_12__.Q6J("ngForOf",null==licenses_r9?null:licenses_r9.page)}}function FullFileSectionComponent_div_4_div_1_Template(rf,ctx){if(1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_12__.TgZ(0,"div")(1,"h5",3),_angular_core__WEBPACK_IMPORTED_MODULE_12__._uU(2),_angular_core__WEBPACK_IMPORTED_MODULE_12__.ALo(3,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_12__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_12__.YNc(4,FullFileSectionComponent_div_4_div_1_ds_pagination_4_Template,2,7,"ds-pagination",4),_angular_core__WEBPACK_IMPORTED_MODULE_12__.qZA()),2&rf){const licenses_r9=_angular_core__WEBPACK_IMPORTED_MODULE_12__.oxw().ngVar;_angular_core__WEBPACK_IMPORTED_MODULE_12__.xp6(2),_angular_core__WEBPACK_IMPORTED_MODULE_12__.Oqu(_angular_core__WEBPACK_IMPORTED_MODULE_12__.lcZ(3,2,"item.page.filesection.license.bundle")),_angular_core__WEBPACK_IMPORTED_MODULE_12__.xp6(2),_angular_core__WEBPACK_IMPORTED_MODULE_12__.Q6J("ngIf",(null==licenses_r9||null==licenses_r9.page?null:licenses_r9.page.length)>0)}}function FullFileSectionComponent_div_4_Template(rf,ctx){if(1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_12__.TgZ(0,"div"),_angular_core__WEBPACK_IMPORTED_MODULE_12__.YNc(1,FullFileSectionComponent_div_4_div_1_Template,5,4,"div",2),_angular_core__WEBPACK_IMPORTED_MODULE_12__.qZA()),2&rf){const licenses_r9=ctx.ngVar,ctx_r1=_angular_core__WEBPACK_IMPORTED_MODULE_12__.oxw();_angular_core__WEBPACK_IMPORTED_MODULE_12__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_12__.Q6J("ngIf",ctx_r1.hasValuesInBundle(licenses_r9))}}__name(FullFileSectionComponent_div_2_div_1_ds_pagination_4_div_1_Template,"FullFileSectionComponent_div_2_div_1_ds_pagination_4_div_1_Template"),__name(FullFileSectionComponent_div_2_div_1_ds_pagination_4_Template,"FullFileSectionComponent_div_2_div_1_ds_pagination_4_Template"),__name(FullFileSectionComponent_div_2_div_1_Template,"FullFileSectionComponent_div_2_div_1_Template"),__name(FullFileSectionComponent_div_2_Template,"FullFileSectionComponent_div_2_Template"),__name(FullFileSectionComponent_div_4_div_1_ds_pagination_4_div_1_Template,"FullFileSectionComponent_div_4_div_1_ds_pagination_4_div_1_Template"),__name(FullFileSectionComponent_div_4_div_1_ds_pagination_4_Template,"FullFileSectionComponent_div_4_div_1_ds_pagination_4_Template"),__name(FullFileSectionComponent_div_4_div_1_Template,"FullFileSectionComponent_div_4_div_1_Template"),__name(FullFileSectionComponent_div_4_Template,"FullFileSectionComponent_div_4_Template");class FullFileSectionComponent extends _simple_field_components_file_section_file_section_component__WEBPACK_IMPORTED_MODULE_2__.FileSectionComponent{constructor(bitstreamDataService,notificationsService,translateService,paginationService){super(bitstreamDataService,notificationsService,translateService),this.notificationsService=notificationsService,this.translateService=translateService,this.paginationService=paginationService,this.pageSize=5,this.originalOptions=Object.assign(new _shared_pagination_pagination_component_options_model__WEBPACK_IMPORTED_MODULE_3__.r,{id:"obo",currentPage:1,pageSize:this.pageSize}),this.licenseOptions=Object.assign(new _shared_pagination_pagination_component_options_model__WEBPACK_IMPORTED_MODULE_3__.r,{id:"lbo",currentPage:1,pageSize:this.pageSize})}ngOnInit(){this.initialize()}initialize(){this.originals$=this.paginationService.getCurrentPagination(this.originalOptions.id,this.originalOptions).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_13__.wt)(options=>this.bitstreamDataService.findAllByItemAndBundleName(this.item,"ORIGINAL",{elementsPerPage:options.pageSize,currentPage:options.currentPage},!0,!0,(0,_shared_utils_follow_link_config_model__WEBPACK_IMPORTED_MODULE_14__.l)("format"),(0,_shared_utils_follow_link_config_model__WEBPACK_IMPORTED_MODULE_14__.l)("thumbnail"))),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_13__.bw)(rd=>{(0,_shared_empty_util__WEBPACK_IMPORTED_MODULE_15__.Uh)(rd.errorMessage)&&this.notificationsService.error(this.translateService.get("file-section.error.header"),`${rd.statusCode} ${rd.errorMessage}`)})),this.licenses$=this.paginationService.getCurrentPagination(this.licenseOptions.id,this.licenseOptions).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_13__.wt)(options=>this.bitstreamDataService.findAllByItemAndBundleName(this.item,"LICENSE",{elementsPerPage:options.pageSize,currentPage:options.currentPage},!0,!0,(0,_shared_utils_follow_link_config_model__WEBPACK_IMPORTED_MODULE_14__.l)("format"),(0,_shared_utils_follow_link_config_model__WEBPACK_IMPORTED_MODULE_14__.l)("thumbnail"))),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_13__.bw)(rd=>{(0,_shared_empty_util__WEBPACK_IMPORTED_MODULE_15__.Uh)(rd.errorMessage)&&this.notificationsService.error(this.translateService.get("file-section.error.header"),`${rd.statusCode} ${rd.errorMessage}`)}))}hasValuesInBundle(bundle){return(0,_shared_empty_util__WEBPACK_IMPORTED_MODULE_15__.Uh)(bundle)&&!(0,_shared_empty_util__WEBPACK_IMPORTED_MODULE_15__.xb)(bundle.page)}ngOnDestroy(){this.paginationService.clearPagination(this.originalOptions.id),this.paginationService.clearPagination(this.licenseOptions.id)}}__name(FullFileSectionComponent,"FullFileSectionComponent"),FullFileSectionComponent.\u0275fac=__name(function(t){return new(t||FullFileSectionComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_12__.Y36(_core_data_bitstream_data_service__WEBPACK_IMPORTED_MODULE_0__.J),_angular_core__WEBPACK_IMPORTED_MODULE_12__.Y36(_shared_notifications_notifications_service__WEBPACK_IMPORTED_MODULE_4__.T),_angular_core__WEBPACK_IMPORTED_MODULE_12__.Y36(_ngx_translate_core__WEBPACK_IMPORTED_MODULE_16__.sK),_angular_core__WEBPACK_IMPORTED_MODULE_12__.Y36(_core_pagination_pagination_service__WEBPACK_IMPORTED_MODULE_5__.N))},"FullFileSectionComponent_Factory"),FullFileSectionComponent.\u0275cmp=_angular_core__WEBPACK_IMPORTED_MODULE_12__.Xpm({type:FullFileSectionComponent,selectors:[["ds-item-page-full-file-section"]],inputs:{item:"item"},features:[_angular_core__WEBPACK_IMPORTED_MODULE_12__.qOj],decls:6,vars:9,consts:[[3,"label"],[4,"ngVar"],[4,"ngIf"],[1,"simple-view-element-header"],[3,"hideGear","hidePagerWhenSinglePage","paginationOptions","pageInfoState","collectionSize","retainScrollPosition",4,"ngIf"],[3,"hideGear","hidePagerWhenSinglePage","paginationOptions","pageInfoState","collectionSize","retainScrollPosition"],["class","file-section row mb-3",4,"ngFor","ngForOf"],[1,"file-section","row","mb-3"],[1,"col-3"],[3,"thumbnail"],[1,"col-7"],[1,"row"],[1,"col-md-4"],[1,"col-md-8"],[1,"col-2"],[3,"bitstream","item"],["class","file-section row",4,"ngFor","ngForOf"],[1,"file-section","row"]],template:__name(function(rf,ctx){if(1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_12__.TgZ(0,"ds-metadata-field-wrapper",0),_angular_core__WEBPACK_IMPORTED_MODULE_12__.ALo(1,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_12__.YNc(2,FullFileSectionComponent_div_2_Template,2,1,"div",1),_angular_core__WEBPACK_IMPORTED_MODULE_12__.ALo(3,"async"),_angular_core__WEBPACK_IMPORTED_MODULE_12__.YNc(4,FullFileSectionComponent_div_4_Template,2,1,"div",1),_angular_core__WEBPACK_IMPORTED_MODULE_12__.ALo(5,"async"),_angular_core__WEBPACK_IMPORTED_MODULE_12__.qZA()),2&rf){let tmp_1_0,tmp_2_0;_angular_core__WEBPACK_IMPORTED_MODULE_12__.Q6J("label",_angular_core__WEBPACK_IMPORTED_MODULE_12__.lcZ(1,3,ctx.label)),_angular_core__WEBPACK_IMPORTED_MODULE_12__.xp6(2),_angular_core__WEBPACK_IMPORTED_MODULE_12__.Q6J("ngVar",null==(tmp_1_0=_angular_core__WEBPACK_IMPORTED_MODULE_12__.lcZ(3,5,ctx.originals$))?null:tmp_1_0.payload),_angular_core__WEBPACK_IMPORTED_MODULE_12__.xp6(2),_angular_core__WEBPACK_IMPORTED_MODULE_12__.Q6J("ngVar",null==(tmp_2_0=_angular_core__WEBPACK_IMPORTED_MODULE_12__.lcZ(5,7,ctx.licenses$))?null:tmp_2_0.payload)}},"FullFileSectionComponent_Template"),directives:[_field_components_metadata_field_wrapper_metadata_field_wrapper_component__WEBPACK_IMPORTED_MODULE_6__.n,_shared_utils_var_directive__WEBPACK_IMPORTED_MODULE_7__.g,_angular_common__WEBPACK_IMPORTED_MODULE_17__.O5,_shared_pagination_pagination_component__WEBPACK_IMPORTED_MODULE_8__.Q,_angular_common__WEBPACK_IMPORTED_MODULE_17__.sg,_thumbnail_thumbnail_component__WEBPACK_IMPORTED_MODULE_9__.Z,_shared_file_download_link_file_download_link_component__WEBPACK_IMPORTED_MODULE_10__.q],pipes:[_ngx_translate_core__WEBPACK_IMPORTED_MODULE_16__.X$,_angular_common__WEBPACK_IMPORTED_MODULE_17__.Ov,_shared_utils_file_size_pipe__WEBPACK_IMPORTED_MODULE_11__.p],styles:["@media screen and (min-width: 768px){dt[_ngcontent-%COMP%]{text-align:right}}"]})},21317:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{FullItemPageComponent:()=>FullItemPageComponent});var rxjs_operators__WEBPACK_IMPORTED_MODULE_17__=__webpack_require__(83292),_simple_item_page_component__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(4353),_core_data_item_data_service__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(83639),_shared_animations_fade__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(28652),_shared_empty_util__WEBPACK_IMPORTED_MODULE_18__=__webpack_require__(24702),_core_auth_auth_service__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(24755),_core_data_feature_authorization_authorization_data_service__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(19937),_angular_core__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__(5e3),_angular_router__WEBPACK_IMPORTED_MODULE_19__=__webpack_require__(74202),_angular_common__WEBPACK_IMPORTED_MODULE_20__=__webpack_require__(69808),_shared_utils_var_directive__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(98605),_shared_item_item_alerts_item_alerts_component__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(72431),_shared_item_item_versions_notice_item_versions_notice_component__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(93212),_statistics_angulartics_dspace_view_tracker_component__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(66370),_simple_field_components_specific_field_title_item_page_title_field_component__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(34261),_shared_dso_page_dso_page_edit_button_dso_page_edit_button_component__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(42257),_field_components_file_section_full_file_section_component__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(94281),_field_components_collections_collections_component__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(69722),_shared_item_item_versions_item_versions_component__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__(75112),_shared_error_error_component__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__(41971),_shared_loading_themed_loading_component__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__(48106),_ngx_translate_core__WEBPACK_IMPORTED_MODULE_21__=__webpack_require__(42466);const _c0=__name(function(a0){return[a0]},"_c0");function FullItemPageComponent_div_0_div_1_div_1_div_4_div_6_Template(rf,ctx){if(1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_16__.TgZ(0,"div",20)(1,"a",21),_angular_core__WEBPACK_IMPORTED_MODULE_16__.ALo(2,"async"),_angular_core__WEBPACK_IMPORTED_MODULE_16__._uU(3),_angular_core__WEBPACK_IMPORTED_MODULE_16__.ALo(4,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_16__.qZA()()),2&rf){const ctx_r8=_angular_core__WEBPACK_IMPORTED_MODULE_16__.oxw(5);_angular_core__WEBPACK_IMPORTED_MODULE_16__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_16__.Q6J("routerLink",_angular_core__WEBPACK_IMPORTED_MODULE_16__.VKq(6,_c0,_angular_core__WEBPACK_IMPORTED_MODULE_16__.lcZ(2,2,ctx_r8.itemPageRoute$))),_angular_core__WEBPACK_IMPORTED_MODULE_16__.xp6(2),_angular_core__WEBPACK_IMPORTED_MODULE_16__.hij(" ",_angular_core__WEBPACK_IMPORTED_MODULE_16__.lcZ(4,4,"item.page.link.simple")," ")}}function FullItemPageComponent_div_0_div_1_div_1_div_4_ng_container_10_tr_1_Template(rf,ctx){if(1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_16__.TgZ(0,"tr")(1,"td"),_angular_core__WEBPACK_IMPORTED_MODULE_16__._uU(2),_angular_core__WEBPACK_IMPORTED_MODULE_16__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_16__.TgZ(3,"td"),_angular_core__WEBPACK_IMPORTED_MODULE_16__._uU(4),_angular_core__WEBPACK_IMPORTED_MODULE_16__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_16__.TgZ(5,"td"),_angular_core__WEBPACK_IMPORTED_MODULE_16__._uU(6),_angular_core__WEBPACK_IMPORTED_MODULE_16__.qZA()()),2&rf){const mdValue_r13=ctx.$implicit,mdEntry_r11=_angular_core__WEBPACK_IMPORTED_MODULE_16__.oxw().$implicit;_angular_core__WEBPACK_IMPORTED_MODULE_16__.xp6(2),_angular_core__WEBPACK_IMPORTED_MODULE_16__.Oqu(mdEntry_r11.key),_angular_core__WEBPACK_IMPORTED_MODULE_16__.xp6(2),_angular_core__WEBPACK_IMPORTED_MODULE_16__.Oqu(mdValue_r13.value),_angular_core__WEBPACK_IMPORTED_MODULE_16__.xp6(2),_angular_core__WEBPACK_IMPORTED_MODULE_16__.Oqu(mdValue_r13.language)}}function FullItemPageComponent_div_0_div_1_div_1_div_4_ng_container_10_Template(rf,ctx){if(1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_16__.ynx(0),_angular_core__WEBPACK_IMPORTED_MODULE_16__.YNc(1,FullItemPageComponent_div_0_div_1_div_1_div_4_ng_container_10_tr_1_Template,7,3,"tr",17),_angular_core__WEBPACK_IMPORTED_MODULE_16__.BQk()),2&rf){const mdEntry_r11=ctx.$implicit;_angular_core__WEBPACK_IMPORTED_MODULE_16__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_16__.Q6J("ngForOf",mdEntry_r11.value)}}function FullItemPageComponent_div_0_div_1_div_1_div_4_div_16_Template(rf,ctx){if(1&rf){const _r16=_angular_core__WEBPACK_IMPORTED_MODULE_16__.EpF();_angular_core__WEBPACK_IMPORTED_MODULE_16__.TgZ(0,"div",22)(1,"div",23)(2,"button",24),_angular_core__WEBPACK_IMPORTED_MODULE_16__.NdJ("click",__name(function(){return _angular_core__WEBPACK_IMPORTED_MODULE_16__.CHM(_r16),_angular_core__WEBPACK_IMPORTED_MODULE_16__.oxw(5).back()},"FullItemPageComponent_div_0_div_1_div_1_div_4_div_16_Template_button_click_2_listener")),_angular_core__WEBPACK_IMPORTED_MODULE_16__._UZ(3,"i",25),_angular_core__WEBPACK_IMPORTED_MODULE_16__._uU(4),_angular_core__WEBPACK_IMPORTED_MODULE_16__.ALo(5,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_16__.qZA()()()}2&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_16__.xp6(4),_angular_core__WEBPACK_IMPORTED_MODULE_16__.hij(" ",_angular_core__WEBPACK_IMPORTED_MODULE_16__.lcZ(5,1,"item.page.return"),""))}function FullItemPageComponent_div_0_div_1_div_1_div_4_Template(rf,ctx){if(1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_16__.TgZ(0,"div",9)(1,"div",10),_angular_core__WEBPACK_IMPORTED_MODULE_16__._UZ(2,"ds-item-page-title-field",11),_angular_core__WEBPACK_IMPORTED_MODULE_16__.TgZ(3,"div",12),_angular_core__WEBPACK_IMPORTED_MODULE_16__._UZ(4,"ds-dso-page-edit-button",13),_angular_core__WEBPACK_IMPORTED_MODULE_16__.ALo(5,"async"),_angular_core__WEBPACK_IMPORTED_MODULE_16__.qZA()(),_angular_core__WEBPACK_IMPORTED_MODULE_16__.YNc(6,FullItemPageComponent_div_0_div_1_div_1_div_4_div_6_Template,5,8,"div",14),_angular_core__WEBPACK_IMPORTED_MODULE_16__.TgZ(7,"div",15)(8,"table",16)(9,"tbody"),_angular_core__WEBPACK_IMPORTED_MODULE_16__.YNc(10,FullItemPageComponent_div_0_div_1_div_1_div_4_ng_container_10_Template,2,1,"ng-container",17),_angular_core__WEBPACK_IMPORTED_MODULE_16__.ALo(11,"keyvalue"),_angular_core__WEBPACK_IMPORTED_MODULE_16__.ALo(12,"async"),_angular_core__WEBPACK_IMPORTED_MODULE_16__.qZA()()(),_angular_core__WEBPACK_IMPORTED_MODULE_16__._UZ(13,"ds-item-page-full-file-section",6)(14,"ds-item-page-collections",6)(15,"ds-item-versions",18),_angular_core__WEBPACK_IMPORTED_MODULE_16__.YNc(16,FullItemPageComponent_div_0_div_1_div_1_div_4_div_16_Template,6,3,"div",19),_angular_core__WEBPACK_IMPORTED_MODULE_16__.qZA()),2&rf){const item_r6=_angular_core__WEBPACK_IMPORTED_MODULE_16__.oxw().ngIf,ctx_r7=_angular_core__WEBPACK_IMPORTED_MODULE_16__.oxw(3);_angular_core__WEBPACK_IMPORTED_MODULE_16__.xp6(2),_angular_core__WEBPACK_IMPORTED_MODULE_16__.Q6J("item",item_r6),_angular_core__WEBPACK_IMPORTED_MODULE_16__.xp6(2),_angular_core__WEBPACK_IMPORTED_MODULE_16__.Q6J("pageRoute",_angular_core__WEBPACK_IMPORTED_MODULE_16__.lcZ(5,10,ctx_r7.itemPageRoute$))("dso",item_r6)("tooltipMsg","item.page.edit"),_angular_core__WEBPACK_IMPORTED_MODULE_16__.xp6(2),_angular_core__WEBPACK_IMPORTED_MODULE_16__.Q6J("ngIf",!ctx_r7.fromSubmissionObject),_angular_core__WEBPACK_IMPORTED_MODULE_16__.xp6(4),_angular_core__WEBPACK_IMPORTED_MODULE_16__.Q6J("ngForOf",_angular_core__WEBPACK_IMPORTED_MODULE_16__.lcZ(11,12,_angular_core__WEBPACK_IMPORTED_MODULE_16__.lcZ(12,14,ctx_r7.metadata$))),_angular_core__WEBPACK_IMPORTED_MODULE_16__.xp6(3),_angular_core__WEBPACK_IMPORTED_MODULE_16__.Q6J("item",item_r6),_angular_core__WEBPACK_IMPORTED_MODULE_16__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_16__.Q6J("item",item_r6),_angular_core__WEBPACK_IMPORTED_MODULE_16__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_16__.Q6J("item",item_r6),_angular_core__WEBPACK_IMPORTED_MODULE_16__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_16__.Q6J("ngIf",ctx_r7.fromSubmissionObject)}}function FullItemPageComponent_div_0_div_1_div_1_Template(rf,ctx){if(1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_16__.TgZ(0,"div"),_angular_core__WEBPACK_IMPORTED_MODULE_16__._UZ(1,"ds-item-alerts",6)(2,"ds-item-versions-notice",6)(3,"ds-view-tracker",7),_angular_core__WEBPACK_IMPORTED_MODULE_16__.YNc(4,FullItemPageComponent_div_0_div_1_div_1_div_4_Template,17,16,"div",8),_angular_core__WEBPACK_IMPORTED_MODULE_16__.ALo(5,"async"),_angular_core__WEBPACK_IMPORTED_MODULE_16__.qZA()),2&rf){const item_r6=ctx.ngIf,ctx_r5=_angular_core__WEBPACK_IMPORTED_MODULE_16__.oxw(3);_angular_core__WEBPACK_IMPORTED_MODULE_16__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_16__.Q6J("item",item_r6),_angular_core__WEBPACK_IMPORTED_MODULE_16__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_16__.Q6J("item",item_r6),_angular_core__WEBPACK_IMPORTED_MODULE_16__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_16__.Q6J("object",item_r6),_angular_core__WEBPACK_IMPORTED_MODULE_16__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_16__.Q6J("ngIf",!item_r6.isWithdrawn||_angular_core__WEBPACK_IMPORTED_MODULE_16__.lcZ(5,4,ctx_r5.isAdmin$))}}function FullItemPageComponent_div_0_div_1_Template(rf,ctx){if(1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_16__.TgZ(0,"div",4),_angular_core__WEBPACK_IMPORTED_MODULE_16__.YNc(1,FullItemPageComponent_div_0_div_1_div_1_Template,6,6,"div",5),_angular_core__WEBPACK_IMPORTED_MODULE_16__.qZA()),2&rf){const itemRD_r1=_angular_core__WEBPACK_IMPORTED_MODULE_16__.oxw().ngVar;_angular_core__WEBPACK_IMPORTED_MODULE_16__.Q6J("@fadeInOut",void 0),_angular_core__WEBPACK_IMPORTED_MODULE_16__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_16__.Q6J("ngIf",null==itemRD_r1?null:itemRD_r1.payload)}}function FullItemPageComponent_div_0_ds_error_2_Template(rf,ctx){1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_16__._UZ(0,"ds-error",26),_angular_core__WEBPACK_IMPORTED_MODULE_16__.ALo(1,"translate")),2&rf&&_angular_core__WEBPACK_IMPORTED_MODULE_16__.s9C("message",_angular_core__WEBPACK_IMPORTED_MODULE_16__.lcZ(1,1,"error.item"))}function FullItemPageComponent_div_0_ds_themed_loading_3_Template(rf,ctx){1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_16__._UZ(0,"ds-themed-loading",26),_angular_core__WEBPACK_IMPORTED_MODULE_16__.ALo(1,"translate")),2&rf&&_angular_core__WEBPACK_IMPORTED_MODULE_16__.s9C("message",_angular_core__WEBPACK_IMPORTED_MODULE_16__.lcZ(1,1,"loading.item"))}function FullItemPageComponent_div_0_Template(rf,ctx){if(1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_16__.TgZ(0,"div",1),_angular_core__WEBPACK_IMPORTED_MODULE_16__.YNc(1,FullItemPageComponent_div_0_div_1_Template,2,2,"div",2),_angular_core__WEBPACK_IMPORTED_MODULE_16__.YNc(2,FullItemPageComponent_div_0_ds_error_2_Template,2,3,"ds-error",3),_angular_core__WEBPACK_IMPORTED_MODULE_16__.YNc(3,FullItemPageComponent_div_0_ds_themed_loading_3_Template,2,3,"ds-themed-loading",3),_angular_core__WEBPACK_IMPORTED_MODULE_16__.qZA()),2&rf){const itemRD_r1=ctx.ngVar;_angular_core__WEBPACK_IMPORTED_MODULE_16__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_16__.Q6J("ngIf",null==itemRD_r1?null:itemRD_r1.hasSucceeded),_angular_core__WEBPACK_IMPORTED_MODULE_16__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_16__.Q6J("ngIf",null==itemRD_r1?null:itemRD_r1.hasFailed),_angular_core__WEBPACK_IMPORTED_MODULE_16__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_16__.Q6J("ngIf",null==itemRD_r1?null:itemRD_r1.isLoading)}}__name(FullItemPageComponent_div_0_div_1_div_1_div_4_div_6_Template,"FullItemPageComponent_div_0_div_1_div_1_div_4_div_6_Template"),__name(FullItemPageComponent_div_0_div_1_div_1_div_4_ng_container_10_tr_1_Template,"FullItemPageComponent_div_0_div_1_div_1_div_4_ng_container_10_tr_1_Template"),__name(FullItemPageComponent_div_0_div_1_div_1_div_4_ng_container_10_Template,"FullItemPageComponent_div_0_div_1_div_1_div_4_ng_container_10_Template"),__name(FullItemPageComponent_div_0_div_1_div_1_div_4_div_16_Template,"FullItemPageComponent_div_0_div_1_div_1_div_4_div_16_Template"),__name(FullItemPageComponent_div_0_div_1_div_1_div_4_Template,"FullItemPageComponent_div_0_div_1_div_1_div_4_Template"),__name(FullItemPageComponent_div_0_div_1_div_1_Template,"FullItemPageComponent_div_0_div_1_div_1_Template"),__name(FullItemPageComponent_div_0_div_1_Template,"FullItemPageComponent_div_0_div_1_Template"),__name(FullItemPageComponent_div_0_ds_error_2_Template,"FullItemPageComponent_div_0_ds_error_2_Template"),__name(FullItemPageComponent_div_0_ds_themed_loading_3_Template,"FullItemPageComponent_div_0_ds_themed_loading_3_Template"),__name(FullItemPageComponent_div_0_Template,"FullItemPageComponent_div_0_Template");class FullItemPageComponent extends _simple_item_page_component__WEBPACK_IMPORTED_MODULE_0__.ItemPageComponent{constructor(route,router,items,authService,authorizationService,_location){super(route,router,items,authService,authorizationService),this.route=route,this._location=_location,this.fromSubmissionObject=!1,this.subs=[]}ngOnInit(){super.ngOnInit(),this.metadata$=this.itemRD$.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_17__.UI)(rd=>rd.payload),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_17__.hX)(item=>(0,_shared_empty_util__WEBPACK_IMPORTED_MODULE_18__.Uh)(item)),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_17__.UI)(item=>item.metadata)),this.subs.push(this.route.data.subscribe(data=>{this.fromSubmissionObject=(0,_shared_empty_util__WEBPACK_IMPORTED_MODULE_18__.Uh)(data.wfi)||(0,_shared_empty_util__WEBPACK_IMPORTED_MODULE_18__.Uh)(data.wsi)}))}back(){this._location.back()}ngOnDestroy(){this.subs.filter(sub=>(0,_shared_empty_util__WEBPACK_IMPORTED_MODULE_18__.Uh)(sub)).forEach(sub=>sub.unsubscribe())}}__name(FullItemPageComponent,"FullItemPageComponent"),FullItemPageComponent.\u0275fac=__name(function(t){return new(t||FullItemPageComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_16__.Y36(_angular_router__WEBPACK_IMPORTED_MODULE_19__.gz),_angular_core__WEBPACK_IMPORTED_MODULE_16__.Y36(_angular_router__WEBPACK_IMPORTED_MODULE_19__.F0),_angular_core__WEBPACK_IMPORTED_MODULE_16__.Y36(_core_data_item_data_service__WEBPACK_IMPORTED_MODULE_1__.S),_angular_core__WEBPACK_IMPORTED_MODULE_16__.Y36(_core_auth_auth_service__WEBPACK_IMPORTED_MODULE_3__.e8),_angular_core__WEBPACK_IMPORTED_MODULE_16__.Y36(_core_data_feature_authorization_authorization_data_service__WEBPACK_IMPORTED_MODULE_4__._),_angular_core__WEBPACK_IMPORTED_MODULE_16__.Y36(_angular_common__WEBPACK_IMPORTED_MODULE_20__.Ye))},"FullItemPageComponent_Factory"),FullItemPageComponent.\u0275cmp=_angular_core__WEBPACK_IMPORTED_MODULE_16__.Xpm({type:FullItemPageComponent,selectors:[["ds-full-item-page"]],features:[_angular_core__WEBPACK_IMPORTED_MODULE_16__.qOj],decls:2,vars:3,consts:[["class","container",4,"ngVar"],[1,"container"],["class","item-page",4,"ngIf"],[3,"message",4,"ngIf"],[1,"item-page"],[4,"ngIf"],[3,"item"],[3,"object"],["class","full-item-info",4,"ngIf"],[1,"full-item-info"],[1,"d-flex","flex-row"],[1,"mr-auto",3,"item"],[1,"pl-2","space-children-mr"],[3,"pageRoute","dso","tooltipMsg"],["class","simple-view-link my-3",4,"ngIf"],[1,"table-responsive"],[1,"table","table-striped"],[4,"ngFor","ngForOf"],[1,"mt-2",3,"item"],["class","button-row bottom",4,"ngIf"],[1,"simple-view-link","my-3"],[1,"btn","btn-outline-primary",3,"routerLink"],[1,"button-row","bottom"],[1,"text-right"],[1,"btn","btn-outline-secondary","mr-1",3,"click"],[1,"fas","fa-arrow-left"],[3,"message"]],template:__name(function(rf,ctx){1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_16__.YNc(0,FullItemPageComponent_div_0_Template,4,3,"div",0),_angular_core__WEBPACK_IMPORTED_MODULE_16__.ALo(1,"async")),2&rf&&_angular_core__WEBPACK_IMPORTED_MODULE_16__.Q6J("ngVar",_angular_core__WEBPACK_IMPORTED_MODULE_16__.lcZ(1,1,ctx.itemRD$))},"FullItemPageComponent_Template"),directives:[_shared_utils_var_directive__WEBPACK_IMPORTED_MODULE_5__.g,_angular_common__WEBPACK_IMPORTED_MODULE_20__.O5,_shared_item_item_alerts_item_alerts_component__WEBPACK_IMPORTED_MODULE_6__.y,_shared_item_item_versions_notice_item_versions_notice_component__WEBPACK_IMPORTED_MODULE_7__.s,_statistics_angulartics_dspace_view_tracker_component__WEBPACK_IMPORTED_MODULE_8__.f,_simple_field_components_specific_field_title_item_page_title_field_component__WEBPACK_IMPORTED_MODULE_9__.k,_shared_dso_page_dso_page_edit_button_dso_page_edit_button_component__WEBPACK_IMPORTED_MODULE_10__._,_angular_router__WEBPACK_IMPORTED_MODULE_19__.yS,_angular_common__WEBPACK_IMPORTED_MODULE_20__.sg,_field_components_file_section_full_file_section_component__WEBPACK_IMPORTED_MODULE_11__.e,_field_components_collections_collections_component__WEBPACK_IMPORTED_MODULE_12__.U,_shared_item_item_versions_item_versions_component__WEBPACK_IMPORTED_MODULE_13__.h,_shared_error_error_component__WEBPACK_IMPORTED_MODULE_14__.q,_shared_loading_themed_loading_component__WEBPACK_IMPORTED_MODULE_15__.Z],pipes:[_angular_common__WEBPACK_IMPORTED_MODULE_20__.Ov,_ngx_translate_core__WEBPACK_IMPORTED_MODULE_21__.X$,_angular_common__WEBPACK_IMPORTED_MODULE_20__.Nd],styles:["[_nghost-%COMP%]   div.simple-view-link[_ngcontent-%COMP%]{text-align:center}[_nghost-%COMP%]   div.simple-view-link[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{min-width:25%}"],data:{animation:[_shared_animations_fade__WEBPACK_IMPORTED_MODULE_2__.Ic]},changeDetection:0})},43102:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{B:()=>ThemedFullItemPageComponent});var _shared_theme_support_themed_component__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(25330),_angular_core__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(5e3);function ThemedFullItemPageComponent_ng_template_0_Template(rf,ctx){}__name(ThemedFullItemPageComponent_ng_template_0_Template,"ThemedFullItemPageComponent_ng_template_0_Template");class ThemedFullItemPageComponent extends _shared_theme_support_themed_component__WEBPACK_IMPORTED_MODULE_0__.F{getComponentName(){return"FullItemPageComponent"}importThemedComponent(themeName){return __webpack_require__(6296)(`./${themeName}/app/item-page/full/full-item-page.component`)}importUnthemedComponent(){return __webpack_require__.e(1317).then(__webpack_require__.bind(__webpack_require__,21317))}}__name(ThemedFullItemPageComponent,"ThemedFullItemPageComponent"),ThemedFullItemPageComponent.\u0275fac=function(){let \u0275ThemedFullItemPageComponent_BaseFactory;return __name(function(t){return(\u0275ThemedFullItemPageComponent_BaseFactory||(\u0275ThemedFullItemPageComponent_BaseFactory=_angular_core__WEBPACK_IMPORTED_MODULE_1__.n5z(ThemedFullItemPageComponent)))(t||ThemedFullItemPageComponent)},"ThemedFullItemPageComponent_Factory")}(),ThemedFullItemPageComponent.\u0275cmp=_angular_core__WEBPACK_IMPORTED_MODULE_1__.Xpm({type:ThemedFullItemPageComponent,selectors:[["ds-themed-full-item-page"]],features:[_angular_core__WEBPACK_IMPORTED_MODULE_1__.qOj],decls:2,vars:0,consts:[["vcr",""]],template:__name(function(rf,ctx){1&rf&&_angular_core__WEBPACK_IMPORTED_MODULE_1__.YNc(0,ThemedFullItemPageComponent_ng_template_0_Template,0,0,"ng-template",null,0,_angular_core__WEBPACK_IMPORTED_MODULE_1__.W1O)},"ThemedFullItemPageComponent_Template"),encapsulation:2})},7056:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{F:()=>ItemPageAdministratorGuard});var _core_data_feature_authorization_authorization_data_service__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(19937),_item_page_resolver__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(59508),_core_data_feature_authorization_feature_authorization_guard_dso_page_single_feature_guard__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(68212),rxjs__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(76477),_core_data_feature_authorization_feature_id__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(47235),_core_auth_auth_service__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(24755),_angular_core__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(5e3),_angular_router__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(74202);class ItemPageAdministratorGuard extends _core_data_feature_authorization_feature_authorization_guard_dso_page_single_feature_guard__WEBPACK_IMPORTED_MODULE_2__.h{constructor(resolver,authorizationService,router,authService){super(resolver,authorizationService,router,authService),this.resolver=resolver,this.authorizationService=authorizationService,this.router=router,this.authService=authService}getFeatureID(next,state){return(0,rxjs__WEBPACK_IMPORTED_MODULE_5__.of)(_core_data_feature_authorization_feature_id__WEBPACK_IMPORTED_MODULE_3__.i.AdministratorOf)}}__name(ItemPageAdministratorGuard,"ItemPageAdministratorGuard"),ItemPageAdministratorGuard.\u0275fac=__name(function(t){return new(t||ItemPageAdministratorGuard)(_angular_core__WEBPACK_IMPORTED_MODULE_6__.LFG(_item_page_resolver__WEBPACK_IMPORTED_MODULE_1__.o),_angular_core__WEBPACK_IMPORTED_MODULE_6__.LFG(_core_data_feature_authorization_authorization_data_service__WEBPACK_IMPORTED_MODULE_0__._),_angular_core__WEBPACK_IMPORTED_MODULE_6__.LFG(_angular_router__WEBPACK_IMPORTED_MODULE_7__.F0),_angular_core__WEBPACK_IMPORTED_MODULE_6__.LFG(_core_auth_auth_service__WEBPACK_IMPORTED_MODULE_4__.e8))},"ItemPageAdministratorGuard_Factory"),ItemPageAdministratorGuard.\u0275prov=_angular_core__WEBPACK_IMPORTED_MODULE_6__.Yz7({token:ItemPageAdministratorGuard,factory:ItemPageAdministratorGuard.\u0275fac,providedIn:"root"})},74970:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{ItemPageModule:()=>ItemPageModule});var common=__webpack_require__(69808),shared_module=__webpack_require__(57981),item_page_component=__webpack_require__(4353),router=__webpack_require__(74202),item_page_resolver=__webpack_require__(59508),authenticated_guard=__webpack_require__(74851),dso_breadcrumbs_service=__webpack_require__(86362),item_data_service=__webpack_require__(83639),dso_breadcrumb_resolver=__webpack_require__(77284),item_resolver=__webpack_require__(27102),core=__webpack_require__(5e3);class ItemBreadcrumbResolver extends dso_breadcrumb_resolver.t{constructor(breadcrumbService,dataService){super(breadcrumbService,dataService),this.breadcrumbService=breadcrumbService,this.dataService=dataService}get followLinks(){return item_resolver.H}}__name(ItemBreadcrumbResolver,"ItemBreadcrumbResolver"),ItemBreadcrumbResolver.\u0275fac=__name(function(t){return new(t||ItemBreadcrumbResolver)(core.LFG(dso_breadcrumbs_service.B),core.LFG(item_data_service.S))},"ItemBreadcrumbResolver_Factory"),ItemBreadcrumbResolver.\u0275prov=core.Yz7({token:ItemBreadcrumbResolver,factory:ItemBreadcrumbResolver.\u0275fac,providedIn:"root"});var follow_link_config_model=__webpack_require__(93369),operators=__webpack_require__(13730),resolver_actions=__webpack_require__(8136),version_data_service=__webpack_require__(6164),ngrx_store=__webpack_require__(85094);const VERSION_PAGE_LINKS_TO_FOLLOW=[(0,follow_link_config_model.l)("item")];class VersionResolver{constructor(versionService,store,router2){this.versionService=versionService,this.store=store,this.router=router2}resolve(route,state){const versionRD$=this.versionService.findById(route.params.id,!0,!1,...VERSION_PAGE_LINKS_TO_FOLLOW).pipe((0,operators.hC)());return versionRD$.subscribe(versionRD=>{this.store.dispatch(new resolver_actions.K(state.url,versionRD.payload))}),versionRD$}}__name(VersionResolver,"VersionResolver"),VersionResolver.\u0275fac=__name(function(t){return new(t||VersionResolver)(core.LFG(version_data_service._),core.LFG(ngrx_store.yh),core.LFG(router.F0))},"VersionResolver_Factory"),VersionResolver.\u0275prov=core.Yz7({token:VersionResolver,factory:VersionResolver.\u0275fac});var link_service=__webpack_require__(94476),cjs=__webpack_require__(76477),cjs_operators=__webpack_require__(83292),uploader_options_model=__webpack_require__(82703),empty_util=__webpack_require__(24702),auth_service=__webpack_require__(24755),notifications_service=__webpack_require__(82596),bundle_model=__webpack_require__(11221),bundle_data_service=__webpack_require__(90697),uploader_component=__webpack_require__(62453),request_service=__webpack_require__(31241),app_routing_paths=__webpack_require__(50503),item_page_routing_paths=__webpack_require__(40747),environment=__webpack_require__(21540),ngx_translate_core=__webpack_require__(42466),var_directive=__webpack_require__(98605),dso_input_suggestions_component=__webpack_require__(69664),fesm2015_forms=__webpack_require__(93075);function UploadBitstreamComponent_ng_container_1_ng_container_6_div_1_Template(rf,ctx){if(1&rf&&(core.TgZ(0,"div")(1,"span",6),core._uU(2),core.ALo(3,"translate"),core.qZA(),core.TgZ(4,"span"),core._uU(5),core.qZA()()),2&rf){const item_r5=core.oxw().ngVar;core.xp6(2),core.Oqu(core.lcZ(3,2,"item.bitstreams.upload.item")),core.xp6(3),core.Oqu(item_r5.name)}}function UploadBitstreamComponent_ng_container_1_ng_container_6_Template(rf,ctx){if(1&rf&&(core.ynx(0),core.YNc(1,UploadBitstreamComponent_ng_container_1_ng_container_6_div_1_Template,6,4,"div",1),core.BQk()),2&rf){const item_r5=ctx.ngVar;core.xp6(1),core.Q6J("ngIf",item_r5)}}function UploadBitstreamComponent_ng_container_1_button_15_Template(rf,ctx){if(1&rf){const _r9=core.EpF();core.TgZ(0,"button",12),core.NdJ("click",__name(function(){return core.CHM(_r9),core.oxw(2).createBundle()},"UploadBitstreamComponent_ng_container_1_button_15_Template_button_click_0_listener")),core._UZ(1,"i",13),core._uU(2),core.ALo(3,"translate"),core.qZA()}2&rf&&(core.xp6(2),core.hij(" ",core.lcZ(3,1,"item.bitstreams.upload.bundle.new")," "))}function UploadBitstreamComponent_ng_container_1_ds_uploader_16_Template(rf,ctx){if(1&rf){const _r11=core.EpF();core.TgZ(0,"ds-uploader",14),core.NdJ("onCompleteItem",__name(function($event){return core.CHM(_r11),core.oxw(2).onCompleteItem($event)},"UploadBitstreamComponent_ng_container_1_ds_uploader_16_Template_ds_uploader_onCompleteItem_0_listener"))("onUploadError",__name(function(){return core.CHM(_r11),core.oxw(2).onUploadError()},"UploadBitstreamComponent_ng_container_1_ds_uploader_16_Template_ds_uploader_onUploadError_0_listener")),core.qZA()}if(2&rf){const ctx_r4=core.oxw(2);core.Q6J("dropMsg","item.bitstreams.upload.drop-message")("dropOverDocumentMsg","item.bitstreams.upload.drop-message")("enableDragOverDocument",!0)("uploadFilesOptions",ctx_r4.uploadFilesOptions)}}function UploadBitstreamComponent_ng_container_1_Template(rf,ctx){if(1&rf){const _r14=core.EpF();core.ynx(0),core.TgZ(1,"div",2)(2,"div",3)(3,"h2"),core._uU(4),core.ALo(5,"translate"),core.qZA(),core.YNc(6,UploadBitstreamComponent_ng_container_1_ng_container_6_Template,2,1,"ng-container",4),core.ALo(7,"async"),core.qZA(),core.TgZ(8,"div",5)(9,"label",6),core._uU(10),core.ALo(11,"translate"),core.qZA(),core.TgZ(12,"ds-dso-input-suggestions",7,8),core.NdJ("ngModelChange",__name(function($event){core.CHM(_r14);return core.oxw().selectedBundleName=$event},"UploadBitstreamComponent_ng_container_1_Template_ds_dso_input_suggestions_ngModelChange_12_listener"))("typeSuggestion",__name(function(){return core.CHM(_r14),core.oxw().bundleNameChange()},"UploadBitstreamComponent_ng_container_1_Template_ds_dso_input_suggestions_typeSuggestion_12_listener"))("clickSuggestion",__name(function($event){return core.CHM(_r14),core.oxw().onClick($event)},"UploadBitstreamComponent_ng_container_1_Template_ds_dso_input_suggestions_clickSuggestion_12_listener"))("click",__name(function(){return core.CHM(_r14),core.MAs(13).open()},"UploadBitstreamComponent_ng_container_1_Template_ds_dso_input_suggestions_click_12_listener")),core.ALo(14,"translate"),core.qZA(),core.YNc(15,UploadBitstreamComponent_ng_container_1_button_15_Template,4,3,"button",9),core.YNc(16,UploadBitstreamComponent_ng_container_1_ds_uploader_16_Template,1,4,"ds-uploader",10),core.TgZ(17,"button",11),core.NdJ("click",__name(function(){return core.CHM(_r14),core.oxw().onCancel()},"UploadBitstreamComponent_ng_container_1_Template_button_click_17_listener")),core._uU(18),core.ALo(19,"translate"),core.qZA()()(),core.BQk()}if(2&rf){const ctx_r0=core.oxw();let tmp_1_0;core.xp6(4),core.Oqu(core.lcZ(5,12,"item.bitstreams.upload.title")),core.xp6(2),core.Q6J("ngVar",null==(tmp_1_0=core.lcZ(7,14,ctx_r0.itemRD$))?null:tmp_1_0.payload),core.xp6(4),core.Oqu(core.lcZ(11,16,"item.bitstreams.upload.bundle")),core.xp6(2),core.Q6J("suggestions",ctx_r0.bundles)("placeholder",core.lcZ(14,18,"item.bitstreams.upload.bundle.placeholder"))("action",ctx_r0.getCurrentUrl())("name","bundle-select")("debounceTime",50)("ngModel",ctx_r0.selectedBundleName),core.xp6(3),core.Q6J("ngIf",!ctx_r0.selectedBundleId&&(null==ctx_r0.selectedBundleName?null:ctx_r0.selectedBundleName.length)>0),core.xp6(1),core.Q6J("ngIf",ctx_r0.selectedBundleId),core.xp6(2),core.Oqu(core.lcZ(19,20,"item.bitstreams.upload.cancel"))}}__name(UploadBitstreamComponent_ng_container_1_ng_container_6_div_1_Template,"UploadBitstreamComponent_ng_container_1_ng_container_6_div_1_Template"),__name(UploadBitstreamComponent_ng_container_1_ng_container_6_Template,"UploadBitstreamComponent_ng_container_1_ng_container_6_Template"),__name(UploadBitstreamComponent_ng_container_1_button_15_Template,"UploadBitstreamComponent_ng_container_1_button_15_Template"),__name(UploadBitstreamComponent_ng_container_1_ds_uploader_16_Template,"UploadBitstreamComponent_ng_container_1_ds_uploader_16_Template"),__name(UploadBitstreamComponent_ng_container_1_Template,"UploadBitstreamComponent_ng_container_1_Template");class UploadBitstreamComponent{constructor(route,router2,itemService,bundleService,authService,notificationsService,translate,requestService){this.route=route,this.router=router2,this.itemService=itemService,this.bundleService=bundleService,this.authService=authService,this.notificationsService=notificationsService,this.translate=translate,this.requestService=requestService,this.bundles=[],this.uploadFilesOptions=Object.assign(new uploader_options_model.n,{url:"placeholder",authToken:null,disableMultipart:!1,itemAlias:null}),this.NOTIFICATIONS_PREFIX="item.bitstreams.upload.notifications.",this.subs=[]}ngOnInit(){this.itemId=this.route.snapshot.params.id,this.entityType=this.route.snapshot.params["entity-type"],this.itemRD$=this.route.data.pipe((0,cjs_operators.UI)(data=>data.dso));const bundlesRD$=this.itemService.getBundles(this.itemId).pipe((0,operators.hC)(),(0,cjs_operators.wt)(remoteData=>{if(remoteData.hasSucceeded){if(remoteData.payload.page){this.bundles=remoteData.payload.page;for(const defaultBundle of environment.N.bundle.standardBundles){let check=!0;remoteData.payload.page.forEach(bundle=>{defaultBundle===bundle.name&&(check=!1)}),check&&this.bundles.push(Object.assign(new bundle_model.b,{_name:defaultBundle,type:"bundle"}))}}else this.bundles=environment.N.bundle.standardBundles.map(defaultBundle=>Object.assign(new bundle_model.b,{_name:defaultBundle,type:"bundle"}));return(0,cjs.of)(remoteData.payload.page)}}));this.selectedBundleId=this.route.snapshot.queryParams.bundle,(0,empty_util.UE)(this.selectedBundleId)&&(this.subs.push(this.bundleService.findById(this.selectedBundleId).pipe((0,operators.Gp)()).subscribe(bundle=>{this.selectedBundleName=bundle.name})),this.setUploadUrl()),this.subs.push(bundlesRD$.subscribe())}createBundle(){this.itemService.createBundle(this.itemId,this.selectedBundleName).pipe((0,operators.Gp)()).subscribe(bundle=>{this.selectedBundleId=bundle.id,this.notificationsService.success(this.translate.instant(this.NOTIFICATIONS_PREFIX+"bundle.created.title"),this.translate.instant(this.NOTIFICATIONS_PREFIX+"bundle.created.content")),this.setUploadUrl()})}bundleNameChange(){this.selectedBundleId=void 0;for(const bundle of this.bundles)if(this.selectedBundleName===bundle.name){this.selectedBundleId=bundle.id;break}}setUploadUrl(){this.bundleService.getBitstreamsEndpoint(this.selectedBundleId).pipe((0,cjs_operators.qn)(1)).subscribe(href=>{this.uploadFilesOptions.url=href,(0,empty_util.xb)(this.uploadFilesOptions.authToken)&&(this.uploadFilesOptions.authToken=this.authService.buildAuthHeader()),this.uploaderComponent&&(this.uploaderComponent.ngOnInit(),this.uploaderComponent.ngAfterViewInit())})}onCompleteItem(bitstream){this.bundleService.getBitstreamsEndpoint(this.selectedBundleId).pipe((0,cjs_operators.qn)(1)).subscribe(href=>{this.requestService.removeByHrefSubstring(href)});const queryParams={itemId:this.itemId,entityType:this.entityType};this.router.navigate([(0,app_routing_paths.IB)(),bitstream.id,"edit"],{queryParams})}onUploadError(){this.notificationsService.error(null,this.translate.get(this.NOTIFICATIONS_PREFIX+"upload.failed"))}onClick(bundle){this.selectedBundleId=bundle.id,this.selectedBundleName=bundle.name,bundle.id&&this.setUploadUrl()}onCancel(){this.router.navigate([(0,item_page_routing_paths.dZ)(this.entityType,this.itemId),"bitstreams"])}getCurrentUrl(){return this.router.url}ngOnDestroy(){this.subs.filter(subscription=>(0,empty_util.Uh)(subscription)).forEach(subscription=>subscription.unsubscribe())}}__name(UploadBitstreamComponent,"UploadBitstreamComponent"),UploadBitstreamComponent.\u0275fac=__name(function(t){return new(t||UploadBitstreamComponent)(core.Y36(router.gz),core.Y36(router.F0),core.Y36(item_data_service.S),core.Y36(bundle_data_service.b),core.Y36(auth_service.e8),core.Y36(notifications_service.T),core.Y36(ngx_translate_core.sK),core.Y36(request_service.s))},"UploadBitstreamComponent_Factory"),UploadBitstreamComponent.\u0275cmp=core.Xpm({type:UploadBitstreamComponent,selectors:[["ds-upload-bitstream"]],viewQuery:__name(function(rf,ctx){if(1&rf&&core.Gf(uploader_component.B,5),2&rf){let _t;core.iGM(_t=core.CRH())&&(ctx.uploaderComponent=_t.first)}},"UploadBitstreamComponent_Query"),decls:2,vars:1,consts:[[1,"container"],[4,"ngIf"],[1,"row"],[1,"col-12","mb-4"],[4,"ngVar"],[1,"col-12"],[1,"font-weight-bold"],["id","search-form","ngDefaultControl","",3,"suggestions","placeholder","action","name","debounceTime","ngModel","ngModelChange","typeSuggestion","clickSuggestion","click"],["f",""],["class","btn btn-success",3,"click",4,"ngIf"],["class","w-100",3,"dropMsg","dropOverDocumentMsg","enableDragOverDocument","uploadFilesOptions","onCompleteItem","onUploadError",4,"ngIf"],[1,"btn","btn-outline-secondary",3,"click"],[1,"btn","btn-success",3,"click"],[1,"fa","fa-plus"],[1,"w-100",3,"dropMsg","dropOverDocumentMsg","enableDragOverDocument","uploadFilesOptions","onCompleteItem","onUploadError"]],template:__name(function(rf,ctx){1&rf&&(core.TgZ(0,"div",0),core.YNc(1,UploadBitstreamComponent_ng_container_1_Template,20,22,"ng-container",1),core.qZA()),2&rf&&(core.xp6(1),core.Q6J("ngIf",ctx.bundles))},"UploadBitstreamComponent_Template"),directives:[common.O5,var_directive.g,dso_input_suggestions_component.Q,fesm2015_forms.Fj,fesm2015_forms.JJ,fesm2015_forms.On,uploader_component.B],pipes:[ngx_translate_core.X$,common.Ov],encapsulation:2});var item_page_administrator_guard=__webpack_require__(7056),themed_component=__webpack_require__(25330);function ThemedItemPageComponent_ng_template_0_Template(rf,ctx){}__name(ThemedItemPageComponent_ng_template_0_Template,"ThemedItemPageComponent_ng_template_0_Template");class ThemedItemPageComponent extends themed_component.F{getComponentName(){return"ItemPageComponent"}importThemedComponent(themeName){return __webpack_require__(66137)(`./${themeName}/app/item-page/simple/item-page.component`)}importUnthemedComponent(){return Promise.resolve().then(__webpack_require__.bind(__webpack_require__,4353))}}__name(ThemedItemPageComponent,"ThemedItemPageComponent"),ThemedItemPageComponent.\u0275fac=function(){let \u0275ThemedItemPageComponent_BaseFactory;return __name(function(t){return(\u0275ThemedItemPageComponent_BaseFactory||(\u0275ThemedItemPageComponent_BaseFactory=core.n5z(ThemedItemPageComponent)))(t||ThemedItemPageComponent)},"ThemedItemPageComponent_Factory")}(),ThemedItemPageComponent.\u0275cmp=core.Xpm({type:ThemedItemPageComponent,selectors:[["ds-themed-item-page"]],features:[core.qOj],decls:2,vars:0,consts:[["vcr",""]],template:__name(function(rf,ctx){1&rf&&core.YNc(0,ThemedItemPageComponent_ng_template_0_Template,0,0,"ng-template",null,0,core.W1O)},"ThemedItemPageComponent_Template"),encapsulation:2});var themed_full_item_page_component=__webpack_require__(43102),menu_item_type_model=__webpack_require__(58460),authorized_operators=__webpack_require__(12691);class VersionPageComponent{constructor(route,router2,versionService,authService){this.route=route,this.router=router2,this.versionService=versionService,this.authService=authService}ngOnInit(){this.versionRD$=this.route.data.pipe((0,cjs_operators.UI)(data=>data.dso),(0,authorized_operators.Gh)(this.router,this.authService)),this.versionRD$.pipe((0,operators.Gp)(),(0,cjs_operators.wt)(version=>version.item),(0,authorized_operators.Gh)(this.router,this.authService),(0,operators.hC)()).subscribe(itemRD=>{if(itemRD.hasNoContent)this.router.navigateByUrl((0,app_routing_paths.ro)(),{skipLocationChange:!0});else{const itemUrl=(0,item_page_routing_paths.Tt)(itemRD.payload);this.router.navigateByUrl(itemUrl)}})}}__name(VersionPageComponent,"VersionPageComponent"),VersionPageComponent.\u0275fac=__name(function(t){return new(t||VersionPageComponent)(core.Y36(router.gz),core.Y36(router.F0),core.Y36(version_data_service._),core.Y36(auth_service.e8))},"VersionPageComponent_Factory"),VersionPageComponent.\u0275cmp=core.Xpm({type:VersionPageComponent,selectors:[["ds-version-page"]],decls:0,vars:0,template:__name(function(rf,ctx){},"VersionPageComponent_Template"),styles:[""]});var bitstream_request_a_copy_page_component=__webpack_require__(89414),orcid_auth_service=__webpack_require__(69100),loading_component=__webpack_require__(45863),alert_component=__webpack_require__(38605),window_service=__webpack_require__(13465),item_model=__webpack_require__(33609);function OrcidAuthComponent_ng_container_4_Template(rf,ctx){1&rf&&core.GkF(0)}function OrcidAuthComponent_ng_template_6_div_2_li_8_Template(rf,ctx){if(1&rf&&(core.TgZ(0,"li",19),core._uU(1),core.ALo(2,"translate"),core.qZA()),2&rf){const auth_r11=ctx.$implicit,ctx_r10=core.oxw(3);core.xp6(1),core.hij(" ",core.lcZ(2,1,ctx_r10.getAuthorizationDescription(auth_r11))," ")}}function OrcidAuthComponent_ng_template_6_div_2_Template(rf,ctx){if(1&rf&&(core.TgZ(0,"div",16)(1,"div",8)(2,"div",9),core._uU(3),core.ALo(4,"translate"),core.qZA(),core.TgZ(5,"div",10)(6,"div",17)(7,"ul"),core.YNc(8,OrcidAuthComponent_ng_template_6_div_2_li_8_Template,3,3,"li",18),core.ALo(9,"async"),core.qZA()()()()()),2&rf){const ctx_r5=core.oxw(2);core.xp6(3),core.Oqu(core.lcZ(4,2,"person.page.orcid.granted-authorizations")),core.xp6(5),core.Q6J("ngForOf",core.lcZ(9,4,ctx_r5.getOrcidAuthorizations()))}}function OrcidAuthComponent_ng_template_6_ds_alert_11_Template(rf,ctx){1&rf&&(core.TgZ(0,"ds-alert",20),core._uU(1),core.ALo(2,"translate"),core.qZA()),2&rf&&(core.Q6J("type","alert-success"),core.xp6(1),core.hij(" ",core.lcZ(2,2,"person.page.orcid.no-missing-authorizations-message")," "))}function OrcidAuthComponent_ng_template_6_ds_alert_13_li_4_Template(rf,ctx){if(1&rf&&(core.TgZ(0,"li",23),core._uU(1),core.ALo(2,"translate"),core.qZA()),2&rf){const auth_r13=ctx.$implicit,ctx_r12=core.oxw(3);core.xp6(1),core.hij(" ",core.lcZ(2,1,ctx_r12.getAuthorizationDescription(auth_r13))," ")}}function OrcidAuthComponent_ng_template_6_ds_alert_13_Template(rf,ctx){if(1&rf&&(core.TgZ(0,"ds-alert",21),core._uU(1),core.ALo(2,"translate"),core.TgZ(3,"ul"),core.YNc(4,OrcidAuthComponent_ng_template_6_ds_alert_13_li_4_Template,3,3,"li",22),core.ALo(5,"async"),core.qZA()()),2&rf){const ctx_r7=core.oxw(2);core.Q6J("type","alert-warning"),core.xp6(1),core.hij(" ",core.lcZ(2,3,"person.page.orcid.missing-authorizations-message")," "),core.xp6(3),core.Q6J("ngForOf",core.lcZ(5,5,ctx_r7.getMissingOrcidAuthorizations()))}}function OrcidAuthComponent_ng_template_6_ds_alert_15_Template(rf,ctx){1&rf&&(core.TgZ(0,"ds-alert",24),core._uU(1),core.ALo(2,"translate"),core.qZA()),2&rf&&(core.Q6J("type","alert-warning"),core.xp6(1),core.hij(" ",core.lcZ(2,2,"person.page.orcid.remove-orcid-message")," "))}function OrcidAuthComponent_ng_template_6_div_18_span_4_Template(rf,ctx){1&rf&&(core.TgZ(0,"span"),core._UZ(1,"i",30),core._uU(2),core.ALo(3,"translate"),core.qZA()),2&rf&&(core.xp6(2),core.hij(" ",core.lcZ(3,1,"person.page.orcid.unlink"),""))}function OrcidAuthComponent_ng_template_6_div_18_span_6_Template(rf,ctx){1&rf&&(core.TgZ(0,"span"),core._UZ(1,"i",31),core._uU(2),core.ALo(3,"translate"),core.qZA()),2&rf&&(core.xp6(2),core.hij(" ",core.lcZ(3,1,"person.page.orcid.unlink.processing"),""))}function OrcidAuthComponent_ng_template_6_div_18_button_8_Template(rf,ctx){if(1&rf){const _r18=core.EpF();core.TgZ(0,"button",32),core.NdJ("click",__name(function(){return core.CHM(_r18),core.oxw(3).linkOrcid()},"OrcidAuthComponent_ng_template_6_div_18_button_8_Template_button_click_0_listener")),core.TgZ(1,"span"),core._UZ(2,"i",33),core._uU(3),core.ALo(4,"translate"),core.qZA()()}2&rf&&(core.xp6(3),core.hij(" ",core.lcZ(4,1,"person.page.orcid.grant-authorizations"),""))}function OrcidAuthComponent_ng_template_6_div_18_Template(rf,ctx){if(1&rf){const _r20=core.EpF();core.TgZ(0,"div",25)(1,"div",26)(2,"button",27),core.NdJ("click",__name(function(){return core.CHM(_r20),core.oxw(2).unlinkOrcid()},"OrcidAuthComponent_ng_template_6_div_18_Template_button_click_2_listener")),core.ALo(3,"async"),core.YNc(4,OrcidAuthComponent_ng_template_6_div_18_span_4_Template,4,3,"span",28),core.ALo(5,"async"),core.YNc(6,OrcidAuthComponent_ng_template_6_div_18_span_6_Template,4,3,"span",28),core.ALo(7,"async"),core.qZA(),core.YNc(8,OrcidAuthComponent_ng_template_6_div_18_button_8_Template,5,3,"button",29),core.ALo(9,"async"),core.qZA()()}if(2&rf){const ctx_r9=core.oxw(2);core.xp6(2),core.Q6J("disabled",core.lcZ(3,4,ctx_r9.unlinkProcessing)),core.xp6(2),core.Q6J("ngIf",!core.lcZ(5,6,ctx_r9.unlinkProcessing)),core.xp6(2),core.Q6J("ngIf",core.lcZ(7,8,ctx_r9.unlinkProcessing)),core.xp6(2),core.Q6J("ngIf",core.lcZ(9,10,ctx_r9.hasMissingOrcidAuthorizations()))}}function OrcidAuthComponent_ng_template_6_Template(rf,ctx){if(1&rf&&(core.TgZ(0,"div",4)(1,"div",5),core.YNc(2,OrcidAuthComponent_ng_template_6_div_2_Template,10,6,"div",6),core.ALo(3,"async"),core.TgZ(4,"div",7)(5,"div",8)(6,"div",9),core._uU(7),core.ALo(8,"translate"),core.qZA(),core.TgZ(9,"div",10)(10,"div",11),core.YNc(11,OrcidAuthComponent_ng_template_6_ds_alert_11_Template,3,4,"ds-alert",12),core.ALo(12,"async"),core.YNc(13,OrcidAuthComponent_ng_template_6_ds_alert_13_Template,6,7,"ds-alert",13),core.ALo(14,"async"),core.qZA()()()()(),core.YNc(15,OrcidAuthComponent_ng_template_6_ds_alert_15_Template,3,4,"ds-alert",14),core.ALo(16,"async"),core.ALo(17,"async"),core.YNc(18,OrcidAuthComponent_ng_template_6_div_18_Template,10,12,"div",15),core.ALo(19,"async"),core.qZA()),2&rf){const ctx_r2=core.oxw();core.xp6(2),core.Q6J("ngIf",core.lcZ(3,6,ctx_r2.hasOrcidAuthorizations())),core.xp6(5),core.Oqu(core.lcZ(8,8,"person.page.orcid.missing-authorizations")),core.xp6(4),core.Q6J("ngIf",!core.lcZ(12,10,ctx_r2.hasMissingOrcidAuthorizations())),core.xp6(2),core.Q6J("ngIf",core.lcZ(14,12,ctx_r2.hasMissingOrcidAuthorizations())),core.xp6(2),core.Q6J("ngIf",core.lcZ(16,14,ctx_r2.onlyAdminCanDisconnectProfileFromOrcid())&&!core.lcZ(17,16,ctx_r2.ownerCanDisconnectProfileFromOrcid())),core.xp6(3),core.Q6J("ngIf",core.lcZ(19,18,ctx_r2.ownerCanDisconnectProfileFromOrcid()))}}function OrcidAuthComponent_ng_template_8_Template(rf,ctx){if(1&rf){const _r22=core.EpF();core.TgZ(0,"div",34)(1,"div",5)(2,"div",35),core._UZ(3,"img",36),core.qZA(),core.TgZ(4,"div",26)(5,"ds-alert",37),core._uU(6),core.ALo(7,"async"),core.qZA()()(),core.TgZ(8,"div",5)(9,"div",26)(10,"button",38),core.NdJ("click",__name(function(){return core.CHM(_r22),core.oxw().linkOrcid()},"OrcidAuthComponent_ng_template_8_Template_button_click_10_listener")),core._UZ(11,"i",39),core._uU(12),core.ALo(13,"translate"),core.qZA()()()()}if(2&rf){const ctx_r4=core.oxw();core.xp6(5),core.Q6J("type","alert-info"),core.xp6(1),core.Oqu(core.lcZ(7,3,ctx_r4.getOrcidNotLinkedMessage())),core.xp6(6),core.hij(" ",core.lcZ(13,5,"person.page.orcid.link")," ")}}__name(OrcidAuthComponent_ng_container_4_Template,"OrcidAuthComponent_ng_container_4_Template"),__name(OrcidAuthComponent_ng_template_6_div_2_li_8_Template,"OrcidAuthComponent_ng_template_6_div_2_li_8_Template"),__name(OrcidAuthComponent_ng_template_6_div_2_Template,"OrcidAuthComponent_ng_template_6_div_2_Template"),__name(OrcidAuthComponent_ng_template_6_ds_alert_11_Template,"OrcidAuthComponent_ng_template_6_ds_alert_11_Template"),__name(OrcidAuthComponent_ng_template_6_ds_alert_13_li_4_Template,"OrcidAuthComponent_ng_template_6_ds_alert_13_li_4_Template"),__name(OrcidAuthComponent_ng_template_6_ds_alert_13_Template,"OrcidAuthComponent_ng_template_6_ds_alert_13_Template"),__name(OrcidAuthComponent_ng_template_6_ds_alert_15_Template,"OrcidAuthComponent_ng_template_6_ds_alert_15_Template"),__name(OrcidAuthComponent_ng_template_6_div_18_span_4_Template,"OrcidAuthComponent_ng_template_6_div_18_span_4_Template"),__name(OrcidAuthComponent_ng_template_6_div_18_span_6_Template,"OrcidAuthComponent_ng_template_6_div_18_span_6_Template"),__name(OrcidAuthComponent_ng_template_6_div_18_button_8_Template,"OrcidAuthComponent_ng_template_6_div_18_button_8_Template"),__name(OrcidAuthComponent_ng_template_6_div_18_Template,"OrcidAuthComponent_ng_template_6_div_18_Template"),__name(OrcidAuthComponent_ng_template_6_Template,"OrcidAuthComponent_ng_template_6_Template"),__name(OrcidAuthComponent_ng_template_8_Template,"OrcidAuthComponent_ng_template_8_Template");class OrcidAuthComponent{constructor(orcidAuthService,translateService,notificationsService,_window){this.orcidAuthService=orcidAuthService,this.translateService=translateService,this.notificationsService=notificationsService,this._window=_window,this.profileAuthorizationScopes=new cjs.BehaviorSubject([]),this.missingAuthorizationScopes=new cjs.BehaviorSubject([]),this.orcidAuthorizationScopes=new cjs.BehaviorSubject([]),this.unlinkProcessing=new cjs.BehaviorSubject(!1),this.isOrcidLinked$=new cjs.BehaviorSubject(!1),this.onlyAdminCanDisconnectProfileFromOrcid$=new cjs.BehaviorSubject(!1),this.ownerCanDisconnectProfileFromOrcid$=new cjs.BehaviorSubject(!1),this.unlink=new core.vpe}ngOnInit(){this.orcidAuthService.getOrcidAuthorizationScopes().subscribe(scopes=>{this.orcidAuthorizationScopes.next(scopes),this.initOrcidAuthSettings()})}ngOnChanges(changes){!changes.item.isFirstChange()&&changes.item.currentValue!==changes.item.previousValue&&this.initOrcidAuthSettings()}hasOrcidAuthorizations(){return this.profileAuthorizationScopes.asObservable().pipe((0,cjs_operators.UI)(scopes=>scopes.length>0))}getOrcidAuthorizations(){return this.profileAuthorizationScopes.asObservable()}hasMissingOrcidAuthorizations(){return this.missingAuthorizationScopes.asObservable().pipe((0,cjs_operators.UI)(scopes=>scopes.length>0))}getMissingOrcidAuthorizations(){return this.profileAuthorizationScopes.asObservable()}isLinkedToOrcid(){return this.isOrcidLinked$.asObservable()}getOrcidNotLinkedMessage(){const orcid=this.item.firstMetadataValue("person.identifier.orcid");return orcid?this.translateService.get("person.page.orcid.orcid-not-linked-message",{orcid}):this.translateService.get("person.page.orcid.no-orcid-message")}getAuthorizationDescription(scope){return"person.page.orcid.scope."+scope.substring(1).replace("/","-")}onlyAdminCanDisconnectProfileFromOrcid(){return this.onlyAdminCanDisconnectProfileFromOrcid$.asObservable()}ownerCanDisconnectProfileFromOrcid(){return this.ownerCanDisconnectProfileFromOrcid$.asObservable()}linkOrcid(){this.orcidAuthService.getOrcidAuthorizeUrl(this.item).subscribe(authorizeUrl=>{this._window.nativeWindow.location.href=authorizeUrl})}unlinkOrcid(){this.unlinkProcessing.next(!0),this.orcidAuthService.unlinkOrcidByItem(this.item).pipe((0,operators.hC)()).subscribe(remoteData=>{this.unlinkProcessing.next(!1),remoteData.isSuccess?(this.notificationsService.success(this.translateService.get("person.page.orcid.unlink.success")),this.unlink.emit()):this.notificationsService.error(this.translateService.get("person.page.orcid.unlink.error"))})}initOrcidAuthSettings(){this.setOrcidAuthorizationsFromItem(),this.setMissingOrcidAuthorizations(),this.orcidAuthService.onlyAdminCanDisconnectProfileFromOrcid().subscribe(result=>{this.onlyAdminCanDisconnectProfileFromOrcid$.next(result)}),this.orcidAuthService.ownerCanDisconnectProfileFromOrcid().subscribe(result=>{this.ownerCanDisconnectProfileFromOrcid$.next(result)}),this.isOrcidLinked$.next(this.orcidAuthService.isLinkedToOrcid(this.item))}setMissingOrcidAuthorizations(){const profileScopes=this.orcidAuthService.getOrcidAuthorizationScopesByItem(this.item),missingScopes=this.orcidAuthorizationScopes.value.filter(scope=>!profileScopes.includes(scope));this.missingAuthorizationScopes.next(missingScopes)}setOrcidAuthorizationsFromItem(){this.profileAuthorizationScopes.next(this.orcidAuthService.getOrcidAuthorizationScopesByItem(this.item))}}__name(OrcidAuthComponent,"OrcidAuthComponent"),OrcidAuthComponent.\u0275fac=__name(function(t){return new(t||OrcidAuthComponent)(core.Y36(orcid_auth_service.m),core.Y36(ngx_translate_core.sK),core.Y36(notifications_service.T),core.Y36(window_service.DC))},"OrcidAuthComponent_Factory"),OrcidAuthComponent.\u0275cmp=core.Xpm({type:OrcidAuthComponent,selectors:[["ds-orcid-auth"]],inputs:{item:"item"},outputs:{unlink:"unlink"},features:[core.TTD],decls:10,vars:8,consts:[[1,"container","mb-5"],[4,"ngIf","ngIfThen","ngIfElse"],["orcidLinked",""],["orcidNotLinked",""],["data-test","orcidLinked"],[1,"row"],["class","col-sm-6 mb-3","data-test","hasOrcidAuthorizations",4,"ngIf"],[1,"col-sm-6","mb-3"],[1,"card","h-100"],[1,"card-header"],[1,"card-body"],[1,"container"],["data-test","noMissingOrcidAuthorizations",3,"type",4,"ngIf"],["data-test","missingOrcidAuthorizations",3,"type",4,"ngIf"],["data-test","unlinkOnlyAdmin",3,"type",4,"ngIf"],["class","row","data-test","unlinkOwner",4,"ngIf"],["data-test","hasOrcidAuthorizations",1,"col-sm-6","mb-3"],[1,"container","p-0"],["data-test","orcidAuthorization",4,"ngFor","ngForOf"],["data-test","orcidAuthorization"],["data-test","noMissingOrcidAuthorizations",3,"type"],["data-test","missingOrcidAuthorizations",3,"type"],["data-test","missingOrcidAuthorization",4,"ngFor","ngForOf"],["data-test","missingOrcidAuthorization"],["data-test","unlinkOnlyAdmin",3,"type"],["data-test","unlinkOwner",1,"row"],[1,"col"],["type","submit",1,"btn","btn-danger","float-right",3,"disabled","click"],[4,"ngIf"],["type","submit","class","btn btn-primary float-right",3,"click",4,"ngIf"],[1,"fas","fa-unlink"],[1,"fas","fa-circle-notch","fa-spin"],["type","submit",1,"btn","btn-primary","float-right",3,"click"],[1,"fas","fa-check"],["data-test","orcidNotLinked"],[1,"col-2"],["alt","orcid-logo","src","../../../../assets/images/orcid.logo.icon.svg"],[3,"type"],[1,"btn","btn-primary","float-right",3,"click"],[1,"fas","fa-link"]],template:__name(function(rf,ctx){if(1&rf&&(core.TgZ(0,"div",0)(1,"h2"),core._uU(2),core.ALo(3,"translate"),core.qZA(),core.YNc(4,OrcidAuthComponent_ng_container_4_Template,1,0,"ng-container",1),core.ALo(5,"async"),core.qZA(),core.YNc(6,OrcidAuthComponent_ng_template_6_Template,20,20,"ng-template",null,2,core.W1O),core.YNc(8,OrcidAuthComponent_ng_template_8_Template,14,7,"ng-template",null,3,core.W1O)),2&rf){const _r1=core.MAs(7),_r3=core.MAs(9);core.xp6(2),core.Oqu(core.lcZ(3,4,"person.orcid.registry.auth")),core.xp6(2),core.Q6J("ngIf",core.lcZ(5,6,ctx.isLinkedToOrcid()))("ngIfThen",_r1)("ngIfElse",_r3)}},"OrcidAuthComponent_Template"),directives:[common.O5,common.sg,alert_component.w],pipes:[ngx_translate_core.X$,common.Ov],styles:[""]});var researcher_profile_data_service=__webpack_require__(96577);function OrcidSyncSettingsComponent_option_23_Template(rf,ctx){if(1&rf&&(core.TgZ(0,"option",24),core._uU(1),core.ALo(2,"translate"),core.qZA()),2&rf){const syncMode_r5=ctx.$implicit;core.Q6J("value",syncMode_r5.value),core.xp6(1),core.Oqu(core.lcZ(2,2,syncMode_r5.label))}}function OrcidSyncSettingsComponent_div_37_Template(rf,ctx){if(1&rf){const _r8=core.EpF();core.TgZ(0,"div",25)(1,"input",26),core.NdJ("ngModelChange",__name(function($event){core.CHM(_r8);return core.oxw().currentSyncPublications=$event},"OrcidSyncSettingsComponent_div_37_Template_input_ngModelChange_1_listener")),core.qZA(),core.TgZ(2,"label",27),core._uU(3),core.ALo(4,"translate"),core.qZA()()}if(2&rf){const option_r6=ctx.$implicit,ctx_r2=core.oxw();core.xp6(1),core.MGl("id","publicationOption_",option_r6.value,""),core.Q6J("ngModel",ctx_r2.currentSyncPublications)("value",option_r6.value),core.xp6(1),core.MGl("for","publicationOption_",option_r6.value,""),core.xp6(1),core.Oqu(core.lcZ(4,5,option_r6.label))}}function OrcidSyncSettingsComponent_div_50_Template(rf,ctx){if(1&rf){const _r11=core.EpF();core.TgZ(0,"div",25)(1,"input",28),core.NdJ("ngModelChange",__name(function($event){core.CHM(_r11);return core.oxw().currentSyncFunding=$event},"OrcidSyncSettingsComponent_div_50_Template_input_ngModelChange_1_listener")),core.qZA(),core.TgZ(2,"label",27),core._uU(3),core.ALo(4,"translate"),core.qZA()()}if(2&rf){const option_r9=ctx.$implicit,ctx_r3=core.oxw();core.xp6(1),core.MGl("id","fundingOption_",option_r9.value,""),core.Q6J("ngModel",ctx_r3.currentSyncFunding)("value",option_r9.value),core.xp6(1),core.MGl("for","fundingOption_",option_r9.value,""),core.xp6(1),core.Oqu(core.lcZ(4,5,option_r9.label))}}function OrcidSyncSettingsComponent_div_63_Template(rf,ctx){if(1&rf){const _r14=core.EpF();core.TgZ(0,"div",25)(1,"input",29),core.NdJ("ngModelChange",__name(function($event){return core.CHM(_r14).$implicit.checked=$event},"OrcidSyncSettingsComponent_div_63_Template_input_ngModelChange_1_listener")),core.qZA(),core.TgZ(2,"label",27),core._uU(3),core.ALo(4,"translate"),core.qZA()()}if(2&rf){const option_r12=ctx.$implicit;core.xp6(1),core.MGl("name","syncProfile_",option_r12.value,"")("id","profileOption_",option_r12.value,""),core.Q6J("ngModel",option_r12.checked)("value",option_r12.value),core.xp6(1),core.MGl("for","profileOption_",option_r12.value,""),core.xp6(1),core.Oqu(core.lcZ(4,6,option_r12.label))}}__name(OrcidSyncSettingsComponent_option_23_Template,"OrcidSyncSettingsComponent_option_23_Template"),__name(OrcidSyncSettingsComponent_div_37_Template,"OrcidSyncSettingsComponent_div_37_Template"),__name(OrcidSyncSettingsComponent_div_50_Template,"OrcidSyncSettingsComponent_div_50_Template"),__name(OrcidSyncSettingsComponent_div_63_Template,"OrcidSyncSettingsComponent_div_63_Template");class OrcidSyncSettingsComponent{constructor(researcherProfileService,notificationsService,translateService){this.researcherProfileService=researcherProfileService,this.notificationsService=notificationsService,this.translateService=translateService,this.messagePrefix="person.page.orcid",this.settingsUpdated=new core.vpe}ngOnInit(){this.syncModes=[{label:this.messagePrefix+".synchronization-mode.batch",value:"BATCH"},{label:this.messagePrefix+".synchronization-mode.manual",value:"MANUAL"}],this.syncPublicationOptions=["DISABLED","ALL"].map(value=>({label:this.messagePrefix+".sync-publications."+value.toLowerCase(),value})),this.syncFundingOptions=["DISABLED","ALL"].map(value=>({label:this.messagePrefix+".sync-fundings."+value.toLowerCase(),value}));const syncProfilePreferences=this.item.allMetadataValues("dspace.orcid.sync-profile");this.syncProfileOptions=["BIOGRAPHICAL","IDENTIFIERS"].map(value=>({label:this.messagePrefix+".sync-profile."+value.toLowerCase(),value,checked:syncProfilePreferences.includes(value)})),this.currentSyncMode=this.getCurrentPreference("dspace.orcid.sync-mode",["BATCH","MANUAL"],"MANUAL"),this.currentSyncPublications=this.getCurrentPreference("dspace.orcid.sync-publications",["DISABLED","ALL"],"DISABLED"),this.currentSyncFunding=this.getCurrentPreference("dspace.orcid.sync-fundings",["DISABLED","ALL"],"DISABLED")}onSubmit(form){const operations=[];this.fillOperationsFor(operations,"/orcid/mode",form.value.syncMode),this.fillOperationsFor(operations,"/orcid/publications",form.value.syncPublications),this.fillOperationsFor(operations,"/orcid/fundings",form.value.syncFundings);const syncProfileValue=this.syncProfileOptions.map(syncProfileOption=>syncProfileOption.value).filter(value=>form.value["syncProfile_"+value]).join(",");this.fillOperationsFor(operations,"/orcid/profile",syncProfileValue),0!==operations.length&&this.researcherProfileService.findByRelatedItem(this.item).pipe((0,operators.hC)(),(0,cjs_operators.wt)(profileRD=>profileRD.hasSucceeded?this.researcherProfileService.patch(profileRD.payload,operations).pipe((0,operators.hC)()):(0,cjs.of)(profileRD))).subscribe(remoteData=>{remoteData.isSuccess?(this.notificationsService.success(this.translateService.get(this.messagePrefix+".synchronization-settings-update.success")),this.settingsUpdated.emit()):this.notificationsService.error(this.translateService.get(this.messagePrefix+".synchronization-settings-update.error"))})}getCurrentPreference(metadataField,allowedValues,defaultValue){const currentPreference=this.item.firstMetadataValue(metadataField);return currentPreference&&allowedValues.includes(currentPreference)?currentPreference:defaultValue}fillOperationsFor(operations,path,currentValue){operations.push({path,op:"replace",value:currentValue})}}__name(OrcidSyncSettingsComponent,"OrcidSyncSettingsComponent"),OrcidSyncSettingsComponent.\u0275fac=__name(function(t){return new(t||OrcidSyncSettingsComponent)(core.Y36(researcher_profile_data_service.E),core.Y36(notifications_service.T),core.Y36(ngx_translate_core.sK))},"OrcidSyncSettingsComponent_Factory"),OrcidSyncSettingsComponent.\u0275cmp=core.Xpm({type:OrcidSyncSettingsComponent,selectors:[["ds-orcid-sync-setting"]],inputs:{item:"item"},outputs:{settingsUpdated:"settingsUpdated"},decls:70,vars:42,consts:[[1,"container","mb-5"],[3,"ngSubmit"],["f","ngForm"],[1,"row","mb-3"],[1,"col-md"],["data-test","sync-mode",1,"card"],[1,"card-header"],[1,"card-body"],[1,"container"],[1,"row"],[3,"type"],[1,"form-group","row"],["for","syncMode"],["name","syncMode","id","syncMode","required","",1,"form-control",3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],[1,"col-md","mb-3"],["data-test","sync-mode-publication",1,"card","h-100"],[1,"form-group"],["class","row form-check",4,"ngFor","ngForOf"],["data-test","sync-mode-funding",1,"card","h-100"],["data-test","profile-preferences",1,"card","h-100"],[1,"col"],["type","submit",1,"btn","btn-primary","float-right"],[1,"fas","fa-edit"],[3,"value"],[1,"row","form-check"],["type","radio","name","syncPublications","required","",3,"ngModel","id","value","ngModelChange"],[1,"ml-2",3,"for"],["type","radio","name","syncFundings","required","",3,"ngModel","id","value","ngModelChange"],["type","checkbox",3,"ngModel","name","id","value","ngModelChange"]],template:__name(function(rf,ctx){if(1&rf){const _r15=core.EpF();core.TgZ(0,"div",0)(1,"h2"),core._uU(2),core.ALo(3,"translate"),core.qZA(),core.TgZ(4,"form",1,2),core.NdJ("ngSubmit",__name(function(){core.CHM(_r15);const _r0=core.MAs(5);return ctx.onSubmit(_r0.form)},"OrcidSyncSettingsComponent_Template_form_ngSubmit_4_listener")),core.TgZ(6,"div",3)(7,"div",4)(8,"div",5)(9,"div",6),core._uU(10),core.ALo(11,"translate"),core.qZA(),core.TgZ(12,"div",7)(13,"div",8)(14,"div",9)(15,"ds-alert",10),core._uU(16),core.ALo(17,"translate"),core.qZA()(),core.TgZ(18,"div",11)(19,"label",12),core._uU(20),core.ALo(21,"translate"),core.qZA(),core.TgZ(22,"select",13),core.NdJ("ngModelChange",__name(function($event){return ctx.currentSyncMode=$event},"OrcidSyncSettingsComponent_Template_select_ngModelChange_22_listener")),core.YNc(23,OrcidSyncSettingsComponent_option_23_Template,3,4,"option",14),core.qZA()()()()()()(),core.TgZ(24,"div",9)(25,"div",15)(26,"div",16)(27,"div",6),core._uU(28),core.ALo(29,"translate"),core.qZA(),core.TgZ(30,"div",7)(31,"div",8)(32,"div",9)(33,"ds-alert",10),core._uU(34),core.ALo(35,"translate"),core.qZA()(),core.TgZ(36,"div",17),core.YNc(37,OrcidSyncSettingsComponent_div_37_Template,5,7,"div",18),core.qZA()()()()(),core.TgZ(38,"div",15)(39,"div",19)(40,"div",6),core._uU(41),core.ALo(42,"translate"),core.qZA(),core.TgZ(43,"div",7)(44,"div",8)(45,"div",9)(46,"ds-alert",10),core._uU(47),core.ALo(48,"translate"),core.qZA()(),core.TgZ(49,"div",17),core.YNc(50,OrcidSyncSettingsComponent_div_50_Template,5,7,"div",18),core.qZA()()()()(),core.TgZ(51,"div",15)(52,"div",20)(53,"div",6),core._uU(54),core.ALo(55,"translate"),core.qZA(),core.TgZ(56,"div",7)(57,"div",8)(58,"div",9)(59,"ds-alert",10),core._uU(60),core.ALo(61,"translate"),core.qZA()(),core.TgZ(62,"div",17),core.YNc(63,OrcidSyncSettingsComponent_div_63_Template,5,8,"div",18),core.qZA()()()()()(),core.TgZ(64,"div",9)(65,"div",21)(66,"button",22),core._UZ(67,"i",23),core._uU(68),core.ALo(69,"translate"),core.qZA()()()()()}2&rf&&(core.xp6(2),core.Oqu(core.lcZ(3,20,"person.orcid.sync.setting")),core.xp6(8),core.Oqu(core.lcZ(11,22,"person.page.orcid.synchronization-mode")),core.xp6(5),core.Q6J("type","alert-info"),core.xp6(1),core.hij(" ",core.lcZ(17,24,"person.page.orcid.synchronization-mode-message")," "),core.xp6(4),core.Oqu(core.lcZ(21,26,"person.page.orcid.synchronization-mode.label")),core.xp6(2),core.Q6J("ngModel",ctx.currentSyncMode),core.xp6(1),core.Q6J("ngForOf",ctx.syncModes),core.xp6(5),core.Oqu(core.lcZ(29,28,"person.page.orcid.publications-preferences")),core.xp6(5),core.Q6J("type","alert-info"),core.xp6(1),core.hij(" ",core.lcZ(35,30,"person.page.orcid.synchronization-mode-publication-message")," "),core.xp6(3),core.Q6J("ngForOf",ctx.syncPublicationOptions),core.xp6(4),core.Oqu(core.lcZ(42,32,"person.page.orcid.funding-preferences")),core.xp6(5),core.Q6J("type","alert-info"),core.xp6(1),core.hij(" ",core.lcZ(48,34,"person.page.orcid.synchronization-mode-funding-message")," "),core.xp6(3),core.Q6J("ngForOf",ctx.syncFundingOptions),core.xp6(4),core.Oqu(core.lcZ(55,36,"person.page.orcid.profile-preferences")),core.xp6(5),core.Q6J("type","alert-info"),core.xp6(1),core.hij(" ",core.lcZ(61,38,"person.page.orcid.synchronization-mode-profile-message")," "),core.xp6(3),core.Q6J("ngForOf",ctx.syncProfileOptions),core.xp6(5),core.hij(" ",core.lcZ(69,40,"person.page.orcid.save.preference.changes")," "))},"OrcidSyncSettingsComponent_Template"),directives:[fesm2015_forms._Y,fesm2015_forms.JL,fesm2015_forms.F,alert_component.w,fesm2015_forms.EJ,fesm2015_forms.Q7,fesm2015_forms.JJ,fesm2015_forms.On,common.sg,fesm2015_forms.YN,fesm2015_forms.Kr,fesm2015_forms._,fesm2015_forms.Fj,fesm2015_forms.Wl],pipes:[ngx_translate_core.X$],styles:[""]});var orcid_history_data_service=__webpack_require__(71537),orcid_queue_data_service=__webpack_require__(12486),pagination_service=__webpack_require__(77467),pagination_component_options_model=__webpack_require__(26638),aletr_type=__webpack_require__(74711),pagination_component=__webpack_require__(62697),ng_bootstrap=__webpack_require__(13707);function OrcidQueueComponent_ds_loading_1_Template(rf,ctx){1&rf&&core._UZ(0,"ds-loading")}function OrcidQueueComponent_ds_alert_7_Template(rf,ctx){if(1&rf&&(core.TgZ(0,"ds-alert",4),core._uU(1),core.ALo(2,"translate"),core.qZA()),2&rf){const ctx_r1=core.oxw();core.Q6J("type",ctx_r1.AlertTypeEnum.Info),core.xp6(1),core.hij(" ",core.lcZ(2,2,"person.page.orcid.sync-queue.empty-message")," ")}}function OrcidQueueComponent_ds_pagination_10_tr_16_Template(rf,ctx){if(1&rf){const _r6=core.EpF();core.TgZ(0,"tr",10)(1,"td",11),core._UZ(2,"i",12),core.ALo(3,"translate"),core.qZA(),core.TgZ(4,"td",8),core._uU(5),core.qZA(),core.TgZ(6,"td",13)(7,"div",14)(8,"button",15),core.NdJ("click",__name(function(){const entry_r4=core.CHM(_r6).$implicit;return core.oxw(2).send(entry_r4)},"OrcidQueueComponent_ds_pagination_10_tr_16_Template_button_click_8_listener")),core.ALo(9,"translate"),core._UZ(10,"i",16),core.qZA(),core.TgZ(11,"button",17),core.NdJ("click",__name(function(){const entry_r4=core.CHM(_r6).$implicit;return core.oxw(2).discardEntry(entry_r4)},"OrcidQueueComponent_ds_pagination_10_tr_16_Template_button_click_11_listener")),core.ALo(12,"translate"),core._UZ(13,"i",18),core.qZA()()()()}if(2&rf){const entry_r4=ctx.$implicit,ctx_r3=core.oxw(2);core.xp6(2),core.Q6J("ngClass",ctx_r3.getIconClass(entry_r4))("ngbTooltip",core.lcZ(3,6,ctx_r3.getIconTooltip(entry_r4))),core.xp6(3),core.hij(" ",entry_r4.description," "),core.xp6(3),core.Q6J("ngbTooltip",core.lcZ(9,8,ctx_r3.getOperationTooltip(entry_r4))),core.xp6(2),core.Q6J("ngClass",ctx_r3.getOperationClass(entry_r4)),core.xp6(1),core.Q6J("ngbTooltip",core.lcZ(12,10,"person.page.orcid.sync-queue.discard"))}}function OrcidQueueComponent_ds_pagination_10_Template(rf,ctx){if(1&rf){const _r9=core.EpF();core.TgZ(0,"ds-pagination",5),core.NdJ("paginationChange",__name(function(){return core.CHM(_r9),core.oxw().updateList()},"OrcidQueueComponent_ds_pagination_10_Template_ds_pagination_paginationChange_0_listener")),core.ALo(1,"async"),core.TgZ(2,"div",6)(3,"table",7)(4,"thead")(5,"tr",8)(6,"th"),core._uU(7),core.ALo(8,"translate"),core.qZA(),core.TgZ(9,"th"),core._uU(10),core.ALo(11,"translate"),core.qZA(),core.TgZ(12,"th"),core._uU(13),core.ALo(14,"translate"),core.qZA()()(),core.TgZ(15,"tbody"),core.YNc(16,OrcidQueueComponent_ds_pagination_10_tr_16_Template,14,12,"tr",9),core.ALo(17,"async"),core.qZA()()()()}if(2&rf){const ctx_r2=core.oxw();let tmp_1_0,tmp_7_0;core.Q6J("paginationOptions",ctx_r2.paginationOptions)("collectionSize",null==(tmp_1_0=core.lcZ(1,8,ctx_r2.getList()))||null==tmp_1_0.payload?null:tmp_1_0.payload.totalElements)("retainScrollPosition",!1)("hideGear",!0),core.xp6(7),core.Oqu(core.lcZ(8,10,"person.page.orcid.sync-queue.table.header.type")),core.xp6(3),core.Oqu(core.lcZ(11,12,"person.page.orcid.sync-queue.table.header.description")),core.xp6(3),core.Oqu(core.lcZ(14,14,"person.page.orcid.sync-queue.table.header.action")),core.xp6(3),core.Q6J("ngForOf",null==(tmp_7_0=core.lcZ(17,16,ctx_r2.getList()))||null==tmp_7_0.payload?null:tmp_7_0.payload.page)}}__name(OrcidQueueComponent_ds_loading_1_Template,"OrcidQueueComponent_ds_loading_1_Template"),__name(OrcidQueueComponent_ds_alert_7_Template,"OrcidQueueComponent_ds_alert_7_Template"),__name(OrcidQueueComponent_ds_pagination_10_tr_16_Template,"OrcidQueueComponent_ds_pagination_10_tr_16_Template"),__name(OrcidQueueComponent_ds_pagination_10_Template,"OrcidQueueComponent_ds_pagination_10_Template");class OrcidQueueComponent{constructor(orcidAuthService,orcidQueueService,translateService,paginationService,notificationsService,orcidHistoryService){this.orcidAuthService=orcidAuthService,this.orcidQueueService=orcidQueueService,this.translateService=translateService,this.paginationService=paginationService,this.notificationsService=notificationsService,this.orcidHistoryService=orcidHistoryService,this.paginationOptions=Object.assign(new pagination_component_options_model.r,{id:"oqp",pageSize:5}),this.processing$=new cjs.BehaviorSubject(!1),this.list$=new cjs.BehaviorSubject({}),this.AlertTypeEnum=aletr_type.N,this.subs=[]}ngOnInit(){this.updateList()}ngOnChanges(changes){!changes.item.isFirstChange()&&changes.item.currentValue!==changes.item.previousValue&&this.updateList()}updateList(){this.subs.push(this.paginationService.getCurrentPagination(this.paginationOptions.id,this.paginationOptions).pipe((0,cjs_operators.bh)(100),(0,cjs_operators.xb)(),(0,cjs_operators.bw)(()=>this.processing$.next(!0)),(0,cjs_operators.wt)(config=>this.orcidQueueService.searchByProfileItemId(this.item.id,config,!1)),(0,operators.hC)()).subscribe(result=>{this.processing$.next(!1),this.list$.next(result),this.orcidQueueService.clearFindByProfileItemRequests()}))}getList(){return this.list$.asObservable()}getIconClass(orcidQueue){if(!orcidQueue.recordType)return"fa fa-user";switch(orcidQueue.recordType.toLowerCase()){case"publication":return"fas fa-book";case"project":return"fas fa-wallet";case"education":return"fas fa-school";case"affiliation":return"fas fa-university";case"country":return"fas fa-globe-europe";case"external_ids":case"researcher_urls":return"fas fa-external-link-alt";default:return"fa fa-user"}}getIconTooltip(orcidQueue){return orcidQueue.recordType?"person.page.orcid.sync-queue.tooltip."+orcidQueue.recordType.toLowerCase():""}getOperationTooltip(orcidQueue){return orcidQueue.operation?"person.page.orcid.sync-queue.tooltip."+orcidQueue.operation.toLowerCase():""}getOperationClass(orcidQueue){if(!orcidQueue.operation)return"";switch(orcidQueue.operation.toLowerCase()){case"insert":return"fas fa-plus";case"update":return"fas fa-edit";case"delete":return"fas fa-trash-alt";default:return""}}discardEntry(orcidQueue){this.processing$.next(!0),this.subs.push(this.orcidQueueService.deleteById(orcidQueue.id).pipe((0,operators.hC)()).subscribe(remoteData=>{this.processing$.next(!1),remoteData.isSuccess?(this.notificationsService.success(this.translateService.get("person.page.orcid.sync-queue.discard.success")),this.updateList()):this.notificationsService.error(this.translateService.get("person.page.orcid.sync-queue.discard.error"))}))}send(orcidQueue){this.processing$.next(!0),this.subs.push(this.orcidHistoryService.sendToORCID(orcidQueue).pipe((0,operators.hC)()).subscribe(remoteData=>{this.processing$.next(!1),remoteData.isSuccess?this.handleOrcidHistoryRecordCreation(remoteData.payload):422===remoteData.statusCode?this.handleValidationErrors(remoteData):this.notificationsService.error(this.translateService.get("person.page.orcid.sync-queue.send.error"))}))}getUnauthorizedErrorContent(){return this.orcidAuthService.getOrcidAuthorizeUrl(this.item).pipe((0,cjs_operators.wt)(authorizeUrl=>this.translateService.get("person.page.orcid.sync-queue.send.unauthorized-error.content",{orcid:authorizeUrl})))}handleOrcidHistoryRecordCreation(orcidHistory){switch(orcidHistory.status){case 200:case 201:case 204:this.notificationsService.success(this.translateService.get("person.page.orcid.sync-queue.send.success")),this.updateList();break;case 400:this.notificationsService.error(this.translateService.get("person.page.orcid.sync-queue.send.bad-request-error"),null,{timeOut:0});break;case 401:(0,cjs.combineLatest)([this.translateService.get("person.page.orcid.sync-queue.send.unauthorized-error.title"),this.getUnauthorizedErrorContent()]).subscribe(([title,content])=>{this.notificationsService.error(title,content,{timeOut:0},!0)});break;case 404:this.notificationsService.warning(this.translateService.get("person.page.orcid.sync-queue.send.not-found-warning"));break;case 409:this.notificationsService.error(this.translateService.get("person.page.orcid.sync-queue.send.conflict-error"),null,{timeOut:0});break;default:this.notificationsService.error(this.translateService.get("person.page.orcid.sync-queue.send.error"),null,{timeOut:0})}}handleValidationErrors(remoteData){const translations=[this.translateService.get("person.page.orcid.sync-queue.send.validation-error")],errorMessage=remoteData.errorMessage;errorMessage&&errorMessage.indexOf("Error codes:")>0&&errorMessage.substring(errorMessage.indexOf(":")+1).trim().split(",").forEach(error=>translations.push(this.translateService.get("person.page.orcid.sync-queue.send.validation-error."+error))),(0,cjs.combineLatest)(translations).subscribe(messages=>{const title=messages.shift(),content="<ul>"+messages.map(message=>`<li>${message}</li>`).join("")+"</ul>";this.notificationsService.error(title,content,{timeOut:0},!0)})}ngOnDestroy(){this.list$=null,this.subs.filter(subscription=>(0,empty_util.Uh)(subscription)).forEach(subscription=>subscription.unsubscribe())}}function OrcidPageComponent_div_0_Template(rf,ctx){if(1&rf&&(core.TgZ(0,"div",4)(1,"div",5)(2,"div",6)(3,"a",7),core._UZ(4,"i",8),core._uU(5),core.ALo(6,"translate"),core.qZA()()()()),2&rf){const ctx_r0=core.oxw();core.xp6(3),core.Q6J("routerLink",ctx_r0.getItemPage()),core.xp6(2),core.hij(" ",core.lcZ(6,2,"item.orcid.return")," ")}}function OrcidPageComponent_ds_loading_3_Template(rf,ctx){1&rf&&(core._UZ(0,"ds-loading",9),core.ALo(1,"translate")),2&rf&&core.Q6J("message",core.lcZ(1,1,"person.page.orcid.link.processing"))}function OrcidPageComponent_div_5_Template(rf,ctx){1&rf&&(core.TgZ(0,"div",10)(1,"ds-alert",11),core._uU(2),core.ALo(3,"translate"),core.qZA()()),2&rf&&(core.xp6(1),core.Q6J("type","alert-danger"),core.xp6(1),core.Oqu(core.lcZ(3,2,"person.page.orcid.link.error.message")))}function OrcidPageComponent_ng_container_8_ds_orcid_sync_setting_3_Template(rf,ctx){if(1&rf){const _r7=core.EpF();core.TgZ(0,"ds-orcid-sync-setting",15),core.NdJ("settingsUpdated",__name(function(){return core.CHM(_r7),core.oxw(2).updateItem()},"OrcidPageComponent_ng_container_8_ds_orcid_sync_setting_3_Template_ds_orcid_sync_setting_settingsUpdated_0_listener")),core.ALo(1,"async"),core.qZA()}if(2&rf){const ctx_r4=core.oxw(2);core.Q6J("item",core.lcZ(1,1,ctx_r4.item))}}function OrcidPageComponent_ng_container_8_ds_orcid_queue_4_Template(rf,ctx){if(1&rf&&(core._UZ(0,"ds-orcid-queue",16),core.ALo(1,"async")),2&rf){const ctx_r5=core.oxw(2);core.Q6J("item",core.lcZ(1,1,ctx_r5.item))}}function OrcidPageComponent_ng_container_8_Template(rf,ctx){if(1&rf){const _r9=core.EpF();core.ynx(0),core.TgZ(1,"ds-orcid-auth",12),core.NdJ("unlink",__name(function(){return core.CHM(_r9),core.oxw().updateItem()},"OrcidPageComponent_ng_container_8_Template_ds_orcid_auth_unlink_1_listener")),core.ALo(2,"async"),core.qZA(),core.YNc(3,OrcidPageComponent_ng_container_8_ds_orcid_sync_setting_3_Template,2,3,"ds-orcid-sync-setting",13),core.YNc(4,OrcidPageComponent_ng_container_8_ds_orcid_queue_4_Template,2,3,"ds-orcid-queue",14),core.BQk()}if(2&rf){const ctx_r3=core.oxw();core.xp6(1),core.Q6J("item",core.lcZ(2,3,ctx_r3.item)),core.xp6(2),core.Q6J("ngIf",ctx_r3.isLinkedToOrcid()),core.xp6(1),core.Q6J("ngIf",ctx_r3.isLinkedToOrcid())}}__name(OrcidQueueComponent,"OrcidQueueComponent"),OrcidQueueComponent.\u0275fac=__name(function(t){return new(t||OrcidQueueComponent)(core.Y36(orcid_auth_service.m),core.Y36(orcid_queue_data_service.I),core.Y36(ngx_translate_core.sK),core.Y36(pagination_service.N),core.Y36(notifications_service.T),core.Y36(orcid_history_data_service.p))},"OrcidQueueComponent_Factory"),OrcidQueueComponent.\u0275cmp=core.Xpm({type:OrcidQueueComponent,selectors:[["ds-orcid-queue"]],inputs:{item:"item"},features:[core.TTD],decls:13,vars:16,consts:[[4,"ngIf"],[1,"container"],[3,"type",4,"ngIf"],[3,"paginationOptions","collectionSize","retainScrollPosition","hideGear","paginationChange",4,"ngIf"],[3,"type"],[3,"paginationOptions","collectionSize","retainScrollPosition","hideGear","paginationChange"],[1,"table-responsive"],["id","groups",1,"table","table-sm","table-striped","table-hover","table-bordered"],[1,"text-center","align-middle"],["data-test","orcidQueueElementRow",4,"ngFor","ngForOf"],["data-test","orcidQueueElementRow"],[1,"text-center","align-middle",2,"width","15%"],["aria-hidden","true",1,"fa-2x",3,"ngClass","ngbTooltip"],[1,"text-center",2,"width","20%"],[1,"btn-group","edit-field"],["container","body",1,"btn","btn-outline-primary","my-1","col-md",3,"ngbTooltip","click"],[3,"ngClass"],["container","body",1,"btn","btn-outline-danger","my-1","col-md",3,"ngbTooltip","click"],[1,"fas","fa-unlink"]],template:__name(function(rf,ctx){if(1&rf&&(core.TgZ(0,"div"),core.YNc(1,OrcidQueueComponent_ds_loading_1_Template,1,0,"ds-loading",0),core.ALo(2,"async"),core.TgZ(3,"div",1)(4,"h2"),core._uU(5),core.ALo(6,"translate"),core.qZA(),core.YNc(7,OrcidQueueComponent_ds_alert_7_Template,3,4,"ds-alert",2),core.ALo(8,"async"),core.ALo(9,"async"),core.YNc(10,OrcidQueueComponent_ds_pagination_10_Template,18,18,"ds-pagination",3),core.ALo(11,"async"),core.ALo(12,"async"),core.qZA()()),2&rf){let tmp_2_0,tmp_3_0;core.xp6(1),core.Q6J("ngIf",core.lcZ(2,4,ctx.processing$)),core.xp6(4),core.Oqu(core.lcZ(6,6,"person.orcid.registry.queue")),core.xp6(2),core.Q6J("ngIf",!core.lcZ(8,8,ctx.processing$)&&0==(null==(tmp_2_0=core.lcZ(9,10,ctx.getList()))||null==tmp_2_0.payload?null:tmp_2_0.payload.totalElements)),core.xp6(3),core.Q6J("ngIf",!core.lcZ(11,12,ctx.processing$)&&(null==(tmp_3_0=core.lcZ(12,14,ctx.getList()))||null==tmp_3_0.payload?null:tmp_3_0.payload.totalElements)>0)}},"OrcidQueueComponent_Template"),directives:[common.O5,loading_component.LoadingComponent,alert_component.w,pagination_component.Q,common.sg,common.mk,ng_bootstrap._L],pipes:[common.Ov,ngx_translate_core.X$],styles:[""]}),__name(OrcidPageComponent_div_0_Template,"OrcidPageComponent_div_0_Template"),__name(OrcidPageComponent_ds_loading_3_Template,"OrcidPageComponent_ds_loading_3_Template"),__name(OrcidPageComponent_div_5_Template,"OrcidPageComponent_div_5_Template"),__name(OrcidPageComponent_ng_container_8_ds_orcid_sync_setting_3_Template,"OrcidPageComponent_ng_container_8_ds_orcid_sync_setting_3_Template"),__name(OrcidPageComponent_ng_container_8_ds_orcid_queue_4_Template,"OrcidPageComponent_ng_container_8_ds_orcid_queue_4_Template"),__name(OrcidPageComponent_ng_container_8_Template,"OrcidPageComponent_ng_container_8_Template");class OrcidPageComponent{constructor(platformId,authService,itemService,orcidAuthService,route,router2){this.platformId=platformId,this.authService=authService,this.itemService=itemService,this.orcidAuthService=orcidAuthService,this.route=route,this.router=router2,this.connectionStatus=new cjs.BehaviorSubject(!1),this.item=new cjs.BehaviorSubject(null),this.processingConnection=new cjs.BehaviorSubject(!0)}ngOnInit(){if((0,common.NF)(this.platformId)){const codeParam$=this.route.queryParamMap.pipe((0,cjs_operators.qn)(1),(0,cjs_operators.UI)(paramMap=>paramMap.get("code"))),item$=this.route.data.pipe((0,cjs_operators.UI)(data=>data.dso),(0,authorized_operators.Gh)(this.router,this.authService),(0,operators.Gp)());(0,cjs.combineLatest)([codeParam$,item$]).subscribe(([codeParam,item])=>{this.itemId=item.id,(0,empty_util.UE)(codeParam)?this.linkProfileToOrcid(item,codeParam):(this.item.next(item),this.processingConnection.next(!1),this.connectionStatus.next(!0))})}}isLinkedToOrcid(){return this.orcidAuthService.isLinkedToOrcid(this.item.value)}getItemPage(){return(0,item_page_routing_paths.Tt)(this.item.value)}updateItem(){this.clearRouteParams(),this.itemService.findById(this.itemId,!1).pipe((0,operators.hC)()).subscribe(itemRD=>{itemRD.hasSucceeded&&this.item.next(itemRD.payload)})}linkProfileToOrcid(person,code){this.orcidAuthService.linkOrcidByItem(person,code).pipe((0,operators.hC)()).subscribe(profileRD=>{this.processingConnection.next(!1),profileRD.hasSucceeded?(this.connectionStatus.next(!0),this.updateItem()):(this.item.next(person),this.connectionStatus.next(!1),this.clearRouteParams())})}clearRouteParams(){const redirectUrl=this.router.url.split("?")[0];this.router.navigate([redirectUrl])}}__name(OrcidPageComponent,"OrcidPageComponent"),OrcidPageComponent.\u0275fac=__name(function(t){return new(t||OrcidPageComponent)(core.Y36(core.Lbi),core.Y36(auth_service.e8),core.Y36(item_data_service.S),core.Y36(orcid_auth_service.m),core.Y36(router.gz),core.Y36(router.F0))},"OrcidPageComponent_Factory"),OrcidPageComponent.\u0275cmp=core.Xpm({type:OrcidPageComponent,selectors:[["ds-orcid-page"]],decls:12,vars:20,consts:[["class","container",4,"ngIf"],[3,"message",4,"ngIf"],["class","container","data-test","error-box",4,"ngIf"],[4,"ngIf"],[1,"container"],[1,"button-row","bottom","mb-3"],[1,"text-right"],["role","button","data-test","back-button",1,"btn","btn-outline-secondary",3,"routerLink"],[1,"fas","fa-arrow-left"],[3,"message"],["data-test","error-box",1,"container"],[3,"type"],["data-test","orcid-auth",3,"item","unlink"],["data-test","orcid-sync-setting",3,"item","settingsUpdated",4,"ngIf"],[3,"item",4,"ngIf"],["data-test","orcid-sync-setting",3,"item","settingsUpdated"],[3,"item"]],template:__name(function(rf,ctx){1&rf&&(core.YNc(0,OrcidPageComponent_div_0_Template,7,4,"div",0),core.ALo(1,"async"),core.ALo(2,"async"),core.YNc(3,OrcidPageComponent_ds_loading_3_Template,2,3,"ds-loading",1),core.ALo(4,"async"),core.YNc(5,OrcidPageComponent_div_5_Template,4,4,"div",2),core.ALo(6,"async"),core.ALo(7,"async"),core.YNc(8,OrcidPageComponent_ng_container_8_Template,5,5,"ng-container",3),core.ALo(9,"async"),core.ALo(10,"async"),core.ALo(11,"async")),2&rf&&(core.Q6J("ngIf",!core.lcZ(1,4,ctx.processingConnection)&&core.lcZ(2,6,ctx.item)),core.xp6(3),core.Q6J("ngIf",core.lcZ(4,8,ctx.processingConnection)),core.xp6(2),core.Q6J("ngIf",!core.lcZ(6,10,ctx.processingConnection)&&!core.lcZ(7,12,ctx.connectionStatus)),core.xp6(3),core.Q6J("ngIf",!core.lcZ(9,14,ctx.processingConnection)&&core.lcZ(10,16,ctx.item)&&core.lcZ(11,18,ctx.connectionStatus)))},"OrcidPageComponent_Template"),directives:[common.O5,router.yS,loading_component.LoadingComponent,alert_component.w,OrcidAuthComponent,OrcidSyncSettingsComponent,OrcidQueueComponent],pipes:[common.Ov,ngx_translate_core.X$],styles:[""]});var authorization_data_service=__webpack_require__(19937),dso_page_single_feature_guard=__webpack_require__(68212),feature_id=__webpack_require__(47235);class OrcidPageGuard extends dso_page_single_feature_guard.h{constructor(resolver,authorizationService,router2,authService){super(resolver,authorizationService,router2,authService),this.resolver=resolver,this.authorizationService=authorizationService,this.router=router2,this.authService=authService}getFeatureID(next,state){return(0,cjs.of)(feature_id.i.CanSynchronizeWithORCID)}}__name(OrcidPageGuard,"OrcidPageGuard"),OrcidPageGuard.\u0275fac=__name(function(t){return new(t||OrcidPageGuard)(core.LFG(item_page_resolver.o),core.LFG(authorization_data_service._),core.LFG(router.F0),core.LFG(auth_service.e8))},"OrcidPageGuard_Factory"),OrcidPageGuard.\u0275prov=core.Yz7({token:OrcidPageGuard,factory:OrcidPageGuard.\u0275fac,providedIn:"root"});class ItemPageRoutingModule{}__name(ItemPageRoutingModule,"ItemPageRoutingModule"),ItemPageRoutingModule.\u0275fac=__name(function(t){return new(t||ItemPageRoutingModule)},"ItemPageRoutingModule_Factory"),ItemPageRoutingModule.\u0275mod=core.oAB({type:ItemPageRoutingModule}),ItemPageRoutingModule.\u0275inj=core.cJS({providers:[item_page_resolver.o,ItemBreadcrumbResolver,dso_breadcrumbs_service.B,link_service.M,item_page_administrator_guard.F,VersionResolver,OrcidPageGuard],imports:[[router.Bz.forChild([{path:":id",resolve:{dso:item_page_resolver.o,breadcrumb:ItemBreadcrumbResolver},runGuardsAndResolvers:"always",children:[{path:"",component:ThemedItemPageComponent,pathMatch:"full"},{path:"full",component:themed_full_item_page_component.B},{path:item_page_routing_paths.lA,loadChildren:()=>Promise.resolve().then(__webpack_require__.bind(__webpack_require__,53018)).then(m=>m.EditItemPageModule)},{path:item_page_routing_paths.UZ,component:UploadBitstreamComponent,canActivate:[authenticated_guard.J]},{path:app_routing_paths.mG,component:bitstream_request_a_copy_page_component.O},{path:item_page_routing_paths.fL,component:OrcidPageComponent,canActivate:[authenticated_guard.J,OrcidPageGuard]}],data:{menu:{public:[{id:"statistics_item_:id",active:!0,visible:!0,model:{type:menu_item_type_model.U.LINK,text:"menu.section.statistics",link:"statistics/items/:id/"}}]}}},{path:"version",children:[{path:":id",component:VersionPageComponent,resolve:{dso:VersionResolver}}]}])]]});var metadata_values_component=__webpack_require__(81846),metadata_field_wrapper_component=__webpack_require__(37796);function MetadataUriValuesComponent_a_2_span_2_Template(rf,ctx){if(1&rf&&core._UZ(0,"span",4),2&rf){const ctx_r3=core.oxw(2);core.Q6J("innerHTML",ctx_r3.separator,core.oJD)}}function MetadataUriValuesComponent_a_2_Template(rf,ctx){if(1&rf&&(core.TgZ(0,"a",2),core._uU(1),core.YNc(2,MetadataUriValuesComponent_a_2_span_2_Template,1,1,"span",3),core.qZA()),2&rf){const mdValue_r1=ctx.$implicit,last_r2=ctx.last,ctx_r0=core.oxw();core.Q6J("href",mdValue_r1.value,core.LSH),core.xp6(1),core.hij(" ",ctx_r0.linktext||mdValue_r1.value,""),core.xp6(1),core.Q6J("ngIf",!last_r2)}}__name(MetadataUriValuesComponent_a_2_span_2_Template,"MetadataUriValuesComponent_a_2_span_2_Template"),__name(MetadataUriValuesComponent_a_2_Template,"MetadataUriValuesComponent_a_2_Template");class MetadataUriValuesComponent extends metadata_values_component.R{}__name(MetadataUriValuesComponent,"MetadataUriValuesComponent"),MetadataUriValuesComponent.\u0275fac=function(){let \u0275MetadataUriValuesComponent_BaseFactory;return __name(function(t){return(\u0275MetadataUriValuesComponent_BaseFactory||(\u0275MetadataUriValuesComponent_BaseFactory=core.n5z(MetadataUriValuesComponent)))(t||MetadataUriValuesComponent)},"MetadataUriValuesComponent_Factory")}(),MetadataUriValuesComponent.\u0275cmp=core.Xpm({type:MetadataUriValuesComponent,selectors:[["ds-metadata-uri-values"]],inputs:{linktext:"linktext",mdValues:"mdValues",separator:"separator",label:"label"},features:[core.qOj],decls:3,vars:4,consts:[[3,"label"],["class","dont-break-out",3,"href",4,"ngFor","ngForOf"],[1,"dont-break-out",3,"href"],[3,"innerHTML",4,"ngIf"],[3,"innerHTML"]],template:__name(function(rf,ctx){1&rf&&(core.TgZ(0,"ds-metadata-field-wrapper",0),core.ALo(1,"translate"),core.YNc(2,MetadataUriValuesComponent_a_2_Template,3,3,"a",1),core.qZA()),2&rf&&(core.Q6J("label",core.lcZ(1,2,ctx.label)),core.xp6(2),core.Q6J("ngForOf",ctx.mdValues))},"MetadataUriValuesComponent_Template"),directives:[metadata_field_wrapper_component.n,common.sg,common.O5],pipes:[ngx_translate_core.X$],styles:[""]});var item_page_field_component=__webpack_require__(16454);class ItemPageAuthorFieldComponent extends item_page_field_component.E{constructor(){super(...arguments),this.fields=["dc.contributor.author","dc.creator","dc.contributor"],this.label="item.page.author"}}__name(ItemPageAuthorFieldComponent,"ItemPageAuthorFieldComponent"),ItemPageAuthorFieldComponent.\u0275fac=function(){let \u0275ItemPageAuthorFieldComponent_BaseFactory;return __name(function(t){return(\u0275ItemPageAuthorFieldComponent_BaseFactory||(\u0275ItemPageAuthorFieldComponent_BaseFactory=core.n5z(ItemPageAuthorFieldComponent)))(t||ItemPageAuthorFieldComponent)},"ItemPageAuthorFieldComponent_Factory")}(),ItemPageAuthorFieldComponent.\u0275cmp=core.Xpm({type:ItemPageAuthorFieldComponent,selectors:[["ds-item-page-author-field"]],inputs:{item:"item"},features:[core.qOj],decls:2,vars:4,consts:[[1,"item-page-field"],[3,"mdValues","separator","label","enableMarkdown"]],template:__name(function(rf,ctx){1&rf&&(core.TgZ(0,"div",0),core._UZ(1,"ds-metadata-values",1),core.qZA()),2&rf&&(core.xp6(1),core.Q6J("mdValues",null==ctx.item?null:ctx.item.allMetadata(ctx.fields))("separator",ctx.separator)("label",ctx.label)("enableMarkdown",ctx.enableMarkdown))},"ItemPageAuthorFieldComponent_Template"),directives:[metadata_values_component.R],encapsulation:2});class ItemPageDateFieldComponent extends item_page_field_component.E{constructor(){super(...arguments),this.separator=", ",this.fields=["dc.date.issued"],this.label="item.page.date"}}__name(ItemPageDateFieldComponent,"ItemPageDateFieldComponent"),ItemPageDateFieldComponent.\u0275fac=function(){let \u0275ItemPageDateFieldComponent_BaseFactory;return __name(function(t){return(\u0275ItemPageDateFieldComponent_BaseFactory||(\u0275ItemPageDateFieldComponent_BaseFactory=core.n5z(ItemPageDateFieldComponent)))(t||ItemPageDateFieldComponent)},"ItemPageDateFieldComponent_Factory")}(),ItemPageDateFieldComponent.\u0275cmp=core.Xpm({type:ItemPageDateFieldComponent,selectors:[["ds-item-page-date-field"]],inputs:{item:"item"},features:[core.qOj],decls:2,vars:4,consts:[[1,"item-page-field"],[3,"mdValues","separator","label","enableMarkdown"]],template:__name(function(rf,ctx){1&rf&&(core.TgZ(0,"div",0),core._UZ(1,"ds-metadata-values",1),core.qZA()),2&rf&&(core.xp6(1),core.Q6J("mdValues",null==ctx.item?null:ctx.item.allMetadata(ctx.fields))("separator",ctx.separator)("label",ctx.label)("enableMarkdown",ctx.enableMarkdown))},"ItemPageDateFieldComponent_Template"),directives:[metadata_values_component.R],encapsulation:2});class ItemPageAbstractFieldComponent extends item_page_field_component.E{constructor(){super(...arguments),this.fields=["dc.description.abstract"],this.label="item.page.abstract",this.enableMarkdown=!0}}__name(ItemPageAbstractFieldComponent,"ItemPageAbstractFieldComponent"),ItemPageAbstractFieldComponent.\u0275fac=function(){let \u0275ItemPageAbstractFieldComponent_BaseFactory;return __name(function(t){return(\u0275ItemPageAbstractFieldComponent_BaseFactory||(\u0275ItemPageAbstractFieldComponent_BaseFactory=core.n5z(ItemPageAbstractFieldComponent)))(t||ItemPageAbstractFieldComponent)},"ItemPageAbstractFieldComponent_Factory")}(),ItemPageAbstractFieldComponent.\u0275cmp=core.Xpm({type:ItemPageAbstractFieldComponent,selectors:[["ds-item-page-abstract-field"]],inputs:{item:"item"},features:[core.qOj],decls:2,vars:4,consts:[[1,"item-page-field"],[3,"mdValues","separator","label","enableMarkdown"]],template:__name(function(rf,ctx){1&rf&&(core.TgZ(0,"div",0),core._UZ(1,"ds-metadata-values",1),core.qZA()),2&rf&&(core.xp6(1),core.Q6J("mdValues",null==ctx.item?null:ctx.item.allMetadata(ctx.fields))("separator",ctx.separator)("label",ctx.label)("enableMarkdown",ctx.enableMarkdown))},"ItemPageAbstractFieldComponent_Template"),directives:[metadata_values_component.R],encapsulation:2});class ItemPageUriFieldComponent extends item_page_field_component.E{}__name(ItemPageUriFieldComponent,"ItemPageUriFieldComponent"),ItemPageUriFieldComponent.\u0275fac=function(){let \u0275ItemPageUriFieldComponent_BaseFactory;return __name(function(t){return(\u0275ItemPageUriFieldComponent_BaseFactory||(\u0275ItemPageUriFieldComponent_BaseFactory=core.n5z(ItemPageUriFieldComponent)))(t||ItemPageUriFieldComponent)},"ItemPageUriFieldComponent_Factory")}(),ItemPageUriFieldComponent.\u0275cmp=core.Xpm({type:ItemPageUriFieldComponent,selectors:[["ds-item-page-uri-field"]],inputs:{item:"item",separator:"separator",fields:"fields",label:"label"},features:[core.qOj],decls:2,vars:3,consts:[[1,"item-page-field"],[3,"mdValues","separator","label"]],template:__name(function(rf,ctx){1&rf&&(core.TgZ(0,"div",0),core._UZ(1,"ds-metadata-uri-values",1),core.qZA()),2&rf&&(core.xp6(1),core.Q6J("mdValues",null==ctx.item?null:ctx.item.allMetadata(ctx.fields))("separator",ctx.separator)("label",ctx.label))},"ItemPageUriFieldComponent_Template"),directives:[MetadataUriValuesComponent],encapsulation:2});var collections_component=__webpack_require__(69722),full_item_page_component=__webpack_require__(21317),full_file_section_component=__webpack_require__(94281),tslib_es6=__webpack_require__(70655),view_mode_model=__webpack_require__(51121),listable_object_decorator=__webpack_require__(62921),versioned_item_component=__webpack_require__(46659),bitstream_data_service=__webpack_require__(48532);class MiradorViewerService{constructor(){this.LINKS_TO_FOLLOW=[(0,follow_link_config_model.l)("format")]}showEmbeddedViewer(){return!(0,core.X6Q)()}getImageCount(item,bitstreamDataService,bundleDataService){let count=0;return bundleDataService.findAllByItem(item).pipe((0,operators.hC)(),(0,cjs_operators.UI)(bundlesRD=>bundlesRD.payload),(0,cjs_operators.UI)(paginatedList=>paginatedList.page),(0,cjs_operators.wt)(bundles=>bundles),(0,cjs_operators.hX)(b=>this.isIiifBundle(b.name)),(0,cjs_operators.zg)(bundle=>bitstreamDataService.findAllByItemAndBundleName(item,bundle.name,{currentPage:1,elementsPerPage:5},!0,!0,...this.LINKS_TO_FOLLOW).pipe((0,operators.hC)(),(0,cjs_operators.UI)(bitstreamsRD=>bitstreamsRD.payload),(0,cjs_operators.UI)(paginatedList=>paginatedList.page),(0,cjs_operators.wt)(bitstreams=>bitstreams),(0,cjs_operators.wt)(bitstream=>bitstream.format.pipe((0,operators.hC)(),(0,cjs_operators.UI)(formatRD=>formatRD.payload),(0,cjs_operators.UI)(format=>(format.mimetype.includes("image")&&count++,count)))))),(0,cjs_operators.Z$)())}isIiifBundle(bundleName){return!("OtherContent"===bundleName||"LICENSE"===bundleName||"THUMBNAIL"===bundleName||"TEXT"===bundleName||"METADATA"===bundleName||"CC-LICENSE"===bundleName||"BRANDED_PREVIEW"===bundleName)}}__name(MiradorViewerService,"MiradorViewerService"),MiradorViewerService.\u0275fac=__name(function(t){return new(t||MiradorViewerService)},"MiradorViewerService_Factory"),MiradorViewerService.\u0275prov=core.Yz7({token:MiradorViewerService,factory:MiradorViewerService.\u0275fac});var host_window_service=__webpack_require__(958),platform_browser=__webpack_require__(22313);function MiradorViewerComponent_p_3_Template(rf,ctx){if(1&rf&&(core.TgZ(0,"p",3),core._uU(1),core.qZA()),2&rf){const ctx_r0=core.oxw();core.xp6(1),core.Oqu(ctx_r0.viewerMessage)}}function MiradorViewerComponent_iframe_4_Template(rf,ctx){if(1&rf&&(core._UZ(0,"iframe",4),core.ALo(1,"async")),2&rf){const ctx_r1=core.oxw();core.Q6J("src",core.lcZ(1,1,ctx_r1.iframeViewerUrl),core.uOi)}}__name(MiradorViewerComponent_p_3_Template,"MiradorViewerComponent_p_3_Template"),__name(MiradorViewerComponent_iframe_4_Template,"MiradorViewerComponent_iframe_4_Template");class MiradorViewerComponent{constructor(sanitizer,viewerService,bitstreamDataService,bundleDataService,hostWindowService,platformId){this.sanitizer=sanitizer,this.viewerService=viewerService,this.bitstreamDataService=bitstreamDataService,this.bundleDataService=bundleDataService,this.hostWindowService=hostWindowService,this.platformId=platformId,this.isViewerAvailable=!0,this.multi=!1,this.notMobile=!1,this.viewerMessage="Sorry, the Mirador viewer is not currently available in development mode."}setURL(){let viewerPath="/iiif/mirador/index.html?manifest="+encodeURIComponent(environment.N.rest.baseUrl+"/iiif/"+this.object.id+"/manifest");return this.searchable&&(viewerPath+="&searchable="+this.searchable),this.query&&(viewerPath+="&query="+this.query),this.multi&&(viewerPath+="&multi="+this.multi),this.notMobile&&(viewerPath+="&notMobile=true"),this.sanitizer.bypassSecurityTrustResourceUrl(viewerPath)}ngOnInit(){if((0,common.NF)(this.platformId))if(this.isViewerAvailable=this.viewerService.showEmbeddedViewer(),this.hostWindowService.widthCategory.pipe((0,cjs_operators.qn)(1)).subscribe(category=>{this.notMobile=!(category===host_window_service.o.XS||category===host_window_service.o.SM)}),this.searchable){this.multi=!0;const observable=(0,cjs.of)("");this.iframeViewerUrl=observable.pipe((0,cjs_operators.UI)(val=>this.setURL()))}else this.iframeViewerUrl=this.viewerService.getImageCount(this.object,this.bitstreamDataService,this.bundleDataService).pipe((0,cjs_operators.UI)(c=>(c>1&&(this.multi=!0),this.setURL())))}}__name(MiradorViewerComponent,"MiradorViewerComponent"),MiradorViewerComponent.\u0275fac=__name(function(t){return new(t||MiradorViewerComponent)(core.Y36(platform_browser.H7),core.Y36(MiradorViewerService),core.Y36(bitstream_data_service.J),core.Y36(bundle_data_service.b),core.Y36(host_window_service.I),core.Y36(core.Lbi))},"MiradorViewerComponent_Factory"),MiradorViewerComponent.\u0275cmp=core.Xpm({type:MiradorViewerComponent,selectors:[["ds-mirador-viewer"]],inputs:{object:"object",query:"query",searchable:"searchable"},features:[core._Bn([MiradorViewerService])],decls:5,vars:5,consts:[[1,"full-text-op"],["id","viewer-message",4,"ngIf"],["title","Mirador Viewer","allowtransparency","true","id","mirador-viewer",3,"src",4,"ngIf"],["id","viewer-message"],["title","Mirador Viewer","allowtransparency","true","id","mirador-viewer",3,"src"]],template:__name(function(rf,ctx){1&rf&&(core.TgZ(0,"p",0),core._uU(1),core.ALo(2,"translate"),core.qZA(),core.YNc(3,MiradorViewerComponent_p_3_Template,2,1,"p",1),core.YNc(4,MiradorViewerComponent_iframe_4_Template,2,3,"iframe",2)),2&rf&&(core.xp6(1),core.Oqu(core.lcZ(2,3,"iiifviewer.fullscreen.notice")),core.xp6(2),core.Q6J("ngIf",!ctx.isViewerAvailable),core.xp6(1),core.Q6J("ngIf",ctx.isViewerAvailable))},"MiradorViewerComponent_Template"),directives:[common.O5],pipes:[ngx_translate_core.X$,common.Ov],styles:["#mirador-viewer[_ngcontent-%COMP%]{border:1px solid #dee2e6;height:660px;width:100%}.full-text-op[_ngcontent-%COMP%]{text-align:right;color:#333;font-size:.8em}p.full-text-op[_ngcontent-%COMP%]{margin-bottom:0}"],changeDetection:0});var item_page_title_field_component=__webpack_require__(34261),dso_page_version_button_component=__webpack_require__(56808),dso_page_edit_button_component=__webpack_require__(42257),thumbnail_component=__webpack_require__(4775);class MediaViewerItem{}__name(MediaViewerItem,"MediaViewerItem");var themed_loading_component=__webpack_require__(48106);function MediaViewerVideoComponent_div_2_button_12_Template(rf,ctx){if(1&rf){const _r6=core.EpF();core.TgZ(0,"button",10),core.NdJ("click",__name(function(){const indexOfelement_r4=core.CHM(_r6).index;return core.oxw(2).selectedMedia(indexOfelement_r4)},"MediaViewerVideoComponent_div_2_button_12_Template_button_click_0_listener")),core._uU(1),core.qZA()}if(2&rf){const item_r3=ctx.$implicit;core.xp6(1),core.hij(" ",item_r3.bitstream.name," ")}}function MediaViewerVideoComponent_div_2_Template(rf,ctx){if(1&rf){const _r8=core.EpF();core.TgZ(0,"div",3)(1,"button",4),core.NdJ("click",__name(function(){return core.CHM(_r8),core.oxw().prevMedia()},"MediaViewerVideoComponent_div_2_Template_button_click_1_listener")),core._uU(2),core.ALo(3,"translate"),core.qZA(),core.TgZ(4,"button",5),core.NdJ("click",__name(function(){return core.CHM(_r8),core.oxw().nextMedia()},"MediaViewerVideoComponent_div_2_Template_button_click_4_listener")),core._uU(5),core.ALo(6,"translate"),core.qZA(),core.TgZ(7,"div",6)(8,"button",7),core._uU(9),core.ALo(10,"translate"),core.qZA(),core.TgZ(11,"div",8),core.YNc(12,MediaViewerVideoComponent_div_2_button_12_Template,2,1,"button",9),core.qZA()()()}if(2&rf){const ctx_r1=core.oxw();core.xp6(1),core.Q6J("disabled",0===ctx_r1.currentIndex),core.xp6(1),core.hij(" ",core.lcZ(3,6,"media-viewer.previous")," "),core.xp6(2),core.Q6J("disabled",ctx_r1.currentIndex===ctx_r1.filteredMedias.length-1),core.xp6(1),core.hij(" ",core.lcZ(6,8,"media-viewer.next")," "),core.xp6(4),core.hij(" ",core.lcZ(10,10,"media-viewer.playlist")," "),core.xp6(3),core.Q6J("ngForOf",ctx_r1.filteredMedias)}}__name(MediaViewerVideoComponent_div_2_button_12_Template,"MediaViewerVideoComponent_div_2_button_12_Template"),__name(MediaViewerVideoComponent_div_2_Template,"MediaViewerVideoComponent_div_2_Template");class MediaViewerVideoComponent{constructor(){this.currentIndex=0,this.replacements={video:"./assets/images/replacement_video.svg",audio:"./assets/images/replacement_audio.svg"}}ngOnInit(){this.isCollapsed=!1,this.filteredMedias=this.medias.filter(media=>"audio"===media.format||"video"===media.format)}selectedMedia(index){this.currentIndex=index}nextMedia(){this.currentIndex++}prevMedia(){this.currentIndex--}}__name(MediaViewerVideoComponent,"MediaViewerVideoComponent"),MediaViewerVideoComponent.\u0275fac=__name(function(t){return new(t||MediaViewerVideoComponent)},"MediaViewerVideoComponent_Factory"),MediaViewerVideoComponent.\u0275cmp=core.Xpm({type:MediaViewerVideoComponent,selectors:[["ds-media-viewer-video"]],inputs:{medias:"medias"},decls:3,vars:3,consts:[["id","singleVideo","preload","none","controls","",3,"src","poster"],["media",""],["class","buttons",4,"ngIf"],[1,"buttons"],[1,"btn","btn-primary","previous",3,"disabled","click"],[1,"btn","btn-primary","next",3,"disabled","click"],["ngbDropdown","",1,"d-inline-block"],["id","dropdownBasic1","ngbDropdownToggle","",1,"btn","btn-outline-primary","playlist"],["ngbDropdownMenu","","aria-labelledby","dropdownBasic1"],["ngbDropdownItem","","class","list-element",3,"click",4,"ngFor","ngForOf"],["ngbDropdownItem","",1,"list-element",3,"click"]],template:__name(function(rf,ctx){1&rf&&(core._UZ(0,"video",0,1),core.YNc(2,MediaViewerVideoComponent_div_2_Template,13,12,"div",2)),2&rf&&(core.Q6J("src",ctx.filteredMedias[ctx.currentIndex].bitstream._links.content.href,core.LSH)("poster",ctx.filteredMedias[ctx.currentIndex].thumbnail||ctx.replacements[ctx.filteredMedias[ctx.currentIndex].format],core.LSH),core.xp6(2),core.Q6J("ngIf",(null==ctx.filteredMedias?null:ctx.filteredMedias.length)>1))},"MediaViewerVideoComponent_Template"),directives:[common.O5,ng_bootstrap.jt,ng_bootstrap.iD,ng_bootstrap.Vi,common.sg,ng_bootstrap.TH],pipes:[ngx_translate_core.X$],styles:["video[_ngcontent-%COMP%]{width:340px;height:279px}"]});var animations=__webpack_require__(41777);const _c0=__name(function(a0){return{"ngx-gallery-active":a0}},"_c0");function NgxGalleryBulletsComponent_div_0_Template(rf,ctx){if(1&rf){const _r4=core.EpF();core.TgZ(0,"div",1),core.NdJ("click",__name(function($event){const i_r2=core.CHM(_r4).index;return core.oxw().handleChange($event,i_r2)},"NgxGalleryBulletsComponent_div_0_Template_div_click_0_listener")),core.qZA()}if(2&rf){const i_r2=ctx.index,ctx_r0=core.oxw();core.Q6J("ngClass",core.VKq(1,_c0,i_r2===ctx_r0.active))}}__name(NgxGalleryBulletsComponent_div_0_Template,"NgxGalleryBulletsComponent_div_0_Template");const _c1=["previewImage"];function NgxGalleryPreviewComponent_ngx_gallery_arrows_0_Template(rf,ctx){if(1&rf){const _r13=core.EpF();core.TgZ(0,"ngx-gallery-arrows",16),core.NdJ("prevClick",__name(function(){return core.CHM(_r13),core.oxw().showPrev()},"NgxGalleryPreviewComponent_ngx_gallery_arrows_0_Template_ngx_gallery_arrows_prevClick_0_listener"))("nextClick",__name(function(){return core.CHM(_r13),core.oxw().showNext()},"NgxGalleryPreviewComponent_ngx_gallery_arrows_0_Template_ngx_gallery_arrows_nextClick_0_listener")),core.qZA()}if(2&rf){const ctx_r0=core.oxw();core.Q6J("prevDisabled",!ctx_r0.canShowPrev())("nextDisabled",!ctx_r0.canShowNext())("arrowPrevIcon",ctx_r0.arrowPrevIcon)("arrowNextIcon",ctx_r0.arrowNextIcon)}}function NgxGalleryPreviewComponent_ngx_gallery_action_3_Template(rf,ctx){if(1&rf){const _r17=core.EpF();core.TgZ(0,"ngx-gallery-action",17),core.NdJ("closeClick",__name(function($event){const action_r15=core.CHM(_r17).$implicit,ctx_r16=core.oxw();return action_r15.onClick($event,ctx_r16.index)},"NgxGalleryPreviewComponent_ngx_gallery_action_3_Template_ngx_gallery_action_closeClick_0_listener")),core.qZA()}if(2&rf){const action_r15=ctx.$implicit;core.Q6J("icon",action_r15.icon)("disabled",action_r15.disabled)("titleText",action_r15.titleText)}}function NgxGalleryPreviewComponent_a_4_Template(rf,ctx){if(1&rf&&(core.TgZ(0,"a",18),core._UZ(1,"i"),core.qZA()),2&rf){const ctx_r2=core.oxw();core.Q6J("href",ctx_r2.src,core.LSH),core.xp6(1),core.Gre("ngx-gallery-icon-content ",ctx_r2.downloadIcon,"")}}function NgxGalleryPreviewComponent_ngx_gallery_action_5_Template(rf,ctx){if(1&rf){const _r19=core.EpF();core.TgZ(0,"ngx-gallery-action",19),core.NdJ("closeClick",__name(function(){return core.CHM(_r19),core.oxw().zoomOut()},"NgxGalleryPreviewComponent_ngx_gallery_action_5_Template_ngx_gallery_action_closeClick_0_listener")),core.qZA()}if(2&rf){const ctx_r3=core.oxw();core.Q6J("icon",ctx_r3.zoomOutIcon)("disabled",!ctx_r3.canZoomOut())}}function NgxGalleryPreviewComponent_ngx_gallery_action_6_Template(rf,ctx){if(1&rf){const _r21=core.EpF();core.TgZ(0,"ngx-gallery-action",19),core.NdJ("closeClick",__name(function(){return core.CHM(_r21),core.oxw().zoomIn()},"NgxGalleryPreviewComponent_ngx_gallery_action_6_Template_ngx_gallery_action_closeClick_0_listener")),core.qZA()}if(2&rf){const ctx_r4=core.oxw();core.Q6J("icon",ctx_r4.zoomInIcon)("disabled",!ctx_r4.canZoomIn())}}function NgxGalleryPreviewComponent_ngx_gallery_action_7_Template(rf,ctx){if(1&rf){const _r23=core.EpF();core.TgZ(0,"ngx-gallery-action",7),core.NdJ("closeClick",__name(function(){return core.CHM(_r23),core.oxw().rotateLeft()},"NgxGalleryPreviewComponent_ngx_gallery_action_7_Template_ngx_gallery_action_closeClick_0_listener")),core.qZA()}if(2&rf){const ctx_r5=core.oxw();core.Q6J("icon",ctx_r5.rotateLeftIcon)}}function NgxGalleryPreviewComponent_ngx_gallery_action_8_Template(rf,ctx){if(1&rf){const _r25=core.EpF();core.TgZ(0,"ngx-gallery-action",7),core.NdJ("closeClick",__name(function(){return core.CHM(_r25),core.oxw().rotateRight()},"NgxGalleryPreviewComponent_ngx_gallery_action_8_Template_ngx_gallery_action_closeClick_0_listener")),core.qZA()}if(2&rf){const ctx_r6=core.oxw();core.Q6J("icon",ctx_r6.rotateRightIcon)}}function NgxGalleryPreviewComponent_ngx_gallery_action_9_Template(rf,ctx){if(1&rf){const _r27=core.EpF();core.TgZ(0,"ngx-gallery-action",7),core.NdJ("closeClick",__name(function(){return core.CHM(_r27),core.oxw().manageFullscreen()},"NgxGalleryPreviewComponent_ngx_gallery_action_9_Template_ngx_gallery_action_closeClick_0_listener")),core.qZA()}if(2&rf){const ctx_r7=core.oxw();core.Q6J("icon","ngx-gallery-fullscreen "+ctx_r7.fullscreenIcon)}}function NgxGalleryPreviewComponent_img_15_Template(rf,ctx){if(1&rf){const _r31=core.EpF();core.TgZ(0,"img",20,21),core.NdJ("click",__name(function($event){return $event.stopPropagation()},"NgxGalleryPreviewComponent_img_15_Template_img_click_0_listener"))("mouseenter",__name(function(){return core.CHM(_r31),core.oxw().imageMouseEnter()},"NgxGalleryPreviewComponent_img_15_Template_img_mouseenter_0_listener"))("mouseleave",__name(function(){return core.CHM(_r31),core.oxw().imageMouseLeave()},"NgxGalleryPreviewComponent_img_15_Template_img_mouseleave_0_listener"))("mousedown",__name(function($event){return core.CHM(_r31),core.oxw().mouseDownHandler($event)},"NgxGalleryPreviewComponent_img_15_Template_img_mousedown_0_listener"))("touchstart",__name(function($event){return core.CHM(_r31),core.oxw().mouseDownHandler($event)},"NgxGalleryPreviewComponent_img_15_Template_img_touchstart_0_listener")),core.qZA()}if(2&rf){const ctx_r8=core.oxw();core.Udp("transform",ctx_r8.getTransform())("left",ctx_r8.positionLeft+"px")("top",ctx_r8.positionTop+"px"),core.ekj("ngx-gallery-active",!ctx_r8.loading)("animation",ctx_r8.animation)("ngx-gallery-grab",ctx_r8.canDragOnZoom()),core.Q6J("src",ctx_r8.src,core.LSH)}}function NgxGalleryPreviewComponent_video_16_Template(rf,ctx){if(1&rf){const _r38=core.EpF();core.TgZ(0,"video",22,21),core.NdJ("click",__name(function($event){return $event.stopPropagation()},"NgxGalleryPreviewComponent_video_16_Template_video_click_0_listener"))("mouseenter",__name(function(){return core.CHM(_r38),core.oxw().imageMouseEnter()},"NgxGalleryPreviewComponent_video_16_Template_video_mouseenter_0_listener"))("mouseleave",__name(function(){return core.CHM(_r38),core.oxw().imageMouseLeave()},"NgxGalleryPreviewComponent_video_16_Template_video_mouseleave_0_listener"))("mousedown",__name(function($event){return core.CHM(_r38),core.oxw().mouseDownHandler($event)},"NgxGalleryPreviewComponent_video_16_Template_video_mousedown_0_listener"))("touchstart",__name(function($event){return core.CHM(_r38),core.oxw().mouseDownHandler($event)},"NgxGalleryPreviewComponent_video_16_Template_video_touchstart_0_listener")),core._UZ(2,"source",23),core._uU(3," Your browser does not support the video tag. "),core.qZA()}if(2&rf){const ctx_r9=core.oxw();core.Udp("transform",ctx_r9.getTransform())("left",ctx_r9.positionLeft+"px")("top",ctx_r9.positionTop+"px"),core.ekj("ngx-gallery-active",!ctx_r9.loading)("animation",ctx_r9.animation)("ngx-gallery-grab",ctx_r9.canDragOnZoom()),core.xp6(2),core.Q6J("src",ctx_r9.src,core.LSH)}}function NgxGalleryPreviewComponent_ngx_gallery_bullets_17_Template(rf,ctx){if(1&rf){const _r43=core.EpF();core.TgZ(0,"ngx-gallery-bullets",24),core.NdJ("bulletChange",__name(function($event){return core.CHM(_r43),core.oxw().showAtIndex($event)},"NgxGalleryPreviewComponent_ngx_gallery_bullets_17_Template_ngx_gallery_bullets_bulletChange_0_listener")),core.qZA()}if(2&rf){const ctx_r10=core.oxw();core.Q6J("count",ctx_r10.images.length)("active",ctx_r10.index)}}function NgxGalleryPreviewComponent_div_18_Template(rf,ctx){if(1&rf&&(core.TgZ(0,"div",25),core.NdJ("click",__name(function($event){return $event.stopPropagation()},"NgxGalleryPreviewComponent_div_18_Template_div_click_0_listener")),core.qZA()),2&rf){const ctx_r11=core.oxw();core.Q6J("innerHTML",ctx_r11.description,core.oJD)}}function NgxGalleryImageComponent_ng_container_1_div_1_ngx_gallery_action_2_Template(rf,ctx){if(1&rf){const _r12=core.EpF();core.TgZ(0,"ngx-gallery-action",8),core.NdJ("closeClick",__name(function($event){const action_r9=core.CHM(_r12).$implicit,image_r3=core.oxw(2).$implicit;return action_r9.onClick($event,image_r3.index)},"NgxGalleryImageComponent_ng_container_1_div_1_ngx_gallery_action_2_Template_ngx_gallery_action_closeClick_0_listener")),core.qZA()}if(2&rf){const action_r9=ctx.$implicit;core.Q6J("icon",action_r9.icon)("disabled",action_r9.disabled)("titleText",action_r9.titleText)}}function NgxGalleryImageComponent_ng_container_1_div_1_div_3_Template(rf,ctx){if(1&rf&&(core.TgZ(0,"div",9),core.NdJ("click",__name(function($event){return $event.stopPropagation()},"NgxGalleryImageComponent_ng_container_1_div_1_div_3_Template_div_click_0_listener")),core.qZA()),2&rf){const image_r3=core.oxw(2).$implicit,ctx_r8=core.oxw();core.Q6J("innerHTML",ctx_r8.descriptions[image_r3.index],core.oJD)}}__name(NgxGalleryPreviewComponent_ngx_gallery_arrows_0_Template,"NgxGalleryPreviewComponent_ngx_gallery_arrows_0_Template"),__name(NgxGalleryPreviewComponent_ngx_gallery_action_3_Template,"NgxGalleryPreviewComponent_ngx_gallery_action_3_Template"),__name(NgxGalleryPreviewComponent_a_4_Template,"NgxGalleryPreviewComponent_a_4_Template"),__name(NgxGalleryPreviewComponent_ngx_gallery_action_5_Template,"NgxGalleryPreviewComponent_ngx_gallery_action_5_Template"),__name(NgxGalleryPreviewComponent_ngx_gallery_action_6_Template,"NgxGalleryPreviewComponent_ngx_gallery_action_6_Template"),__name(NgxGalleryPreviewComponent_ngx_gallery_action_7_Template,"NgxGalleryPreviewComponent_ngx_gallery_action_7_Template"),__name(NgxGalleryPreviewComponent_ngx_gallery_action_8_Template,"NgxGalleryPreviewComponent_ngx_gallery_action_8_Template"),__name(NgxGalleryPreviewComponent_ngx_gallery_action_9_Template,"NgxGalleryPreviewComponent_ngx_gallery_action_9_Template"),__name(NgxGalleryPreviewComponent_img_15_Template,"NgxGalleryPreviewComponent_img_15_Template"),__name(NgxGalleryPreviewComponent_video_16_Template,"NgxGalleryPreviewComponent_video_16_Template"),__name(NgxGalleryPreviewComponent_ngx_gallery_bullets_17_Template,"NgxGalleryPreviewComponent_ngx_gallery_bullets_17_Template"),__name(NgxGalleryPreviewComponent_div_18_Template,"NgxGalleryPreviewComponent_div_18_Template"),__name(NgxGalleryImageComponent_ng_container_1_div_1_ngx_gallery_action_2_Template,"NgxGalleryImageComponent_ng_container_1_div_1_ngx_gallery_action_2_Template"),__name(NgxGalleryImageComponent_ng_container_1_div_1_div_3_Template,"NgxGalleryImageComponent_ng_container_1_div_1_div_3_Template");const _c2=__name(function(a0){return{"ngx-gallery-clickable":a0}},"_c2");function NgxGalleryImageComponent_ng_container_1_div_1_Template(rf,ctx){if(1&rf){const _r17=core.EpF();core.TgZ(0,"div",4),core.NdJ("click",__name(function($event){core.CHM(_r17);const image_r3=core.oxw().$implicit;return core.oxw().handleClick($event,image_r3.index)},"NgxGalleryImageComponent_ng_container_1_div_1_Template_div_click_0_listener"))("@animation.start",__name(function($event){return core.CHM(_r17),core.oxw(2).onStart($event)},"NgxGalleryImageComponent_ng_container_1_div_1_Template_div_animation_animation_start_0_listener"))("@animation.done",__name(function($event){return core.CHM(_r17),core.oxw(2).onDone($event)},"NgxGalleryImageComponent_ng_container_1_div_1_Template_div_animation_animation_done_0_listener")),core.TgZ(1,"div",5),core.YNc(2,NgxGalleryImageComponent_ng_container_1_div_1_ngx_gallery_action_2_Template,1,3,"ngx-gallery-action",6),core.qZA(),core.YNc(3,NgxGalleryImageComponent_ng_container_1_div_1_div_3_Template,1,1,"div",7),core.qZA()}if(2&rf){const image_r3=core.oxw().$implicit,ctx_r5=core.oxw();core.Udp("background-image",ctx_r5.getSafeUrl(image_r3.src)),core.Q6J("ngClass",core.VKq(6,_c2,ctx_r5.clickable))("@animation",ctx_r5.action),core.xp6(2),core.Q6J("ngForOf",ctx_r5.actions),core.xp6(1),core.Q6J("ngIf",ctx_r5.showDescription&&ctx_r5.descriptions[image_r3.index])}}function NgxGalleryImageComponent_ng_container_1_div_2_ngx_gallery_action_5_Template(rf,ctx){if(1&rf){const _r26=core.EpF();core.TgZ(0,"ngx-gallery-action",8),core.NdJ("closeClick",__name(function($event){const action_r23=core.CHM(_r26).$implicit,image_r3=core.oxw(2).$implicit;return action_r23.onClick($event,image_r3.index)},"NgxGalleryImageComponent_ng_container_1_div_2_ngx_gallery_action_5_Template_ngx_gallery_action_closeClick_0_listener")),core.qZA()}if(2&rf){const action_r23=ctx.$implicit;core.Q6J("icon",action_r23.icon)("disabled",action_r23.disabled)("titleText",action_r23.titleText)}}function NgxGalleryImageComponent_ng_container_1_div_2_div_6_Template(rf,ctx){if(1&rf&&(core.TgZ(0,"div",9),core.NdJ("click",__name(function($event){return $event.stopPropagation()},"NgxGalleryImageComponent_ng_container_1_div_2_div_6_Template_div_click_0_listener")),core.qZA()),2&rf){const image_r3=core.oxw(2).$implicit,ctx_r22=core.oxw();core.Q6J("innerHTML",ctx_r22.descriptions[image_r3.index],core.oJD)}}function NgxGalleryImageComponent_ng_container_1_div_2_Template(rf,ctx){if(1&rf){const _r31=core.EpF();core.TgZ(0,"div",4),core.NdJ("click",__name(function($event){core.CHM(_r31);const image_r3=core.oxw().$implicit;return core.oxw().handleClick($event,image_r3.index)},"NgxGalleryImageComponent_ng_container_1_div_2_Template_div_click_0_listener"))("@animation.start",__name(function($event){return core.CHM(_r31),core.oxw(2).onStart($event)},"NgxGalleryImageComponent_ng_container_1_div_2_Template_div_animation_animation_start_0_listener"))("@animation.done",__name(function($event){return core.CHM(_r31),core.oxw(2).onDone($event)},"NgxGalleryImageComponent_ng_container_1_div_2_Template_div_animation_animation_done_0_listener")),core.TgZ(1,"video",10),core._UZ(2,"source",11),core._uU(3," Your browser does not support the video tag. "),core.qZA(),core.TgZ(4,"div",5),core.YNc(5,NgxGalleryImageComponent_ng_container_1_div_2_ngx_gallery_action_5_Template,1,3,"ngx-gallery-action",6),core.qZA(),core.YNc(6,NgxGalleryImageComponent_ng_container_1_div_2_div_6_Template,1,1,"div",7),core.qZA()}if(2&rf){const image_r3=core.oxw().$implicit,ctx_r6=core.oxw();core.Udp("background-image",ctx_r6.getSafeUrl(image_r3.src)),core.Q6J("ngClass",core.VKq(7,_c2,ctx_r6.clickable))("@animation",ctx_r6.action),core.xp6(2),core.Q6J("src",image_r3.src,core.LSH),core.xp6(3),core.Q6J("ngForOf",ctx_r6.actions),core.xp6(1),core.Q6J("ngIf",ctx_r6.showDescription&&ctx_r6.descriptions[image_r3.index])}}function NgxGalleryImageComponent_ng_container_1_Template(rf,ctx){if(1&rf&&(core.ynx(0),core.YNc(1,NgxGalleryImageComponent_ng_container_1_div_1_Template,4,8,"div",3),core.YNc(2,NgxGalleryImageComponent_ng_container_1_div_2_Template,7,9,"div",3),core.BQk()),2&rf){const image_r3=ctx.$implicit,ctx_r0=core.oxw();core.xp6(1),core.Q6J("ngIf","image"===image_r3.type&&image_r3.index===ctx_r0._selectedIndex),core.xp6(1),core.Q6J("ngIf","video"===image_r3.type&&image_r3.index===ctx_r0._selectedIndex)}}function NgxGalleryImageComponent_ngx_gallery_bullets_2_Template(rf,ctx){if(1&rf){const _r36=core.EpF();core.TgZ(0,"ngx-gallery-bullets",12),core.NdJ("bulletChange",__name(function($event){return core.CHM(_r36),core.oxw().show($event)},"NgxGalleryImageComponent_ngx_gallery_bullets_2_Template_ngx_gallery_bullets_bulletChange_0_listener")),core.qZA()}if(2&rf){const ctx_r1=core.oxw();core.Q6J("count",ctx_r1.images.length)("active",ctx_r1._selectedIndex)}}function NgxGalleryImageComponent_ngx_gallery_arrows_3_Template(rf,ctx){if(1&rf){const _r38=core.EpF();core.TgZ(0,"ngx-gallery-arrows",13),core.NdJ("prevClick",__name(function(){return core.CHM(_r38),core.oxw().showPrev()},"NgxGalleryImageComponent_ngx_gallery_arrows_3_Template_ngx_gallery_arrows_prevClick_0_listener"))("nextClick",__name(function(){return core.CHM(_r38),core.oxw().showNext()},"NgxGalleryImageComponent_ngx_gallery_arrows_3_Template_ngx_gallery_arrows_nextClick_0_listener")),core.qZA()}if(2&rf){const ctx_r2=core.oxw();core.Gre("ngx-gallery-image-size-",ctx_r2.size,""),core.Q6J("prevDisabled",!ctx_r2.canShowPrev())("nextDisabled",!ctx_r2.canShowNext())("arrowPrevIcon",ctx_r2.arrowPrevIcon)("arrowNextIcon",ctx_r2.arrowNextIcon)}}__name(NgxGalleryImageComponent_ng_container_1_div_1_Template,"NgxGalleryImageComponent_ng_container_1_div_1_Template"),__name(NgxGalleryImageComponent_ng_container_1_div_2_ngx_gallery_action_5_Template,"NgxGalleryImageComponent_ng_container_1_div_2_ngx_gallery_action_5_Template"),__name(NgxGalleryImageComponent_ng_container_1_div_2_div_6_Template,"NgxGalleryImageComponent_ng_container_1_div_2_div_6_Template"),__name(NgxGalleryImageComponent_ng_container_1_div_2_Template,"NgxGalleryImageComponent_ng_container_1_div_2_Template"),__name(NgxGalleryImageComponent_ng_container_1_Template,"NgxGalleryImageComponent_ng_container_1_Template"),__name(NgxGalleryImageComponent_ngx_gallery_bullets_2_Template,"NgxGalleryImageComponent_ngx_gallery_bullets_2_Template"),__name(NgxGalleryImageComponent_ngx_gallery_arrows_3_Template,"NgxGalleryImageComponent_ngx_gallery_arrows_3_Template");const _c3=__name(function(a0,a1){return{"ngx-gallery-active":a0,"ngx-gallery-clickable":a1}},"_c3");function NgxGalleryThumbnailsComponent_a_2_div_1_Template(rf,ctx){if(1&rf&&core._UZ(0,"div",9),2&rf){const ctx_r8=core.oxw(),image_r2=ctx_r8.$implicit,i_r3=ctx_r8.index,ctx_r4=core.oxw();core.Udp("background-image",ctx_r4.getSafeUrl(image_r2)),core.Q6J("ngClass",core.WLB(3,_c3,i_r3===ctx_r4.selectedIndex,ctx_r4.clickable))}}function NgxGalleryThumbnailsComponent_a_2_div_2_Template(rf,ctx){if(1&rf&&(core.TgZ(0,"div",10)(1,"video",11),core._UZ(2,"source",12),core._uU(3," Your browser does not support the video tag. "),core.qZA()()),2&rf){const ctx_r9=core.oxw(),i_r3=ctx_r9.index,image_r2=ctx_r9.$implicit,ctx_r5=core.oxw();core.xp6(1),core.Q6J("ngClass",core.WLB(2,_c3,i_r3===ctx_r5.selectedIndex,ctx_r5.clickable)),core.xp6(1),core.Q6J("src",image_r2,core.LSH)}}function NgxGalleryThumbnailsComponent_a_2_ngx_gallery_action_4_Template(rf,ctx){if(1&rf){const _r13=core.EpF();core.TgZ(0,"ngx-gallery-action",13),core.NdJ("closeClick",__name(function($event){const action_r10=core.CHM(_r13).$implicit,i_r3=core.oxw().index;return action_r10.onClick($event,i_r3)},"NgxGalleryThumbnailsComponent_a_2_ngx_gallery_action_4_Template_ngx_gallery_action_closeClick_0_listener")),core.qZA()}if(2&rf){const action_r10=ctx.$implicit;core.Q6J("icon",action_r10.icon)("disabled",action_r10.disabled)("titleText",action_r10.titleText)}}function NgxGalleryThumbnailsComponent_a_2_div_5_Template(rf,ctx){if(1&rf&&(core.TgZ(0,"div",14)(1,"span",15),core._uU(2),core.qZA()()),2&rf){const ctx_r7=core.oxw(2);core.xp6(2),core.hij("+",ctx_r7.remainingCountValue,"")}}function NgxGalleryThumbnailsComponent_a_2_Template(rf,ctx){if(1&rf){const _r15=core.EpF();core.TgZ(0,"a",3),core.NdJ("click",__name(function($event){const i_r3=core.CHM(_r15).index;return core.oxw().handleClick($event,i_r3)},"NgxGalleryThumbnailsComponent_a_2_Template_a_click_0_listener")),core.YNc(1,NgxGalleryThumbnailsComponent_a_2_div_1_Template,1,6,"div",4),core.YNc(2,NgxGalleryThumbnailsComponent_a_2_div_2_Template,4,5,"div",5),core.TgZ(3,"div",6),core.YNc(4,NgxGalleryThumbnailsComponent_a_2_ngx_gallery_action_4_Template,1,3,"ngx-gallery-action",7),core.qZA(),core.YNc(5,NgxGalleryThumbnailsComponent_a_2_div_5_Template,3,1,"div",8),core.qZA()}if(2&rf){const image_r2=ctx.$implicit,i_r3=ctx.index,ctx_r0=core.oxw();core.Udp("width",ctx_r0.getThumbnailWidth())("height",ctx_r0.getThumbnailHeight())("left",ctx_r0.getThumbnailLeft(i_r3))("top",ctx_r0.getThumbnailTop(i_r3)),core.Q6J("href",ctx_r0.hasLink(i_r3)?ctx_r0.links[i_r3]:"#",core.LSH)("target",ctx_r0.linkTarget)("ngClass",core.WLB(16,_c3,i_r3===ctx_r0.selectedIndex,ctx_r0.clickable)),core.uIk("aria-label",ctx_r0.labels[i_r3]),core.xp6(1),core.Q6J("ngIf","image"===ctx_r0.getFileType(image_r2)),core.xp6(1),core.Q6J("ngIf","video"===ctx_r0.getFileType(image_r2)),core.xp6(2),core.Q6J("ngForOf",ctx_r0.actions),core.xp6(1),core.Q6J("ngIf",ctx_r0.remainingCount&&ctx_r0.remainingCountValue&&i_r3===ctx_r0.rows*ctx_r0.columns-1)}}function NgxGalleryThumbnailsComponent_ngx_gallery_arrows_3_Template(rf,ctx){if(1&rf){const _r17=core.EpF();core.TgZ(0,"ngx-gallery-arrows",16),core.NdJ("prevClick",__name(function(){return core.CHM(_r17),core.oxw().moveLeft()},"NgxGalleryThumbnailsComponent_ngx_gallery_arrows_3_Template_ngx_gallery_arrows_prevClick_0_listener"))("nextClick",__name(function(){return core.CHM(_r17),core.oxw().moveRight()},"NgxGalleryThumbnailsComponent_ngx_gallery_arrows_3_Template_ngx_gallery_arrows_nextClick_0_listener")),core.qZA()}if(2&rf){const ctx_r1=core.oxw();core.Q6J("prevDisabled",!ctx_r1.canMoveLeft())("nextDisabled",!ctx_r1.canMoveRight())("arrowPrevIcon",ctx_r1.arrowPrevIcon)("arrowNextIcon",ctx_r1.arrowNextIcon)}}function NgxGalleryComponent_ngx_gallery_image_1_Template(rf,ctx){if(1&rf){const _r3=core.EpF();core.TgZ(0,"ngx-gallery-image",3),core.NdJ("imageClick",__name(function($event){return core.CHM(_r3),core.oxw().openPreview($event)},"NgxGalleryComponent_ngx_gallery_image_1_Template_ngx_gallery_image_imageClick_0_listener"))("activeChange",__name(function($event){return core.CHM(_r3),core.oxw().selectFromImage($event)},"NgxGalleryComponent_ngx_gallery_image_1_Template_ngx_gallery_image_activeChange_0_listener"))("animating",__name(function($event){return core.CHM(_r3),core.oxw().setAnimating($event)},"NgxGalleryComponent_ngx_gallery_image_1_Template_ngx_gallery_image_animating_0_listener")),core.qZA()}if(2&rf){const ctx_r0=core.oxw();core.Udp("height",ctx_r0.getImageHeight()),core.Q6J("images",ctx_r0.mediumImages)("clickable",null==ctx_r0.currentOptions?null:ctx_r0.currentOptions.preview)("selectedIndex",ctx_r0.selectedIndex)("arrows",null==ctx_r0.currentOptions?null:ctx_r0.currentOptions.imageArrows)("arrowsAutoHide",null==ctx_r0.currentOptions?null:ctx_r0.currentOptions.imageArrowsAutoHide)("arrowPrevIcon",null==ctx_r0.currentOptions?null:ctx_r0.currentOptions.arrowPrevIcon)("arrowNextIcon",null==ctx_r0.currentOptions?null:ctx_r0.currentOptions.arrowNextIcon)("swipe",null==ctx_r0.currentOptions?null:ctx_r0.currentOptions.imageSwipe)("animation",null==ctx_r0.currentOptions?null:ctx_r0.currentOptions.imageAnimation)("size",null==ctx_r0.currentOptions?null:ctx_r0.currentOptions.imageSize)("autoPlay",null==ctx_r0.currentOptions?null:ctx_r0.currentOptions.imageAutoPlay)("autoPlayInterval",null==ctx_r0.currentOptions?null:ctx_r0.currentOptions.imageAutoPlayInterval)("autoPlayPauseOnHover",null==ctx_r0.currentOptions?null:ctx_r0.currentOptions.imageAutoPlayPauseOnHover)("infinityMove",null==ctx_r0.currentOptions?null:ctx_r0.currentOptions.imageInfinityMove)("lazyLoading",null==ctx_r0.currentOptions?null:ctx_r0.currentOptions.lazyLoading)("actions",null==ctx_r0.currentOptions?null:ctx_r0.currentOptions.imageActions)("descriptions",ctx_r0.descriptions)("showDescription",null==ctx_r0.currentOptions?null:ctx_r0.currentOptions.imageDescription)("bullets",null==ctx_r0.currentOptions?null:ctx_r0.currentOptions.imageBullets)}}__name(NgxGalleryThumbnailsComponent_a_2_div_1_Template,"NgxGalleryThumbnailsComponent_a_2_div_1_Template"),__name(NgxGalleryThumbnailsComponent_a_2_div_2_Template,"NgxGalleryThumbnailsComponent_a_2_div_2_Template"),__name(NgxGalleryThumbnailsComponent_a_2_ngx_gallery_action_4_Template,"NgxGalleryThumbnailsComponent_a_2_ngx_gallery_action_4_Template"),__name(NgxGalleryThumbnailsComponent_a_2_div_5_Template,"NgxGalleryThumbnailsComponent_a_2_div_5_Template"),__name(NgxGalleryThumbnailsComponent_a_2_Template,"NgxGalleryThumbnailsComponent_a_2_Template"),__name(NgxGalleryThumbnailsComponent_ngx_gallery_arrows_3_Template,"NgxGalleryThumbnailsComponent_ngx_gallery_arrows_3_Template"),__name(NgxGalleryComponent_ngx_gallery_image_1_Template,"NgxGalleryComponent_ngx_gallery_image_1_Template");const _c4=__name(function(){return[]},"_c4");function NgxGalleryComponent_ngx_gallery_thumbnails_2_Template(rf,ctx){if(1&rf){const _r7=core.EpF();core.TgZ(0,"ngx-gallery-thumbnails",4),core.NdJ("activeChange",__name(function($event){return core.CHM(_r7),core.oxw().selectFromThumbnails($event)},"NgxGalleryComponent_ngx_gallery_thumbnails_2_Template_ngx_gallery_thumbnails_activeChange_0_listener")),core.qZA()}if(2&rf){const ctx_r1=core.oxw();core.Udp("margin-top",ctx_r1.getThumbnailsMarginTop())("margin-bottom",ctx_r1.getThumbnailsMarginBottom())("height",ctx_r1.getThumbnailsHeight()),core.Q6J("images",ctx_r1.smallImages)("isAnimating",ctx_r1.isAnimating)("links",null!=ctx_r1.currentOptions&&ctx_r1.currentOptions.thumbnailsAsLinks?ctx_r1.links:core.DdM(28,_c4))("labels",ctx_r1.labels)("linkTarget",null==ctx_r1.currentOptions?null:ctx_r1.currentOptions.linkTarget)("selectedIndex",ctx_r1.selectedIndex)("columns",null==ctx_r1.currentOptions?null:ctx_r1.currentOptions.thumbnailsColumns)("rows",null==ctx_r1.currentOptions?null:ctx_r1.currentOptions.thumbnailsRows)("margin",null==ctx_r1.currentOptions?null:ctx_r1.currentOptions.thumbnailMargin)("arrows",null==ctx_r1.currentOptions?null:ctx_r1.currentOptions.thumbnailsArrows)("arrowsAutoHide",null==ctx_r1.currentOptions?null:ctx_r1.currentOptions.thumbnailsArrowsAutoHide)("arrowPrevIcon",null==ctx_r1.currentOptions?null:ctx_r1.currentOptions.arrowPrevIcon)("arrowNextIcon",null==ctx_r1.currentOptions?null:ctx_r1.currentOptions.arrowNextIcon)("clickable",(null==ctx_r1.currentOptions?null:ctx_r1.currentOptions.image)||(null==ctx_r1.currentOptions?null:ctx_r1.currentOptions.preview))("swipe",null==ctx_r1.currentOptions?null:ctx_r1.currentOptions.thumbnailsSwipe)("size",null==ctx_r1.currentOptions?null:ctx_r1.currentOptions.thumbnailSize)("moveSize",null==ctx_r1.currentOptions?null:ctx_r1.currentOptions.thumbnailsMoveSize)("order",null==ctx_r1.currentOptions?null:ctx_r1.currentOptions.thumbnailsOrder)("remainingCount",null==ctx_r1.currentOptions?null:ctx_r1.currentOptions.thumbnailsRemainingCount)("lazyLoading",null==ctx_r1.currentOptions?null:ctx_r1.currentOptions.lazyLoading)("actions",null==ctx_r1.currentOptions?null:ctx_r1.currentOptions.thumbnailActions)("ngClass",null==ctx_r1.currentOptions?null:ctx_r1.currentOptions.thumbnailClasses)}}__name(NgxGalleryComponent_ngx_gallery_thumbnails_2_Template,"NgxGalleryComponent_ngx_gallery_thumbnails_2_Template");class NgxGalleryService{constructor(renderer){this.renderer=renderer,this.swipeHandlers=new Map}manageSwipe(status,element,id,nextHandler,prevHandler){const handlers=this.getSwipeHandlers(id);try{status&&!handlers?this.swipeHandlers.set(id,[this.renderer.listen(element.nativeElement,"swipeleft",()=>nextHandler()),this.renderer.listen(element.nativeElement,"swiperight",()=>prevHandler())]):!status&&handlers&&(handlers.map(handler=>handler()),this.removeSwipeHandlers(id))}catch(e){}}validateUrl(url){return url.replace?url.replace(new RegExp(" ","g"),"%20").replace(new RegExp("'","g"),"%27"):url}getBackgroundUrl(image){return"url('"+this.validateUrl(image)+"')"}getFileType(fileSource){const fileExtension=fileSource.split(".").pop().toLowerCase();return"avi"===fileExtension||"flv"===fileExtension||"wmv"===fileExtension||"mov"===fileExtension||"mp4"===fileExtension?"video":"image"}getSwipeHandlers(id){return this.swipeHandlers.get(id)}removeSwipeHandlers(id){this.swipeHandlers.delete(id)}}__name(NgxGalleryService,"NgxGalleryService"),NgxGalleryService.\u0275fac=__name(function(t){return new(t||NgxGalleryService)(core.LFG(core.Qsj))},"NgxGalleryService_Factory"),NgxGalleryService.\u0275prov=core.Yz7({token:NgxGalleryService,factory:NgxGalleryService.\u0275fac,providedIn:"root"});class NgxGalleryArrowsComponent{constructor(){this.prevClick=new core.vpe,this.nextClick=new core.vpe}handlePrevClick(){this.prevClick.emit()}handleNextClick(){this.nextClick.emit()}}__name(NgxGalleryArrowsComponent,"NgxGalleryArrowsComponent"),NgxGalleryArrowsComponent.\u0275fac=__name(function(t){return new(t||NgxGalleryArrowsComponent)},"NgxGalleryArrowsComponent_Factory"),NgxGalleryArrowsComponent.\u0275cmp=core.Xpm({type:NgxGalleryArrowsComponent,selectors:[["ngx-gallery-arrows"]],inputs:{prevDisabled:"prevDisabled",nextDisabled:"nextDisabled",arrowPrevIcon:"arrowPrevIcon",arrowNextIcon:"arrowNextIcon"},outputs:{prevClick:"prevClick",nextClick:"nextClick"},decls:6,vars:10,consts:[[1,"ngx-gallery-arrows-wrapper","ngx-gallery-arrow-left"],["aria-hidden","true",1,"ngx-gallery-icon","ngx-gallery-arrow",3,"click"],[1,"ngx-gallery-arrows-wrapper","ngx-gallery-arrow-right"]],template:__name(function(rf,ctx){1&rf&&(core.TgZ(0,"div",0)(1,"div",1),core.NdJ("click",__name(function(){return ctx.handlePrevClick()},"NgxGalleryArrowsComponent_Template_div_click_1_listener")),core._UZ(2,"i"),core.qZA()(),core.TgZ(3,"div",2)(4,"div",1),core.NdJ("click",__name(function(){return ctx.handleNextClick()},"NgxGalleryArrowsComponent_Template_div_click_4_listener")),core._UZ(5,"i"),core.qZA()()),2&rf&&(core.xp6(1),core.ekj("ngx-gallery-disabled",ctx.prevDisabled),core.xp6(1),core.Gre("ngx-gallery-icon-content ",ctx.arrowPrevIcon,""),core.xp6(2),core.ekj("ngx-gallery-disabled",ctx.nextDisabled),core.xp6(1),core.Gre("ngx-gallery-icon-content ",ctx.arrowNextIcon,""))},"NgxGalleryArrowsComponent_Template"),styles:[".ngx-gallery-arrow-wrapper[_ngcontent-%COMP%]{position:absolute;height:100%;width:1px;display:table;table-layout:fixed}.ngx-gallery-preview-img-wrapper[_ngcontent-%COMP%]   .ngx-gallery-arrow-wrapper[_ngcontent-%COMP%]{z-index:10001}.ngx-gallery-arrow-left[_ngcontent-%COMP%]{left:0}.ngx-gallery-arrow-right[_ngcontent-%COMP%]{right:0}.ngx-gallery-arrow[_ngcontent-%COMP%]{top:50%;transform:translateY(-50%);cursor:pointer}.ngx-gallery-arrow.ngx-gallery-disabled[_ngcontent-%COMP%]{opacity:.6;cursor:default}.ngx-gallery-arrow-left[_ngcontent-%COMP%]   .ngx-gallery-arrow[_ngcontent-%COMP%]{left:10px}.ngx-gallery-arrow-right[_ngcontent-%COMP%]   .ngx-gallery-arrow[_ngcontent-%COMP%]{right:10px}"],changeDetection:0});class NgxGalleryActionComponent{constructor(){this.disabled=!1,this.titleText="",this.closeClick=new core.vpe}handleClick(event2){this.disabled||this.closeClick.emit(event2),event2.stopPropagation(),event2.preventDefault()}}__name(NgxGalleryActionComponent,"NgxGalleryActionComponent"),NgxGalleryActionComponent.\u0275fac=__name(function(t){return new(t||NgxGalleryActionComponent)},"NgxGalleryActionComponent_Factory"),NgxGalleryActionComponent.\u0275cmp=core.Xpm({type:NgxGalleryActionComponent,selectors:[["ngx-gallery-action"]],inputs:{icon:"icon",disabled:"disabled",titleText:"titleText"},outputs:{closeClick:"closeClick"},decls:2,vars:6,consts:[["aria-hidden","true",1,"ngx-gallery-icon",3,"title","click"]],template:__name(function(rf,ctx){1&rf&&(core.TgZ(0,"div",0),core.NdJ("click",__name(function($event){return ctx.handleClick($event)},"NgxGalleryActionComponent_Template_div_click_0_listener")),core._UZ(1,"i"),core.qZA()),2&rf&&(core.ekj("ngx-gallery-icon-disabled",ctx.disabled),core.s9C("title",ctx.titleText),core.xp6(1),core.Gre("ngx-gallery-icon-content ",ctx.icon,""))},"NgxGalleryActionComponent_Template"),styles:[".ngx-gallery-icon[_ngcontent-%COMP%]{color:#fff;font-size:25px;position:absolute;z-index:2000;display:inline-block}.ngx-gallery-icon[_ngcontent-%COMP%]{position:relative;margin-right:10px;margin-top:10px;font-size:25px;cursor:pointer;text-decoration:none}.ngx-gallery-icon[_ngcontent-%COMP%]   .ngx-gallery-icon-content[_ngcontent-%COMP%]{display:block}"],changeDetection:0});class NgxGalleryBulletsComponent{constructor(){this.active=0,this.bulletChange=new core.vpe}getBullets(){return Array(this.count)}handleChange(event2,index){this.bulletChange.emit(index)}}__name(NgxGalleryBulletsComponent,"NgxGalleryBulletsComponent"),NgxGalleryBulletsComponent.\u0275fac=__name(function(t){return new(t||NgxGalleryBulletsComponent)},"NgxGalleryBulletsComponent_Factory"),NgxGalleryBulletsComponent.\u0275cmp=core.Xpm({type:NgxGalleryBulletsComponent,selectors:[["ngx-gallery-bullets"]],inputs:{count:"count",active:"active"},outputs:{bulletChange:"bulletChange"},decls:1,vars:1,consts:[["class","ngx-gallery-bullet",3,"ngClass","click",4,"ngFor","ngForOf"],[1,"ngx-gallery-bullet",3,"ngClass","click"]],template:__name(function(rf,ctx){1&rf&&core.YNc(0,NgxGalleryBulletsComponent_div_0_Template,1,3,"div",0),2&rf&&core.Q6J("ngForOf",ctx.getBullets())},"NgxGalleryBulletsComponent_Template"),directives:[common.sg,common.mk],styles:["[_nghost-%COMP%]{position:absolute;z-index:2000;display:inline-flex;left:50%;transform:translate(-50%);bottom:0;padding:10px}.ngx-gallery-bullet[_ngcontent-%COMP%]{width:10px;height:10px;border-radius:50%;cursor:pointer;background:white}.ngx-gallery-bullet[_ngcontent-%COMP%]:not(:first-child){margin-left:5px}.ngx-gallery-bullet[_ngcontent-%COMP%]:hover, .ngx-gallery-bullet.ngx-gallery-active[_ngcontent-%COMP%]{background:black}"],changeDetection:0});class NgxGalleryPreviewComponent{constructor(sanitization,elementRef,helperService,renderer,changeDetectorRef){this.sanitization=sanitization,this.elementRef=elementRef,this.helperService=helperService,this.renderer=renderer,this.changeDetectorRef=changeDetectorRef,this.showSpinner=!1,this.positionLeft=0,this.positionTop=0,this.zoomValue=1,this.loading=!1,this.rotateValue=0,this.index=0,this.previewOpen=new core.vpe,this.previewClose=new core.vpe,this.activeChange=new core.vpe,this.isOpen=!1,this.initialX=0,this.initialY=0,this.initialLeft=0,this.initialTop=0,this.isMove=!1}ngOnInit(){this.arrows&&this.arrowsAutoHide&&(this.arrows=!1)}ngOnChanges(changes){changes.swipe&&this.helperService.manageSwipe(this.swipe,this.elementRef,"preview",()=>this.showNext(),()=>this.showPrev())}ngOnDestroy(){this.keyDownListener&&this.keyDownListener()}onMouseEnter(){this.arrowsAutoHide&&!this.arrows&&(this.arrows=!0)}onMouseLeave(){this.arrowsAutoHide&&this.arrows&&(this.arrows=!1)}onKeyDown(e){this.isOpen&&(this.keyboardNavigation&&(this.isKeyboardPrev(e)?this.showPrev():this.isKeyboardNext(e)&&this.showNext()),this.closeOnEsc&&this.isKeyboardEsc(e)&&this.close())}open(index){this.previewOpen.emit(),this.index=index,this.isOpen=!0,this.show(!0),this.forceFullscreen&&this.manageFullscreen(),this.keyDownListener=this.renderer.listen("window","keydown",e=>this.onKeyDown(e))}close(){this.isOpen=!1;const video=this.previewImage.nativeElement;video.currentTime>0&&!video.paused&&!video.ended&&video.readyState>2&&video.pause(),this.closeFullscreen(),this.previewClose.emit(),this.stopAutoPlay(),this.keyDownListener&&this.keyDownListener()}imageMouseEnter(){this.autoPlay&&this.autoPlayPauseOnHover&&this.stopAutoPlay()}imageMouseLeave(){this.autoPlay&&this.autoPlayPauseOnHover&&this.startAutoPlay()}startAutoPlay(){this.autoPlay&&(this.stopAutoPlay(),this.timer=setTimeout(()=>{this.showNext()||(this.index=-1,this.showNext())},this.autoPlayInterval))}stopAutoPlay(){this.timer&&clearTimeout(this.timer)}showAtIndex(index){this.index=index,this.show()}showNext(){return!!this.canShowNext()&&(this.index++,this.index===this.images.length&&(this.index=0),this.show(),!0)}showPrev(){this.canShowPrev()&&(this.index--,this.index<0&&(this.index=this.images.length-1),this.show())}canShowNext(){return!this.loading&&(!!this.images&&(this.infinityMove||this.index<this.images.length-1))}canShowPrev(){return!this.loading&&(!!this.images&&(this.infinityMove||this.index>0))}manageFullscreen(){if(this.fullscreen||this.forceFullscreen){const doc=document;doc.fullscreenElement||doc.mozFullScreenElement||doc.webkitFullscreenElement||doc.msFullscreenElement?this.closeFullscreen():this.openFullscreen()}}getSafeUrl(image){return this.sanitization.bypassSecurityTrustUrl(image)}getFileType(fileSource){return this.helperService.getFileType(fileSource)}zoomIn(){this.canZoomIn()&&(this.zoomValue+=this.zoomStep,this.zoomValue>this.zoomMax&&(this.zoomValue=this.zoomMax))}zoomOut(){this.canZoomOut()&&(this.zoomValue-=this.zoomStep,this.zoomValue<this.zoomMin&&(this.zoomValue=this.zoomMin),this.zoomValue<=1&&this.resetPosition())}rotateLeft(){this.rotateValue-=90}rotateRight(){this.rotateValue+=90}getTransform(){return this.sanitization.bypassSecurityTrustStyle("scale("+this.zoomValue+") rotate("+this.rotateValue+"deg)")}canZoomIn(){return this.zoomValue<this.zoomMax}canZoomOut(){return this.zoomValue>this.zoomMin}canDragOnZoom(){return this.zoom&&this.zoomValue>1}mouseDownHandler(e){this.canDragOnZoom()&&(this.initialX=this.getClientX(e),this.initialY=this.getClientY(e),this.initialLeft=this.positionLeft,this.initialTop=this.positionTop,this.isMove=!0,e.preventDefault())}mouseUpHandler(e){this.isMove=!1}mouseMoveHandler(e){this.isMove&&(this.positionLeft=this.initialLeft+(this.getClientX(e)-this.initialX),this.positionTop=this.initialTop+(this.getClientY(e)-this.initialY))}getClientX(e){return e.touches&&e.touches.length?e.touches[0].clientX:e.clientX}getClientY(e){return e.touches&&e.touches.length?e.touches[0].clientY:e.clientY}resetPosition(){this.zoom&&(this.positionLeft=0,this.positionTop=0)}isKeyboardNext(e){return 39===e.keyCode}isKeyboardPrev(e){return 37===e.keyCode}isKeyboardEsc(e){return 27===e.keyCode}openFullscreen(){const element=document.documentElement;element.requestFullscreen?element.requestFullscreen():element.msRequestFullscreen?element.msRequestFullscreen():element.mozRequestFullScreen?element.mozRequestFullScreen():element.webkitRequestFullscreen&&element.webkitRequestFullscreen()}closeFullscreen(){if(this.isFullscreen()){const doc=document;doc.exitFullscreen?doc.exitFullscreen():doc.msExitFullscreen?doc.msExitFullscreen():doc.mozCancelFullScreen?doc.mozCancelFullScreen():doc.webkitExitFullscreen&&doc.webkitExitFullscreen()}}isFullscreen(){const doc=document;return doc.fullscreenElement||doc.webkitFullscreenElement||doc.mozFullScreenElement||doc.msFullscreenElement}show(first=!1){this.loading=!0,this.stopAutoPlay(),this.activeChange.emit(this.index),first||!this.animation?this._show():setTimeout(()=>this._show(),600)}_show(){this.zoomValue=1,this.rotateValue=0,this.resetPosition(),this.src=this.getSafeUrl(this.images[this.index]),this.type=this.getFileType(this.images[this.index]),this.srcIndex=this.index,this.description=this.descriptions[this.index],this.changeDetectorRef.markForCheck(),setTimeout(()=>{this.isLoaded(this.previewImage.nativeElement)||"video"===this.type?(this.loading=!1,this.startAutoPlay(),this.changeDetectorRef.markForCheck()):"video"===this.type||(setTimeout(()=>{this.loading&&(this.showSpinner=!0,this.changeDetectorRef.markForCheck())}),this.previewImage.nativeElement.onload=()=>{this.loading=!1,this.showSpinner=!1,this.previewImage.nativeElement.onload=null,this.startAutoPlay(),this.changeDetectorRef.markForCheck()})})}isLoaded(img){return!!img.complete&&!(void 0!==img.naturalWidth&&0===img.naturalWidth)}}__name(NgxGalleryPreviewComponent,"NgxGalleryPreviewComponent"),NgxGalleryPreviewComponent.\u0275fac=__name(function(t){return new(t||NgxGalleryPreviewComponent)(core.Y36(platform_browser.H7),core.Y36(core.SBq),core.Y36(NgxGalleryService),core.Y36(core.Qsj),core.Y36(core.sBO))},"NgxGalleryPreviewComponent_Factory"),NgxGalleryPreviewComponent.\u0275cmp=core.Xpm({type:NgxGalleryPreviewComponent,selectors:[["ngx-gallery-preview"]],viewQuery:__name(function(rf,ctx){if(1&rf&&core.Gf(_c1,5),2&rf){let _t;core.iGM(_t=core.CRH())&&(ctx.previewImage=_t.first)}},"NgxGalleryPreviewComponent_Query"),hostBindings:__name(function(rf,ctx){1&rf&&core.NdJ("mouseenter",__name(function(){return ctx.onMouseEnter()},"NgxGalleryPreviewComponent_mouseenter_HostBindingHandler"))("mouseleave",__name(function(){return ctx.onMouseLeave()},"NgxGalleryPreviewComponent_mouseleave_HostBindingHandler"))},"NgxGalleryPreviewComponent_HostBindings"),inputs:{images:"images",descriptions:"descriptions",showDescription:"showDescription",arrows:"arrows",arrowsAutoHide:"arrowsAutoHide",swipe:"swipe",fullscreen:"fullscreen",forceFullscreen:"forceFullscreen",closeOnClick:"closeOnClick",closeOnEsc:"closeOnEsc",keyboardNavigation:"keyboardNavigation",arrowPrevIcon:"arrowPrevIcon",arrowNextIcon:"arrowNextIcon",closeIcon:"closeIcon",fullscreenIcon:"fullscreenIcon",spinnerIcon:"spinnerIcon",autoPlay:"autoPlay",autoPlayInterval:"autoPlayInterval",autoPlayPauseOnHover:"autoPlayPauseOnHover",infinityMove:"infinityMove",zoom:"zoom",zoomStep:"zoomStep",zoomMax:"zoomMax",zoomMin:"zoomMin",zoomInIcon:"zoomInIcon",zoomOutIcon:"zoomOutIcon",animation:"animation",actions:"actions",rotate:"rotate",rotateLeftIcon:"rotateLeftIcon",rotateRightIcon:"rotateRightIcon",download:"download",downloadIcon:"downloadIcon",bullets:"bullets"},outputs:{previewOpen:"previewOpen",previewClose:"previewClose",activeChange:"activeChange"},features:[core.TTD],decls:19,vars:18,consts:[[3,"prevDisabled","nextDisabled","arrowPrevIcon","arrowNextIcon","prevClick","nextClick",4,"ngIf"],[1,"ngx-gallery-preview-top"],[1,"ngx-gallery-preview-icons"],[3,"icon","disabled","titleText","closeClick",4,"ngFor","ngForOf"],["class","ngx-gallery-icon","aria-hidden","true","download","",3,"href",4,"ngIf"],[3,"icon","disabled","closeClick",4,"ngIf"],[3,"icon","closeClick",4,"ngIf"],[3,"icon","closeClick"],[1,"ngx-spinner-wrapper","ngx-gallery-center"],["aria-hidden","true"],[1,"ngx-gallery-preview-wrapper",3,"click","mouseup","mousemove","touchend","touchmove"],[1,"ngx-gallery-preview-img-wrapper"],["class","ngx-gallery-preview-img ngx-gallery-center",3,"src","ngx-gallery-active","animation","ngx-gallery-grab","transform","left","top","click","mouseenter","mouseleave","mousedown","touchstart",4,"ngIf"],["controls","","style","width: 100%; height: 100%;","class","ngx-gallery-preview-img ngx-gallery-center",3,"ngx-gallery-active","animation","ngx-gallery-grab","transform","left","top","click","mouseenter","mouseleave","mousedown","touchstart",4,"ngIf"],[3,"count","active","bulletChange",4,"ngIf"],["class","ngx-gallery-preview-text",3,"innerHTML","click",4,"ngIf"],[3,"prevDisabled","nextDisabled","arrowPrevIcon","arrowNextIcon","prevClick","nextClick"],[3,"icon","disabled","titleText","closeClick"],["aria-hidden","true","download","",1,"ngx-gallery-icon",3,"href"],[3,"icon","disabled","closeClick"],[1,"ngx-gallery-preview-img","ngx-gallery-center",3,"src","click","mouseenter","mouseleave","mousedown","touchstart"],["previewImage",""],["controls","",1,"ngx-gallery-preview-img","ngx-gallery-center",2,"width","100%","height","100%",3,"click","mouseenter","mouseleave","mousedown","touchstart"],[3,"src"],[3,"count","active","bulletChange"],[1,"ngx-gallery-preview-text",3,"innerHTML","click"]],template:__name(function(rf,ctx){1&rf&&(core.YNc(0,NgxGalleryPreviewComponent_ngx_gallery_arrows_0_Template,1,4,"ngx-gallery-arrows",0),core.TgZ(1,"div",1)(2,"div",2),core.YNc(3,NgxGalleryPreviewComponent_ngx_gallery_action_3_Template,1,3,"ngx-gallery-action",3),core.YNc(4,NgxGalleryPreviewComponent_a_4_Template,2,4,"a",4),core.YNc(5,NgxGalleryPreviewComponent_ngx_gallery_action_5_Template,1,2,"ngx-gallery-action",5),core.YNc(6,NgxGalleryPreviewComponent_ngx_gallery_action_6_Template,1,2,"ngx-gallery-action",5),core.YNc(7,NgxGalleryPreviewComponent_ngx_gallery_action_7_Template,1,1,"ngx-gallery-action",6),core.YNc(8,NgxGalleryPreviewComponent_ngx_gallery_action_8_Template,1,1,"ngx-gallery-action",6),core.YNc(9,NgxGalleryPreviewComponent_ngx_gallery_action_9_Template,1,1,"ngx-gallery-action",6),core.TgZ(10,"ngx-gallery-action",7),core.NdJ("closeClick",__name(function(){return ctx.close()},"NgxGalleryPreviewComponent_Template_ngx_gallery_action_closeClick_10_listener")),core.qZA()()(),core.TgZ(11,"div",8),core._UZ(12,"i",9),core.qZA(),core.TgZ(13,"div",10),core.NdJ("click",__name(function(){return ctx.closeOnClick&&ctx.close()},"NgxGalleryPreviewComponent_Template_div_click_13_listener"))("mouseup",__name(function($event){return ctx.mouseUpHandler($event)},"NgxGalleryPreviewComponent_Template_div_mouseup_13_listener"))("mousemove",__name(function($event){return ctx.mouseMoveHandler($event)},"NgxGalleryPreviewComponent_Template_div_mousemove_13_listener"))("touchend",__name(function($event){return ctx.mouseUpHandler($event)},"NgxGalleryPreviewComponent_Template_div_touchend_13_listener"))("touchmove",__name(function($event){return ctx.mouseMoveHandler($event)},"NgxGalleryPreviewComponent_Template_div_touchmove_13_listener")),core.TgZ(14,"div",11),core.YNc(15,NgxGalleryPreviewComponent_img_15_Template,2,13,"img",12),core.YNc(16,NgxGalleryPreviewComponent_video_16_Template,4,13,"video",13),core.YNc(17,NgxGalleryPreviewComponent_ngx_gallery_bullets_17_Template,1,2,"ngx-gallery-bullets",14),core.qZA(),core.YNc(18,NgxGalleryPreviewComponent_div_18_Template,1,1,"div",15),core.qZA()),2&rf&&(core.Q6J("ngIf",ctx.arrows),core.xp6(3),core.Q6J("ngForOf",ctx.actions),core.xp6(1),core.Q6J("ngIf",ctx.download&&ctx.src),core.xp6(1),core.Q6J("ngIf",ctx.zoom),core.xp6(1),core.Q6J("ngIf",ctx.zoom),core.xp6(1),core.Q6J("ngIf",ctx.rotate),core.xp6(1),core.Q6J("ngIf",ctx.rotate),core.xp6(1),core.Q6J("ngIf",ctx.fullscreen),core.xp6(1),core.Q6J("icon","ngx-gallery-close "+ctx.closeIcon),core.xp6(1),core.ekj("ngx-gallery-active",ctx.showSpinner),core.xp6(1),core.Gre("ngx-gallery-icon ngx-gallery-spinner ",ctx.spinnerIcon,""),core.xp6(3),core.Q6J("ngIf",ctx.src&&"image"===ctx.type),core.xp6(1),core.Q6J("ngIf",ctx.src&&"video"===ctx.type),core.xp6(1),core.Q6J("ngIf",ctx.bullets),core.xp6(1),core.Q6J("ngIf",ctx.showDescription&&ctx.description))},"NgxGalleryPreviewComponent_Template"),directives:[NgxGalleryArrowsComponent,NgxGalleryActionComponent,NgxGalleryBulletsComponent,common.O5,common.sg],styles:[".ngx-gallery-active[_nghost-%COMP%]{width:100%;height:100%;position:fixed;left:0;top:0;background:rgba(0,0,0,.7);z-index:10000;display:inline-block;font-size:50px!important}[_nghost-%COMP%]{display:none;font-size:50px!important}[_nghost-%COMP%]   .ngx-gallery-arrow[_ngcontent-%COMP%]{font-size:50px!important}ngx-gallery-bullets[_ngcontent-%COMP%]{height:5%;align-items:center;padding:0}.ngx-gallery-preview-img[_ngcontent-%COMP%]{opacity:0;max-width:90%;max-height:90%;-webkit-user-select:none;user-select:none;transition:transform .5s}.ngx-gallery-preview-img.animation[_ngcontent-%COMP%]{transition:opacity .5s linear,transform .5s}.ngx-gallery-preview-img.ngx-gallery-active[_ngcontent-%COMP%]{opacity:1}.ngx-gallery-preview-img.ngx-gallery-grab[_ngcontent-%COMP%]{cursor:grab}.ngx-gallery-icon.ngx-gallery-spinner[_ngcontent-%COMP%]{font-size:50px;left:0;display:inline-block}[_nghost-%COMP%]   .ngx-gallery-preview-top[_ngcontent-%COMP%]{position:absolute;width:100%;-webkit-user-select:none;user-select:none;font-size:25px}.ngx-gallery-preview-icons[_ngcontent-%COMP%]{float:right}.ngx-gallery-preview-icons[_ngcontent-%COMP%]   .ngx-gallery-icon[_ngcontent-%COMP%]{position:relative;margin-right:10px;margin-top:10px;font-size:25px;cursor:pointer;text-decoration:none}.ngx-gallery-preview-icons[_ngcontent-%COMP%]   .ngx-gallery-icon.ngx-gallery-icon-disabled[_ngcontent-%COMP%]{cursor:default;opacity:.4}.ngx-spinner-wrapper[_ngcontent-%COMP%]{width:50px;height:50px;display:none}.ngx-spinner-wrapper.ngx-gallery-active[_ngcontent-%COMP%]{display:inline-block}.ngx-gallery-center[_ngcontent-%COMP%]{position:absolute;left:0;right:0;bottom:0;margin:auto;top:0}.ngx-gallery-preview-text[_ngcontent-%COMP%]{width:100%;background:rgba(0,0,0,.7);padding:10px;text-align:center;color:#fff;font-size:16px;flex:0 1 auto;z-index:10}.ngx-gallery-preview-wrapper[_ngcontent-%COMP%]{width:100%;height:100%;display:flex;flex-flow:column}.ngx-gallery-preview-img-wrapper[_ngcontent-%COMP%]{flex:1 1 auto;position:relative}"],changeDetection:0});class NgxGalleryAnimation{}__name(NgxGalleryAnimation,"NgxGalleryAnimation"),NgxGalleryAnimation.Fade="fade",NgxGalleryAnimation.Slide="slide",NgxGalleryAnimation.Rotate="rotate",NgxGalleryAnimation.Zoom="zoom";class NgxGalleryImageComponent{constructor(sanitization,changeDetectorRef,elementRef,helperService){this.sanitization=sanitization,this.changeDetectorRef=changeDetectorRef,this.elementRef=elementRef,this.helperService=helperService,this.imageClick=new core.vpe,this.activeChange=new core.vpe,this.animating=new core.vpe,this.canChangeImage=!0,this.isAnimating=!1,this.changeDetectorRef=changeDetectorRef,this.action="none"}set selectedIndex(index){if(index>this._selectedIndex){let action;this.animation===NgxGalleryAnimation.Slide?action="slideRight":this.animation===NgxGalleryAnimation.Fade?action="fade":this.animation===NgxGalleryAnimation.Rotate?action="rotateRight":this.animation===NgxGalleryAnimation.Zoom&&(action="zoom"),this.setAction(action)}else if(index<this._selectedIndex){let action;this.animation===NgxGalleryAnimation.Slide?action="slideLeft":this.animation===NgxGalleryAnimation.Fade?action="fade":this.animation===NgxGalleryAnimation.Rotate?action="rotateLeft":this.animation===NgxGalleryAnimation.Zoom&&(action="zoom"),this.setAction(action)}this._selectedIndex=index}ngOnInit(){this.arrows&&this.arrowsAutoHide&&(this.arrows=!1),this.autoPlay&&this.startAutoPlay()}ngOnChanges(changes){changes.swipe&&this.helperService.manageSwipe(this.swipe,this.elementRef,"image",()=>this.showNext(),()=>this.showPrev())}onMouseEnter(){this.arrowsAutoHide&&!this.arrows&&(this.arrows=!0),this.autoPlay&&this.autoPlayPauseOnHover&&this.stopAutoPlay()}onMouseLeave(){this.arrowsAutoHide&&this.arrows&&(this.arrows=!1),this.autoPlay&&this.autoPlayPauseOnHover&&this.startAutoPlay()}reset(index){this._selectedIndex=index,this.action="none"}getImages(){if(!this.images)return[];if(this.lazyLoading){const indexes=[this._selectedIndex],prevIndex=this._selectedIndex-1;-1===prevIndex&&this.infinityMove?indexes.push(this.images.length-1):prevIndex>=0&&indexes.push(prevIndex);const nextIndex=this._selectedIndex+1;return nextIndex===this.images.length&&this.infinityMove?indexes.push(0):nextIndex<this.images.length&&indexes.push(nextIndex),this.images.filter((img,i)=>-1!==indexes.indexOf(i))}return this.images}startAutoPlay(){this.stopAutoPlay(),this.timer=setInterval(()=>{this.showNext()||(this._selectedIndex=-1,this.showNext())},this.autoPlayInterval)}stopAutoPlay(){this.timer&&clearInterval(this.timer)}handleClick(event2,index){this.clickable&&(this.imageClick.emit(index),event2.stopPropagation(),event2.preventDefault())}show(index){if(!this.isAnimating){if(index>this._selectedIndex){let action;this.animation===NgxGalleryAnimation.Slide?action="slideRight":this.animation===NgxGalleryAnimation.Fade?action="fade":this.animation===NgxGalleryAnimation.Rotate?action="rotateRight":this.animation===NgxGalleryAnimation.Zoom&&(action="zoom"),this.setAction(action)}else{let action;this.animation===NgxGalleryAnimation.Slide?action="slideLeft":this.animation===NgxGalleryAnimation.Fade?action="fade":this.animation===NgxGalleryAnimation.Rotate?action="rotateLeft":this.animation===NgxGalleryAnimation.Zoom&&(action="zoom"),this.setAction(action)}this._selectedIndex=index,this.activeChange.emit(this._selectedIndex),this.setChangeTimeout()}}setAction(action){this.action=action,this.changeDetectorRef.detectChanges()}showNext(){if(this.isAnimating)return!1;if(this.canShowNext()&&this.canChangeImage){let action;return this.animation===NgxGalleryAnimation.Slide?action="slideRight":this.animation===NgxGalleryAnimation.Fade?action="fade":this.animation===NgxGalleryAnimation.Rotate?action="rotateRight":this.animation===NgxGalleryAnimation.Zoom&&(action="zoom"),this.setAction(action),this._selectedIndex++,this._selectedIndex===this.images.length&&(this._selectedIndex=0),this.activeChange.emit(this._selectedIndex),this.setChangeTimeout(),!0}return!1}showPrev(){if(!this.isAnimating&&this.canShowPrev()&&this.canChangeImage){let action;this.animation===NgxGalleryAnimation.Slide?action="slideLeft":this.animation===NgxGalleryAnimation.Fade?action="fade":this.animation===NgxGalleryAnimation.Rotate?action="rotateLeft":this.animation===NgxGalleryAnimation.Zoom&&(action="zoom"),this.setAction(action),this._selectedIndex--,this._selectedIndex<0&&(this._selectedIndex=this.images.length-1),this.activeChange.emit(this._selectedIndex),this.setChangeTimeout()}}setChangeTimeout(){this.canChangeImage=!1;let timeout=1e3;(this.animation===NgxGalleryAnimation.Slide||this.animation===NgxGalleryAnimation.Fade)&&(timeout=500),setTimeout(()=>{this.canChangeImage=!0},timeout)}canShowNext(){return!!this.images&&(this.infinityMove||this._selectedIndex<this.images.length-1)}canShowPrev(){return!!this.images&&(this.infinityMove||this._selectedIndex>0)}getSafeUrl(image){return this.sanitization.bypassSecurityTrustStyle(this.helperService.getBackgroundUrl(image.toString()))}getFileType(fileSource){return this.helperService.getFileType(fileSource)}onStart(event2){this.isAnimating=!0,this.animating.emit(!0)}onDone(event2){this.isAnimating=!1,this.animating.emit(!1)}}__name(NgxGalleryImageComponent,"NgxGalleryImageComponent"),NgxGalleryImageComponent.\u0275fac=__name(function(t){return new(t||NgxGalleryImageComponent)(core.Y36(platform_browser.H7),core.Y36(core.sBO),core.Y36(core.SBq),core.Y36(NgxGalleryService))},"NgxGalleryImageComponent_Factory"),NgxGalleryImageComponent.\u0275cmp=core.Xpm({type:NgxGalleryImageComponent,selectors:[["ngx-gallery-image"]],hostBindings:__name(function(rf,ctx){1&rf&&core.NdJ("mouseenter",__name(function(){return ctx.onMouseEnter()},"NgxGalleryImageComponent_mouseenter_HostBindingHandler"))("mouseleave",__name(function(){return ctx.onMouseLeave()},"NgxGalleryImageComponent_mouseleave_HostBindingHandler"))},"NgxGalleryImageComponent_HostBindings"),inputs:{images:"images",clickable:"clickable",selectedIndex:"selectedIndex",arrows:"arrows",arrowsAutoHide:"arrowsAutoHide",swipe:"swipe",animation:"animation",size:"size",arrowPrevIcon:"arrowPrevIcon",arrowNextIcon:"arrowNextIcon",autoPlay:"autoPlay",autoPlayInterval:"autoPlayInterval",autoPlayPauseOnHover:"autoPlayPauseOnHover",infinityMove:"infinityMove",lazyLoading:"lazyLoading",actions:"actions",descriptions:"descriptions",showDescription:"showDescription",bullets:"bullets"},outputs:{imageClick:"imageClick",activeChange:"activeChange",animating:"animating"},features:[core.TTD],decls:4,vars:7,consts:[[4,"ngFor","ngForOf"],[3,"count","active","bulletChange",4,"ngIf"],[3,"class","prevDisabled","nextDisabled","arrowPrevIcon","arrowNextIcon","prevClick","nextClick",4,"ngIf"],["class","ngx-gallery-image",3,"ngClass","background-image","click",4,"ngIf"],[1,"ngx-gallery-image",3,"ngClass","click"],[1,"ngx-gallery-icons-wrapper"],[3,"icon","disabled","titleText","closeClick",4,"ngFor","ngForOf"],["class","ngx-gallery-image-text",3,"innerHTML","click",4,"ngIf"],[3,"icon","disabled","titleText","closeClick"],[1,"ngx-gallery-image-text",3,"innerHTML","click"],["controls","",2,"width","100%","height","100%","background","#000"],[3,"src"],[3,"count","active","bulletChange"],[3,"prevDisabled","nextDisabled","arrowPrevIcon","arrowNextIcon","prevClick","nextClick"]],template:__name(function(rf,ctx){1&rf&&(core.TgZ(0,"div"),core.YNc(1,NgxGalleryImageComponent_ng_container_1_Template,3,2,"ng-container",0),core.YNc(2,NgxGalleryImageComponent_ngx_gallery_bullets_2_Template,1,2,"ngx-gallery-bullets",1),core.YNc(3,NgxGalleryImageComponent_ngx_gallery_arrows_3_Template,1,7,"ngx-gallery-arrows",2),core.qZA()),2&rf&&(core.MT6("ngx-gallery-image-wrapper ngx-gallery-animation-",ctx.animation," ngx-gallery-image-size-",ctx.size,""),core.xp6(1),core.Q6J("ngForOf",ctx.getImages()),core.xp6(1),core.Q6J("ngIf",ctx.bullets),core.xp6(1),core.Q6J("ngIf",ctx.arrows))},"NgxGalleryImageComponent_Template"),directives:[NgxGalleryActionComponent,NgxGalleryBulletsComponent,NgxGalleryArrowsComponent,common.sg,common.O5,common.mk],styles:["[_nghost-%COMP%]{width:100%;display:inline-block;position:relative;font-size:25px}.ngx-gallery-image-wrapper[_ngcontent-%COMP%]{width:100%;height:100%;position:absolute;left:0;top:0;overflow:hidden}.ngx-gallery-image[_ngcontent-%COMP%]{background-position:center;background-repeat:no-repeat;height:100%;width:100%;position:absolute;top:0}.ngx-gallery-image-size-cover[_ngcontent-%COMP%]   .ngx-gallery-image[_ngcontent-%COMP%]{background-size:cover}.ngx-gallery-image-size-contain[_ngcontent-%COMP%]   .ngx-gallery-image[_ngcontent-%COMP%]{background-size:contain}.ngx-gallery-animation-fade[_ngcontent-%COMP%]   .ngx-gallery-image[_ngcontent-%COMP%]{left:0;opacity:1;transition:.5s ease-in-out}.ngx-gallery-animation-fade[_ngcontent-%COMP%]   .ngx-gallery-image.ngx-gallery-active[_ngcontent-%COMP%]{opacity:1}.ngx-gallery-animation-rotate[_ngcontent-%COMP%]   .ngx-gallery-image[_ngcontent-%COMP%]{transition:1s ease;transform:scale(1) rotate(0);left:0;opacity:1}.ngx-gallery-animation-zoom[_ngcontent-%COMP%]   .ngx-gallery-image[_ngcontent-%COMP%]{transition:1s ease;transform:scale(1);left:0;opacity:1}.ngx-gallery-image-text[_ngcontent-%COMP%]{width:100%;background:rgba(0,0,0,.7);padding:10px;text-align:center;color:#fff;font-size:16px;position:absolute;bottom:0;z-index:10}"],data:{animation:[(0,animations.X$)("animation",[(0,animations.SB)("slideRight",(0,animations.oB)({})),(0,animations.SB)("slideLeft",(0,animations.oB)({})),(0,animations.SB)("fade",(0,animations.oB)({})),(0,animations.SB)("rotateLeft",(0,animations.oB)({})),(0,animations.SB)("rotateRight",(0,animations.oB)({})),(0,animations.SB)("zoom",(0,animations.oB)({})),(0,animations.eR)("slideRight => void",[(0,animations.jt)("500ms ease-in-out",(0,animations.oB)({transform:"translateX(-100%)"}))]),(0,animations.eR)("void => slideRight",[(0,animations.oB)({transform:"translateX(100%)"}),(0,animations.jt)("500ms ease-in-out",(0,animations.oB)({transform:"translateX(0)"}))]),(0,animations.eR)("slideLeft => void",[(0,animations.jt)("500ms ease-in-out",(0,animations.oB)({transform:"translateX(100%)"}))]),(0,animations.eR)("void => slideLeft",[(0,animations.oB)({transform:"translateX(-100%)"}),(0,animations.jt)("500ms ease-in-out",(0,animations.oB)({transform:"translateX(0)"}))]),(0,animations.eR)("fade => void",[(0,animations.jt)("500ms ease-in-out",(0,animations.oB)({opacity:"0"}))]),(0,animations.eR)("void => fade",[(0,animations.oB)({opacity:"0"}),(0,animations.jt)("500ms ease-in-out",(0,animations.oB)({opacity:"1"}))]),(0,animations.eR)("rotateLeft => void",[(0,animations.jt)("500ms ease-in-out",(0,animations.oB)({transform:"scale(1, 1) rotate(-90deg)",opacity:"0"}))]),(0,animations.eR)("void => rotateLeft",[(0,animations.oB)({transform:"scale(1, 1) rotate(-90deg)",opacity:"0"}),(0,animations.jt)("500ms ease-in-out",(0,animations.oB)({transform:"scale(1, 1) rotate(0deg)",opacity:"1"}))]),(0,animations.eR)("rotateRight => void",[(0,animations.jt)("500ms ease-in-out",(0,animations.oB)({transform:"scale(1, 1) rotate(90deg)",opacity:"0"}))]),(0,animations.eR)("void => rotateRight",[(0,animations.oB)({transform:"scale(1, 1) rotate(90deg)",opacity:"0"}),(0,animations.jt)("500ms ease-in-out",(0,animations.oB)({transform:"scale(1, 1) rotate(0deg)",opacity:"1"}))]),(0,animations.eR)("zoom => void",[(0,animations.jt)("500ms ease-in-out",(0,animations.oB)({transform:"scale(2.5,2.5)",opacity:"0"}))]),(0,animations.eR)("void => zoom",[(0,animations.oB)({transform:"scale(2.5,2.5)",opacity:"0"}),(0,animations.jt)("500ms ease-in-out",(0,animations.oB)({transform:"scale(1, 1)",opacity:"1"}))])])]},changeDetection:0});class NgxGalleryOrder{}__name(NgxGalleryOrder,"NgxGalleryOrder"),NgxGalleryOrder.Column=1,NgxGalleryOrder.Row=2,NgxGalleryOrder.Page=3;class NgxGalleryThumbnailsComponent{constructor(sanitization,elementRef,helperService){this.sanitization=sanitization,this.elementRef=elementRef,this.helperService=helperService,this.minStopIndex=0,this.activeChange=new core.vpe,this.index=0}ngOnChanges(changes){changes.selectedIndex&&this.validateIndex(),changes.swipe&&this.helperService.manageSwipe(this.swipe,this.elementRef,"thumbnails",()=>this.moveRight(),()=>this.moveLeft()),this.images&&(this.remainingCountValue=this.images.length-this.rows*this.columns)}onMouseEnter(){this.mouseenter=!0}onMouseLeave(){this.mouseenter=!1}reset(index){this.selectedIndex=index,this.setDefaultPosition(),this.index=0,this.validateIndex()}getImages(){if(!this.images)return[];if(this.remainingCount)return this.images.slice(0,this.rows*this.columns);if(this.lazyLoading&&this.order!==NgxGalleryOrder.Row){let stopIndex=0;return this.order===NgxGalleryOrder.Column?stopIndex=(this.index+this.columns+this.moveSize)*this.rows:this.order===NgxGalleryOrder.Page&&(stopIndex=this.index+this.columns*this.rows*2),stopIndex<=this.minStopIndex?stopIndex=this.minStopIndex:this.minStopIndex=stopIndex,this.images.slice(0,stopIndex)}return this.images}handleClick(event2,index){!this.hasLink(index)&&!this.isAnimating&&(this.selectedIndex=index,this.activeChange.emit(index)),event2.stopPropagation(),event2.preventDefault()}hasLink(index){return!!(this.links&&this.links.length&&this.links[index])}moveRight(){if(this.canMoveRight()){this.index+=this.moveSize;const maxIndex=this.getMaxIndex()-this.columns;this.index>maxIndex&&(this.index=maxIndex),this.setThumbnailsPosition()}}moveLeft(){this.canMoveLeft()&&(this.index-=this.moveSize,this.index<0&&(this.index=0),this.setThumbnailsPosition())}canMoveRight(){return this.index+this.columns<this.getMaxIndex()}canMoveLeft(){return 0!==this.index}getThumbnailLeft(index){let calculatedIndex;return calculatedIndex=this.order===NgxGalleryOrder.Column?Math.floor(index/this.rows):this.order===NgxGalleryOrder.Page?index%this.columns+Math.floor(index/(this.rows*this.columns))*this.columns:this.order===NgxGalleryOrder.Row&&this.remainingCount?index%this.columns:index%Math.ceil(this.images.length/this.rows),this.getThumbnailPosition(calculatedIndex,this.columns)}getThumbnailTop(index){let calculatedIndex;return calculatedIndex=this.order===NgxGalleryOrder.Column?index%this.rows:this.order===NgxGalleryOrder.Page?Math.floor(index/this.columns)-Math.floor(index/(this.rows*this.columns))*this.rows:this.order===NgxGalleryOrder.Row&&this.remainingCount?Math.floor(index/this.columns):Math.floor(index/Math.ceil(this.images.length/this.rows)),this.getThumbnailPosition(calculatedIndex,this.rows)}getThumbnailWidth(){return this.getThumbnailDimension(this.columns)}getThumbnailHeight(){return this.getThumbnailDimension(this.rows)}setThumbnailsPosition(){this.thumbnailsLeft=-100/this.columns*this.index+"%",this.thumbnailsMarginLeft=-(this.margin-(this.columns-1)*this.margin/this.columns)*this.index+"px"}setDefaultPosition(){this.thumbnailsLeft="0px",this.thumbnailsMarginLeft="0px"}canShowArrows(){return!this.remainingCount&&(this.arrows&&this.images&&this.images.length>this.getVisibleCount()&&(!this.arrowsAutoHide||this.mouseenter))}validateIndex(){if(this.images){let newIndex;if(newIndex=this.order===NgxGalleryOrder.Column?Math.floor(this.selectedIndex/this.rows):this.selectedIndex%Math.ceil(this.images.length/this.rows),this.remainingCount&&(newIndex=0),newIndex<this.index||newIndex>=this.index+this.columns){const maxIndex=this.getMaxIndex()-this.columns;this.index=newIndex>maxIndex?maxIndex:newIndex,this.setThumbnailsPosition()}}}getSafeUrl(image){return this.sanitization.bypassSecurityTrustStyle(this.helperService.getBackgroundUrl(image.toString()))}getFileType(fileSource){return this.helperService.getFileType(fileSource.toString())}getThumbnailPosition(index,count){return this.getSafeStyle("calc("+100/count*index+"% + "+(this.margin-(count-1)*this.margin/count)*index+"px)")}getThumbnailDimension(count){return 0!==this.margin?this.getSafeStyle("calc("+100/count+"% - "+(count-1)*this.margin/count+"px)"):this.getSafeStyle("calc("+100/count+"% + 1px)")}getMaxIndex(){if(this.order===NgxGalleryOrder.Page){let maxIndex=Math.floor(this.images.length/this.getVisibleCount())*this.columns;return this.images.length%this.getVisibleCount()>this.columns?maxIndex+=this.columns:maxIndex+=this.images.length%this.getVisibleCount(),maxIndex}return Math.ceil(this.images.length/this.rows)}getVisibleCount(){return this.columns*this.rows}getSafeStyle(value){return this.sanitization.bypassSecurityTrustStyle(value)}}__name(NgxGalleryThumbnailsComponent,"NgxGalleryThumbnailsComponent"),NgxGalleryThumbnailsComponent.\u0275fac=__name(function(t){return new(t||NgxGalleryThumbnailsComponent)(core.Y36(platform_browser.H7),core.Y36(core.SBq),core.Y36(NgxGalleryService))},"NgxGalleryThumbnailsComponent_Factory"),NgxGalleryThumbnailsComponent.\u0275cmp=core.Xpm({type:NgxGalleryThumbnailsComponent,selectors:[["ngx-gallery-thumbnails"]],hostBindings:__name(function(rf,ctx){1&rf&&core.NdJ("mouseenter",__name(function(){return ctx.onMouseEnter()},"NgxGalleryThumbnailsComponent_mouseenter_HostBindingHandler"))("mouseleave",__name(function(){return ctx.onMouseLeave()},"NgxGalleryThumbnailsComponent_mouseleave_HostBindingHandler"))},"NgxGalleryThumbnailsComponent_HostBindings"),inputs:{images:"images",isAnimating:"isAnimating",links:"links",labels:"labels",linkTarget:"linkTarget",columns:"columns",rows:"rows",arrows:"arrows",arrowsAutoHide:"arrowsAutoHide",margin:"margin",selectedIndex:"selectedIndex",clickable:"clickable",swipe:"swipe",size:"size",arrowPrevIcon:"arrowPrevIcon",arrowNextIcon:"arrowNextIcon",moveSize:"moveSize",order:"order",remainingCount:"remainingCount",lazyLoading:"lazyLoading",actions:"actions"},outputs:{activeChange:"activeChange"},features:[core.TTD],decls:4,vars:9,consts:[[1,"ngx-gallery-thumbnails"],["class","ngx-gallery-thumbnail",3,"href","target","width","height","left","top","ngClass","click",4,"ngFor","ngForOf"],[3,"prevDisabled","nextDisabled","arrowPrevIcon","arrowNextIcon","prevClick","nextClick",4,"ngIf"],[1,"ngx-gallery-thumbnail",3,"href","target","ngClass","click"],["class","ngx-gallery-thumbnail","style","width: 100%; height: 100%; position:absolute;",3,"background-image","ngClass",4,"ngIf"],["class","ngx-gallery-thumbnail-video",4,"ngIf"],[1,"ngx-gallery-icons-wrapper"],[3,"icon","disabled","titleText","closeClick",4,"ngFor","ngForOf"],["class","ngx-gallery-remaining-count-overlay",4,"ngIf"],[1,"ngx-gallery-thumbnail",2,"width","100%","height","100%","position","absolute",3,"ngClass"],[1,"ngx-gallery-thumbnail-video"],[1,"ngx-gallery-thumbnail",2,"width","100%","height","100%","position","absolute","left","0","background","#000",3,"ngClass"],[3,"src"],[3,"icon","disabled","titleText","closeClick"],[1,"ngx-gallery-remaining-count-overlay"],[1,"ngx-gallery-remaining-count"],[3,"prevDisabled","nextDisabled","arrowPrevIcon","arrowNextIcon","prevClick","nextClick"]],template:__name(function(rf,ctx){1&rf&&(core.TgZ(0,"div")(1,"div",0),core.YNc(2,NgxGalleryThumbnailsComponent_a_2_Template,6,19,"a",1),core.qZA()(),core.YNc(3,NgxGalleryThumbnailsComponent_ngx_gallery_arrows_3_Template,1,4,"ngx-gallery-arrows",2)),2&rf&&(core.Gre("ngx-gallery-thumbnails-wrapper ngx-gallery-thumbnail-size-",ctx.size,""),core.xp6(1),core.Udp("transform","translateX("+ctx.thumbnailsLeft+")")("margin-left",ctx.thumbnailsMarginLeft),core.xp6(1),core.Q6J("ngForOf",ctx.getImages()),core.xp6(1),core.Q6J("ngIf",ctx.canShowArrows()))},"NgxGalleryThumbnailsComponent_Template"),directives:[NgxGalleryActionComponent,NgxGalleryArrowsComponent,common.sg,common.mk,common.O5],styles:['@charset "UTF-8";[_nghost-%COMP%]{width:100%;display:inline-block;position:relative;font-size:25px}.ngx-gallery-thumbnails-wrapper[_ngcontent-%COMP%]{width:100%;height:100%;position:absolute;overflow:hidden}.ngx-gallery-thumbnails[_ngcontent-%COMP%]{height:100%;width:100%;position:absolute;left:0;transform:translate(0);transition:transform .5s ease-in-out;will-change:transform}.ngx-gallery-thumbnails[_ngcontent-%COMP%]   .ngx-gallery-thumbnail[_ngcontent-%COMP%]{position:absolute;height:100%;background-position:center;background-repeat:no-repeat;text-decoration:none;border:1px double black}.ngx-gallery-thumbnails[_ngcontent-%COMP%]   .ngx-gallery-thumbnail[_ngcontent-%COMP%]   .ngx-gallery-thumbnail-video[_ngcontent-%COMP%]:after{content:"\\f144";display:block;position:absolute;background:#0000;height:100%;width:100%;left:0;top:calc(50% - 20px);font-size:40px;color:#fff;margin:0;padding:0;font-family:fontawesome;text-shadow:0px 4px 3px rgba(0,0,0,.4),0px 8px 13px rgba(0,0,0,.1),0px 18px 23px rgba(0,0,0,.1)}.ngx-gallery-thumbnails[_ngcontent-%COMP%]   .ngx-gallery-thumbnail[_ngcontent-%COMP%]   .img[_ngcontent-%COMP%]{background-size:cover;height:100%}.ngx-gallery-thumbnails[_ngcontent-%COMP%]   .ngx-gallery-thumbnail.ngx-gallery-active[_ngcontent-%COMP%]{border:1px double #cc4548}.ngx-gallery-thumbnail-size-cover[_ngcontent-%COMP%]   .ngx-gallery-thumbnails[_ngcontent-%COMP%]   .ngx-gallery-thumbnail[_ngcontent-%COMP%]{background-size:cover}.ngx-gallery-thumbnail-size-contain[_ngcontent-%COMP%]   .ngx-gallery-thumbnails[_ngcontent-%COMP%]   .ngx-gallery-thumbnail[_ngcontent-%COMP%]{background-size:contain}.ngx-gallery-remaining-count-overlay[_ngcontent-%COMP%]{width:100%;height:100%;position:absolute;left:0;top:0;background-color:#0006}.ngx-gallery-remaining-count[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);color:#fff;font-size:30px}'],changeDetection:0});class NgxGalleryAction{constructor(action){this.icon=action.icon,this.disabled=!!action.disabled&&action.disabled,this.titleText=action.titleText?action.titleText:"",this.onClick=action.onClick}}__name(NgxGalleryAction,"NgxGalleryAction");class NgxGalleryLayout{}__name(NgxGalleryLayout,"NgxGalleryLayout"),NgxGalleryLayout.ThumbnailsTop="thumbnails-top",NgxGalleryLayout.ThumbnailsBottom="thumbnails-bottom";class NgxGalleryImageSize{}__name(NgxGalleryImageSize,"NgxGalleryImageSize"),NgxGalleryImageSize.Cover="cover",NgxGalleryImageSize.Contain="contain";class NgxGalleryOptions{constructor(obj){const preventDefaults=void 0!==obj.breakpoint;function use(source,defaultValue){return obj&&(void 0!==source||preventDefaults)?source:defaultValue}__name(use,"use"),this.breakpoint=use(obj.breakpoint,void 0),this.width=use(obj.width,"500px"),this.height=use(obj.height,"400px"),this.fullWidth=use(obj.fullWidth,!1),this.layout=use(obj.layout,NgxGalleryLayout.ThumbnailsBottom),this.startIndex=use(obj.startIndex,0),this.linkTarget=use(obj.linkTarget,"_blank"),this.lazyLoading=use(obj.lazyLoading,!0),this.image=use(obj.image,!0),this.imagePercent=use(obj.imagePercent,75),this.imageArrows=use(obj.imageArrows,!0),this.imageArrowsAutoHide=use(obj.imageArrowsAutoHide,!1),this.imageSwipe=use(obj.imageSwipe,!1),this.imageAnimation=use(obj.imageAnimation,NgxGalleryAnimation.Fade),this.imageSize=use(obj.imageSize,NgxGalleryImageSize.Cover),this.imageAutoPlay=use(obj.imageAutoPlay,!1),this.imageAutoPlayInterval=use(obj.imageAutoPlayInterval,2e3),this.imageAutoPlayPauseOnHover=use(obj.imageAutoPlayPauseOnHover,!1),this.imageInfinityMove=use(obj.imageInfinityMove,!1),obj&&obj.imageActions&&obj.imageActions.length&&(obj.imageActions=obj.imageActions.map(action=>new NgxGalleryAction(action))),this.imageActions=use(obj.imageActions,[]),this.imageDescription=use(obj.imageDescription,!1),this.imageBullets=use(obj.imageBullets,!1),this.thumbnails=use(obj.thumbnails,!0),this.thumbnailsColumns=use(obj.thumbnailsColumns,4),this.thumbnailsRows=use(obj.thumbnailsRows,1),this.thumbnailsPercent=use(obj.thumbnailsPercent,25),this.thumbnailsMargin=use(obj.thumbnailsMargin,10),this.thumbnailsArrows=use(obj.thumbnailsArrows,!0),this.thumbnailsArrowsAutoHide=use(obj.thumbnailsArrowsAutoHide,!1),this.thumbnailsSwipe=use(obj.thumbnailsSwipe,!1),this.thumbnailsMoveSize=use(obj.thumbnailsMoveSize,1),this.thumbnailsOrder=use(obj.thumbnailsOrder,NgxGalleryOrder.Column),this.thumbnailsRemainingCount=use(obj.thumbnailsRemainingCount,!1),this.thumbnailsAsLinks=use(obj.thumbnailsAsLinks,!1),this.thumbnailsAutoHide=use(obj.thumbnailsAutoHide,!1),this.thumbnailMargin=use(obj.thumbnailMargin,10),this.thumbnailSize=use(obj.thumbnailSize,NgxGalleryImageSize.Cover),obj&&obj.thumbnailActions&&obj.thumbnailActions.length&&(obj.thumbnailActions=obj.thumbnailActions.map(action=>new NgxGalleryAction(action))),this.thumbnailActions=use(obj.thumbnailActions,[]),this.thumbnailClasses=use(obj.thumbnailClasses,[]),this.preview=use(obj.preview,!0),this.previewDescription=use(obj.previewDescription,!0),this.previewArrows=use(obj.previewArrows,!0),this.previewArrowsAutoHide=use(obj.previewArrowsAutoHide,!1),this.previewSwipe=use(obj.previewSwipe,!1),this.previewFullscreen=use(obj.previewFullscreen,!1),this.previewForceFullscreen=use(obj.previewForceFullscreen,!1),this.previewCloseOnClick=use(obj.previewCloseOnClick,!1),this.previewCloseOnEsc=use(obj.previewCloseOnEsc,!1),this.previewKeyboardNavigation=use(obj.previewKeyboardNavigation,!1),this.previewAnimation=use(obj.previewAnimation,!0),this.previewAutoPlay=use(obj.previewAutoPlay,!1),this.previewAutoPlayInterval=use(obj.previewAutoPlayInterval,2e3),this.previewAutoPlayPauseOnHover=use(obj.previewAutoPlayPauseOnHover,!1),this.previewInfinityMove=use(obj.previewInfinityMove,!1),this.previewZoom=use(obj.previewZoom,!1),this.previewZoomStep=use(obj.previewZoomStep,.1),this.previewZoomMax=use(obj.previewZoomMax,2),this.previewZoomMin=use(obj.previewZoomMin,.5),this.previewRotate=use(obj.previewRotate,!1),this.previewDownload=use(obj.previewDownload,!1),this.previewCustom=use(obj.previewCustom,void 0),this.previewBullets=use(obj.previewBullets,!1),this.arrowPrevIcon=use(obj.arrowPrevIcon,"fa fa-arrow-circle-left"),this.arrowNextIcon=use(obj.arrowNextIcon,"fa fa-arrow-circle-right"),this.closeIcon=use(obj.closeIcon,"fa fa-times-circle"),this.fullscreenIcon=use(obj.fullscreenIcon,"fa fa-arrows-alt"),this.spinnerIcon=use(obj.spinnerIcon,"fa fa-spinner fa-pulse fa-3x fa-fw"),this.zoomInIcon=use(obj.zoomInIcon,"fa fa-search-plus"),this.zoomOutIcon=use(obj.zoomOutIcon,"fa fa-search-minus"),this.rotateLeftIcon=use(obj.rotateLeftIcon,"fa fa-undo"),this.rotateRightIcon=use(obj.rotateRightIcon,"fa fa-repeat"),this.downloadIcon=use(obj.downloadIcon,"fa fa-arrow-circle-down"),obj&&obj.actions&&obj.actions.length&&(obj.actions=obj.actions.map(action=>new NgxGalleryAction(action))),this.actions=use(obj.actions,[])}}__name(NgxGalleryOptions,"NgxGalleryOptions");class NgxGalleryOrderedImage{constructor(obj){this.src=obj.src,this.type=obj.type,this.index=obj.index}}__name(NgxGalleryOrderedImage,"NgxGalleryOrderedImage");class NgxGalleryComponent{constructor(myElement,helperService){this.myElement=myElement,this.helperService=helperService,this.options=[{}],this.imagesReady=new core.vpe,this.change=new core.vpe,this.previewOpen=new core.vpe,this.previewClose=new core.vpe,this.previewChange=new core.vpe,this.oldImagesLength=0,this.selectedIndex=0,this.breakpoint=void 0,this.prevBreakpoint=void 0}ngOnInit(){this.options=this.options.map(opt=>new NgxGalleryOptions(opt)),this.sortOptions(),this.setBreakpoint(),this.setOptions(),this.checkFullWidth(),this.currentOptions&&(this.selectedIndex=this.currentOptions.startIndex)}ngDoCheck(){(void 0!==this.images&&this.images.length!==this.oldImagesLength||this.images!==this.oldImages)&&(this.oldImagesLength=this.images.length,this.oldImages=this.images,this.setOptions(),this.setImages(),this.images&&this.images.length&&this.imagesReady.emit(),this.image&&this.image.reset(this.currentOptions.startIndex),this.currentOptions.thumbnailsAutoHide&&this.currentOptions.thumbnails&&this.images.length<=1&&(this.currentOptions.thumbnails=!1,this.currentOptions.imageArrows=!1),this.resetThumbnails())}ngAfterViewInit(){this.checkFullWidth()}onResize(){this.setBreakpoint(),this.prevBreakpoint!==this.breakpoint&&(this.setOptions(),this.resetThumbnails()),this.currentOptions&&this.currentOptions.fullWidth&&(this.fullWidthTimeout&&clearTimeout(this.fullWidthTimeout),this.fullWidthTimeout=setTimeout(()=>{this.checkFullWidth()},200))}getImageHeight(){return this.currentOptions&&this.currentOptions.thumbnails?this.currentOptions.imagePercent+"%":"100%"}getThumbnailsHeight(){return this.currentOptions&&this.currentOptions.image?"calc("+this.currentOptions.thumbnailsPercent+"% - "+this.currentOptions.thumbnailsMargin+"px)":"100%"}getThumbnailsMarginTop(){return this.currentOptions&&this.currentOptions.layout===NgxGalleryLayout.ThumbnailsBottom?this.currentOptions.thumbnailsMargin+"px":"0px"}getThumbnailsMarginBottom(){return this.currentOptions&&this.currentOptions.layout===NgxGalleryLayout.ThumbnailsTop?this.currentOptions.thumbnailsMargin+"px":"0px"}openPreview(index){this.currentOptions.previewCustom?this.currentOptions.previewCustom(index):(this.previewEnabled=!0,this.preview.open(index))}onPreviewOpen(){this.previewOpen.emit(),this.image&&this.image.autoPlay&&this.image.stopAutoPlay()}onPreviewClose(){this.previewEnabled=!1,this.previewClose.emit(),this.image&&this.image.autoPlay&&this.image.startAutoPlay()}selectFromImage(index){this.select(index)}selectFromThumbnails(index){this.select(index),this.currentOptions&&this.currentOptions.thumbnails&&this.currentOptions.preview&&(!this.currentOptions.image||this.currentOptions.thumbnailsRemainingCount)&&this.openPreview(this.selectedIndex)}show(index){this.select(index)}showNext(){this.image.showNext()}showPrev(){this.image.showPrev()}canShowNext(){return!(!this.images||!this.currentOptions)&&!!(this.currentOptions.imageInfinityMove||this.selectedIndex<this.images.length-1)}canShowPrev(){return!(!this.images||!this.currentOptions)&&!!(this.currentOptions.imageInfinityMove||this.selectedIndex>0)}previewSelect(index){this.previewChange.emit({index,image:this.images[index]})}moveThumbnailsRight(){this.thumbnails.moveRight()}moveThumbnailsLeft(){this.thumbnails.moveLeft()}canMoveThumbnailsRight(){return this.thumbnails.canMoveRight()}canMoveThumbnailsLeft(){return this.thumbnails.canMoveLeft()}resetThumbnails(){this.thumbnails&&this.thumbnails.reset(this.currentOptions.startIndex)}select(index){this.selectedIndex=index,this.change.emit({index,image:this.images[index]})}checkFullWidth(){this.currentOptions&&this.currentOptions.fullWidth&&(this.width=document.body.clientWidth+"px",this.left="translateX("+-(document.body.clientWidth-this.myElement.nativeElement.parentNode.innerWidth)/2+"px)")}setImages(){this.images.forEach(img=>img.type=this.helperService.getFileType(img.url||img.big||img.medium||img.small||"")),this.smallImages=this.images.map(img=>img.small),this.mediumImages=this.images.map((img,i)=>new NgxGalleryOrderedImage({src:img.medium,type:img.type,index:i})),this.bigImages=this.images.map(img=>img.big),this.descriptions=this.images.map(img=>img.description),this.links=this.images.map(img=>img.url),this.labels=this.images.map(img=>img.label)}setBreakpoint(){let breakpoints;this.prevBreakpoint=this.breakpoint,"undefined"!=typeof window&&(breakpoints=this.options.filter(opt=>opt.breakpoint>=window.innerWidth).map(opt=>opt.breakpoint)),breakpoints&&breakpoints.length?this.breakpoint=breakpoints.pop():this.breakpoint=void 0}sortOptions(){this.options=[...this.options.filter(a=>void 0===a.breakpoint),...this.options.filter(a=>void 0!==a.breakpoint).sort((a,b)=>b.breakpoint-a.breakpoint)]}setOptions(){this.currentOptions=new NgxGalleryOptions({}),this.options.filter(opt=>void 0===opt.breakpoint||opt.breakpoint>=this.breakpoint).map(opt=>this.combineOptions(this.currentOptions,opt)),this.width=this.currentOptions.width,this.height=this.currentOptions.height}combineOptions(first,second){Object.keys(second).map(val=>first[val]=void 0!==second[val]?second[val]:first[val])}setAnimating(event2){this.isAnimating=event2}}__name(NgxGalleryComponent,"NgxGalleryComponent"),NgxGalleryComponent.\u0275fac=__name(function(t){return new(t||NgxGalleryComponent)(core.Y36(core.SBq),core.Y36(NgxGalleryService))},"NgxGalleryComponent_Factory"),NgxGalleryComponent.\u0275cmp=core.Xpm({type:NgxGalleryComponent,selectors:[["ngx-gallery"]],viewQuery:__name(function(rf,ctx){if(1&rf&&(core.Gf(NgxGalleryPreviewComponent,5),core.Gf(NgxGalleryImageComponent,5),core.Gf(NgxGalleryThumbnailsComponent,5)),2&rf){let _t;core.iGM(_t=core.CRH())&&(ctx.preview=_t.first),core.iGM(_t=core.CRH())&&(ctx.image=_t.first),core.iGM(_t=core.CRH())&&(ctx.thumbnails=_t.first)}},"NgxGalleryComponent_Query"),hostVars:6,hostBindings:__name(function(rf,ctx){1&rf&&core.NdJ("resize",__name(function(){return ctx.onResize()},"NgxGalleryComponent_resize_HostBindingHandler"),!1,core.Jf7),2&rf&&core.Udp("width",ctx.width)("height",ctx.height)("transform",ctx.left)},"NgxGalleryComponent_HostBindings"),inputs:{options:"options",images:"images"},outputs:{imagesReady:"imagesReady",change:"change",previewOpen:"previewOpen",previewClose:"previewClose",previewChange:"previewChange"},features:[core._Bn([NgxGalleryService])],decls:4,vars:41,consts:[[3,"height","images","clickable","selectedIndex","arrows","arrowsAutoHide","arrowPrevIcon","arrowNextIcon","swipe","animation","size","autoPlay","autoPlayInterval","autoPlayPauseOnHover","infinityMove","lazyLoading","actions","descriptions","showDescription","bullets","imageClick","activeChange","animating",4,"ngIf"],[3,"marginTop","marginBottom","height","images","isAnimating","links","labels","linkTarget","selectedIndex","columns","rows","margin","arrows","arrowsAutoHide","arrowPrevIcon","arrowNextIcon","clickable","swipe","size","moveSize","order","remainingCount","lazyLoading","actions","ngClass","activeChange",4,"ngIf"],[3,"images","descriptions","showDescription","arrowPrevIcon","arrowNextIcon","closeIcon","fullscreenIcon","spinnerIcon","arrows","arrowsAutoHide","swipe","fullscreen","forceFullscreen","closeOnClick","closeOnEsc","keyboardNavigation","animation","autoPlay","autoPlayInterval","autoPlayPauseOnHover","infinityMove","zoom","zoomStep","zoomMax","zoomMin","zoomInIcon","zoomOutIcon","actions","rotate","rotateLeftIcon","rotateRightIcon","download","downloadIcon","bullets","previewClose","previewOpen","activeChange"],[3,"images","clickable","selectedIndex","arrows","arrowsAutoHide","arrowPrevIcon","arrowNextIcon","swipe","animation","size","autoPlay","autoPlayInterval","autoPlayPauseOnHover","infinityMove","lazyLoading","actions","descriptions","showDescription","bullets","imageClick","activeChange","animating"],[3,"images","isAnimating","links","labels","linkTarget","selectedIndex","columns","rows","margin","arrows","arrowsAutoHide","arrowPrevIcon","arrowNextIcon","clickable","swipe","size","moveSize","order","remainingCount","lazyLoading","actions","ngClass","activeChange"]],template:__name(function(rf,ctx){1&rf&&(core.TgZ(0,"div"),core.YNc(1,NgxGalleryComponent_ngx_gallery_image_1_Template,1,21,"ngx-gallery-image",0),core.YNc(2,NgxGalleryComponent_ngx_gallery_thumbnails_2_Template,1,29,"ngx-gallery-thumbnails",1),core.TgZ(3,"ngx-gallery-preview",2),core.NdJ("previewClose",__name(function(){return ctx.onPreviewClose()},"NgxGalleryComponent_Template_ngx_gallery_preview_previewClose_3_listener"))("previewOpen",__name(function(){return ctx.onPreviewOpen()},"NgxGalleryComponent_Template_ngx_gallery_preview_previewOpen_3_listener"))("activeChange",__name(function($event){return ctx.previewSelect($event)},"NgxGalleryComponent_Template_ngx_gallery_preview_activeChange_3_listener")),core.qZA()()),2&rf&&(core.Gre("ngx-gallery-layout ",null==ctx.currentOptions?null:ctx.currentOptions.layout,""),core.xp6(1),core.Q6J("ngIf",null==ctx.currentOptions?null:ctx.currentOptions.image),core.xp6(1),core.Q6J("ngIf",null==ctx.currentOptions?null:ctx.currentOptions.thumbnails),core.xp6(1),core.ekj("ngx-gallery-active",ctx.previewEnabled),core.Q6J("images",ctx.bigImages)("descriptions",ctx.descriptions)("showDescription",null==ctx.currentOptions?null:ctx.currentOptions.previewDescription)("arrowPrevIcon",null==ctx.currentOptions?null:ctx.currentOptions.arrowPrevIcon)("arrowNextIcon",null==ctx.currentOptions?null:ctx.currentOptions.arrowNextIcon)("closeIcon",null==ctx.currentOptions?null:ctx.currentOptions.closeIcon)("fullscreenIcon",null==ctx.currentOptions?null:ctx.currentOptions.fullscreenIcon)("spinnerIcon",null==ctx.currentOptions?null:ctx.currentOptions.spinnerIcon)("arrows",null==ctx.currentOptions?null:ctx.currentOptions.previewArrows)("arrowsAutoHide",null==ctx.currentOptions?null:ctx.currentOptions.previewArrowsAutoHide)("swipe",null==ctx.currentOptions?null:ctx.currentOptions.previewSwipe)("fullscreen",null==ctx.currentOptions?null:ctx.currentOptions.previewFullscreen)("forceFullscreen",null==ctx.currentOptions?null:ctx.currentOptions.previewForceFullscreen)("closeOnClick",null==ctx.currentOptions?null:ctx.currentOptions.previewCloseOnClick)("closeOnEsc",null==ctx.currentOptions?null:ctx.currentOptions.previewCloseOnEsc)("keyboardNavigation",null==ctx.currentOptions?null:ctx.currentOptions.previewKeyboardNavigation)("animation",null==ctx.currentOptions?null:ctx.currentOptions.previewAnimation)("autoPlay",null==ctx.currentOptions?null:ctx.currentOptions.previewAutoPlay)("autoPlayInterval",null==ctx.currentOptions?null:ctx.currentOptions.previewAutoPlayInterval)("autoPlayPauseOnHover",null==ctx.currentOptions?null:ctx.currentOptions.previewAutoPlayPauseOnHover)("infinityMove",null==ctx.currentOptions?null:ctx.currentOptions.previewInfinityMove)("zoom",null==ctx.currentOptions?null:ctx.currentOptions.previewZoom)("zoomStep",null==ctx.currentOptions?null:ctx.currentOptions.previewZoomStep)("zoomMax",null==ctx.currentOptions?null:ctx.currentOptions.previewZoomMax)("zoomMin",null==ctx.currentOptions?null:ctx.currentOptions.previewZoomMin)("zoomInIcon",null==ctx.currentOptions?null:ctx.currentOptions.zoomInIcon)("zoomOutIcon",null==ctx.currentOptions?null:ctx.currentOptions.zoomOutIcon)("actions",null==ctx.currentOptions?null:ctx.currentOptions.actions)("rotate",null==ctx.currentOptions?null:ctx.currentOptions.previewRotate)("rotateLeftIcon",null==ctx.currentOptions?null:ctx.currentOptions.rotateLeftIcon)("rotateRightIcon",null==ctx.currentOptions?null:ctx.currentOptions.rotateRightIcon)("download",null==ctx.currentOptions?null:ctx.currentOptions.previewDownload)("downloadIcon",null==ctx.currentOptions?null:ctx.currentOptions.downloadIcon)("bullets",null==ctx.currentOptions?null:ctx.currentOptions.previewBullets))},"NgxGalleryComponent_Template"),directives:[NgxGalleryImageComponent,NgxGalleryThumbnailsComponent,NgxGalleryPreviewComponent,common.O5,common.mk],styles:[":host{display:inline-block}:host>*{float:left}.ngx-gallery-layout{width:100%;height:100%;display:flex;flex-direction:column}.ngx-gallery-layout.thumbnails-top ngx-gallery-image{order:2}.ngx-gallery-layout.thumbnails-top ngx-gallery-thumbnails{order:1}.ngx-gallery-layout.thumbnails-bottom ngx-gallery-image{order:1}.ngx-gallery-layout.thumbnails-bottom ngx-gallery-thumbnails{order:2}*{box-sizing:border-box}.ngx-gallery-icon{color:#fff;position:absolute;display:inline-block}.ngx-gallery-icon .ngx-gallery-icon-content{display:block}ngx-gallery-preview{font-size:25px}ngx-gallery-preview .ngx-gallery-icon{z-index:2000}.ngx-gallery-clickable{cursor:pointer}.ngx-gallery-icons-wrapper .ngx-gallery-icon{position:relative;margin-right:5px;margin-top:5px;font-size:20px;cursor:pointer}.ngx-gallery-icons-wrapper{float:right}\n"],encapsulation:2,changeDetection:0});class CustomHammerConfig extends platform_browser.hm{constructor(){super(...arguments),this.overrides={pinch:{enable:!1},rotate:{enable:!1}}}}__name(CustomHammerConfig,"CustomHammerConfig"),CustomHammerConfig.\u0275fac=function(){let \u0275CustomHammerConfig_BaseFactory;return __name(function(t){return(\u0275CustomHammerConfig_BaseFactory||(\u0275CustomHammerConfig_BaseFactory=core.n5z(CustomHammerConfig)))(t||CustomHammerConfig)},"CustomHammerConfig_Factory")}(),CustomHammerConfig.\u0275prov=core.Yz7({token:CustomHammerConfig,factory:CustomHammerConfig.\u0275fac});class NgxGalleryModule{}__name(NgxGalleryModule,"NgxGalleryModule"),NgxGalleryModule.\u0275fac=__name(function(t){return new(t||NgxGalleryModule)},"NgxGalleryModule_Factory"),NgxGalleryModule.\u0275mod=core.oAB({type:NgxGalleryModule}),NgxGalleryModule.\u0275inj=core.cJS({providers:[{provide:platform_browser.ok,useClass:CustomHammerConfig}],imports:[[common.ez]]});__name(class NgxGalleryImage{constructor(obj){this.small=obj.small,this.medium=obj.medium,this.big=obj.big,this.description=obj.description,this.url=obj.url,this.type=obj.type,this.label=obj.label}},"NgxGalleryImage");class MediaViewerImageComponent{constructor(authService){this.authService=authService}ngOnInit(){this.isAuthenticated$=this.authService.isAuthenticated(),this.galleryOptions=[{preview:void 0===this.preview||this.preview,image:!0,imageSize:"contain",thumbnails:!1,imageArrows:!1,startIndex:0,imageAnimation:NgxGalleryAnimation.Slide,previewCloseOnEsc:!0,previewZoom:!0,previewRotate:!0,previewFullscreen:!0}],this.image?this.galleryImages=[{small:this.image,medium:this.image,big:this.image}]:this.galleryImages=this.convertToGalleryImage(this.images)}convertToGalleryImage(medias){const mappadImages=[];for(const image of medias)"image"===image.format&&mappadImages.push({small:image.thumbnail?image.thumbnail:"./assets/images/replacement_image.svg",medium:image.thumbnail?image.thumbnail:"./assets/images/replacement_image.svg",big:image.bitstream._links.content.href});return mappadImages}}function MediaViewerComponent_ng_container_0_ds_themed_loading_1_Template(rf,ctx){1&rf&&(core._UZ(0,"ds-themed-loading",3),core.ALo(1,"translate")),2&rf&&(core.s9C("message",core.lcZ(1,2,"loading.default")),core.Q6J("showMessage",!1))}function MediaViewerComponent_ng_container_0_div_2_ng_container_1_ng_container_1_ng_container_1_Template(rf,ctx){if(1&rf&&(core.ynx(0),core._UZ(1,"ds-media-viewer-video",6),core.BQk()),2&rf){const mediaList_r1=core.oxw(4).ngVar;core.xp6(1),core.Q6J("medias",mediaList_r1)}}function MediaViewerComponent_ng_container_0_div_2_ng_container_1_ng_container_1_Template(rf,ctx){if(1&rf&&(core.ynx(0),core.YNc(1,MediaViewerComponent_ng_container_0_div_2_ng_container_1_ng_container_1_ng_container_1_Template,2,1,"ng-container",5),core.BQk()),2&rf){const mediaList_r1=core.oxw(3).ngVar;core.xp6(1),core.Q6J("ngIf","video"===(null==mediaList_r1[0]?null:mediaList_r1[0].format)||"audio"===(null==mediaList_r1[0]?null:mediaList_r1[0].format))}}function MediaViewerComponent_ng_container_0_div_2_ng_container_1_ng_container_2_Template(rf,ctx){if(1&rf&&(core.ynx(0),core._UZ(1,"ds-media-viewer-image",7),core.BQk()),2&rf){const mediaList_r1=core.oxw(3).ngVar;core.xp6(1),core.Q6J("images",mediaList_r1)}}function MediaViewerComponent_ng_container_0_div_2_ng_container_1_Template(rf,ctx){if(1&rf&&(core.ynx(0),core.YNc(1,MediaViewerComponent_ng_container_0_div_2_ng_container_1_ng_container_1_Template,2,1,"ng-container",5),core.YNc(2,MediaViewerComponent_ng_container_0_div_2_ng_container_1_ng_container_2_Template,2,1,"ng-container",5),core.BQk()),2&rf){const mediaList_r1=core.oxw(2).ngVar,ctx_r4=core.oxw();core.xp6(1),core.Q6J("ngIf",ctx_r4.videoOptions),core.xp6(1),core.Q6J("ngIf","image"===(null==mediaList_r1[0]?null:mediaList_r1[0].format))}}function MediaViewerComponent_ng_container_0_div_2_ng_container_2_Template(rf,ctx){if(1&rf&&(core.ynx(0),core._UZ(1,"ds-media-viewer-image",8),core.BQk()),2&rf){const mediaList_r1=core.oxw(2).ngVar,ctx_r5=core.oxw();core.xp6(1),core.Q6J("image",(null==mediaList_r1[0]?null:mediaList_r1[0].thumbnail)||ctx_r5.thumbnailPlaceholder)("preview",!1)}}function MediaViewerComponent_ng_container_0_div_2_Template(rf,ctx){if(1&rf&&(core.TgZ(0,"div",4),core.YNc(1,MediaViewerComponent_ng_container_0_div_2_ng_container_1_Template,3,2,"ng-container",5),core.YNc(2,MediaViewerComponent_ng_container_0_div_2_ng_container_2_Template,2,2,"ng-container",5),core.qZA()),2&rf){const mediaList_r1=core.oxw().ngVar,ctx_r3=core.oxw();core.xp6(1),core.Q6J("ngIf",mediaList_r1.length>0),core.xp6(1),core.Q6J("ngIf",!(("image"===(null==mediaList_r1[0]?null:mediaList_r1[0].format)||ctx_r3.videoOptions&&"video"===(null==mediaList_r1[0]?null:mediaList_r1[0].format)||ctx_r3.videoOptions&&"audio"===(null==mediaList_r1[0]?null:mediaList_r1[0].format))&&0!==mediaList_r1.length))}}function MediaViewerComponent_ng_container_0_Template(rf,ctx){if(1&rf&&(core.ynx(0),core.YNc(1,MediaViewerComponent_ng_container_0_ds_themed_loading_1_Template,2,4,"ds-themed-loading",1),core.YNc(2,MediaViewerComponent_ng_container_0_div_2_Template,3,2,"div",2),core.BQk()),2&rf){const ctx_r0=core.oxw();core.xp6(1),core.Q6J("ngIf",ctx_r0.isLoading),core.xp6(1),core.Q6J("ngIf",!ctx_r0.isLoading)}}__name(MediaViewerImageComponent,"MediaViewerImageComponent"),MediaViewerImageComponent.\u0275fac=__name(function(t){return new(t||MediaViewerImageComponent)(core.Y36(auth_service.e8))},"MediaViewerImageComponent_Factory"),MediaViewerImageComponent.\u0275cmp=core.Xpm({type:MediaViewerImageComponent,selectors:[["ds-media-viewer-image"]],inputs:{images:"images",preview:"preview",image:"image"},decls:3,vars:6,consts:[[1,"ngx-gallery",3,"options","images"]],template:__name(function(rf,ctx){1&rf&&(core.TgZ(0,"div"),core.ALo(1,"async"),core._UZ(2,"ngx-gallery",0),core.qZA()),2&rf&&(core.ekj("change-gallery",core.lcZ(1,4,ctx.isAuthenticated$)),core.xp6(2),core.Q6J("options",ctx.galleryOptions)("images",ctx.galleryImages))},"MediaViewerImageComponent_Template"),directives:[NgxGalleryComponent],pipes:[common.Ov],styles:[".ngx-gallery[_ngcontent-%COMP%]{display:inline-block;margin-bottom:20px;width:340px!important;height:279px!important}"]}),__name(MediaViewerComponent_ng_container_0_ds_themed_loading_1_Template,"MediaViewerComponent_ng_container_0_ds_themed_loading_1_Template"),__name(MediaViewerComponent_ng_container_0_div_2_ng_container_1_ng_container_1_ng_container_1_Template,"MediaViewerComponent_ng_container_0_div_2_ng_container_1_ng_container_1_ng_container_1_Template"),__name(MediaViewerComponent_ng_container_0_div_2_ng_container_1_ng_container_1_Template,"MediaViewerComponent_ng_container_0_div_2_ng_container_1_ng_container_1_Template"),__name(MediaViewerComponent_ng_container_0_div_2_ng_container_1_ng_container_2_Template,"MediaViewerComponent_ng_container_0_div_2_ng_container_1_ng_container_2_Template"),__name(MediaViewerComponent_ng_container_0_div_2_ng_container_1_Template,"MediaViewerComponent_ng_container_0_div_2_ng_container_1_Template"),__name(MediaViewerComponent_ng_container_0_div_2_ng_container_2_Template,"MediaViewerComponent_ng_container_0_div_2_ng_container_2_Template"),__name(MediaViewerComponent_ng_container_0_div_2_Template,"MediaViewerComponent_ng_container_0_div_2_Template"),__name(MediaViewerComponent_ng_container_0_Template,"MediaViewerComponent_ng_container_0_Template");class MediaViewerComponent{constructor(bitstreamDataService){this.bitstreamDataService=bitstreamDataService,this.thumbnailPlaceholder="./assets/images/replacement_document.svg"}ngOnInit(){this.mediaList$=new cjs.BehaviorSubject([]),this.isLoading=!0,this.loadRemoteData("ORIGINAL").subscribe(bitstreamsRD=>{0===bitstreamsRD.payload.page.length?(this.isLoading=!1,this.mediaList$.next([])):this.loadRemoteData("THUMBNAIL").subscribe(thumbnailsRD=>{for(let index=0;index<bitstreamsRD.payload.page.length;index++)bitstreamsRD.payload.page[index].format.pipe((0,operators.Gp)()).subscribe(format=>{const current=this.mediaList$.getValue(),mediaItem=this.createMediaViewerItem(bitstreamsRD.payload.page[index],format,thumbnailsRD.payload&&thumbnailsRD.payload.page[index]);this.mediaList$.next([...current,mediaItem])});this.isLoading=!1})})}loadRemoteData(bundleName){return this.bitstreamDataService.findAllByItemAndBundleName(this.item,bundleName,{},!0,!0,(0,follow_link_config_model.l)("format")).pipe((0,cjs_operators.hX)(bitstreamsRD=>(0,empty_util.Uh)(bitstreamsRD)&&((0,empty_util.Uh)(bitstreamsRD.errorMessage)||(0,empty_util.Uh)(bitstreamsRD.payload))),(0,cjs_operators.qn)(1))}createMediaViewerItem(original,format,thumbnail){const mediaItem=new MediaViewerItem;return mediaItem.bitstream=original,mediaItem.format=format.mimetype.split("/")[0],mediaItem.thumbnail=thumbnail?thumbnail._links.content.href:null,mediaItem}}function ThemedFileSectionComponent_ng_template_0_Template(rf,ctx){}__name(MediaViewerComponent,"MediaViewerComponent"),MediaViewerComponent.\u0275fac=__name(function(t){return new(t||MediaViewerComponent)(core.Y36(bitstream_data_service.J))},"MediaViewerComponent_Factory"),MediaViewerComponent.\u0275cmp=core.Xpm({type:MediaViewerComponent,selectors:[["ds-media-viewer"]],inputs:{item:"item",videoOptions:"videoOptions"},decls:2,vars:3,consts:[[4,"ngVar"],[3,"message","showMessage",4,"ngIf"],["class","media-viewer",4,"ngIf"],[3,"message","showMessage"],[1,"media-viewer"],[4,"ngIf"],[3,"medias"],[3,"images"],[3,"image","preview"]],template:__name(function(rf,ctx){1&rf&&(core.YNc(0,MediaViewerComponent_ng_container_0_Template,3,2,"ng-container",0),core.ALo(1,"async")),2&rf&&core.Q6J("ngVar",core.lcZ(1,1,ctx.mediaList$))},"MediaViewerComponent_Template"),directives:[var_directive.g,common.O5,themed_loading_component.Z,MediaViewerVideoComponent,MediaViewerImageComponent],pipes:[common.Ov,ngx_translate_core.X$],styles:[""]}),__name(ThemedFileSectionComponent_ng_template_0_Template,"ThemedFileSectionComponent_ng_template_0_Template");class ThemedFileSectionComponent extends themed_component.F{constructor(){super(...arguments),this.inAndOutputNames=["item"]}getComponentName(){return"FileSectionComponent"}importThemedComponent(themeName){return __webpack_require__(80160)(`./${themeName}/app/item-page/simple/field-components/file-section/file-section.component`)}importUnthemedComponent(){return Promise.resolve().then(__webpack_require__.bind(__webpack_require__,57200))}}__name(ThemedFileSectionComponent,"ThemedFileSectionComponent"),ThemedFileSectionComponent.\u0275fac=function(){let \u0275ThemedFileSectionComponent_BaseFactory;return __name(function(t){return(\u0275ThemedFileSectionComponent_BaseFactory||(\u0275ThemedFileSectionComponent_BaseFactory=core.n5z(ThemedFileSectionComponent)))(t||ThemedFileSectionComponent)},"ThemedFileSectionComponent_Factory")}(),ThemedFileSectionComponent.\u0275cmp=core.Xpm({type:ThemedFileSectionComponent,selectors:[["ds-themed-item-page-file-section"]],inputs:{item:"item"},features:[core.qOj],decls:2,vars:0,consts:[["vcr",""]],template:__name(function(rf,ctx){1&rf&&core.YNc(0,ThemedFileSectionComponent_ng_template_0_Template,0,0,"ng-template",null,0,core.W1O)},"ThemedFileSectionComponent_Template"),encapsulation:2});var metadata_representation_list_component=__webpack_require__(14077),generic_item_page_field_component=__webpack_require__(98055),related_items_component=__webpack_require__(82542);function PublicationComponent_div_0_Template(rf,ctx){if(1&rf&&(core.TgZ(0,"div",6)(1,"div",17),core._UZ(2,"ds-mirador-viewer",18),core.ALo(3,"async"),core.qZA()()),2&rf){const ctx_r0=core.oxw();core.xp6(2),core.Q6J("object",ctx_r0.object)("searchable",ctx_r0.iiifSearchEnabled)("query",core.lcZ(3,3,ctx_r0.iiifQuery$))}}function PublicationComponent_ng_container_8_Template(rf,ctx){if(1&rf&&(core.ynx(0),core.TgZ(1,"ds-metadata-field-wrapper",19),core._UZ(2,"ds-thumbnail",20),core.ALo(3,"async"),core.qZA(),core.BQk()),2&rf){const ctx_r1=core.oxw();core.xp6(1),core.Q6J("hideIfNoTextContent",!1),core.xp6(1),core.Q6J("thumbnail",core.lcZ(3,2,null==ctx_r1.object?null:ctx_r1.object.thumbnail))}}function PublicationComponent_ng_container_9_Template(rf,ctx){if(1&rf&&(core.ynx(0),core._UZ(1,"ds-media-viewer",21),core.BQk()),2&rf){const ctx_r2=core.oxw();core.xp6(1),core.Q6J("item",ctx_r2.object)("videoOptions",ctx_r2.mediaViewer.video)}}__name(PublicationComponent_div_0_Template,"PublicationComponent_div_0_Template"),__name(PublicationComponent_ng_container_8_Template,"PublicationComponent_ng_container_8_Template"),__name(PublicationComponent_ng_container_9_Template,"PublicationComponent_ng_container_9_Template");const publication_component_c0=__name(function(){return["dc.contributor.author","dc.creator"]},"publication_component_c0"),publication_component_c1=__name(function(){return["journal.title"]},"publication_component_c1"),publication_component_c2=__name(function(){return["journal.identifier.issn"]},"publication_component_c2"),publication_component_c3=__name(function(){return["journalvolume.identifier.name"]},"publication_component_c3"),publication_component_c4=__name(function(){return["dc.publisher"]},"publication_component_c4"),_c5=__name(function(){return["dc.description"]},"_c5"),_c6=__name(function(){return["dc.subject"]},"_c6"),_c7=__name(function(){return["dc.identifier.citation"]},"_c7"),_c8=__name(function(){return["dc.identifier.uri"]},"_c8"),_c9=__name(function(a0){return[a0]},"_c9");let PublicationComponent=__name(class extends versioned_item_component.d{},"PublicationComponent");PublicationComponent.\u0275fac=function(){let \u0275PublicationComponent_BaseFactory;return __name(function(t){return(\u0275PublicationComponent_BaseFactory||(\u0275PublicationComponent_BaseFactory=core.n5z(PublicationComponent)))(t||PublicationComponent)},"PublicationComponent_Factory")}(),PublicationComponent.\u0275cmp=core.Xpm({type:PublicationComponent,selectors:[["ds-publication"]],features:[core.qOj],decls:36,vars:75,consts:[["class","row",4,"ngIf"],[1,"d-flex","flex-row"],[1,"mr-auto",3,"item"],[1,"pl-2","space-children-mr"],[3,"dso","tooltipMsgCreate","tooltipMsgHasDraft","newVersionEvent"],[3,"pageRoute","dso","tooltipMsg"],[1,"row"],[1,"col-xs-12","col-md-4"],[4,"ngIf"],[3,"item"],[1,"ds-item-page-mixed-author-field",3,"parentItem","itemType","metadataFields","label"],[3,"item","fields","label"],[1,"col-xs-12","col-md-7"],[3,"parentItem","relationType","label"],[3,"item","fields","separator","label"],["role","button",1,"btn","btn-outline-primary",3,"routerLink"],[1,"fas","fa-info-circle"],[1,"col-12"],["id","iiif-viewer",3,"object","searchable","query"],[3,"hideIfNoTextContent"],[3,"thumbnail"],[3,"item","videoOptions"]],template:__name(function(rf,ctx){1&rf&&(core.YNc(0,PublicationComponent_div_0_Template,4,5,"div",0),core.TgZ(1,"div",1),core._UZ(2,"ds-item-page-title-field",2),core.TgZ(3,"div",3)(4,"ds-dso-page-version-button",4),core.NdJ("newVersionEvent",__name(function(){return ctx.onCreateNewVersion()},"PublicationComponent_Template_ds_dso_page_version_button_newVersionEvent_4_listener")),core.qZA(),core._UZ(5,"ds-dso-page-edit-button",5),core.qZA()(),core.TgZ(6,"div",6)(7,"div",7),core.YNc(8,PublicationComponent_ng_container_8_Template,4,4,"ng-container",8),core.YNc(9,PublicationComponent_ng_container_9_Template,2,2,"ng-container",8),core._UZ(10,"ds-themed-item-page-file-section",9)(11,"ds-item-page-date-field",9)(12,"ds-metadata-representation-list",10),core.ALo(13,"translate"),core._UZ(14,"ds-generic-item-page-field",11)(15,"ds-generic-item-page-field",11)(16,"ds-generic-item-page-field",11)(17,"ds-generic-item-page-field",11),core.qZA(),core.TgZ(18,"div",12),core._UZ(19,"ds-related-items",13),core.ALo(20,"translate"),core._UZ(21,"ds-related-items",13),core.ALo(22,"translate"),core._UZ(23,"ds-related-items",13),core.ALo(24,"translate"),core._UZ(25,"ds-item-page-abstract-field",9)(26,"ds-generic-item-page-field",11)(27,"ds-generic-item-page-field",14)(28,"ds-generic-item-page-field",11)(29,"ds-item-page-uri-field",11)(30,"ds-item-page-collections",9),core.TgZ(31,"div")(32,"a",15),core._UZ(33,"i",16),core._uU(34),core.ALo(35,"translate"),core.qZA()()()()),2&rf&&(core.Q6J("ngIf",ctx.iiifEnabled),core.xp6(2),core.Q6J("item",ctx.object),core.xp6(2),core.Q6J("dso",ctx.object)("tooltipMsgCreate","item.page.version.create")("tooltipMsgHasDraft","item.page.version.hasDraft"),core.xp6(1),core.Q6J("pageRoute",ctx.itemPageRoute)("dso",ctx.object)("tooltipMsg","publication.page.edit"),core.xp6(3),core.Q6J("ngIf",!ctx.mediaViewer.image),core.xp6(1),core.Q6J("ngIf",ctx.mediaViewer.image),core.xp6(1),core.Q6J("item",ctx.object),core.xp6(1),core.Q6J("item",ctx.object),core.xp6(1),core.Q6J("parentItem",ctx.object)("itemType","Person")("metadataFields",core.DdM(64,publication_component_c0))("label",core.lcZ(13,54,"relationships.isAuthorOf")),core.xp6(2),core.Q6J("item",ctx.object)("fields",core.DdM(65,publication_component_c1))("label","publication.page.journal-title"),core.xp6(1),core.Q6J("item",ctx.object)("fields",core.DdM(66,publication_component_c2))("label","publication.page.journal-issn"),core.xp6(1),core.Q6J("item",ctx.object)("fields",core.DdM(67,publication_component_c3))("label","publication.page.volume-title"),core.xp6(1),core.Q6J("item",ctx.object)("fields",core.DdM(68,publication_component_c4))("label","publication.page.publisher"),core.xp6(2),core.Q6J("parentItem",ctx.object)("relationType","isProjectOfPublication")("label",core.lcZ(20,56,"relationships.isProjectOf")),core.xp6(2),core.Q6J("parentItem",ctx.object)("relationType","isOrgUnitOfPublication")("label",core.lcZ(22,58,"relationships.isOrgUnitOf")),core.xp6(2),core.Q6J("parentItem",ctx.object)("relationType","isJournalIssueOfPublication")("label",core.lcZ(24,60,"relationships.isJournalIssueOf")),core.xp6(2),core.Q6J("item",ctx.object),core.xp6(1),core.Q6J("item",ctx.object)("fields",core.DdM(69,_c5))("label","publication.page.description"),core.xp6(1),core.Q6J("item",ctx.object)("fields",core.DdM(70,_c6))("separator",",")("label","item.page.subject"),core.xp6(1),core.Q6J("item",ctx.object)("fields",core.DdM(71,_c7))("label","item.page.citation"),core.xp6(1),core.Q6J("item",ctx.object)("fields",core.DdM(72,_c8))("label","item.page.uri"),core.xp6(1),core.Q6J("item",ctx.object),core.xp6(2),core.Q6J("routerLink",core.VKq(73,_c9,ctx.itemPageRoute+"/full")),core.xp6(2),core.hij(" ",core.lcZ(35,62,"item.page.link.full")," "))},"PublicationComponent_Template"),directives:[common.O5,MiradorViewerComponent,item_page_title_field_component.k,dso_page_version_button_component._,dso_page_edit_button_component._,metadata_field_wrapper_component.n,thumbnail_component.Z,MediaViewerComponent,ThemedFileSectionComponent,ItemPageDateFieldComponent,metadata_representation_list_component.Q,generic_item_page_field_component.w,related_items_component.e,ItemPageAbstractFieldComponent,ItemPageUriFieldComponent,collections_component.U,router.yS],pipes:[common.Ov,ngx_translate_core.X$],styles:[""],changeDetection:0}),PublicationComponent=(0,tslib_es6.gn)([(0,listable_object_decorator.d$)("Publication",view_mode_model.w.StandalonePage)],PublicationComponent);var item_component=__webpack_require__(54221),edit_item_page_module=__webpack_require__(53018),statistics_module=__webpack_require__(79248),abstract_incremental_list_component=__webpack_require__(6049);function UntypedItemComponent_div_0_Template(rf,ctx){if(1&rf&&(core.TgZ(0,"div",6)(1,"div",16),core._UZ(2,"ds-mirador-viewer",17),core.ALo(3,"async"),core.qZA()()),2&rf){const ctx_r0=core.oxw();core.xp6(2),core.Q6J("object",ctx_r0.object)("searchable",ctx_r0.iiifSearchEnabled)("query",core.lcZ(3,3,ctx_r0.iiifQuery$))}}function UntypedItemComponent_ng_container_8_Template(rf,ctx){if(1&rf&&(core.ynx(0),core.TgZ(1,"ds-metadata-field-wrapper",18),core._UZ(2,"ds-thumbnail",19),core.ALo(3,"async"),core.qZA(),core.BQk()),2&rf){const ctx_r1=core.oxw();core.xp6(1),core.Q6J("hideIfNoTextContent",!1),core.xp6(1),core.Q6J("thumbnail",core.lcZ(3,2,null==ctx_r1.object?null:ctx_r1.object.thumbnail))}}function UntypedItemComponent_ng_container_9_Template(rf,ctx){if(1&rf&&(core.ynx(0),core._UZ(1,"ds-media-viewer",20),core.BQk()),2&rf){const ctx_r2=core.oxw();core.xp6(1),core.Q6J("item",ctx_r2.object)("videoOptions",ctx_r2.mediaViewer.video)}}__name(UntypedItemComponent_div_0_Template,"UntypedItemComponent_div_0_Template"),__name(UntypedItemComponent_ng_container_8_Template,"UntypedItemComponent_ng_container_8_Template"),__name(UntypedItemComponent_ng_container_9_Template,"UntypedItemComponent_ng_container_9_Template");const untyped_item_component_c0=__name(function(){return["dc.contributor.author","dc.creator"]},"untyped_item_component_c0"),untyped_item_component_c1=__name(function(){return["journal.title"]},"untyped_item_component_c1"),untyped_item_component_c2=__name(function(){return["journal.identifier.issn"]},"untyped_item_component_c2"),untyped_item_component_c3=__name(function(){return["journalvolume.identifier.name"]},"untyped_item_component_c3"),untyped_item_component_c4=__name(function(){return["dc.publisher"]},"untyped_item_component_c4"),untyped_item_component_c5=__name(function(){return["dc.description"]},"untyped_item_component_c5"),untyped_item_component_c6=__name(function(){return["dc.subject"]},"untyped_item_component_c6"),untyped_item_component_c7=__name(function(){return["dc.identifier.citation"]},"untyped_item_component_c7"),untyped_item_component_c8=__name(function(){return["dc.identifier.uri"]},"untyped_item_component_c8"),untyped_item_component_c9=__name(function(a0){return[a0]},"untyped_item_component_c9");let UntypedItemComponent=__name(class extends versioned_item_component.d{},"UntypedItemComponent");UntypedItemComponent.\u0275fac=function(){let \u0275UntypedItemComponent_BaseFactory;return __name(function(t){return(\u0275UntypedItemComponent_BaseFactory||(\u0275UntypedItemComponent_BaseFactory=core.n5z(UntypedItemComponent)))(t||UntypedItemComponent)},"UntypedItemComponent_Factory")}(),UntypedItemComponent.\u0275cmp=core.Xpm({type:UntypedItemComponent,selectors:[["ds-untyped-item"]],features:[core.qOj],decls:30,vars:60,consts:[["class","row",4,"ngIf"],[1,"d-flex","flex-row"],[1,"mr-auto",3,"item"],[1,"pl-2","space-children-mr"],[3,"dso","tooltipMsgCreate","tooltipMsgHasDraft","newVersionEvent"],[3,"pageRoute","dso","tooltipMsg"],[1,"row"],[1,"col-xs-12","col-md-4"],[4,"ngIf"],[3,"item"],[1,"ds-item-page-mixed-author-field",3,"parentItem","itemType","metadataFields","label"],[3,"item","fields","label"],[1,"col-xs-12","col-md-6"],[3,"item","fields","separator","label"],["role","button",1,"btn","btn-outline-primary",3,"routerLink"],[1,"fas","fa-info-circle"],[1,"col-12"],["id","iiif-viewer",3,"object","searchable","query"],[3,"hideIfNoTextContent"],[3,"thumbnail"],[3,"item","videoOptions"]],template:__name(function(rf,ctx){1&rf&&(core.YNc(0,UntypedItemComponent_div_0_Template,4,5,"div",0),core.TgZ(1,"div",1),core._UZ(2,"ds-item-page-title-field",2),core.TgZ(3,"div",3)(4,"ds-dso-page-version-button",4),core.NdJ("newVersionEvent",__name(function(){return ctx.onCreateNewVersion()},"UntypedItemComponent_Template_ds_dso_page_version_button_newVersionEvent_4_listener")),core.qZA(),core._UZ(5,"ds-dso-page-edit-button",5),core.qZA()(),core.TgZ(6,"div",6)(7,"div",7),core.YNc(8,UntypedItemComponent_ng_container_8_Template,4,4,"ng-container",8),core.YNc(9,UntypedItemComponent_ng_container_9_Template,2,2,"ng-container",8),core._UZ(10,"ds-themed-item-page-file-section",9)(11,"ds-item-page-date-field",9)(12,"ds-metadata-representation-list",10),core.ALo(13,"translate"),core._UZ(14,"ds-generic-item-page-field",11)(15,"ds-generic-item-page-field",11)(16,"ds-generic-item-page-field",11)(17,"ds-generic-item-page-field",11),core.qZA(),core.TgZ(18,"div",12),core._UZ(19,"ds-item-page-abstract-field",9)(20,"ds-generic-item-page-field",11)(21,"ds-generic-item-page-field",13)(22,"ds-generic-item-page-field",11)(23,"ds-item-page-uri-field",11)(24,"ds-item-page-collections",9),core.TgZ(25,"div")(26,"a",14),core._UZ(27,"i",15),core._uU(28),core.ALo(29,"translate"),core.qZA()()()()),2&rf&&(core.Q6J("ngIf",ctx.iiifEnabled),core.xp6(2),core.Q6J("item",ctx.object),core.xp6(2),core.Q6J("dso",ctx.object)("tooltipMsgCreate","item.page.version.create")("tooltipMsgHasDraft","item.page.version.hasDraft"),core.xp6(1),core.Q6J("pageRoute",ctx.itemPageRoute)("dso",ctx.object)("tooltipMsg","item.page.edit"),core.xp6(3),core.Q6J("ngIf",!ctx.mediaViewer.image),core.xp6(1),core.Q6J("ngIf",ctx.mediaViewer.image),core.xp6(1),core.Q6J("item",ctx.object),core.xp6(1),core.Q6J("item",ctx.object),core.xp6(1),core.Q6J("parentItem",ctx.object)("itemType","Person")("metadataFields",core.DdM(49,untyped_item_component_c0))("label",core.lcZ(13,45,"relationships.isAuthorOf")),core.xp6(2),core.Q6J("item",ctx.object)("fields",core.DdM(50,untyped_item_component_c1))("label","item.page.journal-title"),core.xp6(1),core.Q6J("item",ctx.object)("fields",core.DdM(51,untyped_item_component_c2))("label","item.page.journal-issn"),core.xp6(1),core.Q6J("item",ctx.object)("fields",core.DdM(52,untyped_item_component_c3))("label","item.page.volume-title"),core.xp6(1),core.Q6J("item",ctx.object)("fields",core.DdM(53,untyped_item_component_c4))("label","item.page.publisher"),core.xp6(2),core.Q6J("item",ctx.object),core.xp6(1),core.Q6J("item",ctx.object)("fields",core.DdM(54,untyped_item_component_c5))("label","item.page.description"),core.xp6(1),core.Q6J("item",ctx.object)("fields",core.DdM(55,untyped_item_component_c6))("separator",",")("label","item.page.subject"),core.xp6(1),core.Q6J("item",ctx.object)("fields",core.DdM(56,untyped_item_component_c7))("label","item.page.citation"),core.xp6(1),core.Q6J("item",ctx.object)("fields",core.DdM(57,untyped_item_component_c8))("label","item.page.uri"),core.xp6(1),core.Q6J("item",ctx.object),core.xp6(2),core.Q6J("routerLink",core.VKq(58,untyped_item_component_c9,ctx.itemPageRoute+"/full")),core.xp6(2),core.hij(" ",core.lcZ(29,47,"item.page.link.full")," "))},"UntypedItemComponent_Template"),directives:[common.O5,MiradorViewerComponent,item_page_title_field_component.k,dso_page_version_button_component._,dso_page_edit_button_component._,metadata_field_wrapper_component.n,thumbnail_component.Z,MediaViewerComponent,ThemedFileSectionComponent,ItemPageDateFieldComponent,metadata_representation_list_component.Q,generic_item_page_field_component.w,ItemPageAbstractFieldComponent,ItemPageUriFieldComponent,collections_component.U,router.yS],pipes:[common.Ov,ngx_translate_core.X$],styles:[""],changeDetection:0}),UntypedItemComponent=(0,tslib_es6.gn)([(0,listable_object_decorator.d$)(item_model.c,view_mode_model.w.StandalonePage)],UntypedItemComponent);var journal_entities_module=__webpack_require__(74227),research_entities_module=__webpack_require__(84376);const ENTRY_COMPONENTS=[PublicationComponent,UntypedItemComponent];item_page_component.ItemPageComponent,full_item_page_component.FullItemPageComponent,themed_full_item_page_component.B,item_page_field_component.E,collections_component.U,full_file_section_component.e,item_component.P,abstract_incremental_list_component.c;class ItemPageModule{static withEntryComponents(){return{ngModule:ItemPageModule,providers:ENTRY_COMPONENTS.map(component=>({provide:component}))}}}__name(ItemPageModule,"ItemPageModule"),ItemPageModule.\u0275fac=__name(function(t){return new(t||ItemPageModule)},"ItemPageModule_Factory"),ItemPageModule.\u0275mod=core.oAB({type:ItemPageModule}),ItemPageModule.\u0275inj=core.cJS({imports:[[common.ez,shared_module.m.withEntryComponents(),ItemPageRoutingModule,edit_item_page_module.EditItemPageModule,statistics_module.p.forRoot(),journal_entities_module.x.withEntryComponents(),research_entities_module.a.withEntryComponents(),NgxGalleryModule,ng_bootstrap.Gs]]})},59508:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{o:()=>ItemPageResolver});var _core_data_item_data_service__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(83639),rxjs_operators__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(83292),_shared_empty_util__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(24702),_item_page_routing_paths__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(40747),_item_resolver__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(27102),_angular_core__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(5e3),_ngrx_store__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(85094),_angular_router__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(74202);class ItemPageResolver extends _item_resolver__WEBPACK_IMPORTED_MODULE_1__.I{constructor(itemService,store,router){super(itemService,store,router),this.itemService=itemService,this.store=store,this.router=router}resolve(route,state){return super.resolve(route,state).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_2__.UI)(rd=>{if(rd.hasSucceeded&&(0,_shared_empty_util__WEBPACK_IMPORTED_MODULE_3__.Uh)(rd.payload)){const thisRoute=state.url,itemRoute=this.router.parseUrl((0,_item_page_routing_paths__WEBPACK_IMPORTED_MODULE_4__.Tt)(rd.payload)).toString();if(!thisRoute.startsWith(itemRoute)){const itemId=rd.payload.uuid,subRoute=thisRoute.substring(thisRoute.indexOf(itemId)+itemId.length,thisRoute.length);this.router.navigateByUrl(itemRoute+subRoute)}}return rd}))}}__name(ItemPageResolver,"ItemPageResolver"),ItemPageResolver.\u0275fac=__name(function(t){return new(t||ItemPageResolver)(_angular_core__WEBPACK_IMPORTED_MODULE_5__.LFG(_core_data_item_data_service__WEBPACK_IMPORTED_MODULE_0__.S),_angular_core__WEBPACK_IMPORTED_MODULE_5__.LFG(_ngrx_store__WEBPACK_IMPORTED_MODULE_6__.yh),_angular_core__WEBPACK_IMPORTED_MODULE_5__.LFG(_angular_router__WEBPACK_IMPORTED_MODULE_7__.F0))},"ItemPageResolver_Factory"),ItemPageResolver.\u0275prov=_angular_core__WEBPACK_IMPORTED_MODULE_5__.Yz7({token:ItemPageResolver,factory:ItemPageResolver.\u0275fac})},43302:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{e:()=>ItemSharedModule});var _simple_related_entities_related_entities_search_related_entities_search_component__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(5893),_angular_common__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(69808),_shared_search_search_module__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(57262),_shared_shared_module__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(57981),_ngx_translate_core__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(42466),_ng_dynamic_forms_core__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(87098),_shared_form_builder_ds_dynamic_form_ui_ds_dynamic_form_control_container_component__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(66212),_simple_related_entities_tabbed_related_entities_search_tabbed_related_entities_search_component__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(67797),_angular_core__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(5e3);_simple_related_entities_related_entities_search_related_entities_search_component__WEBPACK_IMPORTED_MODULE_0__.T,_simple_related_entities_tabbed_related_entities_search_tabbed_related_entities_search_component__WEBPACK_IMPORTED_MODULE_4__.i;class ItemSharedModule{}__name(ItemSharedModule,"ItemSharedModule"),ItemSharedModule.\u0275fac=__name(function(t){return new(t||ItemSharedModule)},"ItemSharedModule_Factory"),ItemSharedModule.\u0275mod=_angular_core__WEBPACK_IMPORTED_MODULE_5__.oAB({type:ItemSharedModule}),ItemSharedModule.\u0275inj=_angular_core__WEBPACK_IMPORTED_MODULE_5__.cJS({providers:[{provide:_ng_dynamic_forms_core__WEBPACK_IMPORTED_MODULE_6__.y8$,useValue:_shared_form_builder_ds_dynamic_form_ui_ds_dynamic_form_control_container_component__WEBPACK_IMPORTED_MODULE_3__._}],imports:[[_angular_common__WEBPACK_IMPORTED_MODULE_7__.ez,_shared_search_search_module__WEBPACK_IMPORTED_MODULE_1__.t,_shared_shared_module__WEBPACK_IMPORTED_MODULE_2__.m,_ngx_translate_core__WEBPACK_IMPORTED_MODULE_8__.aw]]})},27102:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{H:()=>ITEM_PAGE_LINKS_TO_FOLLOW,I:()=>ItemResolver});var _core_data_item_data_service__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(83639),_shared_utils_follow_link_config_model__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(93369),_core_shared_operators__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(13730),_core_resolving_resolver_actions__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(8136),_angular_core__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(5e3),_ngrx_store__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(85094),_angular_router__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(74202);const ITEM_PAGE_LINKS_TO_FOLLOW=[(0,_shared_utils_follow_link_config_model__WEBPACK_IMPORTED_MODULE_3__.l)("owningCollection",{},(0,_shared_utils_follow_link_config_model__WEBPACK_IMPORTED_MODULE_3__.l)("parentCommunity",{},(0,_shared_utils_follow_link_config_model__WEBPACK_IMPORTED_MODULE_3__.l)("parentCommunity"))),(0,_shared_utils_follow_link_config_model__WEBPACK_IMPORTED_MODULE_3__.l)("relationships"),(0,_shared_utils_follow_link_config_model__WEBPACK_IMPORTED_MODULE_3__.l)("version",{},(0,_shared_utils_follow_link_config_model__WEBPACK_IMPORTED_MODULE_3__.l)("versionhistory")),(0,_shared_utils_follow_link_config_model__WEBPACK_IMPORTED_MODULE_3__.l)("thumbnail")];class ItemResolver{constructor(itemService,store,router){this.itemService=itemService,this.store=store,this.router=router}resolve(route,state){const itemRD$=this.itemService.findById(route.params.id,!0,!1,...ITEM_PAGE_LINKS_TO_FOLLOW).pipe((0,_core_shared_operators__WEBPACK_IMPORTED_MODULE_1__.hC)());return itemRD$.subscribe(itemRD=>{this.store.dispatch(new _core_resolving_resolver_actions__WEBPACK_IMPORTED_MODULE_2__.K(state.url,itemRD.payload))}),itemRD$}}__name(ItemResolver,"ItemResolver"),ItemResolver.\u0275fac=__name(function(t){return new(t||ItemResolver)(_angular_core__WEBPACK_IMPORTED_MODULE_4__.LFG(_core_data_item_data_service__WEBPACK_IMPORTED_MODULE_0__.S),_angular_core__WEBPACK_IMPORTED_MODULE_4__.LFG(_ngrx_store__WEBPACK_IMPORTED_MODULE_5__.yh),_angular_core__WEBPACK_IMPORTED_MODULE_4__.LFG(_angular_router__WEBPACK_IMPORTED_MODULE_6__.F0))},"ItemResolver_Factory"),ItemResolver.\u0275prov=_angular_core__WEBPACK_IMPORTED_MODULE_4__.Yz7({token:ItemResolver,factory:ItemResolver.\u0275fac})},4353:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{ItemPageComponent:()=>ItemPageComponent});var rxjs_operators__WEBPACK_IMPORTED_MODULE_17__=__webpack_require__(83292),_core_data_item_data_service__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(83639),_shared_animations_fade__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(28652),_core_shared_operators__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(13730),_core_shared_view_mode_model__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(51121),_core_auth_auth_service__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(24755),_item_page_routing_paths__WEBPACK_IMPORTED_MODULE_18__=__webpack_require__(40747),_core_shared_authorized_operators__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(12691),_core_data_feature_authorization_authorization_data_service__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(19937),_core_data_feature_authorization_feature_id__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(47235),_angular_core__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__(5e3),_angular_router__WEBPACK_IMPORTED_MODULE_19__=__webpack_require__(74202),_shared_utils_var_directive__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(98605),_angular_common__WEBPACK_IMPORTED_MODULE_20__=__webpack_require__(69808),_shared_item_item_alerts_item_alerts_component__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(72431),_shared_item_item_versions_notice_item_versions_notice_component__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(93212),_statistics_angulartics_dspace_view_tracker_component__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(66370),_shared_object_collection_shared_listable_object_listable_object_component_loader_component__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(51962),_shared_item_item_versions_item_versions_component__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__(75112),_shared_error_error_component__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__(41971),_shared_loading_themed_loading_component__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__(48106),_ngx_translate_core__WEBPACK_IMPORTED_MODULE_21__=__webpack_require__(42466);function ItemPageComponent_div_0_div_1_div_1_ds_listable_object_component_loader_4_Template(rf,ctx){if(1&rf&&_angular_core__WEBPACK_IMPORTED_MODULE_16__._UZ(0,"ds-listable-object-component-loader",10),2&rf){const item_r6=_angular_core__WEBPACK_IMPORTED_MODULE_16__.oxw().ngIf,ctx_r7=_angular_core__WEBPACK_IMPORTED_MODULE_16__.oxw(3);_angular_core__WEBPACK_IMPORTED_MODULE_16__.Q6J("object",item_r6)("viewMode",ctx_r7.viewMode)}}function ItemPageComponent_div_0_div_1_div_1_Template(rf,ctx){if(1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_16__.TgZ(0,"div"),_angular_core__WEBPACK_IMPORTED_MODULE_16__._UZ(1,"ds-item-alerts",6)(2,"ds-item-versions-notice",6)(3,"ds-view-tracker",7),_angular_core__WEBPACK_IMPORTED_MODULE_16__.YNc(4,ItemPageComponent_div_0_div_1_div_1_ds_listable_object_component_loader_4_Template,1,2,"ds-listable-object-component-loader",8),_angular_core__WEBPACK_IMPORTED_MODULE_16__.ALo(5,"async"),_angular_core__WEBPACK_IMPORTED_MODULE_16__._UZ(6,"ds-item-versions",9),_angular_core__WEBPACK_IMPORTED_MODULE_16__.qZA()),2&rf){const item_r6=ctx.ngIf,ctx_r5=_angular_core__WEBPACK_IMPORTED_MODULE_16__.oxw(3);_angular_core__WEBPACK_IMPORTED_MODULE_16__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_16__.Q6J("item",item_r6),_angular_core__WEBPACK_IMPORTED_MODULE_16__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_16__.Q6J("item",item_r6),_angular_core__WEBPACK_IMPORTED_MODULE_16__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_16__.Q6J("object",item_r6),_angular_core__WEBPACK_IMPORTED_MODULE_16__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_16__.Q6J("ngIf",!item_r6.isWithdrawn||_angular_core__WEBPACK_IMPORTED_MODULE_16__.lcZ(5,6,ctx_r5.isAdmin$)),_angular_core__WEBPACK_IMPORTED_MODULE_16__.xp6(2),_angular_core__WEBPACK_IMPORTED_MODULE_16__.Q6J("item",item_r6)("displayActions",!1)}}function ItemPageComponent_div_0_div_1_Template(rf,ctx){if(1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_16__.TgZ(0,"div",4),_angular_core__WEBPACK_IMPORTED_MODULE_16__.YNc(1,ItemPageComponent_div_0_div_1_div_1_Template,7,8,"div",5),_angular_core__WEBPACK_IMPORTED_MODULE_16__.qZA()),2&rf){const itemRD_r1=_angular_core__WEBPACK_IMPORTED_MODULE_16__.oxw().ngVar;_angular_core__WEBPACK_IMPORTED_MODULE_16__.Q6J("@fadeInOut",void 0),_angular_core__WEBPACK_IMPORTED_MODULE_16__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_16__.Q6J("ngIf",null==itemRD_r1?null:itemRD_r1.payload)}}function ItemPageComponent_div_0_ds_error_2_Template(rf,ctx){1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_16__._UZ(0,"ds-error",11),_angular_core__WEBPACK_IMPORTED_MODULE_16__.ALo(1,"translate")),2&rf&&_angular_core__WEBPACK_IMPORTED_MODULE_16__.s9C("message",_angular_core__WEBPACK_IMPORTED_MODULE_16__.lcZ(1,1,"error.item"))}function ItemPageComponent_div_0_ds_themed_loading_3_Template(rf,ctx){1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_16__._UZ(0,"ds-themed-loading",11),_angular_core__WEBPACK_IMPORTED_MODULE_16__.ALo(1,"translate")),2&rf&&_angular_core__WEBPACK_IMPORTED_MODULE_16__.s9C("message",_angular_core__WEBPACK_IMPORTED_MODULE_16__.lcZ(1,1,"loading.item"))}function ItemPageComponent_div_0_Template(rf,ctx){if(1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_16__.TgZ(0,"div",1),_angular_core__WEBPACK_IMPORTED_MODULE_16__.YNc(1,ItemPageComponent_div_0_div_1_Template,2,2,"div",2),_angular_core__WEBPACK_IMPORTED_MODULE_16__.YNc(2,ItemPageComponent_div_0_ds_error_2_Template,2,3,"ds-error",3),_angular_core__WEBPACK_IMPORTED_MODULE_16__.YNc(3,ItemPageComponent_div_0_ds_themed_loading_3_Template,2,3,"ds-themed-loading",3),_angular_core__WEBPACK_IMPORTED_MODULE_16__.qZA()),2&rf){const itemRD_r1=ctx.ngVar;_angular_core__WEBPACK_IMPORTED_MODULE_16__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_16__.Q6J("ngIf",null==itemRD_r1?null:itemRD_r1.hasSucceeded),_angular_core__WEBPACK_IMPORTED_MODULE_16__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_16__.Q6J("ngIf",null==itemRD_r1?null:itemRD_r1.hasFailed),_angular_core__WEBPACK_IMPORTED_MODULE_16__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_16__.Q6J("ngIf",null==itemRD_r1?null:itemRD_r1.isLoading)}}__name(ItemPageComponent_div_0_div_1_div_1_ds_listable_object_component_loader_4_Template,"ItemPageComponent_div_0_div_1_div_1_ds_listable_object_component_loader_4_Template"),__name(ItemPageComponent_div_0_div_1_div_1_Template,"ItemPageComponent_div_0_div_1_div_1_Template"),__name(ItemPageComponent_div_0_div_1_Template,"ItemPageComponent_div_0_div_1_Template"),__name(ItemPageComponent_div_0_ds_error_2_Template,"ItemPageComponent_div_0_ds_error_2_Template"),__name(ItemPageComponent_div_0_ds_themed_loading_3_Template,"ItemPageComponent_div_0_ds_themed_loading_3_Template"),__name(ItemPageComponent_div_0_Template,"ItemPageComponent_div_0_Template");class ItemPageComponent{constructor(route,router,items,authService,authorizationService){this.route=route,this.router=router,this.items=items,this.authService=authService,this.authorizationService=authorizationService,this.viewMode=_core_shared_view_mode_model__WEBPACK_IMPORTED_MODULE_3__.w.StandalonePage}ngOnInit(){this.itemRD$=this.route.data.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_17__.UI)(data=>data.dso),(0,_core_shared_authorized_operators__WEBPACK_IMPORTED_MODULE_5__.Gh)(this.router,this.authService)),this.itemPageRoute$=this.itemRD$.pipe((0,_core_shared_operators__WEBPACK_IMPORTED_MODULE_2__.mc)(),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_17__.UI)(item=>(0,_item_page_routing_paths__WEBPACK_IMPORTED_MODULE_18__.Tt)(item))),this.isAdmin$=this.authorizationService.isAuthorized(_core_data_feature_authorization_feature_id__WEBPACK_IMPORTED_MODULE_7__.i.AdministratorOf)}}__name(ItemPageComponent,"ItemPageComponent"),ItemPageComponent.\u0275fac=__name(function(t){return new(t||ItemPageComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_16__.Y36(_angular_router__WEBPACK_IMPORTED_MODULE_19__.gz),_angular_core__WEBPACK_IMPORTED_MODULE_16__.Y36(_angular_router__WEBPACK_IMPORTED_MODULE_19__.F0),_angular_core__WEBPACK_IMPORTED_MODULE_16__.Y36(_core_data_item_data_service__WEBPACK_IMPORTED_MODULE_0__.S),_angular_core__WEBPACK_IMPORTED_MODULE_16__.Y36(_core_auth_auth_service__WEBPACK_IMPORTED_MODULE_4__.e8),_angular_core__WEBPACK_IMPORTED_MODULE_16__.Y36(_core_data_feature_authorization_authorization_data_service__WEBPACK_IMPORTED_MODULE_6__._))},"ItemPageComponent_Factory"),ItemPageComponent.\u0275cmp=_angular_core__WEBPACK_IMPORTED_MODULE_16__.Xpm({type:ItemPageComponent,selectors:[["ds-item-page"]],decls:2,vars:3,consts:[["class","container",4,"ngVar"],[1,"container"],["class","item-page",4,"ngIf"],[3,"message",4,"ngIf"],[1,"item-page"],[4,"ngIf"],[3,"item"],[3,"object"],[3,"object","viewMode",4,"ngIf"],[1,"mt-2",3,"item","displayActions"],[3,"object","viewMode"],[3,"message"]],template:__name(function(rf,ctx){1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_16__.YNc(0,ItemPageComponent_div_0_Template,4,3,"div",0),_angular_core__WEBPACK_IMPORTED_MODULE_16__.ALo(1,"async")),2&rf&&_angular_core__WEBPACK_IMPORTED_MODULE_16__.Q6J("ngVar",_angular_core__WEBPACK_IMPORTED_MODULE_16__.lcZ(1,1,ctx.itemRD$))},"ItemPageComponent_Template"),directives:[_shared_utils_var_directive__WEBPACK_IMPORTED_MODULE_8__.g,_angular_common__WEBPACK_IMPORTED_MODULE_20__.O5,_shared_item_item_alerts_item_alerts_component__WEBPACK_IMPORTED_MODULE_9__.y,_shared_item_item_versions_notice_item_versions_notice_component__WEBPACK_IMPORTED_MODULE_10__.s,_statistics_angulartics_dspace_view_tracker_component__WEBPACK_IMPORTED_MODULE_11__.f,_shared_object_collection_shared_listable_object_listable_object_component_loader_component__WEBPACK_IMPORTED_MODULE_12__.p,_shared_item_item_versions_item_versions_component__WEBPACK_IMPORTED_MODULE_13__.h,_shared_error_error_component__WEBPACK_IMPORTED_MODULE_14__.q,_shared_loading_themed_loading_component__WEBPACK_IMPORTED_MODULE_15__.Z],pipes:[_angular_common__WEBPACK_IMPORTED_MODULE_20__.Ov,_ngx_translate_core__WEBPACK_IMPORTED_MODULE_21__.X$],styles:["@media (max-width: 991.98px){.container[_ngcontent-%COMP%]{width:100%;max-width:none}}"],data:{animation:[_shared_animations_fade__WEBPACK_IMPORTED_MODULE_1__.Ic]},changeDetection:0})},54221:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{P:()=>ItemComponent});var environment=__webpack_require__(21540),item_page_routing_paths=(__webpack_require__(33609),__webpack_require__(40747)),route_service=__webpack_require__(5360),operators=__webpack_require__(83292),router=__webpack_require__(74202);const isIiifEnabled=__name(item=>!!item.firstMetadataValue("dspace.iiif.enabled"),"isIiifEnabled"),isIiifSearchEnabled=__name(item=>!!item.firstMetadataValue("iiif.search.enabled"),"isIiifSearchEnabled"),getDSpaceQuery=__name((item,routeService)=>routeService.getPreviousUrl().pipe((0,operators.hX)(r=>r.includes("/search")),(0,operators.UI)(r=>(new router.sz).parse(r).queryParamMap.get("query")),(0,operators.qn)(1)),"getDSpaceQuery");var core=__webpack_require__(5e3);class ItemComponent{constructor(routeService){this.routeService=routeService,this.mediaViewer=environment.N.mediaViewer}ngOnInit(){this.itemPageRoute=(0,item_page_routing_paths.Tt)(this.object),this.iiifEnabled=isIiifEnabled(this.object),this.iiifSearchEnabled=isIiifSearchEnabled(this.object),this.iiifSearchEnabled&&(this.iiifQuery$=getDSpaceQuery(this.object,this.routeService))}}__name(ItemComponent,"ItemComponent"),ItemComponent.\u0275fac=__name(function(t){return new(t||ItemComponent)(core.Y36(route_service.MZ))},"ItemComponent_Factory"),ItemComponent.\u0275cmp=core.Xpm({type:ItemComponent,selectors:[["ds-item"]],inputs:{object:"object"},decls:0,vars:0,template:__name(function(rf,ctx){},"ItemComponent_Template"),encapsulation:2})},46659:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{d:()=>VersionedItemComponent});var _shared_item_component__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(54221),_shared_item_item_versions_item_versions_summary_modal_item_versions_summary_modal_component__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(63140),_core_shared_operators__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(13730),rxjs_operators__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(83292),_core_data_version_history_data_service__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(65120),_core_data_version_data_service__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(6164),_shared_item_item_versions_item_versions_shared_service__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(8960),_core_submission_workspaceitem_data_service__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(85019),_core_shared_search_search_service__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(5164),_core_data_item_data_service__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(83639),_core_services_route_service__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(5360),_angular_core__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(5e3),_ng_bootstrap_ng_bootstrap__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(13707),_ngx_translate_core__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__(42466),_angular_router__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__(74202);class VersionedItemComponent extends _shared_item_component__WEBPACK_IMPORTED_MODULE_0__.P{constructor(modalService,versionHistoryService,translateService,versionService,itemVersionShared,router,workspaceItemDataService,searchService,itemService,routeService){super(routeService),this.modalService=modalService,this.versionHistoryService=versionHistoryService,this.translateService=translateService,this.versionService=versionService,this.itemVersionShared=itemVersionShared,this.router=router,this.workspaceItemDataService=workspaceItemDataService,this.searchService=searchService,this.itemService=itemService,this.routeService=routeService}onCreateNewVersion(){const item=this.object,versionHref=item._links.version.href,activeModal=this.modalService.open(_shared_item_item_versions_item_versions_summary_modal_item_versions_summary_modal_component__WEBPACK_IMPORTED_MODULE_1__.u);this.versionService.findByHref(versionHref).pipe((0,_core_shared_operators__WEBPACK_IMPORTED_MODULE_2__.hC)()).subscribe(res=>{activeModal.componentInstance.firstVersion=res.hasNoContent,activeModal.componentInstance.versionNumber=res.hasNoContent?void 0:res.payload.version}),activeModal.componentInstance.createVersionEvent.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_10__.wt)(summary=>this.versionHistoryService.createVersion(item._links.self.href,summary)),(0,_core_shared_operators__WEBPACK_IMPORTED_MODULE_2__.hC)(),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_10__.bw)(()=>activeModal.close()),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_10__.bw)(res=>{this.itemVersionShared.notifyCreateNewVersion(res)}),(0,_core_shared_operators__WEBPACK_IMPORTED_MODULE_2__.Gp)(),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_10__.wt)(newVersion=>this.itemService.findByHref(newVersion._links.item.href)),(0,_core_shared_operators__WEBPACK_IMPORTED_MODULE_2__.Gp)(),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_10__.wt)(newVersionItem=>this.workspaceItemDataService.findByItem(newVersionItem.uuid,!0,!1)),(0,_core_shared_operators__WEBPACK_IMPORTED_MODULE_2__.Gp)()).subscribe(wsItem=>{const route="workspaceitems/"+wsItem.id+"/edit";this.router.navigateByUrl(route)})}}__name(VersionedItemComponent,"VersionedItemComponent"),VersionedItemComponent.\u0275fac=__name(function(t){return new(t||VersionedItemComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_11__.Y36(_ng_bootstrap_ng_bootstrap__WEBPACK_IMPORTED_MODULE_12__.FF),_angular_core__WEBPACK_IMPORTED_MODULE_11__.Y36(_core_data_version_history_data_service__WEBPACK_IMPORTED_MODULE_3__.Q),_angular_core__WEBPACK_IMPORTED_MODULE_11__.Y36(_ngx_translate_core__WEBPACK_IMPORTED_MODULE_13__.sK),_angular_core__WEBPACK_IMPORTED_MODULE_11__.Y36(_core_data_version_data_service__WEBPACK_IMPORTED_MODULE_4__._),_angular_core__WEBPACK_IMPORTED_MODULE_11__.Y36(_shared_item_item_versions_item_versions_shared_service__WEBPACK_IMPORTED_MODULE_5__.D),_angular_core__WEBPACK_IMPORTED_MODULE_11__.Y36(_angular_router__WEBPACK_IMPORTED_MODULE_14__.F0),_angular_core__WEBPACK_IMPORTED_MODULE_11__.Y36(_core_submission_workspaceitem_data_service__WEBPACK_IMPORTED_MODULE_6__.p),_angular_core__WEBPACK_IMPORTED_MODULE_11__.Y36(_core_shared_search_search_service__WEBPACK_IMPORTED_MODULE_7__.o),_angular_core__WEBPACK_IMPORTED_MODULE_11__.Y36(_core_data_item_data_service__WEBPACK_IMPORTED_MODULE_8__.S),_angular_core__WEBPACK_IMPORTED_MODULE_11__.Y36(_core_services_route_service__WEBPACK_IMPORTED_MODULE_9__.MZ))},"VersionedItemComponent_Factory"),VersionedItemComponent.\u0275cmp=_angular_core__WEBPACK_IMPORTED_MODULE_11__.Xpm({type:VersionedItemComponent,selectors:[["ds-versioned-item"]],features:[_angular_core__WEBPACK_IMPORTED_MODULE_11__.qOj],decls:0,vars:0,template:__name(function(rf,ctx){},"VersionedItemComponent_Template"),styles:[""]})},5893:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{T:()=>RelatedEntitiesSearchComponent});__webpack_require__(33609);var _shared_empty_util__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(24702),_shared_utils_relation_query_utils__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(49454),_angular_core__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(5e3),_search_page_configuration_search_page_component__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(61208);class RelatedEntitiesSearchComponent{constructor(){this.searchEnabled=!0,this.sideBarWidth=4}ngOnInit(){(0,_shared_empty_util__WEBPACK_IMPORTED_MODULE_2__.UE)(this.relationType)&&(0,_shared_empty_util__WEBPACK_IMPORTED_MODULE_2__.UE)(this.item)&&(this.fixedFilter=(0,_shared_utils_relation_query_utils__WEBPACK_IMPORTED_MODULE_3__.ae)(this.relationType,this.item.id))}}__name(RelatedEntitiesSearchComponent,"RelatedEntitiesSearchComponent"),RelatedEntitiesSearchComponent.\u0275fac=__name(function(t){return new(t||RelatedEntitiesSearchComponent)},"RelatedEntitiesSearchComponent_Factory"),RelatedEntitiesSearchComponent.\u0275cmp=_angular_core__WEBPACK_IMPORTED_MODULE_4__.Xpm({type:RelatedEntitiesSearchComponent,selectors:[["ds-related-entities-search"]],inputs:{relationType:"relationType",configuration:"configuration",item:"item",searchEnabled:"searchEnabled",sideBarWidth:"sideBarWidth"},decls:1,vars:4,consts:[[3,"fixedFilterQuery","configuration","searchEnabled","sideBarWidth"]],template:__name(function(rf,ctx){1&rf&&_angular_core__WEBPACK_IMPORTED_MODULE_4__._UZ(0,"ds-configuration-search-page",0),2&rf&&_angular_core__WEBPACK_IMPORTED_MODULE_4__.Q6J("fixedFilterQuery",ctx.fixedFilter)("configuration",ctx.configuration)("searchEnabled",ctx.searchEnabled)("sideBarWidth",ctx.sideBarWidth)},"RelatedEntitiesSearchComponent_Template"),directives:[_search_page_configuration_search_page_component__WEBPACK_IMPORTED_MODULE_1__.ConfigurationSearchPageComponent],encapsulation:2})},67797:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{i:()=>TabbedRelatedEntitiesSearchComponent});__webpack_require__(33609);var rxjs_operators__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(83292),_angular_core__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(5e3),_angular_router__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(74202),_angular_common__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(69808),_ng_bootstrap_ng_bootstrap__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(13707),_related_entities_search_related_entities_search_component__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(5893),_shared_utils_var_directive__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(98605),_ngx_translate_core__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(42466);function TabbedRelatedEntitiesSearchComponent_ng_container_0_li_4_ng_template_4_Template(rf,ctx){if(1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_3__.TgZ(0,"div",9),_angular_core__WEBPACK_IMPORTED_MODULE_3__._UZ(1,"ds-related-entities-search",10),_angular_core__WEBPACK_IMPORTED_MODULE_3__.qZA()),2&rf){const relationType_r4=_angular_core__WEBPACK_IMPORTED_MODULE_3__.oxw().$implicit,ctx_r5=_angular_core__WEBPACK_IMPORTED_MODULE_3__.oxw(2);_angular_core__WEBPACK_IMPORTED_MODULE_3__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_3__.Q6J("item",ctx_r5.item)("relationType",relationType_r4.filter)("configuration",relationType_r4.configuration)("searchEnabled",ctx_r5.searchEnabled)("sideBarWidth",ctx_r5.sideBarWidth)}}function TabbedRelatedEntitiesSearchComponent_ng_container_0_li_4_Template(rf,ctx){if(1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_3__.TgZ(0,"li",6)(1,"a",7),_angular_core__WEBPACK_IMPORTED_MODULE_3__._uU(2),_angular_core__WEBPACK_IMPORTED_MODULE_3__.ALo(3,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_3__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_3__.YNc(4,TabbedRelatedEntitiesSearchComponent_ng_container_0_li_4_ng_template_4_Template,2,5,"ng-template",8),_angular_core__WEBPACK_IMPORTED_MODULE_3__.qZA()),2&rf){const relationType_r4=ctx.$implicit;_angular_core__WEBPACK_IMPORTED_MODULE_3__.Q6J("ngbNavItem",relationType_r4.filter),_angular_core__WEBPACK_IMPORTED_MODULE_3__.xp6(2),_angular_core__WEBPACK_IMPORTED_MODULE_3__.Oqu(_angular_core__WEBPACK_IMPORTED_MODULE_3__.lcZ(3,2,"item.page.relationships."+relationType_r4.label))}}function TabbedRelatedEntitiesSearchComponent_ng_container_0_Template(rf,ctx){if(1&rf){const _r8=_angular_core__WEBPACK_IMPORTED_MODULE_3__.EpF();_angular_core__WEBPACK_IMPORTED_MODULE_3__.ynx(0),_angular_core__WEBPACK_IMPORTED_MODULE_3__.TgZ(1,"ul",2,3),_angular_core__WEBPACK_IMPORTED_MODULE_3__.NdJ("navChange",__name(function($event){return _angular_core__WEBPACK_IMPORTED_MODULE_3__.CHM(_r8),_angular_core__WEBPACK_IMPORTED_MODULE_3__.oxw().onTabChange($event)},"TabbedRelatedEntitiesSearchComponent_ng_container_0_Template_ul_navChange_1_listener")),_angular_core__WEBPACK_IMPORTED_MODULE_3__.ALo(3,"async"),_angular_core__WEBPACK_IMPORTED_MODULE_3__.YNc(4,TabbedRelatedEntitiesSearchComponent_ng_container_0_li_4_Template,5,4,"li",4),_angular_core__WEBPACK_IMPORTED_MODULE_3__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_3__._UZ(5,"div",5),_angular_core__WEBPACK_IMPORTED_MODULE_3__.BQk()}if(2&rf){const _r2=_angular_core__WEBPACK_IMPORTED_MODULE_3__.MAs(2),ctx_r0=_angular_core__WEBPACK_IMPORTED_MODULE_3__.oxw();_angular_core__WEBPACK_IMPORTED_MODULE_3__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_3__.Q6J("destroyOnHide",!0)("activeId",_angular_core__WEBPACK_IMPORTED_MODULE_3__.lcZ(3,4,ctx_r0.activeTab$)),_angular_core__WEBPACK_IMPORTED_MODULE_3__.xp6(3),_angular_core__WEBPACK_IMPORTED_MODULE_3__.Q6J("ngForOf",ctx_r0.relationTypes),_angular_core__WEBPACK_IMPORTED_MODULE_3__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_3__.Q6J("ngbNavOutlet",_r2)}}function TabbedRelatedEntitiesSearchComponent_div_1_ds_related_entities_search_1_Template(rf,ctx){if(1&rf&&_angular_core__WEBPACK_IMPORTED_MODULE_3__._UZ(0,"ds-related-entities-search",10),2&rf){const relationType_r10=ctx.ngVar,ctx_r9=_angular_core__WEBPACK_IMPORTED_MODULE_3__.oxw(2);_angular_core__WEBPACK_IMPORTED_MODULE_3__.Q6J("item",ctx_r9.item)("relationType",relationType_r10.filter)("configuration",relationType_r10.configuration)("searchEnabled",ctx_r9.searchEnabled)("sideBarWidth",ctx_r9.sideBarWidth)}}function TabbedRelatedEntitiesSearchComponent_div_1_Template(rf,ctx){if(1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_3__.TgZ(0,"div",9),_angular_core__WEBPACK_IMPORTED_MODULE_3__.YNc(1,TabbedRelatedEntitiesSearchComponent_div_1_ds_related_entities_search_1_Template,1,5,"ds-related-entities-search",11),_angular_core__WEBPACK_IMPORTED_MODULE_3__.qZA()),2&rf){const ctx_r1=_angular_core__WEBPACK_IMPORTED_MODULE_3__.oxw();_angular_core__WEBPACK_IMPORTED_MODULE_3__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_3__.Q6J("ngVar",ctx_r1.relationTypes[0])}}__name(TabbedRelatedEntitiesSearchComponent_ng_container_0_li_4_ng_template_4_Template,"TabbedRelatedEntitiesSearchComponent_ng_container_0_li_4_ng_template_4_Template"),__name(TabbedRelatedEntitiesSearchComponent_ng_container_0_li_4_Template,"TabbedRelatedEntitiesSearchComponent_ng_container_0_li_4_Template"),__name(TabbedRelatedEntitiesSearchComponent_ng_container_0_Template,"TabbedRelatedEntitiesSearchComponent_ng_container_0_Template"),__name(TabbedRelatedEntitiesSearchComponent_div_1_ds_related_entities_search_1_Template,"TabbedRelatedEntitiesSearchComponent_div_1_ds_related_entities_search_1_Template"),__name(TabbedRelatedEntitiesSearchComponent_div_1_Template,"TabbedRelatedEntitiesSearchComponent_div_1_Template");class TabbedRelatedEntitiesSearchComponent{constructor(route,router){this.route=route,this.router=router,this.searchEnabled=!0,this.sideBarWidth=4}ngOnInit(){this.activeTab$=this.route.queryParams.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_4__.UI)(params=>params.tab))}onTabChange(event2){this.router.navigate([],{relativeTo:this.route,queryParams:{tab:event2.nextId},queryParamsHandling:"merge"})}}__name(TabbedRelatedEntitiesSearchComponent,"TabbedRelatedEntitiesSearchComponent"),TabbedRelatedEntitiesSearchComponent.\u0275fac=__name(function(t){return new(t||TabbedRelatedEntitiesSearchComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_3__.Y36(_angular_router__WEBPACK_IMPORTED_MODULE_5__.gz),_angular_core__WEBPACK_IMPORTED_MODULE_3__.Y36(_angular_router__WEBPACK_IMPORTED_MODULE_5__.F0))},"TabbedRelatedEntitiesSearchComponent_Factory"),TabbedRelatedEntitiesSearchComponent.\u0275cmp=_angular_core__WEBPACK_IMPORTED_MODULE_3__.Xpm({type:TabbedRelatedEntitiesSearchComponent,selectors:[["ds-tabbed-related-entities-search"]],inputs:{relationTypes:"relationTypes",item:"item",searchEnabled:"searchEnabled",sideBarWidth:"sideBarWidth"},decls:2,vars:2,consts:[[4,"ngIf"],["class","mt-4",4,"ngIf"],["ngbNav","",1,"nav-tabs",3,"destroyOnHide","activeId","navChange"],["tabs","ngbNav"],[3,"ngbNavItem",4,"ngFor","ngForOf"],[3,"ngbNavOutlet"],[3,"ngbNavItem"],["ngbNavLink",""],["ngbNavContent",""],[1,"mt-4"],[3,"item","relationType","configuration","searchEnabled","sideBarWidth"],[3,"item","relationType","configuration","searchEnabled","sideBarWidth",4,"ngVar"]],template:__name(function(rf,ctx){1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_3__.YNc(0,TabbedRelatedEntitiesSearchComponent_ng_container_0_Template,6,6,"ng-container",0),_angular_core__WEBPACK_IMPORTED_MODULE_3__.YNc(1,TabbedRelatedEntitiesSearchComponent_div_1_Template,2,1,"div",1)),2&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_3__.Q6J("ngIf",ctx.relationTypes.length>1),_angular_core__WEBPACK_IMPORTED_MODULE_3__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_3__.Q6J("ngIf",1===ctx.relationTypes.length))},"TabbedRelatedEntitiesSearchComponent_Template"),directives:[_angular_common__WEBPACK_IMPORTED_MODULE_6__.O5,_ng_bootstrap_ng_bootstrap__WEBPACK_IMPORTED_MODULE_7__.Pz,_angular_common__WEBPACK_IMPORTED_MODULE_6__.sg,_ng_bootstrap_ng_bootstrap__WEBPACK_IMPORTED_MODULE_7__.nv,_ng_bootstrap_ng_bootstrap__WEBPACK_IMPORTED_MODULE_7__.Vx,_ng_bootstrap_ng_bootstrap__WEBPACK_IMPORTED_MODULE_7__.uN,_related_entities_search_related_entities_search_component__WEBPACK_IMPORTED_MODULE_1__.T,_ng_bootstrap_ng_bootstrap__WEBPACK_IMPORTED_MODULE_7__.tO,_shared_utils_var_directive__WEBPACK_IMPORTED_MODULE_2__.g],pipes:[_angular_common__WEBPACK_IMPORTED_MODULE_6__.Ov,_ngx_translate_core__WEBPACK_IMPORTED_MODULE_8__.X$],encapsulation:2})},64767:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{B:()=>ConfigurationSearchPageGuard});var _angular_core__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(5e3);class ConfigurationSearchPageGuard{canActivate(route,state){const newTitle=route.params.configuration+".search.title";return route.data={title:newTitle},!0}}__name(ConfigurationSearchPageGuard,"ConfigurationSearchPageGuard"),ConfigurationSearchPageGuard.\u0275fac=__name(function(t){return new(t||ConfigurationSearchPageGuard)},"ConfigurationSearchPageGuard_Factory"),ConfigurationSearchPageGuard.\u0275prov=_angular_core__WEBPACK_IMPORTED_MODULE_0__.Yz7({token:ConfigurationSearchPageGuard,factory:ConfigurationSearchPageGuard.\u0275fac})},96995:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{SearchPageComponent:()=>SearchPageComponent});var _my_dspace_page_my_dspace_page_component__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(14292),_core_shared_search_search_configuration_service__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(36872),_angular_core__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(5e3),_shared_search_themed_search_component__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(30236);class SearchPageComponent{}__name(SearchPageComponent,"SearchPageComponent"),SearchPageComponent.\u0275fac=__name(function(t){return new(t||SearchPageComponent)},"SearchPageComponent_Factory"),SearchPageComponent.\u0275cmp=_angular_core__WEBPACK_IMPORTED_MODULE_3__.Xpm({type:SearchPageComponent,selectors:[["ds-search-page"]],features:[_angular_core__WEBPACK_IMPORTED_MODULE_3__._Bn([{provide:_my_dspace_page_my_dspace_page_component__WEBPACK_IMPORTED_MODULE_0__.SEARCH_CONFIG_SERVICE,useClass:_core_shared_search_search_configuration_service__WEBPACK_IMPORTED_MODULE_1__.U}])],decls:1,vars:1,consts:[[3,"trackStatistics"]],template:__name(function(rf,ctx){1&rf&&_angular_core__WEBPACK_IMPORTED_MODULE_3__._UZ(0,"ds-themed-search",0),2&rf&&_angular_core__WEBPACK_IMPORTED_MODULE_3__.Q6J("trackStatistics",!0)},"SearchPageComponent_Template"),directives:[_shared_search_themed_search_component__WEBPACK_IMPORTED_MODULE_2__.l],encapsulation:2})},98190:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{q:()=>SearchPageModule});var common=__webpack_require__(69808),core_module=__webpack_require__(2148),shared_module=__webpack_require__(57981),sidebar_service=__webpack_require__(72312),configuration_search_page_guard=__webpack_require__(64767),operators=__webpack_require__(83292),search_component=__webpack_require__(58881),host_window_service=__webpack_require__(958),my_dspace_page_component=__webpack_require__(14292),route_service=__webpack_require__(5360),search_configuration_service=__webpack_require__(36872),search_service=__webpack_require__(5164),shared_operators=__webpack_require__(13730),core=__webpack_require__(5e3),angulartics2=__webpack_require__(13758),router=__webpack_require__(74202);class SearchTrackerComponent extends search_component.SearchComponent{constructor(service,sidebarService,windowService,searchConfigService,routeService,angulartics22,router2){super(service,sidebarService,windowService,searchConfigService,routeService,router2),this.service=service,this.sidebarService=sidebarService,this.windowService=windowService,this.searchConfigService=searchConfigService,this.routeService=routeService,this.angulartics2=angulartics22,this.router=router2}ngOnInit(){this.getSearchOptions().pipe((0,operators.wt)(options=>this.service.searchEntries(options).pipe((0,shared_operators.xw)(),(0,operators.UI)(rd=>({config:options,searchQueryResponse:rd.payload}))))).subscribe(({config,searchQueryResponse})=>{const filters=[],appliedFilters=searchQueryResponse.appliedFilters||[];for(let i=0,filtersLength=appliedFilters.length;i<filtersLength;i++){const appliedFilter=appliedFilters[i];filters.push(appliedFilter)}this.angulartics2.eventTrack.next({action:"search",properties:{searchOptions:config,page:{size:config.pagination.size,totalElements:searchQueryResponse.pageInfo.totalElements,totalPages:searchQueryResponse.pageInfo.totalPages,number:config.pagination.currentPage},sort:{by:config.sort.field,order:config.sort.direction},filters}})})}}__name(SearchTrackerComponent,"SearchTrackerComponent"),SearchTrackerComponent.\u0275fac=__name(function(t){return new(t||SearchTrackerComponent)(core.Y36(search_service.o),core.Y36(sidebar_service.P),core.Y36(host_window_service.I),core.Y36(my_dspace_page_component.SEARCH_CONFIG_SERVICE),core.Y36(route_service.MZ),core.Y36(angulartics2.b),core.Y36(router.F0))},"SearchTrackerComponent_Factory"),SearchTrackerComponent.\u0275cmp=core.Xpm({type:SearchTrackerComponent,selectors:[["ds-search-tracker"]],features:[core._Bn([{provide:my_dspace_page_component.SEARCH_CONFIG_SERVICE,useClass:search_configuration_service.U}]),core.qOj],decls:1,vars:0,template:__name(function(rf,ctx){1&rf&&core._uU(0,"\xa0\n")},"SearchTrackerComponent_Template"),styles:["[_nghost-%COMP%]{display:none}"]});var statistics_module=__webpack_require__(79248),search_page_component=__webpack_require__(96995),sidebar_filter_service=__webpack_require__(85612),search_filter_service=__webpack_require__(62188),journal_entities_module=__webpack_require__(74227),research_entities_module=__webpack_require__(84376),themed_search_page_component=__webpack_require__(93329),search_module=__webpack_require__(57262);search_page_component.SearchPageComponent,themed_search_page_component.m;class SearchPageModule{}__name(SearchPageModule,"SearchPageModule"),SearchPageModule.\u0275fac=__name(function(t){return new(t||SearchPageModule)},"SearchPageModule_Factory"),SearchPageModule.\u0275mod=core.oAB({type:SearchPageModule}),SearchPageModule.\u0275inj=core.cJS({providers:[sidebar_service.P,sidebar_filter_service.s,search_filter_service.nJ,configuration_search_page_guard.B,search_configuration_service.U],imports:[[common.ez,search_module.t,shared_module.m.withEntryComponents(),core_module.IR.forRoot(),statistics_module.p.forRoot(),journal_entities_module.x.withEntryComponents(),research_entities_module.a.withEntryComponents()]]})},93329:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{m:()=>ThemedSearchPageComponent});var _shared_theme_support_themed_component__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(25330),_angular_core__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(5e3);function ThemedSearchPageComponent_ng_template_0_Template(rf,ctx){}__name(ThemedSearchPageComponent_ng_template_0_Template,"ThemedSearchPageComponent_ng_template_0_Template");class ThemedSearchPageComponent extends _shared_theme_support_themed_component__WEBPACK_IMPORTED_MODULE_0__.F{getComponentName(){return"SearchPageComponent"}importThemedComponent(themeName){return __webpack_require__(217)(`./${themeName}/app/search-page/search-page.component`)}importUnthemedComponent(){return Promise.resolve().then(__webpack_require__.bind(__webpack_require__,96995))}}__name(ThemedSearchPageComponent,"ThemedSearchPageComponent"),ThemedSearchPageComponent.\u0275fac=function(){let \u0275ThemedSearchPageComponent_BaseFactory;return __name(function(t){return(\u0275ThemedSearchPageComponent_BaseFactory||(\u0275ThemedSearchPageComponent_BaseFactory=_angular_core__WEBPACK_IMPORTED_MODULE_1__.n5z(ThemedSearchPageComponent)))(t||ThemedSearchPageComponent)},"ThemedSearchPageComponent_Factory")}(),ThemedSearchPageComponent.\u0275cmp=_angular_core__WEBPACK_IMPORTED_MODULE_1__.Xpm({type:ThemedSearchPageComponent,selectors:[["ds-themed-search-page"]],features:[_angular_core__WEBPACK_IMPORTED_MODULE_1__.qOj],decls:2,vars:0,consts:[["vcr",""]],template:__name(function(rf,ctx){1&rf&&_angular_core__WEBPACK_IMPORTED_MODULE_1__.YNc(0,ThemedSearchPageComponent_ng_template_0_Template,0,0,"ng-template",null,0,_angular_core__WEBPACK_IMPORTED_MODULE_1__.W1O)},"ThemedSearchPageComponent_Template"),encapsulation:2})},66212:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{_:()=>dsDynamicFormControlMapFn,B:()=>DsDynamicFormControlContainerComponent});var _angular_core__WEBPACK_IMPORTED_MODULE_38__=__webpack_require__(5e3),_ng_dynamic_forms_core__WEBPACK_IMPORTED_MODULE_39__=__webpack_require__(87098),_ng_dynamic_forms_ui_ng_bootstrap__WEBPACK_IMPORTED_MODULE_40__=__webpack_require__(65806),_existing_metadata_list_element_existing_metadata_list_element_component__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(93571),_models_onebox_dynamic_onebox_model__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(37548),_models_scrollable_dropdown_dynamic_scrollable_dropdown_model__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(28571),_models_tag_dynamic_tag_model__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(81907),_models_date_picker_date_picker_model__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(96807),_models_lookup_dynamic_lookup_model__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(41850),_models_list_dynamic_list_checkbox_group_model__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(11656),_models_list_dynamic_list_radio_group_model__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(49210),_empty_util__WEBPACK_IMPORTED_MODULE_42__=__webpack_require__(24702),_models_lookup_dynamic_lookup_name_model__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(16125),_models_tag_dynamic_tag_component__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(28554),_models_date_picker_date_picker_component__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(74043),_models_list_dynamic_list_component__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(88766),_models_onebox_dynamic_onebox_component__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(86471),_models_scrollable_dropdown_dynamic_scrollable_dropdown_component__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__(42803),_models_lookup_dynamic_lookup_component__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__(21650),_models_form_group_dynamic_form_group_component__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__(66319),_models_array_group_dynamic_form_array_component__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__(79001),_models_relation_group_dynamic_relation_group_components__WEBPACK_IMPORTED_MODULE_17__=__webpack_require__(22280),_models_date_picker_inline_dynamic_date_picker_inline_component__WEBPACK_IMPORTED_MODULE_18__=__webpack_require__(19869),_models_custom_switch_custom_switch_model__WEBPACK_IMPORTED_MODULE_19__=__webpack_require__(45014),_models_custom_switch_custom_switch_component__WEBPACK_IMPORTED_MODULE_20__=__webpack_require__(13457),rxjs_operators__WEBPACK_IMPORTED_MODULE_44__=__webpack_require__(83292),rxjs__WEBPACK_IMPORTED_MODULE_46__=__webpack_require__(76477),_ds_dynamic_type_bind_relation_service__WEBPACK_IMPORTED_MODULE_21__=__webpack_require__(34827),_core_data_relationship_data_service__WEBPACK_IMPORTED_MODULE_22__=__webpack_require__(88002),_object_list_selectable_list_selectable_list_service__WEBPACK_IMPORTED_MODULE_23__=__webpack_require__(51117),_models_disabled_dynamic_disabled_component__WEBPACK_IMPORTED_MODULE_24__=__webpack_require__(8671),_models_disabled_dynamic_disabled_model__WEBPACK_IMPORTED_MODULE_25__=__webpack_require__(53905),_relation_lookup_modal_dynamic_lookup_relation_modal_component__WEBPACK_IMPORTED_MODULE_26__=__webpack_require__(55648),_core_shared_operators__WEBPACK_IMPORTED_MODULE_27__=__webpack_require__(13730),_core_data_item_data_service__WEBPACK_IMPORTED_MODULE_28__=__webpack_require__(83639),_core_submission_submission_object_data_service__WEBPACK_IMPORTED_MODULE_29__=__webpack_require__(74297),_object_collection_shared_item_search_result_model__WEBPACK_IMPORTED_MODULE_30__=__webpack_require__(84412),_core_shared_metadata_models__WEBPACK_IMPORTED_MODULE_31__=__webpack_require__(79300),_form_service__WEBPACK_IMPORTED_MODULE_32__=__webpack_require__(28858),_submission_submission_service__WEBPACK_IMPORTED_MODULE_33__=__webpack_require__(86421),_utils_follow_link_config_model__WEBPACK_IMPORTED_MODULE_45__=__webpack_require__(93369),_item_page_simple_item_types_shared_item_relationships_utils__WEBPACK_IMPORTED_MODULE_34__=__webpack_require__(4900),_models_relationship_options_model__WEBPACK_IMPORTED_MODULE_43__=__webpack_require__(34780),_form_builder_service__WEBPACK_IMPORTED_MODULE_35__=__webpack_require__(71022),_ds_dynamic_form_constants__WEBPACK_IMPORTED_MODULE_41__=__webpack_require__(78103),_models_form_field_metadata_value_model__WEBPACK_IMPORTED_MODULE_36__=__webpack_require__(7973),_ngx_translate_core__WEBPACK_IMPORTED_MODULE_47__=__webpack_require__(42466),_ng_bootstrap_ng_bootstrap__WEBPACK_IMPORTED_MODULE_48__=__webpack_require__(13707),_ngrx_store__WEBPACK_IMPORTED_MODULE_49__=__webpack_require__(85094),_angular_forms__WEBPACK_IMPORTED_MODULE_50__=__webpack_require__(93075),_angular_common__WEBPACK_IMPORTED_MODULE_51__=__webpack_require__(69808),_existing_relation_list_element_existing_relation_list_element_component__WEBPACK_IMPORTED_MODULE_37__=__webpack_require__(77410);const _c0=["componentViewContainer"],_c1=__name(function(a0,a1){return[a0,a1]},"_c1");function DsDynamicFormControlContainerComponent_label_1_Template(rf,ctx){if(1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_38__._UZ(0,"label",11),_angular_core__WEBPACK_IMPORTED_MODULE_38__.ALo(1,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_38__.ALo(2,"translate")),2&rf){const ctx_r0=_angular_core__WEBPACK_IMPORTED_MODULE_38__.oxw();_angular_core__WEBPACK_IMPORTED_MODULE_38__.Q6J("id","label_"+ctx_r0.model.id)("for",ctx_r0.id)("innerHTML",ctx_r0.model.required&&ctx_r0.model.label?_angular_core__WEBPACK_IMPORTED_MODULE_38__.lcZ(1,4,ctx_r0.model.label)+" *":_angular_core__WEBPACK_IMPORTED_MODULE_38__.lcZ(2,6,ctx_r0.model.label),_angular_core__WEBPACK_IMPORTED_MODULE_38__.oJD)("ngClass",_angular_core__WEBPACK_IMPORTED_MODULE_38__.WLB(8,_c1,ctx_r0.getClass("element","label"),ctx_r0.getClass("grid","label")))}}function DsDynamicFormControlContainerComponent_ng_container_2_Template(rf,ctx){1&rf&&_angular_core__WEBPACK_IMPORTED_MODULE_38__.GkF(0)}function DsDynamicFormControlContainerComponent_small_8_Template(rf,ctx){if(1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_38__._UZ(0,"small",12),_angular_core__WEBPACK_IMPORTED_MODULE_38__.ALo(1,"translate")),2&rf){const ctx_r3=_angular_core__WEBPACK_IMPORTED_MODULE_38__.oxw();_angular_core__WEBPACK_IMPORTED_MODULE_38__.Q6J("innerHTML",_angular_core__WEBPACK_IMPORTED_MODULE_38__.lcZ(1,2,ctx_r3.model.hint),_angular_core__WEBPACK_IMPORTED_MODULE_38__.oJD)("ngClass",ctx_r3.getClass("element","hint"))}}function DsDynamicFormControlContainerComponent_div_9_Template(rf,ctx){1&rf&&_angular_core__WEBPACK_IMPORTED_MODULE_38__._UZ(0,"div",13)}function DsDynamicFormControlContainerComponent_div_10_small_1_Template(rf,ctx){if(1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_38__.TgZ(0,"small",16),_angular_core__WEBPACK_IMPORTED_MODULE_38__._uU(1),_angular_core__WEBPACK_IMPORTED_MODULE_38__.ALo(2,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_38__.qZA()),2&rf){const message_r11=ctx.$implicit,ctx_r10=_angular_core__WEBPACK_IMPORTED_MODULE_38__.oxw(2);_angular_core__WEBPACK_IMPORTED_MODULE_38__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_38__.Oqu(_angular_core__WEBPACK_IMPORTED_MODULE_38__.xi3(2,1,message_r11,ctx_r10.model.validators))}}function DsDynamicFormControlContainerComponent_div_10_Template(rf,ctx){if(1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_38__.TgZ(0,"div",14),_angular_core__WEBPACK_IMPORTED_MODULE_38__.YNc(1,DsDynamicFormControlContainerComponent_div_10_small_1_Template,3,4,"small",15),_angular_core__WEBPACK_IMPORTED_MODULE_38__.qZA()),2&rf){const ctx_r5=_angular_core__WEBPACK_IMPORTED_MODULE_38__.oxw();_angular_core__WEBPACK_IMPORTED_MODULE_38__.Q6J("id",ctx_r5.id+"_errors")("ngClass",_angular_core__WEBPACK_IMPORTED_MODULE_38__.WLB(3,_c1,ctx_r5.getClass("element","errors"),ctx_r5.getClass("grid","errors"))),_angular_core__WEBPACK_IMPORTED_MODULE_38__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_38__.Q6J("ngForOf",ctx_r5.errorMessages)}}function DsDynamicFormControlContainerComponent_div_11_option_3_Template(rf,ctx){if(1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_38__.TgZ(0,"option",21),_angular_core__WEBPACK_IMPORTED_MODULE_38__._uU(1),_angular_core__WEBPACK_IMPORTED_MODULE_38__.qZA()),2&rf){const lang_r14=ctx.$implicit;_angular_core__WEBPACK_IMPORTED_MODULE_38__.Q6J("value",lang_r14.code),_angular_core__WEBPACK_IMPORTED_MODULE_38__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_38__.Oqu(lang_r14.display)}}__name(DsDynamicFormControlContainerComponent_label_1_Template,"DsDynamicFormControlContainerComponent_label_1_Template"),__name(DsDynamicFormControlContainerComponent_ng_container_2_Template,"DsDynamicFormControlContainerComponent_ng_container_2_Template"),__name(DsDynamicFormControlContainerComponent_small_8_Template,"DsDynamicFormControlContainerComponent_small_8_Template"),__name(DsDynamicFormControlContainerComponent_div_9_Template,"DsDynamicFormControlContainerComponent_div_9_Template"),__name(DsDynamicFormControlContainerComponent_div_10_small_1_Template,"DsDynamicFormControlContainerComponent_div_10_small_1_Template"),__name(DsDynamicFormControlContainerComponent_div_10_Template,"DsDynamicFormControlContainerComponent_div_10_Template"),__name(DsDynamicFormControlContainerComponent_div_11_option_3_Template,"DsDynamicFormControlContainerComponent_div_11_option_3_Template");const _c2=__name(function(){return{standalone:!0}},"_c2");function DsDynamicFormControlContainerComponent_div_11_Template(rf,ctx){if(1&rf){const _r16=_angular_core__WEBPACK_IMPORTED_MODULE_38__.EpF();_angular_core__WEBPACK_IMPORTED_MODULE_38__.TgZ(0,"div",17)(1,"select",18,19),_angular_core__WEBPACK_IMPORTED_MODULE_38__.NdJ("ngModelChange",__name(function($event){_angular_core__WEBPACK_IMPORTED_MODULE_38__.CHM(_r16);return _angular_core__WEBPACK_IMPORTED_MODULE_38__.oxw().model.language=$event},"DsDynamicFormControlContainerComponent_div_11_Template_select_ngModelChange_1_listener"))("blur",__name(function($event){return _angular_core__WEBPACK_IMPORTED_MODULE_38__.CHM(_r16),_angular_core__WEBPACK_IMPORTED_MODULE_38__.oxw().onBlur($event)},"DsDynamicFormControlContainerComponent_div_11_Template_select_blur_1_listener"))("change",__name(function($event){return _angular_core__WEBPACK_IMPORTED_MODULE_38__.CHM(_r16),_angular_core__WEBPACK_IMPORTED_MODULE_38__.oxw().onChangeLanguage($event)},"DsDynamicFormControlContainerComponent_div_11_Template_select_change_1_listener")),_angular_core__WEBPACK_IMPORTED_MODULE_38__.YNc(3,DsDynamicFormControlContainerComponent_div_11_option_3_Template,2,2,"option",20),_angular_core__WEBPACK_IMPORTED_MODULE_38__.qZA()()}if(2&rf){const ctx_r6=_angular_core__WEBPACK_IMPORTED_MODULE_38__.oxw();_angular_core__WEBPACK_IMPORTED_MODULE_38__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_38__.Q6J("disabled",ctx_r6.model.readOnly)("ngModel",ctx_r6.model.language)("ngModelOptions",_angular_core__WEBPACK_IMPORTED_MODULE_38__.DdM(4,_c2)),_angular_core__WEBPACK_IMPORTED_MODULE_38__.xp6(2),_angular_core__WEBPACK_IMPORTED_MODULE_38__.Q6J("ngForOf",ctx_r6.model.languageCodes)}}function DsDynamicFormControlContainerComponent_div_12_Template(rf,ctx){if(1&rf){const _r20=_angular_core__WEBPACK_IMPORTED_MODULE_38__.EpF();_angular_core__WEBPACK_IMPORTED_MODULE_38__.TgZ(0,"div",22)(1,"button",23),_angular_core__WEBPACK_IMPORTED_MODULE_38__.NdJ("click",__name(function($event){return _angular_core__WEBPACK_IMPORTED_MODULE_38__.CHM(_r20),_angular_core__WEBPACK_IMPORTED_MODULE_38__.oxw().openLookup(),$event.stopPropagation()},"DsDynamicFormControlContainerComponent_div_12_Template_button_click_1_listener")),_angular_core__WEBPACK_IMPORTED_MODULE_38__.ALo(2,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_38__._UZ(3,"i",24),_angular_core__WEBPACK_IMPORTED_MODULE_38__.qZA()()}2&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_38__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_38__.s9C("ngbTooltip",_angular_core__WEBPACK_IMPORTED_MODULE_38__.lcZ(2,1,"form.lookup-help")))}function DsDynamicFormControlContainerComponent_ng_container_13_Template(rf,ctx){1&rf&&_angular_core__WEBPACK_IMPORTED_MODULE_38__.GkF(0)}function DsDynamicFormControlContainerComponent_ng_container_14_ds_existing_metadata_list_element_1_Template(rf,ctx){if(1&rf){const _r25=_angular_core__WEBPACK_IMPORTED_MODULE_38__.EpF();_angular_core__WEBPACK_IMPORTED_MODULE_38__.TgZ(0,"ds-existing-metadata-list-element",27),_angular_core__WEBPACK_IMPORTED_MODULE_38__.NdJ("remove",__name(function(){return _angular_core__WEBPACK_IMPORTED_MODULE_38__.CHM(_r25),_angular_core__WEBPACK_IMPORTED_MODULE_38__.oxw(2).onRemove()},"DsDynamicFormControlContainerComponent_ng_container_14_ds_existing_metadata_list_element_1_Template_ds_existing_metadata_list_element_remove_0_listener")),_angular_core__WEBPACK_IMPORTED_MODULE_38__.ALo(1,"async"),_angular_core__WEBPACK_IMPORTED_MODULE_38__.ALo(2,"async"),_angular_core__WEBPACK_IMPORTED_MODULE_38__.qZA()}if(2&rf){const ctx_r21=_angular_core__WEBPACK_IMPORTED_MODULE_38__.oxw(2);_angular_core__WEBPACK_IMPORTED_MODULE_38__.Q6J("reoRel",_angular_core__WEBPACK_IMPORTED_MODULE_38__.lcZ(1,6,ctx_r21.relationshipValue$))("submissionItem",_angular_core__WEBPACK_IMPORTED_MODULE_38__.lcZ(2,8,ctx_r21.item$))("listId",ctx_r21.listId)("metadataFields",ctx_r21.model.metadataFields)("submissionId",ctx_r21.model.submissionId)("relationshipOptions",ctx_r21.model.relationship)}}__name(DsDynamicFormControlContainerComponent_div_11_Template,"DsDynamicFormControlContainerComponent_div_11_Template"),__name(DsDynamicFormControlContainerComponent_div_12_Template,"DsDynamicFormControlContainerComponent_div_12_Template"),__name(DsDynamicFormControlContainerComponent_ng_container_13_Template,"DsDynamicFormControlContainerComponent_ng_container_13_Template"),__name(DsDynamicFormControlContainerComponent_ng_container_14_ds_existing_metadata_list_element_1_Template,"DsDynamicFormControlContainerComponent_ng_container_14_ds_existing_metadata_list_element_1_Template");const _c3=__name(function(a0){return{"d-block pb-2 pt-2":a0}},"_c3");function DsDynamicFormControlContainerComponent_ng_container_14_ds_existing_relation_list_element_2_Template(rf,ctx){if(1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_38__._UZ(0,"ds-existing-relation-list-element",28),_angular_core__WEBPACK_IMPORTED_MODULE_38__.ALo(1,"async"),_angular_core__WEBPACK_IMPORTED_MODULE_38__.ALo(2,"async")),2&rf){const ctx_r22=_angular_core__WEBPACK_IMPORTED_MODULE_38__.oxw(2);_angular_core__WEBPACK_IMPORTED_MODULE_38__.Q6J("ngClass",_angular_core__WEBPACK_IMPORTED_MODULE_38__.VKq(11,_c3,!(null!=ctx_r22.context&&ctx_r22.context.index)))("reoRel",_angular_core__WEBPACK_IMPORTED_MODULE_38__.lcZ(1,7,ctx_r22.relationshipValue$))("submissionItem",_angular_core__WEBPACK_IMPORTED_MODULE_38__.lcZ(2,9,ctx_r22.item$))("listId",ctx_r22.listId)("metadataFields",ctx_r22.model.metadataFields)("submissionId",ctx_r22.model.submissionId)("relationshipOptions",ctx_r22.model.relationship)}}function DsDynamicFormControlContainerComponent_ng_container_14_small_3_Template(rf,ctx){if(1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_38__._UZ(0,"small",12),_angular_core__WEBPACK_IMPORTED_MODULE_38__.ALo(1,"translate")),2&rf){const ctx_r23=_angular_core__WEBPACK_IMPORTED_MODULE_38__.oxw(2);_angular_core__WEBPACK_IMPORTED_MODULE_38__.Q6J("innerHTML",_angular_core__WEBPACK_IMPORTED_MODULE_38__.lcZ(1,2,ctx_r23.model.hint),_angular_core__WEBPACK_IMPORTED_MODULE_38__.oJD)("ngClass",ctx_r23.getClass("element","hint"))}}function DsDynamicFormControlContainerComponent_ng_container_14_Template(rf,ctx){if(1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_38__.ynx(0),_angular_core__WEBPACK_IMPORTED_MODULE_38__.YNc(1,DsDynamicFormControlContainerComponent_ng_container_14_ds_existing_metadata_list_element_1_Template,3,10,"ds-existing-metadata-list-element",25),_angular_core__WEBPACK_IMPORTED_MODULE_38__.YNc(2,DsDynamicFormControlContainerComponent_ng_container_14_ds_existing_relation_list_element_2_Template,3,13,"ds-existing-relation-list-element",26),_angular_core__WEBPACK_IMPORTED_MODULE_38__.YNc(3,DsDynamicFormControlContainerComponent_ng_container_14_small_3_Template,2,4,"small",5),_angular_core__WEBPACK_IMPORTED_MODULE_38__._UZ(4,"div",13),_angular_core__WEBPACK_IMPORTED_MODULE_38__.BQk()),2&rf){const ctx_r9=_angular_core__WEBPACK_IMPORTED_MODULE_38__.oxw();_angular_core__WEBPACK_IMPORTED_MODULE_38__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_38__.Q6J("ngIf",ctx_r9.model.hasSelectableMetadata),_angular_core__WEBPACK_IMPORTED_MODULE_38__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_38__.Q6J("ngIf",!ctx_r9.model.hasSelectableMetadata),_angular_core__WEBPACK_IMPORTED_MODULE_38__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_38__.Q6J("ngIf",ctx_r9.hasHint&&(!1===ctx_r9.model.repeatable||(null==ctx_r9.context?null:ctx_r9.context.index)===(null==ctx_r9.context||null==ctx_r9.context.context||null==ctx_r9.context.context.groups?null:ctx_r9.context.context.groups.length)-1)&&(!ctx_r9.showErrorMessages||0===ctx_r9.errorMessages.length))}}__name(DsDynamicFormControlContainerComponent_ng_container_14_ds_existing_relation_list_element_2_Template,"DsDynamicFormControlContainerComponent_ng_container_14_ds_existing_relation_list_element_2_Template"),__name(DsDynamicFormControlContainerComponent_ng_container_14_small_3_Template,"DsDynamicFormControlContainerComponent_ng_container_14_small_3_Template"),__name(DsDynamicFormControlContainerComponent_ng_container_14_Template,"DsDynamicFormControlContainerComponent_ng_container_14_Template");const _c4=__name(function(a0){return{$implicit:a0}},"_c4"),_c5=__name(function(a0,a1){return{"form-row":a0,"d-none":a1}},"_c5");function dsDynamicFormControlMapFn(model){switch(model.type){case _ng_dynamic_forms_core__WEBPACK_IMPORTED_MODULE_39__.i9b:return _models_array_group_dynamic_form_array_component__WEBPACK_IMPORTED_MODULE_16__.s;case _ng_dynamic_forms_core__WEBPACK_IMPORTED_MODULE_39__.fSU:return _ng_dynamic_forms_ui_ng_bootstrap__WEBPACK_IMPORTED_MODULE_40__.Gy;case _ng_dynamic_forms_core__WEBPACK_IMPORTED_MODULE_39__.aTt:return model instanceof _models_list_dynamic_list_checkbox_group_model__WEBPACK_IMPORTED_MODULE_6__.R?_models_list_dynamic_list_component__WEBPACK_IMPORTED_MODULE_11__.d:_ng_dynamic_forms_ui_ng_bootstrap__WEBPACK_IMPORTED_MODULE_40__.P2;case _ng_dynamic_forms_core__WEBPACK_IMPORTED_MODULE_39__.VId:return model.inline?_ng_dynamic_forms_ui_ng_bootstrap__WEBPACK_IMPORTED_MODULE_40__.qz:_models_date_picker_inline_dynamic_date_picker_inline_component__WEBPACK_IMPORTED_MODULE_18__.u;case _ng_dynamic_forms_core__WEBPACK_IMPORTED_MODULE_39__.Qam:return _models_form_group_dynamic_form_group_component__WEBPACK_IMPORTED_MODULE_15__.i;case _ng_dynamic_forms_core__WEBPACK_IMPORTED_MODULE_39__.X9S:return _ng_dynamic_forms_ui_ng_bootstrap__WEBPACK_IMPORTED_MODULE_40__.Zu;case _ng_dynamic_forms_core__WEBPACK_IMPORTED_MODULE_39__.e6P:return model instanceof _models_list_dynamic_list_radio_group_model__WEBPACK_IMPORTED_MODULE_7__.s?_models_list_dynamic_list_component__WEBPACK_IMPORTED_MODULE_11__.d:_ng_dynamic_forms_ui_ng_bootstrap__WEBPACK_IMPORTED_MODULE_40__.TE;case _ng_dynamic_forms_core__WEBPACK_IMPORTED_MODULE_39__.Lq6:return _ng_dynamic_forms_ui_ng_bootstrap__WEBPACK_IMPORTED_MODULE_40__.QB;case _ng_dynamic_forms_core__WEBPACK_IMPORTED_MODULE_39__.Pdh:return _ng_dynamic_forms_ui_ng_bootstrap__WEBPACK_IMPORTED_MODULE_40__.Sb;case _ng_dynamic_forms_core__WEBPACK_IMPORTED_MODULE_39__.BKB:return _ng_dynamic_forms_ui_ng_bootstrap__WEBPACK_IMPORTED_MODULE_40__.XX;case _models_onebox_dynamic_onebox_model__WEBPACK_IMPORTED_MODULE_1__.n:return _models_onebox_dynamic_onebox_component__WEBPACK_IMPORTED_MODULE_12__.r;case _models_scrollable_dropdown_dynamic_scrollable_dropdown_model__WEBPACK_IMPORTED_MODULE_2__.v:return _models_scrollable_dropdown_dynamic_scrollable_dropdown_component__WEBPACK_IMPORTED_MODULE_13__.D;case _models_tag_dynamic_tag_model__WEBPACK_IMPORTED_MODULE_3__.D:return _models_tag_dynamic_tag_component__WEBPACK_IMPORTED_MODULE_9__.V;case _ds_dynamic_form_constants__WEBPACK_IMPORTED_MODULE_41__.Q:return _models_relation_group_dynamic_relation_group_components__WEBPACK_IMPORTED_MODULE_17__.H;case _models_date_picker_date_picker_model__WEBPACK_IMPORTED_MODULE_4__.L:return _models_date_picker_date_picker_component__WEBPACK_IMPORTED_MODULE_10__.H;case _models_lookup_dynamic_lookup_model__WEBPACK_IMPORTED_MODULE_5__.d:case _models_lookup_dynamic_lookup_name_model__WEBPACK_IMPORTED_MODULE_8__.S:return _models_lookup_dynamic_lookup_component__WEBPACK_IMPORTED_MODULE_14__.G;case _models_disabled_dynamic_disabled_model__WEBPACK_IMPORTED_MODULE_25__.W:return _models_disabled_dynamic_disabled_component__WEBPACK_IMPORTED_MODULE_24__.x;case _models_custom_switch_custom_switch_model__WEBPACK_IMPORTED_MODULE_19__.c:return _models_custom_switch_custom_switch_component__WEBPACK_IMPORTED_MODULE_20__._;default:return null}}__name(dsDynamicFormControlMapFn,"dsDynamicFormControlMapFn");class DsDynamicFormControlContainerComponent extends _ng_dynamic_forms_core__WEBPACK_IMPORTED_MODULE_39__.wT7{constructor(componentFactoryResolver,dynamicFormComponentService,layoutService,validationService,typeBindRelationService,translateService,relationService,modalService,relationshipService,selectableListService,itemService,zone,store,submissionObjectService,ref,formService,formBuilderService,submissionService){super(ref,componentFactoryResolver,layoutService,validationService,dynamicFormComponentService,relationService),this.componentFactoryResolver=componentFactoryResolver,this.dynamicFormComponentService=dynamicFormComponentService,this.layoutService=layoutService,this.validationService=validationService,this.typeBindRelationService=typeBindRelationService,this.translateService=translateService,this.relationService=relationService,this.modalService=modalService,this.relationshipService=relationshipService,this.selectableListService=selectableListService,this.itemService=itemService,this.zone=zone,this.store=store,this.submissionObjectService=submissionObjectService,this.ref=ref,this.formService=formService,this.formBuilderService=formBuilderService,this.submissionService=submissionService,this.asBootstrapFormGroup=!1,this.bindId=!0,this.context=null,this.hasErrorMessaging=!1,this.layout=null,this.subs=[],this.blur=new _angular_core__WEBPACK_IMPORTED_MODULE_38__.vpe,this.change=new _angular_core__WEBPACK_IMPORTED_MODULE_38__.vpe,this.focus=new _angular_core__WEBPACK_IMPORTED_MODULE_38__.vpe,this.customEvent=new _angular_core__WEBPACK_IMPORTED_MODULE_38__.vpe}get componentType(){return dsDynamicFormControlMapFn(this.model)}ngOnInit(){this.isRelationship=(0,_empty_util__WEBPACK_IMPORTED_MODULE_42__.Uh)(this.model.relationship);const isWrapperAroundRelationshipList=(0,_empty_util__WEBPACK_IMPORTED_MODULE_42__.Uh)(this.model.relationshipConfig);if(this.isRelationship||isWrapperAroundRelationshipList){const config=this.model.relationshipConfig||this.model.relationship,relationshipOptions=Object.assign(new _models_relationship_options_model__WEBPACK_IMPORTED_MODULE_43__.u,config);if(this.listId=`list-${this.model.submissionId}-${relationshipOptions.relationshipType}`,this.setItem(),isWrapperAroundRelationshipList||!this.model.repeatable){const subscription=this.selectableListService.getSelectableList(this.listId).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_44__.sE)(list=>(0,_empty_util__WEBPACK_IMPORTED_MODULE_42__.xI)(list)),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_44__.wt)(()=>this.item$.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_44__.qn)(1))),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_44__.wt)(item=>{const relationshipsRD$=this.relationshipService.getItemRelationshipsByLabel(item,relationshipOptions.relationshipType,void 0,!0,!0,(0,_utils_follow_link_config_model__WEBPACK_IMPORTED_MODULE_45__.l)("leftItem"),(0,_utils_follow_link_config_model__WEBPACK_IMPORTED_MODULE_45__.l)("rightItem"),(0,_utils_follow_link_config_model__WEBPACK_IMPORTED_MODULE_45__.l)("relationshipType"));return relationshipsRD$.pipe((0,_core_shared_operators__WEBPACK_IMPORTED_MODULE_27__.Gp)(),(0,_core_shared_operators__WEBPACK_IMPORTED_MODULE_27__.qP)()).subscribe(relationships=>{relationships.forEach(relationship=>{const relationshipMD=item.firstMetadata(relationshipOptions.metadataField,{authority:`${_core_shared_metadata_models__WEBPACK_IMPORTED_MODULE_31__.O_}${relationship.id}`}),nameVariantMD=item.firstMetadata(this.model.metadataFields,{authority:`${_core_shared_metadata_models__WEBPACK_IMPORTED_MODULE_31__.O_}${relationship.id}`});(0,_empty_util__WEBPACK_IMPORTED_MODULE_42__.Uh)(relationshipMD)&&(0,_empty_util__WEBPACK_IMPORTED_MODULE_42__.UE)(relationshipMD.value)&&(0,_empty_util__WEBPACK_IMPORTED_MODULE_42__.Uh)(nameVariantMD)&&(0,_empty_util__WEBPACK_IMPORTED_MODULE_42__.UE)(nameVariantMD.value)&&this.relationshipService.setNameVariant(this.listId,relationshipMD.value,nameVariantMD.value)})}),relationshipsRD$.pipe((0,_item_page_simple_item_types_shared_item_relationships_utils__WEBPACK_IMPORTED_MODULE_34__.Sv)(item.uuid),(0,_core_shared_operators__WEBPACK_IMPORTED_MODULE_27__.xw)(),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_44__.UI)(items=>items.payload.page.map(i=>Object.assign(new _object_collection_shared_item_search_result_model__WEBPACK_IMPORTED_MODULE_30__.T,{indexableObject:i}))))})).subscribe(relatedItems=>this.selectableListService.select(this.listId,relatedItems));this.subs.push(subscription)}if((0,_empty_util__WEBPACK_IMPORTED_MODULE_42__.Uh)(this.model.metadataValue)?this.value=Object.assign(new _models_form_field_metadata_value_model__WEBPACK_IMPORTED_MODULE_36__.u,this.model.metadataValue):this.value=Object.assign(new _models_form_field_metadata_value_model__WEBPACK_IMPORTED_MODULE_36__.u,this.model.value),(0,_empty_util__WEBPACK_IMPORTED_MODULE_42__.Uh)(this.value)&&this.value.isVirtual){const relationship$=this.relationshipService.findById(this.value.virtualValue,!0,!0,(0,_utils_follow_link_config_model__WEBPACK_IMPORTED_MODULE_45__.l)("leftItem"),(0,_utils_follow_link_config_model__WEBPACK_IMPORTED_MODULE_45__.l)("rightItem"),(0,_utils_follow_link_config_model__WEBPACK_IMPORTED_MODULE_45__.l)("relationshipType")).pipe((0,_core_shared_operators__WEBPACK_IMPORTED_MODULE_27__.g1)(),(0,_core_shared_operators__WEBPACK_IMPORTED_MODULE_27__.xe)());this.relationshipValue$=(0,rxjs__WEBPACK_IMPORTED_MODULE_46__.combineLatest)([this.item$.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_44__.qn)(1)),relationship$]).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_44__.wt)(([item,relationship])=>relationship.leftItem.pipe((0,_core_shared_operators__WEBPACK_IMPORTED_MODULE_27__.g1)(),(0,_core_shared_operators__WEBPACK_IMPORTED_MODULE_27__.xe)(),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_44__.UI)(leftItem=>new _existing_metadata_list_element_existing_metadata_list_element_component__WEBPACK_IMPORTED_MODULE_0__.zw(relationship,leftItem.uuid!==item.uuid,this.store,this.model.submissionId)))),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_44__.O4)(void 0))}}}get isCheckbox(){return this.model.type===_ng_dynamic_forms_core__WEBPACK_IMPORTED_MODULE_39__.fSU||this.model.type===_models_custom_switch_custom_switch_model__WEBPACK_IMPORTED_MODULE_19__.c}ngOnChanges(changes){changes&&!this.isRelationship&&(0,_empty_util__WEBPACK_IMPORTED_MODULE_42__.Uh)(this.group.get(this.model.id))&&(super.ngOnChanges(changes),this.model&&this.model.placeholder&&(this.model.placeholder=this.translateService.instant(this.model.placeholder)),this.model.typeBindRelations&&this.model.typeBindRelations.length>0&&this.subscriptions.push(...this.typeBindRelationService.subscribeRelations(this.model,this.control)))}ngDoCheck(){(0,_empty_util__WEBPACK_IMPORTED_MODULE_42__.pT)(this.showErrorMessagesPreviousStage)&&this.showErrorMessagesPreviousStage!==this.showErrorMessages&&(this.showErrorMessagesPreviousStage=this.showErrorMessages,this.forceShowErrorDetection())}ngAfterViewInit(){this.showErrorMessagesPreviousStage=this.showErrorMessages}createFormControlComponent(){if(super.createFormControlComponent(),null!==this.componentType){let index;this.context&&this.context instanceof _ng_dynamic_forms_core__WEBPACK_IMPORTED_MODULE_39__.NJD&&(index=this.context.index);const instance=this.dynamicFormComponentService.getFormControlRef(this.model,index);instance&&(instance.formModel=this.formModel,instance.formGroup=this.formGroup)}}forceShowErrorDetection(){this.showErrorMessages&&(this.destroyFormControlComponent(),this.createFormControlComponent())}onChangeLanguage(event2){(0,_empty_util__WEBPACK_IMPORTED_MODULE_42__.UE)(this.model.value)&&this.onChange(event2)}hasRelationship(){return(0,_empty_util__WEBPACK_IMPORTED_MODULE_42__.UE)(this.model)&&this.model.hasOwnProperty("relationship")&&(0,_empty_util__WEBPACK_IMPORTED_MODULE_42__.UE)(this.model.relationship)}isVirtual(){const value=this.model.metadataValue;return(0,_empty_util__WEBPACK_IMPORTED_MODULE_42__.UE)(value)&&value.isVirtual}hasResultsSelected(){return this.model.value.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_44__.UI)(list=>(0,_empty_util__WEBPACK_IMPORTED_MODULE_42__.UE)(list)))}openLookup(){this.modalRef=this.modalService.open(_relation_lookup_modal_dynamic_lookup_relation_modal_component__WEBPACK_IMPORTED_MODULE_26__.i,{size:"lg"}),(0,_empty_util__WEBPACK_IMPORTED_MODULE_42__.Uh)(this.model.value)&&(this.focus.emit({$event:new Event("focus"),context:this.context,control:this.control,model:this.model,type:_ng_dynamic_forms_core__WEBPACK_IMPORTED_MODULE_39__.nm_.Focus}),this.change.emit({$event:new Event("change"),context:this.context,control:this.control,model:this.model,type:_ng_dynamic_forms_core__WEBPACK_IMPORTED_MODULE_39__.nm_.Change})),this.submissionService.dispatchSave(this.model.submissionId);const modalComp=this.modalRef.componentInstance;(0,_empty_util__WEBPACK_IMPORTED_MODULE_42__.Uh)(this.model.value)&&!this.model.readOnly&&("string"==typeof this.model.value?modalComp.query=this.model.value:"string"==typeof this.model.value.value&&(modalComp.query=this.model.value.value)),modalComp.repeatable=this.model.repeatable,modalComp.listId=this.listId,modalComp.relationshipOptions=this.model.relationship,modalComp.label=this.model.relationship.relationshipType,modalComp.metadataFields=this.model.metadataFields,modalComp.item=this.item,modalComp.collection=this.collection,modalComp.submissionId=this.model.submissionId}onRemove(){const arrayContext=this.context.context,path=this.formBuilderService.getPath(arrayContext),formArrayControl=this.group.root.get(path);this.formBuilderService.removeFormArrayGroup(this.context.index,formArrayControl,arrayContext),0===this.model.parent.context.groups.length&&this.formBuilderService.addFormArrayGroup(formArrayControl,arrayContext)}ngOnDestroy(){this.subs.filter(sub=>(0,_empty_util__WEBPACK_IMPORTED_MODULE_42__.Uh)(sub)).forEach(sub=>sub.unsubscribe())}get hasHint(){return(0,_empty_util__WEBPACK_IMPORTED_MODULE_42__.UE)(this.model.hint)&&"&nbsp;"!==this.model.hint}setItem(){const submissionObject$=this.submissionObjectService.findById(this.model.submissionId,!0,!0,(0,_utils_follow_link_config_model__WEBPACK_IMPORTED_MODULE_45__.l)("item"),(0,_utils_follow_link_config_model__WEBPACK_IMPORTED_MODULE_45__.l)("collection")).pipe((0,_core_shared_operators__WEBPACK_IMPORTED_MODULE_27__.g1)(),(0,_core_shared_operators__WEBPACK_IMPORTED_MODULE_27__.xe)());this.item$=submissionObject$.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_44__.wt)(submissionObject=>submissionObject.item.pipe((0,_core_shared_operators__WEBPACK_IMPORTED_MODULE_27__.g1)(),(0,_core_shared_operators__WEBPACK_IMPORTED_MODULE_27__.xe)())));const collection$=submissionObject$.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_44__.wt)(submissionObject=>submissionObject.collection.pipe((0,_core_shared_operators__WEBPACK_IMPORTED_MODULE_27__.g1)(),(0,_core_shared_operators__WEBPACK_IMPORTED_MODULE_27__.xe)())));this.subs.push(this.item$.subscribe(item=>this.item=item)),this.subs.push(collection$.subscribe(collection=>this.collection=collection))}}__name(DsDynamicFormControlContainerComponent,"DsDynamicFormControlContainerComponent"),DsDynamicFormControlContainerComponent.\u0275fac=__name(function(t){return new(t||DsDynamicFormControlContainerComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_38__.Y36(_angular_core__WEBPACK_IMPORTED_MODULE_38__._Vd),_angular_core__WEBPACK_IMPORTED_MODULE_38__.Y36(_ng_dynamic_forms_core__WEBPACK_IMPORTED_MODULE_39__.rJA),_angular_core__WEBPACK_IMPORTED_MODULE_38__.Y36(_ng_dynamic_forms_core__WEBPACK_IMPORTED_MODULE_39__.vnf),_angular_core__WEBPACK_IMPORTED_MODULE_38__.Y36(_ng_dynamic_forms_core__WEBPACK_IMPORTED_MODULE_39__.fhz),_angular_core__WEBPACK_IMPORTED_MODULE_38__.Y36(_ds_dynamic_type_bind_relation_service__WEBPACK_IMPORTED_MODULE_21__.R),_angular_core__WEBPACK_IMPORTED_MODULE_38__.Y36(_ngx_translate_core__WEBPACK_IMPORTED_MODULE_47__.sK),_angular_core__WEBPACK_IMPORTED_MODULE_38__.Y36(_ng_dynamic_forms_core__WEBPACK_IMPORTED_MODULE_39__.uTg),_angular_core__WEBPACK_IMPORTED_MODULE_38__.Y36(_ng_bootstrap_ng_bootstrap__WEBPACK_IMPORTED_MODULE_48__.FF),_angular_core__WEBPACK_IMPORTED_MODULE_38__.Y36(_core_data_relationship_data_service__WEBPACK_IMPORTED_MODULE_22__.U),_angular_core__WEBPACK_IMPORTED_MODULE_38__.Y36(_object_list_selectable_list_selectable_list_service__WEBPACK_IMPORTED_MODULE_23__.w),_angular_core__WEBPACK_IMPORTED_MODULE_38__.Y36(_core_data_item_data_service__WEBPACK_IMPORTED_MODULE_28__.S),_angular_core__WEBPACK_IMPORTED_MODULE_38__.Y36(_angular_core__WEBPACK_IMPORTED_MODULE_38__.R0b),_angular_core__WEBPACK_IMPORTED_MODULE_38__.Y36(_ngrx_store__WEBPACK_IMPORTED_MODULE_49__.yh),_angular_core__WEBPACK_IMPORTED_MODULE_38__.Y36(_core_submission_submission_object_data_service__WEBPACK_IMPORTED_MODULE_29__.O),_angular_core__WEBPACK_IMPORTED_MODULE_38__.Y36(_angular_core__WEBPACK_IMPORTED_MODULE_38__.sBO),_angular_core__WEBPACK_IMPORTED_MODULE_38__.Y36(_form_service__WEBPACK_IMPORTED_MODULE_32__.o),_angular_core__WEBPACK_IMPORTED_MODULE_38__.Y36(_form_builder_service__WEBPACK_IMPORTED_MODULE_35__.c),_angular_core__WEBPACK_IMPORTED_MODULE_38__.Y36(_submission_submission_service__WEBPACK_IMPORTED_MODULE_33__.b))},"DsDynamicFormControlContainerComponent_Factory"),DsDynamicFormControlContainerComponent.\u0275cmp=_angular_core__WEBPACK_IMPORTED_MODULE_38__.Xpm({type:DsDynamicFormControlContainerComponent,selectors:[["ds-dynamic-form-control-container"]],contentQueries:__name(function(rf,ctx,dirIndex){if(1&rf&&_angular_core__WEBPACK_IMPORTED_MODULE_38__.Suo(dirIndex,_ng_dynamic_forms_core__WEBPACK_IMPORTED_MODULE_39__.ATj,4),2&rf){let _t;_angular_core__WEBPACK_IMPORTED_MODULE_38__.iGM(_t=_angular_core__WEBPACK_IMPORTED_MODULE_38__.CRH())&&(ctx.contentTemplateList=_t)}},"DsDynamicFormControlContainerComponent_ContentQueries"),viewQuery:__name(function(rf,ctx){if(1&rf&&_angular_core__WEBPACK_IMPORTED_MODULE_38__.Gf(_c0,7,_angular_core__WEBPACK_IMPORTED_MODULE_38__.s_b),2&rf){let _t;_angular_core__WEBPACK_IMPORTED_MODULE_38__.iGM(_t=_angular_core__WEBPACK_IMPORTED_MODULE_38__.CRH())&&(ctx.componentViewContainerRef=_t.first)}},"DsDynamicFormControlContainerComponent_Query"),inputs:{inputTemplateList:["templates","inputTemplateList"],hasMetadataModel:"hasMetadataModel",formId:"formId",formGroup:"formGroup",formModel:"formModel",asBootstrapFormGroup:"asBootstrapFormGroup",bindId:"bindId",context:"context",group:"group",hostClass:"hostClass",hasErrorMessaging:"hasErrorMessaging",layout:"layout",model:"model"},outputs:{blur:"dfBlur",change:"dfChange",focus:"dfFocus",customEvent:"ngbEvent"},features:[_angular_core__WEBPACK_IMPORTED_MODULE_38__.qOj,_angular_core__WEBPACK_IMPORTED_MODULE_38__.TTD],ngContentSelectors:["*"],decls:16,vars:27,consts:[[3,"formGroup","ngClass"],[3,"id","for","innerHTML","ngClass",4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"ngClass"],["componentViewContainer",""],["class","text-muted ds-hint",3,"innerHTML","ngClass",4,"ngIf"],["class","clearfix w-100 mb-2",4,"ngIf"],[3,"id","ngClass",4,"ngIf"],["class","col-xs-2",4,"ngIf"],["class","col-auto text-center",4,"ngIf"],[4,"ngIf"],[3,"id","for","innerHTML","ngClass"],[1,"text-muted","ds-hint",3,"innerHTML","ngClass"],[1,"clearfix","w-100","mb-2"],[3,"id","ngClass"],["class","invalid-feedback d-block",4,"ngFor","ngForOf"],[1,"invalid-feedback","d-block"],[1,"col-xs-2"],["required","",1,"form-control",3,"disabled","ngModel","ngModelOptions","ngModelChange","blur","change"],["language","ngModel"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],[1,"col-auto","text-center"],["type","button","placement","top",1,"btn","btn-secondary",3,"ngbTooltip","click"],[1,"fa","fa-search"],[3,"reoRel","submissionItem","listId","metadataFields","submissionId","relationshipOptions","remove",4,"ngIf"],[3,"ngClass","reoRel","submissionItem","listId","metadataFields","submissionId","relationshipOptions",4,"ngIf"],[3,"reoRel","submissionItem","listId","metadataFields","submissionId","relationshipOptions","remove"],[3,"ngClass","reoRel","submissionItem","listId","metadataFields","submissionId","relationshipOptions"]],template:__name(function(rf,ctx){1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_38__.F$t(),_angular_core__WEBPACK_IMPORTED_MODULE_38__.TgZ(0,"div",0),_angular_core__WEBPACK_IMPORTED_MODULE_38__.YNc(1,DsDynamicFormControlContainerComponent_label_1_Template,3,11,"label",1),_angular_core__WEBPACK_IMPORTED_MODULE_38__.YNc(2,DsDynamicFormControlContainerComponent_ng_container_2_Template,1,0,"ng-container",2),_angular_core__WEBPACK_IMPORTED_MODULE_38__.TgZ(3,"div",3)(4,"div",3)(5,"div"),_angular_core__WEBPACK_IMPORTED_MODULE_38__.GkF(6,null,4),_angular_core__WEBPACK_IMPORTED_MODULE_38__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_38__.YNc(8,DsDynamicFormControlContainerComponent_small_8_Template,2,4,"small",5),_angular_core__WEBPACK_IMPORTED_MODULE_38__.YNc(9,DsDynamicFormControlContainerComponent_div_9_Template,1,0,"div",6),_angular_core__WEBPACK_IMPORTED_MODULE_38__.YNc(10,DsDynamicFormControlContainerComponent_div_10_Template,2,6,"div",7),_angular_core__WEBPACK_IMPORTED_MODULE_38__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_38__.YNc(11,DsDynamicFormControlContainerComponent_div_11_Template,4,5,"div",8),_angular_core__WEBPACK_IMPORTED_MODULE_38__.YNc(12,DsDynamicFormControlContainerComponent_div_12_Template,4,3,"div",9),_angular_core__WEBPACK_IMPORTED_MODULE_38__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_38__.YNc(13,DsDynamicFormControlContainerComponent_ng_container_13_Template,1,0,"ng-container",2),_angular_core__WEBPACK_IMPORTED_MODULE_38__.YNc(14,DsDynamicFormControlContainerComponent_ng_container_14_Template,5,3,"ng-container",10),_angular_core__WEBPACK_IMPORTED_MODULE_38__.Hsn(15),_angular_core__WEBPACK_IMPORTED_MODULE_38__.qZA()),2&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_38__.ekj("form-group","GROUP"!==ctx.model.type&&ctx.asBootstrapFormGroup||ctx.getClass("element","container").includes("form-group"))("d-none",ctx.model.hidden),_angular_core__WEBPACK_IMPORTED_MODULE_38__.Q6J("formGroup",ctx.group)("ngClass",_angular_core__WEBPACK_IMPORTED_MODULE_38__.WLB(19,_c1,ctx.getClass("element","container"),ctx.getClass("grid","container"))),_angular_core__WEBPACK_IMPORTED_MODULE_38__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_38__.Q6J("ngIf",!ctx.isCheckbox&&ctx.hasLabel),_angular_core__WEBPACK_IMPORTED_MODULE_38__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_38__.Q6J("ngTemplateOutlet",null==ctx.startTemplate?null:ctx.startTemplate.templateRef)("ngTemplateOutletContext",_angular_core__WEBPACK_IMPORTED_MODULE_38__.VKq(22,_c4,ctx.model)),_angular_core__WEBPACK_IMPORTED_MODULE_38__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_38__.Q6J("ngClass",_angular_core__WEBPACK_IMPORTED_MODULE_38__.WLB(24,_c5,ctx.model.hasLanguages||ctx.isRelationship,(null==ctx.value?null:ctx.value.isVirtual)&&(ctx.model.hasSelectableMetadata||(null==ctx.context?null:ctx.context.index)>0))),_angular_core__WEBPACK_IMPORTED_MODULE_38__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_38__.Q6J("ngClass",ctx.getClass("grid","control")),_angular_core__WEBPACK_IMPORTED_MODULE_38__.xp6(4),_angular_core__WEBPACK_IMPORTED_MODULE_38__.Q6J("ngIf",ctx.hasHint&&(!ctx.model.repeatable&&(!1===ctx.isRelationship||null===(null==ctx.value?null:ctx.value.value))||!0===ctx.model.repeatable&&(null==ctx.context?null:ctx.context.index)===(null==ctx.context||null==ctx.context.context||null==ctx.context.context.groups?null:ctx.context.context.groups.length)-1)&&(!ctx.showErrorMessages||0===ctx.errorMessages.length)),_angular_core__WEBPACK_IMPORTED_MODULE_38__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_38__.Q6J("ngIf",null!==(null==ctx.context?null:ctx.context.index)&&(!ctx.showErrorMessages||0===ctx.errorMessages.length)),_angular_core__WEBPACK_IMPORTED_MODULE_38__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_38__.Q6J("ngIf",!ctx.model.hideErrorMessages&&ctx.showErrorMessages),_angular_core__WEBPACK_IMPORTED_MODULE_38__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_38__.Q6J("ngIf",ctx.model.languageCodes&&ctx.model.languageCodes.length>0),_angular_core__WEBPACK_IMPORTED_MODULE_38__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_38__.Q6J("ngIf",ctx.isRelationship),_angular_core__WEBPACK_IMPORTED_MODULE_38__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_38__.Q6J("ngTemplateOutlet",null==ctx.endTemplate?null:ctx.endTemplate.templateRef)("ngTemplateOutletContext",ctx.model),_angular_core__WEBPACK_IMPORTED_MODULE_38__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_38__.Q6J("ngIf",null==ctx.value?null:ctx.value.isVirtual))},"DsDynamicFormControlContainerComponent_Template"),directives:[_angular_forms__WEBPACK_IMPORTED_MODULE_50__.JL,_angular_forms__WEBPACK_IMPORTED_MODULE_50__.sg,_angular_common__WEBPACK_IMPORTED_MODULE_51__.mk,_angular_common__WEBPACK_IMPORTED_MODULE_51__.O5,_angular_common__WEBPACK_IMPORTED_MODULE_51__.tP,_angular_common__WEBPACK_IMPORTED_MODULE_51__.sg,_angular_forms__WEBPACK_IMPORTED_MODULE_50__.EJ,_angular_forms__WEBPACK_IMPORTED_MODULE_50__.Q7,_angular_forms__WEBPACK_IMPORTED_MODULE_50__.JJ,_angular_forms__WEBPACK_IMPORTED_MODULE_50__.On,_angular_forms__WEBPACK_IMPORTED_MODULE_50__.YN,_angular_forms__WEBPACK_IMPORTED_MODULE_50__.Kr,_ng_bootstrap_ng_bootstrap__WEBPACK_IMPORTED_MODULE_48__._L,_existing_metadata_list_element_existing_metadata_list_element_component__WEBPACK_IMPORTED_MODULE_0__.fP,_existing_relation_list_element_existing_relation_list_element_component__WEBPACK_IMPORTED_MODULE_37__.t],pipes:[_ngx_translate_core__WEBPACK_IMPORTED_MODULE_47__.X$,_angular_common__WEBPACK_IMPORTED_MODULE_51__.Ov],styles:["[_nghost-%COMP%]     .ds-form-input-addon{border-top-right-radius:0!important;border-bottom-right-radius:0!important;border-right:0!important}[_nghost-%COMP%]     .ds-form-input-btn{border:var(--bs-input-btn-border-width) solid var(--bs-input-border-color);border-top-left-radius:0;border-bottom-left-radius:0;border-left:0}[_nghost-%COMP%]     .ds-form-input-btn:focus{box-shadow:none!important}[_nghost-%COMP%]     button.ds-form-add-more:focus{outline:none;box-shadow:none!important}[_nghost-%COMP%]     .ds-form-input-value{border-top-left-radius:0!important;border-bottom-left-radius:0!important}[_nghost-%COMP%]     .fa-spin{pointer-events:none}[_nghost-%COMP%]     .left-addon .far, [_nghost-%COMP%]     .left-addon .fas, [_nghost-%COMP%]     .left-addon i{left:0}[_nghost-%COMP%]     .right-addon .far, [_nghost-%COMP%]     .right-addon .fas, [_nghost-%COMP%]     .right-addon i{right:0}[_nghost-%COMP%]     .left-addon input{padding-left:calc(var(--bs-spacer) * 2.25)}[_nghost-%COMP%]     .right-addon input{padding-right:calc(var(--bs-spacer) * 2.25)}[_nghost-%COMP%]{display:flex;flex-direction:column;justify-content:center}[_nghost-%COMP%]     .custom-select{-webkit-appearance:none;appearance:none}"]})},93571:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{zw:()=>ReorderableRelationship,fP:()=>ExistingMetadataListElementComponent});var _angular_core__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(5e3),rxjs__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(76477),rxjs_operators__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(83292),_core_shared_metadata_representation_item_item_metadata_representation_model__WEBPACK_IMPORTED_MODULE_1__=(__webpack_require__(33609),__webpack_require__(27869)),_core_shared_operators__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(13730),_empty_util__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(24702),_object_collection_shared_item_search_result_model__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(84412),_object_list_selectable_list_selectable_list_service__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(51117),_relation_lookup_modal_relationship_actions__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(35355),_submission_submission_service__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(86421),_ngrx_store__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__(85094),_angular_common__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__(69808),_loading_themed_loading_component__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(48106),_metadata_representation_metadata_representation_loader_component__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(71966),_ngx_translate_core__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__(42466);function ExistingMetadataListElementComponent_ng_container_2_Template(rf,ctx){1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_9__.ynx(0),_angular_core__WEBPACK_IMPORTED_MODULE_9__._UZ(1,"ds-themed-loading",5),_angular_core__WEBPACK_IMPORTED_MODULE_9__.BQk()),2&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_9__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_9__.Q6J("showMessage",!1))}function ExistingMetadataListElementComponent_ng_container_4_Template(rf,ctx){if(1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_9__.ynx(0),_angular_core__WEBPACK_IMPORTED_MODULE_9__._UZ(1,"ds-metadata-representation-loader",6),_angular_core__WEBPACK_IMPORTED_MODULE_9__.ALo(2,"async"),_angular_core__WEBPACK_IMPORTED_MODULE_9__.BQk()),2&rf){const ctx_r1=_angular_core__WEBPACK_IMPORTED_MODULE_9__.oxw();_angular_core__WEBPACK_IMPORTED_MODULE_9__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_9__.Q6J("mdRepresentation",_angular_core__WEBPACK_IMPORTED_MODULE_9__.lcZ(2,1,ctx_r1.metadataRepresentation$))}}__name(ExistingMetadataListElementComponent_ng_container_2_Template,"ExistingMetadataListElementComponent_ng_container_2_Template"),__name(ExistingMetadataListElementComponent_ng_container_4_Template,"ExistingMetadataListElementComponent_ng_container_4_Template");class Reorderable{constructor(oldIndex,newIndex){this.oldIndex=oldIndex,this.newIndex=newIndex}update(){this.oldIndex=this.newIndex}get hasMoved(){return this.oldIndex!==this.newIndex}}__name(Reorderable,"Reorderable");__name(class ReorderableFormFieldMetadataValue extends(null){constructor(metadataValue,model,control,group,oldIndex,newIndex){super(oldIndex,newIndex),this.metadataValue=metadataValue,this.model=model,this.control=control,this.group=group,this.metadataValue=metadataValue}getId(){return hasValue(this.metadataValue.authority)?this.metadataValue.authority:this.metadataValue.value}getPlace(){return this.metadataValue.place}},"ReorderableFormFieldMetadataValue");class ReorderableRelationship extends Reorderable{constructor(relationship,useLeftItem,store,submissionID,oldIndex,newIndex){super(oldIndex,newIndex),this.relationship=relationship,this.useLeftItem=useLeftItem,this.store=store,this.submissionID=submissionID,this.relationship=relationship,this.useLeftItem=useLeftItem}getId(){return this.relationship.id}getPlace(){return this.useLeftItem?this.relationship.rightPlace:this.relationship.leftPlace}}__name(ReorderableRelationship,"ReorderableRelationship");class ExistingMetadataListElementComponent{constructor(selectableListService,store,submissionService){this.selectableListService=selectableListService,this.store=store,this.submissionService=submissionService,this.metadataRepresentation$=new rxjs__WEBPACK_IMPORTED_MODULE_10__.BehaviorSubject(void 0),this.remove=new _angular_core__WEBPACK_IMPORTED_MODULE_9__.vpe,this.subs=[]}ngOnInit(){this.ngOnChanges()}ngOnChanges(){if((0,_empty_util__WEBPACK_IMPORTED_MODULE_11__.Uh)(this.reoRel)){const item$=this.reoRel.useLeftItem?this.reoRel.relationship.leftItem:this.reoRel.relationship.rightItem;this.subs.push(item$.pipe((0,_core_shared_operators__WEBPACK_IMPORTED_MODULE_2__.g1)(),(0,_core_shared_operators__WEBPACK_IMPORTED_MODULE_2__.xe)(),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_12__.hX)(item=>(0,_empty_util__WEBPACK_IMPORTED_MODULE_11__.Uh)(item)&&(0,_empty_util__WEBPACK_IMPORTED_MODULE_11__.UE)(item.uuid))).subscribe(item=>{this.relatedItem=item;const relationMD=this.submissionItem.firstMetadata(this.relationshipOptions.metadataField,{value:this.relatedItem.uuid});if((0,_empty_util__WEBPACK_IMPORTED_MODULE_11__.Uh)(relationMD)){const metadataRepresentationMD=this.submissionItem.firstMetadata(this.metadataFields,{authority:relationMD.authority}),nextValue=Object.assign(new _core_shared_metadata_representation_item_item_metadata_representation_model__WEBPACK_IMPORTED_MODULE_1__.A(metadataRepresentationMD),this.relatedItem);this.metadataRepresentation$.next(nextValue)}}))}}removeSelection(){this.submissionService.dispatchSave(this.submissionId),this.submissionService.getSubmissionObject(this.submissionId).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_12__.hX)(state=>!state.savePending&&!state.isLoading),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_12__.qn)(1)).subscribe(()=>{this.selectableListService.deselectSingle(this.listId,Object.assign(new _object_collection_shared_item_search_result_model__WEBPACK_IMPORTED_MODULE_3__.T,{indexableObject:this.relatedItem})),this.store.dispatch(new _relation_lookup_modal_relationship_actions__WEBPACK_IMPORTED_MODULE_5__.J9(this.submissionItem,this.relatedItem,this.relationshipOptions.relationshipType,this.submissionId)),this.remove.emit()})}ngOnDestroy(){this.subs.filter(sub=>(0,_empty_util__WEBPACK_IMPORTED_MODULE_11__.Uh)(sub)).forEach(sub=>sub.unsubscribe())}}__name(ExistingMetadataListElementComponent,"ExistingMetadataListElementComponent"),ExistingMetadataListElementComponent.\u0275fac=__name(function(t){return new(t||ExistingMetadataListElementComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_9__.Y36(_object_list_selectable_list_selectable_list_service__WEBPACK_IMPORTED_MODULE_4__.w),_angular_core__WEBPACK_IMPORTED_MODULE_9__.Y36(_ngrx_store__WEBPACK_IMPORTED_MODULE_13__.yh),_angular_core__WEBPACK_IMPORTED_MODULE_9__.Y36(_submission_submission_service__WEBPACK_IMPORTED_MODULE_6__.b))},"ExistingMetadataListElementComponent_Factory"),ExistingMetadataListElementComponent.\u0275cmp=_angular_core__WEBPACK_IMPORTED_MODULE_9__.Xpm({type:ExistingMetadataListElementComponent,selectors:[["ds-existing-metadata-list-element"]],inputs:{listId:"listId",submissionItem:"submissionItem",reoRel:"reoRel",metadataFields:"metadataFields",relationshipOptions:"relationshipOptions",submissionId:"submissionId"},outputs:{remove:"remove"},features:[_angular_core__WEBPACK_IMPORTED_MODULE_9__.TTD],decls:9,vars:9,consts:[[1,"d-flex"],[1,"mr-auto","text-contents"],[4,"ngIf"],["type","button",1,"btn","btn-secondary",3,"title","click"],["aria-hidden","true",1,"fas","fa-trash"],[3,"showMessage"],[3,"mdRepresentation"]],template:__name(function(rf,ctx){1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_9__.TgZ(0,"div",0)(1,"span",1),_angular_core__WEBPACK_IMPORTED_MODULE_9__.YNc(2,ExistingMetadataListElementComponent_ng_container_2_Template,2,1,"ng-container",2),_angular_core__WEBPACK_IMPORTED_MODULE_9__.ALo(3,"async"),_angular_core__WEBPACK_IMPORTED_MODULE_9__.YNc(4,ExistingMetadataListElementComponent_ng_container_4_Template,3,3,"ng-container",2),_angular_core__WEBPACK_IMPORTED_MODULE_9__.ALo(5,"async"),_angular_core__WEBPACK_IMPORTED_MODULE_9__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_9__.TgZ(6,"button",3),_angular_core__WEBPACK_IMPORTED_MODULE_9__.NdJ("click",__name(function(){return ctx.removeSelection()},"ExistingMetadataListElementComponent_Template_button_click_6_listener")),_angular_core__WEBPACK_IMPORTED_MODULE_9__.ALo(7,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_9__._UZ(8,"i",4),_angular_core__WEBPACK_IMPORTED_MODULE_9__.qZA()()),2&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_9__.xp6(2),_angular_core__WEBPACK_IMPORTED_MODULE_9__.Q6J("ngIf",!_angular_core__WEBPACK_IMPORTED_MODULE_9__.lcZ(3,3,ctx.metadataRepresentation$)),_angular_core__WEBPACK_IMPORTED_MODULE_9__.xp6(2),_angular_core__WEBPACK_IMPORTED_MODULE_9__.Q6J("ngIf",_angular_core__WEBPACK_IMPORTED_MODULE_9__.lcZ(5,5,ctx.metadataRepresentation$)),_angular_core__WEBPACK_IMPORTED_MODULE_9__.xp6(2),_angular_core__WEBPACK_IMPORTED_MODULE_9__.s9C("title",_angular_core__WEBPACK_IMPORTED_MODULE_9__.lcZ(7,7,"form.remove")))},"ExistingMetadataListElementComponent_Template"),directives:[_angular_common__WEBPACK_IMPORTED_MODULE_14__.O5,_loading_themed_loading_component__WEBPACK_IMPORTED_MODULE_7__.Z,_metadata_representation_metadata_representation_loader_component__WEBPACK_IMPORTED_MODULE_8__.G],pipes:[_angular_common__WEBPACK_IMPORTED_MODULE_14__.Ov,_ngx_translate_core__WEBPACK_IMPORTED_MODULE_15__.X$],styles:["span.text-contents[_ngcontent-%COMP%]{padding:var(--bs-btn-padding-y) 0}"]})},77410:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{t:()=>ExistingRelationListElementComponent});var _angular_core__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(5e3),rxjs__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(76477),rxjs_operators__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__(83292),_core_shared_operators__WEBPACK_IMPORTED_MODULE_1__=(__webpack_require__(33609),__webpack_require__(13730)),_empty_util__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(24702),_object_collection_shared_item_search_result_model__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(84412),_object_list_selectable_list_selectable_list_service__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(51117),_relation_lookup_modal_relationship_actions__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(35355),_core_shared_view_mode_model__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(51121),_submission_submission_service__WEBPACK_IMPORTED_MODULE_7__=(__webpack_require__(93571),__webpack_require__(86421)),_ngrx_store__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__(85094),_angular_common__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__(69808),_loading_themed_loading_component__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(48106),_object_collection_shared_listable_object_listable_object_component_loader_component__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(51962);function ExistingRelationListElementComponent_ng_container_2_Template(rf,ctx){1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_10__.ynx(0),_angular_core__WEBPACK_IMPORTED_MODULE_10__._UZ(1,"ds-themed-loading",5),_angular_core__WEBPACK_IMPORTED_MODULE_10__.BQk()),2&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_10__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_10__.Q6J("showMessage",!1))}function ExistingRelationListElementComponent_ng_container_4_Template(rf,ctx){if(1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_10__.ynx(0),_angular_core__WEBPACK_IMPORTED_MODULE_10__._UZ(1,"ds-listable-object-component-loader",6),_angular_core__WEBPACK_IMPORTED_MODULE_10__.ALo(2,"async"),_angular_core__WEBPACK_IMPORTED_MODULE_10__.BQk()),2&rf){const ctx_r1=_angular_core__WEBPACK_IMPORTED_MODULE_10__.oxw();_angular_core__WEBPACK_IMPORTED_MODULE_10__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_10__.Q6J("showLabel",!1)("viewMode",ctx_r1.viewType)("object",_angular_core__WEBPACK_IMPORTED_MODULE_10__.lcZ(2,3,ctx_r1.relatedItem$))}}__name(ExistingRelationListElementComponent_ng_container_2_Template,"ExistingRelationListElementComponent_ng_container_2_Template"),__name(ExistingRelationListElementComponent_ng_container_4_Template,"ExistingRelationListElementComponent_ng_container_4_Template");__name(class Reorderable{constructor(oldIndex,newIndex){this.oldIndex=oldIndex,this.newIndex=newIndex}get hasMoved(){return this.oldIndex!==this.newIndex}},"Reorderable");class ExistingRelationListElementComponent{constructor(selectableListService,submissionService,store){this.selectableListService=selectableListService,this.submissionService=submissionService,this.store=store,this.relatedItem$=new rxjs__WEBPACK_IMPORTED_MODULE_11__.BehaviorSubject(void 0),this.viewType=_core_shared_view_mode_model__WEBPACK_IMPORTED_MODULE_5__.w.ListElement,this.remove=new _angular_core__WEBPACK_IMPORTED_MODULE_10__.vpe,this.subs=[]}ngOnInit(){this.ngOnChanges()}ngOnChanges(){if((0,_empty_util__WEBPACK_IMPORTED_MODULE_12__.Uh)(this.reoRel)){const item$=this.reoRel.useLeftItem?this.reoRel.relationship.leftItem:this.reoRel.relationship.rightItem;this.subs.push(item$.pipe((0,_core_shared_operators__WEBPACK_IMPORTED_MODULE_1__.g1)(),(0,_core_shared_operators__WEBPACK_IMPORTED_MODULE_1__.xe)(),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_13__.hX)(item=>(0,_empty_util__WEBPACK_IMPORTED_MODULE_12__.Uh)(item)&&(0,_empty_util__WEBPACK_IMPORTED_MODULE_12__.UE)(item.uuid))).subscribe(item=>{this.relatedItem$.next(item)}))}}removeSelection(){this.submissionService.dispatchSave(this.submissionId),this.selectableListService.deselectSingle(this.listId,Object.assign(new _object_collection_shared_item_search_result_model__WEBPACK_IMPORTED_MODULE_2__.T,{indexableObject:this.relatedItem$.getValue()})),this.store.dispatch(new _relation_lookup_modal_relationship_actions__WEBPACK_IMPORTED_MODULE_4__.J9(this.submissionItem,this.relatedItem$.getValue(),this.relationshipOptions.relationshipType,this.submissionId))}ngOnDestroy(){this.subs.filter(sub=>(0,_empty_util__WEBPACK_IMPORTED_MODULE_12__.Uh)(sub)).forEach(sub=>sub.unsubscribe())}}__name(ExistingRelationListElementComponent,"ExistingRelationListElementComponent"),ExistingRelationListElementComponent.\u0275fac=__name(function(t){return new(t||ExistingRelationListElementComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_10__.Y36(_object_list_selectable_list_selectable_list_service__WEBPACK_IMPORTED_MODULE_3__.w),_angular_core__WEBPACK_IMPORTED_MODULE_10__.Y36(_submission_submission_service__WEBPACK_IMPORTED_MODULE_7__.b),_angular_core__WEBPACK_IMPORTED_MODULE_10__.Y36(_ngrx_store__WEBPACK_IMPORTED_MODULE_14__.yh))},"ExistingRelationListElementComponent_Factory"),ExistingRelationListElementComponent.\u0275cmp=_angular_core__WEBPACK_IMPORTED_MODULE_10__.Xpm({type:ExistingRelationListElementComponent,selectors:[["ds-existing-relation-list-element"]],inputs:{listId:"listId",submissionItem:"submissionItem",reoRel:"reoRel",metadataFields:"metadataFields",relationshipOptions:"relationshipOptions",submissionId:"submissionId"},outputs:{remove:"remove"},features:[_angular_core__WEBPACK_IMPORTED_MODULE_10__.TTD],decls:8,vars:6,consts:[[1,"d-flex"],[1,"mr-auto","text-contents"],[4,"ngIf"],["type","button",1,"btn","btn-secondary",3,"click"],["aria-hidden","true",1,"fas","fa-trash"],[3,"showMessage"],[3,"showLabel","viewMode","object"]],template:__name(function(rf,ctx){1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_10__.TgZ(0,"div",0)(1,"span",1),_angular_core__WEBPACK_IMPORTED_MODULE_10__.YNc(2,ExistingRelationListElementComponent_ng_container_2_Template,2,1,"ng-container",2),_angular_core__WEBPACK_IMPORTED_MODULE_10__.ALo(3,"async"),_angular_core__WEBPACK_IMPORTED_MODULE_10__.YNc(4,ExistingRelationListElementComponent_ng_container_4_Template,3,5,"ng-container",2),_angular_core__WEBPACK_IMPORTED_MODULE_10__.ALo(5,"async"),_angular_core__WEBPACK_IMPORTED_MODULE_10__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_10__.TgZ(6,"button",3),_angular_core__WEBPACK_IMPORTED_MODULE_10__.NdJ("click",__name(function(){return ctx.removeSelection()},"ExistingRelationListElementComponent_Template_button_click_6_listener")),_angular_core__WEBPACK_IMPORTED_MODULE_10__._UZ(7,"i",4),_angular_core__WEBPACK_IMPORTED_MODULE_10__.qZA()()),2&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_10__.xp6(2),_angular_core__WEBPACK_IMPORTED_MODULE_10__.Q6J("ngIf",!_angular_core__WEBPACK_IMPORTED_MODULE_10__.lcZ(3,2,ctx.relatedItem$)),_angular_core__WEBPACK_IMPORTED_MODULE_10__.xp6(2),_angular_core__WEBPACK_IMPORTED_MODULE_10__.Q6J("ngIf",_angular_core__WEBPACK_IMPORTED_MODULE_10__.lcZ(5,4,ctx.relatedItem$)))},"ExistingRelationListElementComponent_Template"),directives:[_angular_common__WEBPACK_IMPORTED_MODULE_15__.O5,_loading_themed_loading_component__WEBPACK_IMPORTED_MODULE_8__.Z,_object_collection_shared_listable_object_listable_object_component_loader_component__WEBPACK_IMPORTED_MODULE_9__.p],pipes:[_angular_common__WEBPACK_IMPORTED_MODULE_15__.Ov],styles:["span.text-contents[_ngcontent-%COMP%]{padding:var(--bs-btn-padding-y) 0}"]})},79001:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{s:()=>DsDynamicFormArrayComponent});var _angular_core__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(5e3),_ng_dynamic_forms_core__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(87098),_empty_util__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(24702);__webpack_require__(18980);function DsDynamicFormArrayComponent_div_3_ng_container_3_Template(rf,ctx){1&rf&&_angular_core__WEBPACK_IMPORTED_MODULE_1__.GkF(0)}__name(DsDynamicFormArrayComponent_div_3_ng_container_3_Template,"DsDynamicFormArrayComponent_div_3_ng_container_3_Template");const _c0=__name(function(a0){return[a0]},"_c0"),_c1=__name(function(a0,a1){return[a0,a1]},"_c1");function DsDynamicFormArrayComponent_div_3_ds_dynamic_form_control_container_4_Template(rf,ctx){if(1&rf){const _r8=_angular_core__WEBPACK_IMPORTED_MODULE_1__.EpF();_angular_core__WEBPACK_IMPORTED_MODULE_1__.TgZ(0,"ds-dynamic-form-control-container",9),_angular_core__WEBPACK_IMPORTED_MODULE_1__.NdJ("dfBlur",__name(function($event){return _angular_core__WEBPACK_IMPORTED_MODULE_1__.CHM(_r8),_angular_core__WEBPACK_IMPORTED_MODULE_1__.oxw(2).onBlur($event)},"DsDynamicFormArrayComponent_div_3_ds_dynamic_form_control_container_4_Template_ds_dynamic_form_control_container_dfBlur_0_listener"))("dfChange",__name(function($event){return _angular_core__WEBPACK_IMPORTED_MODULE_1__.CHM(_r8),_angular_core__WEBPACK_IMPORTED_MODULE_1__.oxw(2).onChange($event)},"DsDynamicFormArrayComponent_div_3_ds_dynamic_form_control_container_4_Template_ds_dynamic_form_control_container_dfChange_0_listener"))("dfFocus",__name(function($event){return _angular_core__WEBPACK_IMPORTED_MODULE_1__.CHM(_r8),_angular_core__WEBPACK_IMPORTED_MODULE_1__.oxw(2).onFocus($event)},"DsDynamicFormArrayComponent_div_3_ds_dynamic_form_control_container_4_Template_ds_dynamic_form_control_container_dfFocus_0_listener"))("ngbEvent",__name(function($event){return _angular_core__WEBPACK_IMPORTED_MODULE_1__.CHM(_r8),_angular_core__WEBPACK_IMPORTED_MODULE_1__.oxw(2).onCustomEvent($event,null,!0)},"DsDynamicFormArrayComponent_div_3_ds_dynamic_form_control_container_4_Template_ds_dynamic_form_control_container_ngbEvent_0_listener")),_angular_core__WEBPACK_IMPORTED_MODULE_1__.qZA()}if(2&rf){const _model_r6=ctx.$implicit,ctx_r12=_angular_core__WEBPACK_IMPORTED_MODULE_1__.oxw(),groupModel_r1=ctx_r12.$implicit,idx_r2=ctx_r12.index,ctx_r4=_angular_core__WEBPACK_IMPORTED_MODULE_1__.oxw();_angular_core__WEBPACK_IMPORTED_MODULE_1__.ekj("d-none",_model_r6.hidden),_angular_core__WEBPACK_IMPORTED_MODULE_1__.Q6J("bindId",!1)("formGroup",ctx_r4.group)("formModel",ctx_r4.formModel)("context",groupModel_r1)("group",ctx_r4.control.get(_angular_core__WEBPACK_IMPORTED_MODULE_1__.VKq(12,_c0,idx_r2)))("hidden",_model_r6.hidden)("layout",ctx_r4.formLayout)("model",_model_r6)("templates",ctx_r4.templates)("ngClass",_angular_core__WEBPACK_IMPORTED_MODULE_1__.WLB(14,_c1,ctx_r4.getClass("element","host",_model_r6),ctx_r4.getClass("grid","host",_model_r6)))}}function DsDynamicFormArrayComponent_div_3_ng_container_5_Template(rf,ctx){1&rf&&_angular_core__WEBPACK_IMPORTED_MODULE_1__.GkF(0)}function DsDynamicFormArrayComponent_div_3_Template(rf,ctx){if(1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_1__.TgZ(0,"div",4)(1,"div",5),_angular_core__WEBPACK_IMPORTED_MODULE_1__._UZ(2,"i",6),_angular_core__WEBPACK_IMPORTED_MODULE_1__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_1__.YNc(3,DsDynamicFormArrayComponent_div_3_ng_container_3_Template,1,0,"ng-container",7),_angular_core__WEBPACK_IMPORTED_MODULE_1__.YNc(4,DsDynamicFormArrayComponent_div_3_ds_dynamic_form_control_container_4_Template,1,17,"ds-dynamic-form-control-container",8),_angular_core__WEBPACK_IMPORTED_MODULE_1__.YNc(5,DsDynamicFormArrayComponent_div_3_ng_container_5_Template,1,0,"ng-container",7),_angular_core__WEBPACK_IMPORTED_MODULE_1__.qZA()),2&rf){const groupModel_r1=ctx.$implicit,idx_r2=ctx.index,ctx_r0=_angular_core__WEBPACK_IMPORTED_MODULE_1__.oxw();_angular_core__WEBPACK_IMPORTED_MODULE_1__.ekj("grey-background",ctx_r0.model.isInlineGroupArray),_angular_core__WEBPACK_IMPORTED_MODULE_1__.Q6J("formGroupName",idx_r2)("ngClass",_angular_core__WEBPACK_IMPORTED_MODULE_1__.WLB(15,_c1,ctx_r0.getClass("element","group"),ctx_r0.getClass("grid","group")))("cdkDragDisabled",ctx_r0.dragDisabled)("cdkDragPreviewClass","ds-submission-reorder-dragging"),_angular_core__WEBPACK_IMPORTED_MODULE_1__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_1__.ekj("drag-disable",ctx_r0.dragDisabled),_angular_core__WEBPACK_IMPORTED_MODULE_1__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_1__.ekj("drag-disable",ctx_r0.dragDisabled),_angular_core__WEBPACK_IMPORTED_MODULE_1__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_1__.Q6J("ngTemplateOutlet",null==ctx_r0.startTemplate?null:ctx_r0.startTemplate.templateRef)("ngTemplateOutletContext",groupModel_r1),_angular_core__WEBPACK_IMPORTED_MODULE_1__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_1__.Q6J("ngForOf",groupModel_r1.group),_angular_core__WEBPACK_IMPORTED_MODULE_1__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_1__.Q6J("ngTemplateOutlet",null==ctx_r0.endTemplate?null:ctx_r0.endTemplate.templateRef)("ngTemplateOutletContext",groupModel_r1)}}__name(DsDynamicFormArrayComponent_div_3_ds_dynamic_form_control_container_4_Template,"DsDynamicFormArrayComponent_div_3_ds_dynamic_form_control_container_4_Template"),__name(DsDynamicFormArrayComponent_div_3_ng_container_5_Template,"DsDynamicFormArrayComponent_div_3_ng_container_5_Template"),__name(DsDynamicFormArrayComponent_div_3_Template,"DsDynamicFormArrayComponent_div_3_Template");class DsDynamicFormArrayComponent extends _ng_dynamic_forms_core__WEBPACK_IMPORTED_MODULE_2__.CRj{constructor(layoutService,validationService){super(layoutService,validationService),this.layoutService=layoutService,this.validationService=validationService,this.bindId=!0,this.blur=new _angular_core__WEBPACK_IMPORTED_MODULE_1__.vpe,this.change=new _angular_core__WEBPACK_IMPORTED_MODULE_1__.vpe,this.focus=new _angular_core__WEBPACK_IMPORTED_MODULE_1__.vpe,this.customEvent=new _angular_core__WEBPACK_IMPORTED_MODULE_1__.vpe}moveSelection(event2){if(event2.previousIndex===event2.currentIndex)return;this.model.moveGroup(event2.previousIndex,event2.currentIndex-event2.previousIndex);const prevIndex=event2.previousIndex,index=event2.currentIndex;(0,_empty_util__WEBPACK_IMPORTED_MODULE_3__.Uh)(this.model.groups[index])&&(0,_empty_util__WEBPACK_IMPORTED_MODULE_3__.Uh)(this.control.controls[index])&&this.onCustomEvent({previousIndex:prevIndex,index,arrayModel:this.model,model:this.model.groups[index].group[0],control:this.control.controls[index]},"move")}update(event2,index){const $event=Object.assign({},event2,{context:{index:index-1}});this.onChange($event)}get dragDisabled(){return 1===this.model.groups.length||!this.model.isDraggable}}__name(DsDynamicFormArrayComponent,"DsDynamicFormArrayComponent"),DsDynamicFormArrayComponent.\u0275fac=__name(function(t){return new(t||DsDynamicFormArrayComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_1__.Y36(_ng_dynamic_forms_core__WEBPACK_IMPORTED_MODULE_2__.vnf),_angular_core__WEBPACK_IMPORTED_MODULE_1__.Y36(_ng_dynamic_forms_core__WEBPACK_IMPORTED_MODULE_2__.fhz))},"DsDynamicFormArrayComponent_Factory"),DsDynamicFormArrayComponent.\u0275cmp=_angular_core__WEBPACK_IMPORTED_MODULE_1__.Xpm({type:DsDynamicFormArrayComponent,selectors:[["ds-dynamic-form-array"]],inputs:{bindId:"bindId",formModel:"formModel",formLayout:"formLayout",group:"group",layout:"layout",model:"model",templates:"templates"},outputs:{blur:"dfBlur",change:"dfChange",focus:"dfFocus",customEvent:"ngbEvent"},features:[_angular_core__WEBPACK_IMPORTED_MODULE_1__.qOj],decls:4,vars:7,consts:[[3,"formGroup"],[3,"id","formArrayName","ngClass"],["cdkDropList","","cdkDropListLockAxis","y",3,"cdkDropListDropped"],["role","group","cdkDrag","","cdkDragHandle","",3,"formGroupName","ngClass","cdkDragDisabled","cdkDragPreviewClass","grey-background",4,"ngFor","ngForOf"],["role","group","cdkDrag","","cdkDragHandle","",3,"formGroupName","ngClass","cdkDragDisabled","cdkDragPreviewClass"],["tabindex","0",1,"drag-handle"],[1,"drag-icon","fas","fa-grip-vertical","fa-fw"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"bindId","formGroup","formModel","context","group","hidden","d-none","layout","model","templates","ngClass","dfBlur","dfChange","dfFocus","ngbEvent",4,"ngFor","ngForOf"],[3,"bindId","formGroup","formModel","context","group","hidden","layout","model","templates","ngClass","dfBlur","dfChange","dfFocus","ngbEvent"]],template:__name(function(rf,ctx){1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_1__.ynx(0,0),_angular_core__WEBPACK_IMPORTED_MODULE_1__.TgZ(1,"div",1)(2,"div",2),_angular_core__WEBPACK_IMPORTED_MODULE_1__.NdJ("cdkDropListDropped",__name(function($event){return ctx.moveSelection($event)},"DsDynamicFormArrayComponent_Template_div_cdkDropListDropped_2_listener")),_angular_core__WEBPACK_IMPORTED_MODULE_1__.YNc(3,DsDynamicFormArrayComponent_div_3_Template,6,18,"div",3),_angular_core__WEBPACK_IMPORTED_MODULE_1__.qZA()(),_angular_core__WEBPACK_IMPORTED_MODULE_1__.BQk()),2&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_1__.Q6J("formGroup",ctx.group),_angular_core__WEBPACK_IMPORTED_MODULE_1__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_1__.ekj("d-none",ctx.model.hidden),_angular_core__WEBPACK_IMPORTED_MODULE_1__.Q6J("id",ctx.id)("formArrayName",ctx.model.id)("ngClass",ctx.getClass("element","control")),_angular_core__WEBPACK_IMPORTED_MODULE_1__.xp6(2),_angular_core__WEBPACK_IMPORTED_MODULE_1__.Q6J("ngForOf",ctx.model.groups))},"DsDynamicFormArrayComponent_Template"),styles:["[_nghost-%COMP%]{display:block}.drag-disable[_ngcontent-%COMP%]{visibility:hidden!important}.drag-disable[_ngcontent-%COMP%]:hover, .drag-disable[_ngcontent-%COMP%]:focus{cursor:default}.drag-disable[_ngcontent-%COMP%]:hover   .drag-icon[_ngcontent-%COMP%], .drag-disable[_ngcontent-%COMP%]:focus   .drag-icon[_ngcontent-%COMP%]{visibility:hidden!important}.cdk-drag[_ngcontent-%COMP%]{margin-left:calc(-2.3 * var(--bs-spacer));margin-right:calc(-.5 * var(--bs-spacer));padding-right:calc(.5 * var(--bs-spacer))}.cdk-drag[_ngcontent-%COMP%]   .drag-icon[_ngcontent-%COMP%]{visibility:hidden;width:calc(2 * var(--bs-spacer));color:var(--bs-gray-600);margin:var(--bs-btn-padding-y) 0;line-height:var(--bs-btn-line-height);text-indent:calc(.5 * var(--bs-spacer))}.cdk-drag[_ngcontent-%COMP%]:hover, .cdk-drag[_ngcontent-%COMP%]:focus{cursor:grab}.cdk-drag[_ngcontent-%COMP%]:hover   .drag-icon[_ngcontent-%COMP%], .cdk-drag[_ngcontent-%COMP%]:focus   .drag-icon[_ngcontent-%COMP%]{visibility:visible}.drag-handle[_ngcontent-%COMP%]:hover{cursor:move}.drag-handle[_ngcontent-%COMP%]:focus   .drag-icon[_ngcontent-%COMP%]{visibility:visible}.cdk-drop-list-dragging[_ngcontent-%COMP%]   .drag-handle[_ngcontent-%COMP%]{cursor:grabbing}.cdk-drop-list-dragging[_ngcontent-%COMP%]   .drag-handle[_ngcontent-%COMP%]   .drag-icon[_ngcontent-%COMP%]{visibility:hidden}.cdk-drag-preview[_ngcontent-%COMP%]{margin:0;padding:0}.cdk-drag-placeholder[_ngcontent-%COMP%]{opacity:0}"]})},13457:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{_:()=>CustomSwitchComponent});var _angular_core__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(5e3),_ng_dynamic_forms_ui_ng_bootstrap__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(65806),_ng_dynamic_forms_core__WEBPACK_IMPORTED_MODULE_3__=(__webpack_require__(45014),__webpack_require__(87098)),_angular_forms__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(93075),_angular_common__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(69808);const _c0=__name(function(a0,a1){return[a0,a1]},"_c0");class CustomSwitchComponent extends _ng_dynamic_forms_ui_ng_bootstrap__WEBPACK_IMPORTED_MODULE_1__.Gy{constructor(layoutService,validationService){super(layoutService,validationService),this.bindId=!0,this.selected=new _angular_core__WEBPACK_IMPORTED_MODULE_2__.vpe,this.remove=new _angular_core__WEBPACK_IMPORTED_MODULE_2__.vpe,this.blur=new _angular_core__WEBPACK_IMPORTED_MODULE_2__.vpe,this.change=new _angular_core__WEBPACK_IMPORTED_MODULE_2__.vpe,this.focus=new _angular_core__WEBPACK_IMPORTED_MODULE_2__.vpe}}__name(CustomSwitchComponent,"CustomSwitchComponent"),CustomSwitchComponent.\u0275fac=__name(function(t){return new(t||CustomSwitchComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_2__.Y36(_ng_dynamic_forms_core__WEBPACK_IMPORTED_MODULE_3__.vnf),_angular_core__WEBPACK_IMPORTED_MODULE_2__.Y36(_ng_dynamic_forms_core__WEBPACK_IMPORTED_MODULE_3__.fhz))},"CustomSwitchComponent_Factory"),CustomSwitchComponent.\u0275cmp=_angular_core__WEBPACK_IMPORTED_MODULE_2__.Xpm({type:CustomSwitchComponent,selectors:[["ds-custom-switch"]],inputs:{bindId:"bindId",group:"group",model:"model"},outputs:{selected:"selected",remove:"remove",blur:"blur",change:"change",focus:"focus"},features:[_angular_core__WEBPACK_IMPORTED_MODULE_2__.qOj],decls:4,vars:20,consts:[[1,"form-check","custom-control","custom-switch",3,"formGroup"],["type","checkbox",1,"form-check-input","custom-control-input",3,"checked","id","formControlName","indeterminate","name","ngClass","required","tabindex","value","blur","change","focus"],[1,"form-check-label","custom-control-label",3,"for"],[3,"innerHTML","ngClass"]],template:__name(function(rf,ctx){1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_2__.TgZ(0,"div",0)(1,"input",1),_angular_core__WEBPACK_IMPORTED_MODULE_2__.NdJ("blur",__name(function($event){return ctx.onBlur($event)},"CustomSwitchComponent_Template_input_blur_1_listener"))("change",__name(function($event){return ctx.onChange($event)},"CustomSwitchComponent_Template_input_change_1_listener"))("focus",__name(function($event){return ctx.onFocus($event)},"CustomSwitchComponent_Template_input_focus_1_listener")),_angular_core__WEBPACK_IMPORTED_MODULE_2__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_2__.TgZ(2,"label",2),_angular_core__WEBPACK_IMPORTED_MODULE_2__._UZ(3,"span",3),_angular_core__WEBPACK_IMPORTED_MODULE_2__.qZA()()),2&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_2__.ekj("disabled",ctx.model.disabled),_angular_core__WEBPACK_IMPORTED_MODULE_2__.Q6J("formGroup",ctx.group),_angular_core__WEBPACK_IMPORTED_MODULE_2__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_2__.ekj("is-invalid",ctx.showErrorMessages),_angular_core__WEBPACK_IMPORTED_MODULE_2__.Q6J("checked",ctx.model.checked)("id",ctx.id)("formControlName",ctx.model.id)("indeterminate",ctx.model.indeterminate)("name",ctx.model.name)("ngClass",ctx.getClass("element","control"))("required",ctx.model.required)("tabindex",ctx.model.tabIndex)("value",ctx.model.value),_angular_core__WEBPACK_IMPORTED_MODULE_2__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_2__.Q6J("for",ctx.bindId&&ctx.model.id),_angular_core__WEBPACK_IMPORTED_MODULE_2__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_2__.Q6J("innerHTML",ctx.model.label,_angular_core__WEBPACK_IMPORTED_MODULE_2__.oJD)("ngClass",_angular_core__WEBPACK_IMPORTED_MODULE_2__.WLB(17,_c0,ctx.getClass("element","label"),ctx.getClass("grid","label"))))},"CustomSwitchComponent_Template"),directives:[_angular_forms__WEBPACK_IMPORTED_MODULE_4__.JL,_angular_forms__WEBPACK_IMPORTED_MODULE_4__.sg,_angular_forms__WEBPACK_IMPORTED_MODULE_4__.Wl,_angular_forms__WEBPACK_IMPORTED_MODULE_4__.Zs,_angular_forms__WEBPACK_IMPORTED_MODULE_4__.JJ,_angular_forms__WEBPACK_IMPORTED_MODULE_4__.u,_angular_common__WEBPACK_IMPORTED_MODULE_5__.mk],styles:[""]})},45014:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{c:()=>DYNAMIC_FORM_CONTROL_TYPE_CUSTOM_SWITCH,p:()=>DynamicCustomSwitchModel});var tslib__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(70655),_ng_dynamic_forms_core__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(87098);const DYNAMIC_FORM_CONTROL_TYPE_CUSTOM_SWITCH="CUSTOM_SWITCH";class DynamicCustomSwitchModel extends _ng_dynamic_forms_core__WEBPACK_IMPORTED_MODULE_0__.dwp{constructor(config,layout){super(config,layout),this.type=DYNAMIC_FORM_CONTROL_TYPE_CUSTOM_SWITCH}}__name(DynamicCustomSwitchModel,"DynamicCustomSwitchModel"),(0,tslib__WEBPACK_IMPORTED_MODULE_1__.gn)([(0,_ng_dynamic_forms_core__WEBPACK_IMPORTED_MODULE_0__.BgY)(),(0,tslib__WEBPACK_IMPORTED_MODULE_1__.w6)("design:type",String)],DynamicCustomSwitchModel.prototype,"type",void 0)},19869:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{u:()=>DsDatePickerInlineComponent});var _angular_core__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(5e3),_ng_bootstrap_ng_bootstrap__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(13707),_ng_dynamic_forms_core__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(87098),_angular_forms__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(93075),_angular_common__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(69808);function DsDatePickerInlineComponent_i_5_Template(rf,ctx){if(1&rf&&_angular_core__WEBPACK_IMPORTED_MODULE_0__._UZ(0,"i",7),2&rf){const ctx_r1=_angular_core__WEBPACK_IMPORTED_MODULE_0__.oxw();_angular_core__WEBPACK_IMPORTED_MODULE_0__.Tol(ctx_r1.model.toggleIcon)}}function DsDatePickerInlineComponent_span_6_Template(rf,ctx){if(1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_0__.TgZ(0,"span"),_angular_core__WEBPACK_IMPORTED_MODULE_0__._uU(1),_angular_core__WEBPACK_IMPORTED_MODULE_0__.qZA()),2&rf){const ctx_r2=_angular_core__WEBPACK_IMPORTED_MODULE_0__.oxw();_angular_core__WEBPACK_IMPORTED_MODULE_0__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Oqu(ctx_r2.model.toggleLabel)}}__name(DsDatePickerInlineComponent_i_5_Template,"DsDatePickerInlineComponent_i_5_Template"),__name(DsDatePickerInlineComponent_span_6_Template,"DsDatePickerInlineComponent_span_6_Template");class DsDatePickerInlineComponent extends _ng_dynamic_forms_core__WEBPACK_IMPORTED_MODULE_1__.LvC{constructor(layoutService,validationService,config){super(layoutService,validationService),this.layoutService=layoutService,this.validationService=validationService,this.config=config,this.bindId=!0,this.blur=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.vpe,this.change=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.vpe,this.focus=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.vpe}}__name(DsDatePickerInlineComponent,"DsDatePickerInlineComponent"),DsDatePickerInlineComponent.\u0275fac=__name(function(t){return new(t||DsDatePickerInlineComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_0__.Y36(_ng_dynamic_forms_core__WEBPACK_IMPORTED_MODULE_1__.vnf),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Y36(_ng_dynamic_forms_core__WEBPACK_IMPORTED_MODULE_1__.fhz),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Y36(_ng_bootstrap_ng_bootstrap__WEBPACK_IMPORTED_MODULE_2__.M4))},"DsDatePickerInlineComponent_Factory"),DsDatePickerInlineComponent.\u0275cmp=_angular_core__WEBPACK_IMPORTED_MODULE_0__.Xpm({type:DsDatePickerInlineComponent,selectors:[["ds-dynamic-date-picker-inline"]],viewQuery:__name(function(rf,ctx){if(1&rf&&_angular_core__WEBPACK_IMPORTED_MODULE_0__.Gf(_ng_bootstrap_ng_bootstrap__WEBPACK_IMPORTED_MODULE_2__.VL,5),2&rf){let _t;_angular_core__WEBPACK_IMPORTED_MODULE_0__.iGM(_t=_angular_core__WEBPACK_IMPORTED_MODULE_0__.CRH())&&(ctx.ngbDatePicker=_t.first)}},"DsDatePickerInlineComponent_Query"),inputs:{bindId:"bindId",group:"group",layout:"layout",model:"model"},outputs:{blur:"blur",change:"change",focus:"focus"},features:[_angular_core__WEBPACK_IMPORTED_MODULE_0__.qOj],decls:7,vars:25,consts:[[1,"input-group",3,"formGroup"],["ngbDatepicker","",1,"form-control",3,"displayMonths","id","firstDayOfWeek","formControlName","maxDate","minDate","name","navigation","ngClass","outsideDays","placeholder","placement","weekdays","showWeekNumbers","startDate","blur","dateSelect","change","focus"],["datepicker","ngbDatepicker"],[1,"input-group-append"],["type","button",1,"btn","btn-outline-secondary",3,"disabled","click"],["aria-hidden","true",3,"class",4,"ngIf"],[4,"ngIf"],["aria-hidden","true"]],template:__name(function(rf,ctx){if(1&rf){const _r3=_angular_core__WEBPACK_IMPORTED_MODULE_0__.EpF();_angular_core__WEBPACK_IMPORTED_MODULE_0__.TgZ(0,"div",0)(1,"input",1,2),_angular_core__WEBPACK_IMPORTED_MODULE_0__.NdJ("blur",__name(function($event){return ctx.onBlur($event)},"DsDatePickerInlineComponent_Template_input_blur_1_listener"))("dateSelect",__name(function($event){return ctx.onChange($event)},"DsDatePickerInlineComponent_Template_input_dateSelect_1_listener"))("change",__name(function($event){return ctx.onChange($event)},"DsDatePickerInlineComponent_Template_input_change_1_listener"))("focus",__name(function($event){return ctx.onFocus($event)},"DsDatePickerInlineComponent_Template_input_focus_1_listener")),_angular_core__WEBPACK_IMPORTED_MODULE_0__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_0__.TgZ(3,"div",3)(4,"button",4),_angular_core__WEBPACK_IMPORTED_MODULE_0__.NdJ("click",__name(function(){return _angular_core__WEBPACK_IMPORTED_MODULE_0__.CHM(_r3),_angular_core__WEBPACK_IMPORTED_MODULE_0__.MAs(2).toggle()},"DsDatePickerInlineComponent_Template_button_click_4_listener")),_angular_core__WEBPACK_IMPORTED_MODULE_0__.YNc(5,DsDatePickerInlineComponent_i_5_Template,1,3,"i",5),_angular_core__WEBPACK_IMPORTED_MODULE_0__.YNc(6,DsDatePickerInlineComponent_span_6_Template,2,1,"span",6),_angular_core__WEBPACK_IMPORTED_MODULE_0__.qZA()()()}2&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_0__.Q6J("formGroup",ctx.group),_angular_core__WEBPACK_IMPORTED_MODULE_0__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_0__.ekj("is-invalid",ctx.showErrorMessages),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Q6J("displayMonths",ctx.model.getAdditional("displayMonths",ctx.config.displayMonths))("id",ctx.id)("firstDayOfWeek",ctx.model.getAdditional("firstDayOfWeek",ctx.config.firstDayOfWeek))("formControlName",ctx.model.id)("maxDate",ctx.model.max)("minDate",ctx.model.min)("name",ctx.model.name)("navigation",ctx.model.getAdditional("navigation",ctx.config.navigation))("ngClass",ctx.getClass("element","control"))("outsideDays",ctx.model.getAdditional("outsideDays",ctx.config.outsideDays))("placeholder",ctx.model.placeholder)("placement",ctx.model.getAdditional("placement","bottom-left"))("weekdays",ctx.model.getAdditional("showWeekdays",ctx.config.showWeekdays))("showWeekNumbers",ctx.model.getAdditional("showWeekNumbers",ctx.config.showWeekNumbers))("startDate",ctx.model.focusedDate),_angular_core__WEBPACK_IMPORTED_MODULE_0__.uIk("aria-labelledby","label_"+ctx.model.id),_angular_core__WEBPACK_IMPORTED_MODULE_0__.xp6(3),_angular_core__WEBPACK_IMPORTED_MODULE_0__.ekj("disabled",ctx.model.disabled),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Q6J("disabled",ctx.model.disabled),_angular_core__WEBPACK_IMPORTED_MODULE_0__.uIk("aria-labelledby","label_"+ctx.model.id),_angular_core__WEBPACK_IMPORTED_MODULE_0__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Q6J("ngIf",ctx.model.toggleIcon),_angular_core__WEBPACK_IMPORTED_MODULE_0__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Q6J("ngIf",ctx.model.toggleLabel))},"DsDatePickerInlineComponent_Template"),directives:[_angular_forms__WEBPACK_IMPORTED_MODULE_3__.JL,_angular_forms__WEBPACK_IMPORTED_MODULE_3__.sg,_ng_bootstrap_ng_bootstrap__WEBPACK_IMPORTED_MODULE_2__.J4,_angular_forms__WEBPACK_IMPORTED_MODULE_3__.Fj,_angular_forms__WEBPACK_IMPORTED_MODULE_3__.JJ,_angular_forms__WEBPACK_IMPORTED_MODULE_3__.u,_angular_common__WEBPACK_IMPORTED_MODULE_4__.mk,_angular_common__WEBPACK_IMPORTED_MODULE_4__.O5],encapsulation:2})},8671:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{x:()=>DsDynamicDisabledComponent});var _angular_core__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(5e3),_ng_dynamic_forms_core__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(87098),_ngx_translate_core__WEBPACK_IMPORTED_MODULE_3__=(__webpack_require__(53905),__webpack_require__(42466));class DsDynamicDisabledComponent extends _ng_dynamic_forms_core__WEBPACK_IMPORTED_MODULE_1__.LvC{constructor(layoutService,validationService){super(layoutService,validationService),this.layoutService=layoutService,this.validationService=validationService,this.modelValuesString="",this.blur=new _angular_core__WEBPACK_IMPORTED_MODULE_2__.vpe,this.change=new _angular_core__WEBPACK_IMPORTED_MODULE_2__.vpe,this.focus=new _angular_core__WEBPACK_IMPORTED_MODULE_2__.vpe}}__name(DsDynamicDisabledComponent,"DsDynamicDisabledComponent"),DsDynamicDisabledComponent.\u0275fac=__name(function(t){return new(t||DsDynamicDisabledComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_2__.Y36(_ng_dynamic_forms_core__WEBPACK_IMPORTED_MODULE_1__.vnf),_angular_core__WEBPACK_IMPORTED_MODULE_2__.Y36(_ng_dynamic_forms_core__WEBPACK_IMPORTED_MODULE_1__.fhz))},"DsDynamicDisabledComponent_Factory"),DsDynamicDisabledComponent.\u0275cmp=_angular_core__WEBPACK_IMPORTED_MODULE_2__.Xpm({type:DsDynamicDisabledComponent,selectors:[["ds-dynamic-disabled"]],inputs:{formId:"formId",group:"group",model:"model"},outputs:{blur:"blur",change:"change",focus:"focus"},features:[_angular_core__WEBPACK_IMPORTED_MODULE_2__.qOj],decls:5,vars:11,consts:[[1,"form-row","align-items-center"],[1,"col"],[1,"form-control",3,"id","name","value","disabled","type","placeholder","readonly"]],template:__name(function(rf,ctx){1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_2__.TgZ(0,"div")(1,"div",0)(2,"div",1),_angular_core__WEBPACK_IMPORTED_MODULE_2__._UZ(3,"input",2),_angular_core__WEBPACK_IMPORTED_MODULE_2__.ALo(4,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_2__.qZA()()()),2&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_2__.xp6(3),_angular_core__WEBPACK_IMPORTED_MODULE_2__.ekj("is-invalid",ctx.showErrorMessages),_angular_core__WEBPACK_IMPORTED_MODULE_2__.Q6J("id",ctx.id)("name",ctx.model.name)("value",ctx.modelValuesString)("disabled",ctx.model.disabled)("type",ctx.model.inputType)("placeholder",_angular_core__WEBPACK_IMPORTED_MODULE_2__.lcZ(4,9,ctx.model.placeholder))("readonly",ctx.model.readOnly))},"DsDynamicDisabledComponent_Template"),pipes:[_ngx_translate_core__WEBPACK_IMPORTED_MODULE_3__.X$],encapsulation:2})},10362:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{m:()=>DsDynamicVocabularyComponent});var _ng_dynamic_forms_core__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(87098),rxjs_operators__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(83292),rxjs__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(76477),_core_submission_vocabularies_vocabulary_service__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(49566),_empty_util__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(24702),_models_form_field_metadata_value_model__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(7973),_core_submission_vocabularies_models_vocabulary_entry_model__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(58140),_core_shared_page_info_model__WEBPACK_IMPORTED_MODULE_4__=(__webpack_require__(19260),__webpack_require__(62713)),_angular_core__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(5e3);class DsDynamicVocabularyComponent extends _ng_dynamic_forms_core__WEBPACK_IMPORTED_MODULE_5__.LvC{constructor(vocabularyService,layoutService,validationService){super(layoutService,validationService),this.vocabularyService=vocabularyService,this.layoutService=layoutService,this.validationService=validationService}getInitValueFromModel(){let initValue$;if((0,_empty_util__WEBPACK_IMPORTED_MODULE_6__.UE)(this.model.value)&&this.model.value instanceof _models_form_field_metadata_value_model__WEBPACK_IMPORTED_MODULE_1__.u){let initEntry$;initEntry$=this.model.value.hasAuthority()?this.vocabularyService.getVocabularyEntryByID(this.model.value.authority,this.model.vocabularyOptions):this.vocabularyService.getVocabularyEntryByValue(this.model.value.value,this.model.vocabularyOptions),initValue$=initEntry$.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_7__.UI)(initEntry=>(0,_empty_util__WEBPACK_IMPORTED_MODULE_6__.UE)(initEntry)?new _models_form_field_metadata_value_model__WEBPACK_IMPORTED_MODULE_1__.u(initEntry.value,null,initEntry.authority,initEntry.display,this.model.value.place,null,initEntry.otherInformation||null):this.model.value))}else initValue$=(0,_empty_util__WEBPACK_IMPORTED_MODULE_6__.UE)(this.model.value)&&this.model.value instanceof _core_submission_vocabularies_models_vocabulary_entry_model__WEBPACK_IMPORTED_MODULE_2__.j?(0,rxjs__WEBPACK_IMPORTED_MODULE_8__.of)(new _models_form_field_metadata_value_model__WEBPACK_IMPORTED_MODULE_1__.u(this.model.value.value,null,this.model.value.authority,this.model.value.display,0,null,this.model.value.otherInformation||null)):(0,rxjs__WEBPACK_IMPORTED_MODULE_8__.of)(new _models_form_field_metadata_value_model__WEBPACK_IMPORTED_MODULE_1__.u(this.model.value));return initValue$}onBlur(event2){this.blur.emit(event2)}onFocus(event2){this.focus.emit(event2)}dispatchUpdate(updateValue){this.model.value=updateValue,this.change.emit(updateValue)}updatePageInfo(elementsPerPage,currentPage,totalElements,totalPages){this.pageInfo=Object.assign(new _core_shared_page_info_model__WEBPACK_IMPORTED_MODULE_4__.S,{elementsPerPage,currentPage,totalElements,totalPages})}}__name(DsDynamicVocabularyComponent,"DsDynamicVocabularyComponent"),DsDynamicVocabularyComponent.\u0275fac=__name(function(t){return new(t||DsDynamicVocabularyComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_9__.Y36(_core_submission_vocabularies_vocabulary_service__WEBPACK_IMPORTED_MODULE_0__.c),_angular_core__WEBPACK_IMPORTED_MODULE_9__.Y36(_ng_dynamic_forms_core__WEBPACK_IMPORTED_MODULE_5__.vnf),_angular_core__WEBPACK_IMPORTED_MODULE_9__.Y36(_ng_dynamic_forms_core__WEBPACK_IMPORTED_MODULE_5__.fhz))},"DsDynamicVocabularyComponent_Factory"),DsDynamicVocabularyComponent.\u0275cmp=_angular_core__WEBPACK_IMPORTED_MODULE_9__.Xpm({type:DsDynamicVocabularyComponent,selectors:[["ds-dynamic-vocabulary"]],inputs:{group:"group",model:"model"},outputs:{blur:"blur",change:"change",focus:"focus"},features:[_angular_core__WEBPACK_IMPORTED_MODULE_9__.qOj],decls:0,vars:0,template:__name(function(rf,ctx){},"DsDynamicVocabularyComponent_Template"),encapsulation:2})},66319:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{i:()=>DsDynamicFormGroupComponent});var _angular_core__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(5e3),_ng_dynamic_forms_core__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(87098);const _c0=__name(function(a0,a1){return[a0,a1]},"_c0");function DsDynamicFormGroupComponent_ds_dynamic_form_control_container_3_Template(rf,ctx){if(1&rf){const _r3=_angular_core__WEBPACK_IMPORTED_MODULE_0__.EpF();_angular_core__WEBPACK_IMPORTED_MODULE_0__.TgZ(0,"ds-dynamic-form-control-container",4),_angular_core__WEBPACK_IMPORTED_MODULE_0__.NdJ("dfBlur",__name(function($event){return _angular_core__WEBPACK_IMPORTED_MODULE_0__.CHM(_r3),_angular_core__WEBPACK_IMPORTED_MODULE_0__.oxw().onBlur($event)},"DsDynamicFormGroupComponent_ds_dynamic_form_control_container_3_Template_ds_dynamic_form_control_container_dfBlur_0_listener"))("dfChange",__name(function($event){return _angular_core__WEBPACK_IMPORTED_MODULE_0__.CHM(_r3),_angular_core__WEBPACK_IMPORTED_MODULE_0__.oxw().onChange($event)},"DsDynamicFormGroupComponent_ds_dynamic_form_control_container_3_Template_ds_dynamic_form_control_container_dfChange_0_listener"))("dfFocus",__name(function($event){return _angular_core__WEBPACK_IMPORTED_MODULE_0__.CHM(_r3),_angular_core__WEBPACK_IMPORTED_MODULE_0__.oxw().onFocus($event)},"DsDynamicFormGroupComponent_ds_dynamic_form_control_container_3_Template_ds_dynamic_form_control_container_dfFocus_0_listener"))("ngbEvent",__name(function($event){return _angular_core__WEBPACK_IMPORTED_MODULE_0__.CHM(_r3),_angular_core__WEBPACK_IMPORTED_MODULE_0__.oxw().onCustomEvent($event,null,!0)},"DsDynamicFormGroupComponent_ds_dynamic_form_control_container_3_Template_ds_dynamic_form_control_container_ngbEvent_0_listener")),_angular_core__WEBPACK_IMPORTED_MODULE_0__.qZA()}if(2&rf){const _model_r1=ctx.$implicit,ctx_r0=_angular_core__WEBPACK_IMPORTED_MODULE_0__.oxw();_angular_core__WEBPACK_IMPORTED_MODULE_0__.ekj("d-none",_model_r1.hidden),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Q6J("formGroup",ctx_r0.group)("formModel",ctx_r0.formModel)("group",ctx_r0.control)("hasErrorMessaging",ctx_r0.model.hasErrorMessages)("hidden",_model_r1.hidden)("layout",ctx_r0.formLayout)("model",_model_r1)("templates",ctx_r0.templates)("ngClass",_angular_core__WEBPACK_IMPORTED_MODULE_0__.WLB(11,_c0,ctx_r0.getClass("element","host",_model_r1),ctx_r0.getClass("grid","host",_model_r1)))}}__name(DsDynamicFormGroupComponent_ds_dynamic_form_control_container_3_Template,"DsDynamicFormGroupComponent_ds_dynamic_form_control_container_3_Template");class DsDynamicFormGroupComponent extends _ng_dynamic_forms_core__WEBPACK_IMPORTED_MODULE_1__.LvC{constructor(layoutService,validationService){super(layoutService,validationService),this.layoutService=layoutService,this.validationService=validationService,this.blur=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.vpe,this.change=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.vpe,this.focus=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.vpe,this.customEvent=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.vpe}}__name(DsDynamicFormGroupComponent,"DsDynamicFormGroupComponent"),DsDynamicFormGroupComponent.\u0275fac=__name(function(t){return new(t||DsDynamicFormGroupComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_0__.Y36(_ng_dynamic_forms_core__WEBPACK_IMPORTED_MODULE_1__.vnf),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Y36(_ng_dynamic_forms_core__WEBPACK_IMPORTED_MODULE_1__.fhz))},"DsDynamicFormGroupComponent_Factory"),DsDynamicFormGroupComponent.\u0275cmp=_angular_core__WEBPACK_IMPORTED_MODULE_0__.Xpm({type:DsDynamicFormGroupComponent,selectors:[["ds-dynamic-form-group"]],inputs:{formModel:"formModel",formLayout:"formLayout",group:"group",layout:"layout",model:"model",templates:"templates"},outputs:{blur:"dfBlur",change:"dfChange",focus:"dfFocus",customEvent:"ngbEvent"},features:[_angular_core__WEBPACK_IMPORTED_MODULE_0__.qOj],decls:4,vars:7,consts:[[2,"width","100%"],[3,"formGroup"],["role","group",3,"formGroupName","id","ngClass"],[3,"formGroup","formModel","group","hasErrorMessaging","hidden","d-none","layout","model","templates","ngClass","dfBlur","dfChange","dfFocus","ngbEvent",4,"ngFor","ngForOf"],[3,"formGroup","formModel","group","hasErrorMessaging","hidden","layout","model","templates","ngClass","dfBlur","dfChange","dfFocus","ngbEvent"]],template:__name(function(rf,ctx){1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_0__.TgZ(0,"div",0),_angular_core__WEBPACK_IMPORTED_MODULE_0__.ynx(1,1),_angular_core__WEBPACK_IMPORTED_MODULE_0__.TgZ(2,"div",2),_angular_core__WEBPACK_IMPORTED_MODULE_0__.YNc(3,DsDynamicFormGroupComponent_ds_dynamic_form_control_container_3_Template,1,14,"ds-dynamic-form-control-container",3),_angular_core__WEBPACK_IMPORTED_MODULE_0__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_0__.BQk(),_angular_core__WEBPACK_IMPORTED_MODULE_0__.qZA()),2&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_0__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Q6J("formGroup",ctx.group),_angular_core__WEBPACK_IMPORTED_MODULE_0__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_0__.ekj("d-none",ctx.model.hidden),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Q6J("formGroupName",ctx.model.id)("id",ctx.id)("ngClass",ctx.getClass("element","control")),_angular_core__WEBPACK_IMPORTED_MODULE_0__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Q6J("ngForOf",ctx.model.group))},"DsDynamicFormGroupComponent_Template"),encapsulation:2})},88766:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{d:()=>DsDynamicListComponent});var _angular_core__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(5e3),_ng_dynamic_forms_core__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(87098),lodash__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(17489),_empty_util__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(24702),_form_builder_service__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(71022),_core_submission_vocabularies_vocabulary_service__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(49566),_core_shared_operators__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(13730),_core_shared_page_info_model__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(62713),_angular_forms__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(93075),_angular_common__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(69808);function DsDynamicListComponent_div_1_div_1_div_1_Template(rf,ctx){if(1&rf){const _r7=_angular_core__WEBPACK_IMPORTED_MODULE_5__.EpF();_angular_core__WEBPACK_IMPORTED_MODULE_5__.TgZ(0,"div",7)(1,"input",8),_angular_core__WEBPACK_IMPORTED_MODULE_5__.NdJ("blur",__name(function($event){return _angular_core__WEBPACK_IMPORTED_MODULE_5__.CHM(_r7),_angular_core__WEBPACK_IMPORTED_MODULE_5__.oxw(3).onBlur($event)},"DsDynamicListComponent_div_1_div_1_div_1_Template_input_blur_1_listener"))("change",__name(function($event){return _angular_core__WEBPACK_IMPORTED_MODULE_5__.CHM(_r7),_angular_core__WEBPACK_IMPORTED_MODULE_5__.oxw(3).onChange($event)},"DsDynamicListComponent_div_1_div_1_div_1_Template_input_change_1_listener"))("focus",__name(function($event){return _angular_core__WEBPACK_IMPORTED_MODULE_5__.CHM(_r7),_angular_core__WEBPACK_IMPORTED_MODULE_5__.oxw(3).onFocus($event)},"DsDynamicListComponent_div_1_div_1_div_1_Template_input_focus_1_listener")),_angular_core__WEBPACK_IMPORTED_MODULE_5__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_5__.TgZ(2,"label",9),_angular_core__WEBPACK_IMPORTED_MODULE_5__._UZ(3,"span",10),_angular_core__WEBPACK_IMPORTED_MODULE_5__.qZA()()}if(2&rf){const item_r5=ctx.$implicit,ctx_r4=_angular_core__WEBPACK_IMPORTED_MODULE_5__.oxw(3);_angular_core__WEBPACK_IMPORTED_MODULE_5__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_5__.Q6J("checked",item_r5.value)("id",item_r5.id)("formControlName",item_r5.id)("name",ctx_r4.model.name)("required",ctx_r4.model.required)("value",item_r5.value),_angular_core__WEBPACK_IMPORTED_MODULE_5__.uIk("aria-labelledby","label_"+ctx_r4.model.id)("tabindex",item_r5.index),_angular_core__WEBPACK_IMPORTED_MODULE_5__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_5__.ekj("disabled",ctx_r4.model.disabled),_angular_core__WEBPACK_IMPORTED_MODULE_5__.Q6J("ngClass",null==ctx_r4.model.layout.element?null:ctx_r4.model.layout.element.control)("for",item_r5.id),_angular_core__WEBPACK_IMPORTED_MODULE_5__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_5__.Q6J("ngClass",null==ctx_r4.model.layout.element?null:ctx_r4.model.layout.element.label)("innerHTML",item_r5.label,_angular_core__WEBPACK_IMPORTED_MODULE_5__.oJD)}}function DsDynamicListComponent_div_1_div_1_Template(rf,ctx){if(1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_5__.TgZ(0,"div",5),_angular_core__WEBPACK_IMPORTED_MODULE_5__.YNc(1,DsDynamicListComponent_div_1_div_1_div_1_Template,4,14,"div",6),_angular_core__WEBPACK_IMPORTED_MODULE_5__._UZ(2,"br"),_angular_core__WEBPACK_IMPORTED_MODULE_5__.qZA()),2&rf){const columnItems_r3=ctx.$implicit;_angular_core__WEBPACK_IMPORTED_MODULE_5__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_5__.Q6J("ngForOf",columnItems_r3)}}function DsDynamicListComponent_div_1_Template(rf,ctx){if(1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_5__.TgZ(0,"div",3),_angular_core__WEBPACK_IMPORTED_MODULE_5__.YNc(1,DsDynamicListComponent_div_1_div_1_Template,3,1,"div",4),_angular_core__WEBPACK_IMPORTED_MODULE_5__.qZA()),2&rf){const ctx_r0=_angular_core__WEBPACK_IMPORTED_MODULE_5__.oxw();_angular_core__WEBPACK_IMPORTED_MODULE_5__.Q6J("id",ctx_r0.id)("formGroupName",ctx_r0.model.id)("ngClass",null==ctx_r0.model.layout.element?null:ctx_r0.model.layout.element.control),_angular_core__WEBPACK_IMPORTED_MODULE_5__.uIk("tabindex",ctx_r0.model.tabIndex),_angular_core__WEBPACK_IMPORTED_MODULE_5__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_5__.Q6J("ngForOf",ctx_r0.items)}}function DsDynamicListComponent_div_2_div_1_div_1_Template(rf,ctx){if(1&rf){const _r15=_angular_core__WEBPACK_IMPORTED_MODULE_5__.EpF();_angular_core__WEBPACK_IMPORTED_MODULE_5__.TgZ(0,"div",13)(1,"input",14),_angular_core__WEBPACK_IMPORTED_MODULE_5__.NdJ("blur",__name(function($event){return _angular_core__WEBPACK_IMPORTED_MODULE_5__.CHM(_r15),_angular_core__WEBPACK_IMPORTED_MODULE_5__.oxw(3).onBlur($event)},"DsDynamicListComponent_div_2_div_1_div_1_Template_input_blur_1_listener"))("focus",__name(function($event){return _angular_core__WEBPACK_IMPORTED_MODULE_5__.CHM(_r15),_angular_core__WEBPACK_IMPORTED_MODULE_5__.oxw(3).onFocus($event)},"DsDynamicListComponent_div_2_div_1_div_1_Template_input_focus_1_listener")),_angular_core__WEBPACK_IMPORTED_MODULE_5__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_5__.TgZ(2,"label",9),_angular_core__WEBPACK_IMPORTED_MODULE_5__._UZ(3,"span",10),_angular_core__WEBPACK_IMPORTED_MODULE_5__.qZA()()}if(2&rf){const item_r13=ctx.$implicit,ctx_r12=_angular_core__WEBPACK_IMPORTED_MODULE_5__.oxw(3);_angular_core__WEBPACK_IMPORTED_MODULE_5__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_5__.Q6J("checked",item_r13.value)("id",item_r13.id)("name",ctx_r12.model.id)("required",ctx_r12.model.required)("value",item_r13.index),_angular_core__WEBPACK_IMPORTED_MODULE_5__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_5__.ekj("disabled",ctx_r12.model.disabled),_angular_core__WEBPACK_IMPORTED_MODULE_5__.Q6J("ngClass",null==ctx_r12.model.layout.element?null:ctx_r12.model.layout.element.control)("for",item_r13.id),_angular_core__WEBPACK_IMPORTED_MODULE_5__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_5__.Q6J("ngClass",null==ctx_r12.model.layout.element?null:ctx_r12.model.layout.element.label)("innerHTML",item_r13.label,_angular_core__WEBPACK_IMPORTED_MODULE_5__.oJD)}}function DsDynamicListComponent_div_2_div_1_Template(rf,ctx){if(1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_5__.TgZ(0,"div",5),_angular_core__WEBPACK_IMPORTED_MODULE_5__.YNc(1,DsDynamicListComponent_div_2_div_1_div_1_Template,4,11,"div",12),_angular_core__WEBPACK_IMPORTED_MODULE_5__._UZ(2,"br"),_angular_core__WEBPACK_IMPORTED_MODULE_5__.qZA()),2&rf){const columnItems_r11=ctx.$implicit;_angular_core__WEBPACK_IMPORTED_MODULE_5__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_5__.Q6J("ngForOf",columnItems_r11)}}function DsDynamicListComponent_div_2_Template(rf,ctx){if(1&rf){const _r18=_angular_core__WEBPACK_IMPORTED_MODULE_5__.EpF();_angular_core__WEBPACK_IMPORTED_MODULE_5__.TgZ(0,"div",11),_angular_core__WEBPACK_IMPORTED_MODULE_5__.NdJ("change",__name(function($event){return _angular_core__WEBPACK_IMPORTED_MODULE_5__.CHM(_r18),_angular_core__WEBPACK_IMPORTED_MODULE_5__.oxw().onChange($event)},"DsDynamicListComponent_div_2_Template_div_change_0_listener")),_angular_core__WEBPACK_IMPORTED_MODULE_5__.YNc(1,DsDynamicListComponent_div_2_div_1_Template,3,1,"div",4),_angular_core__WEBPACK_IMPORTED_MODULE_5__.qZA()}if(2&rf){const ctx_r1=_angular_core__WEBPACK_IMPORTED_MODULE_5__.oxw();_angular_core__WEBPACK_IMPORTED_MODULE_5__.Q6J("id",ctx_r1.id)("ngClass",null==ctx_r1.model.layout.element?null:ctx_r1.model.layout.element.control),_angular_core__WEBPACK_IMPORTED_MODULE_5__.uIk("tabindex",ctx_r1.model.tabIndex),_angular_core__WEBPACK_IMPORTED_MODULE_5__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_5__.Q6J("ngForOf",ctx_r1.items)}}__name(DsDynamicListComponent_div_1_div_1_div_1_Template,"DsDynamicListComponent_div_1_div_1_div_1_Template"),__name(DsDynamicListComponent_div_1_div_1_Template,"DsDynamicListComponent_div_1_div_1_Template"),__name(DsDynamicListComponent_div_1_Template,"DsDynamicListComponent_div_1_Template"),__name(DsDynamicListComponent_div_2_div_1_div_1_Template,"DsDynamicListComponent_div_2_div_1_div_1_Template"),__name(DsDynamicListComponent_div_2_div_1_Template,"DsDynamicListComponent_div_2_div_1_Template"),__name(DsDynamicListComponent_div_2_Template,"DsDynamicListComponent_div_2_Template");class DsDynamicListComponent extends _ng_dynamic_forms_core__WEBPACK_IMPORTED_MODULE_6__.LvC{constructor(vocabularyService,cdr,formBuilderService,layoutService,validationService){super(layoutService,validationService),this.vocabularyService=vocabularyService,this.cdr=cdr,this.formBuilderService=formBuilderService,this.layoutService=layoutService,this.validationService=validationService,this.blur=new _angular_core__WEBPACK_IMPORTED_MODULE_5__.vpe,this.change=new _angular_core__WEBPACK_IMPORTED_MODULE_5__.vpe,this.focus=new _angular_core__WEBPACK_IMPORTED_MODULE_5__.vpe,this.items=[]}ngOnInit(){this.model.vocabularyOptions&&(0,_empty_util__WEBPACK_IMPORTED_MODULE_7__.Uh)(this.model.vocabularyOptions.name)&&this.setOptionsFromVocabulary()}onBlur(event2){this.blur.emit(event2)}onFocus(event2){this.focus.emit(event2)}onChange(event2){const target=event2.target;if(this.model.repeatable){const entry=this.optionsList[target.tabIndex];if(target.checked)this.model.valueUpdates.next(entry);else{const newValue=[];this.model.value.filter(item=>item.value!==entry.value).forEach(item=>newValue.push(item)),this.model.valueUpdates.next(newValue)}}else this.model.value=this.optionsList[target.value];this.change.emit(event2)}setOptionsFromVocabulary(){if(this.model.vocabularyOptions.name&&this.model.vocabularyOptions.name.length>0){const listGroup=this.group.controls[this.model.id],pageInfo=new _core_shared_page_info_model__WEBPACK_IMPORTED_MODULE_4__.S({elementsPerPage:9999,currentPage:1});this.vocabularyService.getVocabularyEntries(this.model.vocabularyOptions,pageInfo).pipe((0,_core_shared_operators__WEBPACK_IMPORTED_MODULE_3__.Gp)()).subscribe(entries=>{let groupCounter=0,itemsPerGroup=0,tempList=[];this.optionsList=entries.page,entries.page.forEach((option,key)=>{const value=option.authority||option.value,checked=(0,_empty_util__WEBPACK_IMPORTED_MODULE_7__.UE)((0,lodash__WEBPACK_IMPORTED_MODULE_0__.findKey)(this.model.value,v=>v.value===option.value)),item={id:value,label:option.display,value:checked,index:key};this.model.repeatable?this.formBuilderService.addFormGroupControl(listGroup,this.model,new _ng_dynamic_forms_core__WEBPACK_IMPORTED_MODULE_6__.dwp(item)):this.model.options.push({label:item.label,value:option}),tempList.push(item),itemsPerGroup++,this.items[groupCounter]=tempList,itemsPerGroup===this.model.groupLength&&(groupCounter++,itemsPerGroup=0,tempList=[])}),this.cdr.markForCheck()})}}}__name(DsDynamicListComponent,"DsDynamicListComponent"),DsDynamicListComponent.\u0275fac=__name(function(t){return new(t||DsDynamicListComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_5__.Y36(_core_submission_vocabularies_vocabulary_service__WEBPACK_IMPORTED_MODULE_2__.c),_angular_core__WEBPACK_IMPORTED_MODULE_5__.Y36(_angular_core__WEBPACK_IMPORTED_MODULE_5__.sBO),_angular_core__WEBPACK_IMPORTED_MODULE_5__.Y36(_form_builder_service__WEBPACK_IMPORTED_MODULE_1__.c),_angular_core__WEBPACK_IMPORTED_MODULE_5__.Y36(_ng_dynamic_forms_core__WEBPACK_IMPORTED_MODULE_6__.vnf),_angular_core__WEBPACK_IMPORTED_MODULE_5__.Y36(_ng_dynamic_forms_core__WEBPACK_IMPORTED_MODULE_6__.fhz))},"DsDynamicListComponent_Factory"),DsDynamicListComponent.\u0275cmp=_angular_core__WEBPACK_IMPORTED_MODULE_5__.Xpm({type:DsDynamicListComponent,selectors:[["ds-dynamic-list"]],inputs:{group:"group",model:"model"},outputs:{blur:"blur",change:"change",focus:"focus"},features:[_angular_core__WEBPACK_IMPORTED_MODULE_5__.qOj],decls:3,vars:3,consts:[[3,"formGroup"],["class","form-row",3,"id","formGroupName","ngClass",4,"ngIf"],["class","form-row","ngbRadioGroup","",3,"id","ngClass","change",4,"ngIf"],[1,"form-row",3,"id","formGroupName","ngClass"],["class","col-sm ml-3",4,"ngFor","ngForOf"],[1,"col-sm","ml-3"],["class","custom-control custom-checkbox",4,"ngFor","ngForOf"],[1,"custom-control","custom-checkbox"],["type","checkbox",1,"custom-control-input",3,"checked","id","formControlName","name","required","value","blur","change","focus"],[1,"custom-control-label",3,"ngClass","for"],[3,"ngClass","innerHTML"],["ngbRadioGroup","",1,"form-row",3,"id","ngClass","change"],["class","custom-control custom-radio",4,"ngFor","ngForOf"],[1,"custom-control","custom-radio"],["type","radio",1,"custom-control-input",3,"checked","id","name","required","value","blur","focus"]],template:__name(function(rf,ctx){1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_5__.TgZ(0,"div",0),_angular_core__WEBPACK_IMPORTED_MODULE_5__.YNc(1,DsDynamicListComponent_div_1_Template,2,5,"div",1),_angular_core__WEBPACK_IMPORTED_MODULE_5__.YNc(2,DsDynamicListComponent_div_2_Template,2,4,"div",2),_angular_core__WEBPACK_IMPORTED_MODULE_5__.qZA()),2&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_5__.Q6J("formGroup",ctx.group),_angular_core__WEBPACK_IMPORTED_MODULE_5__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_5__.Q6J("ngIf",ctx.model.repeatable),_angular_core__WEBPACK_IMPORTED_MODULE_5__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_5__.Q6J("ngIf",!ctx.model.repeatable))},"DsDynamicListComponent_Template"),directives:[_angular_forms__WEBPACK_IMPORTED_MODULE_8__.JL,_angular_forms__WEBPACK_IMPORTED_MODULE_8__.sg,_angular_common__WEBPACK_IMPORTED_MODULE_9__.O5,_angular_forms__WEBPACK_IMPORTED_MODULE_8__.x0,_angular_common__WEBPACK_IMPORTED_MODULE_9__.mk,_angular_common__WEBPACK_IMPORTED_MODULE_9__.sg,_angular_forms__WEBPACK_IMPORTED_MODULE_8__.Wl,_angular_forms__WEBPACK_IMPORTED_MODULE_8__.Zs,_angular_forms__WEBPACK_IMPORTED_MODULE_8__.JJ,_angular_forms__WEBPACK_IMPORTED_MODULE_8__.u],styles:[""]})},21650:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{G:()=>DsDynamicLookupComponent});var _angular_core__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(5e3),rxjs__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__(76477),rxjs_operators__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__(83292),_core_submission_vocabularies_vocabulary_service__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(49566),_empty_util__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(24702),_core_shared_page_info_model__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(62713),_models_form_field_metadata_value_model__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(7973),_core_submission_vocabularies_models_vocabulary_entry_model__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(58140),_dynamic_lookup_name_model__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(16125),_core_data_paginated_list_model__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(24789),_core_shared_operators__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(13730),_dynamic_vocabulary_component__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(10362),_ng_dynamic_forms_core__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__(87098),_ng_bootstrap_ng_bootstrap__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__(13707),_authority_confidence_authority_confidence_state_directive__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(30735),_angular_forms__WEBPACK_IMPORTED_MODULE_17__=__webpack_require__(93075),_angular_common__WEBPACK_IMPORTED_MODULE_18__=__webpack_require__(69808),ngx_infinite_scroll__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(76554),_ngx_translate_core__WEBPACK_IMPORTED_MODULE_19__=__webpack_require__(42466),_utils_object_ngfor_pipe__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(43928);const _c0=__name(function(){return{}},"_c0");function DsDynamicLookupComponent_div_7_Template(rf,ctx){if(1&rf){const _r13=_angular_core__WEBPACK_IMPORTED_MODULE_11__.EpF();_angular_core__WEBPACK_IMPORTED_MODULE_11__.TgZ(0,"div",17)(1,"input",18),_angular_core__WEBPACK_IMPORTED_MODULE_11__.NdJ("ngModelChange",__name(function($event){_angular_core__WEBPACK_IMPORTED_MODULE_11__.CHM(_r13);return _angular_core__WEBPACK_IMPORTED_MODULE_11__.oxw().secondInputValue=$event},"DsDynamicLookupComponent_div_7_Template_input_ngModelChange_1_listener"))("change",__name(function($event){return _angular_core__WEBPACK_IMPORTED_MODULE_11__.CHM(_r13),_angular_core__WEBPACK_IMPORTED_MODULE_11__.oxw().onChange($event)},"DsDynamicLookupComponent_div_7_Template_input_change_1_listener"))("blur",__name(function($event){_angular_core__WEBPACK_IMPORTED_MODULE_11__.CHM(_r13);const ctx_r15=_angular_core__WEBPACK_IMPORTED_MODULE_11__.oxw(),_r0=_angular_core__WEBPACK_IMPORTED_MODULE_11__.MAs(1);return ctx_r15.onBlur($event),$event.stopPropagation(),_r0.close()},"DsDynamicLookupComponent_div_7_Template_input_blur_1_listener"))("focus",__name(function($event){_angular_core__WEBPACK_IMPORTED_MODULE_11__.CHM(_r13);const ctx_r16=_angular_core__WEBPACK_IMPORTED_MODULE_11__.oxw(),_r0=_angular_core__WEBPACK_IMPORTED_MODULE_11__.MAs(1);return ctx_r16.onFocus($event),$event.stopPropagation(),_r0.close()},"DsDynamicLookupComponent_div_7_Template_input_focus_1_listener"))("click",__name(function($event){_angular_core__WEBPACK_IMPORTED_MODULE_11__.CHM(_r13),_angular_core__WEBPACK_IMPORTED_MODULE_11__.oxw();const _r0=_angular_core__WEBPACK_IMPORTED_MODULE_11__.MAs(1);return $event.stopPropagation(),_r0.close()},"DsDynamicLookupComponent_div_7_Template_input_click_1_listener")),_angular_core__WEBPACK_IMPORTED_MODULE_11__.ALo(2,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_11__.qZA()()}if(2&rf){const ctx_r1=_angular_core__WEBPACK_IMPORTED_MODULE_11__.oxw();_angular_core__WEBPACK_IMPORTED_MODULE_11__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_11__.ekj("is-invalid",ctx_r1.showErrorMessages),_angular_core__WEBPACK_IMPORTED_MODULE_11__.Q6J("ngClass",_angular_core__WEBPACK_IMPORTED_MODULE_11__.DdM(14,_c0))("id",ctx_r1.id)("name",ctx_r1.model.name+"_2")("type",ctx_r1.model.inputType)("ngModel",ctx_r1.secondInputValue)("disabled",0===ctx_r1.firstInputValue.length||ctx_r1.isInputDisabled())("placeholder",_angular_core__WEBPACK_IMPORTED_MODULE_11__.lcZ(2,12,ctx_r1.model.secondPlaceholder))("readonly",ctx_r1.model.readOnly),_angular_core__WEBPACK_IMPORTED_MODULE_11__.uIk("aria-labelledby","label_"+ctx_r1.model.id)("autoComplete",ctx_r1.model.autoComplete)}}function DsDynamicLookupComponent_button_13_Template(rf,ctx){if(1&rf){const _r19=_angular_core__WEBPACK_IMPORTED_MODULE_11__.EpF();_angular_core__WEBPACK_IMPORTED_MODULE_11__.TgZ(0,"button",19),_angular_core__WEBPACK_IMPORTED_MODULE_11__.NdJ("click",__name(function(){return _angular_core__WEBPACK_IMPORTED_MODULE_11__.CHM(_r19),_angular_core__WEBPACK_IMPORTED_MODULE_11__.oxw().remove()},"DsDynamicLookupComponent_button_13_Template_button_click_0_listener")),_angular_core__WEBPACK_IMPORTED_MODULE_11__.ALo(1,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_11__._uU(2),_angular_core__WEBPACK_IMPORTED_MODULE_11__.ALo(3,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_11__.qZA()}if(2&rf){const ctx_r2=_angular_core__WEBPACK_IMPORTED_MODULE_11__.oxw();_angular_core__WEBPACK_IMPORTED_MODULE_11__.s9C("ngbTooltip",_angular_core__WEBPACK_IMPORTED_MODULE_11__.lcZ(1,3,"form.clear-help")),_angular_core__WEBPACK_IMPORTED_MODULE_11__.Q6J("disabled",ctx_r2.model.readOnly),_angular_core__WEBPACK_IMPORTED_MODULE_11__.xp6(2),_angular_core__WEBPACK_IMPORTED_MODULE_11__.hij("",_angular_core__WEBPACK_IMPORTED_MODULE_11__.lcZ(3,5,"form.clear")," ")}}function DsDynamicLookupComponent_button_15_Template(rf,ctx){if(1&rf){const _r21=_angular_core__WEBPACK_IMPORTED_MODULE_11__.EpF();_angular_core__WEBPACK_IMPORTED_MODULE_11__.TgZ(0,"button",19),_angular_core__WEBPACK_IMPORTED_MODULE_11__.NdJ("click",__name(function(){return _angular_core__WEBPACK_IMPORTED_MODULE_11__.CHM(_r21),_angular_core__WEBPACK_IMPORTED_MODULE_11__.oxw().switchEditMode()},"DsDynamicLookupComponent_button_15_Template_button_click_0_listener")),_angular_core__WEBPACK_IMPORTED_MODULE_11__.ALo(1,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_11__._uU(2),_angular_core__WEBPACK_IMPORTED_MODULE_11__.ALo(3,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_11__.qZA()}if(2&rf){const ctx_r3=_angular_core__WEBPACK_IMPORTED_MODULE_11__.oxw();_angular_core__WEBPACK_IMPORTED_MODULE_11__.s9C("ngbTooltip",_angular_core__WEBPACK_IMPORTED_MODULE_11__.lcZ(1,3,"form.edit-help")),_angular_core__WEBPACK_IMPORTED_MODULE_11__.Q6J("disabled",ctx_r3.isEditDisabled()),_angular_core__WEBPACK_IMPORTED_MODULE_11__.xp6(2),_angular_core__WEBPACK_IMPORTED_MODULE_11__.hij("",_angular_core__WEBPACK_IMPORTED_MODULE_11__.lcZ(3,5,"form.edit")," ")}}function DsDynamicLookupComponent_button_16_Template(rf,ctx){if(1&rf){const _r23=_angular_core__WEBPACK_IMPORTED_MODULE_11__.EpF();_angular_core__WEBPACK_IMPORTED_MODULE_11__.TgZ(0,"button",19),_angular_core__WEBPACK_IMPORTED_MODULE_11__.NdJ("click",__name(function(){return _angular_core__WEBPACK_IMPORTED_MODULE_11__.CHM(_r23),_angular_core__WEBPACK_IMPORTED_MODULE_11__.oxw().saveChanges()},"DsDynamicLookupComponent_button_16_Template_button_click_0_listener")),_angular_core__WEBPACK_IMPORTED_MODULE_11__.ALo(1,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_11__._uU(2),_angular_core__WEBPACK_IMPORTED_MODULE_11__.ALo(3,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_11__.qZA()}if(2&rf){const ctx_r4=_angular_core__WEBPACK_IMPORTED_MODULE_11__.oxw();_angular_core__WEBPACK_IMPORTED_MODULE_11__.s9C("ngbTooltip",_angular_core__WEBPACK_IMPORTED_MODULE_11__.lcZ(1,3,"form.save-help")),_angular_core__WEBPACK_IMPORTED_MODULE_11__.Q6J("disabled",!ctx_r4.hasEmptyValue()),_angular_core__WEBPACK_IMPORTED_MODULE_11__.xp6(2),_angular_core__WEBPACK_IMPORTED_MODULE_11__.hij("",_angular_core__WEBPACK_IMPORTED_MODULE_11__.lcZ(3,5,"form.save")," ")}}function DsDynamicLookupComponent_button_19_Template(rf,ctx){if(1&rf){const _r25=_angular_core__WEBPACK_IMPORTED_MODULE_11__.EpF();_angular_core__WEBPACK_IMPORTED_MODULE_11__.TgZ(0,"button",20),_angular_core__WEBPACK_IMPORTED_MODULE_11__.NdJ("click",__name(function($event){_angular_core__WEBPACK_IMPORTED_MODULE_11__.CHM(_r25);const ctx_r24=_angular_core__WEBPACK_IMPORTED_MODULE_11__.oxw(),_r0=_angular_core__WEBPACK_IMPORTED_MODULE_11__.MAs(1);return $event.stopPropagation(),ctx_r24.clearFields(),_r0.close()},"DsDynamicLookupComponent_button_19_Template_button_click_0_listener")),_angular_core__WEBPACK_IMPORTED_MODULE_11__._uU(1),_angular_core__WEBPACK_IMPORTED_MODULE_11__.ALo(2,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_11__.qZA()}2&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_11__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_11__.hij("",_angular_core__WEBPACK_IMPORTED_MODULE_11__.lcZ(2,1,"form.no-results")," "))}__name(DsDynamicLookupComponent_div_7_Template,"DsDynamicLookupComponent_div_7_Template"),__name(DsDynamicLookupComponent_button_13_Template,"DsDynamicLookupComponent_button_13_Template"),__name(DsDynamicLookupComponent_button_15_Template,"DsDynamicLookupComponent_button_15_Template"),__name(DsDynamicLookupComponent_button_16_Template,"DsDynamicLookupComponent_button_16_Template"),__name(DsDynamicLookupComponent_button_19_Template,"DsDynamicLookupComponent_button_19_Template");const _c1=__name(function(a0){return{entry:a0}},"_c1");function DsDynamicLookupComponent_button_20_Template(rf,ctx){if(1&rf){const _r28=_angular_core__WEBPACK_IMPORTED_MODULE_11__.EpF();_angular_core__WEBPACK_IMPORTED_MODULE_11__.TgZ(0,"button",21),_angular_core__WEBPACK_IMPORTED_MODULE_11__.NdJ("click",__name(function($event){const listEntry_r26=_angular_core__WEBPACK_IMPORTED_MODULE_11__.CHM(_r28).$implicit,ctx_r27=_angular_core__WEBPACK_IMPORTED_MODULE_11__.oxw(),_r0=_angular_core__WEBPACK_IMPORTED_MODULE_11__.MAs(1);return $event.stopPropagation(),ctx_r27.onSelect(listEntry_r26),_r0.close()},"DsDynamicLookupComponent_button_20_Template_button_click_0_listener")),_angular_core__WEBPACK_IMPORTED_MODULE_11__.GkF(1,22),_angular_core__WEBPACK_IMPORTED_MODULE_11__.qZA()}if(2&rf){const listEntry_r26=ctx.$implicit;_angular_core__WEBPACK_IMPORTED_MODULE_11__.oxw();const _r8=_angular_core__WEBPACK_IMPORTED_MODULE_11__.MAs(23),_r10=_angular_core__WEBPACK_IMPORTED_MODULE_11__.MAs(25);_angular_core__WEBPACK_IMPORTED_MODULE_11__.s9C("title",listEntry_r26.display),_angular_core__WEBPACK_IMPORTED_MODULE_11__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_11__.Q6J("ngTemplateOutlet",listEntry_r26.hasOtherInformation()?_r8:_r10)("ngTemplateOutletContext",_angular_core__WEBPACK_IMPORTED_MODULE_11__.VKq(3,_c1,listEntry_r26))}}function DsDynamicLookupComponent_div_21_Template(rf,ctx){1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_11__.TgZ(0,"div",23)(1,"p"),_angular_core__WEBPACK_IMPORTED_MODULE_11__._uU(2),_angular_core__WEBPACK_IMPORTED_MODULE_11__.ALo(3,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_11__.qZA()()),2&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_11__.xp6(2),_angular_core__WEBPACK_IMPORTED_MODULE_11__.Oqu(_angular_core__WEBPACK_IMPORTED_MODULE_11__.lcZ(3,1,"form.loading")))}function DsDynamicLookupComponent_ng_template_22_li_3_Template(rf,ctx){if(1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_11__.TgZ(0,"li",27),_angular_core__WEBPACK_IMPORTED_MODULE_11__._uU(1),_angular_core__WEBPACK_IMPORTED_MODULE_11__.ALo(2,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_11__.qZA()),2&rf){const item_r31=ctx.$implicit;_angular_core__WEBPACK_IMPORTED_MODULE_11__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_11__.AsE(" ",_angular_core__WEBPACK_IMPORTED_MODULE_11__.lcZ(2,2,"form.other-information."+item_r31.key)," : ",item_r31.value," ")}}function DsDynamicLookupComponent_ng_template_22_Template(rf,ctx){if(1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_11__.TgZ(0,"ul",24)(1,"li",25),_angular_core__WEBPACK_IMPORTED_MODULE_11__._uU(2),_angular_core__WEBPACK_IMPORTED_MODULE_11__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_11__.YNc(3,DsDynamicLookupComponent_ng_template_22_li_3_Template,3,4,"li",26),_angular_core__WEBPACK_IMPORTED_MODULE_11__.ALo(4,"dsObjNgFor"),_angular_core__WEBPACK_IMPORTED_MODULE_11__.qZA()),2&rf){const entry_r29=ctx.entry,ctx_r9=_angular_core__WEBPACK_IMPORTED_MODULE_11__.oxw();_angular_core__WEBPACK_IMPORTED_MODULE_11__.uIk("aria-labelledby","label_"+ctx_r9.model.id),_angular_core__WEBPACK_IMPORTED_MODULE_11__.xp6(2),_angular_core__WEBPACK_IMPORTED_MODULE_11__.Oqu(entry_r29.value),_angular_core__WEBPACK_IMPORTED_MODULE_11__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_11__.Q6J("ngForOf",_angular_core__WEBPACK_IMPORTED_MODULE_11__.lcZ(4,3,entry_r29.otherInformation))}}function DsDynamicLookupComponent_ng_template_24_Template(rf,ctx){if(1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_11__.TgZ(0,"ul",24)(1,"li",25),_angular_core__WEBPACK_IMPORTED_MODULE_11__._uU(2),_angular_core__WEBPACK_IMPORTED_MODULE_11__.qZA()()),2&rf){const entry_r32=ctx.entry,ctx_r11=_angular_core__WEBPACK_IMPORTED_MODULE_11__.oxw();_angular_core__WEBPACK_IMPORTED_MODULE_11__.uIk("aria-labelledby","label_"+ctx_r11.model.id),_angular_core__WEBPACK_IMPORTED_MODULE_11__.xp6(2),_angular_core__WEBPACK_IMPORTED_MODULE_11__.Oqu(entry_r32.value)}}__name(DsDynamicLookupComponent_button_20_Template,"DsDynamicLookupComponent_button_20_Template"),__name(DsDynamicLookupComponent_div_21_Template,"DsDynamicLookupComponent_div_21_Template"),__name(DsDynamicLookupComponent_ng_template_22_li_3_Template,"DsDynamicLookupComponent_ng_template_22_li_3_Template"),__name(DsDynamicLookupComponent_ng_template_22_Template,"DsDynamicLookupComponent_ng_template_22_Template"),__name(DsDynamicLookupComponent_ng_template_24_Template,"DsDynamicLookupComponent_ng_template_24_Template");class DsDynamicLookupComponent extends _dynamic_vocabulary_component__WEBPACK_IMPORTED_MODULE_7__.m{constructor(vocabularyService,cdr,layoutService,validationService){super(vocabularyService,layoutService,validationService),this.vocabularyService=vocabularyService,this.cdr=cdr,this.layoutService=layoutService,this.validationService=validationService,this.blur=new _angular_core__WEBPACK_IMPORTED_MODULE_11__.vpe,this.change=new _angular_core__WEBPACK_IMPORTED_MODULE_11__.vpe,this.focus=new _angular_core__WEBPACK_IMPORTED_MODULE_11__.vpe,this.editMode=!1,this.firstInputValue="",this.secondInputValue="",this.loading=!1,this.subs=[],this.inputFormatter=(x,y)=>1===y?this.firstInputValue:this.secondInputValue}ngOnInit(){(0,_empty_util__WEBPACK_IMPORTED_MODULE_12__.UE)(this.model.value)&&this.setCurrentValue(this.model.value,!0),this.subs.push(this.model.valueChanges.subscribe(value=>{(0,_empty_util__WEBPACK_IMPORTED_MODULE_12__.xb)(value)?this.resetFields():this.editMode||this.setCurrentValue(this.model.value)}))}hasAuthorityValue(){return(0,_empty_util__WEBPACK_IMPORTED_MODULE_12__.Uh)(this.model.value)&&"object"==typeof this.model.value&&this.model.value.hasAuthority()}hasEmptyValue(){return(0,_empty_util__WEBPACK_IMPORTED_MODULE_12__.UE)(this.getCurrentValue())}clearFields(){this.model.vocabularyOptions.closed&&this.resetFields()}isEditDisabled(){return!this.hasAuthorityValue()}isInputDisabled(){return this.model.vocabularyOptions.closed&&this.hasAuthorityValue()&&!this.editMode}isLookupName(){return this.model instanceof _dynamic_lookup_name_model__WEBPACK_IMPORTED_MODULE_4__.z}isSearchDisabled(){return(0,_empty_util__WEBPACK_IMPORTED_MODULE_12__.xb)(this.firstInputValue)||this.editMode}onChange(event2){if(event2.preventDefault(),!this.model.vocabularyOptions.closed)if((0,_empty_util__WEBPACK_IMPORTED_MODULE_12__.UE)(this.getCurrentValue())){const currentValue=new _models_form_field_metadata_value_model__WEBPACK_IMPORTED_MODULE_2__.u(this.getCurrentValue());this.editMode||this.updateModel(currentValue)}else this.remove()}onScroll(){!this.loading&&this.pageInfo.currentPage<=this.pageInfo.totalPages&&(this.updatePageInfo(this.pageInfo.elementsPerPage,this.pageInfo.currentPage+1,this.pageInfo.totalElements,this.pageInfo.totalPages),this.search())}onSelect(event2){this.updateModel(event2)}openChange(isOpened){isOpened||this.model.vocabularyOptions.closed&&!this.hasAuthorityValue()&&this.setCurrentValue("")}remove(){this.group.markAsPristine(),this.dispatchUpdate(null)}saveChanges(){if((0,_empty_util__WEBPACK_IMPORTED_MODULE_12__.UE)(this.getCurrentValue())){const newValue=Object.assign(new _core_submission_vocabularies_models_vocabulary_entry_model__WEBPACK_IMPORTED_MODULE_3__.j,this.model.value,{display:this.getCurrentValue(),value:this.getCurrentValue()});this.updateModel(newValue)}else this.remove();this.switchEditMode()}search(){this.optionsList=null,this.updatePageInfo(this.model.maxOptions,1),this.loading=!0,this.subs.push(this.vocabularyService.getVocabularyEntriesByValue(this.getCurrentValue(),!1,this.model.vocabularyOptions,this.pageInfo).pipe((0,_core_shared_operators__WEBPACK_IMPORTED_MODULE_6__.Gp)(),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_13__.KQ)(()=>(0,rxjs__WEBPACK_IMPORTED_MODULE_14__.of)((0,_core_data_paginated_list_model__WEBPACK_IMPORTED_MODULE_5__.b)(new _core_shared_page_info_model__WEBPACK_IMPORTED_MODULE_1__.S,[]))),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_13__.xb)()).subscribe(list=>{this.optionsList=list.page,this.updatePageInfo(list.pageInfo.elementsPerPage,list.pageInfo.currentPage,list.pageInfo.totalElements,list.pageInfo.totalPages),this.loading=!1,this.cdr.detectChanges()}))}switchEditMode(){this.editMode=!this.editMode}whenClickOnConfidenceNotAccepted(sdRef,confidence){this.model.readOnly||(sdRef.open(),this.search())}ngOnDestroy(){this.subs.filter(sub=>(0,_empty_util__WEBPACK_IMPORTED_MODULE_12__.Uh)(sub)).forEach(sub=>sub.unsubscribe())}setCurrentValue(value,init=!1){init?this.getInitValueFromModel().subscribe(formValue=>this.setDisplayInputValue(formValue.display)):(0,_empty_util__WEBPACK_IMPORTED_MODULE_12__.Uh)(value)&&(value instanceof _models_form_field_metadata_value_model__WEBPACK_IMPORTED_MODULE_2__.u||value instanceof _core_submission_vocabularies_models_vocabulary_entry_model__WEBPACK_IMPORTED_MODULE_3__.j)&&this.setDisplayInputValue(value.display)}setDisplayInputValue(displayValue){if((0,_empty_util__WEBPACK_IMPORTED_MODULE_12__.Uh)(displayValue)){if(this.isLookupName()){const values=displayValue.split(this.model.separator);this.firstInputValue=(values[0]||"").trim(),this.secondInputValue=(values[1]||"").trim()}else this.firstInputValue=displayValue||"";this.cdr.detectChanges()}}getCurrentValue(){let result="";return this.isLookupName()?((0,_empty_util__WEBPACK_IMPORTED_MODULE_12__.UE)(this.firstInputValue)&&(result=this.firstInputValue),(0,_empty_util__WEBPACK_IMPORTED_MODULE_12__.UE)(this.secondInputValue)&&(result=(0,_empty_util__WEBPACK_IMPORTED_MODULE_12__.xb)(result)?this.secondInputValue:this.firstInputValue+this.model.separator+" "+this.secondInputValue)):result=this.firstInputValue,result}resetFields(){this.firstInputValue="",this.isLookupName()&&(this.secondInputValue="")}updateModel(value){this.group.markAsDirty(),this.dispatchUpdate(value),this.setCurrentValue(value),this.optionsList=null,this.pageInfo=null}}__name(DsDynamicLookupComponent,"DsDynamicLookupComponent"),DsDynamicLookupComponent.\u0275fac=__name(function(t){return new(t||DsDynamicLookupComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_11__.Y36(_core_submission_vocabularies_vocabulary_service__WEBPACK_IMPORTED_MODULE_0__.c),_angular_core__WEBPACK_IMPORTED_MODULE_11__.Y36(_angular_core__WEBPACK_IMPORTED_MODULE_11__.sBO),_angular_core__WEBPACK_IMPORTED_MODULE_11__.Y36(_ng_dynamic_forms_core__WEBPACK_IMPORTED_MODULE_15__.vnf),_angular_core__WEBPACK_IMPORTED_MODULE_11__.Y36(_ng_dynamic_forms_core__WEBPACK_IMPORTED_MODULE_15__.fhz))},"DsDynamicLookupComponent_Factory"),DsDynamicLookupComponent.\u0275cmp=_angular_core__WEBPACK_IMPORTED_MODULE_11__.Xpm({type:DsDynamicLookupComponent,selectors:[["ds-dynamic-lookup"]],inputs:{group:"group",model:"model"},outputs:{blur:"blur",change:"change",focus:"focus"},features:[_angular_core__WEBPACK_IMPORTED_MODULE_11__.qOj],decls:26,vars:33,consts:[["ngbDropdown","",3,"click","openChange"],["sdRef","ngbDropdown"],[1,"form-row","align-items-center"],[1,"col","right-addon"],["dsAuthorityConfidenceState","","aria-hidden","true",1,"far","fa-circle","fa-2x","fa-fw","position-absolute","mt-1","p-0","pr-2",3,"authorityValue","whenClickOnConfidenceNotAccepted"],[1,"form-control",3,"id","name","type","ngModel","disabled","placeholder","readonly","ngModelChange","change","blur","focus","click"],["class","col",4,"ngIf"],[1,"col-auto","text-center"],["ngbDropdownAnchor","","type","button","placement","top",1,"btn","btn-secondary",3,"ngbTooltip","disabled","hidden","click"],["class","btn btn-secondary","type","button","placement","top",3,"ngbTooltip","disabled","click",4,"ngIf"],["ngbDropdownMenu","","aria-haspopup","true","aria-expanded","false",1,"dropdown-menu","scrollable-dropdown-menu","w-100"],["aria-labelledby","scrollableDropdownMenuButton","infiniteScroll","",1,"scrollable-menu",3,"infiniteScrollDistance","infiniteScrollThrottle","scrollWindow","scrolled"],["class","dropdown-item disabled",3,"click",4,"ngIf"],["class","dropdown-item lookup-item",3,"title","click",4,"ngFor","ngForOf"],["class","scrollable-dropdown-loading text-center",4,"ngIf"],["hasInfo",""],["noInfo",""],[1,"col"],[1,"form-control",3,"ngClass","id","name","type","ngModel","disabled","placeholder","readonly","ngModelChange","change","blur","focus","click"],["type","button","placement","top",1,"btn","btn-secondary",3,"ngbTooltip","disabled","click"],[1,"dropdown-item","disabled",3,"click"],[1,"dropdown-item","lookup-item",3,"title","click"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"scrollable-dropdown-loading","text-center"],[1,"list-unstyled","mb-0"],[1,"list-item","text-truncate","text-primary","font-weight-bold"],["class","list-item text-truncate text-secondary",4,"ngFor","ngForOf"],[1,"list-item","text-truncate","text-secondary"]],template:__name(function(rf,ctx){if(1&rf){const _r33=_angular_core__WEBPACK_IMPORTED_MODULE_11__.EpF();_angular_core__WEBPACK_IMPORTED_MODULE_11__.TgZ(0,"div",0,1),_angular_core__WEBPACK_IMPORTED_MODULE_11__.NdJ("click",__name(function($event){return $event.stopPropagation()},"DsDynamicLookupComponent_Template_div_click_0_listener"))("openChange",__name(function($event){return ctx.openChange($event)},"DsDynamicLookupComponent_Template_div_openChange_0_listener")),_angular_core__WEBPACK_IMPORTED_MODULE_11__.TgZ(2,"div",2)(3,"div",3)(4,"i",4),_angular_core__WEBPACK_IMPORTED_MODULE_11__.NdJ("whenClickOnConfidenceNotAccepted",__name(function($event){_angular_core__WEBPACK_IMPORTED_MODULE_11__.CHM(_r33);const _r0=_angular_core__WEBPACK_IMPORTED_MODULE_11__.MAs(1);return ctx.whenClickOnConfidenceNotAccepted(_r0,$event)},"DsDynamicLookupComponent_Template_i_whenClickOnConfidenceNotAccepted_4_listener")),_angular_core__WEBPACK_IMPORTED_MODULE_11__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_11__.TgZ(5,"input",5),_angular_core__WEBPACK_IMPORTED_MODULE_11__.NdJ("ngModelChange",__name(function($event){return ctx.firstInputValue=$event},"DsDynamicLookupComponent_Template_input_ngModelChange_5_listener"))("change",__name(function($event){return ctx.onChange($event)},"DsDynamicLookupComponent_Template_input_change_5_listener"))("blur",__name(function($event){_angular_core__WEBPACK_IMPORTED_MODULE_11__.CHM(_r33);const _r0=_angular_core__WEBPACK_IMPORTED_MODULE_11__.MAs(1);return ctx.onBlur($event),$event.stopPropagation(),_r0.close()},"DsDynamicLookupComponent_Template_input_blur_5_listener"))("focus",__name(function($event){_angular_core__WEBPACK_IMPORTED_MODULE_11__.CHM(_r33);const _r0=_angular_core__WEBPACK_IMPORTED_MODULE_11__.MAs(1);return ctx.onFocus($event),$event.stopPropagation(),_r0.close()},"DsDynamicLookupComponent_Template_input_focus_5_listener"))("click",__name(function($event){_angular_core__WEBPACK_IMPORTED_MODULE_11__.CHM(_r33);const _r0=_angular_core__WEBPACK_IMPORTED_MODULE_11__.MAs(1);return $event.stopPropagation(),$event.stopPropagation(),_r0.close()},"DsDynamicLookupComponent_Template_input_click_5_listener")),_angular_core__WEBPACK_IMPORTED_MODULE_11__.ALo(6,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_11__.qZA()(),_angular_core__WEBPACK_IMPORTED_MODULE_11__.YNc(7,DsDynamicLookupComponent_div_7_Template,3,15,"div",6),_angular_core__WEBPACK_IMPORTED_MODULE_11__.TgZ(8,"div",7)(9,"button",8),_angular_core__WEBPACK_IMPORTED_MODULE_11__.NdJ("click",__name(function($event){return _angular_core__WEBPACK_IMPORTED_MODULE_11__.CHM(_r33),_angular_core__WEBPACK_IMPORTED_MODULE_11__.MAs(1).open(),ctx.search(),$event.stopPropagation()},"DsDynamicLookupComponent_Template_button_click_9_listener")),_angular_core__WEBPACK_IMPORTED_MODULE_11__.ALo(10,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_11__._uU(11),_angular_core__WEBPACK_IMPORTED_MODULE_11__.ALo(12,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_11__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_11__.YNc(13,DsDynamicLookupComponent_button_13_Template,4,7,"button",9),_angular_core__WEBPACK_IMPORTED_MODULE_11__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_11__.TgZ(14,"div",7),_angular_core__WEBPACK_IMPORTED_MODULE_11__.YNc(15,DsDynamicLookupComponent_button_15_Template,4,7,"button",9),_angular_core__WEBPACK_IMPORTED_MODULE_11__.YNc(16,DsDynamicLookupComponent_button_16_Template,4,7,"button",9),_angular_core__WEBPACK_IMPORTED_MODULE_11__.qZA()(),_angular_core__WEBPACK_IMPORTED_MODULE_11__.TgZ(17,"div",10)(18,"div",11),_angular_core__WEBPACK_IMPORTED_MODULE_11__.NdJ("scrolled",__name(function(){return ctx.onScroll()},"DsDynamicLookupComponent_Template_div_scrolled_18_listener")),_angular_core__WEBPACK_IMPORTED_MODULE_11__.YNc(19,DsDynamicLookupComponent_button_19_Template,3,3,"button",12),_angular_core__WEBPACK_IMPORTED_MODULE_11__.YNc(20,DsDynamicLookupComponent_button_20_Template,2,5,"button",13),_angular_core__WEBPACK_IMPORTED_MODULE_11__.YNc(21,DsDynamicLookupComponent_div_21_Template,4,3,"div",14),_angular_core__WEBPACK_IMPORTED_MODULE_11__.qZA()()(),_angular_core__WEBPACK_IMPORTED_MODULE_11__.YNc(22,DsDynamicLookupComponent_ng_template_22_Template,5,5,"ng-template",null,15,_angular_core__WEBPACK_IMPORTED_MODULE_11__.W1O),_angular_core__WEBPACK_IMPORTED_MODULE_11__.YNc(24,DsDynamicLookupComponent_ng_template_24_Template,3,2,"ng-template",null,16,_angular_core__WEBPACK_IMPORTED_MODULE_11__.W1O)}2&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_11__.xp6(4),_angular_core__WEBPACK_IMPORTED_MODULE_11__.Q6J("authorityValue",ctx.model.value),_angular_core__WEBPACK_IMPORTED_MODULE_11__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_11__.ekj("is-invalid",ctx.showErrorMessages),_angular_core__WEBPACK_IMPORTED_MODULE_11__.Q6J("id",ctx.model.id)("name",ctx.model.name)("type",ctx.model.inputType)("ngModel",ctx.firstInputValue)("disabled",ctx.isInputDisabled())("placeholder",_angular_core__WEBPACK_IMPORTED_MODULE_11__.lcZ(6,27,ctx.model.placeholder))("readonly",ctx.model.readOnly),_angular_core__WEBPACK_IMPORTED_MODULE_11__.uIk("aria-labelledby","label_"+ctx.model.id)("autoComplete",ctx.model.autoComplete),_angular_core__WEBPACK_IMPORTED_MODULE_11__.xp6(2),_angular_core__WEBPACK_IMPORTED_MODULE_11__.Q6J("ngIf",ctx.isLookupName()),_angular_core__WEBPACK_IMPORTED_MODULE_11__.xp6(2),_angular_core__WEBPACK_IMPORTED_MODULE_11__.s9C("ngbTooltip",_angular_core__WEBPACK_IMPORTED_MODULE_11__.lcZ(10,29,"form.search-help")),_angular_core__WEBPACK_IMPORTED_MODULE_11__.Q6J("disabled",ctx.model.readOnly||ctx.isSearchDisabled())("hidden",ctx.isInputDisabled()),_angular_core__WEBPACK_IMPORTED_MODULE_11__.xp6(2),_angular_core__WEBPACK_IMPORTED_MODULE_11__.hij("",_angular_core__WEBPACK_IMPORTED_MODULE_11__.lcZ(12,31,"form.search")," "),_angular_core__WEBPACK_IMPORTED_MODULE_11__.xp6(2),_angular_core__WEBPACK_IMPORTED_MODULE_11__.Q6J("ngIf",ctx.isInputDisabled()),_angular_core__WEBPACK_IMPORTED_MODULE_11__.xp6(2),_angular_core__WEBPACK_IMPORTED_MODULE_11__.Q6J("ngIf",!ctx.editMode),_angular_core__WEBPACK_IMPORTED_MODULE_11__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_11__.Q6J("ngIf",ctx.editMode),_angular_core__WEBPACK_IMPORTED_MODULE_11__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_11__.uIk("aria-labelledby","label_"+ctx.model.id),_angular_core__WEBPACK_IMPORTED_MODULE_11__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_11__.Q6J("infiniteScrollDistance",2)("infiniteScrollThrottle",50)("scrollWindow",!1),_angular_core__WEBPACK_IMPORTED_MODULE_11__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_11__.Q6J("ngIf",ctx.optionsList&&0==ctx.optionsList.length),_angular_core__WEBPACK_IMPORTED_MODULE_11__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_11__.Q6J("ngForOf",ctx.optionsList),_angular_core__WEBPACK_IMPORTED_MODULE_11__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_11__.Q6J("ngIf",ctx.loading))},"DsDynamicLookupComponent_Template"),directives:[_ng_bootstrap_ng_bootstrap__WEBPACK_IMPORTED_MODULE_16__.jt,_authority_confidence_authority_confidence_state_directive__WEBPACK_IMPORTED_MODULE_8__.e,_angular_forms__WEBPACK_IMPORTED_MODULE_17__.Fj,_angular_forms__WEBPACK_IMPORTED_MODULE_17__.JJ,_angular_forms__WEBPACK_IMPORTED_MODULE_17__.On,_angular_common__WEBPACK_IMPORTED_MODULE_18__.O5,_angular_common__WEBPACK_IMPORTED_MODULE_18__.mk,_ng_bootstrap_ng_bootstrap__WEBPACK_IMPORTED_MODULE_16__.YE,_ng_bootstrap_ng_bootstrap__WEBPACK_IMPORTED_MODULE_16__._L,_ng_bootstrap_ng_bootstrap__WEBPACK_IMPORTED_MODULE_16__.Vi,ngx_infinite_scroll__WEBPACK_IMPORTED_MODULE_9__.R,_angular_common__WEBPACK_IMPORTED_MODULE_18__.sg,_angular_common__WEBPACK_IMPORTED_MODULE_18__.tP],pipes:[_ngx_translate_core__WEBPACK_IMPORTED_MODULE_19__.X$,_utils_object_ngfor_pipe__WEBPACK_IMPORTED_MODULE_10__.C],styles:[".dropdown-toggle[_ngcontent-%COMP%]:after{display:none}[_nghost-%COMP%]     .dropdown-menu{left:0!important;width:100%!important;max-height:var(--ds-dropdown-menu-max-height);overflow-y:auto!important;overflow-x:hidden}[_nghost-%COMP%]     .dropdown-item.active, [_nghost-%COMP%]     .dropdown-item:active, [_nghost-%COMP%]     .dropdown-item:focus, [_nghost-%COMP%]     .dropdown-item:hover{color:var(--bs-dropdown-link-hover-color)!important;background-color:var(--bs-dropdown-link-hover-bg)!important}div[_ngcontent-%COMP%]{overflow:visible}.lookup-item[_ngcontent-%COMP%]{border-bottom:var(--bs-dropdown-border-width) solid var(--bs-dropdown-border-color)}"]})},86471:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{r:()=>DsDynamicOneboxComponent});var _angular_core__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(5e3),rxjs_operators__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(83292),rxjs__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(76477),_core_submission_vocabularies_vocabulary_service__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(49566),_empty_util__WEBPACK_IMPORTED_MODULE_13__=(__webpack_require__(37548),__webpack_require__(24702)),_models_form_field_metadata_value_model__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(7973),_core_shared_operators__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(13730),_core_data_paginated_list_model__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(24789),_core_shared_page_info_model__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(62713),_dynamic_vocabulary_component__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(10362),_vocabulary_treeview_vocabulary_treeview_component__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(66077),_ng_dynamic_forms_core__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__(87098),_ng_bootstrap_ng_bootstrap__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__(13707),_angular_common__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__(69808),_authority_confidence_authority_confidence_state_directive__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(30735),_angular_forms__WEBPACK_IMPORTED_MODULE_17__=__webpack_require__(93075),_utils_object_ngfor_pipe__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(43928),_ngx_translate_core__WEBPACK_IMPORTED_MODULE_18__=__webpack_require__(42466);const _c0=["instance"],_c1=__name(function(a0){return{entry:a0}},"_c1");function DsDynamicOneboxComponent_ng_template_0_Template(rf,ctx){if(1&rf&&_angular_core__WEBPACK_IMPORTED_MODULE_10__.GkF(0,4),2&rf){const listEntry_r8=ctx.result;_angular_core__WEBPACK_IMPORTED_MODULE_10__.oxw();const _r2=_angular_core__WEBPACK_IMPORTED_MODULE_10__.MAs(3),_r4=_angular_core__WEBPACK_IMPORTED_MODULE_10__.MAs(5);_angular_core__WEBPACK_IMPORTED_MODULE_10__.Q6J("ngTemplateOutlet",listEntry_r8.hasOtherInformation()?_r2:_r4)("ngTemplateOutletContext",_angular_core__WEBPACK_IMPORTED_MODULE_10__.VKq(2,_c1,listEntry_r8))}}function DsDynamicOneboxComponent_ng_template_2_li_3_Template(rf,ctx){if(1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_10__.TgZ(0,"li",8),_angular_core__WEBPACK_IMPORTED_MODULE_10__._uU(1),_angular_core__WEBPACK_IMPORTED_MODULE_10__.ALo(2,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_10__.qZA()),2&rf){const item_r12=ctx.$implicit;_angular_core__WEBPACK_IMPORTED_MODULE_10__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_10__.AsE(" ",_angular_core__WEBPACK_IMPORTED_MODULE_10__.lcZ(2,2,"form.other-information."+item_r12.key)," : ",item_r12.value," ")}}function DsDynamicOneboxComponent_ng_template_2_Template(rf,ctx){if(1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_10__.TgZ(0,"ul",5)(1,"li",6),_angular_core__WEBPACK_IMPORTED_MODULE_10__._uU(2),_angular_core__WEBPACK_IMPORTED_MODULE_10__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_10__.YNc(3,DsDynamicOneboxComponent_ng_template_2_li_3_Template,3,4,"li",7),_angular_core__WEBPACK_IMPORTED_MODULE_10__.ALo(4,"dsObjNgFor"),_angular_core__WEBPACK_IMPORTED_MODULE_10__.qZA()),2&rf){const entry_r10=ctx.entry;_angular_core__WEBPACK_IMPORTED_MODULE_10__.xp6(2),_angular_core__WEBPACK_IMPORTED_MODULE_10__.Oqu(entry_r10.value),_angular_core__WEBPACK_IMPORTED_MODULE_10__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_10__.Q6J("ngForOf",_angular_core__WEBPACK_IMPORTED_MODULE_10__.lcZ(4,2,entry_r10.otherInformation))}}function DsDynamicOneboxComponent_ng_template_4_Template(rf,ctx){if(1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_10__.TgZ(0,"ul",5)(1,"li",6),_angular_core__WEBPACK_IMPORTED_MODULE_10__._uU(2),_angular_core__WEBPACK_IMPORTED_MODULE_10__.qZA()()),2&rf){const entry_r13=ctx.entry;_angular_core__WEBPACK_IMPORTED_MODULE_10__.xp6(2),_angular_core__WEBPACK_IMPORTED_MODULE_10__.Oqu(entry_r13.value)}}function DsDynamicOneboxComponent_div_6_i_1_Template(rf,ctx){1&rf&&_angular_core__WEBPACK_IMPORTED_MODULE_10__._UZ(0,"i",15)}function DsDynamicOneboxComponent_div_6_i_2_Template(rf,ctx){if(1&rf){const _r19=_angular_core__WEBPACK_IMPORTED_MODULE_10__.EpF();_angular_core__WEBPACK_IMPORTED_MODULE_10__.TgZ(0,"i",16),_angular_core__WEBPACK_IMPORTED_MODULE_10__.NdJ("whenClickOnConfidenceNotAccepted",__name(function($event){return _angular_core__WEBPACK_IMPORTED_MODULE_10__.CHM(_r19),_angular_core__WEBPACK_IMPORTED_MODULE_10__.oxw(2).whenClickOnConfidenceNotAccepted($event)},"DsDynamicOneboxComponent_div_6_i_2_Template_i_whenClickOnConfidenceNotAccepted_0_listener")),_angular_core__WEBPACK_IMPORTED_MODULE_10__.qZA()}if(2&rf){const ctx_r15=_angular_core__WEBPACK_IMPORTED_MODULE_10__.oxw(2);_angular_core__WEBPACK_IMPORTED_MODULE_10__.Q6J("authorityValue",ctx_r15.currentValue)}}function DsDynamicOneboxComponent_div_6_div_5_Template(rf,ctx){1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_10__.TgZ(0,"div",17),_angular_core__WEBPACK_IMPORTED_MODULE_10__._uU(1,"Sorry, suggestions could not be loaded."),_angular_core__WEBPACK_IMPORTED_MODULE_10__.qZA())}function DsDynamicOneboxComponent_div_6_Template(rf,ctx){if(1&rf){const _r21=_angular_core__WEBPACK_IMPORTED_MODULE_10__.EpF();_angular_core__WEBPACK_IMPORTED_MODULE_10__.TgZ(0,"div",9),_angular_core__WEBPACK_IMPORTED_MODULE_10__.YNc(1,DsDynamicOneboxComponent_div_6_i_1_Template,1,0,"i",10),_angular_core__WEBPACK_IMPORTED_MODULE_10__.YNc(2,DsDynamicOneboxComponent_div_6_i_2_Template,1,1,"i",11),_angular_core__WEBPACK_IMPORTED_MODULE_10__.TgZ(3,"input",12,13),_angular_core__WEBPACK_IMPORTED_MODULE_10__.NdJ("ngModelChange",__name(function($event){_angular_core__WEBPACK_IMPORTED_MODULE_10__.CHM(_r21);return _angular_core__WEBPACK_IMPORTED_MODULE_10__.oxw().currentValue=$event},"DsDynamicOneboxComponent_div_6_Template_input_ngModelChange_3_listener"))("blur",__name(function($event){return _angular_core__WEBPACK_IMPORTED_MODULE_10__.CHM(_r21),_angular_core__WEBPACK_IMPORTED_MODULE_10__.oxw().onBlur($event)},"DsDynamicOneboxComponent_div_6_Template_input_blur_3_listener"))("focus",__name(function($event){return _angular_core__WEBPACK_IMPORTED_MODULE_10__.CHM(_r21),_angular_core__WEBPACK_IMPORTED_MODULE_10__.oxw().onFocus($event)},"DsDynamicOneboxComponent_div_6_Template_input_focus_3_listener"))("change",__name(function($event){return _angular_core__WEBPACK_IMPORTED_MODULE_10__.CHM(_r21),_angular_core__WEBPACK_IMPORTED_MODULE_10__.oxw().onChange($event)},"DsDynamicOneboxComponent_div_6_Template_input_change_3_listener"))("input",__name(function($event){return _angular_core__WEBPACK_IMPORTED_MODULE_10__.CHM(_r21),_angular_core__WEBPACK_IMPORTED_MODULE_10__.oxw().onInput($event)},"DsDynamicOneboxComponent_div_6_Template_input_input_3_listener"))("selectItem",__name(function($event){return _angular_core__WEBPACK_IMPORTED_MODULE_10__.CHM(_r21),_angular_core__WEBPACK_IMPORTED_MODULE_10__.oxw().onSelectItem($event)},"DsDynamicOneboxComponent_div_6_Template_input_selectItem_3_listener")),_angular_core__WEBPACK_IMPORTED_MODULE_10__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_10__.YNc(5,DsDynamicOneboxComponent_div_6_div_5_Template,2,0,"div",14),_angular_core__WEBPACK_IMPORTED_MODULE_10__.qZA()}if(2&rf){const ctx_r6=_angular_core__WEBPACK_IMPORTED_MODULE_10__.oxw(),_r0=_angular_core__WEBPACK_IMPORTED_MODULE_10__.MAs(1);_angular_core__WEBPACK_IMPORTED_MODULE_10__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_10__.Q6J("ngIf",ctx_r6.searching),_angular_core__WEBPACK_IMPORTED_MODULE_10__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_10__.Q6J("ngIf",!ctx_r6.searching),_angular_core__WEBPACK_IMPORTED_MODULE_10__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_10__.ekj("is-invalid",ctx_r6.showErrorMessages),_angular_core__WEBPACK_IMPORTED_MODULE_10__.Q6J("id",ctx_r6.model.id)("inputFormatter",ctx_r6.formatter)("name",ctx_r6.model.name)("ngbTypeahead",ctx_r6.search)("placeholder",ctx_r6.model.placeholder)("readonly",ctx_r6.model.readOnly)("resultTemplate",_r0)("type",ctx_r6.model.inputType)("ngModel",ctx_r6.currentValue),_angular_core__WEBPACK_IMPORTED_MODULE_10__.uIk("aria-labelledby","label_"+ctx_r6.model.id)("autoComplete",ctx_r6.model.autoComplete),_angular_core__WEBPACK_IMPORTED_MODULE_10__.xp6(2),_angular_core__WEBPACK_IMPORTED_MODULE_10__.Q6J("ngIf",ctx_r6.searchFailed)}}function DsDynamicOneboxComponent_div_8_Template(rf,ctx){if(1&rf){const _r28=_angular_core__WEBPACK_IMPORTED_MODULE_10__.EpF();_angular_core__WEBPACK_IMPORTED_MODULE_10__.TgZ(0,"div",9)(1,"i",18),_angular_core__WEBPACK_IMPORTED_MODULE_10__.NdJ("click",__name(function($event){return _angular_core__WEBPACK_IMPORTED_MODULE_10__.CHM(_r28),_angular_core__WEBPACK_IMPORTED_MODULE_10__.oxw().openTree($event)},"DsDynamicOneboxComponent_div_8_Template_i_click_1_listener")),_angular_core__WEBPACK_IMPORTED_MODULE_10__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_10__.TgZ(2,"input",19),_angular_core__WEBPACK_IMPORTED_MODULE_10__.NdJ("focus",__name(function($event){return _angular_core__WEBPACK_IMPORTED_MODULE_10__.CHM(_r28),_angular_core__WEBPACK_IMPORTED_MODULE_10__.oxw().onFocus($event)},"DsDynamicOneboxComponent_div_8_Template_input_focus_2_listener"))("change",__name(function($event){return _angular_core__WEBPACK_IMPORTED_MODULE_10__.CHM(_r28),_angular_core__WEBPACK_IMPORTED_MODULE_10__.oxw().onChange($event)},"DsDynamicOneboxComponent_div_8_Template_input_change_2_listener"))("click",__name(function($event){return _angular_core__WEBPACK_IMPORTED_MODULE_10__.CHM(_r28),_angular_core__WEBPACK_IMPORTED_MODULE_10__.oxw().openTree($event)},"DsDynamicOneboxComponent_div_8_Template_input_click_2_listener"))("keydown",__name(function($event){return $event.preventDefault()},"DsDynamicOneboxComponent_div_8_Template_input_keydown_2_listener"))("keypress",__name(function($event){return $event.preventDefault()},"DsDynamicOneboxComponent_div_8_Template_input_keypress_2_listener"))("keyup",__name(function($event){return $event.preventDefault()},"DsDynamicOneboxComponent_div_8_Template_input_keyup_2_listener")),_angular_core__WEBPACK_IMPORTED_MODULE_10__.qZA()()}if(2&rf){const ctx_r7=_angular_core__WEBPACK_IMPORTED_MODULE_10__.oxw();_angular_core__WEBPACK_IMPORTED_MODULE_10__.xp6(2),_angular_core__WEBPACK_IMPORTED_MODULE_10__.ekj("is-invalid",ctx_r7.showErrorMessages)("tree-input",!ctx_r7.model.readOnly),_angular_core__WEBPACK_IMPORTED_MODULE_10__.Q6J("id",ctx_r7.id)("name",ctx_r7.model.name)("placeholder",ctx_r7.model.placeholder)("readonly",!0)("type",ctx_r7.model.inputType)("value",null==ctx_r7.currentValue?null:ctx_r7.currentValue.display),_angular_core__WEBPACK_IMPORTED_MODULE_10__.uIk("aria-labelledby","label_"+ctx_r7.model.id)("autoComplete",ctx_r7.model.autoComplete)}}__name(DsDynamicOneboxComponent_ng_template_0_Template,"DsDynamicOneboxComponent_ng_template_0_Template"),__name(DsDynamicOneboxComponent_ng_template_2_li_3_Template,"DsDynamicOneboxComponent_ng_template_2_li_3_Template"),__name(DsDynamicOneboxComponent_ng_template_2_Template,"DsDynamicOneboxComponent_ng_template_2_Template"),__name(DsDynamicOneboxComponent_ng_template_4_Template,"DsDynamicOneboxComponent_ng_template_4_Template"),__name(DsDynamicOneboxComponent_div_6_i_1_Template,"DsDynamicOneboxComponent_div_6_i_1_Template"),__name(DsDynamicOneboxComponent_div_6_i_2_Template,"DsDynamicOneboxComponent_div_6_i_2_Template"),__name(DsDynamicOneboxComponent_div_6_div_5_Template,"DsDynamicOneboxComponent_div_6_div_5_Template"),__name(DsDynamicOneboxComponent_div_6_Template,"DsDynamicOneboxComponent_div_6_Template"),__name(DsDynamicOneboxComponent_div_8_Template,"DsDynamicOneboxComponent_div_8_Template");class DsDynamicOneboxComponent extends _dynamic_vocabulary_component__WEBPACK_IMPORTED_MODULE_6__.m{constructor(vocabularyService,cdr,layoutService,modalService,validationService){super(vocabularyService,layoutService,validationService),this.vocabularyService=vocabularyService,this.cdr=cdr,this.layoutService=layoutService,this.modalService=modalService,this.validationService=validationService,this.blur=new _angular_core__WEBPACK_IMPORTED_MODULE_10__.vpe,this.change=new _angular_core__WEBPACK_IMPORTED_MODULE_10__.vpe,this.focus=new _angular_core__WEBPACK_IMPORTED_MODULE_10__.vpe,this.pageInfo=new _core_shared_page_info_model__WEBPACK_IMPORTED_MODULE_5__.S,this.searching=!1,this.searchFailed=!1,this.hideSearchingWhenUnsubscribed$=new rxjs__WEBPACK_IMPORTED_MODULE_11__.Observable(()=>()=>this.changeSearchingStatus(!1)),this.click$=new rxjs__WEBPACK_IMPORTED_MODULE_11__.Subject,this.subs=[],this.formatter=x=>"object"==typeof x?x.display:x,this.search=text$=>text$.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_12__.TS)(this.click$),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_12__.bh)(300),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_12__.xb)(),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_12__.bw)(()=>this.changeSearchingStatus(!0)),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_12__.wt)(term=>""===term||term.length<this.model.minChars?(0,rxjs__WEBPACK_IMPORTED_MODULE_11__.of)({list:[]}):this.vocabularyService.getVocabularyEntriesByValue(term,!1,this.model.vocabularyOptions,this.pageInfo).pipe((0,_core_shared_operators__WEBPACK_IMPORTED_MODULE_3__.Gp)(),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_12__.bw)(()=>this.searchFailed=!1),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_12__.KQ)(()=>(this.searchFailed=!0,(0,rxjs__WEBPACK_IMPORTED_MODULE_11__.of)((0,_core_data_paginated_list_model__WEBPACK_IMPORTED_MODULE_4__.b)(new _core_shared_page_info_model__WEBPACK_IMPORTED_MODULE_5__.S,[])))))),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_12__.UI)(list=>list.page),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_12__.bw)(()=>this.changeSearchingStatus(!1)),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_12__.TS)(this.hideSearchingWhenUnsubscribed$))}ngOnInit(){this.model.value&&this.setCurrentValue(this.model.value,!0),this.vocabulary$=this.vocabularyService.findVocabularyById(this.model.vocabularyOptions.name).pipe((0,_core_shared_operators__WEBPACK_IMPORTED_MODULE_3__.Gp)(),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_12__.xb)()),this.isHierarchicalVocabulary$=this.vocabulary$.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_12__.UI)(result=>result.hierarchical)),this.subs.push(this.group.get(this.model.id).valueChanges.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_12__.hX)(value=>this.currentValue!==value)).subscribe(value=>{this.setCurrentValue(this.model.value)}))}changeSearchingStatus(status){this.searching=status,this.cdr.detectChanges()}isHierarchicalVocabulary(){return this.isHierarchicalVocabulary$}onInput(event2){!this.model.vocabularyOptions.closed&&(0,_empty_util__WEBPACK_IMPORTED_MODULE_13__.UE)(event2.target.value)&&(this.inputValue=new _models_form_field_metadata_value_model__WEBPACK_IMPORTED_MODULE_2__.u(event2.target.value))}onBlur(event2){this.instance.isPopupOpen()?(event2.preventDefault(),event2.stopImmediatePropagation(),event2.target.focus()):(!this.model.vocabularyOptions.closed&&(0,_empty_util__WEBPACK_IMPORTED_MODULE_13__.UE)(this.inputValue)&&((0,_empty_util__WEBPACK_IMPORTED_MODULE_13__.K0)(this.inputValue)&&this.model.value!==this.inputValue&&this.dispatchUpdate(this.inputValue),this.inputValue=null),this.blur.emit(event2))}onChange(event2){event2.stopPropagation(),(0,_empty_util__WEBPACK_IMPORTED_MODULE_13__.xb)(this.currentValue)&&this.dispatchUpdate(null)}onSelectItem(event2){this.inputValue=null,this.setCurrentValue(event2.item),this.dispatchUpdate(event2.item)}openTree(event2){event2.preventDefault(),event2.stopImmediatePropagation(),this.subs.push(this.vocabulary$.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_12__.UI)(vocabulary=>vocabulary.preloadLevel),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_12__.qn)(1)).subscribe(preloadLevel=>{const modalRef=this.modalService.open(_vocabulary_treeview_vocabulary_treeview_component__WEBPACK_IMPORTED_MODULE_7__.I,{size:"lg",windowClass:"treeview"});modalRef.componentInstance.vocabularyOptions=this.model.vocabularyOptions,modalRef.componentInstance.preloadLevel=preloadLevel,modalRef.componentInstance.selectedItem=this.currentValue?this.currentValue:"",modalRef.result.then(result=>{result&&(this.currentValue=result,this.dispatchUpdate(result))},()=>{})}))}whenClickOnConfidenceNotAccepted(confidence){this.model.readOnly||this.click$.next(this.formatter(this.currentValue))}setCurrentValue(value,init=!1){let result;init?this.getInitValueFromModel().subscribe(formValue=>{this.currentValue=formValue,this.cdr.detectChanges()}):(result=(0,_empty_util__WEBPACK_IMPORTED_MODULE_13__.xb)(value)?"":value.value,this.currentValue=result,this.cdr.detectChanges())}ngOnDestroy(){this.subs.filter(sub=>(0,_empty_util__WEBPACK_IMPORTED_MODULE_13__.Uh)(sub)).forEach(sub=>sub.unsubscribe())}}__name(DsDynamicOneboxComponent,"DsDynamicOneboxComponent"),DsDynamicOneboxComponent.\u0275fac=__name(function(t){return new(t||DsDynamicOneboxComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_10__.Y36(_core_submission_vocabularies_vocabulary_service__WEBPACK_IMPORTED_MODULE_0__.c),_angular_core__WEBPACK_IMPORTED_MODULE_10__.Y36(_angular_core__WEBPACK_IMPORTED_MODULE_10__.sBO),_angular_core__WEBPACK_IMPORTED_MODULE_10__.Y36(_ng_dynamic_forms_core__WEBPACK_IMPORTED_MODULE_14__.vnf),_angular_core__WEBPACK_IMPORTED_MODULE_10__.Y36(_ng_bootstrap_ng_bootstrap__WEBPACK_IMPORTED_MODULE_15__.FF),_angular_core__WEBPACK_IMPORTED_MODULE_10__.Y36(_ng_dynamic_forms_core__WEBPACK_IMPORTED_MODULE_14__.fhz))},"DsDynamicOneboxComponent_Factory"),DsDynamicOneboxComponent.\u0275cmp=_angular_core__WEBPACK_IMPORTED_MODULE_10__.Xpm({type:DsDynamicOneboxComponent,selectors:[["ds-dynamic-onebox"]],viewQuery:__name(function(rf,ctx){if(1&rf&&_angular_core__WEBPACK_IMPORTED_MODULE_10__.Gf(_c0,5),2&rf){let _t;_angular_core__WEBPACK_IMPORTED_MODULE_10__.iGM(_t=_angular_core__WEBPACK_IMPORTED_MODULE_10__.CRH())&&(ctx.instance=_t.first)}},"DsDynamicOneboxComponent_Query"),inputs:{group:"group",model:"model"},outputs:{blur:"blur",change:"change",focus:"focus"},features:[_angular_core__WEBPACK_IMPORTED_MODULE_10__.qOj],decls:10,vars:6,consts:[["rt",""],["hasInfo",""],["noInfo",""],["class","position-relative right-addon",4,"ngIf"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"list-unstyled","mb-0"],[1,"list-item","text-truncate","text-primary","font-weight-bold"],["class","list-item text-truncate text-secondary",4,"ngFor","ngForOf"],[1,"list-item","text-truncate","text-secondary"],[1,"position-relative","right-addon"],["class","fas fa-circle-notch fa-spin fa-2x fa-fw text-primary position-absolute mt-1 p-0","aria-hidden","true",4,"ngIf"],["dsAuthorityConfidenceState","","class","far fa-circle fa-2x fa-fw position-absolute mt-1 p-0","aria-hidden","true",3,"authorityValue","whenClickOnConfidenceNotAccepted",4,"ngIf"],[1,"form-control",3,"id","inputFormatter","name","ngbTypeahead","placeholder","readonly","resultTemplate","type","ngModel","ngModelChange","blur","focus","change","input","selectItem"],["instance","ngbTypeahead"],["class","invalid-feedback",4,"ngIf"],["aria-hidden","true",1,"fas","fa-circle-notch","fa-spin","fa-2x","fa-fw","text-primary","position-absolute","mt-1","p-0"],["dsAuthorityConfidenceState","","aria-hidden","true",1,"far","fa-circle","fa-2x","fa-fw","position-absolute","mt-1","p-0",3,"authorityValue","whenClickOnConfidenceNotAccepted"],[1,"invalid-feedback"],["aria-hidden","true",1,"dropdown-toggle","position-absolute","tree-toggle",3,"click"],[1,"form-control",3,"id","name","placeholder","readonly","type","value","focus","change","click","keydown","keypress","keyup"]],template:__name(function(rf,ctx){1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_10__.YNc(0,DsDynamicOneboxComponent_ng_template_0_Template,1,4,"ng-template",null,0,_angular_core__WEBPACK_IMPORTED_MODULE_10__.W1O),_angular_core__WEBPACK_IMPORTED_MODULE_10__.YNc(2,DsDynamicOneboxComponent_ng_template_2_Template,5,4,"ng-template",null,1,_angular_core__WEBPACK_IMPORTED_MODULE_10__.W1O),_angular_core__WEBPACK_IMPORTED_MODULE_10__.YNc(4,DsDynamicOneboxComponent_ng_template_4_Template,3,1,"ng-template",null,2,_angular_core__WEBPACK_IMPORTED_MODULE_10__.W1O),_angular_core__WEBPACK_IMPORTED_MODULE_10__.YNc(6,DsDynamicOneboxComponent_div_6_Template,6,16,"div",3),_angular_core__WEBPACK_IMPORTED_MODULE_10__.ALo(7,"async"),_angular_core__WEBPACK_IMPORTED_MODULE_10__.YNc(8,DsDynamicOneboxComponent_div_8_Template,3,12,"div",3),_angular_core__WEBPACK_IMPORTED_MODULE_10__.ALo(9,"async")),2&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_10__.xp6(6),_angular_core__WEBPACK_IMPORTED_MODULE_10__.Q6J("ngIf",!_angular_core__WEBPACK_IMPORTED_MODULE_10__.lcZ(7,2,ctx.isHierarchicalVocabulary())),_angular_core__WEBPACK_IMPORTED_MODULE_10__.xp6(2),_angular_core__WEBPACK_IMPORTED_MODULE_10__.Q6J("ngIf",_angular_core__WEBPACK_IMPORTED_MODULE_10__.lcZ(9,4,ctx.isHierarchicalVocabulary())))},"DsDynamicOneboxComponent_Template"),directives:[_angular_common__WEBPACK_IMPORTED_MODULE_16__.tP,_angular_common__WEBPACK_IMPORTED_MODULE_16__.sg,_angular_common__WEBPACK_IMPORTED_MODULE_16__.O5,_authority_confidence_authority_confidence_state_directive__WEBPACK_IMPORTED_MODULE_8__.e,_ng_bootstrap_ng_bootstrap__WEBPACK_IMPORTED_MODULE_15__.dR,_angular_forms__WEBPACK_IMPORTED_MODULE_17__.Fj,_angular_forms__WEBPACK_IMPORTED_MODULE_17__.JJ,_angular_forms__WEBPACK_IMPORTED_MODULE_17__.On],pipes:[_utils_object_ngfor_pipe__WEBPACK_IMPORTED_MODULE_9__.C,_ngx_translate_core__WEBPACK_IMPORTED_MODULE_18__.X$,_angular_common__WEBPACK_IMPORTED_MODULE_16__.Ov],styles:[".ds-form-input-addon[_ngcontent-%COMP%]{border-top-right-radius:0!important;border-bottom-right-radius:0!important;border-right:0!important}.ds-form-input-btn[_ngcontent-%COMP%]{border:var(--bs-input-btn-border-width) solid var(--bs-input-border-color);border-top-left-radius:0;border-bottom-left-radius:0;border-left:0}.ds-form-input-btn[_ngcontent-%COMP%]:focus{box-shadow:none!important}button.ds-form-add-more[_ngcontent-%COMP%]:focus{outline:none;box-shadow:none!important}.ds-form-input-value[_ngcontent-%COMP%]{border-top-left-radius:0!important;border-bottom-left-radius:0!important}.fa-spin[_ngcontent-%COMP%]{pointer-events:none}.left-addon[_ngcontent-%COMP%]   .far[_ngcontent-%COMP%], .left-addon[_ngcontent-%COMP%]   .fas[_ngcontent-%COMP%], .left-addon[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{left:0}.right-addon[_ngcontent-%COMP%]   .far[_ngcontent-%COMP%], .right-addon[_ngcontent-%COMP%]   .fas[_ngcontent-%COMP%], .right-addon[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{right:0}.left-addon[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{padding-left:calc(var(--bs-spacer) * 2.25)}.right-addon[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{padding-right:calc(var(--bs-spacer) * 2.25)}[_nghost-%COMP%]     .dropdown-menu{width:100%!important;max-height:var(--ds-dropdown-menu-max-height);overflow-y:auto!important;overflow-x:hidden}[_nghost-%COMP%]     .dropdown-item{border-bottom:var(--bs-dropdown-border-width) solid var(--bs-dropdown-border-color)}[_nghost-%COMP%]     .dropdown-item.active, [_nghost-%COMP%]     .dropdown-item:active, [_nghost-%COMP%]     .dropdown-item:focus, [_nghost-%COMP%]     .dropdown-item:hover{color:var(--bs-dropdown-link-hover-color)!important;background-color:var(--bs-dropdown-link-hover-bg)!important}.treeview[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]{max-height:85vh!important;overflow-y:auto}.tree-toggle[_ngcontent-%COMP%]{padding:.7rem .7rem 0}.tree-input[readonly][_ngcontent-%COMP%]{background-color:#fff}"]})},22280:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{H:()=>DsDynamicRelationGroupComponent});var core=__webpack_require__(5e3),cjs=__webpack_require__(76477),operators=__webpack_require__(83292),fesm2015_core=__webpack_require__(87098),lodash=__webpack_require__(17489),form_builder_service=(__webpack_require__(1365),__webpack_require__(71022)),form_service=__webpack_require__(28858),form_component=__webpack_require__(63311),chips_model=__webpack_require__(93769),empty_util=__webpack_require__(24702),animations=__webpack_require__(41777);const shrinkInOut=(0,animations.X$)("shrinkInOut",[(0,animations.SB)("in",(0,animations.oB)({height:"100%",opacity:1})),(0,animations.eR)("* => void",[(0,animations.oB)({height:"!",opacity:1}),(0,animations.jt)(200,(0,animations.oB)({height:0,opacity:0}))]),(0,animations.eR)("void => *",[(0,animations.oB)({height:0,opacity:0}),(0,animations.jt)(200,(0,animations.oB)({height:"*",opacity:1}))])]);var object_util=__webpack_require__(91776),vocabulary_service=__webpack_require__(49566),form_field_metadata_value_model=__webpack_require__(7973),environment=__webpack_require__(21540),ds_dynamic_form_constants=__webpack_require__(78103),shared_operators=__webpack_require__(13730),common=__webpack_require__(69808),ng_bootstrap=__webpack_require__(13707),themed_loading_component=__webpack_require__(48106),chips_component=__webpack_require__(16312),ngx_translate_core=__webpack_require__(42466);const _c0=["formRef"];function DsDynamicRelationGroupComponent_a_0_Template(rf,ctx){if(1&rf){const _r7=core.EpF();core.TgZ(0,"a",7),core.ALo(1,"translate"),core.TgZ(2,"span",8),core.NdJ("click",__name(function(){return core.CHM(_r7),core.oxw().collapseForm()},"DsDynamicRelationGroupComponent_a_0_Template_span_click_2_listener")),core.qZA()()}2&rf&&core.s9C("ngbTooltip",core.lcZ(1,1,"form.group-collapse-help"))}function DsDynamicRelationGroupComponent_a_2_Template(rf,ctx){if(1&rf){const _r9=core.EpF();core.TgZ(0,"a",7),core.ALo(1,"translate"),core.TgZ(2,"span",9),core.NdJ("click",__name(function(){return core.CHM(_r9),core.oxw().expandForm()},"DsDynamicRelationGroupComponent_a_2_Template_span_click_2_listener")),core.qZA()()}2&rf&&core.s9C("ngbTooltip",core.lcZ(1,1,"form.group-expand-help"))}function DsDynamicRelationGroupComponent_div_5_div_3_Template(rf,ctx){if(1&rf){const _r13=core.EpF();core.TgZ(0,"div",15)(1,"button",16),core.NdJ("click",__name(function(){return core.CHM(_r13),core.oxw(2).save()},"DsDynamicRelationGroupComponent_div_5_div_3_Template_button_click_1_listener")),core._UZ(2,"i",17),core.qZA(),core.TgZ(3,"button",16),core.NdJ("click",__name(function(){return core.CHM(_r13),core.oxw(2).delete()},"DsDynamicRelationGroupComponent_div_5_div_3_Template_button_click_3_listener")),core._UZ(4,"i",18),core.qZA(),core.TgZ(5,"button",16),core.NdJ("click",__name(function(){return core.CHM(_r13),core.oxw(2).clear()},"DsDynamicRelationGroupComponent_div_5_div_3_Template_button_click_5_listener")),core._UZ(6,"i",19),core.qZA()()}if(2&rf){const ctx_r11=core.oxw(2);core.xp6(1),core.Q6J("disabled",ctx_r11.isMandatoryFieldEmpty()),core.xp6(2),core.Q6J("disabled",!ctx_r11.editMode),core.xp6(2),core.Q6J("disabled",ctx_r11.isMandatoryFieldEmpty())}}function DsDynamicRelationGroupComponent_div_5_Template(rf,ctx){if(1&rf){const _r17=core.EpF();core.TgZ(0,"div",10)(1,"ds-form",11,12),core.NdJ("dfBlur",__name(function($event){return core.CHM(_r17),core.oxw().onBlur($event)},"DsDynamicRelationGroupComponent_div_5_Template_ds_form_dfBlur_1_listener"))("dfFocus",__name(function($event){return core.CHM(_r17),core.oxw().onFocus($event)},"DsDynamicRelationGroupComponent_div_5_Template_ds_form_dfFocus_1_listener")),core.qZA(),core.YNc(3,DsDynamicRelationGroupComponent_div_5_div_3_Template,7,3,"div",13),core.ALo(4,"async"),core._UZ(5,"div",14),core.qZA()}if(2&rf){const ctx_r2=core.oxw();core.Q6J("@shrinkInOut",void 0),core.xp6(1),core.Q6J("formId",ctx_r2.formId)("formModel",ctx_r2.formModel)("displaySubmit",!1)("displayCancel",!1)("emitChange",!1),core.xp6(2),core.Q6J("ngIf",!core.lcZ(4,7,ctx_r2.formCollapsed))}}function DsDynamicRelationGroupComponent_ds_themed_loading_8_Template(rf,ctx){1&rf&&core._UZ(0,"ds-themed-loading",20),2&rf&&core.Q6J("showMessage",!1)}function DsDynamicRelationGroupComponent_div_9_Template(rf,ctx){1&rf&&(core.TgZ(0,"div"),core._UZ(1,"input",21),core.ALo(2,"translate"),core.qZA()),2&rf&&(core.xp6(1),core.s9C("value",core.lcZ(2,1,"form.no-value")))}function DsDynamicRelationGroupComponent_ds_chips_10_Template(rf,ctx){if(1&rf){const _r20=core.EpF();core.TgZ(0,"ds-chips",22),core.NdJ("selected",__name(function($event){return core.CHM(_r20),core.oxw().onChipSelected($event)},"DsDynamicRelationGroupComponent_ds_chips_10_Template_ds_chips_selected_0_listener")),core.qZA()}if(2&rf){const ctx_r5=core.oxw();core.Q6J("chips",ctx_r5.chips)("editable",!0)("showIcons",!0)}}__name(DsDynamicRelationGroupComponent_a_0_Template,"DsDynamicRelationGroupComponent_a_0_Template"),__name(DsDynamicRelationGroupComponent_a_2_Template,"DsDynamicRelationGroupComponent_a_2_Template"),__name(DsDynamicRelationGroupComponent_div_5_div_3_Template,"DsDynamicRelationGroupComponent_div_5_div_3_Template"),__name(DsDynamicRelationGroupComponent_div_5_Template,"DsDynamicRelationGroupComponent_div_5_Template"),__name(DsDynamicRelationGroupComponent_ds_themed_loading_8_Template,"DsDynamicRelationGroupComponent_ds_themed_loading_8_Template"),__name(DsDynamicRelationGroupComponent_div_9_Template,"DsDynamicRelationGroupComponent_div_9_Template"),__name(DsDynamicRelationGroupComponent_ds_chips_10_Template,"DsDynamicRelationGroupComponent_ds_chips_10_Template");const _c1=__name(function(a0,a1){return{"border-top":a0,"border border-danger":a1}},"_c1");class DsDynamicRelationGroupComponent extends fesm2015_core.LvC{constructor(vocabularyService,formBuilderService,formService,cdr,layoutService,validationService){super(layoutService,validationService),this.vocabularyService=vocabularyService,this.formBuilderService=formBuilderService,this.formService=formService,this.cdr=cdr,this.layoutService=layoutService,this.validationService=validationService,this.blur=new core.vpe,this.change=new core.vpe,this.focus=new core.vpe,this.formCollapsed=(0,cjs.of)(!1),this.editMode=!1,this.subs=[]}ngOnInit(){const config={rows:this.model.formConfiguration};this.model.isEmpty()||(this.formCollapsed=(0,cjs.of)(!0)),this.model.valueChanges.subscribe(value=>{!(0,empty_util.UE)(value)||1===value.length&&(0,object_util.OG)(value[0])?this.expandForm():this.collapseForm()}),this.formId=this.formService.getUniqueId(this.model.id),this.formModel=this.formBuilderService.modelFromConfiguration(this.model.submissionId,config,this.model.scopeUUID,{},this.model.submissionScope,this.model.readOnly),this.initChipsFromModelValue()}isMandatoryFieldEmpty(){let res=!0;return this.formModel.forEach(row=>{row.group.forEach(model=>{model.name!==this.model.mandatoryField||(res=null==model.value)})}),res}onBlur(event2){this.blur.emit()}onChipSelected(event2){this.expandForm(),this.selectedChipItem=this.chips.getChipByIndex(event2),this.formModel.forEach(row=>{row.group.forEach(model=>{const value=this.selectedChipItem.item[model.name]===ds_dynamic_form_constants.n||this.selectedChipItem.item[model.name].value===ds_dynamic_form_constants.n?null:this.selectedChipItem.item[model.name],nextValue=this.formBuilderService.isInputModel(model)&&(0,empty_util.K0)(value)&&"string"!=typeof value?value.value:value;model.value=nextValue})}),this.editMode=!0}onFocus(event2){this.focus.emit(event2)}collapseForm(){this.formCollapsed=(0,cjs.of)(!0),this.clear()}expandForm(){this.formCollapsed=(0,cjs.of)(!1)}clear(){this.editMode&&(this.selectedChipItem.editMode=!1,this.selectedChipItem=null,this.editMode=!1),this.resetForm(),this.model.isEmpty()||(this.formCollapsed=(0,cjs.of)(!0))}save(){this.editMode?this.modifyChip():this.addToChips()}delete(){this.chips.remove(this.selectedChipItem),this.clear()}ngOnDestroy(){this.subs.filter(sub=>(0,empty_util.Uh)(sub)).forEach(sub=>sub.unsubscribe())}addToChips(){if(this.formRef.formGroup.valid){if(!this.isMandatoryFieldEmpty()){const item=this.buildChipItem();this.chips.add(item),this.resetForm()}}else this.formService.validateAllFormFields(this.formRef.formGroup)}modifyChip(){if(this.formRef.formGroup.valid){if(!this.isMandatoryFieldEmpty()){const item=this.buildChipItem();this.chips.update(this.selectedChipItem.id,item),this.resetForm(),this.cdr.detectChanges()}}else this.formService.validateAllFormFields(this.formRef.formGroup)}buildChipItem(){const item=Object.create({});return this.formModel.forEach(row=>{row.group.forEach(control=>{item[control.name]=control.value||ds_dynamic_form_constants.n})}),item}initChipsFromModelValue(){let initChipsValue$;this.model.isEmpty()?this.initChips([]):(initChipsValue$=(0,cjs.of)(this.model.value),this.subs.push(initChipsValue$.pipe((0,operators.zg)(valueModel=>{const returnList=[];return valueModel.forEach(valueObj=>{const returnObj=Object.keys(valueObj).map(fieldName=>{let return$;if((0,lodash.isObject)(valueObj[fieldName])&&valueObj[fieldName].hasAuthority()&&(0,empty_util.UE)(valueObj[fieldName].authority)){const fieldId=fieldName.replace(/\./g,"_"),model=this.formBuilderService.findById(fieldId,this.formModel);return$=this.vocabularyService.findEntryDetailById(valueObj[fieldName].authority,model.vocabularyOptions.name).pipe((0,shared_operators.Gp)(),(0,operators.UI)(entryDetail=>Object.assign(new form_field_metadata_value_model.u,valueObj[fieldName],{otherInformation:entryDetail.otherInformation})))}else return$=(0,cjs.of)(valueObj[fieldName]);return return$.pipe((0,operators.UI)(entry=>({[fieldName]:entry})))});returnList.push((0,cjs.combineLatest)(returnObj))}),returnList}),(0,operators.zg)((valueListObj,index)=>valueListObj.pipe((0,operators.UI)(valueObj=>({index,value:valueObj.reduce((acc,value)=>Object.assign({},acc,value))})))),(0,operators.Rp)((acc,valueObj)=>(0===acc.length?acc.push(valueObj.value):acc.splice(valueObj.index,0,valueObj.value),acc),[]),(0,operators.hX)(modelValues=>this.model.value.length===modelValues.length)).subscribe(modelValue=>{this.model.value=modelValue,this.initChips(modelValue),this.cdr.markForCheck()})))}initChips(initChipsValue){this.chips=new chips_model.c(initChipsValue,"value",this.model.mandatoryField,environment.N.submission.icons.metadata),this.subs.push(this.chips.chipsItems.subscribe(()=>{const items=this.chips.getChipsItems();(0,lodash.isEqual)(items,this.model.value)||(0,empty_util.xb)(items)&&this.model.isEmpty()||(this.model.value=items,this.change.emit())}))}resetForm(){this.formRef&&this.formService.resetForm(this.formRef.formGroup,this.formModel,this.formId)}}__name(DsDynamicRelationGroupComponent,"DsDynamicRelationGroupComponent"),DsDynamicRelationGroupComponent.\u0275fac=__name(function(t){return new(t||DsDynamicRelationGroupComponent)(core.Y36(vocabulary_service.c),core.Y36(form_builder_service.c),core.Y36(form_service.o),core.Y36(core.sBO),core.Y36(fesm2015_core.vnf),core.Y36(fesm2015_core.fhz))},"DsDynamicRelationGroupComponent_Factory"),DsDynamicRelationGroupComponent.\u0275cmp=core.Xpm({type:DsDynamicRelationGroupComponent,selectors:[["ds-dynamic-relation-group"]],viewQuery:__name(function(rf,ctx){if(1&rf&&core.Gf(_c0,5),2&rf){let _t;core.iGM(_t=core.CRH())&&(ctx.formRef=_t.first)}},"DsDynamicRelationGroupComponent_Query"),inputs:{formId:"formId",group:"group",model:"model"},outputs:{blur:"blur",change:"change",focus:"focus"},features:[core.qOj],decls:11,vars:16,consts:[["class","close position-relative","placement","left",3,"ngbTooltip",4,"ngIf"],[1,"pt-2",3,"ngClass"],["class","pl-2 row",4,"ngIf"],[1,"d-flex"],[3,"showMessage",4,"ngIf"],[4,"ngIf"],[3,"chips","editable","showIcons","selected",4,"ngIf"],["placement","left",1,"close","position-relative",3,"ngbTooltip"],["aria-hidden","true",1,"fas","fa-angle-up","fa-fw","fa-2x",3,"click"],["aria-hidden","true",1,"fas","fa-angle-down","fa-fw","fa-2x",3,"click"],[1,"pl-2","row"],[1,"col-sm-12","col-md-8","col-lg-9","col-xl-10","pl-0",3,"formId","formModel","displaySubmit","displayCancel","emitChange","dfBlur","dfFocus"],["formRef","formComponent"],["class","col p-0 m-0 d-flex justify-content-center align-items-center",4,"ngIf"],[1,"clearfix"],[1,"col","p-0","m-0","d-flex","justify-content-center","align-items-center"],["type","button",1,"btn","btn-link",3,"disabled","click"],["aria-hidden","true",1,"fas","fa-save","text-primary","fa-2x"],["aria-hidden","true",1,"fas","fa-trash","text-danger","fa-2x"],["aria-hidden","true",1,"fas","fa-undo","fa-2x"],[3,"showMessage"],["type","text","readonly","","tabindex","-1",1,"border-0","form-control-plaintext","tag-input","mt-1","mb-1","pl-2","text-muted",3,"value"],[3,"chips","editable","showIcons","selected"]],template:__name(function(rf,ctx){1&rf&&(core.YNc(0,DsDynamicRelationGroupComponent_a_0_Template,3,3,"a",0),core.ALo(1,"async"),core.YNc(2,DsDynamicRelationGroupComponent_a_2_Template,3,3,"a",0),core.ALo(3,"async"),core.TgZ(4,"div",1),core.YNc(5,DsDynamicRelationGroupComponent_div_5_Template,6,9,"div",2),core.ALo(6,"async"),core.TgZ(7,"div",3),core.YNc(8,DsDynamicRelationGroupComponent_ds_themed_loading_8_Template,1,1,"ds-themed-loading",4),core.YNc(9,DsDynamicRelationGroupComponent_div_9_Template,3,3,"div",5),core.YNc(10,DsDynamicRelationGroupComponent_ds_chips_10_Template,1,3,"ds-chips",6),core.qZA()()),2&rf&&(core.Q6J("ngIf",!core.lcZ(1,7,ctx.formCollapsed)),core.xp6(2),core.Q6J("ngIf",core.lcZ(3,9,ctx.formCollapsed)),core.xp6(2),core.Q6J("ngClass",core.WLB(13,_c1,!ctx.showErrorMessages,ctx.showErrorMessages)),core.xp6(1),core.Q6J("ngIf",!core.lcZ(6,11,ctx.formCollapsed)),core.xp6(3),core.Q6J("ngIf",!ctx.chips),core.xp6(1),core.Q6J("ngIf",ctx.chips&&!ctx.chips.hasItems()),core.xp6(1),core.Q6J("ngIf",ctx.chips&&ctx.chips.hasItems()))},"DsDynamicRelationGroupComponent_Template"),directives:[common.O5,ng_bootstrap._L,common.mk,form_component.U,themed_loading_component.Z,chips_component.k],pipes:[ngx_translate_core.X$,common.Ov],styles:[".close[_ngcontent-%COMP%]{top:-2.5rem}"],data:{animation:[shrinkInOut]}})},42803:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{D:()=>DsDynamicScrollableDropdownComponent});var _angular_core__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(5e3),rxjs__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(76477),rxjs_operators__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(83292),_core_shared_page_info_model__WEBPACK_IMPORTED_MODULE_1__=(__webpack_require__(28571),__webpack_require__(62713)),_empty_util__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(24702),_core_submission_vocabularies_vocabulary_service__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(49566),_core_shared_operators__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(13730),_core_data_paginated_list_model__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(24789),_dynamic_vocabulary_component__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(10362),_ng_dynamic_forms_core__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(87098),_ng_bootstrap_ng_bootstrap__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(13707),ngx_infinite_scroll__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(76554),_angular_common__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__(69808),_ngx_translate_core__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__(42466);function DsDynamicScrollableDropdownComponent_button_8_Template(rf,ctx){1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_7__.TgZ(0,"button",10),_angular_core__WEBPACK_IMPORTED_MODULE_7__._uU(1),_angular_core__WEBPACK_IMPORTED_MODULE_7__.ALo(2,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_7__.qZA()),2&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_7__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_7__.Oqu(_angular_core__WEBPACK_IMPORTED_MODULE_7__.lcZ(2,1,"form.no-results")))}function DsDynamicScrollableDropdownComponent_button_9_Template(rf,ctx){if(1&rf){const _r6=_angular_core__WEBPACK_IMPORTED_MODULE_7__.EpF();_angular_core__WEBPACK_IMPORTED_MODULE_7__.TgZ(0,"button",11),_angular_core__WEBPACK_IMPORTED_MODULE_7__.NdJ("click",__name(function(){const listEntry_r4=_angular_core__WEBPACK_IMPORTED_MODULE_7__.CHM(_r6).$implicit,ctx_r5=_angular_core__WEBPACK_IMPORTED_MODULE_7__.oxw(),_r0=_angular_core__WEBPACK_IMPORTED_MODULE_7__.MAs(1);return ctx_r5.onSelect(listEntry_r4),_r0.close()},"DsDynamicScrollableDropdownComponent_button_9_Template_button_click_0_listener"))("mousedown",__name(function(){const listEntry_r4=_angular_core__WEBPACK_IMPORTED_MODULE_7__.CHM(_r6).$implicit,ctx_r7=_angular_core__WEBPACK_IMPORTED_MODULE_7__.oxw(),_r0=_angular_core__WEBPACK_IMPORTED_MODULE_7__.MAs(1);return ctx_r7.onSelect(listEntry_r4),_r0.close()},"DsDynamicScrollableDropdownComponent_button_9_Template_button_mousedown_0_listener")),_angular_core__WEBPACK_IMPORTED_MODULE_7__.ALo(1,"async"),_angular_core__WEBPACK_IMPORTED_MODULE_7__._uU(2),_angular_core__WEBPACK_IMPORTED_MODULE_7__.qZA()}if(2&rf){const listEntry_r4=ctx.$implicit,ctx_r2=_angular_core__WEBPACK_IMPORTED_MODULE_7__.oxw();_angular_core__WEBPACK_IMPORTED_MODULE_7__.s9C("title",listEntry_r4.display),_angular_core__WEBPACK_IMPORTED_MODULE_7__.uIk("id",listEntry_r4.display==_angular_core__WEBPACK_IMPORTED_MODULE_7__.lcZ(1,3,ctx_r2.currentValue)?"combobox_"+ctx_r2.id+"_selected":null),_angular_core__WEBPACK_IMPORTED_MODULE_7__.xp6(2),_angular_core__WEBPACK_IMPORTED_MODULE_7__.hij(" ",ctx_r2.inputFormatter(listEntry_r4)," ")}}function DsDynamicScrollableDropdownComponent_div_10_Template(rf,ctx){1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_7__.TgZ(0,"div",12)(1,"p"),_angular_core__WEBPACK_IMPORTED_MODULE_7__._uU(2),_angular_core__WEBPACK_IMPORTED_MODULE_7__.ALo(3,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_7__.qZA()()),2&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_7__.xp6(2),_angular_core__WEBPACK_IMPORTED_MODULE_7__.Oqu(_angular_core__WEBPACK_IMPORTED_MODULE_7__.lcZ(3,1,"form.loading")))}__name(DsDynamicScrollableDropdownComponent_button_8_Template,"DsDynamicScrollableDropdownComponent_button_8_Template"),__name(DsDynamicScrollableDropdownComponent_button_9_Template,"DsDynamicScrollableDropdownComponent_button_9_Template"),__name(DsDynamicScrollableDropdownComponent_div_10_Template,"DsDynamicScrollableDropdownComponent_div_10_Template");class DsDynamicScrollableDropdownComponent extends _dynamic_vocabulary_component__WEBPACK_IMPORTED_MODULE_5__.m{constructor(vocabularyService,cdr,layoutService,validationService){super(vocabularyService,layoutService,validationService),this.vocabularyService=vocabularyService,this.cdr=cdr,this.layoutService=layoutService,this.validationService=validationService,this.bindId=!0,this.blur=new _angular_core__WEBPACK_IMPORTED_MODULE_7__.vpe,this.change=new _angular_core__WEBPACK_IMPORTED_MODULE_7__.vpe,this.focus=new _angular_core__WEBPACK_IMPORTED_MODULE_7__.vpe,this.loading=!1,this.inputFormatter=x=>x.display||x.value}ngOnInit(){this.updatePageInfo(this.model.maxOptions,1),this.vocabularyService.getVocabularyEntries(this.model.vocabularyOptions,this.pageInfo).pipe((0,_core_shared_operators__WEBPACK_IMPORTED_MODULE_3__.Gp)(),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_8__.KQ)(()=>(0,rxjs__WEBPACK_IMPORTED_MODULE_9__.of)((0,_core_data_paginated_list_model__WEBPACK_IMPORTED_MODULE_4__.b)(new _core_shared_page_info_model__WEBPACK_IMPORTED_MODULE_1__.S,[])))).subscribe(list=>{this.optionsList=list.page,this.model.value&&this.setCurrentValue(this.model.value,!0),this.updatePageInfo(list.pageInfo.elementsPerPage,list.pageInfo.currentPage,list.pageInfo.totalElements,list.pageInfo.totalPages),this.cdr.detectChanges()}),this.group.get(this.model.id).valueChanges.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_8__.xb)()).subscribe(value=>{this.setCurrentValue(value)})}openDropdown(sdRef){this.model.readOnly||(this.group.markAsUntouched(),sdRef.open())}onScroll(){!this.loading&&this.pageInfo.currentPage<=this.pageInfo.totalPages&&(this.loading=!0,this.updatePageInfo(this.pageInfo.elementsPerPage,this.pageInfo.currentPage+1,this.pageInfo.totalElements,this.pageInfo.totalPages),this.vocabularyService.getVocabularyEntries(this.model.vocabularyOptions,this.pageInfo).pipe((0,_core_shared_operators__WEBPACK_IMPORTED_MODULE_3__.Gp)(),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_8__.KQ)(()=>(0,rxjs__WEBPACK_IMPORTED_MODULE_9__.of)((0,_core_data_paginated_list_model__WEBPACK_IMPORTED_MODULE_4__.b)(new _core_shared_page_info_model__WEBPACK_IMPORTED_MODULE_1__.S,[]))),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_8__.bw)(()=>this.loading=!1)).subscribe(list=>{this.optionsList=this.optionsList.concat(list.page),this.updatePageInfo(list.pageInfo.elementsPerPage,list.pageInfo.currentPage,list.pageInfo.totalElements,list.pageInfo.totalPages),this.cdr.detectChanges()}))}onSelect(event2){this.group.markAsDirty(),this.dispatchUpdate(event2),this.setCurrentValue(event2)}setCurrentValue(value,init=!1){let result;result=init?this.getInitValueFromModel().pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_8__.UI)(formValue=>formValue.display)):(0,_empty_util__WEBPACK_IMPORTED_MODULE_10__.xb)(value)?(0,rxjs__WEBPACK_IMPORTED_MODULE_9__.of)(""):"string"==typeof value?(0,rxjs__WEBPACK_IMPORTED_MODULE_9__.of)(value):(0,rxjs__WEBPACK_IMPORTED_MODULE_9__.of)(value.display),this.currentValue=result}}__name(DsDynamicScrollableDropdownComponent,"DsDynamicScrollableDropdownComponent"),DsDynamicScrollableDropdownComponent.\u0275fac=__name(function(t){return new(t||DsDynamicScrollableDropdownComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_7__.Y36(_core_submission_vocabularies_vocabulary_service__WEBPACK_IMPORTED_MODULE_2__.c),_angular_core__WEBPACK_IMPORTED_MODULE_7__.Y36(_angular_core__WEBPACK_IMPORTED_MODULE_7__.sBO),_angular_core__WEBPACK_IMPORTED_MODULE_7__.Y36(_ng_dynamic_forms_core__WEBPACK_IMPORTED_MODULE_11__.vnf),_angular_core__WEBPACK_IMPORTED_MODULE_7__.Y36(_ng_dynamic_forms_core__WEBPACK_IMPORTED_MODULE_11__.fhz))},"DsDynamicScrollableDropdownComponent_Factory"),DsDynamicScrollableDropdownComponent.\u0275cmp=_angular_core__WEBPACK_IMPORTED_MODULE_7__.Xpm({type:DsDynamicScrollableDropdownComponent,selectors:[["ds-dynamic-scrollable-dropdown"]],inputs:{bindId:"bindId",group:"group",model:"model"},outputs:{blur:"blur",change:"change",focus:"focus"},features:[_angular_core__WEBPACK_IMPORTED_MODULE_7__.qOj],decls:11,vars:26,consts:[["ngbDropdown","","display","dynamic","placement","bottom-right",1,"w-100"],["sdRef","ngbDropdown"],["role","combobox",1,"position-relative","right-addon"],["ngbDropdownToggle","","aria-hidden","true",1,"position-absolute","scrollable-dropdown-toggle"],[1,"form-control",3,"id","name","readonly","type","value","blur","click","focus","keypress"],["ngbDropdownMenu","","aria-haspopup","true","aria-expanded","false",1,"dropdown-menu","scrollable-dropdown-menu","w-100"],["role","listbox","infiniteScroll","",1,"scrollable-menu",3,"id","infiniteScrollDistance","infiniteScrollThrottle","scrollWindow","scrolled"],["class","dropdown-item disabled",4,"ngIf"],["class","dropdown-item collection-item text-truncate","role","option",3,"title","click","mousedown",4,"ngFor","ngForOf"],["class","scrollable-dropdown-loading text-center",4,"ngIf"],[1,"dropdown-item","disabled"],["role","option",1,"dropdown-item","collection-item","text-truncate",3,"title","click","mousedown"],[1,"scrollable-dropdown-loading","text-center"]],template:__name(function(rf,ctx){if(1&rf){const _r8=_angular_core__WEBPACK_IMPORTED_MODULE_7__.EpF();_angular_core__WEBPACK_IMPORTED_MODULE_7__.TgZ(0,"div",0,1)(2,"div",2),_angular_core__WEBPACK_IMPORTED_MODULE_7__._UZ(3,"i",3),_angular_core__WEBPACK_IMPORTED_MODULE_7__.TgZ(4,"input",4),_angular_core__WEBPACK_IMPORTED_MODULE_7__.NdJ("blur",__name(function($event){return ctx.onBlur($event)},"DsDynamicScrollableDropdownComponent_Template_input_blur_4_listener"))("click",__name(function($event){_angular_core__WEBPACK_IMPORTED_MODULE_7__.CHM(_r8);const _r0=_angular_core__WEBPACK_IMPORTED_MODULE_7__.MAs(1);return $event.stopPropagation(),ctx.openDropdown(_r0)},"DsDynamicScrollableDropdownComponent_Template_input_click_4_listener"))("focus",__name(function($event){return ctx.onFocus($event)},"DsDynamicScrollableDropdownComponent_Template_input_focus_4_listener"))("keypress",__name(function($event){return $event.preventDefault()},"DsDynamicScrollableDropdownComponent_Template_input_keypress_4_listener")),_angular_core__WEBPACK_IMPORTED_MODULE_7__.ALo(5,"async"),_angular_core__WEBPACK_IMPORTED_MODULE_7__.qZA()(),_angular_core__WEBPACK_IMPORTED_MODULE_7__.TgZ(6,"div",5)(7,"div",6),_angular_core__WEBPACK_IMPORTED_MODULE_7__.NdJ("scrolled",__name(function(){return ctx.onScroll()},"DsDynamicScrollableDropdownComponent_Template_div_scrolled_7_listener")),_angular_core__WEBPACK_IMPORTED_MODULE_7__.YNc(8,DsDynamicScrollableDropdownComponent_button_8_Template,3,3,"button",7),_angular_core__WEBPACK_IMPORTED_MODULE_7__.YNc(9,DsDynamicScrollableDropdownComponent_button_9_Template,3,5,"button",8),_angular_core__WEBPACK_IMPORTED_MODULE_7__.YNc(10,DsDynamicScrollableDropdownComponent_div_10_Template,4,3,"div",9),_angular_core__WEBPACK_IMPORTED_MODULE_7__.qZA()()()}2&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_7__.xp6(2),_angular_core__WEBPACK_IMPORTED_MODULE_7__.uIk("aria-label",ctx.model.label)("aria-owns","combobox_"+ctx.id+"_listbox"),_angular_core__WEBPACK_IMPORTED_MODULE_7__.xp6(2),_angular_core__WEBPACK_IMPORTED_MODULE_7__.ekj("is-invalid",ctx.showErrorMessages)("scrollable-dropdown-input",!ctx.model.readOnly),_angular_core__WEBPACK_IMPORTED_MODULE_7__.Q6J("id",ctx.id)("name",ctx.model.name)("readonly",!0)("type",ctx.model.inputType)("value",_angular_core__WEBPACK_IMPORTED_MODULE_7__.lcZ(5,24,ctx.currentValue)),_angular_core__WEBPACK_IMPORTED_MODULE_7__.uIk("aria-controls","combobox_"+ctx.id+"_listbox")("aria-activedescendant","combobox_"+ctx.id+"_selected")("aria-label",ctx.model.placeholder)("autoComplete",ctx.model.autoComplete),_angular_core__WEBPACK_IMPORTED_MODULE_7__.xp6(2),_angular_core__WEBPACK_IMPORTED_MODULE_7__.uIk("aria-label",ctx.model.placeholder),_angular_core__WEBPACK_IMPORTED_MODULE_7__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_7__.Q6J("id","combobox_"+ctx.id+"_listbox")("infiniteScrollDistance",2)("infiniteScrollThrottle",50)("scrollWindow",!1),_angular_core__WEBPACK_IMPORTED_MODULE_7__.uIk("aria-label",ctx.model.placeholder),_angular_core__WEBPACK_IMPORTED_MODULE_7__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_7__.Q6J("ngIf",ctx.optionsList&&0==ctx.optionsList.length),_angular_core__WEBPACK_IMPORTED_MODULE_7__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_7__.Q6J("ngForOf",ctx.optionsList),_angular_core__WEBPACK_IMPORTED_MODULE_7__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_7__.Q6J("ngIf",ctx.loading))},"DsDynamicScrollableDropdownComponent_Template"),directives:[_ng_bootstrap_ng_bootstrap__WEBPACK_IMPORTED_MODULE_12__.jt,_ng_bootstrap_ng_bootstrap__WEBPACK_IMPORTED_MODULE_12__.iD,_ng_bootstrap_ng_bootstrap__WEBPACK_IMPORTED_MODULE_12__.Vi,ngx_infinite_scroll__WEBPACK_IMPORTED_MODULE_6__.R,_angular_common__WEBPACK_IMPORTED_MODULE_13__.O5,_angular_common__WEBPACK_IMPORTED_MODULE_13__.sg],pipes:[_angular_common__WEBPACK_IMPORTED_MODULE_13__.Ov,_ngx_translate_core__WEBPACK_IMPORTED_MODULE_14__.X$],styles:[".ds-form-input-addon[_ngcontent-%COMP%]{border-top-right-radius:0!important;border-bottom-right-radius:0!important;border-right:0!important}.ds-form-input-btn[_ngcontent-%COMP%]{border:var(--bs-input-btn-border-width) solid var(--bs-input-border-color);border-top-left-radius:0;border-bottom-left-radius:0;border-left:0}.ds-form-input-btn[_ngcontent-%COMP%]:focus{box-shadow:none!important}button.ds-form-add-more[_ngcontent-%COMP%]:focus{outline:none;box-shadow:none!important}.ds-form-input-value[_ngcontent-%COMP%]{border-top-left-radius:0!important;border-bottom-left-radius:0!important}.fa-spin[_ngcontent-%COMP%]{pointer-events:none}.left-addon[_ngcontent-%COMP%]   .far[_ngcontent-%COMP%], .left-addon[_ngcontent-%COMP%]   .fas[_ngcontent-%COMP%], .left-addon[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{left:0}.right-addon[_ngcontent-%COMP%]   .far[_ngcontent-%COMP%], .right-addon[_ngcontent-%COMP%]   .fas[_ngcontent-%COMP%], .right-addon[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{right:0}.left-addon[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{padding-left:calc(var(--bs-spacer) * 2.25)}.right-addon[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{padding-right:calc(var(--bs-spacer) * 2.25)}.scrollable-menu[_ngcontent-%COMP%]{height:auto;max-height:var(--ds-dropdown-menu-max-height);overflow-x:hidden}.collection-item[_ngcontent-%COMP%]{border-bottom:var(--bs-dropdown-border-width) solid var(--bs-dropdown-border-color)}.scrollable-dropdown-loading[_ngcontent-%COMP%]{background-color:var(--bs-primary);color:#fff;height:calc(var(--bs-spacer) * 2)!important;line-height:calc(var(--bs-spacer) * 2);position:sticky;bottom:0}.scrollable-dropdown-menu[_ngcontent-%COMP%]{left:0!important;margin-bottom:var(--bs-spacer);z-index:1000}.scrollable-dropdown-toggle[_ngcontent-%COMP%]{padding:.7rem .7rem 0}.scrollable-dropdown-input[readonly][_ngcontent-%COMP%]{background-color:#fff}"]})},28554:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{V:()=>DsDynamicTagComponent});var _angular_core__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(5e3),rxjs__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(76477),rxjs_operators__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(83292),lodash__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(17489),_core_submission_vocabularies_vocabulary_service__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(49566),_chips_models_chips_model__WEBPACK_IMPORTED_MODULE_3__=(__webpack_require__(81907),__webpack_require__(93769)),_empty_util__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__(24702),_environments_environment__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(21540),_core_shared_operators__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(13730),_core_data_paginated_list_model__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(24789),_core_shared_page_info_model__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(62713),_dynamic_vocabulary_component__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(10362),_ng_dynamic_forms_core__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__(87098),_chips_chips_component__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(16312),_angular_common__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__(69808),_angular_forms__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__(93075),_ng_bootstrap_ng_bootstrap__WEBPACK_IMPORTED_MODULE_17__=__webpack_require__(13707);const _c0=["instance"];function DsDynamicTagComponent_ng_template_0_Template(rf,ctx){if(1&rf&&_angular_core__WEBPACK_IMPORTED_MODULE_10__._uU(0),2&rf){const r_r4=ctx.result;_angular_core__WEBPACK_IMPORTED_MODULE_10__.hij(" ",r_r4.display,"\n")}}function DsDynamicTagComponent_input_3_Template(rf,ctx){if(1&rf){const _r7=_angular_core__WEBPACK_IMPORTED_MODULE_10__.EpF();_angular_core__WEBPACK_IMPORTED_MODULE_10__.TgZ(0,"input",4),_angular_core__WEBPACK_IMPORTED_MODULE_10__.NdJ("ngModelChange",__name(function($event){_angular_core__WEBPACK_IMPORTED_MODULE_10__.CHM(_r7);return _angular_core__WEBPACK_IMPORTED_MODULE_10__.oxw().currentValue=$event},"DsDynamicTagComponent_input_3_Template_input_ngModelChange_0_listener"))("blur",__name(function($event){return _angular_core__WEBPACK_IMPORTED_MODULE_10__.CHM(_r7),_angular_core__WEBPACK_IMPORTED_MODULE_10__.oxw().onBlur($event)},"DsDynamicTagComponent_input_3_Template_input_blur_0_listener"))("keypress",__name(function($event){return _angular_core__WEBPACK_IMPORTED_MODULE_10__.CHM(_r7),_angular_core__WEBPACK_IMPORTED_MODULE_10__.oxw().preventEventsPropagation($event)},"DsDynamicTagComponent_input_3_Template_input_keypress_0_listener"))("keydown",__name(function($event){return _angular_core__WEBPACK_IMPORTED_MODULE_10__.CHM(_r7),_angular_core__WEBPACK_IMPORTED_MODULE_10__.oxw().preventEventsPropagation($event)},"DsDynamicTagComponent_input_3_Template_input_keydown_0_listener"))("keyup",__name(function($event){return _angular_core__WEBPACK_IMPORTED_MODULE_10__.CHM(_r7),_angular_core__WEBPACK_IMPORTED_MODULE_10__.oxw().onKeyUp($event)},"DsDynamicTagComponent_input_3_Template_input_keyup_0_listener")),_angular_core__WEBPACK_IMPORTED_MODULE_10__.qZA()}if(2&rf){const ctx_r2=_angular_core__WEBPACK_IMPORTED_MODULE_10__.oxw();_angular_core__WEBPACK_IMPORTED_MODULE_10__.ekj("pl-3",ctx_r2.chips.hasItems()),_angular_core__WEBPACK_IMPORTED_MODULE_10__.Q6J("placeholder",ctx_r2.model.placeholder)("readonly",ctx_r2.model.readOnly)("ngModel",ctx_r2.currentValue)}}function DsDynamicTagComponent_div_4_i_1_Template(rf,ctx){1&rf&&_angular_core__WEBPACK_IMPORTED_MODULE_10__._UZ(0,"i",9)}function DsDynamicTagComponent_div_4_Template(rf,ctx){if(1&rf){const _r15=_angular_core__WEBPACK_IMPORTED_MODULE_10__.EpF();_angular_core__WEBPACK_IMPORTED_MODULE_10__.TgZ(0,"div",5),_angular_core__WEBPACK_IMPORTED_MODULE_10__.YNc(1,DsDynamicTagComponent_div_4_i_1_Template,1,0,"i",6),_angular_core__WEBPACK_IMPORTED_MODULE_10__.TgZ(2,"input",7,8),_angular_core__WEBPACK_IMPORTED_MODULE_10__.NdJ("ngModelChange",__name(function($event){_angular_core__WEBPACK_IMPORTED_MODULE_10__.CHM(_r15);return _angular_core__WEBPACK_IMPORTED_MODULE_10__.oxw().currentValue=$event},"DsDynamicTagComponent_div_4_Template_input_ngModelChange_2_listener"))("blur",__name(function($event){return _angular_core__WEBPACK_IMPORTED_MODULE_10__.CHM(_r15),_angular_core__WEBPACK_IMPORTED_MODULE_10__.oxw().onBlur($event)},"DsDynamicTagComponent_div_4_Template_input_blur_2_listener"))("focus",__name(function($event){return _angular_core__WEBPACK_IMPORTED_MODULE_10__.CHM(_r15),_angular_core__WEBPACK_IMPORTED_MODULE_10__.oxw().onFocus($event)},"DsDynamicTagComponent_div_4_Template_input_focus_2_listener"))("change",__name(function($event){return $event.stopPropagation()},"DsDynamicTagComponent_div_4_Template_input_change_2_listener"))("input",__name(function($event){return _angular_core__WEBPACK_IMPORTED_MODULE_10__.CHM(_r15),_angular_core__WEBPACK_IMPORTED_MODULE_10__.oxw().onInput($event)},"DsDynamicTagComponent_div_4_Template_input_input_2_listener"))("selectItem",__name(function($event){return _angular_core__WEBPACK_IMPORTED_MODULE_10__.CHM(_r15),_angular_core__WEBPACK_IMPORTED_MODULE_10__.oxw().onSelectItem($event)},"DsDynamicTagComponent_div_4_Template_input_selectItem_2_listener"))("keypress",__name(function($event){return _angular_core__WEBPACK_IMPORTED_MODULE_10__.CHM(_r15),_angular_core__WEBPACK_IMPORTED_MODULE_10__.oxw().preventEventsPropagation($event)},"DsDynamicTagComponent_div_4_Template_input_keypress_2_listener"))("keydown",__name(function($event){return _angular_core__WEBPACK_IMPORTED_MODULE_10__.CHM(_r15),_angular_core__WEBPACK_IMPORTED_MODULE_10__.oxw().preventEventsPropagation($event)},"DsDynamicTagComponent_div_4_Template_input_keydown_2_listener"))("keyup",__name(function($event){return _angular_core__WEBPACK_IMPORTED_MODULE_10__.CHM(_r15),_angular_core__WEBPACK_IMPORTED_MODULE_10__.oxw().onKeyUp($event)},"DsDynamicTagComponent_div_4_Template_input_keyup_2_listener")),_angular_core__WEBPACK_IMPORTED_MODULE_10__.qZA()()}if(2&rf){const ctx_r3=_angular_core__WEBPACK_IMPORTED_MODULE_10__.oxw(),_r0=_angular_core__WEBPACK_IMPORTED_MODULE_10__.MAs(1);_angular_core__WEBPACK_IMPORTED_MODULE_10__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_10__.Q6J("ngIf",ctx_r3.searching),_angular_core__WEBPACK_IMPORTED_MODULE_10__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_10__.ekj("is-invalid",ctx_r3.showErrorMessages)("pl-3",ctx_r3.chips.hasItems()),_angular_core__WEBPACK_IMPORTED_MODULE_10__.Q6J("ngModel",ctx_r3.currentValue)("id",ctx_r3.id)("inputFormatter",ctx_r3.formatter)("name",ctx_r3.model.name)("ngbTypeahead",ctx_r3.search)("placeholder",ctx_r3.model.placeholder)("readonly",ctx_r3.model.readOnly)("resultTemplate",_r0)("type",ctx_r3.model.inputType),_angular_core__WEBPACK_IMPORTED_MODULE_10__.uIk("aria-labelledby","label_"+ctx_r3.model.id)("autoComplete",ctx_r3.model.autoComplete)}}__name(DsDynamicTagComponent_ng_template_0_Template,"DsDynamicTagComponent_ng_template_0_Template"),__name(DsDynamicTagComponent_input_3_Template,"DsDynamicTagComponent_input_3_Template"),__name(DsDynamicTagComponent_div_4_i_1_Template,"DsDynamicTagComponent_div_4_i_1_Template"),__name(DsDynamicTagComponent_div_4_Template,"DsDynamicTagComponent_div_4_Template");class DsDynamicTagComponent extends _dynamic_vocabulary_component__WEBPACK_IMPORTED_MODULE_8__.m{constructor(vocabularyService,cdr,layoutService,validationService){super(vocabularyService,layoutService,validationService),this.vocabularyService=vocabularyService,this.cdr=cdr,this.layoutService=layoutService,this.validationService=validationService,this.bindId=!0,this.blur=new _angular_core__WEBPACK_IMPORTED_MODULE_10__.vpe,this.change=new _angular_core__WEBPACK_IMPORTED_MODULE_10__.vpe,this.focus=new _angular_core__WEBPACK_IMPORTED_MODULE_10__.vpe,this.searching=!1,this.searchFailed=!1,this.hideSearchingWhenUnsubscribed=new rxjs__WEBPACK_IMPORTED_MODULE_11__.Observable(()=>()=>this.changeSearchingStatus(!1)),this.formatter=x=>x.display,this.search=text$=>text$.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_12__.bh)(300),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_12__.xb)(),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_12__.bw)(()=>this.changeSearchingStatus(!0)),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_12__.wt)(term=>""===term||term.length<this.model.minChars?(0,rxjs__WEBPACK_IMPORTED_MODULE_11__.of)({list:[]}):this.vocabularyService.getVocabularyEntriesByValue(term,!1,this.model.vocabularyOptions,new _core_shared_page_info_model__WEBPACK_IMPORTED_MODULE_7__.S).pipe((0,_core_shared_operators__WEBPACK_IMPORTED_MODULE_5__.Gp)(),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_12__.bw)(()=>this.searchFailed=!1),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_12__.KQ)(()=>(this.searchFailed=!0,(0,rxjs__WEBPACK_IMPORTED_MODULE_11__.of)((0,_core_data_paginated_list_model__WEBPACK_IMPORTED_MODULE_6__.b)(new _core_shared_page_info_model__WEBPACK_IMPORTED_MODULE_7__.S,[])))))),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_12__.UI)(list=>list.page),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_12__.bw)(()=>this.changeSearchingStatus(!1)),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_12__.TS)(this.hideSearchingWhenUnsubscribed))}ngOnInit(){this.hasAuthority=this.model.vocabularyOptions&&(0,_empty_util__WEBPACK_IMPORTED_MODULE_13__.Uh)(this.model.vocabularyOptions.name),this.chips=new _chips_models_chips_model__WEBPACK_IMPORTED_MODULE_3__.c(this.model.value,"display",null,_environments_environment__WEBPACK_IMPORTED_MODULE_4__.N.submission.icons.metadata),this.chips.chipsItems.subscribe(subItems=>{const items=this.chips.getChipsItems();(0,lodash__WEBPACK_IMPORTED_MODULE_0__.isEqual)(items,this.model.value)||this.dispatchUpdate(items)})}changeSearchingStatus(status){this.searching=status,this.cdr.detectChanges()}onInput(event2){event2.data&&this.group.markAsDirty(),this.cdr.detectChanges()}onBlur(event2){(0,_empty_util__WEBPACK_IMPORTED_MODULE_13__.UE)(this.currentValue)&&!this.instance.isPopupOpen()&&this.addTagsToChips(),this.blur.emit(event2)}onSelectItem(event2){this.chips.add(event2.item),this.updateModel(event2),setTimeout(()=>{this.setCurrentValue(null),this.cdr.detectChanges()},50)}updateModel(event2){this.dispatchUpdate(this.chips.getChipsItems())}onKeyUp(event2){(13===event2.keyCode||188===event2.keyCode)&&(event2.preventDefault(),this.addTagsToChips(),event2.stopPropagation())}preventEventsPropagation(event2){event2.stopPropagation(),13===event2.keyCode&&event2.preventDefault()}setCurrentValue(value,init=!1){this.currentValue=value}addTagsToChips(){if((0,_empty_util__WEBPACK_IMPORTED_MODULE_13__.Uh)(this.currentValue)&&(!this.hasAuthority||!this.model.vocabularyOptions.closed)){let res=[];res=this.currentValue.split(",");const res1=[];res.forEach(item=>{item.split(";").forEach(i=>{res1.push(i)})}),res1.forEach(c=>{(c=c.trim()).length>0&&this.chips.add(c)}),setTimeout(()=>{this.setCurrentValue(null),this.cdr.detectChanges()},50),this.updateModel(event)}}}__name(DsDynamicTagComponent,"DsDynamicTagComponent"),DsDynamicTagComponent.\u0275fac=__name(function(t){return new(t||DsDynamicTagComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_10__.Y36(_core_submission_vocabularies_vocabulary_service__WEBPACK_IMPORTED_MODULE_1__.c),_angular_core__WEBPACK_IMPORTED_MODULE_10__.Y36(_angular_core__WEBPACK_IMPORTED_MODULE_10__.sBO),_angular_core__WEBPACK_IMPORTED_MODULE_10__.Y36(_ng_dynamic_forms_core__WEBPACK_IMPORTED_MODULE_14__.vnf),_angular_core__WEBPACK_IMPORTED_MODULE_10__.Y36(_ng_dynamic_forms_core__WEBPACK_IMPORTED_MODULE_14__.fhz))},"DsDynamicTagComponent_Factory"),DsDynamicTagComponent.\u0275cmp=_angular_core__WEBPACK_IMPORTED_MODULE_10__.Xpm({type:DsDynamicTagComponent,selectors:[["ds-dynamic-tag"]],viewQuery:__name(function(rf,ctx){if(1&rf&&_angular_core__WEBPACK_IMPORTED_MODULE_10__.Gf(_c0,5),2&rf){let _t;_angular_core__WEBPACK_IMPORTED_MODULE_10__.iGM(_t=_angular_core__WEBPACK_IMPORTED_MODULE_10__.CRH())&&(ctx.instance=_t.first)}},"DsDynamicTagComponent_Query"),inputs:{bindId:"bindId",group:"group",model:"model"},outputs:{blur:"blur",change:"change",focus:"focus"},features:[_angular_core__WEBPACK_IMPORTED_MODULE_10__.qOj],decls:5,vars:6,consts:[["rt",""],[3,"chips","editable","showIcons","wrapperClass"],["class","border-0 form-control-plaintext tag-input flex-grow-1 mt-1 mb-1","type","text","role","textbox",3,"pl-3","placeholder","readonly","ngModel","ngModelChange","blur","keypress","keydown","keyup",4,"ngIf"],["class","position-relative right-addon",4,"ngIf"],["type","text","role","textbox",1,"border-0","form-control-plaintext","tag-input","flex-grow-1","mt-1","mb-1",3,"placeholder","readonly","ngModel","ngModelChange","blur","keypress","keydown","keyup"],[1,"position-relative","right-addon"],["class","fas fa-circle-notch fa-spin fa-2x fa-fw text-primary position-absolute mt-1 p-0","aria-hidden","true",4,"ngIf"],["type","text",1,"border-0","form-control-plaintext","tag-input","flex-grow-1","mt-1","mb-1",3,"ngModel","id","inputFormatter","name","ngbTypeahead","placeholder","readonly","resultTemplate","type","ngModelChange","blur","focus","change","input","selectItem","keypress","keydown","keyup"],["instance","ngbTypeahead"],["aria-hidden","true",1,"fas","fa-circle-notch","fa-spin","fa-2x","fa-fw","text-primary","position-absolute","mt-1","p-0"]],template:__name(function(rf,ctx){1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_10__.YNc(0,DsDynamicTagComponent_ng_template_0_Template,1,1,"ng-template",null,0,_angular_core__WEBPACK_IMPORTED_MODULE_10__.W1O),_angular_core__WEBPACK_IMPORTED_MODULE_10__.TgZ(2,"ds-chips",1),_angular_core__WEBPACK_IMPORTED_MODULE_10__.YNc(3,DsDynamicTagComponent_input_3_Template,1,5,"input",2),_angular_core__WEBPACK_IMPORTED_MODULE_10__.YNc(4,DsDynamicTagComponent_div_4_Template,4,16,"div",3),_angular_core__WEBPACK_IMPORTED_MODULE_10__.qZA()),2&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_10__.xp6(2),_angular_core__WEBPACK_IMPORTED_MODULE_10__.Q6J("chips",ctx.chips)("editable",!1)("showIcons",ctx.model.hasAuthority)("wrapperClass","border-bottom border-light"),_angular_core__WEBPACK_IMPORTED_MODULE_10__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_10__.Q6J("ngIf",!ctx.model.hasAuthority),_angular_core__WEBPACK_IMPORTED_MODULE_10__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_10__.Q6J("ngIf",ctx.model.hasAuthority))},"DsDynamicTagComponent_Template"),directives:[_chips_chips_component__WEBPACK_IMPORTED_MODULE_9__.k,_angular_common__WEBPACK_IMPORTED_MODULE_15__.O5,_angular_forms__WEBPACK_IMPORTED_MODULE_16__.Fj,_angular_forms__WEBPACK_IMPORTED_MODULE_16__.JJ,_angular_forms__WEBPACK_IMPORTED_MODULE_16__.On,_ng_bootstrap_ng_bootstrap__WEBPACK_IMPORTED_MODULE_17__.dR],styles:[".ds-form-input-addon[_ngcontent-%COMP%]{border-top-right-radius:0!important;border-bottom-right-radius:0!important;border-right:0!important}.ds-form-input-btn[_ngcontent-%COMP%]{border:var(--bs-input-btn-border-width) solid var(--bs-input-border-color);border-top-left-radius:0;border-bottom-left-radius:0;border-left:0}.ds-form-input-btn[_ngcontent-%COMP%]:focus{box-shadow:none!important}button.ds-form-add-more[_ngcontent-%COMP%]:focus{outline:none;box-shadow:none!important}.ds-form-input-value[_ngcontent-%COMP%]{border-top-left-radius:0!important;border-bottom-left-radius:0!important}.fa-spin[_ngcontent-%COMP%]{pointer-events:none}.left-addon[_ngcontent-%COMP%]   .far[_ngcontent-%COMP%], .left-addon[_ngcontent-%COMP%]   .fas[_ngcontent-%COMP%], .left-addon[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{left:0}.right-addon[_ngcontent-%COMP%]   .far[_ngcontent-%COMP%], .right-addon[_ngcontent-%COMP%]   .fas[_ngcontent-%COMP%], .right-addon[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{right:0}.left-addon[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{padding-left:calc(var(--bs-spacer) * 2.25)}.right-addon[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{padding-right:calc(var(--bs-spacer) * 2.25)}.chips-left[_ngcontent-%COMP%]{left:0;padding-right:100%}[_nghost-%COMP%]     .dropdown-menu{width:100%!important;max-height:var(--ds-dropdown-menu-max-height);overflow-y:scroll;overflow-x:hidden;left:0!important;margin-top:var(--bs-spacer)!important}[_nghost-%COMP%]     .dropdown-item.active, [_nghost-%COMP%]     .dropdown-item:active, [_nghost-%COMP%]     .dropdown-item:focus, [_nghost-%COMP%]     .dropdown-item:hover{color:var(--bs-dropdown-link-hover-color)!important;background-color:var(--bs-dropdown-link-hover-bg)!important}.tag-input[_ngcontent-%COMP%]{flex-grow:1;outline:none;width:auto!important}"]})},55648:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{i:()=>DsDynamicLookupRelationModalComponent});var _angular_core__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__(5e3),rxjs__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__(76477),_empty_util__WEBPACK_IMPORTED_MODULE_18__=__webpack_require__(24702),rxjs_operators__WEBPACK_IMPORTED_MODULE_17__=__webpack_require__(83292),_my_dspace_page_my_dspace_page_component__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(14292),_core_shared_search_search_configuration_service__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(36872),_object_list_selectable_list_selectable_list_service__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(51117),_relationship_actions__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(35355),_core_data_relationship_data_service__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(88002),_core_data_relationship_type_data_service__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(67357),_core_shared_context_model__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(84935),_core_data_lookup_relation_service__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(78326),_core_data_external_source_data_service__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(31388),_core_cache_builders_remote_data_build_service__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(95611),_core_shared_operators__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(13730),_utils_follow_link_config_model__WEBPACK_IMPORTED_MODULE_19__=__webpack_require__(93369),_ng_bootstrap_ng_bootstrap__WEBPACK_IMPORTED_MODULE_20__=__webpack_require__(13707),_ngrx_store__WEBPACK_IMPORTED_MODULE_21__=__webpack_require__(85094),_angular_router__WEBPACK_IMPORTED_MODULE_22__=__webpack_require__(74202),_angular_common__WEBPACK_IMPORTED_MODULE_23__=__webpack_require__(69808),_loading_themed_loading_component__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(48106),_search_tab_dynamic_lookup_relation_search_tab_component__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(64204),_external_source_tab_dynamic_lookup_relation_external_source_tab_component__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__(32272),_selection_tab_dynamic_lookup_relation_selection_tab_component__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__(53006),_ngx_translate_core__WEBPACK_IMPORTED_MODULE_24__=__webpack_require__(42466);function DsDynamicLookupRelationModalComponent_ds_themed_loading_8_Template(rf,ctx){1&rf&&_angular_core__WEBPACK_IMPORTED_MODULE_15__._UZ(0,"ds-themed-loading")}function DsDynamicLookupRelationModalComponent_ng_container_9_ng_template_8_Template(rf,ctx){if(1&rf){const _r8=_angular_core__WEBPACK_IMPORTED_MODULE_15__.EpF();_angular_core__WEBPACK_IMPORTED_MODULE_15__.TgZ(0,"ds-dynamic-lookup-relation-search-tab",18),_angular_core__WEBPACK_IMPORTED_MODULE_15__.NdJ("selectObject",__name(function($event){return _angular_core__WEBPACK_IMPORTED_MODULE_15__.CHM(_r8),_angular_core__WEBPACK_IMPORTED_MODULE_15__.oxw(2).select($event)},"DsDynamicLookupRelationModalComponent_ng_container_9_ng_template_8_Template_ds_dynamic_lookup_relation_search_tab_selectObject_0_listener"))("deselectObject",__name(function($event){return _angular_core__WEBPACK_IMPORTED_MODULE_15__.CHM(_r8),_angular_core__WEBPACK_IMPORTED_MODULE_15__.oxw(2).deselect($event)},"DsDynamicLookupRelationModalComponent_ng_container_9_ng_template_8_Template_ds_dynamic_lookup_relation_search_tab_deselectObject_0_listener"))("resultFound",__name(function($event){return _angular_core__WEBPACK_IMPORTED_MODULE_15__.CHM(_r8),_angular_core__WEBPACK_IMPORTED_MODULE_15__.oxw(2).setTotalInternals($event.pageInfo.totalElements)},"DsDynamicLookupRelationModalComponent_ng_container_9_ng_template_8_Template_ds_dynamic_lookup_relation_search_tab_resultFound_0_listener")),_angular_core__WEBPACK_IMPORTED_MODULE_15__.qZA()}if(2&rf){const ctx_r4=_angular_core__WEBPACK_IMPORTED_MODULE_15__.oxw(2);_angular_core__WEBPACK_IMPORTED_MODULE_15__.Q6J("selection$",ctx_r4.selection$)("listId",ctx_r4.listId)("relationship",ctx_r4.relationshipOptions)("repeatable",ctx_r4.repeatable)("context",ctx_r4.context)("query",ctx_r4.query)("relationshipType",ctx_r4.relationshipType)("isLeft",ctx_r4.isLeft)("item",ctx_r4.item)("isEditRelationship",ctx_r4.isEditRelationship)("toRemove",ctx_r4.toRemove)}}function DsDynamicLookupRelationModalComponent_ng_container_9_li_9_ng_template_5_Template(rf,ctx){if(1&rf){const _r15=_angular_core__WEBPACK_IMPORTED_MODULE_15__.EpF();_angular_core__WEBPACK_IMPORTED_MODULE_15__.TgZ(0,"ds-dynamic-lookup-relation-external-source-tab",19),_angular_core__WEBPACK_IMPORTED_MODULE_15__.NdJ("importedObject",__name(function($event){return _angular_core__WEBPACK_IMPORTED_MODULE_15__.CHM(_r15),_angular_core__WEBPACK_IMPORTED_MODULE_15__.oxw(3).imported($event)},"DsDynamicLookupRelationModalComponent_ng_container_9_li_9_ng_template_5_Template_ds_dynamic_lookup_relation_external_source_tab_importedObject_0_listener")),_angular_core__WEBPACK_IMPORTED_MODULE_15__.qZA()}if(2&rf){const source_r11=_angular_core__WEBPACK_IMPORTED_MODULE_15__.oxw().$implicit,ctx_r13=_angular_core__WEBPACK_IMPORTED_MODULE_15__.oxw(2);_angular_core__WEBPACK_IMPORTED_MODULE_15__.Q6J("label",ctx_r13.label)("listId",ctx_r13.listId)("repeatable",ctx_r13.repeatable)("item",ctx_r13.item)("collection",ctx_r13.collection)("relationship",ctx_r13.relationshipOptions)("context",ctx_r13.context)("externalSource",source_r11)}}__name(DsDynamicLookupRelationModalComponent_ds_themed_loading_8_Template,"DsDynamicLookupRelationModalComponent_ds_themed_loading_8_Template"),__name(DsDynamicLookupRelationModalComponent_ng_container_9_ng_template_8_Template,"DsDynamicLookupRelationModalComponent_ng_container_9_ng_template_8_Template"),__name(DsDynamicLookupRelationModalComponent_ng_container_9_li_9_ng_template_5_Template,"DsDynamicLookupRelationModalComponent_ng_container_9_li_9_ng_template_5_Template");const _c0=__name(function(a0){return{count:a0}},"_c0");function DsDynamicLookupRelationModalComponent_ng_container_9_li_9_Template(rf,ctx){if(1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_15__.TgZ(0,"li",12)(1,"a",13),_angular_core__WEBPACK_IMPORTED_MODULE_15__._uU(2),_angular_core__WEBPACK_IMPORTED_MODULE_15__.ALo(3,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_15__.ALo(4,"async"),_angular_core__WEBPACK_IMPORTED_MODULE_15__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_15__.YNc(5,DsDynamicLookupRelationModalComponent_ng_container_9_li_9_ng_template_5_Template,1,8,"ng-template",14),_angular_core__WEBPACK_IMPORTED_MODULE_15__.qZA()),2&rf){const source_r11=ctx.$implicit,idx_r12=ctx.index,ctx_r5=_angular_core__WEBPACK_IMPORTED_MODULE_15__.oxw(2);_angular_core__WEBPACK_IMPORTED_MODULE_15__.xp6(2),_angular_core__WEBPACK_IMPORTED_MODULE_15__.Oqu(_angular_core__WEBPACK_IMPORTED_MODULE_15__.xi3(3,1,"submission.sections.describe.relationship-lookup.search-tab.tab-title."+source_r11.id,_angular_core__WEBPACK_IMPORTED_MODULE_15__.VKq(6,_c0,_angular_core__WEBPACK_IMPORTED_MODULE_15__.lcZ(4,4,ctx_r5.totalExternal$)[idx_r12])))}}function DsDynamicLookupRelationModalComponent_ng_container_9_li_11_ng_template_5_Template(rf,ctx){if(1&rf){const _r19=_angular_core__WEBPACK_IMPORTED_MODULE_15__.EpF();_angular_core__WEBPACK_IMPORTED_MODULE_15__.TgZ(0,"ds-dynamic-lookup-relation-selection-tab",20),_angular_core__WEBPACK_IMPORTED_MODULE_15__.NdJ("selectObject",__name(function($event){return _angular_core__WEBPACK_IMPORTED_MODULE_15__.CHM(_r19),_angular_core__WEBPACK_IMPORTED_MODULE_15__.oxw(3).select($event)},"DsDynamicLookupRelationModalComponent_ng_container_9_li_11_ng_template_5_Template_ds_dynamic_lookup_relation_selection_tab_selectObject_0_listener"))("deselectObject",__name(function($event){return _angular_core__WEBPACK_IMPORTED_MODULE_15__.CHM(_r19),_angular_core__WEBPACK_IMPORTED_MODULE_15__.oxw(3).deselect($event)},"DsDynamicLookupRelationModalComponent_ng_container_9_li_11_ng_template_5_Template_ds_dynamic_lookup_relation_selection_tab_deselectObject_0_listener")),_angular_core__WEBPACK_IMPORTED_MODULE_15__.qZA()}if(2&rf){const ctx_r17=_angular_core__WEBPACK_IMPORTED_MODULE_15__.oxw(3);_angular_core__WEBPACK_IMPORTED_MODULE_15__.Q6J("selection$",ctx_r17.selection$)("listId",ctx_r17.listId)("relationshipType",ctx_r17.relationshipOptions.relationshipType)("repeatable",ctx_r17.repeatable)("context",ctx_r17.context)}}function DsDynamicLookupRelationModalComponent_ng_container_9_li_11_Template(rf,ctx){if(1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_15__.TgZ(0,"li",12)(1,"a",13),_angular_core__WEBPACK_IMPORTED_MODULE_15__._uU(2),_angular_core__WEBPACK_IMPORTED_MODULE_15__.ALo(3,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_15__.ALo(4,"async"),_angular_core__WEBPACK_IMPORTED_MODULE_15__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_15__.YNc(5,DsDynamicLookupRelationModalComponent_ng_container_9_li_11_ng_template_5_Template,1,5,"ng-template",14),_angular_core__WEBPACK_IMPORTED_MODULE_15__.qZA()),2&rf){const ctx_r6=_angular_core__WEBPACK_IMPORTED_MODULE_15__.oxw(2);let tmp_0_0;_angular_core__WEBPACK_IMPORTED_MODULE_15__.xp6(2),_angular_core__WEBPACK_IMPORTED_MODULE_15__.Oqu(_angular_core__WEBPACK_IMPORTED_MODULE_15__.xi3(3,1,"submission.sections.describe.relationship-lookup.selection-tab.tab-title",_angular_core__WEBPACK_IMPORTED_MODULE_15__.VKq(6,_c0,null==(tmp_0_0=_angular_core__WEBPACK_IMPORTED_MODULE_15__.lcZ(4,4,ctx_r6.selection$))?null:tmp_0_0.length)))}}function DsDynamicLookupRelationModalComponent_ng_container_9_Template(rf,ctx){if(1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_15__.ynx(0),_angular_core__WEBPACK_IMPORTED_MODULE_15__.TgZ(1,"ul",10,11)(3,"li",12)(4,"a",13),_angular_core__WEBPACK_IMPORTED_MODULE_15__._uU(5),_angular_core__WEBPACK_IMPORTED_MODULE_15__.ALo(6,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_15__.ALo(7,"async"),_angular_core__WEBPACK_IMPORTED_MODULE_15__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_15__.YNc(8,DsDynamicLookupRelationModalComponent_ng_container_9_ng_template_8_Template,1,11,"ng-template",14),_angular_core__WEBPACK_IMPORTED_MODULE_15__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_15__.YNc(9,DsDynamicLookupRelationModalComponent_ng_container_9_li_9_Template,6,8,"li",15),_angular_core__WEBPACK_IMPORTED_MODULE_15__.ALo(10,"async"),_angular_core__WEBPACK_IMPORTED_MODULE_15__.YNc(11,DsDynamicLookupRelationModalComponent_ng_container_9_li_11_Template,6,8,"li",16),_angular_core__WEBPACK_IMPORTED_MODULE_15__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_15__._UZ(12,"div",17),_angular_core__WEBPACK_IMPORTED_MODULE_15__.BQk()),2&rf){const _r3=_angular_core__WEBPACK_IMPORTED_MODULE_15__.MAs(2),ctx_r1=_angular_core__WEBPACK_IMPORTED_MODULE_15__.oxw();_angular_core__WEBPACK_IMPORTED_MODULE_15__.xp6(5),_angular_core__WEBPACK_IMPORTED_MODULE_15__.Oqu(_angular_core__WEBPACK_IMPORTED_MODULE_15__.xi3(6,4,"submission.sections.describe.relationship-lookup.search-tab.tab-title."+ctx_r1.relationshipOptions.relationshipType,_angular_core__WEBPACK_IMPORTED_MODULE_15__.VKq(11,_c0,_angular_core__WEBPACK_IMPORTED_MODULE_15__.lcZ(7,7,ctx_r1.totalInternal$)))),_angular_core__WEBPACK_IMPORTED_MODULE_15__.xp6(4),_angular_core__WEBPACK_IMPORTED_MODULE_15__.Q6J("ngForOf",_angular_core__WEBPACK_IMPORTED_MODULE_15__.lcZ(10,9,ctx_r1.externalSourcesRD$)),_angular_core__WEBPACK_IMPORTED_MODULE_15__.xp6(2),_angular_core__WEBPACK_IMPORTED_MODULE_15__.Q6J("ngIf",!ctx_r1.isEditRelationship),_angular_core__WEBPACK_IMPORTED_MODULE_15__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_15__.Q6J("ngbNavOutlet",_r3)}}function DsDynamicLookupRelationModalComponent_ng_container_20_span_7_Template(rf,ctx){1&rf&&_angular_core__WEBPACK_IMPORTED_MODULE_15__._UZ(0,"span",27)}function DsDynamicLookupRelationModalComponent_ng_container_20_Template(rf,ctx){if(1&rf){const _r23=_angular_core__WEBPACK_IMPORTED_MODULE_15__.EpF();_angular_core__WEBPACK_IMPORTED_MODULE_15__.ynx(0),_angular_core__WEBPACK_IMPORTED_MODULE_15__.TgZ(1,"button",21),_angular_core__WEBPACK_IMPORTED_MODULE_15__.NdJ("click",__name(function(){return _angular_core__WEBPACK_IMPORTED_MODULE_15__.CHM(_r23),_angular_core__WEBPACK_IMPORTED_MODULE_15__.oxw().discardEv()},"DsDynamicLookupRelationModalComponent_ng_container_20_Template_button_click_1_listener")),_angular_core__WEBPACK_IMPORTED_MODULE_15__._UZ(2,"i",22),_angular_core__WEBPACK_IMPORTED_MODULE_15__.TgZ(3,"span",23),_angular_core__WEBPACK_IMPORTED_MODULE_15__._uU(4),_angular_core__WEBPACK_IMPORTED_MODULE_15__.ALo(5,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_15__.qZA()(),_angular_core__WEBPACK_IMPORTED_MODULE_15__.TgZ(6,"button",24),_angular_core__WEBPACK_IMPORTED_MODULE_15__.NdJ("click",__name(function(){return _angular_core__WEBPACK_IMPORTED_MODULE_15__.CHM(_r23),_angular_core__WEBPACK_IMPORTED_MODULE_15__.oxw().submitEv()},"DsDynamicLookupRelationModalComponent_ng_container_20_Template_button_click_6_listener")),_angular_core__WEBPACK_IMPORTED_MODULE_15__.YNc(7,DsDynamicLookupRelationModalComponent_ng_container_20_span_7_Template,1,0,"span",25),_angular_core__WEBPACK_IMPORTED_MODULE_15__._UZ(8,"i",26),_angular_core__WEBPACK_IMPORTED_MODULE_15__.TgZ(9,"span",23),_angular_core__WEBPACK_IMPORTED_MODULE_15__._uU(10),_angular_core__WEBPACK_IMPORTED_MODULE_15__.ALo(11,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_15__.qZA()(),_angular_core__WEBPACK_IMPORTED_MODULE_15__.BQk()}if(2&rf){const ctx_r2=_angular_core__WEBPACK_IMPORTED_MODULE_15__.oxw();_angular_core__WEBPACK_IMPORTED_MODULE_15__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_15__.Q6J("disabled",0==ctx_r2.toAdd.length&&0==ctx_r2.toRemove.length||ctx_r2.isPending),_angular_core__WEBPACK_IMPORTED_MODULE_15__.xp6(3),_angular_core__WEBPACK_IMPORTED_MODULE_15__.hij("\xa0",_angular_core__WEBPACK_IMPORTED_MODULE_15__.lcZ(5,5,"item.edit.metadata.discard-button"),""),_angular_core__WEBPACK_IMPORTED_MODULE_15__.xp6(2),_angular_core__WEBPACK_IMPORTED_MODULE_15__.Q6J("disabled",0==ctx_r2.toAdd.length&&0==ctx_r2.toRemove.length||ctx_r2.isPending),_angular_core__WEBPACK_IMPORTED_MODULE_15__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_15__.Q6J("ngIf",ctx_r2.isPending),_angular_core__WEBPACK_IMPORTED_MODULE_15__.xp6(3),_angular_core__WEBPACK_IMPORTED_MODULE_15__.hij("\xa0",_angular_core__WEBPACK_IMPORTED_MODULE_15__.lcZ(11,7,"item.edit.metadata.save-button"),"")}}__name(DsDynamicLookupRelationModalComponent_ng_container_9_li_9_Template,"DsDynamicLookupRelationModalComponent_ng_container_9_li_9_Template"),__name(DsDynamicLookupRelationModalComponent_ng_container_9_li_11_ng_template_5_Template,"DsDynamicLookupRelationModalComponent_ng_container_9_li_11_ng_template_5_Template"),__name(DsDynamicLookupRelationModalComponent_ng_container_9_li_11_Template,"DsDynamicLookupRelationModalComponent_ng_container_9_li_11_Template"),__name(DsDynamicLookupRelationModalComponent_ng_container_9_Template,"DsDynamicLookupRelationModalComponent_ng_container_9_Template"),__name(DsDynamicLookupRelationModalComponent_ng_container_20_span_7_Template,"DsDynamicLookupRelationModalComponent_ng_container_20_span_7_Template"),__name(DsDynamicLookupRelationModalComponent_ng_container_20_Template,"DsDynamicLookupRelationModalComponent_ng_container_20_Template");const _c1=__name(function(a0){return{size:a0}},"_c1");class DsDynamicLookupRelationModalComponent{constructor(modal,selectableListService,relationshipService,relationshipTypeService,externalSourceService,lookupRelationService,searchConfigService,rdbService,zone,store,router){this.modal=modal,this.selectableListService=selectableListService,this.relationshipService=relationshipService,this.relationshipTypeService=relationshipTypeService,this.externalSourceService=externalSourceService,this.lookupRelationService=lookupRelationService,this.searchConfigService=searchConfigService,this.rdbService=rdbService,this.zone=zone,this.store=store,this.router=router,this.selectEvent=new _angular_core__WEBPACK_IMPORTED_MODULE_15__.vpe,this.subMap={},this.totalInternal$=new rxjs__WEBPACK_IMPORTED_MODULE_16__.BehaviorSubject(0),this.isLeft=!1,this.isEditRelationship=!1,this.toAdd=[],this.toRemove=[],this.isPending=!1}ngOnInit(){this.currentItemIsLeftItem$&&this.currentItemIsLeftItem$.subscribe(isLeft=>{this.isLeft=isLeft}),this.selection$=this.selectableListService.getSelectableList(this.listId).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_17__.UI)(listState=>(0,_empty_util__WEBPACK_IMPORTED_MODULE_18__.Uh)(listState)&&(0,_empty_util__WEBPACK_IMPORTED_MODULE_18__.Uh)(listState.selection)?listState.selection:[])),this.selection$.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_17__.qn)(1)).subscribe(selection=>selection.map(s=>this.addNameVariantSubscription(s))),"true"===this.relationshipOptions.nameVariants?this.context=_core_shared_context_model__WEBPACK_IMPORTED_MODULE_6__._.EntitySearchModalWithNameVariants:this.context=_core_shared_context_model__WEBPACK_IMPORTED_MODULE_6__._.EntitySearchModal,(0,_empty_util__WEBPACK_IMPORTED_MODULE_18__.UE)(this.relationshipOptions.externalSources)&&(this.externalSourcesRD$=this.rdbService.aggregate(this.relationshipOptions.externalSources.map(source=>this.externalSourceService.findById(source,!0,!0,(0,_utils_follow_link_config_model__WEBPACK_IMPORTED_MODULE_19__.l)("entityTypes")))).pipe((0,_core_shared_operators__WEBPACK_IMPORTED_MODULE_10__.mc)())),this.setTotals()}close(){this.toAdd=[],this.toRemove=[],this.modal.close()}select(...selectableObjects){this.zone.runOutsideAngular(()=>{(0,rxjs__WEBPACK_IMPORTED_MODULE_16__.combineLatest)([...selectableObjects.map(sri=>(this.addNameVariantSubscription(sri),this.relationshipService.getNameVariant(this.listId,sri.indexableObject.uuid).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_17__.qn)(1),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_17__.UI)(nameVariant=>({item:sri.indexableObject,nameVariant})))))]).subscribe(arr=>arr.forEach(object=>{const addRelationshipAction=new _relationship_actions__WEBPACK_IMPORTED_MODULE_3__.Jg(this.item,object.item,this.relationshipOptions.relationshipType,this.submissionId,object.nameVariant);this.store.dispatch(addRelationshipAction)}))})}addNameVariantSubscription(sri){const nameVariant$=this.relationshipService.getNameVariant(this.listId,sri.indexableObject.uuid);this.subMap[sri.indexableObject.uuid]=nameVariant$.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_17__.T0)(1)).subscribe(nameVariant=>this.store.dispatch(new _relationship_actions__WEBPACK_IMPORTED_MODULE_3__._k(this.item,sri.indexableObject,this.relationshipOptions.relationshipType,this.submissionId,nameVariant)))}deselect(...selectableObjects){this.zone.runOutsideAngular(()=>selectableObjects.forEach(object=>{this.subMap[object.indexableObject.uuid].unsubscribe(),this.store.dispatch(new _relationship_actions__WEBPACK_IMPORTED_MODULE_3__.J9(this.item,object.indexableObject,this.relationshipOptions.relationshipType,this.submissionId))}))}imported(object){this.setTotals(),this.select(object)}setTotals(){const externalSourcesAndOptions$=(0,rxjs__WEBPACK_IMPORTED_MODULE_16__.combineLatest)([this.externalSourcesRD$,this.searchConfigService.paginatedSearchOptions]);this.totalExternal$=externalSourcesAndOptions$.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_17__.wt)(([sources,options])=>(0,rxjs__WEBPACK_IMPORTED_MODULE_16__.combineLatest)([...sources.map(source=>this.lookupRelationService.getTotalExternalResults(source,options))])))}setTotalInternals(totalPages){this.totalInternal$.next(totalPages)}ngOnDestroy(){this.router.navigate([],{}),Object.values(this.subMap).forEach(subscription=>subscription.unsubscribe())}discardEv(){}submitEv(){}}__name(DsDynamicLookupRelationModalComponent,"DsDynamicLookupRelationModalComponent"),DsDynamicLookupRelationModalComponent.\u0275fac=__name(function(t){return new(t||DsDynamicLookupRelationModalComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_15__.Y36(_ng_bootstrap_ng_bootstrap__WEBPACK_IMPORTED_MODULE_20__.Kz),_angular_core__WEBPACK_IMPORTED_MODULE_15__.Y36(_object_list_selectable_list_selectable_list_service__WEBPACK_IMPORTED_MODULE_2__.w),_angular_core__WEBPACK_IMPORTED_MODULE_15__.Y36(_core_data_relationship_data_service__WEBPACK_IMPORTED_MODULE_4__.U),_angular_core__WEBPACK_IMPORTED_MODULE_15__.Y36(_core_data_relationship_type_data_service__WEBPACK_IMPORTED_MODULE_5__.X),_angular_core__WEBPACK_IMPORTED_MODULE_15__.Y36(_core_data_external_source_data_service__WEBPACK_IMPORTED_MODULE_8__.G),_angular_core__WEBPACK_IMPORTED_MODULE_15__.Y36(_core_data_lookup_relation_service__WEBPACK_IMPORTED_MODULE_7__.P),_angular_core__WEBPACK_IMPORTED_MODULE_15__.Y36(_core_shared_search_search_configuration_service__WEBPACK_IMPORTED_MODULE_1__.U),_angular_core__WEBPACK_IMPORTED_MODULE_15__.Y36(_core_cache_builders_remote_data_build_service__WEBPACK_IMPORTED_MODULE_9__.Q),_angular_core__WEBPACK_IMPORTED_MODULE_15__.Y36(_angular_core__WEBPACK_IMPORTED_MODULE_15__.R0b),_angular_core__WEBPACK_IMPORTED_MODULE_15__.Y36(_ngrx_store__WEBPACK_IMPORTED_MODULE_21__.yh),_angular_core__WEBPACK_IMPORTED_MODULE_15__.Y36(_angular_router__WEBPACK_IMPORTED_MODULE_22__.F0))},"DsDynamicLookupRelationModalComponent_Factory"),DsDynamicLookupRelationModalComponent.\u0275cmp=_angular_core__WEBPACK_IMPORTED_MODULE_15__.Xpm({type:DsDynamicLookupRelationModalComponent,selectors:[["ds-dynamic-lookup-relation-modal"]],outputs:{selectEvent:"selectEvent"},features:[_angular_core__WEBPACK_IMPORTED_MODULE_15__._Bn([{provide:_my_dspace_page_my_dspace_page_component__WEBPACK_IMPORTED_MODULE_0__.SEARCH_CONFIG_SERVICE,useClass:_core_shared_search_search_configuration_service__WEBPACK_IMPORTED_MODULE_1__.U}])],decls:21,vars:19,consts:[[1,"modal-header"],["id","modal-title",1,"modal-title"],["type","button","aria-label","Close button","aria-describedby","modal-title",1,"close",3,"disabled","click"],["aria-hidden","true"],[1,"modal-body"],[4,"ngIf"],[1,"modal-footer"],[1,"d-flex","float-right","space-children-mr"],[1,"close-button"],["type","button",1,"btn","btn-outline-secondary",3,"disabled","click"],["ngbNav","",1,"nav-tabs"],["nav","ngbNav"],["ngbNavItem",""],["ngbNavLink",""],["ngbNavContent",""],["ngbNavItem","",4,"ngFor","ngForOf"],["ngbNavItem","",4,"ngIf"],[3,"ngbNavOutlet"],[1,"d-block","pt-3",3,"selection$","listId","relationship","repeatable","context","query","relationshipType","isLeft","item","isEditRelationship","toRemove","selectObject","deselectObject","resultFound"],[1,"d-block","pt-3",3,"label","listId","repeatable","item","collection","relationship","context","externalSource","importedObject"],[1,"d-block","pt-3",3,"selection$","listId","relationshipType","repeatable","context","selectObject","deselectObject"],[1,"btn","btn-danger","discard",3,"disabled","click"],[1,"fas","fa-times"],[1,"d-none","d-sm-inline"],[1,"btn","btn-primary","submit",3,"disabled","click"],["class","spinner-border spinner-border-sm","role","status","aria-hidden","true",4,"ngIf"],[1,"fas","fa-save"],["role","status","aria-hidden","true",1,"spinner-border","spinner-border-sm"]],template:__name(function(rf,ctx){if(1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_15__.TgZ(0,"div",0)(1,"h4",1),_angular_core__WEBPACK_IMPORTED_MODULE_15__._uU(2),_angular_core__WEBPACK_IMPORTED_MODULE_15__.ALo(3,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_15__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_15__.TgZ(4,"button",2),_angular_core__WEBPACK_IMPORTED_MODULE_15__.NdJ("click",__name(function(){return ctx.close()},"DsDynamicLookupRelationModalComponent_Template_button_click_4_listener")),_angular_core__WEBPACK_IMPORTED_MODULE_15__.TgZ(5,"span",3),_angular_core__WEBPACK_IMPORTED_MODULE_15__._uU(6,"\xd7"),_angular_core__WEBPACK_IMPORTED_MODULE_15__.qZA()()(),_angular_core__WEBPACK_IMPORTED_MODULE_15__.TgZ(7,"div",4),_angular_core__WEBPACK_IMPORTED_MODULE_15__.YNc(8,DsDynamicLookupRelationModalComponent_ds_themed_loading_8_Template,1,0,"ds-themed-loading",5),_angular_core__WEBPACK_IMPORTED_MODULE_15__.YNc(9,DsDynamicLookupRelationModalComponent_ng_container_9_Template,13,13,"ng-container",5),_angular_core__WEBPACK_IMPORTED_MODULE_15__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_15__.TgZ(10,"div",6)(11,"small"),_angular_core__WEBPACK_IMPORTED_MODULE_15__._uU(12),_angular_core__WEBPACK_IMPORTED_MODULE_15__.ALo(13,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_15__.ALo(14,"async"),_angular_core__WEBPACK_IMPORTED_MODULE_15__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_15__.TgZ(15,"div",7)(16,"div",8)(17,"button",9),_angular_core__WEBPACK_IMPORTED_MODULE_15__.NdJ("click",__name(function(){return ctx.close()},"DsDynamicLookupRelationModalComponent_Template_button_click_17_listener")),_angular_core__WEBPACK_IMPORTED_MODULE_15__._uU(18),_angular_core__WEBPACK_IMPORTED_MODULE_15__.ALo(19,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_15__.qZA()(),_angular_core__WEBPACK_IMPORTED_MODULE_15__.YNc(20,DsDynamicLookupRelationModalComponent_ng_container_20_Template,12,9,"ng-container",5),_angular_core__WEBPACK_IMPORTED_MODULE_15__.qZA()()),2&rf){let tmp_4_0;_angular_core__WEBPACK_IMPORTED_MODULE_15__.xp6(2),_angular_core__WEBPACK_IMPORTED_MODULE_15__.Oqu(_angular_core__WEBPACK_IMPORTED_MODULE_15__.lcZ(3,8,"submission.sections.describe.relationship-lookup.title."+ctx.relationshipOptions.relationshipType)),_angular_core__WEBPACK_IMPORTED_MODULE_15__.xp6(2),_angular_core__WEBPACK_IMPORTED_MODULE_15__.Q6J("disabled",ctx.isPending),_angular_core__WEBPACK_IMPORTED_MODULE_15__.xp6(4),_angular_core__WEBPACK_IMPORTED_MODULE_15__.Q6J("ngIf",!ctx.item||!ctx.collection),_angular_core__WEBPACK_IMPORTED_MODULE_15__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_15__.Q6J("ngIf",ctx.item&&ctx.collection),_angular_core__WEBPACK_IMPORTED_MODULE_15__.xp6(3),_angular_core__WEBPACK_IMPORTED_MODULE_15__.Oqu(_angular_core__WEBPACK_IMPORTED_MODULE_15__.xi3(13,10,"submission.sections.describe.relationship-lookup.selected",_angular_core__WEBPACK_IMPORTED_MODULE_15__.VKq(17,_c1,(null==(tmp_4_0=_angular_core__WEBPACK_IMPORTED_MODULE_15__.lcZ(14,13,ctx.selection$))?null:tmp_4_0.length)||0))),_angular_core__WEBPACK_IMPORTED_MODULE_15__.xp6(5),_angular_core__WEBPACK_IMPORTED_MODULE_15__.Q6J("disabled",ctx.isPending),_angular_core__WEBPACK_IMPORTED_MODULE_15__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_15__.hij(" ",_angular_core__WEBPACK_IMPORTED_MODULE_15__.lcZ(19,15,"submission.sections.describe.relationship-lookup.close"),""),_angular_core__WEBPACK_IMPORTED_MODULE_15__.xp6(2),_angular_core__WEBPACK_IMPORTED_MODULE_15__.Q6J("ngIf",ctx.isEditRelationship)}},"DsDynamicLookupRelationModalComponent_Template"),directives:[_angular_common__WEBPACK_IMPORTED_MODULE_23__.O5,_loading_themed_loading_component__WEBPACK_IMPORTED_MODULE_11__.Z,_ng_bootstrap_ng_bootstrap__WEBPACK_IMPORTED_MODULE_20__.Pz,_ng_bootstrap_ng_bootstrap__WEBPACK_IMPORTED_MODULE_20__.nv,_ng_bootstrap_ng_bootstrap__WEBPACK_IMPORTED_MODULE_20__.Vx,_ng_bootstrap_ng_bootstrap__WEBPACK_IMPORTED_MODULE_20__.uN,_search_tab_dynamic_lookup_relation_search_tab_component__WEBPACK_IMPORTED_MODULE_12__.s,_angular_common__WEBPACK_IMPORTED_MODULE_23__.sg,_external_source_tab_dynamic_lookup_relation_external_source_tab_component__WEBPACK_IMPORTED_MODULE_13__.g,_selection_tab_dynamic_lookup_relation_selection_tab_component__WEBPACK_IMPORTED_MODULE_14__.O,_ng_bootstrap_ng_bootstrap__WEBPACK_IMPORTED_MODULE_20__.tO],pipes:[_ngx_translate_core__WEBPACK_IMPORTED_MODULE_24__.X$,_angular_common__WEBPACK_IMPORTED_MODULE_23__.Ov],styles:[".modal-footer[_ngcontent-%COMP%]{justify-content:space-between}[_nghost-%COMP%]     .modal-content{width:90%;margin:5%}[_nghost-%COMP%]   .spinner-border[_ngcontent-%COMP%]{vertical-align:middle}"]})},32272:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{g:()=>DsDynamicLookupRelationExternalSourceTabComponent});var _angular_core__WEBPACK_IMPORTED_MODULE_19__=__webpack_require__(5e3),_my_dspace_page_my_dspace_page_component__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(14292),_core_shared_search_search_configuration_service__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(36872),_core_data_external_source_data_service__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(31388),rxjs_operators__WEBPACK_IMPORTED_MODULE_20__=(__webpack_require__(46623),__webpack_require__(83292)),_animations_fade__WEBPACK_IMPORTED_MODULE_5__=(__webpack_require__(84935),__webpack_require__(28652)),_pagination_pagination_component_options_model__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(26638),_external_source_entry_import_modal_external_source_entry_import_modal_component__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(29635),_empty_util__WEBPACK_IMPORTED_MODULE_21__=__webpack_require__(24702),_object_list_selectable_list_selectable_list_service__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(51117),_core_pagination_pagination_service__WEBPACK_IMPORTED_MODULE_11__=(__webpack_require__(33609),__webpack_require__(22979),__webpack_require__(77467)),_core_shared_operators__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(13730),_angular_router__WEBPACK_IMPORTED_MODULE_22__=__webpack_require__(74202),_ng_bootstrap_ng_bootstrap__WEBPACK_IMPORTED_MODULE_23__=__webpack_require__(13707),_page_size_selector_page_size_selector_component__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__(82656),_search_form_search_form_component__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__(13511),_utils_var_directive__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__(98605),_angular_common__WEBPACK_IMPORTED_MODULE_24__=__webpack_require__(69808),_object_collection_object_collection_component__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__(70714),_loading_themed_loading_component__WEBPACK_IMPORTED_MODULE_17__=__webpack_require__(48106),_error_error_component__WEBPACK_IMPORTED_MODULE_18__=__webpack_require__(41971),_ngx_translate_core__WEBPACK_IMPORTED_MODULE_25__=__webpack_require__(42466);const _c0=__name(function(a0,a1){return{repeatable:a0,listId:a1}},"_c0");function DsDynamicLookupRelationExternalSourceTabComponent_ng_container_14_ds_viewable_collection_1_Template(rf,ctx){if(1&rf){const _r7=_angular_core__WEBPACK_IMPORTED_MODULE_19__.EpF();_angular_core__WEBPACK_IMPORTED_MODULE_19__.TgZ(0,"ds-viewable-collection",8),_angular_core__WEBPACK_IMPORTED_MODULE_19__.NdJ("importObject",__name(function($event){return _angular_core__WEBPACK_IMPORTED_MODULE_19__.CHM(_r7),_angular_core__WEBPACK_IMPORTED_MODULE_19__.oxw(2).import($event)},"DsDynamicLookupRelationExternalSourceTabComponent_ng_container_14_ds_viewable_collection_1_Template_ds_viewable_collection_importObject_0_listener")),_angular_core__WEBPACK_IMPORTED_MODULE_19__.ALo(1,"async"),_angular_core__WEBPACK_IMPORTED_MODULE_19__.qZA()}if(2&rf){const entriesRD_r1=_angular_core__WEBPACK_IMPORTED_MODULE_19__.oxw().ngVar,ctx_r2=_angular_core__WEBPACK_IMPORTED_MODULE_19__.oxw();_angular_core__WEBPACK_IMPORTED_MODULE_19__.Q6J("@fadeIn",void 0)("objects",entriesRD_r1)("selectionConfig",_angular_core__WEBPACK_IMPORTED_MODULE_19__.WLB(10,_c0,ctx_r2.repeatable,ctx_r2.listId))("config",_angular_core__WEBPACK_IMPORTED_MODULE_19__.lcZ(1,8,ctx_r2.currentPagination$))("hideGear",!0)("context",ctx_r2.context)("importable",!0)("importConfig",ctx_r2.importConfig)}}function DsDynamicLookupRelationExternalSourceTabComponent_ng_container_14_ds_themed_loading_2_Template(rf,ctx){1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_19__._UZ(0,"ds-themed-loading",9),_angular_core__WEBPACK_IMPORTED_MODULE_19__.ALo(1,"translate")),2&rf&&_angular_core__WEBPACK_IMPORTED_MODULE_19__.s9C("message",_angular_core__WEBPACK_IMPORTED_MODULE_19__.lcZ(1,1,"loading.search-results"))}function DsDynamicLookupRelationExternalSourceTabComponent_ng_container_14_ds_error_3_Template(rf,ctx){1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_19__._UZ(0,"ds-error",9),_angular_core__WEBPACK_IMPORTED_MODULE_19__.ALo(1,"translate")),2&rf&&_angular_core__WEBPACK_IMPORTED_MODULE_19__.s9C("message",_angular_core__WEBPACK_IMPORTED_MODULE_19__.lcZ(1,1,"error.search-results"))}function DsDynamicLookupRelationExternalSourceTabComponent_ng_container_14_div_4_Template(rf,ctx){1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_19__.TgZ(0,"div",10),_angular_core__WEBPACK_IMPORTED_MODULE_19__._uU(1),_angular_core__WEBPACK_IMPORTED_MODULE_19__.ALo(2,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_19__.qZA()),2&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_19__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_19__.hij(" ",_angular_core__WEBPACK_IMPORTED_MODULE_19__.lcZ(2,1,"search.results.empty")," "))}function DsDynamicLookupRelationExternalSourceTabComponent_ng_container_14_Template(rf,ctx){if(1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_19__.ynx(0),_angular_core__WEBPACK_IMPORTED_MODULE_19__.YNc(1,DsDynamicLookupRelationExternalSourceTabComponent_ng_container_14_ds_viewable_collection_1_Template,2,13,"ds-viewable-collection",5),_angular_core__WEBPACK_IMPORTED_MODULE_19__.YNc(2,DsDynamicLookupRelationExternalSourceTabComponent_ng_container_14_ds_themed_loading_2_Template,2,3,"ds-themed-loading",6),_angular_core__WEBPACK_IMPORTED_MODULE_19__.YNc(3,DsDynamicLookupRelationExternalSourceTabComponent_ng_container_14_ds_error_3_Template,2,3,"ds-error",6),_angular_core__WEBPACK_IMPORTED_MODULE_19__.YNc(4,DsDynamicLookupRelationExternalSourceTabComponent_ng_container_14_div_4_Template,3,3,"div",7),_angular_core__WEBPACK_IMPORTED_MODULE_19__.BQk()),2&rf){const entriesRD_r1=ctx.ngVar;_angular_core__WEBPACK_IMPORTED_MODULE_19__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_19__.Q6J("ngIf",(null==entriesRD_r1?null:entriesRD_r1.hasSucceeded)&&!(null!=entriesRD_r1&&entriesRD_r1.isLoading)&&(null==entriesRD_r1||null==entriesRD_r1.payload||null==entriesRD_r1.payload.page?null:entriesRD_r1.payload.page.length)>0),_angular_core__WEBPACK_IMPORTED_MODULE_19__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_19__.Q6J("ngIf",!entriesRD_r1||(null==entriesRD_r1?null:entriesRD_r1.isLoading)),_angular_core__WEBPACK_IMPORTED_MODULE_19__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_19__.Q6J("ngIf",(null==entriesRD_r1?null:entriesRD_r1.hasFailed)&&(!(null!=entriesRD_r1&&entriesRD_r1.errorMessage)||400!=(null==entriesRD_r1?null:entriesRD_r1.statusCode))),_angular_core__WEBPACK_IMPORTED_MODULE_19__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_19__.Q6J("ngIf",0==(null==entriesRD_r1||null==entriesRD_r1.payload||null==entriesRD_r1.payload.page?null:entriesRD_r1.payload.page.length)||400==(null==entriesRD_r1?null:entriesRD_r1.statusCode))}}__name(DsDynamicLookupRelationExternalSourceTabComponent_ng_container_14_ds_viewable_collection_1_Template,"DsDynamicLookupRelationExternalSourceTabComponent_ng_container_14_ds_viewable_collection_1_Template"),__name(DsDynamicLookupRelationExternalSourceTabComponent_ng_container_14_ds_themed_loading_2_Template,"DsDynamicLookupRelationExternalSourceTabComponent_ng_container_14_ds_themed_loading_2_Template"),__name(DsDynamicLookupRelationExternalSourceTabComponent_ng_container_14_ds_error_3_Template,"DsDynamicLookupRelationExternalSourceTabComponent_ng_container_14_ds_error_3_Template"),__name(DsDynamicLookupRelationExternalSourceTabComponent_ng_container_14_div_4_Template,"DsDynamicLookupRelationExternalSourceTabComponent_ng_container_14_div_4_Template"),__name(DsDynamicLookupRelationExternalSourceTabComponent_ng_container_14_Template,"DsDynamicLookupRelationExternalSourceTabComponent_ng_container_14_Template");class DsDynamicLookupRelationExternalSourceTabComponent{constructor(router,searchConfigService,externalSourceService,modalService,selectableListService,paginationService){this.router=router,this.searchConfigService=searchConfigService,this.externalSourceService=externalSourceService,this.modalService=modalService,this.selectableListService=selectableListService,this.paginationService=paginationService,this.importedObject=new _angular_core__WEBPACK_IMPORTED_MODULE_19__.vpe,this.initialPagination=Object.assign(new _pagination_pagination_component_options_model__WEBPACK_IMPORTED_MODULE_6__.r,{id:"spc",pageSize:5})}ngOnInit(){this.externalSource.entityTypes.pipe((0,_core_shared_operators__WEBPACK_IMPORTED_MODULE_12__.hC)(),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_20__.UI)(entityTypesRD=>entityTypesRD.hasSucceeded&&entityTypesRD.payload.totalElements>0?entityTypesRD.payload.page[0]:null)).subscribe(entityType=>{this.relatedEntityType=entityType}),this.resetRoute(),this.entriesRD$=this.searchConfigService.paginatedSearchOptions.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_20__.wt)(searchOptions=>this.externalSourceService.getExternalSourceEntries(this.externalSource.id,searchOptions).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_20__.O4)(void 0)))),this.currentPagination$=this.paginationService.getCurrentPagination(this.searchConfigService.paginationID,this.initialPagination),this.importConfig={buttonLabel:"submission.sections.describe.relationship-lookup.external-source.import-button-title."+this.label}}import(entry){this.modalRef=this.modalService.open(_external_source_entry_import_modal_external_source_entry_import_modal_component__WEBPACK_IMPORTED_MODULE_7__.D,{size:"lg",container:"ds-dynamic-lookup-relation-modal"});const modalComp=this.modalRef.componentInstance;modalComp.externalSourceEntry=entry,modalComp.item=this.item,modalComp.collection=this.collection,modalComp.relationship=this.relationship,modalComp.label=this.label,modalComp.relatedEntityType=this.relatedEntityType,this.importObjectSub=modalComp.importedObject.subscribe(object=>{this.selectableListService.selectSingle(this.listId,object),this.importedObject.emit(object)})}ngOnDestroy(){(0,_empty_util__WEBPACK_IMPORTED_MODULE_21__.Uh)(this.importObjectSub)&&this.importObjectSub.unsubscribe()}resetRoute(){this.paginationService.updateRoute(this.searchConfigService.paginationID,{page:1,pageSize:5})}}__name(DsDynamicLookupRelationExternalSourceTabComponent,"DsDynamicLookupRelationExternalSourceTabComponent"),DsDynamicLookupRelationExternalSourceTabComponent.\u0275fac=__name(function(t){return new(t||DsDynamicLookupRelationExternalSourceTabComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_19__.Y36(_angular_router__WEBPACK_IMPORTED_MODULE_22__.F0),_angular_core__WEBPACK_IMPORTED_MODULE_19__.Y36(_core_shared_search_search_configuration_service__WEBPACK_IMPORTED_MODULE_1__.U),_angular_core__WEBPACK_IMPORTED_MODULE_19__.Y36(_core_data_external_source_data_service__WEBPACK_IMPORTED_MODULE_2__.G),_angular_core__WEBPACK_IMPORTED_MODULE_19__.Y36(_ng_bootstrap_ng_bootstrap__WEBPACK_IMPORTED_MODULE_23__.FF),_angular_core__WEBPACK_IMPORTED_MODULE_19__.Y36(_object_list_selectable_list_selectable_list_service__WEBPACK_IMPORTED_MODULE_8__.w),_angular_core__WEBPACK_IMPORTED_MODULE_19__.Y36(_core_pagination_pagination_service__WEBPACK_IMPORTED_MODULE_11__.N))},"DsDynamicLookupRelationExternalSourceTabComponent_Factory"),DsDynamicLookupRelationExternalSourceTabComponent.\u0275cmp=_angular_core__WEBPACK_IMPORTED_MODULE_19__.Xpm({type:DsDynamicLookupRelationExternalSourceTabComponent,selectors:[["ds-dynamic-lookup-relation-external-source-tab"]],inputs:{label:"label",listId:"listId",item:"item",collection:"collection",relationship:"relationship",context:"context",repeatable:"repeatable",externalSource:"externalSource"},outputs:{importedObject:"importedObject"},features:[_angular_core__WEBPACK_IMPORTED_MODULE_19__._Bn([{provide:_my_dspace_page_my_dspace_page_component__WEBPACK_IMPORTED_MODULE_0__.SEARCH_CONFIG_SERVICE,useClass:_core_shared_search_search_configuration_service__WEBPACK_IMPORTED_MODULE_1__.U}])],decls:16,vars:16,consts:[[1,"row"],[1,"col-4"],[1,"col-8"],[3,"query","inPlaceSearch","searchPlaceholder"],[4,"ngVar"],[3,"objects","selectionConfig","config","hideGear","context","importable","importConfig","importObject",4,"ngIf"],[3,"message",4,"ngIf"],["id","empty-external-entry-list",4,"ngIf"],[3,"objects","selectionConfig","config","hideGear","context","importable","importConfig","importObject"],[3,"message"],["id","empty-external-entry-list"]],template:__name(function(rf,ctx){if(1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_19__.TgZ(0,"div",0)(1,"div",1)(2,"h3"),_angular_core__WEBPACK_IMPORTED_MODULE_19__._uU(3),_angular_core__WEBPACK_IMPORTED_MODULE_19__.ALo(4,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_19__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_19__._UZ(5,"ds-page-size-selector"),_angular_core__WEBPACK_IMPORTED_MODULE_19__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_19__.TgZ(6,"div",2),_angular_core__WEBPACK_IMPORTED_MODULE_19__._UZ(7,"ds-search-form",3),_angular_core__WEBPACK_IMPORTED_MODULE_19__.ALo(8,"async"),_angular_core__WEBPACK_IMPORTED_MODULE_19__.ALo(9,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_19__.TgZ(10,"div")(11,"h3"),_angular_core__WEBPACK_IMPORTED_MODULE_19__._uU(12),_angular_core__WEBPACK_IMPORTED_MODULE_19__.ALo(13,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_19__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_19__.YNc(14,DsDynamicLookupRelationExternalSourceTabComponent_ng_container_14_Template,5,4,"ng-container",4),_angular_core__WEBPACK_IMPORTED_MODULE_19__.ALo(15,"async"),_angular_core__WEBPACK_IMPORTED_MODULE_19__.qZA()()()),2&rf){let tmp_1_0;_angular_core__WEBPACK_IMPORTED_MODULE_19__.xp6(3),_angular_core__WEBPACK_IMPORTED_MODULE_19__.Oqu(_angular_core__WEBPACK_IMPORTED_MODULE_19__.lcZ(4,6,"submission.sections.describe.relationship-lookup.selection-tab.settings")),_angular_core__WEBPACK_IMPORTED_MODULE_19__.xp6(4),_angular_core__WEBPACK_IMPORTED_MODULE_19__.Q6J("query",null==(tmp_1_0=_angular_core__WEBPACK_IMPORTED_MODULE_19__.lcZ(8,8,ctx.searchConfigService.paginatedSearchOptions))?null:tmp_1_0.query)("inPlaceSearch",!0)("searchPlaceholder",_angular_core__WEBPACK_IMPORTED_MODULE_19__.lcZ(9,10,"submission.sections.describe.relationship-lookup.selection-tab.search-form.placeholder")),_angular_core__WEBPACK_IMPORTED_MODULE_19__.xp6(5),_angular_core__WEBPACK_IMPORTED_MODULE_19__.Oqu(_angular_core__WEBPACK_IMPORTED_MODULE_19__.lcZ(13,12,"submission.sections.describe.relationship-lookup.selection-tab.title."+ctx.externalSource.id)),_angular_core__WEBPACK_IMPORTED_MODULE_19__.xp6(2),_angular_core__WEBPACK_IMPORTED_MODULE_19__.Q6J("ngVar",_angular_core__WEBPACK_IMPORTED_MODULE_19__.lcZ(15,14,ctx.entriesRD$))}},"DsDynamicLookupRelationExternalSourceTabComponent_Template"),directives:[_page_size_selector_page_size_selector_component__WEBPACK_IMPORTED_MODULE_13__.k,_search_form_search_form_component__WEBPACK_IMPORTED_MODULE_14__.o,_utils_var_directive__WEBPACK_IMPORTED_MODULE_15__.g,_angular_common__WEBPACK_IMPORTED_MODULE_24__.O5,_object_collection_object_collection_component__WEBPACK_IMPORTED_MODULE_16__.c,_loading_themed_loading_component__WEBPACK_IMPORTED_MODULE_17__.Z,_error_error_component__WEBPACK_IMPORTED_MODULE_18__.q],pipes:[_ngx_translate_core__WEBPACK_IMPORTED_MODULE_25__.X$,_angular_common__WEBPACK_IMPORTED_MODULE_24__.Ov],styles:[""],data:{animation:[_animations_fade__WEBPACK_IMPORTED_MODULE_5__.Ji,_animations_fade__WEBPACK_IMPORTED_MODULE_5__.Ic]}})},29635:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{D:()=>ExternalSourceEntryImportModalComponent});var _angular_core__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__(5e3),_core_shared_metadata_utils__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(94569),_core_data_lookup_relation_service__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(78326),_search_models_paginated_search_options_model__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(35598),_object_collection_collection_element_link_type__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(8041),_core_shared_context_model__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(84935),_object_list_selectable_list_selectable_list_service__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(51117),_core_data_item_data_service__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(83639),_pagination_pagination_component_options_model__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(26638),_core_shared_operators__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(13730),rxjs_operators__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__(83292),_object_collection_shared_item_search_result_model__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(84412),_notifications_notifications_service__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(82596),_submission_import_external_import_external_collection_submission_import_external_collection_component__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(91320),_ng_bootstrap_ng_bootstrap__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__(13707),_ngx_translate_core__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__(42466),_angular_common__WEBPACK_IMPORTED_MODULE_17__=__webpack_require__(69808),_search_search_results_search_results_component__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(64490);function ExternalSourceEntryImportModalComponent_div_15_Template(rf,ctx){if(1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_13__.TgZ(0,"div")(1,"a",17),_angular_core__WEBPACK_IMPORTED_MODULE_13__._uU(2),_angular_core__WEBPACK_IMPORTED_MODULE_13__.qZA()()),2&rf){const ctx_r0=_angular_core__WEBPACK_IMPORTED_MODULE_13__.oxw();_angular_core__WEBPACK_IMPORTED_MODULE_13__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_13__.s9C("href",ctx_r0.uri.value,_angular_core__WEBPACK_IMPORTED_MODULE_13__.LSH),_angular_core__WEBPACK_IMPORTED_MODULE_13__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_13__.Oqu(ctx_r0.uri.value)}}__name(ExternalSourceEntryImportModalComponent_div_15_Template,"ExternalSourceEntryImportModalComponent_div_15_Template");const _c0=__name(function(a1){return{repeatable:!1,listId:a1}},"_c0");function ExternalSourceEntryImportModalComponent_ds_search_results_23_Template(rf,ctx){if(1&rf){const _r4=_angular_core__WEBPACK_IMPORTED_MODULE_13__.EpF();_angular_core__WEBPACK_IMPORTED_MODULE_13__.TgZ(0,"ds-search-results",18),_angular_core__WEBPACK_IMPORTED_MODULE_13__.NdJ("deselectObject",__name(function(){return _angular_core__WEBPACK_IMPORTED_MODULE_13__.CHM(_r4),_angular_core__WEBPACK_IMPORTED_MODULE_13__.oxw().deselectEntity()},"ExternalSourceEntryImportModalComponent_ds_search_results_23_Template_ds_search_results_deselectObject_0_listener"))("selectObject",__name(function($event){return _angular_core__WEBPACK_IMPORTED_MODULE_13__.CHM(_r4),_angular_core__WEBPACK_IMPORTED_MODULE_13__.oxw().selectEntity($event)},"ExternalSourceEntryImportModalComponent_ds_search_results_23_Template_ds_search_results_selectObject_0_listener")),_angular_core__WEBPACK_IMPORTED_MODULE_13__.ALo(1,"async"),_angular_core__WEBPACK_IMPORTED_MODULE_13__.qZA()}if(2&rf){const ctx_r1=_angular_core__WEBPACK_IMPORTED_MODULE_13__.oxw();_angular_core__WEBPACK_IMPORTED_MODULE_13__.Q6J("searchResults",_angular_core__WEBPACK_IMPORTED_MODULE_13__.lcZ(1,9,ctx_r1.localEntitiesRD$))("sortConfig",null==ctx_r1.lookupRelationService.searchConfig?null:ctx_r1.lookupRelationService.searchConfig.sort)("searchConfig",ctx_r1.lookupRelationService.searchConfig)("selectable",!0)("disableHeader",!0)("hidePaginationDetail",!0)("selectionConfig",_angular_core__WEBPACK_IMPORTED_MODULE_13__.VKq(11,_c0,ctx_r1.entityListId))("linkType",ctx_r1.linkTypes.ExternalLink)("context",ctx_r1.context)}}function ExternalSourceEntryImportModalComponent_div_30_Template(rf,ctx){if(1&rf){const _r7=_angular_core__WEBPACK_IMPORTED_MODULE_13__.EpF();_angular_core__WEBPACK_IMPORTED_MODULE_13__.TgZ(0,"div",19)(1,"h5",8),_angular_core__WEBPACK_IMPORTED_MODULE_13__._uU(2),_angular_core__WEBPACK_IMPORTED_MODULE_13__.ALo(3,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_13__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_13__.TgZ(4,"div",10)(5,"input",20),_angular_core__WEBPACK_IMPORTED_MODULE_13__.NdJ("click",__name(function(){return _angular_core__WEBPACK_IMPORTED_MODULE_13__.CHM(_r7),_angular_core__WEBPACK_IMPORTED_MODULE_13__.oxw().selectNewAuthority()},"ExternalSourceEntryImportModalComponent_div_30_Template_input_click_5_listener")),_angular_core__WEBPACK_IMPORTED_MODULE_13__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_13__.TgZ(6,"label",21),_angular_core__WEBPACK_IMPORTED_MODULE_13__._uU(7),_angular_core__WEBPACK_IMPORTED_MODULE_13__.ALo(8,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_13__.qZA()()()}if(2&rf){const ctx_r2=_angular_core__WEBPACK_IMPORTED_MODULE_13__.oxw();_angular_core__WEBPACK_IMPORTED_MODULE_13__.xp6(2),_angular_core__WEBPACK_IMPORTED_MODULE_13__.Oqu(_angular_core__WEBPACK_IMPORTED_MODULE_13__.lcZ(3,3,ctx_r2.labelPrefix+"authority")),_angular_core__WEBPACK_IMPORTED_MODULE_13__.xp6(3),_angular_core__WEBPACK_IMPORTED_MODULE_13__.Q6J("checked",ctx_r2.selectedImportType===ctx_r2.importType.NewAuthority),_angular_core__WEBPACK_IMPORTED_MODULE_13__.xp6(2),_angular_core__WEBPACK_IMPORTED_MODULE_13__.Oqu(_angular_core__WEBPACK_IMPORTED_MODULE_13__.lcZ(8,5,ctx_r2.labelPrefix+"authority.new"))}}var ImportType,ImportType2;__name(ExternalSourceEntryImportModalComponent_ds_search_results_23_Template,"ExternalSourceEntryImportModalComponent_ds_search_results_23_Template"),__name(ExternalSourceEntryImportModalComponent_div_30_Template,"ExternalSourceEntryImportModalComponent_div_30_Template"),(ImportType2=ImportType||(ImportType={})).None="None",ImportType2.LocalEntity="LocalEntity",ImportType2.LocalAuthority="LocalAuthority",ImportType2.NewEntity="NewEntity",ImportType2.NewAuthority="NewAuthority";class ExternalSourceEntryImportModalComponent{constructor(modal,lookupRelationService,modalService,selectService,itemService,notificationsService,translateService){this.modal=modal,this.lookupRelationService=lookupRelationService,this.modalService=modalService,this.selectService=selectService,this.itemService=itemService,this.notificationsService=notificationsService,this.translateService=translateService,this.labelPrefix="submission.sections.describe.relationship-lookup.external-source.import-modal.",this.linkTypes=_object_collection_collection_element_link_type__WEBPACK_IMPORTED_MODULE_3__.m,this.context=_core_shared_context_model__WEBPACK_IMPORTED_MODULE_4__._.EntitySearchModalWithNameVariants,this.entityListId="external-source-import-entity",this.authorityListId="external-source-import-authority",this.importType=ImportType,this.selectedImportType=ImportType.None,this.importedObject=new _angular_core__WEBPACK_IMPORTED_MODULE_13__.vpe,this.authorityEnabled=!1}ngOnInit(){this.uri=_core_shared_metadata_utils__WEBPACK_IMPORTED_MODULE_0__.S.first(this.externalSourceEntry.metadata,"dc.identifier.uri");const pagination=Object.assign(new _pagination_pagination_component_options_model__WEBPACK_IMPORTED_MODULE_7__.r,{id:"external-entry-import",pageSize:5});this.searchOptions=Object.assign(new _search_models_paginated_search_options_model__WEBPACK_IMPORTED_MODULE_2__.t({query:this.externalSourceEntry.value,pagination})),this.localEntitiesRD$=this.lookupRelationService.getLocalResults(this.relationship,this.searchOptions)}close(){this.modal.close()}import(){switch(this.selectedImportType){case ImportType.LocalEntity:this.importLocalEntity();break;case ImportType.NewEntity:this.importNewEntity();break;case ImportType.LocalAuthority:this.importLocalAuthority();break;case ImportType.NewAuthority:this.importNewAuthority()}this.selectedImportType=ImportType.None,this.deselectAllLists(),this.close()}importLocalEntity(){void 0!==this.selectedEntity&&(this.notificationsService.success(this.translateService.get(this.labelPrefix+this.label+".added.local-entity")),this.importedObject.emit(this.selectedEntity))}importNewEntity(){this.modalRef=this.modalService.open(_submission_import_external_import_external_collection_submission_import_external_collection_component__WEBPACK_IMPORTED_MODULE_11__.L,{size:"lg"}),this.modalRef.componentInstance.entityType=this.relatedEntityType.label,this.modalRef.componentInstance.selectedEvent.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_14__.wt)(collectionListEntry=>this.itemService.importExternalSourceEntry(this.externalSourceEntry,collectionListEntry.collection.id).pipe((0,_core_shared_operators__WEBPACK_IMPORTED_MODULE_8__.xw)(),(0,_core_shared_operators__WEBPACK_IMPORTED_MODULE_8__.xe)(),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_14__.qn)(1)))).subscribe(item=>{this.lookupRelationService.removeLocalResultsCache();const searchResult=Object.assign(new _object_collection_shared_item_search_result_model__WEBPACK_IMPORTED_MODULE_9__.T,{indexableObject:item});this.notificationsService.success(this.translateService.get(this.labelPrefix+this.label+".added.new-entity")),this.modalRef.close(),this.importedObject.emit(searchResult)})}importLocalAuthority(){}importNewAuthority(){}deselectEntity(){this.selectedEntity=void 0,this.selectedImportType===ImportType.LocalEntity&&(this.selectedImportType=ImportType.None)}selectEntity(entity){this.selectedEntity=entity,this.selectedImportType=ImportType.LocalEntity}selectNewEntity(){this.selectedImportType===ImportType.NewEntity?this.selectedImportType=ImportType.None:(this.selectedImportType=ImportType.NewEntity,this.deselectAllLists())}deselectAuthority(){this.selectedAuthority=void 0,this.selectedImportType===ImportType.LocalAuthority&&(this.selectedImportType=ImportType.None)}selectAuthority(authority){this.selectedAuthority=authority,this.selectedImportType=ImportType.LocalAuthority}selectNewAuthority(){this.selectedImportType===ImportType.NewAuthority?this.selectedImportType=ImportType.None:(this.selectedImportType=ImportType.NewAuthority,this.deselectAllLists())}deselectAllLists(){this.selectService.deselectAll(this.entityListId),this.selectService.deselectAll(this.authorityListId)}}__name(ExternalSourceEntryImportModalComponent,"ExternalSourceEntryImportModalComponent"),ExternalSourceEntryImportModalComponent.\u0275fac=__name(function(t){return new(t||ExternalSourceEntryImportModalComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_13__.Y36(_ng_bootstrap_ng_bootstrap__WEBPACK_IMPORTED_MODULE_15__.Kz),_angular_core__WEBPACK_IMPORTED_MODULE_13__.Y36(_core_data_lookup_relation_service__WEBPACK_IMPORTED_MODULE_1__.P),_angular_core__WEBPACK_IMPORTED_MODULE_13__.Y36(_ng_bootstrap_ng_bootstrap__WEBPACK_IMPORTED_MODULE_15__.FF),_angular_core__WEBPACK_IMPORTED_MODULE_13__.Y36(_object_list_selectable_list_selectable_list_service__WEBPACK_IMPORTED_MODULE_5__.w),_angular_core__WEBPACK_IMPORTED_MODULE_13__.Y36(_core_data_item_data_service__WEBPACK_IMPORTED_MODULE_6__.S),_angular_core__WEBPACK_IMPORTED_MODULE_13__.Y36(_notifications_notifications_service__WEBPACK_IMPORTED_MODULE_10__.T),_angular_core__WEBPACK_IMPORTED_MODULE_13__.Y36(_ngx_translate_core__WEBPACK_IMPORTED_MODULE_16__.sK))},"ExternalSourceEntryImportModalComponent_Factory"),ExternalSourceEntryImportModalComponent.\u0275cmp=_angular_core__WEBPACK_IMPORTED_MODULE_13__.Xpm({type:ExternalSourceEntryImportModalComponent,selectors:[["ds-external-source-entry-import-modal"]],decls:40,vars:29,consts:[[1,"modal-header"],["id","modal-title",1,"modal-title"],["type","button","aria-label","Close button","aria-describedby","modal-title",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],["id","external-source-entry-information",1,"mb-3"],[4,"ngIf"],["id","external-source-entry-entities",1,"mb-3"],[1,"font-weight-bold"],[3,"searchResults","sortConfig","searchConfig","selectable","disableHeader","hidePaginationDetail","selectionConfig","linkType","context","deselectObject","selectObject",4,"ngIf"],[1,"ml-4"],["type","radio","name","new-entity","id","new-entity","value","new-entity",1,"form-check-input",3,"checked","click"],["for","new-entity",1,"form-check-label"],["id","external-source-entry-authority",4,"ngIf"],[1,"modal-footer"],["type","button",1,"btn","btn-outline-secondary",3,"click"],["type","button",1,"btn","btn-primary",3,"disabled","click"],[3,"href"],[3,"searchResults","sortConfig","searchConfig","selectable","disableHeader","hidePaginationDetail","selectionConfig","linkType","context","deselectObject","selectObject"],["id","external-source-entry-authority"],["type","radio","name","new-authority","id","new-authority","value","new-authority",1,"form-check-input",3,"checked","click"],["for","new-authority",1,"form-check-label"]],template:__name(function(rf,ctx){if(1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_13__.TgZ(0,"div",0)(1,"h4",1),_angular_core__WEBPACK_IMPORTED_MODULE_13__._uU(2),_angular_core__WEBPACK_IMPORTED_MODULE_13__.ALo(3,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_13__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_13__.TgZ(4,"button",2),_angular_core__WEBPACK_IMPORTED_MODULE_13__.NdJ("click",__name(function(){return ctx.modal.dismiss()},"ExternalSourceEntryImportModalComponent_Template_button_click_4_listener")),_angular_core__WEBPACK_IMPORTED_MODULE_13__.TgZ(5,"span",3),_angular_core__WEBPACK_IMPORTED_MODULE_13__._uU(6,"\xd7"),_angular_core__WEBPACK_IMPORTED_MODULE_13__.qZA()()(),_angular_core__WEBPACK_IMPORTED_MODULE_13__.TgZ(7,"div",4)(8,"h4"),_angular_core__WEBPACK_IMPORTED_MODULE_13__._uU(9),_angular_core__WEBPACK_IMPORTED_MODULE_13__.ALo(10,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_13__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_13__.TgZ(11,"div",5)(12,"div")(13,"span"),_angular_core__WEBPACK_IMPORTED_MODULE_13__._uU(14),_angular_core__WEBPACK_IMPORTED_MODULE_13__.qZA()(),_angular_core__WEBPACK_IMPORTED_MODULE_13__.YNc(15,ExternalSourceEntryImportModalComponent_div_15_Template,3,2,"div",6),_angular_core__WEBPACK_IMPORTED_MODULE_13__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_13__.TgZ(16,"h4"),_angular_core__WEBPACK_IMPORTED_MODULE_13__._uU(17),_angular_core__WEBPACK_IMPORTED_MODULE_13__.ALo(18,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_13__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_13__.TgZ(19,"div",7)(20,"h5",8),_angular_core__WEBPACK_IMPORTED_MODULE_13__._uU(21),_angular_core__WEBPACK_IMPORTED_MODULE_13__.ALo(22,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_13__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_13__.YNc(23,ExternalSourceEntryImportModalComponent_ds_search_results_23_Template,2,13,"ds-search-results",9),_angular_core__WEBPACK_IMPORTED_MODULE_13__.ALo(24,"async"),_angular_core__WEBPACK_IMPORTED_MODULE_13__.TgZ(25,"div",10)(26,"input",11),_angular_core__WEBPACK_IMPORTED_MODULE_13__.NdJ("click",__name(function(){return ctx.selectNewEntity()},"ExternalSourceEntryImportModalComponent_Template_input_click_26_listener")),_angular_core__WEBPACK_IMPORTED_MODULE_13__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_13__.TgZ(27,"label",12),_angular_core__WEBPACK_IMPORTED_MODULE_13__._uU(28),_angular_core__WEBPACK_IMPORTED_MODULE_13__.ALo(29,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_13__.qZA()()(),_angular_core__WEBPACK_IMPORTED_MODULE_13__.YNc(30,ExternalSourceEntryImportModalComponent_div_30_Template,9,7,"div",13),_angular_core__WEBPACK_IMPORTED_MODULE_13__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_13__.TgZ(31,"div",14)(32,"div")(33,"button",15),_angular_core__WEBPACK_IMPORTED_MODULE_13__.NdJ("click",__name(function(){return ctx.close()},"ExternalSourceEntryImportModalComponent_Template_button_click_33_listener")),_angular_core__WEBPACK_IMPORTED_MODULE_13__._uU(34),_angular_core__WEBPACK_IMPORTED_MODULE_13__.ALo(35,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_13__.qZA()(),_angular_core__WEBPACK_IMPORTED_MODULE_13__.TgZ(36,"div")(37,"button",16),_angular_core__WEBPACK_IMPORTED_MODULE_13__.NdJ("click",__name(function(){return ctx.import()},"ExternalSourceEntryImportModalComponent_Template_button_click_37_listener")),_angular_core__WEBPACK_IMPORTED_MODULE_13__._uU(38),_angular_core__WEBPACK_IMPORTED_MODULE_13__.ALo(39,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_13__.qZA()()()),2&rf){let tmp_6_0;_angular_core__WEBPACK_IMPORTED_MODULE_13__.xp6(2),_angular_core__WEBPACK_IMPORTED_MODULE_13__.Oqu(_angular_core__WEBPACK_IMPORTED_MODULE_13__.lcZ(3,13,ctx.labelPrefix+ctx.label+".title")),_angular_core__WEBPACK_IMPORTED_MODULE_13__.xp6(7),_angular_core__WEBPACK_IMPORTED_MODULE_13__.Oqu(_angular_core__WEBPACK_IMPORTED_MODULE_13__.lcZ(10,15,ctx.labelPrefix+"head."+ctx.externalSourceEntry.externalSource)),_angular_core__WEBPACK_IMPORTED_MODULE_13__.xp6(5),_angular_core__WEBPACK_IMPORTED_MODULE_13__.Oqu(ctx.externalSourceEntry.display),_angular_core__WEBPACK_IMPORTED_MODULE_13__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_13__.Q6J("ngIf",ctx.uri),_angular_core__WEBPACK_IMPORTED_MODULE_13__.xp6(2),_angular_core__WEBPACK_IMPORTED_MODULE_13__.Oqu(_angular_core__WEBPACK_IMPORTED_MODULE_13__.lcZ(18,17,ctx.labelPrefix+"select")),_angular_core__WEBPACK_IMPORTED_MODULE_13__.xp6(4),_angular_core__WEBPACK_IMPORTED_MODULE_13__.Oqu(_angular_core__WEBPACK_IMPORTED_MODULE_13__.lcZ(22,19,ctx.labelPrefix+"entities")),_angular_core__WEBPACK_IMPORTED_MODULE_13__.xp6(2),_angular_core__WEBPACK_IMPORTED_MODULE_13__.Q6J("ngIf",(null==(tmp_6_0=_angular_core__WEBPACK_IMPORTED_MODULE_13__.lcZ(24,21,ctx.localEntitiesRD$))||null==tmp_6_0.payload||null==tmp_6_0.payload.page?null:tmp_6_0.payload.page.length)>0),_angular_core__WEBPACK_IMPORTED_MODULE_13__.xp6(3),_angular_core__WEBPACK_IMPORTED_MODULE_13__.Q6J("checked",ctx.selectedImportType===ctx.importType.NewEntity),_angular_core__WEBPACK_IMPORTED_MODULE_13__.xp6(2),_angular_core__WEBPACK_IMPORTED_MODULE_13__.Oqu(_angular_core__WEBPACK_IMPORTED_MODULE_13__.lcZ(29,23,ctx.labelPrefix+"entities.new")),_angular_core__WEBPACK_IMPORTED_MODULE_13__.xp6(2),_angular_core__WEBPACK_IMPORTED_MODULE_13__.Q6J("ngIf",ctx.authorityEnabled),_angular_core__WEBPACK_IMPORTED_MODULE_13__.xp6(4),_angular_core__WEBPACK_IMPORTED_MODULE_13__.Oqu(_angular_core__WEBPACK_IMPORTED_MODULE_13__.lcZ(35,25,ctx.labelPrefix+"cancel")),_angular_core__WEBPACK_IMPORTED_MODULE_13__.xp6(3),_angular_core__WEBPACK_IMPORTED_MODULE_13__.Q6J("disabled",ctx.selectedImportType===ctx.importType.None),_angular_core__WEBPACK_IMPORTED_MODULE_13__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_13__.Oqu(_angular_core__WEBPACK_IMPORTED_MODULE_13__.lcZ(39,27,ctx.labelPrefix+"import"))}},"ExternalSourceEntryImportModalComponent_Template"),directives:[_angular_common__WEBPACK_IMPORTED_MODULE_17__.O5,_search_search_results_search_results_component__WEBPACK_IMPORTED_MODULE_12__.SearchResultsComponent],pipes:[_ngx_translate_core__WEBPACK_IMPORTED_MODULE_16__.X$,_angular_common__WEBPACK_IMPORTED_MODULE_17__.Ov],styles:[".modal-footer[_ngcontent-%COMP%]{justify-content:space-between}"]})},64204:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{s:()=>DsDynamicLookupRelationSearchTabComponent});var _angular_core__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__(5e3),_my_dspace_page_my_dspace_page_component__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(14292),_core_shared_search_search_configuration_service__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(36872),rxjs__WEBPACK_IMPORTED_MODULE_16__=(__webpack_require__(33609),__webpack_require__(76477)),_pagination_pagination_component_options_model__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(26638),_core_shared_search_search_service__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(5164),_object_list_selectable_list_selectable_list_service__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(51117),_empty_util__WEBPACK_IMPORTED_MODULE_18__=__webpack_require__(24702),rxjs_operators__WEBPACK_IMPORTED_MODULE_17__=__webpack_require__(83292),_core_shared_operators__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(13730),_object_collection_collection_element_link_type__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(8041),_core_data_lookup_relation_service__WEBPACK_IMPORTED_MODULE_9__=(__webpack_require__(84935),__webpack_require__(78326)),_core_pagination_pagination_service__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(77467),_core_data_relationship_data_service__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(88002),_angular_common__WEBPACK_IMPORTED_MODULE_19__=(__webpack_require__(87917),__webpack_require__(69808)),_search_themed_search_component__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__(30236),_ng_bootstrap_ng_bootstrap__WEBPACK_IMPORTED_MODULE_20__=__webpack_require__(13707),_utils_var_directive__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__(98605),_ngx_translate_core__WEBPACK_IMPORTED_MODULE_21__=__webpack_require__(42466);function DsDynamicLookupRelationSearchTabComponent_ds_themed_search_0_div_1_input_4_Template(rf,ctx){if(1&rf){const _r8=_angular_core__WEBPACK_IMPORTED_MODULE_15__.EpF();_angular_core__WEBPACK_IMPORTED_MODULE_15__.TgZ(0,"input",14),_angular_core__WEBPACK_IMPORTED_MODULE_15__.NdJ("change",__name(function(){return _angular_core__WEBPACK_IMPORTED_MODULE_15__.CHM(_r8),_angular_core__WEBPACK_IMPORTED_MODULE_15__.oxw(3).selectAll()},"DsDynamicLookupRelationSearchTabComponent_ds_themed_search_0_div_1_input_4_Template_input_change_0_listener")),_angular_core__WEBPACK_IMPORTED_MODULE_15__.qZA()}2&rf&&_angular_core__WEBPACK_IMPORTED_MODULE_15__.Q6J("indeterminate",!1)}function DsDynamicLookupRelationSearchTabComponent_ds_themed_search_0_div_1_input_6_Template(rf,ctx){if(1&rf){const _r10=_angular_core__WEBPACK_IMPORTED_MODULE_15__.EpF();_angular_core__WEBPACK_IMPORTED_MODULE_15__.TgZ(0,"input",14),_angular_core__WEBPACK_IMPORTED_MODULE_15__.NdJ("change",__name(function(){return _angular_core__WEBPACK_IMPORTED_MODULE_15__.CHM(_r10),_angular_core__WEBPACK_IMPORTED_MODULE_15__.oxw(3).deselectAll()},"DsDynamicLookupRelationSearchTabComponent_ds_themed_search_0_div_1_input_6_Template_input_change_0_listener")),_angular_core__WEBPACK_IMPORTED_MODULE_15__.qZA()}2&rf&&_angular_core__WEBPACK_IMPORTED_MODULE_15__.Q6J("indeterminate",!0)}function DsDynamicLookupRelationSearchTabComponent_ds_themed_search_0_div_1_input_8_Template(rf,ctx){if(1&rf){const _r12=_angular_core__WEBPACK_IMPORTED_MODULE_15__.EpF();_angular_core__WEBPACK_IMPORTED_MODULE_15__.TgZ(0,"input",15),_angular_core__WEBPACK_IMPORTED_MODULE_15__.NdJ("change",__name(function(){return _angular_core__WEBPACK_IMPORTED_MODULE_15__.CHM(_r12),_angular_core__WEBPACK_IMPORTED_MODULE_15__.oxw(3).deselectAll()},"DsDynamicLookupRelationSearchTabComponent_ds_themed_search_0_div_1_input_8_Template_input_change_0_listener")),_angular_core__WEBPACK_IMPORTED_MODULE_15__.qZA()}2&rf&&_angular_core__WEBPACK_IMPORTED_MODULE_15__.Q6J("checked",!0)}function DsDynamicLookupRelationSearchTabComponent_ds_themed_search_0_div_1_button_10_Template(rf,ctx){1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_15__.TgZ(0,"button",16),_angular_core__WEBPACK_IMPORTED_MODULE_15__._UZ(1,"span",17),_angular_core__WEBPACK_IMPORTED_MODULE_15__.TgZ(2,"span",12),_angular_core__WEBPACK_IMPORTED_MODULE_15__._uU(3),_angular_core__WEBPACK_IMPORTED_MODULE_15__.ALo(4,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_15__.qZA()()),2&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_15__.xp6(3),_angular_core__WEBPACK_IMPORTED_MODULE_15__.Oqu(_angular_core__WEBPACK_IMPORTED_MODULE_15__.lcZ(4,1,"submission.sections.describe.relationship-lookup.search-tab.loading")))}function DsDynamicLookupRelationSearchTabComponent_ds_themed_search_0_div_1_div_15_Template(rf,ctx){if(1&rf){const _r15=_angular_core__WEBPACK_IMPORTED_MODULE_15__.EpF();_angular_core__WEBPACK_IMPORTED_MODULE_15__.TgZ(0,"div",18)(1,"button",19),_angular_core__WEBPACK_IMPORTED_MODULE_15__.NdJ("click",__name(function(){const resultsRD_r13=_angular_core__WEBPACK_IMPORTED_MODULE_15__.CHM(_r15).ngVar;return _angular_core__WEBPACK_IMPORTED_MODULE_15__.oxw(3).selectPage(null==resultsRD_r13?null:resultsRD_r13.page)},"DsDynamicLookupRelationSearchTabComponent_ds_themed_search_0_div_1_div_15_Template_button_click_1_listener")),_angular_core__WEBPACK_IMPORTED_MODULE_15__._uU(2),_angular_core__WEBPACK_IMPORTED_MODULE_15__.ALo(3,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_15__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_15__.TgZ(4,"button",19),_angular_core__WEBPACK_IMPORTED_MODULE_15__.NdJ("click",__name(function(){const resultsRD_r13=_angular_core__WEBPACK_IMPORTED_MODULE_15__.CHM(_r15).ngVar;return _angular_core__WEBPACK_IMPORTED_MODULE_15__.oxw(3).deselectPage(null==resultsRD_r13?null:resultsRD_r13.page)},"DsDynamicLookupRelationSearchTabComponent_ds_themed_search_0_div_1_div_15_Template_button_click_4_listener")),_angular_core__WEBPACK_IMPORTED_MODULE_15__._uU(5),_angular_core__WEBPACK_IMPORTED_MODULE_15__.ALo(6,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_15__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_15__.TgZ(7,"button",19),_angular_core__WEBPACK_IMPORTED_MODULE_15__.NdJ("click",__name(function(){return _angular_core__WEBPACK_IMPORTED_MODULE_15__.CHM(_r15),_angular_core__WEBPACK_IMPORTED_MODULE_15__.oxw(3).selectAll()},"DsDynamicLookupRelationSearchTabComponent_ds_themed_search_0_div_1_div_15_Template_button_click_7_listener")),_angular_core__WEBPACK_IMPORTED_MODULE_15__._uU(8),_angular_core__WEBPACK_IMPORTED_MODULE_15__.ALo(9,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_15__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_15__.TgZ(10,"button",19),_angular_core__WEBPACK_IMPORTED_MODULE_15__.NdJ("click",__name(function(){return _angular_core__WEBPACK_IMPORTED_MODULE_15__.CHM(_r15),_angular_core__WEBPACK_IMPORTED_MODULE_15__.oxw(3).deselectAll()},"DsDynamicLookupRelationSearchTabComponent_ds_themed_search_0_div_1_div_15_Template_button_click_10_listener")),_angular_core__WEBPACK_IMPORTED_MODULE_15__._uU(11),_angular_core__WEBPACK_IMPORTED_MODULE_15__.ALo(12,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_15__.qZA()()}2&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_15__.xp6(2),_angular_core__WEBPACK_IMPORTED_MODULE_15__.Oqu(_angular_core__WEBPACK_IMPORTED_MODULE_15__.lcZ(3,4,"submission.sections.describe.relationship-lookup.search-tab.select-page")),_angular_core__WEBPACK_IMPORTED_MODULE_15__.xp6(3),_angular_core__WEBPACK_IMPORTED_MODULE_15__.Oqu(_angular_core__WEBPACK_IMPORTED_MODULE_15__.lcZ(6,6,"submission.sections.describe.relationship-lookup.search-tab.deselect-page")),_angular_core__WEBPACK_IMPORTED_MODULE_15__.xp6(3),_angular_core__WEBPACK_IMPORTED_MODULE_15__.Oqu(_angular_core__WEBPACK_IMPORTED_MODULE_15__.lcZ(9,8,"submission.sections.describe.relationship-lookup.search-tab.select-all")),_angular_core__WEBPACK_IMPORTED_MODULE_15__.xp6(3),_angular_core__WEBPACK_IMPORTED_MODULE_15__.Oqu(_angular_core__WEBPACK_IMPORTED_MODULE_15__.lcZ(12,10,"submission.sections.describe.relationship-lookup.search-tab.deselect-all")))}function DsDynamicLookupRelationSearchTabComponent_ds_themed_search_0_div_1_Template(rf,ctx){if(1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_15__.TgZ(0,"div",3)(1,"div",4)(2,"div",5)(3,"div",6),_angular_core__WEBPACK_IMPORTED_MODULE_15__.YNc(4,DsDynamicLookupRelationSearchTabComponent_ds_themed_search_0_div_1_input_4_Template,1,1,"input",7),_angular_core__WEBPACK_IMPORTED_MODULE_15__.ALo(5,"async"),_angular_core__WEBPACK_IMPORTED_MODULE_15__.YNc(6,DsDynamicLookupRelationSearchTabComponent_ds_themed_search_0_div_1_input_6_Template,1,1,"input",7),_angular_core__WEBPACK_IMPORTED_MODULE_15__.ALo(7,"async"),_angular_core__WEBPACK_IMPORTED_MODULE_15__.YNc(8,DsDynamicLookupRelationSearchTabComponent_ds_themed_search_0_div_1_input_8_Template,1,1,"input",8),_angular_core__WEBPACK_IMPORTED_MODULE_15__.qZA()(),_angular_core__WEBPACK_IMPORTED_MODULE_15__.TgZ(9,"div",9),_angular_core__WEBPACK_IMPORTED_MODULE_15__.YNc(10,DsDynamicLookupRelationSearchTabComponent_ds_themed_search_0_div_1_button_10_Template,5,3,"button",10),_angular_core__WEBPACK_IMPORTED_MODULE_15__.TgZ(11,"button",11)(12,"span",12),_angular_core__WEBPACK_IMPORTED_MODULE_15__._uU(13),_angular_core__WEBPACK_IMPORTED_MODULE_15__.ALo(14,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_15__.qZA()(),_angular_core__WEBPACK_IMPORTED_MODULE_15__.YNc(15,DsDynamicLookupRelationSearchTabComponent_ds_themed_search_0_div_1_div_15_Template,13,12,"div",13),_angular_core__WEBPACK_IMPORTED_MODULE_15__.ALo(16,"async"),_angular_core__WEBPACK_IMPORTED_MODULE_15__.qZA()()()),2&rf){const ctx_r1=_angular_core__WEBPACK_IMPORTED_MODULE_15__.oxw(2);_angular_core__WEBPACK_IMPORTED_MODULE_15__.xp6(4),_angular_core__WEBPACK_IMPORTED_MODULE_15__.Q6J("ngIf",!ctx_r1.allSelected&&!_angular_core__WEBPACK_IMPORTED_MODULE_15__.lcZ(5,7,ctx_r1.someSelected$)),_angular_core__WEBPACK_IMPORTED_MODULE_15__.xp6(2),_angular_core__WEBPACK_IMPORTED_MODULE_15__.Q6J("ngIf",!ctx_r1.allSelected&&_angular_core__WEBPACK_IMPORTED_MODULE_15__.lcZ(7,9,ctx_r1.someSelected$)),_angular_core__WEBPACK_IMPORTED_MODULE_15__.xp6(2),_angular_core__WEBPACK_IMPORTED_MODULE_15__.Q6J("ngIf",ctx_r1.allSelected),_angular_core__WEBPACK_IMPORTED_MODULE_15__.xp6(2),_angular_core__WEBPACK_IMPORTED_MODULE_15__.Q6J("ngIf",ctx_r1.selectAllLoading),_angular_core__WEBPACK_IMPORTED_MODULE_15__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_15__.Q6J("hidden",ctx_r1.selectAllLoading),_angular_core__WEBPACK_IMPORTED_MODULE_15__.xp6(2),_angular_core__WEBPACK_IMPORTED_MODULE_15__.Oqu(_angular_core__WEBPACK_IMPORTED_MODULE_15__.lcZ(14,11,"submission.sections.describe.relationship-lookup.toggle-dropdown")),_angular_core__WEBPACK_IMPORTED_MODULE_15__.xp6(2),_angular_core__WEBPACK_IMPORTED_MODULE_15__.Q6J("ngVar",_angular_core__WEBPACK_IMPORTED_MODULE_15__.lcZ(16,13,ctx_r1.resultsRD$))}}__name(DsDynamicLookupRelationSearchTabComponent_ds_themed_search_0_div_1_input_4_Template,"DsDynamicLookupRelationSearchTabComponent_ds_themed_search_0_div_1_input_4_Template"),__name(DsDynamicLookupRelationSearchTabComponent_ds_themed_search_0_div_1_input_6_Template,"DsDynamicLookupRelationSearchTabComponent_ds_themed_search_0_div_1_input_6_Template"),__name(DsDynamicLookupRelationSearchTabComponent_ds_themed_search_0_div_1_input_8_Template,"DsDynamicLookupRelationSearchTabComponent_ds_themed_search_0_div_1_input_8_Template"),__name(DsDynamicLookupRelationSearchTabComponent_ds_themed_search_0_div_1_button_10_Template,"DsDynamicLookupRelationSearchTabComponent_ds_themed_search_0_div_1_button_10_Template"),__name(DsDynamicLookupRelationSearchTabComponent_ds_themed_search_0_div_1_div_15_Template,"DsDynamicLookupRelationSearchTabComponent_ds_themed_search_0_div_1_div_15_Template"),__name(DsDynamicLookupRelationSearchTabComponent_ds_themed_search_0_div_1_Template,"DsDynamicLookupRelationSearchTabComponent_ds_themed_search_0_div_1_Template");const _c0=__name(function(a0,a1){return{repeatable:a0,listId:a1}},"_c0");function DsDynamicLookupRelationSearchTabComponent_ds_themed_search_0_Template(rf,ctx){if(1&rf){const _r20=_angular_core__WEBPACK_IMPORTED_MODULE_15__.EpF();_angular_core__WEBPACK_IMPORTED_MODULE_15__.TgZ(0,"ds-themed-search",1),_angular_core__WEBPACK_IMPORTED_MODULE_15__.NdJ("resultFound",__name(function($event){return _angular_core__WEBPACK_IMPORTED_MODULE_15__.CHM(_r20),_angular_core__WEBPACK_IMPORTED_MODULE_15__.oxw().onResultFound($event)},"DsDynamicLookupRelationSearchTabComponent_ds_themed_search_0_Template_ds_themed_search_resultFound_0_listener"))("deselectObject",__name(function($event){return _angular_core__WEBPACK_IMPORTED_MODULE_15__.CHM(_r20),_angular_core__WEBPACK_IMPORTED_MODULE_15__.oxw().deselectObject.emit($event)},"DsDynamicLookupRelationSearchTabComponent_ds_themed_search_0_Template_ds_themed_search_deselectObject_0_listener"))("selectObject",__name(function($event){return _angular_core__WEBPACK_IMPORTED_MODULE_15__.CHM(_r20),_angular_core__WEBPACK_IMPORTED_MODULE_15__.oxw().selectObject.emit($event)},"DsDynamicLookupRelationSearchTabComponent_ds_themed_search_0_Template_ds_themed_search_selectObject_0_listener")),_angular_core__WEBPACK_IMPORTED_MODULE_15__.YNc(1,DsDynamicLookupRelationSearchTabComponent_ds_themed_search_0_div_1_Template,17,15,"div",2),_angular_core__WEBPACK_IMPORTED_MODULE_15__.qZA()}if(2&rf){const ctx_r0=_angular_core__WEBPACK_IMPORTED_MODULE_15__.oxw();_angular_core__WEBPACK_IMPORTED_MODULE_15__.Q6J("configuration",ctx_r0.relationship.searchConfiguration)("context",ctx_r0.context)("fixedFilterQuery",ctx_r0.relationship.filter)("inPlaceSearch",!0)("linkType",ctx_r0.linkTypes.ExternalLink)("searchFormPlaceholder","submission.sections.describe.relationship-lookup.search-tab.search-form.placeholder")("selectable",!0)("selectionConfig",_angular_core__WEBPACK_IMPORTED_MODULE_15__.WLB(11,_c0,ctx_r0.repeatable,ctx_r0.listId))("showScopeSelector",!1)("showViewModes",!1),_angular_core__WEBPACK_IMPORTED_MODULE_15__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_15__.Q6J("ngIf",ctx_r0.repeatable)}}__name(DsDynamicLookupRelationSearchTabComponent_ds_themed_search_0_Template,"DsDynamicLookupRelationSearchTabComponent_ds_themed_search_0_Template");class DsDynamicLookupRelationSearchTabComponent{constructor(searchService,selectableListService,searchConfigService,lookupRelationService,relationshipService,paginationService){this.searchService=searchService,this.selectableListService=selectableListService,this.searchConfigService=searchConfigService,this.lookupRelationService=lookupRelationService,this.relationshipService=relationshipService,this.paginationService=paginationService,this.deselectObject=new _angular_core__WEBPACK_IMPORTED_MODULE_15__.vpe,this.selectObject=new _angular_core__WEBPACK_IMPORTED_MODULE_15__.vpe,this.resultsRD$=new rxjs__WEBPACK_IMPORTED_MODULE_16__.BehaviorSubject(null),this.initialPagination={page:1,pageSize:5},this.linkTypes=_object_collection_collection_element_link_type__WEBPACK_IMPORTED_MODULE_7__.m,this.resultFound=new _angular_core__WEBPACK_IMPORTED_MODULE_15__.vpe}ngOnInit(){this.resetRoute()}resetRoute(){this.paginationService.updateRoute(this.searchConfigService.paginationID,this.initialPagination)}selectPage(page){this.selection$.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_17__.qn)(1)).subscribe(selection=>{const filteredPage=page.filter(pageItem=>selection.findIndex(selected=>selected.equals(pageItem))<0);this.selectObject.emit(...filteredPage)}),this.selectableListService.select(this.listId,page)}deselectPage(page){this.allSelected=!1,this.selection$.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_17__.qn)(1)).subscribe(selection=>{const filteredPage=page.filter(pageItem=>selection.findIndex(selected=>selected.equals(pageItem))>=0);this.deselectObject.emit(...filteredPage)}),this.selectableListService.deselect(this.listId,page)}selectAll(){this.allSelected=!0,this.selectAllLoading=!0;const fullPagination=Object.assign(new _pagination_pagination_component_options_model__WEBPACK_IMPORTED_MODULE_3__.r,{currentPage:1,pageSize:9999}),fullSearchConfig=Object.assign(this.lookupRelationService.searchConfig,{pagination:fullPagination});this.searchService.search(fullSearchConfig).pipe((0,_core_shared_operators__WEBPACK_IMPORTED_MODULE_6__.xw)(),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_17__.UI)(resultsRD=>resultsRD.payload.page),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_17__.bw)(()=>this.selectAllLoading=!1),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_17__.wt)(results=>this.selection$.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_17__.qn)(1),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_17__.bw)(selection=>{const filteredResults=results.filter(pageItem=>selection.findIndex(selected=>selected.equals(pageItem))<0);this.selectObject.emit(...filteredResults)}),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_17__.hZ)(results)))).subscribe(results=>{this.selectableListService.select(this.listId,results)})}setSelectedIds(idOfItems,resultListOfItems){let relationType=this.relationshipType.rightwardType;this.isLeft&&(relationType=this.relationshipType.leftwardType),this.relationshipService.searchByItemsAndType(this.relationshipType.id,this.item.uuid,relationType,idOfItems).pipe((0,_core_shared_operators__WEBPACK_IMPORTED_MODULE_6__.xw)(),(0,_core_shared_operators__WEBPACK_IMPORTED_MODULE_6__.xe)()).subscribe(res=>{let selectableObject=res.page.map(relationship=>{let arrUrl=[];arrUrl=this.isLeft?relationship._links.rightItem.href.split("/"):relationship._links.leftItem.href.split("/");const uuid=arrUrl[arrUrl.length-1];return this.getRelatedItem(uuid,resultListOfItems)});selectableObject=selectableObject.filter(selObject=>!this.getIfInRemove(selObject.indexableObject.uuid)),selectableObject.length>0&&this.selectableListService.select(this.listId,selectableObject)})}deselectAll(){this.allSelected=!1,this.selection$.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_17__.qn)(1)).subscribe(selection=>this.deselectObject.emit(...selection)),this.selectableListService.deselectAll(this.listId)}getRelatedItem(uuid,resultList){return resultList.find(resultItem=>resultItem.indexableObject.uuid===uuid)}getIfInRemove(uuid){return!!this.toRemove.find(searchResult=>searchResult.indexableObject.uuid===uuid)}ngOnDestroy(){(0,_empty_util__WEBPACK_IMPORTED_MODULE_18__.Uh)(this.subscription)&&this.subscription.unsubscribe()}onResultFound($event){if(this.resultsRD$.next($event),this.resultFound.emit($event),this.isEditRelationship){const idOfItems=$event.page.map(itemSearchResult=>itemSearchResult.indexableObject.uuid);this.setSelectedIds(idOfItems,$event.page)}}}__name(DsDynamicLookupRelationSearchTabComponent,"DsDynamicLookupRelationSearchTabComponent"),DsDynamicLookupRelationSearchTabComponent.\u0275fac=__name(function(t){return new(t||DsDynamicLookupRelationSearchTabComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_15__.Y36(_core_shared_search_search_service__WEBPACK_IMPORTED_MODULE_4__.o),_angular_core__WEBPACK_IMPORTED_MODULE_15__.Y36(_object_list_selectable_list_selectable_list_service__WEBPACK_IMPORTED_MODULE_5__.w),_angular_core__WEBPACK_IMPORTED_MODULE_15__.Y36(_core_shared_search_search_configuration_service__WEBPACK_IMPORTED_MODULE_1__.U),_angular_core__WEBPACK_IMPORTED_MODULE_15__.Y36(_core_data_lookup_relation_service__WEBPACK_IMPORTED_MODULE_9__.P),_angular_core__WEBPACK_IMPORTED_MODULE_15__.Y36(_core_data_relationship_data_service__WEBPACK_IMPORTED_MODULE_11__.U),_angular_core__WEBPACK_IMPORTED_MODULE_15__.Y36(_core_pagination_pagination_service__WEBPACK_IMPORTED_MODULE_10__.N))},"DsDynamicLookupRelationSearchTabComponent_Factory"),DsDynamicLookupRelationSearchTabComponent.\u0275cmp=_angular_core__WEBPACK_IMPORTED_MODULE_15__.Xpm({type:DsDynamicLookupRelationSearchTabComponent,selectors:[["ds-dynamic-lookup-relation-search-tab"]],inputs:{relationship:"relationship",listId:"listId",query:"query",repeatable:"repeatable",selection$:"selection$",context:"context",relationshipType:"relationshipType",item:"item",isLeft:"isLeft",toRemove:"toRemove",isEditRelationship:"isEditRelationship"},outputs:{deselectObject:"deselectObject",selectObject:"selectObject",resultFound:"resultFound"},features:[_angular_core__WEBPACK_IMPORTED_MODULE_15__._Bn([{provide:_my_dspace_page_my_dspace_page_component__WEBPACK_IMPORTED_MODULE_0__.SEARCH_CONFIG_SERVICE,useClass:_core_shared_search_search_configuration_service__WEBPACK_IMPORTED_MODULE_1__.U}])],decls:1,vars:1,consts:[[3,"configuration","context","fixedFilterQuery","inPlaceSearch","linkType","searchFormPlaceholder","selectable","selectionConfig","showScopeSelector","showViewModes","resultFound","deselectObject","selectObject",4,"ngIf"],[3,"configuration","context","fixedFilterQuery","inPlaceSearch","linkType","searchFormPlaceholder","selectable","selectionConfig","showScopeSelector","showViewModes","resultFound","deselectObject","selectObject"],["additionalSearchOptions","","class","position-absolute",4,"ngIf"],["additionalSearchOptions","",1,"position-absolute"],[1,"input-group","mb-3"],[1,"input-group-prepend"],[1,"input-group-text"],["type","checkbox",3,"indeterminate","change",4,"ngIf"],["type","checkbox",3,"checked","change",4,"ngIf"],["ngbDropdown","",1,"input-group-append"],["type","button","class","btn btn-outline-secondary rounded-right",4,"ngIf"],["id","resultdropdown","type","button","ngbDropdownToggle","","data-toggle","dropdown","aria-haspopup","true","aria-expanded","false",1,"btn","btn-outline-secondary","dropdown-toggle-split",3,"hidden"],[1,"sr-only"],["ngbDropdownMenu","","aria-labelledby","resultdropdown",4,"ngVar"],["type","checkbox",3,"indeterminate","change"],["type","checkbox",3,"checked","change"],["type","button",1,"btn","btn-outline-secondary","rounded-right"],["role","status","aria-hidden","true",1,"spinner-border","spinner-border-sm"],["ngbDropdownMenu","","aria-labelledby","resultdropdown"],[1,"dropdown-item",3,"click"]],template:__name(function(rf,ctx){1&rf&&_angular_core__WEBPACK_IMPORTED_MODULE_15__.YNc(0,DsDynamicLookupRelationSearchTabComponent_ds_themed_search_0_Template,2,14,"ds-themed-search",0),2&rf&&_angular_core__WEBPACK_IMPORTED_MODULE_15__.Q6J("ngIf",ctx.relationship.searchConfiguration&&ctx.context)},"DsDynamicLookupRelationSearchTabComponent_Template"),directives:[_angular_common__WEBPACK_IMPORTED_MODULE_19__.O5,_search_themed_search_component__WEBPACK_IMPORTED_MODULE_13__.l,_ng_bootstrap_ng_bootstrap__WEBPACK_IMPORTED_MODULE_20__.jt,_ng_bootstrap_ng_bootstrap__WEBPACK_IMPORTED_MODULE_20__.iD,_utils_var_directive__WEBPACK_IMPORTED_MODULE_14__.g,_ng_bootstrap_ng_bootstrap__WEBPACK_IMPORTED_MODULE_20__.Vi],pipes:[_angular_common__WEBPACK_IMPORTED_MODULE_19__.Ov,_ngx_translate_core__WEBPACK_IMPORTED_MODULE_21__.X$],styles:[".position-absolute[_ngcontent-%COMP%]{right:var(--bs-spacer)}"]})},53006:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{O:()=>DsDynamicLookupRelationSelectionTabComponent});var _angular_core__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(5e3),_my_dspace_page_my_dspace_page_component__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(14292),_core_shared_search_search_configuration_service__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(36872),rxjs_operators__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(83292),_pagination_pagination_component_options_model__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(26638),_core_data_paginated_list_model__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(24789),_core_shared_page_info_model__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(62713),_remote_data_utils__WEBPACK_IMPORTED_MODULE_6__=(__webpack_require__(84935),__webpack_require__(58577)),_core_pagination_pagination_service__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(77467),_angular_router__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(74202),_page_size_selector_page_size_selector_component__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(82656),_angular_common__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__(69808),_object_collection_object_collection_component__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(70714),_ngx_translate_core__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__(42466);function DsDynamicLookupRelationSelectionTabComponent_div_7_Template(rf,ctx){1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_10__.TgZ(0,"div"),_angular_core__WEBPACK_IMPORTED_MODULE_10__._uU(1),_angular_core__WEBPACK_IMPORTED_MODULE_10__.ALo(2,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_10__.qZA()),2&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_10__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_10__.hij(" ",_angular_core__WEBPACK_IMPORTED_MODULE_10__.lcZ(2,1,"submission.sections.describe.relationship-lookup.selection-tab.no-selection")," "))}__name(DsDynamicLookupRelationSelectionTabComponent_div_7_Template,"DsDynamicLookupRelationSelectionTabComponent_div_7_Template");const _c0=__name(function(a0,a1){return{repeatable:a0,listId:a1}},"_c0");function DsDynamicLookupRelationSelectionTabComponent_div_9_Template(rf,ctx){if(1&rf){const _r3=_angular_core__WEBPACK_IMPORTED_MODULE_10__.EpF();_angular_core__WEBPACK_IMPORTED_MODULE_10__.TgZ(0,"div")(1,"h3"),_angular_core__WEBPACK_IMPORTED_MODULE_10__._uU(2),_angular_core__WEBPACK_IMPORTED_MODULE_10__.ALo(3,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_10__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_10__.TgZ(4,"ds-viewable-collection",4),_angular_core__WEBPACK_IMPORTED_MODULE_10__.NdJ("deselectObject",__name(function($event){return _angular_core__WEBPACK_IMPORTED_MODULE_10__.CHM(_r3),_angular_core__WEBPACK_IMPORTED_MODULE_10__.oxw().deselectObject.emit($event)},"DsDynamicLookupRelationSelectionTabComponent_div_9_Template_ds_viewable_collection_deselectObject_4_listener"))("selectObject",__name(function($event){return _angular_core__WEBPACK_IMPORTED_MODULE_10__.CHM(_r3),_angular_core__WEBPACK_IMPORTED_MODULE_10__.oxw().selectObject.emit($event)},"DsDynamicLookupRelationSelectionTabComponent_div_9_Template_ds_viewable_collection_selectObject_4_listener")),_angular_core__WEBPACK_IMPORTED_MODULE_10__.ALo(5,"async"),_angular_core__WEBPACK_IMPORTED_MODULE_10__.ALo(6,"async"),_angular_core__WEBPACK_IMPORTED_MODULE_10__.qZA()()}if(2&rf){const ctx_r1=_angular_core__WEBPACK_IMPORTED_MODULE_10__.oxw();_angular_core__WEBPACK_IMPORTED_MODULE_10__.xp6(2),_angular_core__WEBPACK_IMPORTED_MODULE_10__.Oqu(_angular_core__WEBPACK_IMPORTED_MODULE_10__.lcZ(3,7,"submission.sections.describe.relationship-lookup.selection-tab.title."+ctx_r1.relationshipType)),_angular_core__WEBPACK_IMPORTED_MODULE_10__.xp6(2),_angular_core__WEBPACK_IMPORTED_MODULE_10__.Q6J("objects",_angular_core__WEBPACK_IMPORTED_MODULE_10__.lcZ(5,9,ctx_r1.selectionRD$))("selectable",!0)("selectionConfig",_angular_core__WEBPACK_IMPORTED_MODULE_10__.WLB(13,_c0,ctx_r1.repeatable,ctx_r1.listId))("config",_angular_core__WEBPACK_IMPORTED_MODULE_10__.lcZ(6,11,ctx_r1.currentPagination$))("hideGear",!0)("context",ctx_r1.context)}}__name(DsDynamicLookupRelationSelectionTabComponent_div_9_Template,"DsDynamicLookupRelationSelectionTabComponent_div_9_Template");class DsDynamicLookupRelationSelectionTabComponent{constructor(router,searchConfigService,paginationService){this.router=router,this.searchConfigService=searchConfigService,this.paginationService=paginationService,this.deselectObject=new _angular_core__WEBPACK_IMPORTED_MODULE_10__.vpe,this.selectObject=new _angular_core__WEBPACK_IMPORTED_MODULE_10__.vpe,this.initialPagination=Object.assign(new _pagination_pagination_component_options_model__WEBPACK_IMPORTED_MODULE_2__.r,{id:"spc",pageSize:5})}ngOnInit(){this.resetRoute(),this.selectionRD$=this.searchConfigService.paginatedSearchOptions.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_11__.UI)(options=>options.pagination),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_11__.wt)(pagination=>this.selection$.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_11__.qn)(1),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_11__.UI)(selected=>{const offset=(pagination.currentPage-1)*pagination.pageSize,end=offset+pagination.pageSize>selected.length?selected.length:offset+pagination.pageSize,selection=selected.slice(offset,end),pageInfo=new _core_shared_page_info_model__WEBPACK_IMPORTED_MODULE_4__.S({elementsPerPage:pagination.pageSize,totalElements:selected.length,currentPage:pagination.currentPage,totalPages:Math.ceil(selected.length/pagination.pageSize)});return(0,_remote_data_utils__WEBPACK_IMPORTED_MODULE_6__.AC)((0,_core_data_paginated_list_model__WEBPACK_IMPORTED_MODULE_3__.b)(pageInfo,selection))})))),this.currentPagination$=this.paginationService.getCurrentPagination(this.searchConfigService.paginationID,this.initialPagination)}resetRoute(){this.paginationService.updateRoute(this.searchConfigService.paginationID,{page:1,pageSize:5})}}__name(DsDynamicLookupRelationSelectionTabComponent,"DsDynamicLookupRelationSelectionTabComponent"),DsDynamicLookupRelationSelectionTabComponent.\u0275fac=__name(function(t){return new(t||DsDynamicLookupRelationSelectionTabComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_10__.Y36(_angular_router__WEBPACK_IMPORTED_MODULE_12__.F0),_angular_core__WEBPACK_IMPORTED_MODULE_10__.Y36(_core_shared_search_search_configuration_service__WEBPACK_IMPORTED_MODULE_1__.U),_angular_core__WEBPACK_IMPORTED_MODULE_10__.Y36(_core_pagination_pagination_service__WEBPACK_IMPORTED_MODULE_7__.N))},"DsDynamicLookupRelationSelectionTabComponent_Factory"),DsDynamicLookupRelationSelectionTabComponent.\u0275cmp=_angular_core__WEBPACK_IMPORTED_MODULE_10__.Xpm({type:DsDynamicLookupRelationSelectionTabComponent,selectors:[["ds-dynamic-lookup-relation-selection-tab"]],inputs:{relationshipType:"relationshipType",listId:"listId",repeatable:"repeatable",selection$:"selection$",selectionRD$:"selectionRD$",context:"context"},outputs:{deselectObject:"deselectObject",selectObject:"selectObject"},features:[_angular_core__WEBPACK_IMPORTED_MODULE_10__._Bn([{provide:_my_dspace_page_my_dspace_page_component__WEBPACK_IMPORTED_MODULE_0__.SEARCH_CONFIG_SERVICE,useClass:_core_shared_search_search_configuration_service__WEBPACK_IMPORTED_MODULE_1__.U}])],decls:11,vars:9,consts:[[1,"row"],[1,"col-4"],[1,"col-8"],[4,"ngIf"],[3,"objects","selectable","selectionConfig","config","hideGear","context","deselectObject","selectObject"]],template:__name(function(rf,ctx){if(1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_10__.TgZ(0,"div",0)(1,"div",1)(2,"h3"),_angular_core__WEBPACK_IMPORTED_MODULE_10__._uU(3),_angular_core__WEBPACK_IMPORTED_MODULE_10__.ALo(4,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_10__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_10__._UZ(5,"ds-page-size-selector"),_angular_core__WEBPACK_IMPORTED_MODULE_10__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_10__.TgZ(6,"div",2),_angular_core__WEBPACK_IMPORTED_MODULE_10__.YNc(7,DsDynamicLookupRelationSelectionTabComponent_div_7_Template,3,3,"div",3),_angular_core__WEBPACK_IMPORTED_MODULE_10__.ALo(8,"async"),_angular_core__WEBPACK_IMPORTED_MODULE_10__.YNc(9,DsDynamicLookupRelationSelectionTabComponent_div_9_Template,7,16,"div",3),_angular_core__WEBPACK_IMPORTED_MODULE_10__.ALo(10,"async"),_angular_core__WEBPACK_IMPORTED_MODULE_10__.qZA()()),2&rf){let tmp_1_0,tmp_2_0;_angular_core__WEBPACK_IMPORTED_MODULE_10__.xp6(3),_angular_core__WEBPACK_IMPORTED_MODULE_10__.Oqu(_angular_core__WEBPACK_IMPORTED_MODULE_10__.lcZ(4,3,"submission.sections.describe.relationship-lookup.selection-tab.settings")),_angular_core__WEBPACK_IMPORTED_MODULE_10__.xp6(4),_angular_core__WEBPACK_IMPORTED_MODULE_10__.Q6J("ngIf",(null==(tmp_1_0=_angular_core__WEBPACK_IMPORTED_MODULE_10__.lcZ(8,5,ctx.selectionRD$))?null:tmp_1_0.payload.page)<1),_angular_core__WEBPACK_IMPORTED_MODULE_10__.xp6(2),_angular_core__WEBPACK_IMPORTED_MODULE_10__.Q6J("ngIf",(null==(tmp_2_0=_angular_core__WEBPACK_IMPORTED_MODULE_10__.lcZ(10,7,ctx.selectionRD$))?null:tmp_2_0.payload.page.length)>=1)}},"DsDynamicLookupRelationSelectionTabComponent_Template"),directives:[_page_size_selector_page_size_selector_component__WEBPACK_IMPORTED_MODULE_8__.k,_angular_common__WEBPACK_IMPORTED_MODULE_13__.O5,_object_collection_object_collection_component__WEBPACK_IMPORTED_MODULE_9__.c],pipes:[_ngx_translate_core__WEBPACK_IMPORTED_MODULE_14__.X$,_angular_common__WEBPACK_IMPORTED_MODULE_13__.Ov],styles:[""]})},63311:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{U:()=>FormComponent});var rxjs_operators__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(83292),_angular_core__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(5e3),lodash__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(17489),_builder_form_builder_service__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(71022),_empty_util__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(24702),_form_service__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(28858);function FormComponent_ng_template_3_div_0_Template(rf,ctx){if(1&rf){const _r11=_angular_core__WEBPACK_IMPORTED_MODULE_3__.EpF();_angular_core__WEBPACK_IMPORTED_MODULE_3__.TgZ(0,"div",7)(1,"button",8),_angular_core__WEBPACK_IMPORTED_MODULE_3__.NdJ("click",__name(function($event){_angular_core__WEBPACK_IMPORTED_MODULE_3__.CHM(_r11);const ctx_r10=_angular_core__WEBPACK_IMPORTED_MODULE_3__.oxw(),context_r5=ctx_r10.context,index_r4=ctx_r10.index;return _angular_core__WEBPACK_IMPORTED_MODULE_3__.oxw().removeItem($event,context_r5,index_r4)},"FormComponent_ng_template_3_div_0_Template_button_click_1_listener")),_angular_core__WEBPACK_IMPORTED_MODULE_3__.ALo(2,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_3__.ALo(3,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_3__.TgZ(4,"span"),_angular_core__WEBPACK_IMPORTED_MODULE_3__._UZ(5,"i",9),_angular_core__WEBPACK_IMPORTED_MODULE_3__.qZA()()()}if(2&rf){const ctx_r12=_angular_core__WEBPACK_IMPORTED_MODULE_3__.oxw(),group_r3=ctx_r12.$implicit,context_r5=ctx_r12.context,index_r4=ctx_r12.index,ctx_r6=_angular_core__WEBPACK_IMPORTED_MODULE_3__.oxw();_angular_core__WEBPACK_IMPORTED_MODULE_3__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_3__.s9C("title",_angular_core__WEBPACK_IMPORTED_MODULE_3__.lcZ(2,3,"form.remove")),_angular_core__WEBPACK_IMPORTED_MODULE_3__.Q6J("disabled",1===group_r3.context.groups.length||ctx_r6.isItemReadOnly(context_r5,index_r4)),_angular_core__WEBPACK_IMPORTED_MODULE_3__.uIk("aria-label",_angular_core__WEBPACK_IMPORTED_MODULE_3__.lcZ(3,5,"form.remove"))}}function FormComponent_ng_template_3_div_1_Template(rf,ctx){if(1&rf){const _r15=_angular_core__WEBPACK_IMPORTED_MODULE_3__.EpF();_angular_core__WEBPACK_IMPORTED_MODULE_3__.TgZ(0,"div",10)(1,"div",11)(2,"button",12),_angular_core__WEBPACK_IMPORTED_MODULE_3__.NdJ("click",__name(function($event){_angular_core__WEBPACK_IMPORTED_MODULE_3__.CHM(_r15);const group_r3=_angular_core__WEBPACK_IMPORTED_MODULE_3__.oxw().$implicit;return _angular_core__WEBPACK_IMPORTED_MODULE_3__.oxw().insertItem($event,group_r3.context,group_r3.context.groups.length)},"FormComponent_ng_template_3_div_1_Template_button_click_2_listener")),_angular_core__WEBPACK_IMPORTED_MODULE_3__.ALo(3,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_3__.ALo(4,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_3__.TgZ(5,"span"),_angular_core__WEBPACK_IMPORTED_MODULE_3__._UZ(6,"i",13),_angular_core__WEBPACK_IMPORTED_MODULE_3__._uU(7),_angular_core__WEBPACK_IMPORTED_MODULE_3__.ALo(8,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_3__.qZA()()()()}if(2&rf){const ctx_r16=_angular_core__WEBPACK_IMPORTED_MODULE_3__.oxw(),context_r5=ctx_r16.context,index_r4=ctx_r16.index,ctx_r7=_angular_core__WEBPACK_IMPORTED_MODULE_3__.oxw();_angular_core__WEBPACK_IMPORTED_MODULE_3__.xp6(2),_angular_core__WEBPACK_IMPORTED_MODULE_3__.s9C("title",_angular_core__WEBPACK_IMPORTED_MODULE_3__.lcZ(3,4,"form.add")),_angular_core__WEBPACK_IMPORTED_MODULE_3__.Q6J("disabled",ctx_r7.isItemReadOnly(context_r5,index_r4)),_angular_core__WEBPACK_IMPORTED_MODULE_3__.uIk("aria-label",_angular_core__WEBPACK_IMPORTED_MODULE_3__.lcZ(4,6,"form.add")),_angular_core__WEBPACK_IMPORTED_MODULE_3__.xp6(5),_angular_core__WEBPACK_IMPORTED_MODULE_3__.hij(" ",_angular_core__WEBPACK_IMPORTED_MODULE_3__.lcZ(8,8,"form.add"),"")}}function FormComponent_ng_template_3_div_2_Template(rf,ctx){if(1&rf){const _r19=_angular_core__WEBPACK_IMPORTED_MODULE_3__.EpF();_angular_core__WEBPACK_IMPORTED_MODULE_3__.TgZ(0,"div",7)(1,"div",14)(2,"button",15),_angular_core__WEBPACK_IMPORTED_MODULE_3__.NdJ("click",__name(function($event){_angular_core__WEBPACK_IMPORTED_MODULE_3__.CHM(_r19);const ctx_r18=_angular_core__WEBPACK_IMPORTED_MODULE_3__.oxw(),context_r5=ctx_r18.context,index_r4=ctx_r18.index;return _angular_core__WEBPACK_IMPORTED_MODULE_3__.oxw().removeItem($event,context_r5,index_r4)},"FormComponent_ng_template_3_div_2_Template_button_click_2_listener")),_angular_core__WEBPACK_IMPORTED_MODULE_3__.ALo(3,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_3__.ALo(4,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_3__.TgZ(5,"span"),_angular_core__WEBPACK_IMPORTED_MODULE_3__._uU(6),_angular_core__WEBPACK_IMPORTED_MODULE_3__.ALo(7,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_3__.qZA()()()()}if(2&rf){const ctx_r20=_angular_core__WEBPACK_IMPORTED_MODULE_3__.oxw(),group_r3=ctx_r20.$implicit,context_r5=ctx_r20.context,index_r4=ctx_r20.index,ctx_r8=_angular_core__WEBPACK_IMPORTED_MODULE_3__.oxw();_angular_core__WEBPACK_IMPORTED_MODULE_3__.xp6(2),_angular_core__WEBPACK_IMPORTED_MODULE_3__.s9C("title",_angular_core__WEBPACK_IMPORTED_MODULE_3__.lcZ(3,4,"form.discard")),_angular_core__WEBPACK_IMPORTED_MODULE_3__.Q6J("disabled",1===group_r3.context.groups.length||ctx_r8.isItemReadOnly(context_r5,index_r4)),_angular_core__WEBPACK_IMPORTED_MODULE_3__.uIk("aria-label",_angular_core__WEBPACK_IMPORTED_MODULE_3__.lcZ(4,6,"form.discard")),_angular_core__WEBPACK_IMPORTED_MODULE_3__.xp6(4),_angular_core__WEBPACK_IMPORTED_MODULE_3__.Oqu(_angular_core__WEBPACK_IMPORTED_MODULE_3__.lcZ(7,8,"form.discard"))}}function FormComponent_ng_template_3_Template(rf,ctx){if(1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_3__.YNc(0,FormComponent_ng_template_3_div_0_Template,6,7,"div",5),_angular_core__WEBPACK_IMPORTED_MODULE_3__.YNc(1,FormComponent_ng_template_3_div_1_Template,9,10,"div",6),_angular_core__WEBPACK_IMPORTED_MODULE_3__.YNc(2,FormComponent_ng_template_3_div_2_Template,8,10,"div",5)),2&rf){const group_r3=ctx.$implicit,index_r4=ctx.index,context_r5=ctx.context,ctx_r0=_angular_core__WEBPACK_IMPORTED_MODULE_3__.oxw();_angular_core__WEBPACK_IMPORTED_MODULE_3__.Q6J("ngIf",!context_r5.notRepeatable&&!ctx_r0.isVirtual(context_r5,index_r4)),_angular_core__WEBPACK_IMPORTED_MODULE_3__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_3__.Q6J("ngIf",!context_r5.notRepeatable&&index_r4===group_r3.context.groups.length-1),_angular_core__WEBPACK_IMPORTED_MODULE_3__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_3__.Q6J("ngIf",context_r5.notRepeatable&&context_r5.showButtons&&group_r3.context.groups.length>1)}}function FormComponent_ng_content_5_Template(rf,ctx){1&rf&&_angular_core__WEBPACK_IMPORTED_MODULE_3__.Hsn(0,1,["*ngIf","!displaySubmit && !displayCancel"])}function FormComponent_div_6_button_5_Template(rf,ctx){if(1&rf){const _r24=_angular_core__WEBPACK_IMPORTED_MODULE_3__.EpF();_angular_core__WEBPACK_IMPORTED_MODULE_3__.TgZ(0,"button",20),_angular_core__WEBPACK_IMPORTED_MODULE_3__.NdJ("click",__name(function(){return _angular_core__WEBPACK_IMPORTED_MODULE_3__.CHM(_r24),_angular_core__WEBPACK_IMPORTED_MODULE_3__.oxw(2).reset()},"FormComponent_div_6_button_5_Template_button_click_0_listener")),_angular_core__WEBPACK_IMPORTED_MODULE_3__._UZ(1,"i",21),_angular_core__WEBPACK_IMPORTED_MODULE_3__._uU(2),_angular_core__WEBPACK_IMPORTED_MODULE_3__.ALo(3,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_3__.qZA()}if(2&rf){const ctx_r21=_angular_core__WEBPACK_IMPORTED_MODULE_3__.oxw(2);_angular_core__WEBPACK_IMPORTED_MODULE_3__.xp6(2),_angular_core__WEBPACK_IMPORTED_MODULE_3__.hij(" ",_angular_core__WEBPACK_IMPORTED_MODULE_3__.lcZ(3,1,ctx_r21.cancelLabel)," ")}}function FormComponent_div_6_button_7_Template(rf,ctx){if(1&rf){const _r26=_angular_core__WEBPACK_IMPORTED_MODULE_3__.EpF();_angular_core__WEBPACK_IMPORTED_MODULE_3__.TgZ(0,"button",22),_angular_core__WEBPACK_IMPORTED_MODULE_3__.NdJ("click",__name(function(){return _angular_core__WEBPACK_IMPORTED_MODULE_3__.CHM(_r26),_angular_core__WEBPACK_IMPORTED_MODULE_3__.oxw(2).onSubmit()},"FormComponent_div_6_button_7_Template_button_click_0_listener")),_angular_core__WEBPACK_IMPORTED_MODULE_3__.ALo(1,"async"),_angular_core__WEBPACK_IMPORTED_MODULE_3__._UZ(2,"i",23),_angular_core__WEBPACK_IMPORTED_MODULE_3__._uU(3),_angular_core__WEBPACK_IMPORTED_MODULE_3__.ALo(4,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_3__.qZA()}if(2&rf){const ctx_r22=_angular_core__WEBPACK_IMPORTED_MODULE_3__.oxw(2);_angular_core__WEBPACK_IMPORTED_MODULE_3__.Q6J("disabled",!_angular_core__WEBPACK_IMPORTED_MODULE_3__.lcZ(1,2,ctx_r22.isValid())),_angular_core__WEBPACK_IMPORTED_MODULE_3__.xp6(3),_angular_core__WEBPACK_IMPORTED_MODULE_3__.hij(" ",_angular_core__WEBPACK_IMPORTED_MODULE_3__.lcZ(4,4,ctx_r22.submitLabel)," ")}}function FormComponent_div_6_Template(rf,ctx){if(1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_3__.TgZ(0,"div"),_angular_core__WEBPACK_IMPORTED_MODULE_3__._UZ(1,"hr"),_angular_core__WEBPACK_IMPORTED_MODULE_3__.TgZ(2,"div",16)(3,"div",17),_angular_core__WEBPACK_IMPORTED_MODULE_3__.Hsn(4,2),_angular_core__WEBPACK_IMPORTED_MODULE_3__.YNc(5,FormComponent_div_6_button_5_Template,4,3,"button",18),_angular_core__WEBPACK_IMPORTED_MODULE_3__.Hsn(6,3),_angular_core__WEBPACK_IMPORTED_MODULE_3__.YNc(7,FormComponent_div_6_button_7_Template,5,6,"button",19),_angular_core__WEBPACK_IMPORTED_MODULE_3__.Hsn(8,4),_angular_core__WEBPACK_IMPORTED_MODULE_3__.qZA()()()),2&rf){const ctx_r2=_angular_core__WEBPACK_IMPORTED_MODULE_3__.oxw();_angular_core__WEBPACK_IMPORTED_MODULE_3__.xp6(5),_angular_core__WEBPACK_IMPORTED_MODULE_3__.Q6J("ngIf",ctx_r2.displayCancel),_angular_core__WEBPACK_IMPORTED_MODULE_3__.xp6(2),_angular_core__WEBPACK_IMPORTED_MODULE_3__.Q6J("ngIf",ctx_r2.displaySubmit)}}__name(FormComponent_ng_template_3_div_0_Template,"FormComponent_ng_template_3_div_0_Template"),__name(FormComponent_ng_template_3_div_1_Template,"FormComponent_ng_template_3_div_1_Template"),__name(FormComponent_ng_template_3_div_2_Template,"FormComponent_ng_template_3_div_2_Template"),__name(FormComponent_ng_template_3_Template,"FormComponent_ng_template_3_Template"),__name(FormComponent_ng_content_5_Template,"FormComponent_ng_content_5_Template"),__name(FormComponent_div_6_button_5_Template,"FormComponent_div_6_button_5_Template"),__name(FormComponent_div_6_button_7_Template,"FormComponent_div_6_button_7_Template"),__name(FormComponent_div_6_Template,"FormComponent_div_6_Template");const _c0=[[["","additional",""]],"*",[["","before",""]],[["","between",""]],[["","after",""]]];class FormComponent{constructor(formService,changeDetectorRef,formBuilderService){this.formService=formService,this.changeDetectorRef=changeDetectorRef,this.formBuilderService=formBuilderService,this.formErrors=[],this.displaySubmit=!0,this.displayCancel=!0,this.emitChange=!0,this.submitLabel="form.submit",this.cancelLabel="form.cancel",this.formLayout=null,this.blur=new _angular_core__WEBPACK_IMPORTED_MODULE_3__.vpe,this.change=new _angular_core__WEBPACK_IMPORTED_MODULE_3__.vpe,this.focus=new _angular_core__WEBPACK_IMPORTED_MODULE_3__.vpe,this.customEvent=new _angular_core__WEBPACK_IMPORTED_MODULE_3__.vpe,this.addArrayItem=new _angular_core__WEBPACK_IMPORTED_MODULE_3__.vpe,this.removeArrayItem=new _angular_core__WEBPACK_IMPORTED_MODULE_3__.vpe,this.cancel=new _angular_core__WEBPACK_IMPORTED_MODULE_3__.vpe,this.submitForm=new _angular_core__WEBPACK_IMPORTED_MODULE_3__.vpe,this.subs=[]}getFormGroup(){return this.parentFormModel?this.formGroup.parent:this.formGroup}getFormGroupValue(){return this.getFormGroup().value}getFormGroupValidStatus(){return this.getFormGroup().valid}ngOnInit(){this.formGroup?this.formModel.forEach(model=>{this.parentFormModel&&this.formBuilderService.addFormGroupControl(this.formGroup,this.parentFormModel,model)}):this.formGroup=this.formBuilderService.createFormGroup(this.formModel),this.formService.initForm(this.formId,this.formModel,this.getFormGroupValidStatus()),this.formValid=this.getFormGroupValidStatus(),this.subs.push(this.formGroup.statusChanges.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_4__.hX)(()=>this.formValid!==this.getFormGroupValidStatus())).subscribe(()=>{this.formService.setStatusChanged(this.formId,this.getFormGroupValidStatus()),this.formValid=this.getFormGroupValidStatus()})),this.subs.push(this.formService.getForm(this.formId).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_4__.hX)(formState=>!!formState&&((0,_empty_util__WEBPACK_IMPORTED_MODULE_5__.UE)(formState.errors)||(0,_empty_util__WEBPACK_IMPORTED_MODULE_5__.UE)(this.formErrors))),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_4__.UI)(formState=>formState.errors),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_4__.xb)()).subscribe(errors=>{const{formGroup,formModel}=this;errors.filter(error=>-1===(0,lodash__WEBPACK_IMPORTED_MODULE_0__.findIndex)(this.formErrors,{fieldId:error.fieldId,fieldIndex:error.fieldIndex})).forEach(error=>{const{fieldId}=error,{fieldIndex}=error;let field;if(field=this.parentFormModel?this.formBuilderService.getFormControlById(fieldId,formGroup.parent,formModel,fieldIndex):this.formBuilderService.getFormControlById(fieldId,formGroup,formModel,fieldIndex),field){const model=this.formBuilderService.findById(fieldId,formModel);this.formService.addErrorToField(field,model,error.message),this.changeDetectorRef.detectChanges()}}),this.formErrors.filter(error=>-1===(0,lodash__WEBPACK_IMPORTED_MODULE_0__.findIndex)(errors,{fieldId:error.fieldId,fieldIndex:error.fieldIndex})).forEach(error=>{const{fieldId}=error,{fieldIndex}=error;let field;if(field=this.parentFormModel?this.formBuilderService.getFormControlById(fieldId,formGroup.parent,formModel,fieldIndex):this.formBuilderService.getFormControlById(fieldId,formGroup,formModel,fieldIndex),field){const model=this.formBuilderService.findById(fieldId,formModel);this.formService.removeErrorFromField(field,model,error.message)}}),this.formErrors=errors,this.changeDetectorRef.detectChanges()}))}ngOnDestroy(){this.subs.filter(sub=>(0,_empty_util__WEBPACK_IMPORTED_MODULE_5__.Uh)(sub)).forEach(sub=>sub.unsubscribe()),this.formService.removeForm(this.formId)}isValid(){return this.formService.isValid(this.formId)}keepSync(){this.subs.push(this.formService.getFormData(this.formId).subscribe(stateFormData=>{!Object.is(stateFormData,this.formGroup.value)&&this.formGroup&&this.formGroup.setValue(stateFormData)}))}onBlur(event2){this.blur.emit(event2);const control=event2.control,fieldIndex=event2.context&&event2.context.index?event2.context.index:0;control.valid?this.formService.removeError(this.formId,event2.model.name,fieldIndex):this.formService.addControlErrors(control,this.formId,event2.model.name,fieldIndex)}onCustomEvent(event2){this.customEvent.emit(event2)}onFocus(event2){this.formService.setTouched(this.formId,this.formModel,event2),this.focus.emit(event2)}onChange(event2){this.formService.changeForm(this.formId,this.formModel),this.formGroup.markAsPristine(),this.emitChange&&this.change.emit(event2);const control=event2.control,fieldIndex=event2.context&&event2.context.index?event2.context.index:0;control.valid&&this.formService.removeError(this.formId,event2.model.id,fieldIndex)}onSubmit(){this.getFormGroupValidStatus()?this.submitForm.emit(this.formService.getFormData(this.formId)):this.formService.validateAllFormFields(this.formGroup)}reset(){this.formGroup.reset(),this.cancel.emit()}isItemReadOnly(arrayContext,index){return arrayContext.groups[index].group[0].readOnly}removeItem($event,arrayContext,index){const formArrayControl=this.formGroup.get(this.formBuilderService.getPath(arrayContext)),event2=this.getEvent($event,arrayContext,index,"remove");this.formBuilderService.isQualdropGroup(event2.model)&&this.removeArrayItem.emit(event2),this.formBuilderService.removeFormArrayGroup(index,formArrayControl,arrayContext),this.formService.changeForm(this.formId,this.formModel),this.formBuilderService.isQualdropGroup(event2.model)||this.removeArrayItem.emit(event2)}insertItem($event,arrayContext,index){const formArrayControl=this.formGroup.get(this.formBuilderService.getPath(arrayContext));this.formBuilderService.insertFormArrayGroup(index,formArrayControl,arrayContext),this.addArrayItem.emit(this.getEvent($event,arrayContext,index,"add")),this.formService.changeForm(this.formId,this.formModel)}isVirtual(arrayContext,index){const value=arrayContext.groups[index].group[0].metadataValue;return(0,_empty_util__WEBPACK_IMPORTED_MODULE_5__.UE)(value)&&value.isVirtual}getEvent($event,arrayContext,index,type){const context=arrayContext.groups[index],itemGroupModel=context.context;let group=this.formGroup.get(itemGroupModel.id);if((0,_empty_util__WEBPACK_IMPORTED_MODULE_5__.Ft)(group))for(const key of Object.keys(this.formGroup.controls))if(group=this.formGroup.controls[key].get(itemGroupModel.id),(0,_empty_util__WEBPACK_IMPORTED_MODULE_5__.K0)(group))break;const model=context.group[0];return{$event,context,control:group.controls[index],group,model,type}}}__name(FormComponent,"FormComponent"),FormComponent.\u0275fac=__name(function(t){return new(t||FormComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_3__.Y36(_form_service__WEBPACK_IMPORTED_MODULE_2__.o),_angular_core__WEBPACK_IMPORTED_MODULE_3__.Y36(_angular_core__WEBPACK_IMPORTED_MODULE_3__.sBO),_angular_core__WEBPACK_IMPORTED_MODULE_3__.Y36(_builder_form_builder_service__WEBPACK_IMPORTED_MODULE_1__.c))},"FormComponent_Factory"),FormComponent.\u0275cmp=_angular_core__WEBPACK_IMPORTED_MODULE_3__.Xpm({type:FormComponent,selectors:[["ds-form"]],inputs:{displaySubmit:"displaySubmit",displayCancel:"displayCancel",emitChange:"emitChange",formId:"formId",submitLabel:"submitLabel",cancelLabel:"cancelLabel",formModel:"formModel",parentFormModel:"parentFormModel",formGroup:"formGroup",formLayout:"formLayout"},outputs:{blur:"dfBlur",change:"dfChange",focus:"dfFocus",customEvent:"ngbEvent",addArrayItem:"addArrayItem",removeArrayItem:"removeArrayItem",cancel:"cancel",submitForm:"submitForm"},exportAs:["formComponent"],ngContentSelectors:["[additional]","*","[before]","[between]","[after]"],decls:7,vars:7,consts:[[1,"container-fluid"],[1,"form-horizontal",3,"formGroup"],[3,"formId","formGroup","formModel","formLayout","change","dfBlur","dfChange","dfFocus","ngbEvent"],["modelType","ARRAY"],[4,"ngIf"],["class","col-xs-2 d-flex flex-column justify-content-sm-start align-items-end",4,"ngIf"],["class","clearfix pl-4 w-100",4,"ngIf"],[1,"col-xs-2","d-flex","flex-column","justify-content-sm-start","align-items-end"],["type","button","role","button",1,"btn","btn-secondary",3,"title","disabled","click"],["aria-hidden","true",1,"fas","fa-trash"],[1,"clearfix","pl-4","w-100"],["role","group",1,"btn-group"],["type","button","role","button",1,"ds-form-add-more","btn","btn-link",3,"title","disabled","click"],[1,"fas","fa-plus"],["role","button",1,"btn-group"],["type","button",1,"btn","btn-secondary",3,"title","disabled","click"],[1,"form-group","row"],[1,"col","text-right","space-children-mr"],["type","reset","class","btn btn-outline-secondary",3,"click",4,"ngIf"],["type","submit","class","btn btn-primary",3,"disabled","click",4,"ngIf"],["type","reset",1,"btn","btn-outline-secondary",3,"click"],[1,"fa","fa-times"],["type","submit",1,"btn","btn-primary",3,"disabled","click"],[1,"fas","fa-save"]],template:__name(function(rf,ctx){1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_3__.F$t(_c0),_angular_core__WEBPACK_IMPORTED_MODULE_3__.TgZ(0,"div",0)(1,"form",1)(2,"ds-dynamic-form",2),_angular_core__WEBPACK_IMPORTED_MODULE_3__.NdJ("change",__name(function($event){return $event.stopPropagation()},"FormComponent_Template_ds_dynamic_form_change_2_listener"))("dfBlur",__name(function($event){return ctx.onBlur($event)},"FormComponent_Template_ds_dynamic_form_dfBlur_2_listener"))("dfChange",__name(function($event){return ctx.onChange($event)},"FormComponent_Template_ds_dynamic_form_dfChange_2_listener"))("dfFocus",__name(function($event){return ctx.onFocus($event)},"FormComponent_Template_ds_dynamic_form_dfFocus_2_listener"))("ngbEvent",__name(function($event){return ctx.onCustomEvent($event)},"FormComponent_Template_ds_dynamic_form_ngbEvent_2_listener")),_angular_core__WEBPACK_IMPORTED_MODULE_3__.YNc(3,FormComponent_ng_template_3_Template,3,3,"ng-template",3),_angular_core__WEBPACK_IMPORTED_MODULE_3__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_3__.Hsn(4),_angular_core__WEBPACK_IMPORTED_MODULE_3__.YNc(5,FormComponent_ng_content_5_Template,1,0,"ng-content",4),_angular_core__WEBPACK_IMPORTED_MODULE_3__.YNc(6,FormComponent_div_6_Template,9,2,"div",4),_angular_core__WEBPACK_IMPORTED_MODULE_3__.qZA()()),2&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_3__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_3__.Q6J("formGroup",ctx.formGroup),_angular_core__WEBPACK_IMPORTED_MODULE_3__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_3__.Q6J("formId",ctx.formId)("formGroup",ctx.formGroup)("formModel",ctx.formModel)("formLayout",ctx.formLayout),_angular_core__WEBPACK_IMPORTED_MODULE_3__.xp6(3),_angular_core__WEBPACK_IMPORTED_MODULE_3__.Q6J("ngIf",!ctx.displaySubmit&&!ctx.displayCancel),_angular_core__WEBPACK_IMPORTED_MODULE_3__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_3__.Q6J("ngIf",ctx.displaySubmit||ctx.displayCancel))},"FormComponent_Template"),styles:[".ds-form-input-addon[_ngcontent-%COMP%]{border-top-right-radius:0!important;border-bottom-right-radius:0!important;border-right:0!important}.ds-form-input-btn[_ngcontent-%COMP%]{border:var(--bs-input-btn-border-width) solid var(--bs-input-border-color);border-top-left-radius:0;border-bottom-left-radius:0;border-left:0}.ds-form-input-btn[_ngcontent-%COMP%]:focus{box-shadow:none!important}button.ds-form-add-more[_ngcontent-%COMP%]:focus{outline:none;box-shadow:none!important}.ds-form-input-value[_ngcontent-%COMP%]{border-top-left-radius:0!important;border-bottom-left-radius:0!important}.fa-spin[_ngcontent-%COMP%]{pointer-events:none}.left-addon[_ngcontent-%COMP%]   .far[_ngcontent-%COMP%], .left-addon[_ngcontent-%COMP%]   .fas[_ngcontent-%COMP%], .left-addon[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{left:0}.right-addon[_ngcontent-%COMP%]   .far[_ngcontent-%COMP%], .right-addon[_ngcontent-%COMP%]   .fas[_ngcontent-%COMP%], .right-addon[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{right:0}.left-addon[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{padding-left:calc(var(--bs-spacer) * 2.25)}.right-addon[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{padding-right:calc(var(--bs-spacer) * 2.25)}"]})},10194:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{e:()=>FormModule});var common=__webpack_require__(69808),form_component=__webpack_require__(63311),core=__webpack_require__(5e3),fesm2015_core=__webpack_require__(87098),ds_dynamic_form_control_container_component=__webpack_require__(66212);function DsDynamicFormComponent_ds_dynamic_form_control_container_0_Template(rf,ctx){if(1&rf){const _r3=core.EpF();core.TgZ(0,"ds-dynamic-form-control-container",1),core.NdJ("dfBlur",__name(function($event){core.CHM(_r3);const ctx_r2=core.oxw();return ctx_r2.onCustomEvent($event,ctx_r2.blur)},"DsDynamicFormComponent_ds_dynamic_form_control_container_0_Template_ds_dynamic_form_control_container_dfBlur_0_listener"))("dfChange",__name(function($event){core.CHM(_r3);const ctx_r4=core.oxw();return ctx_r4.onCustomEvent($event,ctx_r4.change)},"DsDynamicFormComponent_ds_dynamic_form_control_container_0_Template_ds_dynamic_form_control_container_dfChange_0_listener"))("dfFocus",__name(function($event){core.CHM(_r3);const ctx_r5=core.oxw();return ctx_r5.onCustomEvent($event,ctx_r5.focus)},"DsDynamicFormComponent_ds_dynamic_form_control_container_0_Template_ds_dynamic_form_control_container_dfFocus_0_listener"))("ngbEvent",__name(function($event){core.CHM(_r3);const ctx_r6=core.oxw();return ctx_r6.onCustomEvent($event,ctx_r6.ngbEvent)},"DsDynamicFormComponent_ds_dynamic_form_control_container_0_Template_ds_dynamic_form_control_container_ngbEvent_0_listener")),core.qZA()}if(2&rf){const model_r1=ctx.$implicit,ctx_r0=core.oxw();core.ekj("d-none",model_r1.hidden),core.Q6J("formId",ctx_r0.formId)("group",ctx_r0.formGroup)("hasErrorMessaging",model_r1.hasErrorMessages)("hidden",model_r1.hidden)("layout",ctx_r0.formLayout)("model",model_r1)("templates",ctx_r0.templates)("asBootstrapFormGroup",!0)}}__name(DsDynamicFormComponent_ds_dynamic_form_control_container_0_Template,"DsDynamicFormComponent_ds_dynamic_form_control_container_0_Template");class DsDynamicFormComponent extends fesm2015_core.rmD{constructor(changeDetectorRef,componentService){super(changeDetectorRef,componentService),this.blur=new core.vpe,this.change=new core.vpe,this.focus=new core.vpe,this.ngbEvent=new core.vpe}}__name(DsDynamicFormComponent,"DsDynamicFormComponent"),DsDynamicFormComponent.\u0275fac=__name(function(t){return new(t||DsDynamicFormComponent)(core.Y36(core.sBO),core.Y36(fesm2015_core.rJA))},"DsDynamicFormComponent_Factory"),DsDynamicFormComponent.\u0275cmp=core.Xpm({type:DsDynamicFormComponent,selectors:[["ds-dynamic-form"]],contentQueries:__name(function(rf,ctx,dirIndex){if(1&rf&&core.Suo(dirIndex,fesm2015_core.ATj,4),2&rf){let _t;core.iGM(_t=core.CRH())&&(ctx.templates=_t)}},"DsDynamicFormComponent_ContentQueries"),viewQuery:__name(function(rf,ctx){if(1&rf&&core.Gf(ds_dynamic_form_control_container_component.B,5),2&rf){let _t;core.iGM(_t=core.CRH())&&(ctx.components=_t)}},"DsDynamicFormComponent_Query"),inputs:{formId:"formId",formGroup:"formGroup",formModel:"formModel",formLayout:"formLayout"},outputs:{blur:"dfBlur",change:"dfChange",focus:"dfFocus",ngbEvent:"ngbEvent"},features:[core.qOj],decls:1,vars:2,consts:[[3,"formId","group","hasErrorMessaging","hidden","d-none","layout","model","templates","asBootstrapFormGroup","dfBlur","dfChange","dfFocus","ngbEvent",4,"ngFor","ngForOf","ngForTrackBy"],[3,"formId","group","hasErrorMessaging","hidden","layout","model","templates","asBootstrapFormGroup","dfBlur","dfChange","dfFocus","ngbEvent"]],template:__name(function(rf,ctx){1&rf&&core.YNc(0,DsDynamicFormComponent_ds_dynamic_form_control_container_0_Template,1,10,"ds-dynamic-form-control-container",0),2&rf&&core.Q6J("ngForOf",ctx.formModel)("ngForTrackBy",ctx.trackByFn)},"DsDynamicFormComponent_Template"),directives:[common.sg,ds_dynamic_form_control_container_component.B],encapsulation:2});var dynamic_list_component=__webpack_require__(88766),dynamic_lookup_component=__webpack_require__(21650),dynamic_disabled_component=__webpack_require__(8671),dynamic_lookup_relation_modal_component=__webpack_require__(55648),dynamic_scrollable_dropdown_component=__webpack_require__(42803),dynamic_tag_component=__webpack_require__(28554),dynamic_onebox_component=__webpack_require__(86471),dynamic_relation_group_components=__webpack_require__(22280),date_picker_component=__webpack_require__(74043),dynamic_form_group_component=__webpack_require__(66319),dynamic_form_array_component=__webpack_require__(79001),dynamic_date_picker_inline_component=__webpack_require__(19869),dynamic_lookup_relation_search_tab_component=__webpack_require__(64204),dynamic_lookup_relation_selection_tab_component=__webpack_require__(53006),dynamic_lookup_relation_external_source_tab_component=__webpack_require__(32272),shared_module=__webpack_require__(57981),ngx_translate_core=__webpack_require__(42466),search_module=__webpack_require__(57262),existing_metadata_list_element_component=__webpack_require__(93571),existing_relation_list_element_component=__webpack_require__(77410),external_source_entry_import_modal_component=__webpack_require__(29635),custom_switch_component=__webpack_require__(13457),ui_ng_bootstrap=__webpack_require__(65806),fesm2015_forms=__webpack_require__(93075),drag_drop=__webpack_require__(72903);custom_switch_component._,ds_dynamic_form_control_container_component.B,dynamic_list_component.d,dynamic_lookup_component.G,dynamic_lookup_relation_search_tab_component.s,dynamic_lookup_relation_selection_tab_component.O,dynamic_lookup_relation_external_source_tab_component.g,dynamic_disabled_component.x,dynamic_lookup_relation_modal_component.i,dynamic_scrollable_dropdown_component.D,dynamic_tag_component.V,dynamic_onebox_component.r,dynamic_relation_group_components.H,date_picker_component.H,dynamic_form_group_component.i,dynamic_form_array_component.s,dynamic_date_picker_inline_component.u,existing_metadata_list_element_component.fP,existing_relation_list_element_component.t,external_source_entry_import_modal_component.D,form_component.U;class FormModule{}__name(FormModule,"FormModule"),FormModule.\u0275fac=__name(function(t){return new(t||FormModule)},"FormModule_Factory"),FormModule.\u0275mod=core.oAB({type:FormModule}),FormModule.\u0275inj=core.cJS({providers:[{provide:fesm2015_core.y8$,useValue:ds_dynamic_form_control_container_component._}],imports:[[common.ez,fesm2015_core.H9g,ui_ng_bootstrap.zj,search_module.t,shared_module.m,ngx_translate_core.aw]]}),core.B6R(dynamic_form_group_component.i,[fesm2015_forms.JL,fesm2015_forms.sg,fesm2015_forms.x0,common.mk,common.sg,ds_dynamic_form_control_container_component.B],[]),core.B6R(dynamic_form_array_component.s,[fesm2015_forms.JL,fesm2015_forms.sg,fesm2015_forms.CE,common.mk,drag_drop.Wj,common.sg,drag_drop.Zt,drag_drop.Bh,fesm2015_forms.x0,common.tP,ds_dynamic_form_control_container_component.B],[]),core.B6R(form_component.U,[fesm2015_forms._Y,fesm2015_forms.JL,fesm2015_forms.sg,DsDynamicFormComponent,fesm2015_core.ATj,common.O5],[ngx_translate_core.X$,common.Ov])},34981:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{v:()=>ResourcePolicyCreateComponent});var rxjs__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(76477),rxjs_operators__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(83292),_core_resource_policy_resource_policy_data_service__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(24886),_notifications_notifications_service__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(82596),_core_breadcrumbs_dso_name_service__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(83616),_item_page_edit_item_page_edit_item_page_routing_paths__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(84254),_core_shared_operators__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(13730),_angular_core__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(5e3),_angular_router__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(74202),_ngx_translate_core__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(42466),_form_resource_policy_form_component__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(35835);class ResourcePolicyCreateComponent{constructor(dsoNameService,notificationsService,resourcePolicyService,route,router,translate){this.dsoNameService=dsoNameService,this.notificationsService=notificationsService,this.resourcePolicyService=resourcePolicyService,this.route=route,this.router=router,this.translate=translate,this.processing$=new rxjs__WEBPACK_IMPORTED_MODULE_5__.BehaviorSubject(!1)}ngOnInit(){this.route.data.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_6__.UI)(data=>data),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_6__.qn)(1)).subscribe(data=>{this.targetResourceUUID=data.resourcePolicyTarget.payload.id,this.targetResourceName=this.dsoNameService.getName(data.resourcePolicyTarget.payload)})}isProcessing(){return this.processing$.asObservable()}redirectToAuthorizationsPage(){this.router.navigate([`../../${_item_page_edit_item_page_edit_item_page_routing_paths__WEBPACK_IMPORTED_MODULE_7__.N}`],{relativeTo:this.route})}createResourcePolicy(event2){let response$;this.processing$.next(!0),response$="eperson"===event2.target.type?this.resourcePolicyService.create(event2.object,this.targetResourceUUID,event2.target.uuid):this.resourcePolicyService.create(event2.object,this.targetResourceUUID,null,event2.target.uuid),response$.pipe((0,_core_shared_operators__WEBPACK_IMPORTED_MODULE_3__.hC)()).subscribe(responseRD=>{this.processing$.next(!1),responseRD.hasSucceeded?(this.notificationsService.success(null,this.translate.get("resource-policies.create.page.success.content")),this.redirectToAuthorizationsPage()):this.notificationsService.error(null,this.translate.get("resource-policies.create.page.failure.content"))})}}__name(ResourcePolicyCreateComponent,"ResourcePolicyCreateComponent"),ResourcePolicyCreateComponent.\u0275fac=__name(function(t){return new(t||ResourcePolicyCreateComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_8__.Y36(_core_breadcrumbs_dso_name_service__WEBPACK_IMPORTED_MODULE_2__._),_angular_core__WEBPACK_IMPORTED_MODULE_8__.Y36(_notifications_notifications_service__WEBPACK_IMPORTED_MODULE_1__.T),_angular_core__WEBPACK_IMPORTED_MODULE_8__.Y36(_core_resource_policy_resource_policy_data_service__WEBPACK_IMPORTED_MODULE_0__.I),_angular_core__WEBPACK_IMPORTED_MODULE_8__.Y36(_angular_router__WEBPACK_IMPORTED_MODULE_9__.gz),_angular_core__WEBPACK_IMPORTED_MODULE_8__.Y36(_angular_router__WEBPACK_IMPORTED_MODULE_9__.F0),_angular_core__WEBPACK_IMPORTED_MODULE_8__.Y36(_ngx_translate_core__WEBPACK_IMPORTED_MODULE_10__.sK))},"ResourcePolicyCreateComponent_Factory"),ResourcePolicyCreateComponent.\u0275cmp=_angular_core__WEBPACK_IMPORTED_MODULE_8__.Xpm({type:ResourcePolicyCreateComponent,selectors:[["ds-resource-policy-create"]],decls:5,vars:5,consts:[[1,"container"],[1,"mb-3"],[3,"isProcessing","reset","submit"]],template:__name(function(rf,ctx){1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_8__.TgZ(0,"div",0)(1,"h4",1),_angular_core__WEBPACK_IMPORTED_MODULE_8__._uU(2),_angular_core__WEBPACK_IMPORTED_MODULE_8__.ALo(3,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_8__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_8__.TgZ(4,"ds-resource-policy-form",2),_angular_core__WEBPACK_IMPORTED_MODULE_8__.NdJ("reset",__name(function(){return ctx.redirectToAuthorizationsPage()},"ResourcePolicyCreateComponent_Template_ds_resource_policy_form_reset_4_listener"))("submit",__name(function($event){return ctx.createResourcePolicy($event)},"ResourcePolicyCreateComponent_Template_ds_resource_policy_form_submit_4_listener")),_angular_core__WEBPACK_IMPORTED_MODULE_8__.qZA()()),2&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_8__.xp6(2),_angular_core__WEBPACK_IMPORTED_MODULE_8__.AsE("",_angular_core__WEBPACK_IMPORTED_MODULE_8__.lcZ(3,3,"resource-policies.create.page.heading")," ",ctx.targetResourceName,""),_angular_core__WEBPACK_IMPORTED_MODULE_8__.xp6(2),_angular_core__WEBPACK_IMPORTED_MODULE_8__.Q6J("isProcessing",ctx.isProcessing()))},"ResourcePolicyCreateComponent_Template"),directives:[_form_resource_policy_form_component__WEBPACK_IMPORTED_MODULE_4__.Z],pipes:[_ngx_translate_core__WEBPACK_IMPORTED_MODULE_10__.X$],encapsulation:2})},86527:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{x:()=>ResourcePolicyEditComponent});var rxjs__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(76477),rxjs_operators__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(83292),_core_resource_policy_resource_policy_data_service__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(24886),_notifications_notifications_service__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(82596),_core_resource_policy_models_resource_policy_resource_type__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(74648),_item_page_edit_item_page_edit_item_page_routing_paths__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(84254),_core_shared_operators__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(13730),_angular_core__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(5e3),_angular_router__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(74202),_ngx_translate_core__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(42466),_form_resource_policy_form_component__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(35835);class ResourcePolicyEditComponent{constructor(notificationsService,resourcePolicyService,route,router,translate){this.notificationsService=notificationsService,this.resourcePolicyService=resourcePolicyService,this.route=route,this.router=router,this.translate=translate,this.processing$=new rxjs__WEBPACK_IMPORTED_MODULE_5__.BehaviorSubject(!1)}ngOnInit(){this.route.data.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_6__.UI)(data=>data),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_6__.qn)(1)).subscribe(data=>{this.resourcePolicy=data.resourcePolicy.payload})}isProcessing(){return this.processing$.asObservable()}redirectToAuthorizationsPage(){this.router.navigate([`../../${_item_page_edit_item_page_edit_item_page_routing_paths__WEBPACK_IMPORTED_MODULE_7__.N}`],{relativeTo:this.route})}updateResourcePolicy(event2){this.processing$.next(!0);const updatedObject=Object.assign({},event2.object,{id:this.resourcePolicy.id,type:_core_resource_policy_models_resource_policy_resource_type__WEBPACK_IMPORTED_MODULE_2__.A.value,_links:this.resourcePolicy._links}),updateTargetSucceeded$=event2.updateTarget?this.resourcePolicyService.updateTarget(this.resourcePolicy.id,this.resourcePolicy._links.self.href,event2.target.uuid,event2.target.type).pipe((0,_core_shared_operators__WEBPACK_IMPORTED_MODULE_3__.hC)(),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_6__.UI)(responseRD=>responseRD&&responseRD.hasSucceeded)):(0,rxjs__WEBPACK_IMPORTED_MODULE_5__.of)(!0),updateResourcePolicySucceeded$=this.resourcePolicyService.update(updatedObject).pipe((0,_core_shared_operators__WEBPACK_IMPORTED_MODULE_3__.hC)(),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_6__.UI)(responseRD=>responseRD&&responseRD.hasSucceeded));(0,rxjs__WEBPACK_IMPORTED_MODULE_5__.combineLatest)([updateTargetSucceeded$,updateResourcePolicySucceeded$]).subscribe(([updateTargetSucceeded,updateResourcePolicySucceeded])=>{this.processing$.next(!1),updateTargetSucceeded&&updateResourcePolicySucceeded?(this.notificationsService.success(null,this.translate.get("resource-policies.edit.page.success.content")),this.redirectToAuthorizationsPage()):updateResourcePolicySucceeded?this.notificationsService.error(null,this.translate.get("resource-policies.edit.page.target-failure.content")):updateTargetSucceeded?this.notificationsService.error(null,this.translate.get("resource-policies.edit.page.other-failure.content")):this.notificationsService.error(null,this.translate.get("resource-policies.edit.page.failure.content"))})}}__name(ResourcePolicyEditComponent,"ResourcePolicyEditComponent"),ResourcePolicyEditComponent.\u0275fac=__name(function(t){return new(t||ResourcePolicyEditComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_8__.Y36(_notifications_notifications_service__WEBPACK_IMPORTED_MODULE_1__.T),_angular_core__WEBPACK_IMPORTED_MODULE_8__.Y36(_core_resource_policy_resource_policy_data_service__WEBPACK_IMPORTED_MODULE_0__.I),_angular_core__WEBPACK_IMPORTED_MODULE_8__.Y36(_angular_router__WEBPACK_IMPORTED_MODULE_9__.gz),_angular_core__WEBPACK_IMPORTED_MODULE_8__.Y36(_angular_router__WEBPACK_IMPORTED_MODULE_9__.F0),_angular_core__WEBPACK_IMPORTED_MODULE_8__.Y36(_ngx_translate_core__WEBPACK_IMPORTED_MODULE_10__.sK))},"ResourcePolicyEditComponent_Factory"),ResourcePolicyEditComponent.\u0275cmp=_angular_core__WEBPACK_IMPORTED_MODULE_8__.Xpm({type:ResourcePolicyEditComponent,selectors:[["ds-resource-policy-edit"]],decls:5,vars:6,consts:[[1,"container"],[1,"mb-3"],[3,"resourcePolicy","isProcessing","reset","submit"]],template:__name(function(rf,ctx){1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_8__.TgZ(0,"div",0)(1,"h4",1),_angular_core__WEBPACK_IMPORTED_MODULE_8__._uU(2),_angular_core__WEBPACK_IMPORTED_MODULE_8__.ALo(3,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_8__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_8__.TgZ(4,"ds-resource-policy-form",2),_angular_core__WEBPACK_IMPORTED_MODULE_8__.NdJ("reset",__name(function(){return ctx.redirectToAuthorizationsPage()},"ResourcePolicyEditComponent_Template_ds_resource_policy_form_reset_4_listener"))("submit",__name(function($event){return ctx.updateResourcePolicy($event)},"ResourcePolicyEditComponent_Template_ds_resource_policy_form_submit_4_listener")),_angular_core__WEBPACK_IMPORTED_MODULE_8__.qZA()()),2&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_8__.xp6(2),_angular_core__WEBPACK_IMPORTED_MODULE_8__.AsE("",_angular_core__WEBPACK_IMPORTED_MODULE_8__.lcZ(3,4,"resource-policies.edit.page.heading")," ",ctx.resourcePolicy.id,""),_angular_core__WEBPACK_IMPORTED_MODULE_8__.xp6(2),_angular_core__WEBPACK_IMPORTED_MODULE_8__.Q6J("resourcePolicy",ctx.resourcePolicy)("isProcessing",ctx.isProcessing()))},"ResourcePolicyEditComponent_Template"),directives:[_form_resource_policy_form_component__WEBPACK_IMPORTED_MODULE_4__.Z],pipes:[_ngx_translate_core__WEBPACK_IMPORTED_MODULE_10__.X$],encapsulation:2})},60726:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Y:()=>ResourcePolicyEntryComponent});var _angular_core__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(5e3),_empty_util__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(24702),_date_util__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(38723),rxjs_operators__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(83292),_core_shared_operators__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(13730),_core_breadcrumbs_dso_name_service__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(83616),_app_routing_paths__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(50503),_access_control_access_control_routing_paths__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(92414),_core_eperson_group_data_service__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(43499),_angular_router__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(74202),_angular_forms__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(93075),_angular_common__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(69808),_ngx_translate_core__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(42466);function ResourcePolicyEntryComponent_button_27_Template(rf,ctx){if(1&rf){const _r2=_angular_core__WEBPACK_IMPORTED_MODULE_6__.EpF();_angular_core__WEBPACK_IMPORTED_MODULE_6__.TgZ(0,"button",6),_angular_core__WEBPACK_IMPORTED_MODULE_6__.NdJ("click",__name(function(){return _angular_core__WEBPACK_IMPORTED_MODULE_6__.CHM(_r2),_angular_core__WEBPACK_IMPORTED_MODULE_6__.oxw().redirectToGroupEditPage()},"ResourcePolicyEntryComponent_button_27_Template_button_click_0_listener")),_angular_core__WEBPACK_IMPORTED_MODULE_6__.ALo(1,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_6__._UZ(2,"i",9),_angular_core__WEBPACK_IMPORTED_MODULE_6__.qZA()}2&rf&&_angular_core__WEBPACK_IMPORTED_MODULE_6__.Q6J("title",_angular_core__WEBPACK_IMPORTED_MODULE_6__.lcZ(1,1,"resource-policies.table.headers.edit.group"))}__name(ResourcePolicyEntryComponent_button_27_Template,"ResourcePolicyEntryComponent_button_27_Template");class ResourcePolicyEntryComponent{constructor(dsoNameService,groupService,route,router){this.dsoNameService=dsoNameService,this.groupService=groupService,this.route=route,this.router=router,this.toggleCheckbox=new _angular_core__WEBPACK_IMPORTED_MODULE_6__.vpe}ngOnInit(){this.epersonName$=this.getName$(this.entry.policy.eperson),this.groupName$=this.getName$(this.entry.policy.group)}getName$(dso$){return dso$.pipe((0,_core_shared_operators__WEBPACK_IMPORTED_MODULE_1__.g1)(),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_7__.UI)(rd=>{if((0,_empty_util__WEBPACK_IMPORTED_MODULE_8__.Uh)(null==rd?void 0:rd.payload))return this.dsoNameService.getName(rd.payload)}))}formatDate(date){return(0,_empty_util__WEBPACK_IMPORTED_MODULE_8__.UE)(date)?(0,_date_util__WEBPACK_IMPORTED_MODULE_0__.UW)((0,_date_util__WEBPACK_IMPORTED_MODULE_0__.bj)(date)):""}redirectToResourcePolicyEditPage(){this.router.navigate(["./edit"],{relativeTo:this.route,queryParams:{policyId:this.entry.policy.id}})}redirectToGroupEditPage(){this.groupService.findByHref(this.entry.policy._links.group.href,!1).pipe((0,_core_shared_operators__WEBPACK_IMPORTED_MODULE_1__.Gp)(),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_7__.UI)(group=>group.id)).subscribe(groupUUID=>{this.router.navigate([_app_routing_paths__WEBPACK_IMPORTED_MODULE_3__.QX,_access_control_access_control_routing_paths__WEBPACK_IMPORTED_MODULE_4__.CH,groupUUID])})}}__name(ResourcePolicyEntryComponent,"ResourcePolicyEntryComponent"),ResourcePolicyEntryComponent.\u0275fac=__name(function(t){return new(t||ResourcePolicyEntryComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_6__.Y36(_core_breadcrumbs_dso_name_service__WEBPACK_IMPORTED_MODULE_2__._),_angular_core__WEBPACK_IMPORTED_MODULE_6__.Y36(_core_eperson_group_data_service__WEBPACK_IMPORTED_MODULE_5__.O),_angular_core__WEBPACK_IMPORTED_MODULE_6__.Y36(_angular_router__WEBPACK_IMPORTED_MODULE_9__.gz),_angular_core__WEBPACK_IMPORTED_MODULE_6__.Y36(_angular_router__WEBPACK_IMPORTED_MODULE_9__.F0))},"ResourcePolicyEntryComponent_Factory"),ResourcePolicyEntryComponent.\u0275cmp=_angular_core__WEBPACK_IMPORTED_MODULE_6__.Xpm({type:ResourcePolicyEntryComponent,selectors:[["tr","ds-resource-policy-entry",""]],inputs:{entry:"entry"},outputs:{toggleCheckbox:"toggleCheckbox"},attrs:["ds-resource-policy-entry",""],decls:29,vars:21,consts:[[1,"text-center"],[1,"custom-control","custom-checkbox"],["type","checkbox",1,"custom-control-input",3,"id","ngModel","ngModelChange"],[1,"custom-control-label",3,"for"],["scope","row"],[1,"btn-group","edit-field"],[1,"btn","btn-outline-primary","btn-sm",3,"title","click"],[1,"fas","fa-edit","fa-fw"],["class","btn btn-outline-primary btn-sm",3,"title","click",4,"ngIf"],[1,"fas","fa-users","fa-fw"]],template:__name(function(rf,ctx){1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_6__.TgZ(0,"td",0)(1,"div",1)(2,"input",2),_angular_core__WEBPACK_IMPORTED_MODULE_6__.NdJ("ngModelChange",__name(function($event){return ctx.toggleCheckbox.emit($event)},"ResourcePolicyEntryComponent_Template_input_ngModelChange_2_listener")),_angular_core__WEBPACK_IMPORTED_MODULE_6__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_6__._UZ(3,"label",3),_angular_core__WEBPACK_IMPORTED_MODULE_6__.qZA()(),_angular_core__WEBPACK_IMPORTED_MODULE_6__.TgZ(4,"th",4),_angular_core__WEBPACK_IMPORTED_MODULE_6__._uU(5),_angular_core__WEBPACK_IMPORTED_MODULE_6__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_6__.TgZ(6,"td"),_angular_core__WEBPACK_IMPORTED_MODULE_6__._uU(7),_angular_core__WEBPACK_IMPORTED_MODULE_6__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_6__.TgZ(8,"td"),_angular_core__WEBPACK_IMPORTED_MODULE_6__._uU(9),_angular_core__WEBPACK_IMPORTED_MODULE_6__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_6__.TgZ(10,"td"),_angular_core__WEBPACK_IMPORTED_MODULE_6__._uU(11),_angular_core__WEBPACK_IMPORTED_MODULE_6__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_6__.TgZ(12,"td"),_angular_core__WEBPACK_IMPORTED_MODULE_6__._uU(13),_angular_core__WEBPACK_IMPORTED_MODULE_6__.ALo(14,"async"),_angular_core__WEBPACK_IMPORTED_MODULE_6__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_6__.TgZ(15,"td"),_angular_core__WEBPACK_IMPORTED_MODULE_6__._uU(16),_angular_core__WEBPACK_IMPORTED_MODULE_6__.ALo(17,"async"),_angular_core__WEBPACK_IMPORTED_MODULE_6__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_6__.TgZ(18,"td"),_angular_core__WEBPACK_IMPORTED_MODULE_6__._uU(19),_angular_core__WEBPACK_IMPORTED_MODULE_6__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_6__.TgZ(20,"td"),_angular_core__WEBPACK_IMPORTED_MODULE_6__._uU(21),_angular_core__WEBPACK_IMPORTED_MODULE_6__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_6__.TgZ(22,"td",0)(23,"div",5)(24,"button",6),_angular_core__WEBPACK_IMPORTED_MODULE_6__.NdJ("click",__name(function(){return ctx.redirectToResourcePolicyEditPage()},"ResourcePolicyEntryComponent_Template_button_click_24_listener")),_angular_core__WEBPACK_IMPORTED_MODULE_6__.ALo(25,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_6__._UZ(26,"i",7),_angular_core__WEBPACK_IMPORTED_MODULE_6__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_6__.YNc(27,ResourcePolicyEntryComponent_button_27_Template,3,3,"button",8),_angular_core__WEBPACK_IMPORTED_MODULE_6__.ALo(28,"async"),_angular_core__WEBPACK_IMPORTED_MODULE_6__.qZA()()),2&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_6__.xp6(2),_angular_core__WEBPACK_IMPORTED_MODULE_6__.Q6J("id",ctx.entry.id)("ngModel",ctx.entry.checked),_angular_core__WEBPACK_IMPORTED_MODULE_6__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_6__.Q6J("for",ctx.entry.id),_angular_core__WEBPACK_IMPORTED_MODULE_6__.xp6(2),_angular_core__WEBPACK_IMPORTED_MODULE_6__.hij(" ",ctx.entry.id,"\n"),_angular_core__WEBPACK_IMPORTED_MODULE_6__.xp6(2),_angular_core__WEBPACK_IMPORTED_MODULE_6__.Oqu(ctx.entry.policy.name),_angular_core__WEBPACK_IMPORTED_MODULE_6__.xp6(2),_angular_core__WEBPACK_IMPORTED_MODULE_6__.Oqu(ctx.entry.policy.policyType),_angular_core__WEBPACK_IMPORTED_MODULE_6__.xp6(2),_angular_core__WEBPACK_IMPORTED_MODULE_6__.Oqu(ctx.entry.policy.action),_angular_core__WEBPACK_IMPORTED_MODULE_6__.xp6(2),_angular_core__WEBPACK_IMPORTED_MODULE_6__.hij(" ",_angular_core__WEBPACK_IMPORTED_MODULE_6__.lcZ(14,13,ctx.epersonName$),"\n"),_angular_core__WEBPACK_IMPORTED_MODULE_6__.xp6(3),_angular_core__WEBPACK_IMPORTED_MODULE_6__.hij(" ",_angular_core__WEBPACK_IMPORTED_MODULE_6__.lcZ(17,15,ctx.groupName$),"\n"),_angular_core__WEBPACK_IMPORTED_MODULE_6__.xp6(3),_angular_core__WEBPACK_IMPORTED_MODULE_6__.Oqu(ctx.formatDate(ctx.entry.policy.startDate)),_angular_core__WEBPACK_IMPORTED_MODULE_6__.xp6(2),_angular_core__WEBPACK_IMPORTED_MODULE_6__.Oqu(ctx.formatDate(ctx.entry.policy.endDate)),_angular_core__WEBPACK_IMPORTED_MODULE_6__.xp6(3),_angular_core__WEBPACK_IMPORTED_MODULE_6__.Q6J("title",_angular_core__WEBPACK_IMPORTED_MODULE_6__.lcZ(25,17,"resource-policies.table.headers.edit.policy")),_angular_core__WEBPACK_IMPORTED_MODULE_6__.xp6(3),_angular_core__WEBPACK_IMPORTED_MODULE_6__.Q6J("ngIf",void 0!==_angular_core__WEBPACK_IMPORTED_MODULE_6__.lcZ(28,19,ctx.groupName$)))},"ResourcePolicyEntryComponent_Template"),directives:[_angular_forms__WEBPACK_IMPORTED_MODULE_10__.Wl,_angular_forms__WEBPACK_IMPORTED_MODULE_10__.JJ,_angular_forms__WEBPACK_IMPORTED_MODULE_10__.On,_angular_common__WEBPACK_IMPORTED_MODULE_11__.O5],pipes:[_angular_common__WEBPACK_IMPORTED_MODULE_11__.Ov,_ngx_translate_core__WEBPACK_IMPORTED_MODULE_12__.X$],encapsulation:2})},72044:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{W:()=>EpersonGroupListComponent});var _angular_core__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(5e3),rxjs__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(76477),rxjs_operators__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(83292),lodash__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(17489),_pagination_pagination_component_options_model__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(26638),_empty_util__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(24702),_core_breadcrumbs_dso_name_service__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(83616),_core_eperson_models_eperson_resource_type__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(71508),_core_eperson_models_group_resource_type__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(77572),_animations_fade__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(28652),_core_shared_operators__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(13730),_core_pagination_pagination_service__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(77467),_core_data_find_list_options_model__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__(17481),_core_data_base_data_service_decorator__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(21147);function EpersonGroupListComponent_ds_eperson_search_box_1_Template(rf,ctx){if(1&rf){const _r4=_angular_core__WEBPACK_IMPORTED_MODULE_9__.EpF();_angular_core__WEBPACK_IMPORTED_MODULE_9__.TgZ(0,"ds-eperson-search-box",3),_angular_core__WEBPACK_IMPORTED_MODULE_9__.NdJ("search",__name(function($event){return _angular_core__WEBPACK_IMPORTED_MODULE_9__.CHM(_r4),_angular_core__WEBPACK_IMPORTED_MODULE_9__.oxw().onSearch($event)},"EpersonGroupListComponent_ds_eperson_search_box_1_Template_ds_eperson_search_box_search_0_listener")),_angular_core__WEBPACK_IMPORTED_MODULE_9__.qZA()}}function EpersonGroupListComponent_ds_group_search_box_2_Template(rf,ctx){if(1&rf){const _r6=_angular_core__WEBPACK_IMPORTED_MODULE_9__.EpF();_angular_core__WEBPACK_IMPORTED_MODULE_9__.TgZ(0,"ds-group-search-box",3),_angular_core__WEBPACK_IMPORTED_MODULE_9__.NdJ("search",__name(function($event){return _angular_core__WEBPACK_IMPORTED_MODULE_9__.CHM(_r6),_angular_core__WEBPACK_IMPORTED_MODULE_9__.oxw().onSearch($event)},"EpersonGroupListComponent_ds_group_search_box_2_Template_ds_group_search_box_search_0_listener")),_angular_core__WEBPACK_IMPORTED_MODULE_9__.qZA()}}function EpersonGroupListComponent_ds_pagination_3_tr_16_Template(rf,ctx){if(1&rf){const _r10=_angular_core__WEBPACK_IMPORTED_MODULE_9__.EpF();_angular_core__WEBPACK_IMPORTED_MODULE_9__.TgZ(0,"tr"),_angular_core__WEBPACK_IMPORTED_MODULE_9__.ALo(1,"async"),_angular_core__WEBPACK_IMPORTED_MODULE_9__.TgZ(2,"td"),_angular_core__WEBPACK_IMPORTED_MODULE_9__._uU(3),_angular_core__WEBPACK_IMPORTED_MODULE_9__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_9__.TgZ(4,"td"),_angular_core__WEBPACK_IMPORTED_MODULE_9__._uU(5),_angular_core__WEBPACK_IMPORTED_MODULE_9__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_9__.TgZ(6,"td",7)(7,"button",9),_angular_core__WEBPACK_IMPORTED_MODULE_9__.NdJ("click",__name(function(){const entry_r8=_angular_core__WEBPACK_IMPORTED_MODULE_9__.CHM(_r10).$implicit;return _angular_core__WEBPACK_IMPORTED_MODULE_9__.oxw(2).emitSelect(entry_r8)},"EpersonGroupListComponent_ds_pagination_3_tr_16_Template_button_click_7_listener")),_angular_core__WEBPACK_IMPORTED_MODULE_9__._uU(8),_angular_core__WEBPACK_IMPORTED_MODULE_9__.ALo(9,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_9__.qZA()()()}if(2&rf){const entry_r8=ctx.$implicit,ctx_r7=_angular_core__WEBPACK_IMPORTED_MODULE_9__.oxw(2);_angular_core__WEBPACK_IMPORTED_MODULE_9__.ekj("table-primary",_angular_core__WEBPACK_IMPORTED_MODULE_9__.lcZ(1,5,ctx_r7.isSelected(entry_r8))),_angular_core__WEBPACK_IMPORTED_MODULE_9__.xp6(3),_angular_core__WEBPACK_IMPORTED_MODULE_9__.Oqu(entry_r8.id),_angular_core__WEBPACK_IMPORTED_MODULE_9__.xp6(2),_angular_core__WEBPACK_IMPORTED_MODULE_9__.Oqu(ctx_r7.dsoNameService.getName(entry_r8)),_angular_core__WEBPACK_IMPORTED_MODULE_9__.xp6(3),_angular_core__WEBPACK_IMPORTED_MODULE_9__.hij(" ",_angular_core__WEBPACK_IMPORTED_MODULE_9__.lcZ(9,7,"resource-policies.form.eperson-group-list.select.btn")," ")}}function EpersonGroupListComponent_ds_pagination_3_Template(rf,ctx){if(1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_9__.TgZ(0,"ds-pagination",4),_angular_core__WEBPACK_IMPORTED_MODULE_9__.ALo(1,"async"),_angular_core__WEBPACK_IMPORTED_MODULE_9__.TgZ(2,"div",5)(3,"table",6)(4,"thead")(5,"tr",7)(6,"th"),_angular_core__WEBPACK_IMPORTED_MODULE_9__._uU(7),_angular_core__WEBPACK_IMPORTED_MODULE_9__.ALo(8,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_9__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_9__.TgZ(9,"th"),_angular_core__WEBPACK_IMPORTED_MODULE_9__._uU(10),_angular_core__WEBPACK_IMPORTED_MODULE_9__.ALo(11,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_9__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_9__.TgZ(12,"th"),_angular_core__WEBPACK_IMPORTED_MODULE_9__._uU(13),_angular_core__WEBPACK_IMPORTED_MODULE_9__.ALo(14,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_9__.qZA()()(),_angular_core__WEBPACK_IMPORTED_MODULE_9__.TgZ(15,"tbody"),_angular_core__WEBPACK_IMPORTED_MODULE_9__.YNc(16,EpersonGroupListComponent_ds_pagination_3_tr_16_Template,10,9,"tr",8),_angular_core__WEBPACK_IMPORTED_MODULE_9__.ALo(17,"async"),_angular_core__WEBPACK_IMPORTED_MODULE_9__.qZA()()()()),2&rf){const ctx_r2=_angular_core__WEBPACK_IMPORTED_MODULE_9__.oxw();let tmp_1_0,tmp_7_0;_angular_core__WEBPACK_IMPORTED_MODULE_9__.Q6J("paginationOptions",ctx_r2.paginationOptions)("collectionSize",null==(tmp_1_0=_angular_core__WEBPACK_IMPORTED_MODULE_9__.lcZ(1,8,ctx_r2.getList()))||null==tmp_1_0.payload?null:tmp_1_0.payload.totalElements)("retainScrollPosition",!0)("hideGear",!0),_angular_core__WEBPACK_IMPORTED_MODULE_9__.xp6(7),_angular_core__WEBPACK_IMPORTED_MODULE_9__.Oqu(_angular_core__WEBPACK_IMPORTED_MODULE_9__.lcZ(8,10,"resource-policies.form.eperson-group-list.table.headers.id")),_angular_core__WEBPACK_IMPORTED_MODULE_9__.xp6(3),_angular_core__WEBPACK_IMPORTED_MODULE_9__.Oqu(_angular_core__WEBPACK_IMPORTED_MODULE_9__.lcZ(11,12,"resource-policies.form.eperson-group-list.table.headers.name")),_angular_core__WEBPACK_IMPORTED_MODULE_9__.xp6(3),_angular_core__WEBPACK_IMPORTED_MODULE_9__.Oqu(_angular_core__WEBPACK_IMPORTED_MODULE_9__.lcZ(14,14,"resource-policies.form.eperson-group-list.table.headers.action")),_angular_core__WEBPACK_IMPORTED_MODULE_9__.xp6(3),_angular_core__WEBPACK_IMPORTED_MODULE_9__.Q6J("ngForOf",null==(tmp_7_0=_angular_core__WEBPACK_IMPORTED_MODULE_9__.lcZ(17,16,ctx_r2.getList()))||null==tmp_7_0.payload?null:tmp_7_0.payload.page)}}__name(EpersonGroupListComponent_ds_eperson_search_box_1_Template,"EpersonGroupListComponent_ds_eperson_search_box_1_Template"),__name(EpersonGroupListComponent_ds_group_search_box_2_Template,"EpersonGroupListComponent_ds_group_search_box_2_Template"),__name(EpersonGroupListComponent_ds_pagination_3_tr_16_Template,"EpersonGroupListComponent_ds_pagination_3_tr_16_Template"),__name(EpersonGroupListComponent_ds_pagination_3_Template,"EpersonGroupListComponent_ds_pagination_3_Template");class EpersonGroupListComponent{constructor(dsoNameService,parentInjector,paginationService){this.dsoNameService=dsoNameService,this.parentInjector=parentInjector,this.paginationService=paginationService,this.isListOfEPerson=!0,this.select=new _angular_core__WEBPACK_IMPORTED_MODULE_9__.vpe,this.currentSearchQuery="",this.currentSearchScope="metadata",this.paginationOptions=new _pagination_pagination_component_options_model__WEBPACK_IMPORTED_MODULE_1__.r,this.list$=new rxjs__WEBPACK_IMPORTED_MODULE_10__.BehaviorSubject({}),this.entrySelectedId=new rxjs__WEBPACK_IMPORTED_MODULE_10__.BehaviorSubject(""),this.subs=[]}ngOnInit(){const resourceType=this.isListOfEPerson?_core_eperson_models_eperson_resource_type__WEBPACK_IMPORTED_MODULE_3__.U:_core_eperson_models_group_resource_type__WEBPACK_IMPORTED_MODULE_4__.o,provider=(0,_core_data_base_data_service_decorator__WEBPACK_IMPORTED_MODULE_8__.p)(resourceType);this.dataService=_angular_core__WEBPACK_IMPORTED_MODULE_9__.zs3.create({providers:[],parent:this.parentInjector}).get(provider),this.paginationOptions.id=(0,lodash__WEBPACK_IMPORTED_MODULE_0__.uniqueId)("egl"),this.paginationOptions.pageSize=5,this.initSelected&&this.entrySelectedId.next(this.initSelected),this.updateList(this.currentSearchScope,this.currentSearchQuery)}emitSelect(entry){this.select.emit(entry),this.entrySelectedId.next(entry.id)}getList(){return this.list$.asObservable()}isSelected(entry){return this.entrySelectedId.asObservable().pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_11__.UI)(selectedId=>(0,_empty_util__WEBPACK_IMPORTED_MODULE_12__.UE)(selectedId)&&selectedId===entry.id))}onSearch(searchEvent){this.currentSearchQuery=searchEvent.query,this.currentSearchScope=searchEvent.scope,this.paginationService.resetPage(this.paginationOptions.id),this.updateList(this.currentSearchScope,this.currentSearchQuery)}updateList(scope,query){(0,_empty_util__WEBPACK_IMPORTED_MODULE_12__.Uh)(this.pageConfigSub)&&this.pageConfigSub.unsubscribe(),this.pageConfigSub=this.paginationService.getCurrentPagination(this.paginationOptions.id,this.paginationOptions).subscribe(paginationOptions=>{const options=Object.assign({},new _core_data_find_list_options_model__WEBPACK_IMPORTED_MODULE_13__.R,{elementsPerPage:paginationOptions.pageSize,currentPage:paginationOptions.currentPage}),search$=this.isListOfEPerson?this.dataService.searchByScope(scope,query,options):this.dataService.searchGroups(query,options);this.subs.push(search$.pipe((0,_core_shared_operators__WEBPACK_IMPORTED_MODULE_6__.hC)()).subscribe(list=>{(0,_empty_util__WEBPACK_IMPORTED_MODULE_12__.Uh)(this.list$)&&this.list$.next(list)}))})}ngOnDestroy(){this.list$=null,this.subs.filter(subscription=>(0,_empty_util__WEBPACK_IMPORTED_MODULE_12__.Uh)(subscription)).forEach(subscription=>subscription.unsubscribe()),this.paginationService.clearPagination(this.paginationOptions.id)}}__name(EpersonGroupListComponent,"EpersonGroupListComponent"),EpersonGroupListComponent.\u0275fac=__name(function(t){return new(t||EpersonGroupListComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_9__.Y36(_core_breadcrumbs_dso_name_service__WEBPACK_IMPORTED_MODULE_2__._),_angular_core__WEBPACK_IMPORTED_MODULE_9__.Y36(_angular_core__WEBPACK_IMPORTED_MODULE_9__.zs3),_angular_core__WEBPACK_IMPORTED_MODULE_9__.Y36(_core_pagination_pagination_service__WEBPACK_IMPORTED_MODULE_7__.N))},"EpersonGroupListComponent_Factory"),EpersonGroupListComponent.\u0275cmp=_angular_core__WEBPACK_IMPORTED_MODULE_9__.Xpm({type:EpersonGroupListComponent,selectors:[["ds-eperson-group-list"]],inputs:{isListOfEPerson:"isListOfEPerson",initSelected:"initSelected"},outputs:{select:"select"},decls:5,vars:6,consts:[[1,"mt-3"],[3,"search",4,"ngIf"],[3,"paginationOptions","collectionSize","retainScrollPosition","hideGear",4,"ngIf"],[3,"search"],[3,"paginationOptions","collectionSize","retainScrollPosition","hideGear"],[1,"table-responsive"],["id","groups",1,"table","table-sm","table-striped","table-hover","table-bordered"],[1,"text-center"],[3,"table-primary",4,"ngFor","ngForOf"],[1,"btn","btn-sm","btn-outline-primary",3,"click"]],template:__name(function(rf,ctx){if(1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_9__.TgZ(0,"div",0),_angular_core__WEBPACK_IMPORTED_MODULE_9__.YNc(1,EpersonGroupListComponent_ds_eperson_search_box_1_Template,1,0,"ds-eperson-search-box",1),_angular_core__WEBPACK_IMPORTED_MODULE_9__.YNc(2,EpersonGroupListComponent_ds_group_search_box_2_Template,1,0,"ds-group-search-box",1),_angular_core__WEBPACK_IMPORTED_MODULE_9__.YNc(3,EpersonGroupListComponent_ds_pagination_3_Template,18,18,"ds-pagination",2),_angular_core__WEBPACK_IMPORTED_MODULE_9__.ALo(4,"async"),_angular_core__WEBPACK_IMPORTED_MODULE_9__.qZA()),2&rf){let tmp_2_0;_angular_core__WEBPACK_IMPORTED_MODULE_9__.Q6J("@fadeInOut",void 0),_angular_core__WEBPACK_IMPORTED_MODULE_9__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_9__.Q6J("ngIf",ctx.isListOfEPerson),_angular_core__WEBPACK_IMPORTED_MODULE_9__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_9__.Q6J("ngIf",!ctx.isListOfEPerson),_angular_core__WEBPACK_IMPORTED_MODULE_9__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_9__.Q6J("ngIf",(null==(tmp_2_0=_angular_core__WEBPACK_IMPORTED_MODULE_9__.lcZ(4,4,ctx.getList()))||null==tmp_2_0.payload?null:tmp_2_0.payload.totalElements)>0)}},"EpersonGroupListComponent_Template"),styles:[""],data:{animation:[_animations_fade__WEBPACK_IMPORTED_MODULE_5__.Ic]}})},35835:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Z:()=>ResourcePolicyFormComponent});var core=__webpack_require__(5e3),cjs=__webpack_require__(76477),operators=__webpack_require__(83292),fesm2015_core=__webpack_require__(87098),resource_policy_model=__webpack_require__(68720),ds_dynamic_input_model=__webpack_require__(19260),policy_type_model=__webpack_require__(57603),action_type_model=__webpack_require__(91709);const policyTypeList=[{label:policy_type_model.M.TYPE_SUBMISSION,value:policy_type_model.M.TYPE_SUBMISSION},{label:policy_type_model.M.TYPE_WORKFLOW,value:policy_type_model.M.TYPE_WORKFLOW},{label:policy_type_model.M.TYPE_INHERITED,value:policy_type_model.M.TYPE_INHERITED},{label:policy_type_model.M.TYPE_CUSTOM,value:policy_type_model.M.TYPE_CUSTOM}],policyActionList=[{label:action_type_model.U.READ.toString(),value:action_type_model.U.READ},{label:action_type_model.U.WRITE.toString(),value:action_type_model.U.WRITE},{label:action_type_model.U.REMOVE.toString(),value:action_type_model.U.REMOVE},{label:action_type_model.U.ADMIN.toString(),value:action_type_model.U.ADMIN},{label:action_type_model.U.DELETE.toString(),value:action_type_model.U.DELETE},{label:action_type_model.U.WITHDRAWN_READ.toString(),value:action_type_model.U.WITHDRAWN_READ},{label:action_type_model.U.DEFAULT_BITSTREAM_READ.toString(),value:action_type_model.U.DEFAULT_BITSTREAM_READ},{label:action_type_model.U.DEFAULT_ITEM_READ.toString(),value:action_type_model.U.DEFAULT_ITEM_READ}],RESOURCE_POLICY_FORM_NAME_CONFIG={id:"name",label:"resource-policies.form.name.label",metadataFields:[],repeatable:!1,submissionId:"",hasSelectableMetadata:!1},RESOURCE_POLICY_FORM_DESCRIPTION_CONFIG={id:"description",label:"resource-policies.form.description.label",metadataFields:[],repeatable:!1,rows:10,submissionId:"",hasSelectableMetadata:!1},RESOURCE_POLICY_FORM_POLICY_TYPE_CONFIG={id:"policyType",label:"resource-policies.form.policy-type.label",options:policyTypeList,required:!0,validators:{required:null},errorMessages:{required:"resource-policies.form.policy-type.required"}},RESOURCE_POLICY_FORM_ACTION_TYPE_CONFIG={id:"action",label:"resource-policies.form.action-type.label",options:policyActionList,required:!0,validators:{required:null},errorMessages:{required:"resource-policies.form.action-type.required"}},RESOURCE_POLICY_FORM_DATE_GROUP_CONFIG={id:"date",group:[]},RESOURCE_POLICY_FORM_DATE_GROUP_LAYOUT={element:{control:"form-row"}},RESOURCE_POLICY_FORM_START_DATE_CONFIG={id:"start",label:"resource-policies.form.date.start.label",placeholder:"resource-policies.form.date.start.label",inline:!1,toggleIcon:"far fa-calendar-alt"},RESOURCE_POLICY_FORM_START_DATE_LAYOUT={element:{container:"p-0",label:"col-form-label"},grid:{host:"col-md-6"}},RESOURCE_POLICY_FORM_END_DATE_CONFIG={id:"end",label:"resource-policies.form.date.end.label",placeholder:"resource-policies.form.date.end.label",inline:!1,toggleIcon:"far fa-calendar-alt"},RESOURCE_POLICY_FORM_END_DATE_LAYOUT={element:{container:"p-0",label:"col-form-label"},grid:{host:"col-md-6"}};var ds_dynamic_textarea_model=__webpack_require__(67779),dso_name_service=__webpack_require__(83616),empty_util=__webpack_require__(24702),form_service=__webpack_require__(28858),resource_policy_resource_type=__webpack_require__(74648),date_util=__webpack_require__(38723),eperson_data_service=__webpack_require__(45061),group_data_service=__webpack_require__(43499),shared_operators=__webpack_require__(13730),request_service=__webpack_require__(31241),ng_bootstrap=__webpack_require__(13707),common=__webpack_require__(69808),form_component=__webpack_require__(63311),eperson_group_list_component=__webpack_require__(72044),ngx_translate_core=__webpack_require__(42466);const _c0=["content"];function ResourcePolicyFormComponent_ds_form_1_Template(rf,ctx){if(1&rf&&core._UZ(0,"ds-form",16,17),2&rf){const ctx_r0=core.oxw();core.Q6J("formId",ctx_r0.formId)("formModel",ctx_r0.formModel)("displaySubmit",!1)("displayCancel",!1)}}function ResourcePolicyFormComponent_ng_template_14_Template(rf,ctx){if(1&rf){const _r10=core.EpF();core.TgZ(0,"ds-eperson-group-list",18),core.NdJ("select",__name(function($event){return core.CHM(_r10),core.oxw().updateObjectSelected($event,!0)},"ResourcePolicyFormComponent_ng_template_14_Template_ds_eperson_group_list_select_0_listener")),core.qZA()}}function ResourcePolicyFormComponent_ng_template_19_Template(rf,ctx){if(1&rf){const _r12=core.EpF();core.TgZ(0,"ds-eperson-group-list",19),core.NdJ("select",__name(function($event){return core.CHM(_r12),core.oxw().updateObjectSelected($event,!1)},"ResourcePolicyFormComponent_ng_template_19_Template_ds_eperson_group_list_select_0_listener")),core.qZA()}2&rf&&core.Q6J("isListOfEPerson",!1)}function ResourcePolicyFormComponent_span_32_Template(rf,ctx){1&rf&&(core.TgZ(0,"span"),core._UZ(1,"i",20),core._uU(2),core.ALo(3,"translate"),core.qZA()),2&rf&&(core.xp6(2),core.hij(" ",core.lcZ(3,1,"submission.workflow.tasks.generic.processing")," "))}function ResourcePolicyFormComponent_span_34_Template(rf,ctx){1&rf&&(core.TgZ(0,"span"),core._uU(1),core.ALo(2,"translate"),core.qZA()),2&rf&&(core.xp6(1),core.hij(" ",core.lcZ(2,1,"form.submit")," "))}function ResourcePolicyFormComponent_ng_template_36_Template(rf,ctx){if(1&rf){const _r15=core.EpF();core.TgZ(0,"div",21)(1,"h4",22),core._uU(2),core.ALo(3,"translate"),core.qZA(),core.TgZ(4,"button",23),core.NdJ("click",__name(function(){return core.CHM(_r15).$implicit.close()},"ResourcePolicyFormComponent_ng_template_36_Template_button_click_4_listener")),core.TgZ(5,"span",24),core._uU(6,"\xd7"),core.qZA()()(),core.TgZ(7,"div",25)(8,"div",26)(9,"div",27),core._UZ(10,"i",28),core.qZA(),core.TgZ(11,"div"),core._UZ(12,"p",29),core.ALo(13,"translate"),core._UZ(14,"p",30),core.ALo(15,"translate"),core.qZA()()(),core.TgZ(16,"div",31)(17,"button",32),core.NdJ("click",__name(function(){return core.CHM(_r15).$implicit.close()},"ResourcePolicyFormComponent_ng_template_36_Template_button_click_17_listener")),core._uU(18),core.ALo(19,"translate"),core.qZA()()}if(2&rf){const ctx_r7=core.oxw();core.xp6(2),core.Oqu(core.lcZ(3,4,"resource-policies.form.eperson-group-list.modal.header")),core.xp6(10),core.Q6J("innerHTML",core.lcZ(13,6,"eperson"===ctx_r7.navActiveId?"resource-policies.form.eperson-group-list.modal.text1.toGroup":"resource-policies.form.eperson-group-list.modal.text1.toEPerson"),core.oJD),core.xp6(2),core.Q6J("innerHTML",core.lcZ(15,8,"resource-policies.form.eperson-group-list.modal.text2"),core.oJD),core.xp6(4),core.Oqu(core.lcZ(19,10,"resource-policies.form.eperson-group-list.modal.close"))}}__name(ResourcePolicyFormComponent_ds_form_1_Template,"ResourcePolicyFormComponent_ds_form_1_Template"),__name(ResourcePolicyFormComponent_ng_template_14_Template,"ResourcePolicyFormComponent_ng_template_14_Template"),__name(ResourcePolicyFormComponent_ng_template_19_Template,"ResourcePolicyFormComponent_ng_template_19_Template"),__name(ResourcePolicyFormComponent_span_32_Template,"ResourcePolicyFormComponent_span_32_Template"),__name(ResourcePolicyFormComponent_span_34_Template,"ResourcePolicyFormComponent_span_34_Template"),__name(ResourcePolicyFormComponent_ng_template_36_Template,"ResourcePolicyFormComponent_ng_template_36_Template");class ResourcePolicyFormComponent{constructor(dsoNameService,ePersonService,formService,groupService,requestService,modalService){this.dsoNameService=dsoNameService,this.ePersonService=ePersonService,this.formService=formService,this.groupService=groupService,this.requestService=requestService,this.modalService=modalService,this.isProcessing=(0,cjs.of)(!1),this.reset=new core.vpe,this.submit=new core.vpe,this.resourcePolicyTargetName$=new cjs.BehaviorSubject(""),this.subs=[],this.resourcePolicyTargetUpdated=!1}ngOnInit(){if(this.isActive=!0,this.formId=this.formService.getUniqueId("resource-policy-form"),this.formModel=this.buildResourcePolicyForm(),this.isBeingEdited()){const epersonRD$=this.ePersonService.findByHref(this.resourcePolicy._links.eperson.href,!1).pipe((0,shared_operators.xw)()),groupRD$=this.groupService.findByHref(this.resourcePolicy._links.group.href,!1).pipe((0,shared_operators.xw)()),dsoRD$=(0,cjs.combineLatest)([epersonRD$,groupRD$]).pipe((0,operators.UI)(rdArr=>rdArr.find(rd=>(0,empty_util.UE)(rd.payload))),(0,empty_util.tz)());this.subs.push(dsoRD$.pipe((0,operators.hX)(()=>this.isActive)).subscribe(dsoRD=>{this.resourcePolicyGrant=dsoRD.payload,this.navActiveId=String(dsoRD.payload.type),this.resourcePolicyTargetName$.next(this.getResourcePolicyTargetName())}))}}isFormValid(){return this.formService.isValid(this.formId).pipe((0,operators.UI)(isValid=>isValid&&(0,empty_util.UE)(this.resourcePolicyGrant)))}buildResourcePolicyForm(){const formModel=[];formModel.push(new ds_dynamic_input_model.u(RESOURCE_POLICY_FORM_NAME_CONFIG),new ds_dynamic_textarea_model.D(RESOURCE_POLICY_FORM_DESCRIPTION_CONFIG),new fesm2015_core.nMt(RESOURCE_POLICY_FORM_POLICY_TYPE_CONFIG),new fesm2015_core.nMt(RESOURCE_POLICY_FORM_ACTION_TYPE_CONFIG));const startDateModel=new fesm2015_core.oqv(RESOURCE_POLICY_FORM_START_DATE_CONFIG,RESOURCE_POLICY_FORM_START_DATE_LAYOUT),endDateModel=new fesm2015_core.oqv(RESOURCE_POLICY_FORM_END_DATE_CONFIG,RESOURCE_POLICY_FORM_END_DATE_LAYOUT),dateGroupConfig=Object.assign({},RESOURCE_POLICY_FORM_DATE_GROUP_CONFIG,{group:[]});return dateGroupConfig.group.push(startDateModel,endDateModel),formModel.push(new fesm2015_core.S_O(dateGroupConfig,RESOURCE_POLICY_FORM_DATE_GROUP_LAYOUT)),this.initModelsValue(formModel),formModel}initModelsValue(formModel){return this.resourcePolicy&&formModel.forEach(model=>{"date"===model.id?((0,empty_util.Uh)(this.resourcePolicy.startDate)&&(model.get(0).value=(0,date_util.bj)(this.resourcePolicy.startDate)),(0,empty_util.Uh)(this.resourcePolicy.endDate)&&(model.get(1).value=(0,date_util.bj)(this.resourcePolicy.endDate))):this.resourcePolicy.hasOwnProperty(model.id)&&this.resourcePolicy[model.id]&&(model.value=this.resourcePolicy[model.id])}),formModel}isBeingEdited(){return!(0,empty_util.xb)(this.resourcePolicy)}getResourcePolicyTargetName(){return(0,empty_util.UE)(this.resourcePolicyGrant)?this.dsoNameService.getName(this.resourcePolicyGrant):""}updateObjectSelected(object,isEPerson){this.resourcePolicyTargetUpdated=!0,this.resourcePolicyGrant=object,this.resourcePolicyGrantType=isEPerson?"eperson":"group",this.resourcePolicyTargetName$.next(this.getResourcePolicyTargetName())}onReset(){this.reset.emit()}onSubmit(){this.formService.getFormData(this.formId).pipe((0,operators.qn)(1)).subscribe(data=>{const eventPayload=Object.create({});eventPayload.object=this.createResourcePolicyByFormData(data),eventPayload.target={type:this.resourcePolicyGrantType,uuid:this.resourcePolicyGrant.id},eventPayload.updateTarget=this.resourcePolicyTargetUpdated,this.submit.emit(eventPayload)})}createResourcePolicyByFormData(data){const resourcePolicy=new resource_policy_model.A;return resourcePolicy.name=data.name?data.name[0].value:null,resourcePolicy.description=data.description?data.description[0].value:null,resourcePolicy.policyType=data.policyType?data.policyType[0].value:null,resourcePolicy.action=data.action?data.action[0].value:null,resourcePolicy.startDate=data.date&&data.date.start?(0,date_util.iV)(data.date.start[0].value):null,resourcePolicy.endDate=data.date&&data.date.end?(0,date_util.iV)(data.date.end[0].value):null,resourcePolicy.type=resource_policy_resource_type.A,resourcePolicy}ngOnDestroy(){this.isActive=!1,this.formModel=null,this.subs.filter(subscription=>(0,empty_util.Uh)(subscription)).forEach(subscription=>subscription.unsubscribe())}onNavChange(changeEvent){this.isBeingEdited()&&(changeEvent.preventDefault(),this.modalService.open(this.content))}}__name(ResourcePolicyFormComponent,"ResourcePolicyFormComponent"),ResourcePolicyFormComponent.\u0275fac=__name(function(t){return new(t||ResourcePolicyFormComponent)(core.Y36(dso_name_service._),core.Y36(eperson_data_service.k),core.Y36(form_service.o),core.Y36(group_data_service.O),core.Y36(request_service.s),core.Y36(ng_bootstrap.FF))},"ResourcePolicyFormComponent_Factory"),ResourcePolicyFormComponent.\u0275cmp=core.Xpm({type:ResourcePolicyFormComponent,selectors:[["ds-resource-policy-form"]],viewQuery:__name(function(rf,ctx){if(1&rf&&core.Gf(_c0,5),2&rf){let _t;core.iGM(_t=core.CRH())&&(ctx.content=_t.first)}},"ResourcePolicyFormComponent_Query"),inputs:{resourcePolicy:"resourcePolicy",isProcessing:"isProcessing"},outputs:{reset:"reset",submit:"submit"},decls:38,vars:34,consts:[[3,"formId","formModel","displaySubmit","displayCancel",4,"ngIf"],[1,"container-fluid"],["for","ResourcePolicyObject"],["id","ResourcePolicyObject","type","text",1,"form-control","mb-3",3,"value"],["ngbNav","",1,"nav-pills",3,"activeId","activeIdChange","navChange"],["nav","ngbNav"],[3,"ngbNavItem"],["ngbNavLink",""],["ngbNavContent",""],[3,"ngbNavOutlet"],[1,"form-group","row"],[1,"col","text-right"],["type","reset",1,"btn","btn-default",3,"disabled","click"],["type","button",1,"btn","btn-primary",3,"disabled","click"],[4,"ngIf"],["content",""],[3,"formId","formModel","displaySubmit","displayCancel"],["formRef","formComponent"],[3,"select"],[3,"isListOfEPerson","select"],[1,"fas","fa-circle-notch","fa-spin"],[1,"modal-header"],["id","modal-basic-title",1,"modal-title"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],[1,"d-flex","flex-row"],[1,"mr-3"],[1,"fas","fa-info-circle","fa-2x","text-info"],[1,"font-weight-bold",3,"innerHTML"],[3,"innerHTML"],[1,"modal-footer"],["type","button",1,"btn","btn-secondary",3,"click"]],template:__name(function(rf,ctx){if(1&rf&&(core.TgZ(0,"div"),core.YNc(1,ResourcePolicyFormComponent_ds_form_1_Template,2,4,"ds-form",0),core.TgZ(2,"div",1)(3,"label",2),core._uU(4),core.ALo(5,"translate"),core.qZA(),core._UZ(6,"input",3),core.ALo(7,"async"),core.TgZ(8,"ul",4,5),core.NdJ("activeIdChange",__name(function($event){return ctx.navActiveId=$event},"ResourcePolicyFormComponent_Template_ul_activeIdChange_8_listener"))("navChange",__name(function($event){return ctx.onNavChange($event)},"ResourcePolicyFormComponent_Template_ul_navChange_8_listener")),core.TgZ(10,"li",6)(11,"a",7),core._uU(12),core.ALo(13,"translate"),core.qZA(),core.YNc(14,ResourcePolicyFormComponent_ng_template_14_Template,1,0,"ng-template",8),core.qZA(),core.TgZ(15,"li",6)(16,"a",7),core._uU(17),core.ALo(18,"translate"),core.qZA(),core.YNc(19,ResourcePolicyFormComponent_ng_template_19_Template,1,1,"ng-template",8),core.qZA()(),core._UZ(20,"div",9),core.TgZ(21,"div"),core._UZ(22,"hr"),core.TgZ(23,"div",10)(24,"div",11)(25,"button",12),core.NdJ("click",__name(function(){return ctx.onReset()},"ResourcePolicyFormComponent_Template_button_click_25_listener")),core.ALo(26,"async"),core._uU(27),core.ALo(28,"translate"),core.qZA(),core.TgZ(29,"button",13),core.NdJ("click",__name(function(){return ctx.onSubmit()},"ResourcePolicyFormComponent_Template_button_click_29_listener")),core.ALo(30,"async"),core.ALo(31,"async"),core.YNc(32,ResourcePolicyFormComponent_span_32_Template,4,3,"span",14),core.ALo(33,"async"),core.YNc(34,ResourcePolicyFormComponent_span_34_Template,3,3,"span",14),core.ALo(35,"async"),core.qZA()()()()()(),core.YNc(36,ResourcePolicyFormComponent_ng_template_36_Template,20,12,"ng-template",null,15,core.W1O)),2&rf){const _r1=core.MAs(9);core.xp6(1),core.Q6J("ngIf",ctx.formModel),core.xp6(3),core.Oqu(core.lcZ(5,14,"resource-policies.form.eperson-group-list.label")),core.xp6(2),core.Q6J("value",core.lcZ(7,16,ctx.resourcePolicyTargetName$)),core.xp6(2),core.Q6J("activeId",ctx.navActiveId),core.xp6(2),core.Q6J("ngbNavItem","eperson"),core.xp6(2),core.Oqu(core.lcZ(13,18,"resource-policies.form.eperson-group-list.tab.eperson")),core.xp6(3),core.Q6J("ngbNavItem","group"),core.xp6(2),core.Oqu(core.lcZ(18,20,"resource-policies.form.eperson-group-list.tab.group")),core.xp6(3),core.Q6J("ngbNavOutlet",_r1),core.xp6(5),core.Q6J("disabled",core.lcZ(26,22,ctx.isProcessing)),core.xp6(2),core.Oqu(core.lcZ(28,24,"form.cancel")),core.xp6(2),core.Q6J("disabled",!core.lcZ(30,26,ctx.isFormValid())||core.lcZ(31,28,ctx.isProcessing)),core.xp6(3),core.Q6J("ngIf",core.lcZ(33,30,ctx.isProcessing)),core.xp6(2),core.Q6J("ngIf",!core.lcZ(35,32,ctx.isProcessing))}},"ResourcePolicyFormComponent_Template"),directives:[common.O5,form_component.U,ng_bootstrap.Pz,ng_bootstrap.nv,ng_bootstrap.Vx,ng_bootstrap.uN,eperson_group_list_component.W,ng_bootstrap.tO],pipes:[ngx_translate_core.X$,common.Ov],encapsulation:2})},66765:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{a:()=>ResourcePolicyTargetResolver});var _angular_core__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(5e3),_core_shared_resource_type__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(3879),_empty_util__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(24702),_core_shared_operators__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(13730),_core_data_base_data_service_decorator__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(21147),_angular_router__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(74202);class ResourcePolicyTargetResolver{constructor(parentInjector,router){this.parentInjector=parentInjector,this.router=router}resolve(route,state){const targetType=route.queryParamMap.get("targetType"),policyTargetId=route.queryParamMap.get("policyTargetId");((0,_empty_util__WEBPACK_IMPORTED_MODULE_2__.xb)(targetType)||(0,_empty_util__WEBPACK_IMPORTED_MODULE_2__.xb)(policyTargetId))&&this.router.navigateByUrl("/404",{skipLocationChange:!0});const provider=(0,_core_data_base_data_service_decorator__WEBPACK_IMPORTED_MODULE_1__.p)(new _core_shared_resource_type__WEBPACK_IMPORTED_MODULE_3__._(targetType));return this.dataService=_angular_core__WEBPACK_IMPORTED_MODULE_4__.zs3.create({providers:[],parent:this.parentInjector}).get(provider),this.dataService.findById(policyTargetId).pipe((0,_core_shared_operators__WEBPACK_IMPORTED_MODULE_0__.hC)())}}__name(ResourcePolicyTargetResolver,"ResourcePolicyTargetResolver"),ResourcePolicyTargetResolver.\u0275fac=__name(function(t){return new(t||ResourcePolicyTargetResolver)(_angular_core__WEBPACK_IMPORTED_MODULE_4__.LFG(_angular_core__WEBPACK_IMPORTED_MODULE_4__.zs3),_angular_core__WEBPACK_IMPORTED_MODULE_4__.LFG(_angular_router__WEBPACK_IMPORTED_MODULE_5__.F0))},"ResourcePolicyTargetResolver_Factory"),ResourcePolicyTargetResolver.\u0275prov=_angular_core__WEBPACK_IMPORTED_MODULE_4__.Yz7({token:ResourcePolicyTargetResolver,factory:ResourcePolicyTargetResolver.\u0275fac})},54004:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{b:()=>ResourcePolicyResolver});var _empty_util__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(24702),_core_resource_policy_resource_policy_data_service__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(24886),_utils_follow_link_config_model__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(93369),_core_shared_operators__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(13730),_angular_core__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(5e3),_angular_router__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(74202);class ResourcePolicyResolver{constructor(resourcePolicyService,router){this.resourcePolicyService=resourcePolicyService,this.router=router}resolve(route,state){const policyId=route.queryParamMap.get("policyId");return(0,_empty_util__WEBPACK_IMPORTED_MODULE_2__.xb)(policyId)&&this.router.navigateByUrl("/404",{skipLocationChange:!0}),this.resourcePolicyService.findById(policyId,!0,!1,(0,_utils_follow_link_config_model__WEBPACK_IMPORTED_MODULE_3__.l)("eperson"),(0,_utils_follow_link_config_model__WEBPACK_IMPORTED_MODULE_3__.l)("group")).pipe((0,_core_shared_operators__WEBPACK_IMPORTED_MODULE_1__.hC)())}}__name(ResourcePolicyResolver,"ResourcePolicyResolver"),ResourcePolicyResolver.\u0275fac=__name(function(t){return new(t||ResourcePolicyResolver)(_angular_core__WEBPACK_IMPORTED_MODULE_4__.LFG(_core_resource_policy_resource_policy_data_service__WEBPACK_IMPORTED_MODULE_0__.I),_angular_core__WEBPACK_IMPORTED_MODULE_4__.LFG(_angular_router__WEBPACK_IMPORTED_MODULE_5__.F0))},"ResourcePolicyResolver_Factory"),ResourcePolicyResolver.\u0275prov=_angular_core__WEBPACK_IMPORTED_MODULE_4__.Yz7({token:ResourcePolicyResolver,factory:ResourcePolicyResolver.\u0275fac})},40195:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{F:()=>ResourcePoliciesComponent});var rxjs__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(76477),rxjs_operators__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(83292),_core_shared_operators__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(13730),_core_resource_policy_resource_policy_data_service__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(24886),_core_breadcrumbs_dso_name_service__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(83616),_core_eperson_group_data_service__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(43499),_empty_util__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(24702),_core_eperson_eperson_data_service__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(45061),_core_data_request_service__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(31241),_notifications_notifications_service__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(82596),_utils_follow_link_config_model__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(93369),_angular_core__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(5e3),_angular_router__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__(74202),_ngx_translate_core__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__(42466),_angular_common__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__(69808),_entry_resource_policy_entry_component__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(60726);function ResourcePoliciesComponent_ng_container_11_Template(rf,ctx){if(1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_8__.ynx(0),_angular_core__WEBPACK_IMPORTED_MODULE_8__._uU(1),_angular_core__WEBPACK_IMPORTED_MODULE_8__.BQk()),2&rf){const ctx_r0=_angular_core__WEBPACK_IMPORTED_MODULE_8__.oxw();_angular_core__WEBPACK_IMPORTED_MODULE_8__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_8__.hij(" (",ctx_r0.resourceUUID,") ")}}function ResourcePoliciesComponent_span_17_Template(rf,ctx){1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_8__.TgZ(0,"span"),_angular_core__WEBPACK_IMPORTED_MODULE_8__._UZ(1,"i",11),_angular_core__WEBPACK_IMPORTED_MODULE_8__._uU(2),_angular_core__WEBPACK_IMPORTED_MODULE_8__.ALo(3,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_8__.qZA()),2&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_8__.xp6(2),_angular_core__WEBPACK_IMPORTED_MODULE_8__.hij(" ",_angular_core__WEBPACK_IMPORTED_MODULE_8__.lcZ(3,1,"submission.workflow.tasks.generic.processing")," "))}function ResourcePoliciesComponent_span_19_Template(rf,ctx){1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_8__.TgZ(0,"span"),_angular_core__WEBPACK_IMPORTED_MODULE_8__._UZ(1,"i",12),_angular_core__WEBPACK_IMPORTED_MODULE_8__._uU(2),_angular_core__WEBPACK_IMPORTED_MODULE_8__.ALo(3,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_8__.qZA()),2&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_8__.xp6(2),_angular_core__WEBPACK_IMPORTED_MODULE_8__.hij(" ",_angular_core__WEBPACK_IMPORTED_MODULE_8__.lcZ(3,1,"resource-policies.delete.btn")," "))}function ResourcePoliciesComponent_tr_27_Template(rf,ctx){if(1&rf){const _r6=_angular_core__WEBPACK_IMPORTED_MODULE_8__.EpF();_angular_core__WEBPACK_IMPORTED_MODULE_8__.TgZ(0,"tr",13)(1,"th")(2,"div",14)(3,"input",15),_angular_core__WEBPACK_IMPORTED_MODULE_8__.NdJ("change",__name(function($event){return _angular_core__WEBPACK_IMPORTED_MODULE_8__.CHM(_r6),_angular_core__WEBPACK_IMPORTED_MODULE_8__.oxw().selectAllCheckbox($event)},"ResourcePoliciesComponent_tr_27_Template_input_change_3_listener")),_angular_core__WEBPACK_IMPORTED_MODULE_8__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_8__._UZ(4,"label",16),_angular_core__WEBPACK_IMPORTED_MODULE_8__.qZA()(),_angular_core__WEBPACK_IMPORTED_MODULE_8__.TgZ(5,"th"),_angular_core__WEBPACK_IMPORTED_MODULE_8__._uU(6),_angular_core__WEBPACK_IMPORTED_MODULE_8__.ALo(7,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_8__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_8__.TgZ(8,"th"),_angular_core__WEBPACK_IMPORTED_MODULE_8__._uU(9),_angular_core__WEBPACK_IMPORTED_MODULE_8__.ALo(10,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_8__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_8__.TgZ(11,"th"),_angular_core__WEBPACK_IMPORTED_MODULE_8__._uU(12),_angular_core__WEBPACK_IMPORTED_MODULE_8__.ALo(13,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_8__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_8__.TgZ(14,"th"),_angular_core__WEBPACK_IMPORTED_MODULE_8__._uU(15),_angular_core__WEBPACK_IMPORTED_MODULE_8__.ALo(16,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_8__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_8__.TgZ(17,"th"),_angular_core__WEBPACK_IMPORTED_MODULE_8__._uU(18),_angular_core__WEBPACK_IMPORTED_MODULE_8__.ALo(19,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_8__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_8__.TgZ(20,"th"),_angular_core__WEBPACK_IMPORTED_MODULE_8__._uU(21),_angular_core__WEBPACK_IMPORTED_MODULE_8__.ALo(22,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_8__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_8__.TgZ(23,"th"),_angular_core__WEBPACK_IMPORTED_MODULE_8__._uU(24),_angular_core__WEBPACK_IMPORTED_MODULE_8__.ALo(25,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_8__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_8__.TgZ(26,"th"),_angular_core__WEBPACK_IMPORTED_MODULE_8__._uU(27),_angular_core__WEBPACK_IMPORTED_MODULE_8__.ALo(28,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_8__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_8__.TgZ(29,"th"),_angular_core__WEBPACK_IMPORTED_MODULE_8__._uU(30),_angular_core__WEBPACK_IMPORTED_MODULE_8__.ALo(31,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_8__.qZA()()}if(2&rf){const ctx_r3=_angular_core__WEBPACK_IMPORTED_MODULE_8__.oxw();_angular_core__WEBPACK_IMPORTED_MODULE_8__.xp6(3),_angular_core__WEBPACK_IMPORTED_MODULE_8__.Q6J("id","selectAll_"+ctx_r3.resourceUUID),_angular_core__WEBPACK_IMPORTED_MODULE_8__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_8__.Q6J("for","selectAll_"+ctx_r3.resourceUUID),_angular_core__WEBPACK_IMPORTED_MODULE_8__.xp6(2),_angular_core__WEBPACK_IMPORTED_MODULE_8__.Oqu(_angular_core__WEBPACK_IMPORTED_MODULE_8__.lcZ(7,11,"resource-policies.table.headers.id")),_angular_core__WEBPACK_IMPORTED_MODULE_8__.xp6(3),_angular_core__WEBPACK_IMPORTED_MODULE_8__.Oqu(_angular_core__WEBPACK_IMPORTED_MODULE_8__.lcZ(10,13,"resource-policies.table.headers.name")),_angular_core__WEBPACK_IMPORTED_MODULE_8__.xp6(3),_angular_core__WEBPACK_IMPORTED_MODULE_8__.Oqu(_angular_core__WEBPACK_IMPORTED_MODULE_8__.lcZ(13,15,"resource-policies.table.headers.policyType")),_angular_core__WEBPACK_IMPORTED_MODULE_8__.xp6(3),_angular_core__WEBPACK_IMPORTED_MODULE_8__.Oqu(_angular_core__WEBPACK_IMPORTED_MODULE_8__.lcZ(16,17,"resource-policies.table.headers.action")),_angular_core__WEBPACK_IMPORTED_MODULE_8__.xp6(3),_angular_core__WEBPACK_IMPORTED_MODULE_8__.Oqu(_angular_core__WEBPACK_IMPORTED_MODULE_8__.lcZ(19,19,"resource-policies.table.headers.eperson")),_angular_core__WEBPACK_IMPORTED_MODULE_8__.xp6(3),_angular_core__WEBPACK_IMPORTED_MODULE_8__.Oqu(_angular_core__WEBPACK_IMPORTED_MODULE_8__.lcZ(22,21,"resource-policies.table.headers.group")),_angular_core__WEBPACK_IMPORTED_MODULE_8__.xp6(3),_angular_core__WEBPACK_IMPORTED_MODULE_8__.Oqu(_angular_core__WEBPACK_IMPORTED_MODULE_8__.lcZ(25,23,"resource-policies.table.headers.date.start")),_angular_core__WEBPACK_IMPORTED_MODULE_8__.xp6(3),_angular_core__WEBPACK_IMPORTED_MODULE_8__.Oqu(_angular_core__WEBPACK_IMPORTED_MODULE_8__.lcZ(28,25,"resource-policies.table.headers.date.end")),_angular_core__WEBPACK_IMPORTED_MODULE_8__.xp6(3),_angular_core__WEBPACK_IMPORTED_MODULE_8__.Oqu(_angular_core__WEBPACK_IMPORTED_MODULE_8__.lcZ(31,27,"resource-policies.table.headers.edit"))}}function ResourcePoliciesComponent_tbody_29_tr_1_Template(rf,ctx){if(1&rf){const _r10=_angular_core__WEBPACK_IMPORTED_MODULE_8__.EpF();_angular_core__WEBPACK_IMPORTED_MODULE_8__.TgZ(0,"tr",18),_angular_core__WEBPACK_IMPORTED_MODULE_8__.NdJ("toggleCheckbox",__name(function($event){const entry_r8=_angular_core__WEBPACK_IMPORTED_MODULE_8__.CHM(_r10).$implicit;return _angular_core__WEBPACK_IMPORTED_MODULE_8__.oxw(2).selectCheckbox(entry_r8,$event)},"ResourcePoliciesComponent_tbody_29_tr_1_Template_tr_toggleCheckbox_0_listener")),_angular_core__WEBPACK_IMPORTED_MODULE_8__.qZA()}if(2&rf){const entry_r8=ctx.$implicit;_angular_core__WEBPACK_IMPORTED_MODULE_8__.Q6J("entry",entry_r8)}}function ResourcePoliciesComponent_tbody_29_Template(rf,ctx){if(1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_8__.TgZ(0,"tbody"),_angular_core__WEBPACK_IMPORTED_MODULE_8__.YNc(1,ResourcePoliciesComponent_tbody_29_tr_1_Template,1,1,"tr",17),_angular_core__WEBPACK_IMPORTED_MODULE_8__.ALo(2,"async"),_angular_core__WEBPACK_IMPORTED_MODULE_8__.qZA()),2&rf){const ctx_r4=_angular_core__WEBPACK_IMPORTED_MODULE_8__.oxw();_angular_core__WEBPACK_IMPORTED_MODULE_8__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_8__.Q6J("ngForOf",_angular_core__WEBPACK_IMPORTED_MODULE_8__.lcZ(2,1,ctx_r4.getResourcePolicies()))}}__name(ResourcePoliciesComponent_ng_container_11_Template,"ResourcePoliciesComponent_ng_container_11_Template"),__name(ResourcePoliciesComponent_span_17_Template,"ResourcePoliciesComponent_span_17_Template"),__name(ResourcePoliciesComponent_span_19_Template,"ResourcePoliciesComponent_span_19_Template"),__name(ResourcePoliciesComponent_tr_27_Template,"ResourcePoliciesComponent_tr_27_Template"),__name(ResourcePoliciesComponent_tbody_29_tr_1_Template,"ResourcePoliciesComponent_tbody_29_tr_1_Template"),__name(ResourcePoliciesComponent_tbody_29_Template,"ResourcePoliciesComponent_tbody_29_Template");class ResourcePoliciesComponent{constructor(cdr,dsoNameService,ePersonService,groupService,notificationsService,requestService,resourcePolicyService,route,router,translate){this.cdr=cdr,this.dsoNameService=dsoNameService,this.ePersonService=ePersonService,this.groupService=groupService,this.notificationsService=notificationsService,this.requestService=requestService,this.resourcePolicyService=resourcePolicyService,this.route=route,this.router=router,this.translate=translate,this.processingDelete$=new rxjs__WEBPACK_IMPORTED_MODULE_9__.BehaviorSubject(!1),this.resourcePoliciesEntries$=new rxjs__WEBPACK_IMPORTED_MODULE_9__.BehaviorSubject([]),this.subs=[]}ngOnInit(){this.isActive=!0,this.initResourcePolicyList()}canDelete(){return(0,rxjs__WEBPACK_IMPORTED_MODULE_9__.from)(this.resourcePoliciesEntries$.value).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_10__.hX)(entry=>entry.checked),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_10__.u4)((acc,value)=>[...acc,value],[]),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_10__.UI)(entries=>(0,_empty_util__WEBPACK_IMPORTED_MODULE_11__.UE)(entries)),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_10__.xb)())}deleteSelectedResourcePolicies(){this.processingDelete$.next(!0);const policiesToDelete=this.resourcePoliciesEntries$.value.filter(entry=>entry.checked);this.subs.push((0,rxjs__WEBPACK_IMPORTED_MODULE_9__.from)(policiesToDelete).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_10__.bJ)(entry=>this.resourcePolicyService.delete(entry.policy.id)),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_10__.Rp)((acc,value)=>[...acc,value],[]),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_10__.hX)(results=>results.length===policiesToDelete.length),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_10__.qn)(1)).subscribe(results=>{const failureResults=results.filter(result=>!result);(0,_empty_util__WEBPACK_IMPORTED_MODULE_11__.xb)(failureResults)?this.notificationsService.success(null,this.translate.get("resource-policies.delete.success.content")):this.notificationsService.error(null,this.translate.get("resource-policies.delete.failure.content")),this.processingDelete$.next(!1)}))}getResourcePolicies(){return this.resourcePoliciesEntries$.asObservable()}initResourcePolicyList(){this.subs.push(this.resourcePolicyService.searchByResource(this.resourceUUID,null,!1,!0,(0,_utils_follow_link_config_model__WEBPACK_IMPORTED_MODULE_12__.l)("eperson"),(0,_utils_follow_link_config_model__WEBPACK_IMPORTED_MODULE_12__.l)("group")).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_10__.hX)(()=>this.isActive),(0,_core_shared_operators__WEBPACK_IMPORTED_MODULE_0__.g1)()).subscribe(result=>{const entries=result.payload.page.map(policy=>({id:policy.id,policy,checked:!1}));this.resourcePoliciesEntries$.next(entries),this.cdr.detectChanges()}))}isProcessingDelete(){return this.processingDelete$.asObservable()}redirectToResourcePolicyCreatePage(){this.router.navigate(["./create"],{relativeTo:this.route,queryParams:{policyTargetId:this.resourceUUID,targetType:this.resourceType}})}selectAllCheckbox(event2){const checked=event2.target.checked;this.resourcePoliciesEntries$.value.forEach(entry=>entry.checked=checked)}selectCheckbox(policyEntry,checked){policyEntry.checked=checked}ngOnDestroy(){this.isActive=!1,this.resourcePoliciesEntries$=null,this.subs.filter(subscription=>(0,_empty_util__WEBPACK_IMPORTED_MODULE_11__.Uh)(subscription)).forEach(subscription=>subscription.unsubscribe())}}__name(ResourcePoliciesComponent,"ResourcePoliciesComponent"),ResourcePoliciesComponent.\u0275fac=__name(function(t){return new(t||ResourcePoliciesComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_8__.Y36(_angular_core__WEBPACK_IMPORTED_MODULE_8__.sBO),_angular_core__WEBPACK_IMPORTED_MODULE_8__.Y36(_core_breadcrumbs_dso_name_service__WEBPACK_IMPORTED_MODULE_2__._),_angular_core__WEBPACK_IMPORTED_MODULE_8__.Y36(_core_eperson_eperson_data_service__WEBPACK_IMPORTED_MODULE_4__.k),_angular_core__WEBPACK_IMPORTED_MODULE_8__.Y36(_core_eperson_group_data_service__WEBPACK_IMPORTED_MODULE_3__.O),_angular_core__WEBPACK_IMPORTED_MODULE_8__.Y36(_notifications_notifications_service__WEBPACK_IMPORTED_MODULE_6__.T),_angular_core__WEBPACK_IMPORTED_MODULE_8__.Y36(_core_data_request_service__WEBPACK_IMPORTED_MODULE_5__.s),_angular_core__WEBPACK_IMPORTED_MODULE_8__.Y36(_core_resource_policy_resource_policy_data_service__WEBPACK_IMPORTED_MODULE_1__.I),_angular_core__WEBPACK_IMPORTED_MODULE_8__.Y36(_angular_router__WEBPACK_IMPORTED_MODULE_13__.gz),_angular_core__WEBPACK_IMPORTED_MODULE_8__.Y36(_angular_router__WEBPACK_IMPORTED_MODULE_13__.F0),_angular_core__WEBPACK_IMPORTED_MODULE_8__.Y36(_ngx_translate_core__WEBPACK_IMPORTED_MODULE_14__.sK))},"ResourcePoliciesComponent_Factory"),ResourcePoliciesComponent.\u0275cmp=_angular_core__WEBPACK_IMPORTED_MODULE_8__.Xpm({type:ResourcePoliciesComponent,selectors:[["ds-resource-policies"]],inputs:{resourceUUID:"resourceUUID",resourceType:"resourceType",resourceName:"resourceName"},decls:31,vars:34,consts:[[1,"table-responsive"],[1,"table","table-striped","table-bordered","table-hover"],["colspan","10"],[1,"d-flex","justify-content-between","align-items-center","m-0"],[1,"text-info"],[4,"ngIf"],[1,"space-children-mr","flex-shrink-0"],[1,"btn","btn-danger","p-1",3,"disabled","title","click"],[1,"btn","btn-success","p-1",3,"disabled","title","click"],[1,"fas","fa-plus"],["class","text-center",4,"ngIf"],[1,"fas","fa-circle-notch","fa-spin"],[1,"fas","fa-trash-alt","fa-fw"],[1,"text-center"],[1,"custom-control","custom-checkbox"],["type","checkbox",1,"custom-control-input",3,"id","change"],[1,"custom-control-label",3,"for"],["ds-resource-policy-entry","",3,"entry","toggleCheckbox",4,"ngFor","ngForOf"],["ds-resource-policy-entry","",3,"entry","toggleCheckbox"]],template:__name(function(rf,ctx){if(1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_8__.TgZ(0,"div",0)(1,"table",1)(2,"thead")(3,"tr")(4,"th",2)(5,"div",3)(6,"span"),_angular_core__WEBPACK_IMPORTED_MODULE_8__._uU(7),_angular_core__WEBPACK_IMPORTED_MODULE_8__.ALo(8,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_8__.TgZ(9,"span",4),_angular_core__WEBPACK_IMPORTED_MODULE_8__._uU(10),_angular_core__WEBPACK_IMPORTED_MODULE_8__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_8__.YNc(11,ResourcePoliciesComponent_ng_container_11_Template,2,1,"ng-container",5),_angular_core__WEBPACK_IMPORTED_MODULE_8__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_8__.TgZ(12,"div",6)(13,"button",7),_angular_core__WEBPACK_IMPORTED_MODULE_8__.NdJ("click",__name(function(){return ctx.deleteSelectedResourcePolicies()},"ResourcePoliciesComponent_Template_button_click_13_listener")),_angular_core__WEBPACK_IMPORTED_MODULE_8__.ALo(14,"async"),_angular_core__WEBPACK_IMPORTED_MODULE_8__.ALo(15,"async"),_angular_core__WEBPACK_IMPORTED_MODULE_8__.ALo(16,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_8__.YNc(17,ResourcePoliciesComponent_span_17_Template,4,3,"span",5),_angular_core__WEBPACK_IMPORTED_MODULE_8__.ALo(18,"async"),_angular_core__WEBPACK_IMPORTED_MODULE_8__.YNc(19,ResourcePoliciesComponent_span_19_Template,4,3,"span",5),_angular_core__WEBPACK_IMPORTED_MODULE_8__.ALo(20,"async"),_angular_core__WEBPACK_IMPORTED_MODULE_8__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_8__.TgZ(21,"button",8),_angular_core__WEBPACK_IMPORTED_MODULE_8__.NdJ("click",__name(function(){return ctx.redirectToResourcePolicyCreatePage()},"ResourcePoliciesComponent_Template_button_click_21_listener")),_angular_core__WEBPACK_IMPORTED_MODULE_8__.ALo(22,"async"),_angular_core__WEBPACK_IMPORTED_MODULE_8__.ALo(23,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_8__._UZ(24,"i",9),_angular_core__WEBPACK_IMPORTED_MODULE_8__._uU(25),_angular_core__WEBPACK_IMPORTED_MODULE_8__.ALo(26,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_8__.qZA()()()()(),_angular_core__WEBPACK_IMPORTED_MODULE_8__.YNc(27,ResourcePoliciesComponent_tr_27_Template,32,29,"tr",10),_angular_core__WEBPACK_IMPORTED_MODULE_8__.ALo(28,"async"),_angular_core__WEBPACK_IMPORTED_MODULE_8__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_8__.YNc(29,ResourcePoliciesComponent_tbody_29_Template,3,3,"tbody",5),_angular_core__WEBPACK_IMPORTED_MODULE_8__.ALo(30,"async"),_angular_core__WEBPACK_IMPORTED_MODULE_8__.qZA()()),2&rf){let tmp_10_0,tmp_11_0;_angular_core__WEBPACK_IMPORTED_MODULE_8__.xp6(7),_angular_core__WEBPACK_IMPORTED_MODULE_8__.hij(" ",_angular_core__WEBPACK_IMPORTED_MODULE_8__.lcZ(8,12,"resource-policies.table.headers.title.for."+ctx.resourceType)," "),_angular_core__WEBPACK_IMPORTED_MODULE_8__.xp6(3),_angular_core__WEBPACK_IMPORTED_MODULE_8__.hij(" ",ctx.resourceName," "),_angular_core__WEBPACK_IMPORTED_MODULE_8__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_8__.Q6J("ngIf","item"!=ctx.resourceType),_angular_core__WEBPACK_IMPORTED_MODULE_8__.xp6(2),_angular_core__WEBPACK_IMPORTED_MODULE_8__.Q6J("disabled",!_angular_core__WEBPACK_IMPORTED_MODULE_8__.lcZ(14,14,ctx.canDelete())||_angular_core__WEBPACK_IMPORTED_MODULE_8__.lcZ(15,16,ctx.isProcessingDelete()))("title",_angular_core__WEBPACK_IMPORTED_MODULE_8__.lcZ(16,18,"resource-policies.delete.btn.title")),_angular_core__WEBPACK_IMPORTED_MODULE_8__.xp6(4),_angular_core__WEBPACK_IMPORTED_MODULE_8__.Q6J("ngIf",_angular_core__WEBPACK_IMPORTED_MODULE_8__.lcZ(18,20,ctx.isProcessingDelete())),_angular_core__WEBPACK_IMPORTED_MODULE_8__.xp6(2),_angular_core__WEBPACK_IMPORTED_MODULE_8__.Q6J("ngIf",!_angular_core__WEBPACK_IMPORTED_MODULE_8__.lcZ(20,22,ctx.isProcessingDelete())),_angular_core__WEBPACK_IMPORTED_MODULE_8__.xp6(2),_angular_core__WEBPACK_IMPORTED_MODULE_8__.Q6J("disabled",_angular_core__WEBPACK_IMPORTED_MODULE_8__.lcZ(22,24,ctx.isProcessingDelete()))("title",_angular_core__WEBPACK_IMPORTED_MODULE_8__.lcZ(23,26,"resource-policies.add.for."+ctx.resourceType)),_angular_core__WEBPACK_IMPORTED_MODULE_8__.xp6(4),_angular_core__WEBPACK_IMPORTED_MODULE_8__.hij(" ",_angular_core__WEBPACK_IMPORTED_MODULE_8__.lcZ(26,28,"resource-policies.add.button")," "),_angular_core__WEBPACK_IMPORTED_MODULE_8__.xp6(2),_angular_core__WEBPACK_IMPORTED_MODULE_8__.Q6J("ngIf",(null==(tmp_10_0=_angular_core__WEBPACK_IMPORTED_MODULE_8__.lcZ(28,30,ctx.getResourcePolicies()))?null:tmp_10_0.length)>0),_angular_core__WEBPACK_IMPORTED_MODULE_8__.xp6(2),_angular_core__WEBPACK_IMPORTED_MODULE_8__.Q6J("ngIf",(null==(tmp_11_0=_angular_core__WEBPACK_IMPORTED_MODULE_8__.lcZ(30,32,ctx.getResourcePolicies()))?null:tmp_11_0.length)>0)}},"ResourcePoliciesComponent_Template"),directives:[_angular_common__WEBPACK_IMPORTED_MODULE_15__.O5,_angular_common__WEBPACK_IMPORTED_MODULE_15__.sg,_entry_resource_policy_entry_component__WEBPACK_IMPORTED_MODULE_7__.Y],pipes:[_ngx_translate_core__WEBPACK_IMPORTED_MODULE_14__.X$,_angular_common__WEBPACK_IMPORTED_MODULE_15__.Ov],styles:["td[_ngcontent-%COMP%]   .btn-link[_ngcontent-%COMP%]:focus{box-shadow:none!important}"]})},94337:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{q:()=>ResourcePoliciesModule});var common=__webpack_require__(69808),ngx_translate_core=__webpack_require__(42466),resource_policies_component=__webpack_require__(40195),resource_policy_form_component=__webpack_require__(35835),resource_policy_edit_component=__webpack_require__(86527),resource_policy_create_component=__webpack_require__(34981),form_module=__webpack_require__(10194),resource_policy_resolver=__webpack_require__(54004),resource_policy_target_resolver=__webpack_require__(66765),eperson_group_list_component=__webpack_require__(72044),core=__webpack_require__(5e3),empty_util=__webpack_require__(24702),fesm2015_forms=__webpack_require__(93075);class GroupSearchBoxComponent{constructor(formBuilder){this.formBuilder=formBuilder,this.labelPrefix="admin.access-control.groups.",this.subs=[],this.search=new core.vpe,this.searchForm=this.formBuilder.group({query:""})}reset(){this.searchForm=this.formBuilder.group({query:""})}submit(data){const event2={scope:"",query:(0,empty_util.K0)(data)?data.query:""};this.search.emit(event2)}}__name(GroupSearchBoxComponent,"GroupSearchBoxComponent"),GroupSearchBoxComponent.\u0275fac=__name(function(t){return new(t||GroupSearchBoxComponent)(core.Y36(fesm2015_forms.qu))},"GroupSearchBoxComponent_Factory"),GroupSearchBoxComponent.\u0275cmp=core.Xpm({type:GroupSearchBoxComponent,selectors:[["ds-group-search-box"]],outputs:{search:"search"},decls:13,vars:7,consts:[[1,"d-flex","justify-content-between",3,"formGroup","ngSubmit"],[1,"flex-grow-1","mr-3"],[1,"form-group","input-group"],["type","text","name","query","id","query","formControlName","query","aria-label","Search input",1,"form-control"],[1,"input-group-append"],["type","submit",1,"search-button","btn","btn-primary"],[1,"fas","fa-search"],["type","button",1,"search-button","btn","btn-secondary",3,"click"]],template:__name(function(rf,ctx){1&rf&&(core.TgZ(0,"form",0),core.NdJ("ngSubmit",__name(function($event){return ctx.submit(ctx.searchForm.value),$event.stopImmediatePropagation()},"GroupSearchBoxComponent_Template_form_ngSubmit_0_listener")),core.TgZ(1,"div",1)(2,"div",2),core._UZ(3,"input",3),core.TgZ(4,"span",4)(5,"button",5),core._UZ(6,"i",6),core._uU(7),core.ALo(8,"translate"),core.qZA()()()(),core.TgZ(9,"div")(10,"button",7),core.NdJ("click",__name(function(){return ctx.submit(null),ctx.reset()},"GroupSearchBoxComponent_Template_button_click_10_listener")),core._uU(11),core.ALo(12,"translate"),core.qZA()()()),2&rf&&(core.Q6J("formGroup",ctx.searchForm),core.xp6(7),core.hij(" ",core.lcZ(8,3,ctx.labelPrefix+"search.button")," "),core.xp6(4),core.hij(" ",core.lcZ(12,5,ctx.labelPrefix+"button.see-all")," "))},"GroupSearchBoxComponent_Template"),directives:[fesm2015_forms._Y,fesm2015_forms.JL,fesm2015_forms.sg,fesm2015_forms.Fj,fesm2015_forms.JJ,fesm2015_forms.u],pipes:[ngx_translate_core.X$],encapsulation:2});class EpersonSearchBoxComponent{constructor(formBuilder){this.formBuilder=formBuilder,this.labelPrefix="admin.access-control.epeople.",this.subs=[],this.search=new core.vpe,this.searchForm=this.formBuilder.group({scope:"metadata",query:""})}reset(){this.searchForm=this.formBuilder.group({scope:"metadata",query:""})}submit(data){const event2={scope:(0,empty_util.K0)(data)?data.scope:"metadata",query:(0,empty_util.K0)(data)?data.query:""};this.search.emit(event2)}}__name(EpersonSearchBoxComponent,"EpersonSearchBoxComponent"),EpersonSearchBoxComponent.\u0275fac=__name(function(t){return new(t||EpersonSearchBoxComponent)(core.Y36(fesm2015_forms.qu))},"EpersonSearchBoxComponent_Factory"),EpersonSearchBoxComponent.\u0275cmp=core.Xpm({type:EpersonSearchBoxComponent,selectors:[["ds-eperson-search-box"]],outputs:{search:"search"},decls:21,vars:13,consts:[[1,"d-flex","justify-content-between",3,"formGroup","ngSubmit"],["name","scope","id","scope","formControlName","scope","aria-label","Search scope",1,"form-control"],["value","metadata"],["value","email"],[1,"flex-grow-1","mr-3","ml-3"],[1,"form-group","input-group"],["type","text","name","query","id","query","formControlName","query","aria-label","Search input",1,"form-control"],[1,"input-group-append"],["type","submit",1,"search-button","btn","btn-primary"],[1,"fas","fa-search"],["type","button",1,"search-button","btn","btn-secondary",3,"click"]],template:__name(function(rf,ctx){1&rf&&(core.TgZ(0,"form",0),core.NdJ("ngSubmit",__name(function($event){return ctx.submit(ctx.searchForm.value),$event.stopImmediatePropagation()},"EpersonSearchBoxComponent_Template_form_ngSubmit_0_listener")),core.TgZ(1,"div")(2,"select",1)(3,"option",2),core._uU(4),core.ALo(5,"translate"),core.qZA(),core.TgZ(6,"option",3),core._uU(7),core.ALo(8,"translate"),core.qZA()()(),core.TgZ(9,"div",4)(10,"div",5),core._UZ(11,"input",6),core.TgZ(12,"span",7)(13,"button",8),core._UZ(14,"i",9),core._uU(15),core.ALo(16,"translate"),core.qZA()()()(),core.TgZ(17,"div")(18,"button",10),core.NdJ("click",__name(function(){return ctx.submit(null),ctx.reset()},"EpersonSearchBoxComponent_Template_button_click_18_listener")),core._uU(19),core.ALo(20,"translate"),core.qZA()()()),2&rf&&(core.Q6J("formGroup",ctx.searchForm),core.xp6(4),core.Oqu(core.lcZ(5,5,ctx.labelPrefix+"search.scope.metadata")),core.xp6(3),core.Oqu(core.lcZ(8,7,ctx.labelPrefix+"search.scope.email")),core.xp6(8),core.hij(" ",core.lcZ(16,9,ctx.labelPrefix+"search.button")," "),core.xp6(4),core.hij(" ",core.lcZ(20,11,ctx.labelPrefix+"button.see-all")," "))},"EpersonSearchBoxComponent_Template"),directives:[fesm2015_forms._Y,fesm2015_forms.JL,fesm2015_forms.sg,fesm2015_forms.EJ,fesm2015_forms.JJ,fesm2015_forms.u,fesm2015_forms.YN,fesm2015_forms.Kr,fesm2015_forms.Fj],pipes:[ngx_translate_core.X$],encapsulation:2});var ng_bootstrap=__webpack_require__(13707),shared_module=__webpack_require__(57981),resource_policy_entry_component=__webpack_require__(60726),pagination_component=__webpack_require__(62697);resource_policies_component.F,resource_policy_entry_component.Y,resource_policy_form_component.Z,resource_policy_edit_component.x,resource_policy_create_component.v,eperson_group_list_component.W;const PROVIDERS=[resource_policy_resolver.b,resource_policy_target_resolver.a];class ResourcePoliciesModule{}__name(ResourcePoliciesModule,"ResourcePoliciesModule"),ResourcePoliciesModule.\u0275fac=__name(function(t){return new(t||ResourcePoliciesModule)},"ResourcePoliciesModule_Factory"),ResourcePoliciesModule.\u0275mod=core.oAB({type:ResourcePoliciesModule}),ResourcePoliciesModule.\u0275inj=core.cJS({providers:[...PROVIDERS],imports:[[ng_bootstrap.IJ,common.ez,form_module.e,ngx_translate_core.aw,shared_module.m]]}),core.B6R(eperson_group_list_component.W,[common.O5,EpersonSearchBoxComponent,GroupSearchBoxComponent,pagination_component.Q,common.sg],[common.Ov,ngx_translate_core.X$])},66370:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{f:()=>ViewTrackerComponent});__webpack_require__(42621);var _angular_core__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(5e3),angulartics2__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(13758);class ViewTrackerComponent{constructor(angulartics2){this.angulartics2=angulartics2}ngOnInit(){this.angulartics2.eventTrack.next({action:"pageView",properties:{object:this.object}})}}__name(ViewTrackerComponent,"ViewTrackerComponent"),ViewTrackerComponent.\u0275fac=__name(function(t){return new(t||ViewTrackerComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_1__.Y36(angulartics2__WEBPACK_IMPORTED_MODULE_2__.b))},"ViewTrackerComponent_Factory"),ViewTrackerComponent.\u0275cmp=_angular_core__WEBPACK_IMPORTED_MODULE_1__.Xpm({type:ViewTrackerComponent,selectors:[["ds-view-tracker"]],inputs:{object:"object"},decls:1,vars:0,template:__name(function(rf,ctx){1&rf&&_angular_core__WEBPACK_IMPORTED_MODULE_1__._uU(0,"\xa0\n")},"ViewTrackerComponent_Template"),styles:["[_nghost-%COMP%]{display:none}"]})},79248:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{p:()=>StatisticsModule});var common=__webpack_require__(69808),core_module=__webpack_require__(2148),shared_module=__webpack_require__(57981),tslib_es6=__webpack_require__(70655),build_decorators=__webpack_require__(19782),equals_decorators=__webpack_require__(63037),cerialize=__webpack_require__(29923),resource_type=__webpack_require__(3879);const STATISTICS_ENDPOINT=new resource_type._("statistics");let StatisticsEndpoint=__name(class{},"StatisticsEndpoint");StatisticsEndpoint.type=STATISTICS_ENDPOINT,(0,tslib_es6.gn)([equals_decorators.OJ,cerialize.autoserialize,(0,tslib_es6.w6)("design:type",resource_type._)],StatisticsEndpoint.prototype,"type",void 0),(0,tslib_es6.gn)([cerialize.deserialize,(0,tslib_es6.w6)("design:type",Object)],StatisticsEndpoint.prototype,"_links",void 0),StatisticsEndpoint=(0,tslib_es6.gn)([build_decorators.KB],StatisticsEndpoint);var core=__webpack_require__(5e3);class StatisticsModule{static forRoot(){return{ngModule:StatisticsModule}}}__name(StatisticsModule,"StatisticsModule"),StatisticsModule.\u0275fac=__name(function(t){return new(t||StatisticsModule)},"StatisticsModule_Factory"),StatisticsModule.\u0275mod=core.oAB({type:StatisticsModule}),StatisticsModule.\u0275inj=core.cJS({imports:[[common.ez,core_module.IR.forRoot(),shared_module.m]]})},91320:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{L:()=>SubmissionImportExternalCollectionComponent});var _angular_core__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(5e3),_ng_bootstrap_ng_bootstrap__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(13707),_angular_common__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(69808),_shared_loading_themed_loading_component__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(48106),_shared_collection_dropdown_collection_dropdown_component__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(18285),_ngx_translate_core__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(42466);function SubmissionImportExternalCollectionComponent_ds_themed_loading_8_Template(rf,ctx){1&rf&&_angular_core__WEBPACK_IMPORTED_MODULE_2__._UZ(0,"ds-themed-loading")}__name(SubmissionImportExternalCollectionComponent_ds_themed_loading_8_Template,"SubmissionImportExternalCollectionComponent_ds_themed_loading_8_Template");const _c0=__name(function(a0){return{"d-none":a0}},"_c0");class SubmissionImportExternalCollectionComponent{constructor(activeModal){this.activeModal=activeModal,this.selectedEvent=new _angular_core__WEBPACK_IMPORTED_MODULE_2__.vpe,this.loading=!0}selectObject(object){this.selectedEvent.emit(object)}closeCollectionModal(){this.activeModal.dismiss(!1)}theOnlySelectable(theOnlySelectable){this.selectedEvent.emit(theOnlySelectable)}searchComplete(){this.loading=!1}isLoading(){return!!this.loading}}__name(SubmissionImportExternalCollectionComponent,"SubmissionImportExternalCollectionComponent"),SubmissionImportExternalCollectionComponent.\u0275fac=__name(function(t){return new(t||SubmissionImportExternalCollectionComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_2__.Y36(_ng_bootstrap_ng_bootstrap__WEBPACK_IMPORTED_MODULE_3__.Kz))},"SubmissionImportExternalCollectionComponent_Factory"),SubmissionImportExternalCollectionComponent.\u0275cmp=_angular_core__WEBPACK_IMPORTED_MODULE_2__.Xpm({type:SubmissionImportExternalCollectionComponent,selectors:[["ds-submission-import-external-collection"]],outputs:{selectedEvent:"selectedEvent"},decls:10,vars:8,consts:[[1,"modal-header"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],[4,"ngIf"],[3,"ngClass","entityType","selectionChange","searchComplete","theOnlySelectable"]],template:__name(function(rf,ctx){1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_2__.TgZ(0,"div")(1,"div",0),_angular_core__WEBPACK_IMPORTED_MODULE_2__._uU(2),_angular_core__WEBPACK_IMPORTED_MODULE_2__.ALo(3,"translate"),_angular_core__WEBPACK_IMPORTED_MODULE_2__.TgZ(4,"button",1),_angular_core__WEBPACK_IMPORTED_MODULE_2__.NdJ("click",__name(function(){return ctx.closeCollectionModal()},"SubmissionImportExternalCollectionComponent_Template_button_click_4_listener")),_angular_core__WEBPACK_IMPORTED_MODULE_2__.TgZ(5,"span",2),_angular_core__WEBPACK_IMPORTED_MODULE_2__._uU(6,"\xd7"),_angular_core__WEBPACK_IMPORTED_MODULE_2__.qZA()()(),_angular_core__WEBPACK_IMPORTED_MODULE_2__.TgZ(7,"div",3),_angular_core__WEBPACK_IMPORTED_MODULE_2__.YNc(8,SubmissionImportExternalCollectionComponent_ds_themed_loading_8_Template,1,0,"ds-themed-loading",4),_angular_core__WEBPACK_IMPORTED_MODULE_2__.TgZ(9,"ds-collection-dropdown",5),_angular_core__WEBPACK_IMPORTED_MODULE_2__.NdJ("selectionChange",__name(function($event){return ctx.selectObject($event)},"SubmissionImportExternalCollectionComponent_Template_ds_collection_dropdown_selectionChange_9_listener"))("searchComplete",__name(function(){return ctx.searchComplete()},"SubmissionImportExternalCollectionComponent_Template_ds_collection_dropdown_searchComplete_9_listener"))("theOnlySelectable",__name(function($event){return ctx.theOnlySelectable($event)},"SubmissionImportExternalCollectionComponent_Template_ds_collection_dropdown_theOnlySelectable_9_listener")),_angular_core__WEBPACK_IMPORTED_MODULE_2__.qZA()()()),2&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_2__.xp6(2),_angular_core__WEBPACK_IMPORTED_MODULE_2__.hij("",_angular_core__WEBPACK_IMPORTED_MODULE_2__.lcZ(3,4,"dso-selector.select.collection.head")," "),_angular_core__WEBPACK_IMPORTED_MODULE_2__.xp6(6),_angular_core__WEBPACK_IMPORTED_MODULE_2__.Q6J("ngIf",ctx.isLoading()),_angular_core__WEBPACK_IMPORTED_MODULE_2__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_2__.Q6J("ngClass",_angular_core__WEBPACK_IMPORTED_MODULE_2__.VKq(6,_c0,ctx.isLoading()))("entityType",ctx.entityType))},"SubmissionImportExternalCollectionComponent_Template"),directives:[_angular_common__WEBPACK_IMPORTED_MODULE_4__.O5,_shared_loading_themed_loading_component__WEBPACK_IMPORTED_MODULE_0__.Z,_shared_collection_dropdown_collection_dropdown_component__WEBPACK_IMPORTED_MODULE_1__.H,_angular_common__WEBPACK_IMPORTED_MODULE_4__.mk],pipes:[_ngx_translate_core__WEBPACK_IMPORTED_MODULE_5__.X$],styles:[".close[_ngcontent-%COMP%]:focus{outline:none!important}"]})},6296:(module,__unused_webpack_exports,__webpack_require__)=>{var map={"./custom/app/item-page/full/full-item-page.component":[7708,7708]};function webpackAsyncContext(req){if(!__webpack_require__.o(map,req))return Promise.resolve().then(()=>{var e=new Error("Cannot find module '"+req+"'");throw e.code="MODULE_NOT_FOUND",e});var ids=map[req],id=ids[0];return __webpack_require__.e(ids[1]).then(()=>__webpack_require__(id))}__name(webpackAsyncContext,"webpackAsyncContext"),webpackAsyncContext.keys=()=>Object.keys(map),webpackAsyncContext.id=6296,module.exports=webpackAsyncContext},80160:(module,__unused_webpack_exports,__webpack_require__)=>{var map={"./custom/app/item-page/simple/field-components/file-section/file-section.component":[5747,5747]};function webpackAsyncContext(req){if(!__webpack_require__.o(map,req))return Promise.resolve().then(()=>{var e=new Error("Cannot find module '"+req+"'");throw e.code="MODULE_NOT_FOUND",e});var ids=map[req],id=ids[0];return __webpack_require__.e(ids[1]).then(()=>__webpack_require__(id))}__name(webpackAsyncContext,"webpackAsyncContext"),webpackAsyncContext.keys=()=>Object.keys(map),webpackAsyncContext.id=80160,module.exports=webpackAsyncContext},66137:(module,__unused_webpack_exports,__webpack_require__)=>{var map={"./custom/app/item-page/simple/item-page.component":[44555,4555]};function webpackAsyncContext(req){if(!__webpack_require__.o(map,req))return Promise.resolve().then(()=>{var e=new Error("Cannot find module '"+req+"'");throw e.code="MODULE_NOT_FOUND",e});var ids=map[req],id=ids[0];return __webpack_require__.e(ids[1]).then(()=>__webpack_require__(id))}__name(webpackAsyncContext,"webpackAsyncContext"),webpackAsyncContext.keys=()=>Object.keys(map),webpackAsyncContext.id=66137,module.exports=webpackAsyncContext},217:(module,__unused_webpack_exports,__webpack_require__)=>{var map={"./custom/app/search-page/search-page.component":[67356,7356]};function webpackAsyncContext(req){if(!__webpack_require__.o(map,req))return Promise.resolve().then(()=>{var e=new Error("Cannot find module '"+req+"'");throw e.code="MODULE_NOT_FOUND",e});var ids=map[req],id=ids[0];return __webpack_require__.e(ids[1]).then(()=>__webpack_require__(id))}__name(webpackAsyncContext,"webpackAsyncContext"),webpackAsyncContext.keys=()=>Object.keys(map),webpackAsyncContext.id=217,module.exports=webpackAsyncContext},65806:(__unused_webpack___webpack_module__,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{zj:()=>DynamicFormsNGBootstrapUIModule,qz:()=>DynamicNGBootstrapCalendarComponent,Gy:()=>DynamicNGBootstrapCheckboxComponent,P2:()=>DynamicNGBootstrapCheckboxGroupComponent,Zu:()=>DynamicNGBootstrapInputComponent,TE:()=>DynamicNGBootstrapRadioGroupComponent,QB:()=>DynamicNGBootstrapSelectComponent,Sb:()=>DynamicNGBootstrapTextAreaComponent,XX:()=>DynamicNGBootstrapTimePickerComponent});var _angular_core__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(5e3),_ng_bootstrap_ng_bootstrap__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(13707),_ng_dynamic_forms_core__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(87098),_angular_forms__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(93075),_angular_common__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(69808),ngx_mask__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(91470);const _c0=__name(function(a0,a1){return[a0,a1]},"_c0");function DynamicNGBootstrapCheckboxGroupComponent_label_2_Template(rf,ctx){if(1&rf){const _r3=_angular_core__WEBPACK_IMPORTED_MODULE_0__.EpF();_angular_core__WEBPACK_IMPORTED_MODULE_0__.TgZ(0,"label",3)(1,"input",4),_angular_core__WEBPACK_IMPORTED_MODULE_0__.NdJ("blur",__name(function($event){return _angular_core__WEBPACK_IMPORTED_MODULE_0__.CHM(_r3),_angular_core__WEBPACK_IMPORTED_MODULE_0__.oxw().onBlur($event)},"DynamicNGBootstrapCheckboxGroupComponent_label_2_Template_input_blur_1_listener"))("change",__name(function($event){const checkboxModel_r1=_angular_core__WEBPACK_IMPORTED_MODULE_0__.CHM(_r3).$implicit;return _angular_core__WEBPACK_IMPORTED_MODULE_0__.oxw().onCheckboxChange($event,checkboxModel_r1)},"DynamicNGBootstrapCheckboxGroupComponent_label_2_Template_input_change_1_listener"))("focus",__name(function($event){return _angular_core__WEBPACK_IMPORTED_MODULE_0__.CHM(_r3),_angular_core__WEBPACK_IMPORTED_MODULE_0__.oxw().onFocus($event)},"DynamicNGBootstrapCheckboxGroupComponent_label_2_Template_input_focus_1_listener")),_angular_core__WEBPACK_IMPORTED_MODULE_0__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_0__._UZ(2,"span",5),_angular_core__WEBPACK_IMPORTED_MODULE_0__.qZA()}if(2&rf){const checkboxModel_r1=ctx.$implicit,ctx_r0=_angular_core__WEBPACK_IMPORTED_MODULE_0__.oxw();_angular_core__WEBPACK_IMPORTED_MODULE_0__.Q6J("hidden",checkboxModel_r1.hidden)("ngClass",ctx_r0.getClass("element","control",checkboxModel_r1)),_angular_core__WEBPACK_IMPORTED_MODULE_0__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Q6J("checked",checkboxModel_r1.checked)("formControlName",checkboxModel_r1.id)("id",ctx_r0.getCheckboxId(checkboxModel_r1))("name",checkboxModel_r1.name)("required",checkboxModel_r1.required)("tabindex",checkboxModel_r1.tabIndex)("value",checkboxModel_r1.value),_angular_core__WEBPACK_IMPORTED_MODULE_0__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Q6J("ngClass",ctx_r0.getClass("element","label",checkboxModel_r1))("innerHTML",checkboxModel_r1.label,_angular_core__WEBPACK_IMPORTED_MODULE_0__.oJD)}}function DynamicNGBootstrapDatePickerComponent_img_5_Template(rf,ctx){if(1&rf&&_angular_core__WEBPACK_IMPORTED_MODULE_0__._UZ(0,"img",7),2&rf){const ctx_r1=_angular_core__WEBPACK_IMPORTED_MODULE_0__.oxw();_angular_core__WEBPACK_IMPORTED_MODULE_0__.Q6J("src",ctx_r1.model.toggleIcon,_angular_core__WEBPACK_IMPORTED_MODULE_0__.LSH)}}function DynamicNGBootstrapDatePickerComponent_span_6_Template(rf,ctx){if(1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_0__.TgZ(0,"span"),_angular_core__WEBPACK_IMPORTED_MODULE_0__._uU(1),_angular_core__WEBPACK_IMPORTED_MODULE_0__.qZA()),2&rf){const ctx_r2=_angular_core__WEBPACK_IMPORTED_MODULE_0__.oxw();_angular_core__WEBPACK_IMPORTED_MODULE_0__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Oqu(ctx_r2.model.toggleLabel)}}function DynamicNGBootstrapInputComponent_div_1_Template(rf,ctx){if(1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_0__.TgZ(0,"div",6),_angular_core__WEBPACK_IMPORTED_MODULE_0__._UZ(1,"span",7),_angular_core__WEBPACK_IMPORTED_MODULE_0__.qZA()),2&rf){const ctx_r0=_angular_core__WEBPACK_IMPORTED_MODULE_0__.oxw();_angular_core__WEBPACK_IMPORTED_MODULE_0__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Q6J("innerHTML",ctx_r0.model.prefix,_angular_core__WEBPACK_IMPORTED_MODULE_0__.oJD)}}function DynamicNGBootstrapInputComponent_input_2_Template(rf,ctx){if(1&rf){const _r7=_angular_core__WEBPACK_IMPORTED_MODULE_0__.EpF();_angular_core__WEBPACK_IMPORTED_MODULE_0__.TgZ(0,"input",8),_angular_core__WEBPACK_IMPORTED_MODULE_0__.NdJ("blur",__name(function($event){return _angular_core__WEBPACK_IMPORTED_MODULE_0__.CHM(_r7),_angular_core__WEBPACK_IMPORTED_MODULE_0__.oxw().onBlur($event)},"DynamicNGBootstrapInputComponent_input_2_Template_input_blur_0_listener"))("change",__name(function($event){return _angular_core__WEBPACK_IMPORTED_MODULE_0__.CHM(_r7),_angular_core__WEBPACK_IMPORTED_MODULE_0__.oxw().onChange($event)},"DynamicNGBootstrapInputComponent_input_2_Template_input_change_0_listener"))("focus",__name(function($event){return _angular_core__WEBPACK_IMPORTED_MODULE_0__.CHM(_r7),_angular_core__WEBPACK_IMPORTED_MODULE_0__.oxw().onFocus($event)},"DynamicNGBootstrapInputComponent_input_2_Template_input_focus_0_listener")),_angular_core__WEBPACK_IMPORTED_MODULE_0__.qZA()}if(2&rf){const ctx_r1=_angular_core__WEBPACK_IMPORTED_MODULE_0__.oxw();_angular_core__WEBPACK_IMPORTED_MODULE_0__.ekj("is-invalid",ctx_r1.showErrorMessages),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Q6J("autocomplete",ctx_r1.model.autoComplete)("autofocus",ctx_r1.model.autoFocus)("dynamicList",ctx_r1.model.listId)("formControlName",ctx_r1.model.id)("id",ctx_r1.id)("maxlength",ctx_r1.model.maxLength)("minlength",ctx_r1.model.minLength)("name",ctx_r1.model.name)("ngClass",ctx_r1.getClass("element","control"))("pattern",ctx_r1.model.pattern)("placeholder",ctx_r1.model.placeholder)("readonly",ctx_r1.model.readOnly)("required",ctx_r1.model.required)("spellcheck",ctx_r1.model.spellCheck)("tabindex",ctx_r1.model.tabIndex)("type",ctx_r1.model.inputType),_angular_core__WEBPACK_IMPORTED_MODULE_0__.uIk("accept",ctx_r1.model.accept)("max",ctx_r1.model.max)("min",ctx_r1.model.min)("multiple",ctx_r1.model.multiple)("step",ctx_r1.model.step)}}function DynamicNGBootstrapInputComponent_ng_template_3_Template(rf,ctx){if(1&rf){const _r11=_angular_core__WEBPACK_IMPORTED_MODULE_0__.EpF();_angular_core__WEBPACK_IMPORTED_MODULE_0__.TgZ(0,"input",9),_angular_core__WEBPACK_IMPORTED_MODULE_0__.NdJ("blur",__name(function($event){return _angular_core__WEBPACK_IMPORTED_MODULE_0__.CHM(_r11),_angular_core__WEBPACK_IMPORTED_MODULE_0__.oxw().onBlur($event)},"DynamicNGBootstrapInputComponent_ng_template_3_Template_input_blur_0_listener"))("change",__name(function($event){return _angular_core__WEBPACK_IMPORTED_MODULE_0__.CHM(_r11),_angular_core__WEBPACK_IMPORTED_MODULE_0__.oxw().onChange($event)},"DynamicNGBootstrapInputComponent_ng_template_3_Template_input_change_0_listener"))("focus",__name(function($event){return _angular_core__WEBPACK_IMPORTED_MODULE_0__.CHM(_r11),_angular_core__WEBPACK_IMPORTED_MODULE_0__.oxw().onFocus($event)},"DynamicNGBootstrapInputComponent_ng_template_3_Template_input_focus_0_listener")),_angular_core__WEBPACK_IMPORTED_MODULE_0__.qZA()}if(2&rf){const ctx_r3=_angular_core__WEBPACK_IMPORTED_MODULE_0__.oxw();_angular_core__WEBPACK_IMPORTED_MODULE_0__.ekj("is-invalid",ctx_r3.showErrorMessages),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Q6J("autocomplete",ctx_r3.model.autoComplete)("autofocus",ctx_r3.model.autoFocus)("dynamicList",ctx_r3.model.listId)("formControlName",ctx_r3.model.id)("id",ctx_r3.id)("maxlength",ctx_r3.model.maxLength)("minlength",ctx_r3.model.minLength)("name",ctx_r3.model.name)("ngClass",ctx_r3.getClass("element","control"))("pattern",ctx_r3.model.pattern)("placeholder",ctx_r3.model.placeholder)("readonly",ctx_r3.model.readOnly)("required",ctx_r3.model.required)("spellcheck",ctx_r3.model.spellCheck)("tabindex",ctx_r3.model.tabIndex)("mask",ctx_r3.model.mask)("specialCharacters",null==ctx_r3.model.maskConfig?null:ctx_r3.model.maskConfig.specialCharacters)("patterns",null==ctx_r3.model.maskConfig?null:ctx_r3.model.maskConfig.patterns)("prefix",null==ctx_r3.model.maskConfig?null:ctx_r3.model.maskConfig.prefix)("suffix",null==ctx_r3.model.maskConfig?null:ctx_r3.model.maskConfig.suffix)("thousandSeparator",null==ctx_r3.model.maskConfig?null:ctx_r3.model.maskConfig.thousandSeparator)("decimalMarker",null==ctx_r3.model.maskConfig?null:ctx_r3.model.maskConfig.decimalMarker)("dropSpecialCharacters",null==ctx_r3.model.maskConfig?null:ctx_r3.model.maskConfig.dropSpecialCharacters)("hiddenInput",null==ctx_r3.model.maskConfig?null:ctx_r3.model.maskConfig.hiddenInput)("showMaskTyped",null==ctx_r3.model.maskConfig?null:ctx_r3.model.maskConfig.showMaskTyped)("placeHolderCharacter",null==ctx_r3.model.maskConfig?null:ctx_r3.model.maskConfig.placeHolderCharacter)("shownMaskExpression",null==ctx_r3.model.maskConfig?null:ctx_r3.model.maskConfig.shownMaskExpression)("showTemplate",null==ctx_r3.model.maskConfig?null:ctx_r3.model.maskConfig.showTemplate)("clearIfNotMatch",ctx_r3.model.maskConfig.clearIfNotMatch)("validation",ctx_r3.model.maskConfig.validation)("separatorLimit",ctx_r3.model.maskConfig.separatorLimit)("allowNegativeNumbers",ctx_r3.model.maskConfig.allowNegativeNumbers)("leadZeroDateTime",ctx_r3.model.maskConfig.leadZeroDateTime)("type",ctx_r3.model.inputType),_angular_core__WEBPACK_IMPORTED_MODULE_0__.uIk("accept",ctx_r3.model.accept)("max",ctx_r3.model.max)("min",ctx_r3.model.min)("multiple",ctx_r3.model.multiple)("step",ctx_r3.model.step)}}function DynamicNGBootstrapInputComponent_div_5_Template(rf,ctx){if(1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_0__.TgZ(0,"div",10),_angular_core__WEBPACK_IMPORTED_MODULE_0__._UZ(1,"span",7),_angular_core__WEBPACK_IMPORTED_MODULE_0__.qZA()),2&rf){const ctx_r4=_angular_core__WEBPACK_IMPORTED_MODULE_0__.oxw();_angular_core__WEBPACK_IMPORTED_MODULE_0__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Q6J("innerHTML",ctx_r4.model.suffix,_angular_core__WEBPACK_IMPORTED_MODULE_0__.oJD)}}function DynamicNGBootstrapInputComponent_datalist_6_option_1_Template(rf,ctx){if(1&rf&&_angular_core__WEBPACK_IMPORTED_MODULE_0__._UZ(0,"option",13),2&rf){const option_r15=ctx.$implicit;_angular_core__WEBPACK_IMPORTED_MODULE_0__.Q6J("value",option_r15)}}function DynamicNGBootstrapInputComponent_datalist_6_Template(rf,ctx){if(1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_0__.TgZ(0,"datalist",11),_angular_core__WEBPACK_IMPORTED_MODULE_0__.YNc(1,DynamicNGBootstrapInputComponent_datalist_6_option_1_Template,1,1,"option",12),_angular_core__WEBPACK_IMPORTED_MODULE_0__.ALo(2,"async"),_angular_core__WEBPACK_IMPORTED_MODULE_0__.qZA()),2&rf){const ctx_r5=_angular_core__WEBPACK_IMPORTED_MODULE_0__.oxw();_angular_core__WEBPACK_IMPORTED_MODULE_0__.Q6J("id",ctx_r5.model.listId),_angular_core__WEBPACK_IMPORTED_MODULE_0__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Q6J("ngForOf",_angular_core__WEBPACK_IMPORTED_MODULE_0__.lcZ(2,2,ctx_r5.model.list$))}}function DynamicNGBootstrapRadioGroupComponent_legend_2_Template(rf,ctx){if(1&rf&&_angular_core__WEBPACK_IMPORTED_MODULE_0__._UZ(0,"legend",4),2&rf){const ctx_r0=_angular_core__WEBPACK_IMPORTED_MODULE_0__.oxw();_angular_core__WEBPACK_IMPORTED_MODULE_0__.Q6J("innerHTML",ctx_r0.model.legend,_angular_core__WEBPACK_IMPORTED_MODULE_0__.oJD)}}function DynamicNGBootstrapRadioGroupComponent_label_3_Template(rf,ctx){if(1&rf){const _r4=_angular_core__WEBPACK_IMPORTED_MODULE_0__.EpF();_angular_core__WEBPACK_IMPORTED_MODULE_0__.TgZ(0,"label",5)(1,"input",6),_angular_core__WEBPACK_IMPORTED_MODULE_0__.NdJ("blur",__name(function($event){return _angular_core__WEBPACK_IMPORTED_MODULE_0__.CHM(_r4),_angular_core__WEBPACK_IMPORTED_MODULE_0__.oxw().onBlur($event)},"DynamicNGBootstrapRadioGroupComponent_label_3_Template_input_blur_1_listener"))("focus",__name(function($event){return _angular_core__WEBPACK_IMPORTED_MODULE_0__.CHM(_r4),_angular_core__WEBPACK_IMPORTED_MODULE_0__.oxw().onFocus($event)},"DynamicNGBootstrapRadioGroupComponent_label_3_Template_input_focus_1_listener")),_angular_core__WEBPACK_IMPORTED_MODULE_0__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_0__._UZ(2,"span",4),_angular_core__WEBPACK_IMPORTED_MODULE_0__.qZA()}if(2&rf){const option_r2=ctx.$implicit,ctx_r1=_angular_core__WEBPACK_IMPORTED_MODULE_0__.oxw();_angular_core__WEBPACK_IMPORTED_MODULE_0__.Q6J("ngClass",_angular_core__WEBPACK_IMPORTED_MODULE_0__.WLB(5,_c0,ctx_r1.getClass("element","option"),ctx_r1.getClass("grid","option"))),_angular_core__WEBPACK_IMPORTED_MODULE_0__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Q6J("disabled",option_r2.disabled)("name",ctx_r1.model.name)("value",option_r2.value),_angular_core__WEBPACK_IMPORTED_MODULE_0__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Q6J("innerHTML",option_r2.label,_angular_core__WEBPACK_IMPORTED_MODULE_0__.oJD)}}function DynamicNGBootstrapSelectComponent_option_2_Template(rf,ctx){if(1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_0__.TgZ(0,"option",3),_angular_core__WEBPACK_IMPORTED_MODULE_0__._uU(1),_angular_core__WEBPACK_IMPORTED_MODULE_0__.qZA()),2&rf){const option_r1=ctx.$implicit;_angular_core__WEBPACK_IMPORTED_MODULE_0__.Q6J("disabled",option_r1.disabled)("ngValue",option_r1.value),_angular_core__WEBPACK_IMPORTED_MODULE_0__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Oqu(option_r1.label)}}__name(DynamicNGBootstrapCheckboxGroupComponent_label_2_Template,"DynamicNGBootstrapCheckboxGroupComponent_label_2_Template"),__name(DynamicNGBootstrapDatePickerComponent_img_5_Template,"DynamicNGBootstrapDatePickerComponent_img_5_Template"),__name(DynamicNGBootstrapDatePickerComponent_span_6_Template,"DynamicNGBootstrapDatePickerComponent_span_6_Template"),__name(DynamicNGBootstrapInputComponent_div_1_Template,"DynamicNGBootstrapInputComponent_div_1_Template"),__name(DynamicNGBootstrapInputComponent_input_2_Template,"DynamicNGBootstrapInputComponent_input_2_Template"),__name(DynamicNGBootstrapInputComponent_ng_template_3_Template,"DynamicNGBootstrapInputComponent_ng_template_3_Template"),__name(DynamicNGBootstrapInputComponent_div_5_Template,"DynamicNGBootstrapInputComponent_div_5_Template"),__name(DynamicNGBootstrapInputComponent_datalist_6_option_1_Template,"DynamicNGBootstrapInputComponent_datalist_6_option_1_Template"),__name(DynamicNGBootstrapInputComponent_datalist_6_Template,"DynamicNGBootstrapInputComponent_datalist_6_Template"),__name(DynamicNGBootstrapRadioGroupComponent_legend_2_Template,"DynamicNGBootstrapRadioGroupComponent_legend_2_Template"),__name(DynamicNGBootstrapRadioGroupComponent_label_3_Template,"DynamicNGBootstrapRadioGroupComponent_label_3_Template"),__name(DynamicNGBootstrapSelectComponent_option_2_Template,"DynamicNGBootstrapSelectComponent_option_2_Template");const _c1=["componentViewContainer"];function DynamicNGBootstrapFormControlContainerComponent_label_1_Template(rf,ctx){if(1&rf&&_angular_core__WEBPACK_IMPORTED_MODULE_0__._UZ(0,"label",7),2&rf){const ctx_r0=_angular_core__WEBPACK_IMPORTED_MODULE_0__.oxw();_angular_core__WEBPACK_IMPORTED_MODULE_0__.Q6J("for",ctx_r0.id)("innerHTML",ctx_r0.model.label,_angular_core__WEBPACK_IMPORTED_MODULE_0__.oJD)("ngClass",_angular_core__WEBPACK_IMPORTED_MODULE_0__.WLB(3,_c0,ctx_r0.getClass("element","label"),ctx_r0.getClass("grid","label")))}}function DynamicNGBootstrapFormControlContainerComponent_ng_container_2_Template(rf,ctx){1&rf&&_angular_core__WEBPACK_IMPORTED_MODULE_0__.GkF(0)}function DynamicNGBootstrapFormControlContainerComponent_small_6_Template(rf,ctx){if(1&rf&&_angular_core__WEBPACK_IMPORTED_MODULE_0__._UZ(0,"small",8),2&rf){const ctx_r3=_angular_core__WEBPACK_IMPORTED_MODULE_0__.oxw();_angular_core__WEBPACK_IMPORTED_MODULE_0__.Q6J("innerHTML",ctx_r3.hint,_angular_core__WEBPACK_IMPORTED_MODULE_0__.oJD)("ngClass",ctx_r3.getClass("element","hint"))}}function DynamicNGBootstrapFormControlContainerComponent_div_7_small_1_Template(rf,ctx){if(1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_0__.TgZ(0,"small",10),_angular_core__WEBPACK_IMPORTED_MODULE_0__._uU(1),_angular_core__WEBPACK_IMPORTED_MODULE_0__.qZA()),2&rf){const message_r7=ctx.$implicit;_angular_core__WEBPACK_IMPORTED_MODULE_0__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Oqu(message_r7)}}function DynamicNGBootstrapFormControlContainerComponent_div_7_Template(rf,ctx){if(1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_0__.TgZ(0,"div",3),_angular_core__WEBPACK_IMPORTED_MODULE_0__.YNc(1,DynamicNGBootstrapFormControlContainerComponent_div_7_small_1_Template,2,1,"small",9),_angular_core__WEBPACK_IMPORTED_MODULE_0__.qZA()),2&rf){const ctx_r4=_angular_core__WEBPACK_IMPORTED_MODULE_0__.oxw();_angular_core__WEBPACK_IMPORTED_MODULE_0__.Q6J("ngClass",_angular_core__WEBPACK_IMPORTED_MODULE_0__.WLB(2,_c0,ctx_r4.getClass("element","errors"),ctx_r4.getClass("grid","errors"))),_angular_core__WEBPACK_IMPORTED_MODULE_0__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Q6J("ngForOf",ctx_r4.errorMessages)}}function DynamicNGBootstrapFormControlContainerComponent_ng_container_8_Template(rf,ctx){1&rf&&_angular_core__WEBPACK_IMPORTED_MODULE_0__.GkF(0)}__name(DynamicNGBootstrapFormControlContainerComponent_label_1_Template,"DynamicNGBootstrapFormControlContainerComponent_label_1_Template"),__name(DynamicNGBootstrapFormControlContainerComponent_ng_container_2_Template,"DynamicNGBootstrapFormControlContainerComponent_ng_container_2_Template"),__name(DynamicNGBootstrapFormControlContainerComponent_small_6_Template,"DynamicNGBootstrapFormControlContainerComponent_small_6_Template"),__name(DynamicNGBootstrapFormControlContainerComponent_div_7_small_1_Template,"DynamicNGBootstrapFormControlContainerComponent_div_7_small_1_Template"),__name(DynamicNGBootstrapFormControlContainerComponent_div_7_Template,"DynamicNGBootstrapFormControlContainerComponent_div_7_Template"),__name(DynamicNGBootstrapFormControlContainerComponent_ng_container_8_Template,"DynamicNGBootstrapFormControlContainerComponent_ng_container_8_Template");const _c2=__name(function(a0,a1,a2){return[a0,a1,a2]},"_c2");function DynamicNGBootstrapFormArrayComponent_div_2_ng_container_1_Template(rf,ctx){1&rf&&_angular_core__WEBPACK_IMPORTED_MODULE_0__.GkF(0)}function DynamicNGBootstrapFormArrayComponent_div_2_dynamic_ng_bootstrap_form_control_2_Template(rf,ctx){if(1&rf){const _r8=_angular_core__WEBPACK_IMPORTED_MODULE_0__.EpF();_angular_core__WEBPACK_IMPORTED_MODULE_0__.TgZ(0,"dynamic-ng-bootstrap-form-control",6),_angular_core__WEBPACK_IMPORTED_MODULE_0__.NdJ("blur",__name(function($event){return _angular_core__WEBPACK_IMPORTED_MODULE_0__.CHM(_r8),_angular_core__WEBPACK_IMPORTED_MODULE_0__.oxw(2).onBlur($event)},"DynamicNGBootstrapFormArrayComponent_div_2_dynamic_ng_bootstrap_form_control_2_Template_dynamic_ng_bootstrap_form_control_blur_0_listener"))("change",__name(function($event){return _angular_core__WEBPACK_IMPORTED_MODULE_0__.CHM(_r8),_angular_core__WEBPACK_IMPORTED_MODULE_0__.oxw(2).onChange($event)},"DynamicNGBootstrapFormArrayComponent_div_2_dynamic_ng_bootstrap_form_control_2_Template_dynamic_ng_bootstrap_form_control_change_0_listener"))("focus",__name(function($event){return _angular_core__WEBPACK_IMPORTED_MODULE_0__.CHM(_r8),_angular_core__WEBPACK_IMPORTED_MODULE_0__.oxw(2).onFocus($event)},"DynamicNGBootstrapFormArrayComponent_div_2_dynamic_ng_bootstrap_form_control_2_Template_dynamic_ng_bootstrap_form_control_focus_0_listener"))("ngbEvent",__name(function($event){return _angular_core__WEBPACK_IMPORTED_MODULE_0__.CHM(_r8),_angular_core__WEBPACK_IMPORTED_MODULE_0__.oxw(2).onCustomEvent($event,null,!0)},"DynamicNGBootstrapFormArrayComponent_div_2_dynamic_ng_bootstrap_form_control_2_Template_dynamic_ng_bootstrap_form_control_ngbEvent_0_listener")),_angular_core__WEBPACK_IMPORTED_MODULE_0__.qZA()}if(2&rf){const _model_r6=ctx.$implicit,ctx_r12=_angular_core__WEBPACK_IMPORTED_MODULE_0__.oxw(),groupModel_r1=ctx_r12.$implicit,idx_r2=ctx_r12.index,ctx_r4=_angular_core__WEBPACK_IMPORTED_MODULE_0__.oxw();_angular_core__WEBPACK_IMPORTED_MODULE_0__.Q6J("context",groupModel_r1)("group",ctx_r4.array.at(idx_r2))("hidden",_model_r6.hidden)("layout",ctx_r4.formLayout)("model",_model_r6)("templates",ctx_r4.templates)("hostClass",_angular_core__WEBPACK_IMPORTED_MODULE_0__.WLB(7,_c0,ctx_r4.getClass("element","children"),ctx_r4.getClass("grid","children")))}}function DynamicNGBootstrapFormArrayComponent_div_2_ng_container_3_Template(rf,ctx){1&rf&&_angular_core__WEBPACK_IMPORTED_MODULE_0__.GkF(0)}function DynamicNGBootstrapFormArrayComponent_div_2_Template(rf,ctx){if(1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_0__.TgZ(0,"div",3),_angular_core__WEBPACK_IMPORTED_MODULE_0__.YNc(1,DynamicNGBootstrapFormArrayComponent_div_2_ng_container_1_Template,1,0,"ng-container",4),_angular_core__WEBPACK_IMPORTED_MODULE_0__.YNc(2,DynamicNGBootstrapFormArrayComponent_div_2_dynamic_ng_bootstrap_form_control_2_Template,1,10,"dynamic-ng-bootstrap-form-control",5),_angular_core__WEBPACK_IMPORTED_MODULE_0__.YNc(3,DynamicNGBootstrapFormArrayComponent_div_2_ng_container_3_Template,1,0,"ng-container",4),_angular_core__WEBPACK_IMPORTED_MODULE_0__.qZA()),2&rf){const groupModel_r1=ctx.$implicit,idx_r2=ctx.index,ctx_r0=_angular_core__WEBPACK_IMPORTED_MODULE_0__.oxw();_angular_core__WEBPACK_IMPORTED_MODULE_0__.Q6J("formGroupName",idx_r2)("ngClass",_angular_core__WEBPACK_IMPORTED_MODULE_0__.WLB(7,_c0,ctx_r0.getClass("element","group"),ctx_r0.getClass("grid","group"))),_angular_core__WEBPACK_IMPORTED_MODULE_0__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Q6J("ngTemplateOutlet",null==ctx_r0.startTemplate?null:ctx_r0.startTemplate.templateRef)("ngTemplateOutletContext",groupModel_r1),_angular_core__WEBPACK_IMPORTED_MODULE_0__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Q6J("ngForOf",groupModel_r1.group),_angular_core__WEBPACK_IMPORTED_MODULE_0__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Q6J("ngTemplateOutlet",null==ctx_r0.endTemplate?null:ctx_r0.endTemplate.templateRef)("ngTemplateOutletContext",groupModel_r1)}}function DynamicNGBootstrapFormGroupComponent_dynamic_ng_bootstrap_form_control_2_Template(rf,ctx){if(1&rf){const _r3=_angular_core__WEBPACK_IMPORTED_MODULE_0__.EpF();_angular_core__WEBPACK_IMPORTED_MODULE_0__.TgZ(0,"dynamic-ng-bootstrap-form-control",3),_angular_core__WEBPACK_IMPORTED_MODULE_0__.NdJ("blur",__name(function($event){return _angular_core__WEBPACK_IMPORTED_MODULE_0__.CHM(_r3),_angular_core__WEBPACK_IMPORTED_MODULE_0__.oxw().onBlur($event)},"DynamicNGBootstrapFormGroupComponent_dynamic_ng_bootstrap_form_control_2_Template_dynamic_ng_bootstrap_form_control_blur_0_listener"))("change",__name(function($event){return _angular_core__WEBPACK_IMPORTED_MODULE_0__.CHM(_r3),_angular_core__WEBPACK_IMPORTED_MODULE_0__.oxw().onChange($event)},"DynamicNGBootstrapFormGroupComponent_dynamic_ng_bootstrap_form_control_2_Template_dynamic_ng_bootstrap_form_control_change_0_listener"))("focus",__name(function($event){return _angular_core__WEBPACK_IMPORTED_MODULE_0__.CHM(_r3),_angular_core__WEBPACK_IMPORTED_MODULE_0__.oxw().onFocus($event)},"DynamicNGBootstrapFormGroupComponent_dynamic_ng_bootstrap_form_control_2_Template_dynamic_ng_bootstrap_form_control_focus_0_listener"))("ngbEvent",__name(function($event){return _angular_core__WEBPACK_IMPORTED_MODULE_0__.CHM(_r3),_angular_core__WEBPACK_IMPORTED_MODULE_0__.oxw().onCustomEvent($event,null,!0)},"DynamicNGBootstrapFormGroupComponent_dynamic_ng_bootstrap_form_control_2_Template_dynamic_ng_bootstrap_form_control_ngbEvent_0_listener")),_angular_core__WEBPACK_IMPORTED_MODULE_0__.qZA()}if(2&rf){const _model_r1=ctx.$implicit,ctx_r0=_angular_core__WEBPACK_IMPORTED_MODULE_0__.oxw();_angular_core__WEBPACK_IMPORTED_MODULE_0__.Q6J("asBootstrapFormGroup",!0)("group",ctx_r0.control)("hidden",_model_r1.hidden)("layout",ctx_r0.formLayout)("model",_model_r1)("templates",ctx_r0.templates)("hostClass",_angular_core__WEBPACK_IMPORTED_MODULE_0__.WLB(7,_c0,ctx_r0.getClass("element","children"),ctx_r0.getClass("grid","children")))}}function DynamicNGBootstrapFormComponent_dynamic_ng_bootstrap_form_control_0_Template(rf,ctx){if(1&rf){const _r3=_angular_core__WEBPACK_IMPORTED_MODULE_0__.EpF();_angular_core__WEBPACK_IMPORTED_MODULE_0__.TgZ(0,"dynamic-ng-bootstrap-form-control",1),_angular_core__WEBPACK_IMPORTED_MODULE_0__.NdJ("blur",__name(function($event){return _angular_core__WEBPACK_IMPORTED_MODULE_0__.CHM(_r3),_angular_core__WEBPACK_IMPORTED_MODULE_0__.oxw().onBlur($event)},"DynamicNGBootstrapFormComponent_dynamic_ng_bootstrap_form_control_0_Template_dynamic_ng_bootstrap_form_control_blur_0_listener"))("change",__name(function($event){return _angular_core__WEBPACK_IMPORTED_MODULE_0__.CHM(_r3),_angular_core__WEBPACK_IMPORTED_MODULE_0__.oxw().onChange($event)},"DynamicNGBootstrapFormComponent_dynamic_ng_bootstrap_form_control_0_Template_dynamic_ng_bootstrap_form_control_change_0_listener"))("focus",__name(function($event){return _angular_core__WEBPACK_IMPORTED_MODULE_0__.CHM(_r3),_angular_core__WEBPACK_IMPORTED_MODULE_0__.oxw().onFocus($event)},"DynamicNGBootstrapFormComponent_dynamic_ng_bootstrap_form_control_0_Template_dynamic_ng_bootstrap_form_control_focus_0_listener"))("ngbEvent",__name(function($event){_angular_core__WEBPACK_IMPORTED_MODULE_0__.CHM(_r3);const ctx_r6=_angular_core__WEBPACK_IMPORTED_MODULE_0__.oxw();return ctx_r6.onCustomEvent($event,ctx_r6.ngbEvent)},"DynamicNGBootstrapFormComponent_dynamic_ng_bootstrap_form_control_0_Template_dynamic_ng_bootstrap_form_control_ngbEvent_0_listener")),_angular_core__WEBPACK_IMPORTED_MODULE_0__.qZA()}if(2&rf){const controlModel_r1=ctx.$implicit,ctx_r0=_angular_core__WEBPACK_IMPORTED_MODULE_0__.oxw();_angular_core__WEBPACK_IMPORTED_MODULE_0__.Q6J("group",ctx_r0.group)("hidden",controlModel_r1.hidden)("layout",ctx_r0.layout)("model",controlModel_r1)("templates",ctx_r0.templates)}}__name(DynamicNGBootstrapFormArrayComponent_div_2_ng_container_1_Template,"DynamicNGBootstrapFormArrayComponent_div_2_ng_container_1_Template"),__name(DynamicNGBootstrapFormArrayComponent_div_2_dynamic_ng_bootstrap_form_control_2_Template,"DynamicNGBootstrapFormArrayComponent_div_2_dynamic_ng_bootstrap_form_control_2_Template"),__name(DynamicNGBootstrapFormArrayComponent_div_2_ng_container_3_Template,"DynamicNGBootstrapFormArrayComponent_div_2_ng_container_3_Template"),__name(DynamicNGBootstrapFormArrayComponent_div_2_Template,"DynamicNGBootstrapFormArrayComponent_div_2_Template"),__name(DynamicNGBootstrapFormGroupComponent_dynamic_ng_bootstrap_form_control_2_Template,"DynamicNGBootstrapFormGroupComponent_dynamic_ng_bootstrap_form_control_2_Template"),__name(DynamicNGBootstrapFormComponent_dynamic_ng_bootstrap_form_control_0_Template,"DynamicNGBootstrapFormComponent_dynamic_ng_bootstrap_form_control_0_Template");class DynamicNGBootstrapCalendarComponent extends _ng_dynamic_forms_core__WEBPACK_IMPORTED_MODULE_1__.LvC{constructor(layoutService,validationService,config){super(layoutService,validationService),this.layoutService=layoutService,this.validationService=validationService,this.config=config,this.blur=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.vpe,this.change=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.vpe,this.focus=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.vpe}}__name(DynamicNGBootstrapCalendarComponent,"DynamicNGBootstrapCalendarComponent"),DynamicNGBootstrapCalendarComponent.\u0275fac=__name(function(t){return new(t||DynamicNGBootstrapCalendarComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_0__.Y36(_ng_dynamic_forms_core__WEBPACK_IMPORTED_MODULE_1__.vnf),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Y36(_ng_dynamic_forms_core__WEBPACK_IMPORTED_MODULE_1__.fhz),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Y36(_ng_bootstrap_ng_bootstrap__WEBPACK_IMPORTED_MODULE_2__.M4))},"DynamicNGBootstrapCalendarComponent_Factory"),DynamicNGBootstrapCalendarComponent.\u0275cmp=_angular_core__WEBPACK_IMPORTED_MODULE_0__.Xpm({type:DynamicNGBootstrapCalendarComponent,selectors:[["dynamic-ng-bootstrap-calendar"]],viewQuery:__name(function(rf,ctx){if(1&rf&&_angular_core__WEBPACK_IMPORTED_MODULE_0__.Gf(_ng_bootstrap_ng_bootstrap__WEBPACK_IMPORTED_MODULE_2__.VL,7),2&rf){let _t;_angular_core__WEBPACK_IMPORTED_MODULE_0__.iGM(_t=_angular_core__WEBPACK_IMPORTED_MODULE_0__.CRH())&&(ctx.ngbCalendar=_t.first)}},"DynamicNGBootstrapCalendarComponent_Query"),inputs:{formLayout:"formLayout",group:"group",layout:"layout",model:"model"},outputs:{blur:"blur",change:"change",focus:"focus"},features:[_angular_core__WEBPACK_IMPORTED_MODULE_0__.qOj],decls:2,vars:13,consts:[[3,"formGroup"],[3,"displayMonths","firstDayOfWeek","formControlName","id","maxDate","minDate","navigation","ngClass","outsideDays","showWeekNumbers","weekdays","startDate","select"]],template:__name(function(rf,ctx){1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_0__.ynx(0,0),_angular_core__WEBPACK_IMPORTED_MODULE_0__.TgZ(1,"ngb-datepicker",1),_angular_core__WEBPACK_IMPORTED_MODULE_0__.NdJ("select",__name(function($event){return ctx.onChange($event)},"DynamicNGBootstrapCalendarComponent_Template_ngb_datepicker_select_1_listener")),_angular_core__WEBPACK_IMPORTED_MODULE_0__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_0__.BQk()),2&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_0__.Q6J("formGroup",ctx.group),_angular_core__WEBPACK_IMPORTED_MODULE_0__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Q6J("displayMonths",ctx.model.getAdditional("displayMonths",ctx.config.displayMonths))("firstDayOfWeek",ctx.model.getAdditional("firstDayOfWeek",ctx.config.firstDayOfWeek))("formControlName",ctx.model.id)("id",ctx.id)("maxDate",ctx.model.max)("minDate",ctx.model.min)("navigation",ctx.model.getAdditional("navigation",ctx.config.navigation))("ngClass",ctx.getClass("element","control"))("outsideDays",ctx.model.getAdditional("outsideDays",ctx.config.outsideDays))("showWeekNumbers",ctx.model.getAdditional("showWeekNumbers",ctx.config.showWeekNumbers))("weekdays",ctx.model.getAdditional("showWeekdays",ctx.config.weekdays))("startDate",ctx.model.focusedDate))},"DynamicNGBootstrapCalendarComponent_Template"),directives:[_ng_bootstrap_ng_bootstrap__WEBPACK_IMPORTED_MODULE_2__.VL,_angular_forms__WEBPACK_IMPORTED_MODULE_3__.JL,_angular_forms__WEBPACK_IMPORTED_MODULE_3__.sg,_angular_forms__WEBPACK_IMPORTED_MODULE_3__.JJ,_angular_forms__WEBPACK_IMPORTED_MODULE_3__.u,_angular_common__WEBPACK_IMPORTED_MODULE_4__.mk],encapsulation:2,changeDetection:0});class DynamicNGBootstrapCheckboxComponent extends _ng_dynamic_forms_core__WEBPACK_IMPORTED_MODULE_1__.LvC{constructor(layoutService,validationService){super(layoutService,validationService),this.layoutService=layoutService,this.validationService=validationService,this.blur=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.vpe,this.change=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.vpe,this.focus=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.vpe}}__name(DynamicNGBootstrapCheckboxComponent,"DynamicNGBootstrapCheckboxComponent"),DynamicNGBootstrapCheckboxComponent.\u0275fac=__name(function(t){return new(t||DynamicNGBootstrapCheckboxComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_0__.Y36(_ng_dynamic_forms_core__WEBPACK_IMPORTED_MODULE_1__.vnf),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Y36(_ng_dynamic_forms_core__WEBPACK_IMPORTED_MODULE_1__.fhz))},"DynamicNGBootstrapCheckboxComponent_Factory"),DynamicNGBootstrapCheckboxComponent.\u0275cmp=_angular_core__WEBPACK_IMPORTED_MODULE_0__.Xpm({type:DynamicNGBootstrapCheckboxComponent,selectors:[["dynamic-ng-bootstrap-checkbox"]],inputs:{formLayout:"formLayout",group:"group",layout:"layout",model:"model"},outputs:{blur:"blur",change:"change",focus:"focus"},features:[_angular_core__WEBPACK_IMPORTED_MODULE_0__.qOj],decls:4,vars:19,consts:[[1,"form-check",3,"formGroup"],[1,"form-check-label"],["type","checkbox",1,"form-check-input",3,"checked","formControlName","id","indeterminate","name","ngClass","required","tabindex","value","blur","change","focus"],[3,"innerHTML","ngClass"]],template:__name(function(rf,ctx){1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_0__.TgZ(0,"div",0)(1,"label",1)(2,"input",2),_angular_core__WEBPACK_IMPORTED_MODULE_0__.NdJ("blur",__name(function($event){return ctx.onBlur($event)},"DynamicNGBootstrapCheckboxComponent_Template_input_blur_2_listener"))("change",__name(function($event){return ctx.onChange($event)},"DynamicNGBootstrapCheckboxComponent_Template_input_change_2_listener"))("focus",__name(function($event){return ctx.onFocus($event)},"DynamicNGBootstrapCheckboxComponent_Template_input_focus_2_listener")),_angular_core__WEBPACK_IMPORTED_MODULE_0__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_0__._UZ(3,"span",3),_angular_core__WEBPACK_IMPORTED_MODULE_0__.qZA()()),2&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_0__.ekj("disabled",ctx.model.disabled),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Q6J("formGroup",ctx.group),_angular_core__WEBPACK_IMPORTED_MODULE_0__.xp6(2),_angular_core__WEBPACK_IMPORTED_MODULE_0__.ekj("is-invalid",ctx.showErrorMessages),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Q6J("checked",ctx.model.checked)("formControlName",ctx.model.id)("id",ctx.id)("indeterminate",ctx.model.indeterminate)("name",ctx.model.name)("ngClass",ctx.getClass("element","control"))("required",ctx.model.required)("tabindex",ctx.model.tabIndex)("value",ctx.model.value),_angular_core__WEBPACK_IMPORTED_MODULE_0__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Q6J("innerHTML",ctx.model.label,_angular_core__WEBPACK_IMPORTED_MODULE_0__.oJD)("ngClass",_angular_core__WEBPACK_IMPORTED_MODULE_0__.WLB(16,_c0,ctx.getClass("element","label"),ctx.getClass("grid","label"))))},"DynamicNGBootstrapCheckboxComponent_Template"),directives:[_angular_forms__WEBPACK_IMPORTED_MODULE_3__.JL,_angular_forms__WEBPACK_IMPORTED_MODULE_3__.sg,_angular_forms__WEBPACK_IMPORTED_MODULE_3__.Wl,_angular_forms__WEBPACK_IMPORTED_MODULE_3__.Zs,_angular_forms__WEBPACK_IMPORTED_MODULE_3__.JJ,_angular_forms__WEBPACK_IMPORTED_MODULE_3__.u,_angular_common__WEBPACK_IMPORTED_MODULE_4__.mk],encapsulation:2});class DynamicNGBootstrapCheckboxGroupComponent extends _ng_dynamic_forms_core__WEBPACK_IMPORTED_MODULE_1__.LvC{constructor(layoutService,validationService){super(layoutService,validationService),this.layoutService=layoutService,this.validationService=validationService,this.blur=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.vpe,this.change=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.vpe,this.focus=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.vpe}getCheckboxId(model){return this.layoutService.getElementId(model)}onCheckboxChange($event,model){this.onChange($event),model.value=$event.target.checked}}__name(DynamicNGBootstrapCheckboxGroupComponent,"DynamicNGBootstrapCheckboxGroupComponent"),DynamicNGBootstrapCheckboxGroupComponent.\u0275fac=__name(function(t){return new(t||DynamicNGBootstrapCheckboxGroupComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_0__.Y36(_ng_dynamic_forms_core__WEBPACK_IMPORTED_MODULE_1__.vnf),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Y36(_ng_dynamic_forms_core__WEBPACK_IMPORTED_MODULE_1__.fhz))},"DynamicNGBootstrapCheckboxGroupComponent_Factory"),DynamicNGBootstrapCheckboxGroupComponent.\u0275cmp=_angular_core__WEBPACK_IMPORTED_MODULE_0__.Xpm({type:DynamicNGBootstrapCheckboxGroupComponent,selectors:[["dynamic-ng-bootstrap-checkbox-group"]],inputs:{formLayout:"formLayout",group:"group",layout:"layout",model:"model"},outputs:{blur:"blur",change:"change",focus:"focus"},features:[_angular_core__WEBPACK_IMPORTED_MODULE_0__.qOj],decls:3,vars:5,consts:[[3,"formGroup"],["data-toggle","buttons",1,"btn-group","btn-group-toggle",3,"formGroupName","id","ngClass"],["ngbButtonLabel","",3,"hidden","ngClass",4,"ngFor","ngForOf"],["ngbButtonLabel","",3,"hidden","ngClass"],["type","checkbox","ngbButton","",3,"checked","formControlName","id","name","required","tabindex","value","blur","change","focus"],[3,"ngClass","innerHTML"]],template:__name(function(rf,ctx){1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_0__.ynx(0,0),_angular_core__WEBPACK_IMPORTED_MODULE_0__.TgZ(1,"div",1),_angular_core__WEBPACK_IMPORTED_MODULE_0__.YNc(2,DynamicNGBootstrapCheckboxGroupComponent_label_2_Template,3,11,"label",2),_angular_core__WEBPACK_IMPORTED_MODULE_0__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_0__.BQk()),2&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_0__.Q6J("formGroup",ctx.group),_angular_core__WEBPACK_IMPORTED_MODULE_0__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Q6J("formGroupName",ctx.model.id)("id",ctx.id)("ngClass",ctx.getClass("element","control")),_angular_core__WEBPACK_IMPORTED_MODULE_0__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Q6J("ngForOf",ctx.model.group))},"DynamicNGBootstrapCheckboxGroupComponent_Template"),directives:[_angular_forms__WEBPACK_IMPORTED_MODULE_3__.JL,_angular_forms__WEBPACK_IMPORTED_MODULE_3__.sg,_angular_forms__WEBPACK_IMPORTED_MODULE_3__.x0,_angular_common__WEBPACK_IMPORTED_MODULE_4__.mk,_angular_common__WEBPACK_IMPORTED_MODULE_4__.sg,_ng_bootstrap_ng_bootstrap__WEBPACK_IMPORTED_MODULE_2__.mL,_angular_forms__WEBPACK_IMPORTED_MODULE_3__.Wl,_angular_forms__WEBPACK_IMPORTED_MODULE_3__.Zs,_ng_bootstrap_ng_bootstrap__WEBPACK_IMPORTED_MODULE_2__.W9,_angular_forms__WEBPACK_IMPORTED_MODULE_3__.JJ,_angular_forms__WEBPACK_IMPORTED_MODULE_3__.u],encapsulation:2,changeDetection:0});class DynamicNGBootstrapDatePickerComponent extends _ng_dynamic_forms_core__WEBPACK_IMPORTED_MODULE_1__.LvC{constructor(layoutService,validationService,config){super(layoutService,validationService),this.layoutService=layoutService,this.validationService=validationService,this.config=config,this.blur=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.vpe,this.change=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.vpe,this.customEvent=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.vpe,this.focus=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.vpe}}__name(DynamicNGBootstrapDatePickerComponent,"DynamicNGBootstrapDatePickerComponent"),DynamicNGBootstrapDatePickerComponent.\u0275fac=__name(function(t){return new(t||DynamicNGBootstrapDatePickerComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_0__.Y36(_ng_dynamic_forms_core__WEBPACK_IMPORTED_MODULE_1__.vnf),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Y36(_ng_dynamic_forms_core__WEBPACK_IMPORTED_MODULE_1__.fhz),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Y36(_ng_bootstrap_ng_bootstrap__WEBPACK_IMPORTED_MODULE_2__.M4))},"DynamicNGBootstrapDatePickerComponent_Factory"),DynamicNGBootstrapDatePickerComponent.\u0275cmp=_angular_core__WEBPACK_IMPORTED_MODULE_0__.Xpm({type:DynamicNGBootstrapDatePickerComponent,selectors:[["dynamic-ng-bootstrap-datepicker"]],viewQuery:__name(function(rf,ctx){if(1&rf&&_angular_core__WEBPACK_IMPORTED_MODULE_0__.Gf(_ng_bootstrap_ng_bootstrap__WEBPACK_IMPORTED_MODULE_2__.VL,5),2&rf){let _t;_angular_core__WEBPACK_IMPORTED_MODULE_0__.iGM(_t=_angular_core__WEBPACK_IMPORTED_MODULE_0__.CRH())&&(ctx.ngbDatePicker=_t.first)}},"DynamicNGBootstrapDatePickerComponent_Query"),inputs:{formLayout:"formLayout",group:"group",layout:"layout",model:"model"},outputs:{blur:"blur",change:"change",customEvent:"customEvent",focus:"focus"},features:[_angular_core__WEBPACK_IMPORTED_MODULE_0__.qOj],decls:7,vars:20,consts:[[1,"input-group",3,"formGroup"],["ngbDatepicker","",1,"form-control",3,"displayMonths","firstDayOfWeek","formControlName","id","maxDate","minDate","name","navigation","ngClass","outsideDays","placeholder","placement","showWeekNumbers","startDate","weekdays","blur","dateSelect","closed","change","focus"],["datepicker","ngbDatepicker"],[1,"input-group-append"],["type","button",1,"btn","btn-outline-secondary",3,"click"],["style","cursor: pointer;",3,"src",4,"ngIf"],[4,"ngIf"],[2,"cursor","pointer",3,"src"]],template:__name(function(rf,ctx){if(1&rf){const _r3=_angular_core__WEBPACK_IMPORTED_MODULE_0__.EpF();_angular_core__WEBPACK_IMPORTED_MODULE_0__.TgZ(0,"div",0)(1,"input",1,2),_angular_core__WEBPACK_IMPORTED_MODULE_0__.NdJ("blur",__name(function($event){return ctx.onBlur($event)},"DynamicNGBootstrapDatePickerComponent_Template_input_blur_1_listener"))("dateSelect",__name(function($event){return ctx.onCustomEvent($event,"dateSelect")},"DynamicNGBootstrapDatePickerComponent_Template_input_dateSelect_1_listener"))("closed",__name(function($event){return ctx.onCustomEvent($event,"closed")},"DynamicNGBootstrapDatePickerComponent_Template_input_closed_1_listener"))("change",__name(function($event){return ctx.onChange($event)},"DynamicNGBootstrapDatePickerComponent_Template_input_change_1_listener"))("focus",__name(function($event){return ctx.onFocus($event)},"DynamicNGBootstrapDatePickerComponent_Template_input_focus_1_listener")),_angular_core__WEBPACK_IMPORTED_MODULE_0__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_0__.TgZ(3,"div",3)(4,"button",4),_angular_core__WEBPACK_IMPORTED_MODULE_0__.NdJ("click",__name(function(){return _angular_core__WEBPACK_IMPORTED_MODULE_0__.CHM(_r3),_angular_core__WEBPACK_IMPORTED_MODULE_0__.MAs(2).toggle()},"DynamicNGBootstrapDatePickerComponent_Template_button_click_4_listener")),_angular_core__WEBPACK_IMPORTED_MODULE_0__.YNc(5,DynamicNGBootstrapDatePickerComponent_img_5_Template,1,1,"img",5),_angular_core__WEBPACK_IMPORTED_MODULE_0__.YNc(6,DynamicNGBootstrapDatePickerComponent_span_6_Template,2,1,"span",6),_angular_core__WEBPACK_IMPORTED_MODULE_0__.qZA()()()}2&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_0__.Q6J("formGroup",ctx.group),_angular_core__WEBPACK_IMPORTED_MODULE_0__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_0__.ekj("is-invalid",ctx.showErrorMessages),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Q6J("displayMonths",ctx.model.getAdditional("displayMonths",ctx.config.displayMonths))("firstDayOfWeek",ctx.model.getAdditional("firstDayOfWeek",ctx.config.firstDayOfWeek))("formControlName",ctx.model.id)("id",ctx.id)("maxDate",ctx.model.max)("minDate",ctx.model.min)("name",ctx.model.name)("navigation",ctx.model.getAdditional("navigation",ctx.config.navigation))("ngClass",ctx.getClass("element","control"))("outsideDays",ctx.model.getAdditional("outsideDays",ctx.config.outsideDays))("placeholder",ctx.model.placeholder)("placement",ctx.model.getAdditional("placement","bottom-left"))("showWeekNumbers",ctx.model.getAdditional("showWeekNumbers",ctx.config.showWeekNumbers))("startDate",ctx.model.focusedDate)("weekdays",ctx.model.getAdditional("weekdays",ctx.config.weekdays)),_angular_core__WEBPACK_IMPORTED_MODULE_0__.xp6(4),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Q6J("ngIf",ctx.model.toggleIcon),_angular_core__WEBPACK_IMPORTED_MODULE_0__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Q6J("ngIf",ctx.model.toggleLabel))},"DynamicNGBootstrapDatePickerComponent_Template"),directives:[_angular_forms__WEBPACK_IMPORTED_MODULE_3__.JL,_angular_forms__WEBPACK_IMPORTED_MODULE_3__.sg,_ng_bootstrap_ng_bootstrap__WEBPACK_IMPORTED_MODULE_2__.J4,_angular_forms__WEBPACK_IMPORTED_MODULE_3__.Fj,_angular_forms__WEBPACK_IMPORTED_MODULE_3__.JJ,_angular_forms__WEBPACK_IMPORTED_MODULE_3__.u,_angular_common__WEBPACK_IMPORTED_MODULE_4__.mk,_angular_common__WEBPACK_IMPORTED_MODULE_4__.O5],encapsulation:2});class DynamicNGBootstrapInputComponent extends _ng_dynamic_forms_core__WEBPACK_IMPORTED_MODULE_1__.LvC{constructor(layoutService,validationService){super(layoutService,validationService),this.layoutService=layoutService,this.validationService=validationService,this.blur=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.vpe,this.change=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.vpe,this.focus=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.vpe}}__name(DynamicNGBootstrapInputComponent,"DynamicNGBootstrapInputComponent"),DynamicNGBootstrapInputComponent.\u0275fac=__name(function(t){return new(t||DynamicNGBootstrapInputComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_0__.Y36(_ng_dynamic_forms_core__WEBPACK_IMPORTED_MODULE_1__.vnf),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Y36(_ng_dynamic_forms_core__WEBPACK_IMPORTED_MODULE_1__.fhz))},"DynamicNGBootstrapInputComponent_Factory"),DynamicNGBootstrapInputComponent.\u0275cmp=_angular_core__WEBPACK_IMPORTED_MODULE_0__.Xpm({type:DynamicNGBootstrapInputComponent,selectors:[["dynamic-ng-bootstrap-input"]],inputs:{formLayout:"formLayout",group:"group",layout:"layout",model:"model"},outputs:{blur:"blur",change:"change",focus:"focus"},features:[_angular_core__WEBPACK_IMPORTED_MODULE_0__.qOj],decls:7,vars:8,consts:[[3,"formGroup"],["class","input-group-prepend",4,"ngIf"],["class","form-control-file",3,"autocomplete","autofocus","is-invalid","dynamicList","formControlName","id","maxlength","minlength","name","ngClass","pattern","placeholder","readonly","required","spellcheck","tabindex","type","blur","change","focus",4,"ngIf","ngIfElse"],["maskedInput",""],["class","input-group-append",4,"ngIf"],[3,"id",4,"ngIf"],[1,"input-group-prepend"],[1,"input-group-text",3,"innerHTML"],[1,"form-control-file",3,"autocomplete","autofocus","dynamicList","formControlName","id","maxlength","minlength","name","ngClass","pattern","placeholder","readonly","required","spellcheck","tabindex","type","blur","change","focus"],[1,"form-control",3,"autocomplete","autofocus","dynamicList","formControlName","id","maxlength","minlength","name","ngClass","pattern","placeholder","readonly","required","spellcheck","tabindex","mask","specialCharacters","patterns","prefix","suffix","thousandSeparator","decimalMarker","dropSpecialCharacters","hiddenInput","showMaskTyped","placeHolderCharacter","shownMaskExpression","showTemplate","clearIfNotMatch","validation","separatorLimit","allowNegativeNumbers","leadZeroDateTime","type","blur","change","focus"],[1,"input-group-append"],[3,"id"],[3,"value",4,"ngFor","ngForOf"],[3,"value"]],template:__name(function(rf,ctx){if(1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_0__.TgZ(0,"div",0),_angular_core__WEBPACK_IMPORTED_MODULE_0__.YNc(1,DynamicNGBootstrapInputComponent_div_1_Template,2,1,"div",1),_angular_core__WEBPACK_IMPORTED_MODULE_0__.YNc(2,DynamicNGBootstrapInputComponent_input_2_Template,1,23,"input",2),_angular_core__WEBPACK_IMPORTED_MODULE_0__.YNc(3,DynamicNGBootstrapInputComponent_ng_template_3_Template,1,41,"ng-template",null,3,_angular_core__WEBPACK_IMPORTED_MODULE_0__.W1O),_angular_core__WEBPACK_IMPORTED_MODULE_0__.YNc(5,DynamicNGBootstrapInputComponent_div_5_Template,2,1,"div",4),_angular_core__WEBPACK_IMPORTED_MODULE_0__.YNc(6,DynamicNGBootstrapInputComponent_datalist_6_Template,3,4,"datalist",5),_angular_core__WEBPACK_IMPORTED_MODULE_0__.qZA()),2&rf){const _r2=_angular_core__WEBPACK_IMPORTED_MODULE_0__.MAs(4);_angular_core__WEBPACK_IMPORTED_MODULE_0__.ekj("input-group",ctx.model.prefix||ctx.model.suffix),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Q6J("formGroup",ctx.group),_angular_core__WEBPACK_IMPORTED_MODULE_0__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Q6J("ngIf",ctx.model.prefix),_angular_core__WEBPACK_IMPORTED_MODULE_0__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Q6J("ngIf","file"===ctx.model.inputType)("ngIfElse",_r2),_angular_core__WEBPACK_IMPORTED_MODULE_0__.xp6(3),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Q6J("ngIf",ctx.model.suffix),_angular_core__WEBPACK_IMPORTED_MODULE_0__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Q6J("ngIf",ctx.model.hasList)}},"DynamicNGBootstrapInputComponent_Template"),directives:[_angular_forms__WEBPACK_IMPORTED_MODULE_3__.JL,_angular_forms__WEBPACK_IMPORTED_MODULE_3__.sg,_angular_common__WEBPACK_IMPORTED_MODULE_4__.O5,_angular_forms__WEBPACK_IMPORTED_MODULE_3__.Fj,_ng_dynamic_forms_core__WEBPACK_IMPORTED_MODULE_1__.fQg,_angular_forms__WEBPACK_IMPORTED_MODULE_3__.JJ,_angular_forms__WEBPACK_IMPORTED_MODULE_3__.u,_angular_forms__WEBPACK_IMPORTED_MODULE_3__.nD,_angular_forms__WEBPACK_IMPORTED_MODULE_3__.wO,_angular_common__WEBPACK_IMPORTED_MODULE_4__.mk,_angular_forms__WEBPACK_IMPORTED_MODULE_3__.c5,_angular_forms__WEBPACK_IMPORTED_MODULE_3__.Q7,ngx_mask__WEBPACK_IMPORTED_MODULE_5__.hx,_angular_common__WEBPACK_IMPORTED_MODULE_4__.sg,_angular_forms__WEBPACK_IMPORTED_MODULE_3__.YN,_angular_forms__WEBPACK_IMPORTED_MODULE_3__.Kr],pipes:[_angular_common__WEBPACK_IMPORTED_MODULE_4__.Ov],encapsulation:2});class DynamicNGBootstrapRadioGroupComponent extends _ng_dynamic_forms_core__WEBPACK_IMPORTED_MODULE_1__.LvC{constructor(layoutService,validationService){super(layoutService,validationService),this.layoutService=layoutService,this.validationService=validationService,this.blur=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.vpe,this.change=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.vpe,this.focus=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.vpe}}__name(DynamicNGBootstrapRadioGroupComponent,"DynamicNGBootstrapRadioGroupComponent"),DynamicNGBootstrapRadioGroupComponent.\u0275fac=__name(function(t){return new(t||DynamicNGBootstrapRadioGroupComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_0__.Y36(_ng_dynamic_forms_core__WEBPACK_IMPORTED_MODULE_1__.vnf),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Y36(_ng_dynamic_forms_core__WEBPACK_IMPORTED_MODULE_1__.fhz))},"DynamicNGBootstrapRadioGroupComponent_Factory"),DynamicNGBootstrapRadioGroupComponent.\u0275cmp=_angular_core__WEBPACK_IMPORTED_MODULE_0__.Xpm({type:DynamicNGBootstrapRadioGroupComponent,selectors:[["dynamic-ng-bootstrap-radio-group"]],inputs:{formLayout:"formLayout",group:"group",layout:"layout",model:"model"},outputs:{blur:"blur",change:"change",focus:"focus"},features:[_angular_core__WEBPACK_IMPORTED_MODULE_0__.qOj],decls:5,vars:9,consts:[[3,"formGroup"],["ngbRadioGroup","","role","radiogroup",1,"btn-group","btn-group-toggle",3,"formControlName","id","ngClass","tabindex","change"],[3,"innerHTML",4,"ngIf"],["ngbButtonLabel","",3,"ngClass",4,"ngFor","ngForOf"],[3,"innerHTML"],["ngbButtonLabel","",3,"ngClass"],["type","radio","ngbButton","",3,"disabled","name","value","blur","focus"]],template:__name(function(rf,ctx){1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_0__.ynx(0,0),_angular_core__WEBPACK_IMPORTED_MODULE_0__.TgZ(1,"div",1),_angular_core__WEBPACK_IMPORTED_MODULE_0__.NdJ("change",__name(function($event){return ctx.onChange($event)},"DynamicNGBootstrapRadioGroupComponent_Template_div_change_1_listener")),_angular_core__WEBPACK_IMPORTED_MODULE_0__.YNc(2,DynamicNGBootstrapRadioGroupComponent_legend_2_Template,1,1,"legend",2),_angular_core__WEBPACK_IMPORTED_MODULE_0__.YNc(3,DynamicNGBootstrapRadioGroupComponent_label_3_Template,3,8,"label",3),_angular_core__WEBPACK_IMPORTED_MODULE_0__.ALo(4,"async"),_angular_core__WEBPACK_IMPORTED_MODULE_0__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_0__.BQk()),2&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_0__.Q6J("formGroup",ctx.group),_angular_core__WEBPACK_IMPORTED_MODULE_0__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Q6J("formControlName",ctx.model.id)("id",ctx.id)("ngClass",ctx.getClass("element","control"))("tabindex",ctx.model.tabIndex),_angular_core__WEBPACK_IMPORTED_MODULE_0__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Q6J("ngIf",ctx.model.legend),_angular_core__WEBPACK_IMPORTED_MODULE_0__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Q6J("ngForOf",_angular_core__WEBPACK_IMPORTED_MODULE_0__.lcZ(4,7,ctx.model.options$)))},"DynamicNGBootstrapRadioGroupComponent_Template"),directives:[_angular_forms__WEBPACK_IMPORTED_MODULE_3__.JL,_angular_forms__WEBPACK_IMPORTED_MODULE_3__.sg,_ng_bootstrap_ng_bootstrap__WEBPACK_IMPORTED_MODULE_2__.py,_angular_forms__WEBPACK_IMPORTED_MODULE_3__.JJ,_angular_forms__WEBPACK_IMPORTED_MODULE_3__.u,_angular_common__WEBPACK_IMPORTED_MODULE_4__.mk,_angular_common__WEBPACK_IMPORTED_MODULE_4__.O5,_angular_common__WEBPACK_IMPORTED_MODULE_4__.sg,_ng_bootstrap_ng_bootstrap__WEBPACK_IMPORTED_MODULE_2__.mL,_ng_bootstrap_ng_bootstrap__WEBPACK_IMPORTED_MODULE_2__.aB],pipes:[_angular_common__WEBPACK_IMPORTED_MODULE_4__.Ov],encapsulation:2,changeDetection:0});class DynamicNGBootstrapRatingComponent extends _ng_dynamic_forms_core__WEBPACK_IMPORTED_MODULE_1__.LvC{constructor(layoutService,validationService,config){super(layoutService,validationService),this.layoutService=layoutService,this.validationService=validationService,this.config=config,this.blur=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.vpe,this.change=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.vpe,this.customEvent=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.vpe,this.focus=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.vpe}}__name(DynamicNGBootstrapRatingComponent,"DynamicNGBootstrapRatingComponent"),DynamicNGBootstrapRatingComponent.\u0275fac=__name(function(t){return new(t||DynamicNGBootstrapRatingComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_0__.Y36(_ng_dynamic_forms_core__WEBPACK_IMPORTED_MODULE_1__.vnf),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Y36(_ng_dynamic_forms_core__WEBPACK_IMPORTED_MODULE_1__.fhz),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Y36(_ng_bootstrap_ng_bootstrap__WEBPACK_IMPORTED_MODULE_2__.M0))},"DynamicNGBootstrapRatingComponent_Factory"),DynamicNGBootstrapRatingComponent.\u0275cmp=_angular_core__WEBPACK_IMPORTED_MODULE_0__.Xpm({type:DynamicNGBootstrapRatingComponent,selectors:[["dynamic-ng-bootstrap-rating"]],viewQuery:__name(function(rf,ctx){if(1&rf&&_angular_core__WEBPACK_IMPORTED_MODULE_0__.Gf(_ng_bootstrap_ng_bootstrap__WEBPACK_IMPORTED_MODULE_2__.OC,7),2&rf){let _t;_angular_core__WEBPACK_IMPORTED_MODULE_0__.iGM(_t=_angular_core__WEBPACK_IMPORTED_MODULE_0__.CRH())&&(ctx.ngbRating=_t.first)}},"DynamicNGBootstrapRatingComponent_Query"),inputs:{formLayout:"formLayout",group:"group",layout:"layout",model:"model"},outputs:{blur:"blur",change:"change",customEvent:"customEvent",focus:"focus"},features:[_angular_core__WEBPACK_IMPORTED_MODULE_0__.qOj],decls:2,vars:6,consts:[[3,"formGroup"],[3,"formControlName","id","max","ngClass","resettable","hover","leave","rateChange"]],template:__name(function(rf,ctx){1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_0__.ynx(0,0),_angular_core__WEBPACK_IMPORTED_MODULE_0__.TgZ(1,"ngb-rating",1),_angular_core__WEBPACK_IMPORTED_MODULE_0__.NdJ("hover",__name(function($event){return ctx.onCustomEvent($event,"hover")},"DynamicNGBootstrapRatingComponent_Template_ngb_rating_hover_1_listener"))("leave",__name(function($event){return ctx.onCustomEvent($event,"leave")},"DynamicNGBootstrapRatingComponent_Template_ngb_rating_leave_1_listener"))("rateChange",__name(function($event){return ctx.onChange($event)},"DynamicNGBootstrapRatingComponent_Template_ngb_rating_rateChange_1_listener")),_angular_core__WEBPACK_IMPORTED_MODULE_0__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_0__.BQk()),2&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_0__.Q6J("formGroup",ctx.group),_angular_core__WEBPACK_IMPORTED_MODULE_0__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Q6J("formControlName",ctx.model.id)("id",ctx.id)("max",ctx.model.max)("ngClass",ctx.getClass("element","control"))("resettable",ctx.model.getAdditional("resettable",ctx.config.resettable)))},"DynamicNGBootstrapRatingComponent_Template"),directives:[_ng_bootstrap_ng_bootstrap__WEBPACK_IMPORTED_MODULE_2__.OC,_angular_forms__WEBPACK_IMPORTED_MODULE_3__.JL,_angular_forms__WEBPACK_IMPORTED_MODULE_3__.sg,_angular_forms__WEBPACK_IMPORTED_MODULE_3__.JJ,_angular_forms__WEBPACK_IMPORTED_MODULE_3__.u,_angular_common__WEBPACK_IMPORTED_MODULE_4__.mk],encapsulation:2,changeDetection:0});class DynamicNGBootstrapSelectComponent extends _ng_dynamic_forms_core__WEBPACK_IMPORTED_MODULE_1__.LvC{constructor(layoutService,validationService){super(layoutService,validationService),this.layoutService=layoutService,this.validationService=validationService,this.blur=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.vpe,this.change=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.vpe,this.focus=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.vpe}}__name(DynamicNGBootstrapSelectComponent,"DynamicNGBootstrapSelectComponent"),DynamicNGBootstrapSelectComponent.\u0275fac=__name(function(t){return new(t||DynamicNGBootstrapSelectComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_0__.Y36(_ng_dynamic_forms_core__WEBPACK_IMPORTED_MODULE_1__.vnf),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Y36(_ng_dynamic_forms_core__WEBPACK_IMPORTED_MODULE_1__.fhz))},"DynamicNGBootstrapSelectComponent_Factory"),DynamicNGBootstrapSelectComponent.\u0275cmp=_angular_core__WEBPACK_IMPORTED_MODULE_0__.Xpm({type:DynamicNGBootstrapSelectComponent,selectors:[["dynamic-ng-bootstrap-select"]],inputs:{formLayout:"formLayout",group:"group",layout:"layout",model:"model"},outputs:{blur:"blur",change:"change",focus:"focus"},features:[_angular_core__WEBPACK_IMPORTED_MODULE_0__.qOj],decls:4,vars:13,consts:[[3,"formGroup"],[1,"form-control",3,"compareWith","formControlName","id","name","ngClass","required","tabindex","blur","change","focus"],[3,"disabled","ngValue",4,"ngFor","ngForOf"],[3,"disabled","ngValue"]],template:__name(function(rf,ctx){1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_0__.ynx(0,0),_angular_core__WEBPACK_IMPORTED_MODULE_0__.TgZ(1,"select",1),_angular_core__WEBPACK_IMPORTED_MODULE_0__.NdJ("blur",__name(function($event){return ctx.onBlur($event)},"DynamicNGBootstrapSelectComponent_Template_select_blur_1_listener"))("change",__name(function($event){return ctx.onChange($event)},"DynamicNGBootstrapSelectComponent_Template_select_change_1_listener"))("focus",__name(function($event){return ctx.onFocus($event)},"DynamicNGBootstrapSelectComponent_Template_select_focus_1_listener")),_angular_core__WEBPACK_IMPORTED_MODULE_0__.YNc(2,DynamicNGBootstrapSelectComponent_option_2_Template,2,3,"option",2),_angular_core__WEBPACK_IMPORTED_MODULE_0__.ALo(3,"async"),_angular_core__WEBPACK_IMPORTED_MODULE_0__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_0__.BQk()),2&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_0__.Q6J("formGroup",ctx.group),_angular_core__WEBPACK_IMPORTED_MODULE_0__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_0__.ekj("is-invalid",ctx.showErrorMessages),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Q6J("compareWith",ctx.model.compareWithFn)("formControlName",ctx.model.id)("id",ctx.id)("name",ctx.model.name)("ngClass",ctx.getClass("element","control"))("required",ctx.model.required)("tabindex",ctx.model.tabIndex),_angular_core__WEBPACK_IMPORTED_MODULE_0__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Q6J("ngForOf",_angular_core__WEBPACK_IMPORTED_MODULE_0__.lcZ(3,11,ctx.model.options$)))},"DynamicNGBootstrapSelectComponent_Template"),directives:[_angular_forms__WEBPACK_IMPORTED_MODULE_3__.JL,_angular_forms__WEBPACK_IMPORTED_MODULE_3__.sg,_angular_forms__WEBPACK_IMPORTED_MODULE_3__.EJ,_angular_forms__WEBPACK_IMPORTED_MODULE_3__.JJ,_angular_forms__WEBPACK_IMPORTED_MODULE_3__.u,_angular_common__WEBPACK_IMPORTED_MODULE_4__.mk,_angular_forms__WEBPACK_IMPORTED_MODULE_3__.Q7,_angular_common__WEBPACK_IMPORTED_MODULE_4__.sg,_angular_forms__WEBPACK_IMPORTED_MODULE_3__.YN,_angular_forms__WEBPACK_IMPORTED_MODULE_3__.Kr],pipes:[_angular_common__WEBPACK_IMPORTED_MODULE_4__.Ov],encapsulation:2});class DynamicNGBootstrapSwitchComponent extends _ng_dynamic_forms_core__WEBPACK_IMPORTED_MODULE_1__.LvC{constructor(layoutService,validationService){super(layoutService,validationService),this.layoutService=layoutService,this.validationService=validationService,this.blur=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.vpe,this.change=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.vpe,this.focus=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.vpe}}__name(DynamicNGBootstrapSwitchComponent,"DynamicNGBootstrapSwitchComponent"),DynamicNGBootstrapSwitchComponent.\u0275fac=__name(function(t){return new(t||DynamicNGBootstrapSwitchComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_0__.Y36(_ng_dynamic_forms_core__WEBPACK_IMPORTED_MODULE_1__.vnf),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Y36(_ng_dynamic_forms_core__WEBPACK_IMPORTED_MODULE_1__.fhz))},"DynamicNGBootstrapSwitchComponent_Factory"),DynamicNGBootstrapSwitchComponent.\u0275cmp=_angular_core__WEBPACK_IMPORTED_MODULE_0__.Xpm({type:DynamicNGBootstrapSwitchComponent,selectors:[["dynamic-ng-bootstrap-switch"]],inputs:{formLayout:"formLayout",group:"group",layout:"layout",model:"model"},outputs:{blur:"blur",change:"change",focus:"focus"},features:[_angular_core__WEBPACK_IMPORTED_MODULE_0__.qOj],decls:3,vars:12,consts:[[1,"custom-control","custom-switch",3,"formGroup"],["type","checkbox",1,"custom-control-input",3,"formControlName","id","name","ngClass","required","tabindex","value","blur","change","focus"],[1,"custom-control-label",3,"for","innerHTML"]],template:__name(function(rf,ctx){1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_0__.TgZ(0,"div",0)(1,"input",1),_angular_core__WEBPACK_IMPORTED_MODULE_0__.NdJ("blur",__name(function($event){return ctx.onBlur($event)},"DynamicNGBootstrapSwitchComponent_Template_input_blur_1_listener"))("change",__name(function($event){return ctx.onChange($event)},"DynamicNGBootstrapSwitchComponent_Template_input_change_1_listener"))("focus",__name(function($event){return ctx.onFocus($event)},"DynamicNGBootstrapSwitchComponent_Template_input_focus_1_listener")),_angular_core__WEBPACK_IMPORTED_MODULE_0__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_0__._UZ(2,"label",2),_angular_core__WEBPACK_IMPORTED_MODULE_0__.qZA()),2&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_0__.Q6J("formGroup",ctx.group),_angular_core__WEBPACK_IMPORTED_MODULE_0__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_0__.ekj("is-invalid",ctx.showErrorMessages),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Q6J("formControlName",ctx.model.id)("id",ctx.id)("name",ctx.model.name)("ngClass",ctx.getClass("element","control"))("required",ctx.model.required)("tabindex",ctx.model.tabIndex)("value",ctx.model.value),_angular_core__WEBPACK_IMPORTED_MODULE_0__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Q6J("for",ctx.id)("innerHTML",ctx.model.label,_angular_core__WEBPACK_IMPORTED_MODULE_0__.oJD))},"DynamicNGBootstrapSwitchComponent_Template"),directives:[_angular_forms__WEBPACK_IMPORTED_MODULE_3__.JL,_angular_forms__WEBPACK_IMPORTED_MODULE_3__.sg,_angular_forms__WEBPACK_IMPORTED_MODULE_3__.Wl,_angular_forms__WEBPACK_IMPORTED_MODULE_3__.Zs,_angular_forms__WEBPACK_IMPORTED_MODULE_3__.JJ,_angular_forms__WEBPACK_IMPORTED_MODULE_3__.u,_angular_common__WEBPACK_IMPORTED_MODULE_4__.mk],encapsulation:2});class DynamicNGBootstrapTextAreaComponent extends _ng_dynamic_forms_core__WEBPACK_IMPORTED_MODULE_1__.LvC{constructor(layoutService,validationService){super(layoutService,validationService),this.layoutService=layoutService,this.validationService=validationService,this.blur=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.vpe,this.change=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.vpe,this.focus=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.vpe}}__name(DynamicNGBootstrapTextAreaComponent,"DynamicNGBootstrapTextAreaComponent"),DynamicNGBootstrapTextAreaComponent.\u0275fac=__name(function(t){return new(t||DynamicNGBootstrapTextAreaComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_0__.Y36(_ng_dynamic_forms_core__WEBPACK_IMPORTED_MODULE_1__.vnf),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Y36(_ng_dynamic_forms_core__WEBPACK_IMPORTED_MODULE_1__.fhz))},"DynamicNGBootstrapTextAreaComponent_Factory"),DynamicNGBootstrapTextAreaComponent.\u0275cmp=_angular_core__WEBPACK_IMPORTED_MODULE_0__.Xpm({type:DynamicNGBootstrapTextAreaComponent,selectors:[["dynamic-ng-bootstrap-textarea"]],inputs:{formLayout:"formLayout",group:"group",layout:"layout",model:"model"},outputs:{blur:"blur",change:"change",focus:"focus"},features:[_angular_core__WEBPACK_IMPORTED_MODULE_0__.qOj],decls:2,vars:17,consts:[[3,"formGroup"],[1,"form-control",3,"cols","formControlName","id","maxlength","minlength","name","ngClass","placeholder","readonly","required","rows","spellcheck","tabindex","wrap","blur","change","focus"]],template:__name(function(rf,ctx){1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_0__.ynx(0,0),_angular_core__WEBPACK_IMPORTED_MODULE_0__.TgZ(1,"textarea",1),_angular_core__WEBPACK_IMPORTED_MODULE_0__.NdJ("blur",__name(function($event){return ctx.onBlur($event)},"DynamicNGBootstrapTextAreaComponent_Template_textarea_blur_1_listener"))("change",__name(function($event){return ctx.onChange($event)},"DynamicNGBootstrapTextAreaComponent_Template_textarea_change_1_listener"))("focus",__name(function($event){return ctx.onFocus($event)},"DynamicNGBootstrapTextAreaComponent_Template_textarea_focus_1_listener")),_angular_core__WEBPACK_IMPORTED_MODULE_0__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_0__.BQk()),2&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_0__.Q6J("formGroup",ctx.group),_angular_core__WEBPACK_IMPORTED_MODULE_0__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_0__.ekj("is-invalid",ctx.showErrorMessages),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Q6J("cols",ctx.model.cols)("formControlName",ctx.model.id)("id",ctx.id)("maxlength",ctx.model.maxLength)("minlength",ctx.model.minLength)("name",ctx.model.name)("ngClass",ctx.getClass("element","control"))("placeholder",ctx.model.placeholder)("readonly",ctx.model.readOnly)("required",ctx.model.required)("rows",ctx.model.rows)("spellcheck",ctx.model.spellCheck)("tabindex",ctx.model.tabIndex)("wrap",ctx.model.wrap))},"DynamicNGBootstrapTextAreaComponent_Template"),directives:[_angular_forms__WEBPACK_IMPORTED_MODULE_3__.JL,_angular_forms__WEBPACK_IMPORTED_MODULE_3__.sg,_angular_forms__WEBPACK_IMPORTED_MODULE_3__.Fj,_angular_forms__WEBPACK_IMPORTED_MODULE_3__.JJ,_angular_forms__WEBPACK_IMPORTED_MODULE_3__.u,_angular_forms__WEBPACK_IMPORTED_MODULE_3__.nD,_angular_forms__WEBPACK_IMPORTED_MODULE_3__.wO,_angular_common__WEBPACK_IMPORTED_MODULE_4__.mk,_angular_forms__WEBPACK_IMPORTED_MODULE_3__.Q7],encapsulation:2});class DynamicNGBootstrapTimePickerComponent extends _ng_dynamic_forms_core__WEBPACK_IMPORTED_MODULE_1__.LvC{constructor(layoutService,validationService,config){super(layoutService,validationService),this.layoutService=layoutService,this.validationService=validationService,this.config=config,this.blur=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.vpe,this.change=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.vpe,this.focus=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.vpe}}__name(DynamicNGBootstrapTimePickerComponent,"DynamicNGBootstrapTimePickerComponent"),DynamicNGBootstrapTimePickerComponent.\u0275fac=__name(function(t){return new(t||DynamicNGBootstrapTimePickerComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_0__.Y36(_ng_dynamic_forms_core__WEBPACK_IMPORTED_MODULE_1__.vnf),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Y36(_ng_dynamic_forms_core__WEBPACK_IMPORTED_MODULE_1__.fhz),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Y36(_ng_bootstrap_ng_bootstrap__WEBPACK_IMPORTED_MODULE_2__.Kk))},"DynamicNGBootstrapTimePickerComponent_Factory"),DynamicNGBootstrapTimePickerComponent.\u0275cmp=_angular_core__WEBPACK_IMPORTED_MODULE_0__.Xpm({type:DynamicNGBootstrapTimePickerComponent,selectors:[["dynamic-ng-bootstrap-timepicker"]],viewQuery:__name(function(rf,ctx){if(1&rf&&_angular_core__WEBPACK_IMPORTED_MODULE_0__.Gf(_ng_bootstrap_ng_bootstrap__WEBPACK_IMPORTED_MODULE_2__.Pm,7),2&rf){let _t;_angular_core__WEBPACK_IMPORTED_MODULE_0__.iGM(_t=_angular_core__WEBPACK_IMPORTED_MODULE_0__.CRH())&&(ctx.ngbTimePicker=_t.first)}},"DynamicNGBootstrapTimePickerComponent_Query"),inputs:{formLayout:"formLayout",group:"group",layout:"layout",model:"model"},outputs:{blur:"blur",change:"change",focus:"focus"},features:[_angular_core__WEBPACK_IMPORTED_MODULE_0__.qOj],decls:2,vars:11,consts:[[3,"formGroup"],[3,"id","formControlName","hourStep","meridian","minuteStep","ngClass","seconds","secondStep","size","spinners"]],template:__name(function(rf,ctx){1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_0__.ynx(0,0),_angular_core__WEBPACK_IMPORTED_MODULE_0__._UZ(1,"ngb-timepicker",1),_angular_core__WEBPACK_IMPORTED_MODULE_0__.BQk()),2&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_0__.Q6J("formGroup",ctx.group),_angular_core__WEBPACK_IMPORTED_MODULE_0__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Q6J("id",ctx.id)("formControlName",ctx.model.id)("hourStep",ctx.model.getAdditional("hourStep",ctx.config.hourStep))("meridian",ctx.model.meridian)("minuteStep",ctx.model.getAdditional("minuteStep",ctx.config.minuteStep))("ngClass",ctx.getClass("element","control"))("seconds",ctx.model.showSeconds)("secondStep",ctx.model.getAdditional("secondStep",ctx.config.secondStep))("size",ctx.model.getAdditional("size",ctx.config.size))("spinners",ctx.model.getAdditional("spinners",ctx.config.spinners)))},"DynamicNGBootstrapTimePickerComponent_Template"),directives:[_ng_bootstrap_ng_bootstrap__WEBPACK_IMPORTED_MODULE_2__.Pm,_angular_forms__WEBPACK_IMPORTED_MODULE_3__.JL,_angular_forms__WEBPACK_IMPORTED_MODULE_3__.sg,_angular_forms__WEBPACK_IMPORTED_MODULE_3__.JJ,_angular_forms__WEBPACK_IMPORTED_MODULE_3__.u,_angular_common__WEBPACK_IMPORTED_MODULE_4__.mk],encapsulation:2,changeDetection:0});class DynamicNGBootstrapFormControlContainerComponent extends _ng_dynamic_forms_core__WEBPACK_IMPORTED_MODULE_1__.wT7{constructor(changeDetectorRef,componentFactoryResolver,layoutService,validationService,componentService,relationService){super(changeDetectorRef,componentFactoryResolver,layoutService,validationService,componentService,relationService),this.changeDetectorRef=changeDetectorRef,this.componentFactoryResolver=componentFactoryResolver,this.layoutService=layoutService,this.validationService=validationService,this.componentService=componentService,this.relationService=relationService,this.asBootstrapFormGroup=!0,this.context=null,this.blur=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.vpe,this.change=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.vpe,this.focus=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.vpe,this.customEvent=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.vpe}get componentType(){return this.componentService.getCustomComponentType(this.model)||ngBootstrapUIFormControlMapFn(this.model)}}function ngBootstrapUIFormControlMapFn(model){switch(model.type){case _ng_dynamic_forms_core__WEBPACK_IMPORTED_MODULE_1__.i9b:return DynamicNGBootstrapFormArrayComponent;case _ng_dynamic_forms_core__WEBPACK_IMPORTED_MODULE_1__.fSU:return DynamicNGBootstrapCheckboxComponent;case _ng_dynamic_forms_core__WEBPACK_IMPORTED_MODULE_1__.aTt:return DynamicNGBootstrapCheckboxGroupComponent;case _ng_dynamic_forms_core__WEBPACK_IMPORTED_MODULE_1__.VId:return model.inline?DynamicNGBootstrapCalendarComponent:DynamicNGBootstrapDatePickerComponent;case _ng_dynamic_forms_core__WEBPACK_IMPORTED_MODULE_1__.Qam:return DynamicNGBootstrapFormGroupComponent;case _ng_dynamic_forms_core__WEBPACK_IMPORTED_MODULE_1__.X9S:return DynamicNGBootstrapInputComponent;case _ng_dynamic_forms_core__WEBPACK_IMPORTED_MODULE_1__.e6P:return DynamicNGBootstrapRadioGroupComponent;case _ng_dynamic_forms_core__WEBPACK_IMPORTED_MODULE_1__.bwN:return DynamicNGBootstrapRatingComponent;case _ng_dynamic_forms_core__WEBPACK_IMPORTED_MODULE_1__.Lq6:return DynamicNGBootstrapSelectComponent;case _ng_dynamic_forms_core__WEBPACK_IMPORTED_MODULE_1__.YUR:return DynamicNGBootstrapSwitchComponent;case _ng_dynamic_forms_core__WEBPACK_IMPORTED_MODULE_1__.Pdh:return DynamicNGBootstrapTextAreaComponent;case _ng_dynamic_forms_core__WEBPACK_IMPORTED_MODULE_1__.BKB:return DynamicNGBootstrapTimePickerComponent;default:return null}}__name(DynamicNGBootstrapFormControlContainerComponent,"DynamicNGBootstrapFormControlContainerComponent"),DynamicNGBootstrapFormControlContainerComponent.\u0275fac=__name(function(t){return new(t||DynamicNGBootstrapFormControlContainerComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_0__.Y36(_angular_core__WEBPACK_IMPORTED_MODULE_0__.sBO),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Y36(_angular_core__WEBPACK_IMPORTED_MODULE_0__._Vd),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Y36(_ng_dynamic_forms_core__WEBPACK_IMPORTED_MODULE_1__.vnf),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Y36(_ng_dynamic_forms_core__WEBPACK_IMPORTED_MODULE_1__.fhz),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Y36(_ng_dynamic_forms_core__WEBPACK_IMPORTED_MODULE_1__.rJA),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Y36(_ng_dynamic_forms_core__WEBPACK_IMPORTED_MODULE_1__.uTg))},"DynamicNGBootstrapFormControlContainerComponent_Factory"),DynamicNGBootstrapFormControlContainerComponent.\u0275cmp=_angular_core__WEBPACK_IMPORTED_MODULE_0__.Xpm({type:DynamicNGBootstrapFormControlContainerComponent,selectors:[["dynamic-ng-bootstrap-form-control"]],contentQueries:__name(function(rf,ctx,dirIndex){if(1&rf&&_angular_core__WEBPACK_IMPORTED_MODULE_0__.Suo(dirIndex,_ng_dynamic_forms_core__WEBPACK_IMPORTED_MODULE_1__.ATj,4),2&rf){let _t;_angular_core__WEBPACK_IMPORTED_MODULE_0__.iGM(_t=_angular_core__WEBPACK_IMPORTED_MODULE_0__.CRH())&&(ctx.contentTemplateList=_t)}},"DynamicNGBootstrapFormControlContainerComponent_ContentQueries"),viewQuery:__name(function(rf,ctx){if(1&rf&&_angular_core__WEBPACK_IMPORTED_MODULE_0__.Gf(_c1,7,_angular_core__WEBPACK_IMPORTED_MODULE_0__.s_b),2&rf){let _t;_angular_core__WEBPACK_IMPORTED_MODULE_0__.iGM(_t=_angular_core__WEBPACK_IMPORTED_MODULE_0__.CRH())&&(ctx.componentViewContainerRef=_t.first)}},"DynamicNGBootstrapFormControlContainerComponent_Query"),hostVars:2,hostBindings:__name(function(rf,ctx){2&rf&&_angular_core__WEBPACK_IMPORTED_MODULE_0__.Tol(ctx.klass)},"DynamicNGBootstrapFormControlContainerComponent_HostBindings"),inputs:{asBootstrapFormGroup:"asBootstrapFormGroup",context:"context",group:"group",hostClass:"hostClass",inputTemplateList:["templates","inputTemplateList"],layout:"layout",model:"model"},outputs:{blur:"blur",change:"change",focus:"focus",customEvent:"ngbEvent"},features:[_angular_core__WEBPACK_IMPORTED_MODULE_0__.qOj],ngContentSelectors:["*"],decls:10,vars:16,consts:[[3,"formGroup","ngClass"],[3,"for","innerHTML","ngClass",4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"ngClass"],["componentViewContainer",""],["class","text-muted",3,"innerHTML","ngClass",4,"ngIf"],[3,"ngClass",4,"ngIf"],[3,"for","innerHTML","ngClass"],[1,"text-muted",3,"innerHTML","ngClass"],["class","invalid-feedback d-block",4,"ngFor","ngForOf"],[1,"invalid-feedback","d-block"]],template:__name(function(rf,ctx){1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_0__.F$t(),_angular_core__WEBPACK_IMPORTED_MODULE_0__.TgZ(0,"div",0),_angular_core__WEBPACK_IMPORTED_MODULE_0__.YNc(1,DynamicNGBootstrapFormControlContainerComponent_label_1_Template,1,6,"label",1),_angular_core__WEBPACK_IMPORTED_MODULE_0__.YNc(2,DynamicNGBootstrapFormControlContainerComponent_ng_container_2_Template,1,0,"ng-container",2),_angular_core__WEBPACK_IMPORTED_MODULE_0__.TgZ(3,"div",3),_angular_core__WEBPACK_IMPORTED_MODULE_0__.GkF(4,null,4),_angular_core__WEBPACK_IMPORTED_MODULE_0__.YNc(6,DynamicNGBootstrapFormControlContainerComponent_small_6_Template,1,2,"small",5),_angular_core__WEBPACK_IMPORTED_MODULE_0__.YNc(7,DynamicNGBootstrapFormControlContainerComponent_div_7_Template,2,5,"div",6),_angular_core__WEBPACK_IMPORTED_MODULE_0__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_0__.YNc(8,DynamicNGBootstrapFormControlContainerComponent_ng_container_8_Template,1,0,"ng-container",2),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Hsn(9),_angular_core__WEBPACK_IMPORTED_MODULE_0__.qZA()),2&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_0__.ekj("form-group","GROUP"!==ctx.model.type&&ctx.asBootstrapFormGroup||ctx.getClass("element","container").includes("form-group")),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Q6J("formGroup",ctx.group)("ngClass",_angular_core__WEBPACK_IMPORTED_MODULE_0__.kEZ(12,_c2,"ng-dynamic-forms-"+ctx.model.type.toLowerCase(),ctx.getClass("element","container"),ctx.getClass("grid","container"))),_angular_core__WEBPACK_IMPORTED_MODULE_0__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Q6J("ngIf",!ctx.isCheckbox&&ctx.hasLabel),_angular_core__WEBPACK_IMPORTED_MODULE_0__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Q6J("ngTemplateOutlet",null==ctx.startTemplate?null:ctx.startTemplate.templateRef)("ngTemplateOutletContext",ctx.model),_angular_core__WEBPACK_IMPORTED_MODULE_0__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Q6J("ngClass",ctx.getClass("grid","control")),_angular_core__WEBPACK_IMPORTED_MODULE_0__.xp6(3),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Q6J("ngIf",ctx.hasHint),_angular_core__WEBPACK_IMPORTED_MODULE_0__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Q6J("ngIf",ctx.showErrorMessages),_angular_core__WEBPACK_IMPORTED_MODULE_0__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Q6J("ngTemplateOutlet",null==ctx.endTemplate?null:ctx.endTemplate.templateRef)("ngTemplateOutletContext",ctx.model))},"DynamicNGBootstrapFormControlContainerComponent_Template"),directives:[_angular_forms__WEBPACK_IMPORTED_MODULE_3__.JL,_angular_forms__WEBPACK_IMPORTED_MODULE_3__.sg,_angular_common__WEBPACK_IMPORTED_MODULE_4__.mk,_angular_common__WEBPACK_IMPORTED_MODULE_4__.O5,_angular_common__WEBPACK_IMPORTED_MODULE_4__.tP,_angular_common__WEBPACK_IMPORTED_MODULE_4__.sg],encapsulation:2,changeDetection:0}),__name(ngBootstrapUIFormControlMapFn,"ngBootstrapUIFormControlMapFn");class DynamicNGBootstrapFormArrayComponent extends _ng_dynamic_forms_core__WEBPACK_IMPORTED_MODULE_1__.CRj{constructor(layoutService,validationService){super(layoutService,validationService),this.layoutService=layoutService,this.validationService=validationService,this.blur=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.vpe,this.change=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.vpe,this.customEvent=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.vpe,this.focus=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.vpe}}__name(DynamicNGBootstrapFormArrayComponent,"DynamicNGBootstrapFormArrayComponent"),DynamicNGBootstrapFormArrayComponent.\u0275fac=__name(function(t){return new(t||DynamicNGBootstrapFormArrayComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_0__.Y36(_ng_dynamic_forms_core__WEBPACK_IMPORTED_MODULE_1__.vnf),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Y36(_ng_dynamic_forms_core__WEBPACK_IMPORTED_MODULE_1__.fhz))},"DynamicNGBootstrapFormArrayComponent_Factory"),DynamicNGBootstrapFormArrayComponent.\u0275cmp=_angular_core__WEBPACK_IMPORTED_MODULE_0__.Xpm({type:DynamicNGBootstrapFormArrayComponent,selectors:[["dynamic-ng-bootstrap-form-array"]],viewQuery:__name(function(rf,ctx){if(1&rf&&_angular_core__WEBPACK_IMPORTED_MODULE_0__.Gf(DynamicNGBootstrapFormControlContainerComponent,5),2&rf){let _t;_angular_core__WEBPACK_IMPORTED_MODULE_0__.iGM(_t=_angular_core__WEBPACK_IMPORTED_MODULE_0__.CRH())&&(ctx.components=_t)}},"DynamicNGBootstrapFormArrayComponent_Query"),inputs:{formLayout:"formLayout",group:"group",layout:"layout",model:"model",templates:"templates"},outputs:{blur:"blur",change:"change",customEvent:"customEvent",focus:"focus"},features:[_angular_core__WEBPACK_IMPORTED_MODULE_0__.qOj],decls:3,vars:5,consts:[[3,"formGroup"],[3,"formArrayName","id","ngClass"],["role","group",3,"formGroupName","ngClass",4,"ngFor","ngForOf"],["role","group",3,"formGroupName","ngClass"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"context","group","hidden","layout","model","templates","hostClass","blur","change","focus","ngbEvent",4,"ngFor","ngForOf"],[3,"context","group","hidden","layout","model","templates","hostClass","blur","change","focus","ngbEvent"]],template:__name(function(rf,ctx){1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_0__.ynx(0,0),_angular_core__WEBPACK_IMPORTED_MODULE_0__.TgZ(1,"div",1),_angular_core__WEBPACK_IMPORTED_MODULE_0__.YNc(2,DynamicNGBootstrapFormArrayComponent_div_2_Template,4,10,"div",2),_angular_core__WEBPACK_IMPORTED_MODULE_0__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_0__.BQk()),2&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_0__.Q6J("formGroup",ctx.group),_angular_core__WEBPACK_IMPORTED_MODULE_0__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Q6J("formArrayName",ctx.model.id)("id",ctx.id)("ngClass",ctx.getClass("element","control")),_angular_core__WEBPACK_IMPORTED_MODULE_0__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Q6J("ngForOf",ctx.model.groups))},"DynamicNGBootstrapFormArrayComponent_Template"),directives:[DynamicNGBootstrapFormControlContainerComponent,_angular_forms__WEBPACK_IMPORTED_MODULE_3__.JL,_angular_forms__WEBPACK_IMPORTED_MODULE_3__.sg,_angular_forms__WEBPACK_IMPORTED_MODULE_3__.CE,_angular_common__WEBPACK_IMPORTED_MODULE_4__.mk,_angular_common__WEBPACK_IMPORTED_MODULE_4__.sg,_angular_forms__WEBPACK_IMPORTED_MODULE_3__.x0,_angular_common__WEBPACK_IMPORTED_MODULE_4__.tP],encapsulation:2});class DynamicNGBootstrapFormGroupComponent extends _ng_dynamic_forms_core__WEBPACK_IMPORTED_MODULE_1__.GE_{constructor(layoutService,validationService){super(layoutService,validationService),this.layoutService=layoutService,this.validationService=validationService,this.blur=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.vpe,this.change=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.vpe,this.customEvent=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.vpe,this.focus=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.vpe}}__name(DynamicNGBootstrapFormGroupComponent,"DynamicNGBootstrapFormGroupComponent"),DynamicNGBootstrapFormGroupComponent.\u0275fac=__name(function(t){return new(t||DynamicNGBootstrapFormGroupComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_0__.Y36(_ng_dynamic_forms_core__WEBPACK_IMPORTED_MODULE_1__.vnf),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Y36(_ng_dynamic_forms_core__WEBPACK_IMPORTED_MODULE_1__.fhz))},"DynamicNGBootstrapFormGroupComponent_Factory"),DynamicNGBootstrapFormGroupComponent.\u0275cmp=_angular_core__WEBPACK_IMPORTED_MODULE_0__.Xpm({type:DynamicNGBootstrapFormGroupComponent,selectors:[["dynamic-ng-bootstrap-form-group"]],viewQuery:__name(function(rf,ctx){if(1&rf&&_angular_core__WEBPACK_IMPORTED_MODULE_0__.Gf(DynamicNGBootstrapFormControlContainerComponent,5),2&rf){let _t;_angular_core__WEBPACK_IMPORTED_MODULE_0__.iGM(_t=_angular_core__WEBPACK_IMPORTED_MODULE_0__.CRH())&&(ctx.components=_t)}},"DynamicNGBootstrapFormGroupComponent_Query"),inputs:{formLayout:"formLayout",group:"group",layout:"layout",model:"model",templates:"templates"},outputs:{blur:"blur",change:"change",customEvent:"customEvent",focus:"focus"},features:[_angular_core__WEBPACK_IMPORTED_MODULE_0__.qOj],decls:3,vars:5,consts:[[3,"formGroup"],["role","group",3,"formGroupName","id","ngClass"],[3,"asBootstrapFormGroup","group","hidden","layout","model","templates","hostClass","blur","change","focus","ngbEvent",4,"ngFor","ngForOf"],[3,"asBootstrapFormGroup","group","hidden","layout","model","templates","hostClass","blur","change","focus","ngbEvent"]],template:__name(function(rf,ctx){1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_0__.ynx(0,0),_angular_core__WEBPACK_IMPORTED_MODULE_0__.TgZ(1,"div",1),_angular_core__WEBPACK_IMPORTED_MODULE_0__.YNc(2,DynamicNGBootstrapFormGroupComponent_dynamic_ng_bootstrap_form_control_2_Template,1,10,"dynamic-ng-bootstrap-form-control",2),_angular_core__WEBPACK_IMPORTED_MODULE_0__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_0__.BQk()),2&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_0__.Q6J("formGroup",ctx.group),_angular_core__WEBPACK_IMPORTED_MODULE_0__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Q6J("formGroupName",ctx.model.id)("id",ctx.id)("ngClass",ctx.getClass("element","control")),_angular_core__WEBPACK_IMPORTED_MODULE_0__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Q6J("ngForOf",ctx.model.group))},"DynamicNGBootstrapFormGroupComponent_Template"),directives:[DynamicNGBootstrapFormControlContainerComponent,_angular_forms__WEBPACK_IMPORTED_MODULE_3__.JL,_angular_forms__WEBPACK_IMPORTED_MODULE_3__.sg,_angular_forms__WEBPACK_IMPORTED_MODULE_3__.x0,_angular_common__WEBPACK_IMPORTED_MODULE_4__.mk,_angular_common__WEBPACK_IMPORTED_MODULE_4__.sg],encapsulation:2});class DynamicNGBootstrapFormComponent extends _ng_dynamic_forms_core__WEBPACK_IMPORTED_MODULE_1__.rmD{constructor(changeDetectorRef,componentService){super(changeDetectorRef,componentService),this.changeDetectorRef=changeDetectorRef,this.componentService=componentService,this.blur=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.vpe,this.change=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.vpe,this.focus=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.vpe,this.ngbEvent=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.vpe}}__name(DynamicNGBootstrapFormComponent,"DynamicNGBootstrapFormComponent"),DynamicNGBootstrapFormComponent.\u0275fac=__name(function(t){return new(t||DynamicNGBootstrapFormComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_0__.Y36(_angular_core__WEBPACK_IMPORTED_MODULE_0__.sBO),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Y36(_ng_dynamic_forms_core__WEBPACK_IMPORTED_MODULE_1__.rJA))},"DynamicNGBootstrapFormComponent_Factory"),DynamicNGBootstrapFormComponent.\u0275cmp=_angular_core__WEBPACK_IMPORTED_MODULE_0__.Xpm({type:DynamicNGBootstrapFormComponent,selectors:[["dynamic-ng-bootstrap-form"]],contentQueries:__name(function(rf,ctx,dirIndex){if(1&rf&&_angular_core__WEBPACK_IMPORTED_MODULE_0__.Suo(dirIndex,_ng_dynamic_forms_core__WEBPACK_IMPORTED_MODULE_1__.ATj,4),2&rf){let _t;_angular_core__WEBPACK_IMPORTED_MODULE_0__.iGM(_t=_angular_core__WEBPACK_IMPORTED_MODULE_0__.CRH())&&(ctx.templates=_t)}},"DynamicNGBootstrapFormComponent_ContentQueries"),viewQuery:__name(function(rf,ctx){if(1&rf&&_angular_core__WEBPACK_IMPORTED_MODULE_0__.Gf(DynamicNGBootstrapFormControlContainerComponent,5),2&rf){let _t;_angular_core__WEBPACK_IMPORTED_MODULE_0__.iGM(_t=_angular_core__WEBPACK_IMPORTED_MODULE_0__.CRH())&&(ctx.components=_t)}},"DynamicNGBootstrapFormComponent_Query"),inputs:{group:"group",model:"model",layout:"layout"},outputs:{blur:"blur",change:"change",focus:"focus",ngbEvent:"ngbEvent"},features:[_angular_core__WEBPACK_IMPORTED_MODULE_0__.qOj],decls:1,vars:2,consts:[[3,"group","hidden","layout","model","templates","blur","change","focus","ngbEvent",4,"ngFor","ngForOf","ngForTrackBy"],[3,"group","hidden","layout","model","templates","blur","change","focus","ngbEvent"]],template:__name(function(rf,ctx){1&rf&&_angular_core__WEBPACK_IMPORTED_MODULE_0__.YNc(0,DynamicNGBootstrapFormComponent_dynamic_ng_bootstrap_form_control_0_Template,1,5,"dynamic-ng-bootstrap-form-control",0),2&rf&&_angular_core__WEBPACK_IMPORTED_MODULE_0__.Q6J("ngForOf",ctx.model)("ngForTrackBy",ctx.trackByFn)},"DynamicNGBootstrapFormComponent_Template"),directives:[DynamicNGBootstrapFormControlContainerComponent,_angular_common__WEBPACK_IMPORTED_MODULE_4__.sg],encapsulation:2,changeDetection:0});class DynamicFormsNGBootstrapUIModule{}__name(DynamicFormsNGBootstrapUIModule,"DynamicFormsNGBootstrapUIModule"),DynamicFormsNGBootstrapUIModule.\u0275fac=__name(function(t){return new(t||DynamicFormsNGBootstrapUIModule)},"DynamicFormsNGBootstrapUIModule_Factory"),DynamicFormsNGBootstrapUIModule.\u0275mod=_angular_core__WEBPACK_IMPORTED_MODULE_0__.oAB({type:DynamicFormsNGBootstrapUIModule}),DynamicFormsNGBootstrapUIModule.\u0275inj=_angular_core__WEBPACK_IMPORTED_MODULE_0__.cJS({imports:[[_angular_common__WEBPACK_IMPORTED_MODULE_4__.ez,_angular_forms__WEBPACK_IMPORTED_MODULE_3__.UX,_ng_bootstrap_ng_bootstrap__WEBPACK_IMPORTED_MODULE_2__.xZ,_ng_bootstrap_ng_bootstrap__WEBPACK_IMPORTED_MODULE_2__.M,_ng_bootstrap_ng_bootstrap__WEBPACK_IMPORTED_MODULE_2__.mO,_ng_bootstrap_ng_bootstrap__WEBPACK_IMPORTED_MODULE_2__.UL,ngx_mask__WEBPACK_IMPORTED_MODULE_5__.yI,_ng_dynamic_forms_core__WEBPACK_IMPORTED_MODULE_1__.H9g],_ng_dynamic_forms_core__WEBPACK_IMPORTED_MODULE_1__.H9g]})}};