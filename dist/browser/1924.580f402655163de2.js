(self.webpackChunkdspace_angular=self.webpackChunkdspace_angular||[]).push([[1924],{83772:(y,v,e)=>{"use strict";e.d(v,{a:()=>l});class l{constructor(c,t){this.text=c,this.url=t}}},98655:(y,v,e)=>{"use strict";e.d(v,{t:()=>g});var l=e(24702),r=e(78056),c=e(5e3),t=e(43001);let g=(()=>{class n{constructor(_){this.breadcrumbService=_}resolve(_,T){const I=_.data.breadcrumbKey;if((0,l.xI)(I))throw new Error('You provided an i18nBreadcrumbResolver for url "'+_.url+"\" but no breadcrumbKey in the route's data");const x=(0,r.i)(_);return{provider:this.breadcrumbService,key:I,url:x}}}return n.\u0275fac=function(_){return new(_||n)(c.\u0275\u0275inject(t.d))},n.\u0275prov=c.\u0275\u0275defineInjectable({token:n,factory:n.\u0275fac,providedIn:"root"}),n})()},43001:(y,v,e)=>{"use strict";e.d(v,{d:()=>g});var l=e(83772),r=e(39646),c=e(5e3);let g=(()=>{class n{getBreadcrumbs(_,T){return(0,r.of)([new l.a(_+".breadcrumbs",T)])}}return n.\u0275fac=function(_){return new(_||n)},n.\u0275prov=c.\u0275\u0275defineInjectable({token:n,factory:n.\u0275fac,providedIn:"root"}),n})()},8136:(y,v,e)=>{"use strict";e.d(v,{K:()=>c});const r={RESOLVED:(0,e(79472).d)("dspace/resolver/RESOLVED")};class c{constructor(g,n){this.type=r.RESOLVED,this.payload={url:g,dso:n}}}},20218:(y,v,e)=>{"use strict";e.d(v,{f:()=>D});var l=e(70655),r=e(43015),c=e(58943),t=e(93498),g=e(31241),n=e(43602),M=e(68285),_=e(54004),T=e(72839),I=e(99678),x=e(21147),h=e(5e3);let D=class extends T.t{constructor(i,u,p,P){super("usagereports",i,u,P,p),this.requestService=i,this.rdbService=u,this.halService=p,this.objectCache=P,this.searchData=new I.l(this.linkPath,i,u,P,p,this.responseMsToLive)}getStatistic(i,u){return this.findById(`${i}_${u}`).pipe((0,M.xw)(),(0,M.xe)())}searchStatistics(i,u,p){return this.searchBy("object",{searchParams:[{fieldName:"uri",fieldValue:i}],currentPage:u,elementsPerPage:p},!0,!1).pipe((0,M.xw)(),(0,M.xe)(),(0,_.U)(P=>P.page))}searchBy(i,u,p,P,...A){return this.searchData.searchBy(i,u,p,P,...A)}};D.\u0275fac=function(i){return new(i||D)(h.\u0275\u0275inject(g.s),h.\u0275\u0275inject(r.Q),h.\u0275\u0275inject(t.q),h.\u0275\u0275inject(c.a))},D.\u0275prov=h.\u0275\u0275defineInjectable({token:D,factory:D.\u0275fac}),D=(0,l.gn)([(0,x.cQ)(n._),(0,l.w6)("design:paramtypes",[g.s,r.Q,t.q,c.a])],D)},27102:(y,v,e)=>{"use strict";e.d(v,{H:()=>_,I:()=>T});var l=e(83639),r=e(93369),c=e(68285),t=e(8136),g=e(5e3),n=e(65620),M=e(74202);const _=[(0,r.l)("owningCollection",{},(0,r.l)("parentCommunity",{},(0,r.l)("parentCommunity"))),(0,r.l)("relationships"),(0,r.l)("version",{},(0,r.l)("versionhistory")),(0,r.l)("thumbnail")];let T=(()=>{class I{constructor(h,D,E){this.itemService=h,this.store=D,this.router=E}resolve(h,D){const E=this.itemService.findById(h.params.id,!0,!1,..._).pipe((0,c.hC)());return E.subscribe(i=>{this.store.dispatch(new t.K(D.url,i.payload))}),E}}return I.\u0275fac=function(h){return new(h||I)(g.\u0275\u0275inject(l.S),g.\u0275\u0275inject(n.yh),g.\u0275\u0275inject(M.F0))},I.\u0275prov=g.\u0275\u0275defineInjectable({token:I,factory:I.\u0275fac}),I})()},88812:(y,v,e)=>{"use strict";e.r(v),e.d(v,{CollectionStatisticsPageComponent:()=>U});var l=e(76392),r=e(20218),c=e(24755),t=e(5e3),g=e(74202),n=e(83616),M=e(98605),_=e(69808),T=e(48106),I=e(3490),x=e(86956);const h=function(s){return{scope:s}};function D(s,d){if(1&s&&(t.\u0275\u0275elementStart(0,"h2",3),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&s){const a=t.\u0275\u0275nextContext().ngVar,m=t.\u0275\u0275nextContext();t.\u0275\u0275propertyInterpolate("id",a.id),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind2(2,2,"statistics.header",t.\u0275\u0275pureFunction1(5,h,m.getName(a)))," ")}}function E(s,d){if(1&s&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275template(1,D,3,7,"h2",2),t.\u0275\u0275elementContainerEnd()),2&s){const a=d.ngVar;t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",a)}}function i(s,d){1&s&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275element(1,"ds-themed-loading"),t.\u0275\u0275elementContainerEnd())}function u(s,d){if(1&s&&t.\u0275\u0275element(0,"ds-statistics-table",6),2&s){const a=d.$implicit;t.\u0275\u0275classMapInterpolate1("m-2 ",a.id,""),t.\u0275\u0275property("report",a)}}function p(s,d){1&s&&(t.\u0275\u0275elementStart(0,"div"),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&s&&(t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(2,1,"statistics.page.no-data")," "))}function P(s,d){if(1&s&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275template(1,u,1,4,"ds-statistics-table",5),t.\u0275\u0275template(2,p,3,3,"div",4),t.\u0275\u0275pipe(3,"async"),t.\u0275\u0275elementContainerEnd()),2&s){const a=t.\u0275\u0275nextContext().ngVar,m=t.\u0275\u0275nextContext();t.\u0275\u0275advance(1),t.\u0275\u0275property("ngForOf",a),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",!t.\u0275\u0275pipeBind1(3,2,m.hasData$))}}function A(s,d){if(1&s&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275template(1,i,2,0,"ng-container",4),t.\u0275\u0275template(2,P,4,4,"ng-container",4),t.\u0275\u0275elementContainerEnd()),2&s){const a=d.ngVar;t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",!a),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",a)}}let U=(()=>{class s extends l.f{constructor(a,m,C,S,R){super(a,m,C,S,R),this.route=a,this.router=m,this.usageReportService=C,this.nameService=S,this.authService=R,this.types=["TotalVisits","TotalVisitsPerMonth","TopCountries","TopCities"]}}return s.\u0275fac=function(a){return new(a||s)(t.\u0275\u0275directiveInject(g.gz),t.\u0275\u0275directiveInject(g.F0),t.\u0275\u0275directiveInject(r.f),t.\u0275\u0275directiveInject(n._),t.\u0275\u0275directiveInject(c.e8))},s.\u0275cmp=t.\u0275\u0275defineComponent({type:s,selectors:[["ds-collection-statistics-page"]],features:[t.\u0275\u0275InheritDefinitionFeature],decls:5,vars:6,consts:[[1,"container"],[4,"ngVar"],["class","header",3,"id",4,"ngIf"],[1,"header",3,"id"],[4,"ngIf"],[3,"report","class",4,"ngFor","ngForOf"],[3,"report"]],template:function(a,m){1&a&&(t.\u0275\u0275elementStart(0,"div",0),t.\u0275\u0275template(1,E,2,1,"ng-container",1),t.\u0275\u0275pipe(2,"async"),t.\u0275\u0275template(3,A,3,2,"ng-container",1),t.\u0275\u0275pipe(4,"async"),t.\u0275\u0275elementEnd()),2&a&&(t.\u0275\u0275advance(1),t.\u0275\u0275property("ngVar",t.\u0275\u0275pipeBind1(2,2,m.scope$)),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngVar",t.\u0275\u0275pipeBind1(4,4,m.reports$)))},directives:[M.g,_.O5,T.Z,_.sg,I.A],pipes:[_.Ov,x.X$],styles:[""]}),s})()},74028:(y,v,e)=>{"use strict";e.r(v),e.d(v,{CommunityStatisticsPageComponent:()=>U});var l=e(76392),r=e(20218),c=e(24755),t=e(5e3),g=e(74202),n=e(83616),M=e(98605),_=e(69808),T=e(48106),I=e(3490),x=e(86956);const h=function(s){return{scope:s}};function D(s,d){if(1&s&&(t.\u0275\u0275elementStart(0,"h2",3),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&s){const a=t.\u0275\u0275nextContext().ngVar,m=t.\u0275\u0275nextContext();t.\u0275\u0275propertyInterpolate("id",a.id),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind2(2,2,"statistics.header",t.\u0275\u0275pureFunction1(5,h,m.getName(a)))," ")}}function E(s,d){if(1&s&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275template(1,D,3,7,"h2",2),t.\u0275\u0275elementContainerEnd()),2&s){const a=d.ngVar;t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",a)}}function i(s,d){1&s&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275element(1,"ds-themed-loading"),t.\u0275\u0275elementContainerEnd())}function u(s,d){if(1&s&&t.\u0275\u0275element(0,"ds-statistics-table",6),2&s){const a=d.$implicit;t.\u0275\u0275classMapInterpolate1("m-2 ",a.id,""),t.\u0275\u0275property("report",a)}}function p(s,d){1&s&&(t.\u0275\u0275elementStart(0,"div"),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&s&&(t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(2,1,"statistics.page.no-data")," "))}function P(s,d){if(1&s&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275template(1,u,1,4,"ds-statistics-table",5),t.\u0275\u0275template(2,p,3,3,"div",4),t.\u0275\u0275pipe(3,"async"),t.\u0275\u0275elementContainerEnd()),2&s){const a=t.\u0275\u0275nextContext().ngVar,m=t.\u0275\u0275nextContext();t.\u0275\u0275advance(1),t.\u0275\u0275property("ngForOf",a),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",!t.\u0275\u0275pipeBind1(3,2,m.hasData$))}}function A(s,d){if(1&s&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275template(1,i,2,0,"ng-container",4),t.\u0275\u0275template(2,P,4,4,"ng-container",4),t.\u0275\u0275elementContainerEnd()),2&s){const a=d.ngVar;t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",!a),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",a)}}let U=(()=>{class s extends l.f{constructor(a,m,C,S,R){super(a,m,C,S,R),this.route=a,this.router=m,this.usageReportService=C,this.nameService=S,this.authService=R,this.types=["TotalVisits","TotalVisitsPerMonth","TopCountries","TopCities"]}}return s.\u0275fac=function(a){return new(a||s)(t.\u0275\u0275directiveInject(g.gz),t.\u0275\u0275directiveInject(g.F0),t.\u0275\u0275directiveInject(r.f),t.\u0275\u0275directiveInject(n._),t.\u0275\u0275directiveInject(c.e8))},s.\u0275cmp=t.\u0275\u0275defineComponent({type:s,selectors:[["ds-community-statistics-page"]],features:[t.\u0275\u0275InheritDefinitionFeature],decls:5,vars:6,consts:[[1,"container"],[4,"ngVar"],["class","header",3,"id",4,"ngIf"],[1,"header",3,"id"],[4,"ngIf"],[3,"report","class",4,"ngFor","ngForOf"],[3,"report"]],template:function(a,m){1&a&&(t.\u0275\u0275elementStart(0,"div",0),t.\u0275\u0275template(1,E,2,1,"ng-container",1),t.\u0275\u0275pipe(2,"async"),t.\u0275\u0275template(3,A,3,2,"ng-container",1),t.\u0275\u0275pipe(4,"async"),t.\u0275\u0275elementEnd()),2&a&&(t.\u0275\u0275advance(1),t.\u0275\u0275property("ngVar",t.\u0275\u0275pipeBind1(2,2,m.scope$)),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngVar",t.\u0275\u0275pipeBind1(4,4,m.reports$)))},directives:[M.g,_.O5,T.Z,_.sg,I.A],pipes:[_.Ov,x.X$],styles:[""]}),s})()},73273:(y,v,e)=>{"use strict";e.r(v),e.d(v,{ItemStatisticsPageComponent:()=>U});var l=e(76392),r=e(20218),c=e(24755),t=e(5e3),g=e(74202),n=e(83616),M=e(98605),_=e(69808),T=e(48106),I=e(3490),x=e(86956);const h=function(s){return{scope:s}};function D(s,d){if(1&s&&(t.\u0275\u0275elementStart(0,"h2",3),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&s){const a=t.\u0275\u0275nextContext().ngVar,m=t.\u0275\u0275nextContext();t.\u0275\u0275propertyInterpolate("id",a.id),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind2(2,2,"statistics.header",t.\u0275\u0275pureFunction1(5,h,m.getName(a)))," ")}}function E(s,d){if(1&s&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275template(1,D,3,7,"h2",2),t.\u0275\u0275elementContainerEnd()),2&s){const a=d.ngVar;t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",a)}}function i(s,d){1&s&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275element(1,"ds-themed-loading"),t.\u0275\u0275elementContainerEnd())}function u(s,d){if(1&s&&t.\u0275\u0275element(0,"ds-statistics-table",6),2&s){const a=d.$implicit;t.\u0275\u0275classMapInterpolate1("m-2 ",a.id,""),t.\u0275\u0275property("report",a)}}function p(s,d){1&s&&(t.\u0275\u0275elementStart(0,"div"),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&s&&(t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(2,1,"statistics.page.no-data")," "))}function P(s,d){if(1&s&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275template(1,u,1,4,"ds-statistics-table",5),t.\u0275\u0275template(2,p,3,3,"div",4),t.\u0275\u0275pipe(3,"async"),t.\u0275\u0275elementContainerEnd()),2&s){const a=t.\u0275\u0275nextContext().ngVar,m=t.\u0275\u0275nextContext();t.\u0275\u0275advance(1),t.\u0275\u0275property("ngForOf",a),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",!t.\u0275\u0275pipeBind1(3,2,m.hasData$))}}function A(s,d){if(1&s&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275template(1,i,2,0,"ng-container",4),t.\u0275\u0275template(2,P,4,4,"ng-container",4),t.\u0275\u0275elementContainerEnd()),2&s){const a=d.ngVar;t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",!a),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",a)}}let U=(()=>{class s extends l.f{constructor(a,m,C,S,R){super(a,m,C,S,R),this.route=a,this.router=m,this.usageReportService=C,this.nameService=S,this.authService=R,this.types=["TotalVisits","TotalVisitsPerMonth","TotalDownloads","TopCountries","TopCities"]}}return s.\u0275fac=function(a){return new(a||s)(t.\u0275\u0275directiveInject(g.gz),t.\u0275\u0275directiveInject(g.F0),t.\u0275\u0275directiveInject(r.f),t.\u0275\u0275directiveInject(n._),t.\u0275\u0275directiveInject(c.e8))},s.\u0275cmp=t.\u0275\u0275defineComponent({type:s,selectors:[["ds-item-statistics-page"]],features:[t.\u0275\u0275InheritDefinitionFeature],decls:5,vars:6,consts:[[1,"container"],[4,"ngVar"],["class","header",3,"id",4,"ngIf"],[1,"header",3,"id"],[4,"ngIf"],[3,"report","class",4,"ngFor","ngForOf"],[3,"report"]],template:function(a,m){1&a&&(t.\u0275\u0275elementStart(0,"div",0),t.\u0275\u0275template(1,E,2,1,"ng-container",1),t.\u0275\u0275pipe(2,"async"),t.\u0275\u0275template(3,A,3,2,"ng-container",1),t.\u0275\u0275pipe(4,"async"),t.\u0275\u0275elementEnd()),2&a&&(t.\u0275\u0275advance(1),t.\u0275\u0275property("ngVar",t.\u0275\u0275pipeBind1(2,2,m.scope$)),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngVar",t.\u0275\u0275pipeBind1(4,4,m.reports$)))},directives:[M.g,_.O5,T.Z,_.sg,I.A],pipes:[_.Ov,x.X$],styles:[""]}),s})()},86456:(y,v,e)=>{"use strict";e.r(v),e.d(v,{SiteStatisticsPageComponent:()=>d});var l=e(76392),r=e(23380),c=e(20218),t=e(63900),g=e(24755),n=e(5e3),M=e(74202),_=e(83616),T=e(98605),I=e(69808),x=e(48106),h=e(3490),D=e(86956);const E=function(a){return{scope:a}};function i(a,m){if(1&a&&(n.\u0275\u0275elementStart(0,"h2",3),n.\u0275\u0275text(1),n.\u0275\u0275pipe(2,"translate"),n.\u0275\u0275elementEnd()),2&a){const C=n.\u0275\u0275nextContext().ngVar,S=n.\u0275\u0275nextContext();n.\u0275\u0275propertyInterpolate("id",C.id),n.\u0275\u0275advance(1),n.\u0275\u0275textInterpolate1(" ",n.\u0275\u0275pipeBind2(2,2,"statistics.header",n.\u0275\u0275pureFunction1(5,E,S.getName(C)))," ")}}function u(a,m){if(1&a&&(n.\u0275\u0275elementContainerStart(0),n.\u0275\u0275template(1,i,3,7,"h2",2),n.\u0275\u0275elementContainerEnd()),2&a){const C=m.ngVar;n.\u0275\u0275advance(1),n.\u0275\u0275property("ngIf",C)}}function p(a,m){1&a&&(n.\u0275\u0275elementContainerStart(0),n.\u0275\u0275element(1,"ds-themed-loading"),n.\u0275\u0275elementContainerEnd())}function P(a,m){if(1&a&&n.\u0275\u0275element(0,"ds-statistics-table",6),2&a){const C=m.$implicit;n.\u0275\u0275classMapInterpolate1("m-2 ",C.id,""),n.\u0275\u0275property("report",C)}}function A(a,m){1&a&&(n.\u0275\u0275elementStart(0,"div"),n.\u0275\u0275text(1),n.\u0275\u0275pipe(2,"translate"),n.\u0275\u0275elementEnd()),2&a&&(n.\u0275\u0275advance(1),n.\u0275\u0275textInterpolate1(" ",n.\u0275\u0275pipeBind1(2,1,"statistics.page.no-data")," "))}function U(a,m){if(1&a&&(n.\u0275\u0275elementContainerStart(0),n.\u0275\u0275template(1,P,1,4,"ds-statistics-table",5),n.\u0275\u0275template(2,A,3,3,"div",4),n.\u0275\u0275pipe(3,"async"),n.\u0275\u0275elementContainerEnd()),2&a){const C=n.\u0275\u0275nextContext().ngVar,S=n.\u0275\u0275nextContext();n.\u0275\u0275advance(1),n.\u0275\u0275property("ngForOf",C),n.\u0275\u0275advance(1),n.\u0275\u0275property("ngIf",!n.\u0275\u0275pipeBind1(3,2,S.hasData$))}}function s(a,m){if(1&a&&(n.\u0275\u0275elementContainerStart(0),n.\u0275\u0275template(1,p,2,0,"ng-container",4),n.\u0275\u0275template(2,U,4,4,"ng-container",4),n.\u0275\u0275elementContainerEnd()),2&a){const C=m.ngVar;n.\u0275\u0275advance(1),n.\u0275\u0275property("ngIf",!C),n.\u0275\u0275advance(1),n.\u0275\u0275property("ngIf",C)}}let d=(()=>{class a extends l.f{constructor(C,S,R,L,F,K){super(C,S,R,L,K),this.route=C,this.router=S,this.usageReportService=R,this.nameService=L,this.siteService=F,this.authService=K,this.types=["TotalVisits"]}getScope$(){return this.siteService.find()}getReports$(){return this.scope$.pipe((0,t.w)(C=>this.usageReportService.searchStatistics(C._links.self.href,0,10)))}}return a.\u0275fac=function(C){return new(C||a)(n.\u0275\u0275directiveInject(M.gz),n.\u0275\u0275directiveInject(M.F0),n.\u0275\u0275directiveInject(c.f),n.\u0275\u0275directiveInject(_._),n.\u0275\u0275directiveInject(r.a),n.\u0275\u0275directiveInject(g.e8))},a.\u0275cmp=n.\u0275\u0275defineComponent({type:a,selectors:[["ds-site-statistics-page"]],features:[n.\u0275\u0275InheritDefinitionFeature],decls:5,vars:6,consts:[[1,"container"],[4,"ngVar"],["class","header",3,"id",4,"ngIf"],[1,"header",3,"id"],[4,"ngIf"],[3,"report","class",4,"ngFor","ngForOf"],[3,"report"]],template:function(C,S){1&C&&(n.\u0275\u0275elementStart(0,"div",0),n.\u0275\u0275template(1,u,2,1,"ng-container",1),n.\u0275\u0275pipe(2,"async"),n.\u0275\u0275template(3,s,3,2,"ng-container",1),n.\u0275\u0275pipe(4,"async"),n.\u0275\u0275elementEnd()),2&C&&(n.\u0275\u0275advance(1),n.\u0275\u0275property("ngVar",n.\u0275\u0275pipeBind1(2,2,S.scope$)),n.\u0275\u0275advance(2),n.\u0275\u0275property("ngVar",n.\u0275\u0275pipeBind1(4,4,S.reports$)))},directives:[T.g,I.O5,x.Z,I.sg,h.A],pipes:[I.Ov,D.X$],styles:[""]}),a})()},61924:(y,v,e)=>{"use strict";e.r(v),e.d(v,{StatisticsPageRoutingModule:()=>z});var l=e(74202),r=e(98655),c=e(43001),t=e(69808),g=e(61508),n=e(57981),M=e(79248),_=e(20218),E=(e(86456),e(3490),e(73273),e(88812),e(74028),e(25330)),i=e(5e3);function u(o,f){}let p=(()=>{class o extends E.F{getComponentName(){return"CollectionStatisticsPageComponent"}importThemedComponent(O){return e(83127)(`./${O}/app/statistics-page/collection-statistics-page/collection-statistics-page.component`)}importUnthemedComponent(){return Promise.resolve().then(e.bind(e,88812))}}return o.\u0275fac=function(){let f;return function(B){return(f||(f=i.\u0275\u0275getInheritedFactory(o)))(B||o)}}(),o.\u0275cmp=i.\u0275\u0275defineComponent({type:o,selectors:[["ds-themed-collection-statistics-page"]],features:[i.\u0275\u0275InheritDefinitionFeature],decls:2,vars:0,consts:[["vcr",""]],template:function(O,B){1&O&&i.\u0275\u0275template(0,u,0,0,"ng-template",null,0,i.\u0275\u0275templateRefExtractor)},encapsulation:2}),o})();function P(o,f){}let A=(()=>{class o extends E.F{getComponentName(){return"CommunityStatisticsPageComponent"}importThemedComponent(O){return e(37292)(`./${O}/app/statistics-page/community-statistics-page/community-statistics-page.component`)}importUnthemedComponent(){return Promise.resolve().then(e.bind(e,74028))}}return o.\u0275fac=function(){let f;return function(B){return(f||(f=i.\u0275\u0275getInheritedFactory(o)))(B||o)}}(),o.\u0275cmp=i.\u0275\u0275defineComponent({type:o,selectors:[["ds-themed-collection-statistics-page"]],features:[i.\u0275\u0275InheritDefinitionFeature],decls:2,vars:0,consts:[["vcr",""]],template:function(O,B){1&O&&i.\u0275\u0275template(0,P,0,0,"ng-template",null,0,i.\u0275\u0275templateRefExtractor)},encapsulation:2}),o})();function U(o,f){}let s=(()=>{class o extends E.F{getComponentName(){return"ItemStatisticsPageComponent"}importThemedComponent(O){return e(85789)(`./${O}/app/statistics-page/item-statistics-page/item-statistics-page.component`)}importUnthemedComponent(){return Promise.resolve().then(e.bind(e,73273))}}return o.\u0275fac=function(){let f;return function(B){return(f||(f=i.\u0275\u0275getInheritedFactory(o)))(B||o)}}(),o.\u0275cmp=i.\u0275\u0275defineComponent({type:o,selectors:[["ds-themed-item-statistics-page"]],features:[i.\u0275\u0275InheritDefinitionFeature],decls:2,vars:0,consts:[["vcr",""]],template:function(O,B){1&O&&i.\u0275\u0275template(0,U,0,0,"ng-template",null,0,i.\u0275\u0275templateRefExtractor)},encapsulation:2}),o})();function d(o,f){}let a=(()=>{class o extends E.F{getComponentName(){return"SiteStatisticsPageComponent"}importThemedComponent(O){return e(48798)(`./${O}/app/statistics-page/site-statistics-page/site-statistics-page.component`)}importUnthemedComponent(){return Promise.resolve().then(e.bind(e,86456))}}return o.\u0275fac=function(){let f;return function(B){return(f||(f=i.\u0275\u0275getInheritedFactory(o)))(B||o)}}(),o.\u0275cmp=i.\u0275\u0275defineComponent({type:o,selectors:[["ds-themed-site-statistics-page"]],features:[i.\u0275\u0275InheritDefinitionFeature],decls:2,vars:0,consts:[["vcr",""]],template:function(O,B){1&O&&i.\u0275\u0275template(0,d,0,0,"ng-template",null,0,i.\u0275\u0275templateRefExtractor)},encapsulation:2}),o})(),C=(()=>{class o{}return o.\u0275fac=function(O){return new(O||o)},o.\u0275mod=i.\u0275\u0275defineNgModule({type:o}),o.\u0275inj=i.\u0275\u0275defineInjector({providers:[_.f],imports:[[t.ez,n.m,g.IR.forRoot(),M.p.forRoot()]]}),o})();var S=e(88840),R=e(32125),L=e(27102),F=e(22904),K=e(19937),$=e(24755),V=e(39646),N=e(47235);let W=(()=>{class o extends F.C{constructor(O,B,j){super(O,B,j),this.authorizationService=O,this.router=B,this.authService=j}getFeatureID(O,B){return(0,V.of)(N.i.CanViewUsageStatistics)}}return o.\u0275fac=function(O){return new(O||o)(i.\u0275\u0275inject(K._),i.\u0275\u0275inject(l.F0),i.\u0275\u0275inject($.e8))},o.\u0275prov=i.\u0275\u0275defineInjectable({token:o,factory:o.\u0275fac,providedIn:"root"}),o})(),z=(()=>{class o{}return o.\u0275fac=function(O){return new(O||o)},o.\u0275mod=i.\u0275\u0275defineNgModule({type:o}),o.\u0275inj=i.\u0275\u0275defineInjector({providers:[r.t,c.d,S.l,R.h,L.I],imports:[[C,l.Bz.forChild([{path:"",resolve:{breadcrumb:r.t},data:{title:"statistics.title",breadcrumbKey:"statistics"},children:[{path:"",component:a}],canActivate:[W]},{path:"items/:id",resolve:{scope:L.I,breadcrumb:r.t},data:{title:"statistics.title",breadcrumbKey:"statistics"},component:s,canActivate:[W]},{path:"collections/:id",resolve:{scope:S.l,breadcrumb:r.t},data:{title:"statistics.title",breadcrumbKey:"statistics"},component:p,canActivate:[W]},{path:"communities/:id",resolve:{scope:R.h,breadcrumb:r.t},data:{title:"statistics.title",breadcrumbKey:"statistics"},component:A,canActivate:[W]}])]]}),o})()},76392:(y,v,e)=>{"use strict";e.d(v,{f:()=>x});var l=e(39841),r=e(20218),c=e(54004),t=e(63900),g=e(68285),n=e(24755),M=e(12691),_=e(5e3),T=e(74202),I=e(83616);let x=(()=>{class h{constructor(E,i,u,p,P){this.route=E,this.router=i,this.usageReportService=u,this.nameService=p,this.authService=P}ngOnInit(){this.scope$=this.getScope$(),this.reports$=this.getReports$(),this.hasData$=this.reports$.pipe((0,c.U)(E=>E.some(i=>i.points.length>0)))}getScope$(){return this.route.data.pipe((0,c.U)(E=>E.scope),(0,M.Gh)(this.router,this.authService),(0,g.xw)(),(0,g.xe)())}getReports$(){return this.scope$.pipe((0,t.w)(E=>(0,l.a)(this.types.map(i=>this.usageReportService.getStatistic(E.id,i)))))}getName(E){return this.nameService.getName(E)}}return h.\u0275fac=function(E){return new(E||h)(_.\u0275\u0275directiveInject(T.gz),_.\u0275\u0275directiveInject(T.F0),_.\u0275\u0275directiveInject(r.f),_.\u0275\u0275directiveInject(I._),_.\u0275\u0275directiveInject(n.e8))},h.\u0275cmp=_.\u0275\u0275defineComponent({type:h,selectors:[["ds-statistics-page"]],decls:0,vars:0,template:function(E,i){},encapsulation:2}),h})()},3490:(y,v,e)=>{"use strict";e.d(v,{A:()=>E}),e(63602);var r=e(39646),c=e(54004),t=e(68285),g=e(83360),n=e(5e3),M=e(83616),_=e(69808),T=e(86956);function I(i,u){if(1&i&&(n.\u0275\u0275elementStart(0,"th",3),n.\u0275\u0275text(1),n.\u0275\u0275elementEnd()),2&i){const p=u.$implicit;n.\u0275\u0275classMapInterpolate1("",p,"-header"),n.\u0275\u0275advance(1),n.\u0275\u0275textInterpolate1(" ",p," ")}}function x(i,u){if(1&i&&(n.\u0275\u0275elementStart(0,"td"),n.\u0275\u0275text(1),n.\u0275\u0275elementEnd()),2&i){const p=u.$implicit,P=n.\u0275\u0275nextContext().$implicit;n.\u0275\u0275classMapInterpolate2("",P.id,"-",p,"-data"),n.\u0275\u0275advance(1),n.\u0275\u0275textInterpolate1(" ",P.values[p]," ")}}function h(i,u){if(1&i&&(n.\u0275\u0275elementStart(0,"tr")(1,"th",6),n.\u0275\u0275text(2),n.\u0275\u0275pipe(3,"async"),n.\u0275\u0275elementEnd(),n.\u0275\u0275template(4,x,2,5,"td",5),n.\u0275\u0275elementEnd()),2&i){const p=u.$implicit,P=n.\u0275\u0275nextContext(2);n.\u0275\u0275classMapInterpolate1("",p.id,"-data"),n.\u0275\u0275advance(2),n.\u0275\u0275textInterpolate1(" ",n.\u0275\u0275pipeBind1(3,5,P.getLabel(p))," "),n.\u0275\u0275advance(2),n.\u0275\u0275property("ngForOf",P.headers)}}function D(i,u){if(1&i&&(n.\u0275\u0275elementStart(0,"div",1)(1,"h3",1),n.\u0275\u0275text(2),n.\u0275\u0275pipe(3,"translate"),n.\u0275\u0275elementEnd(),n.\u0275\u0275elementStart(4,"table",2)(5,"tbody")(6,"tr"),n.\u0275\u0275element(7,"th",3),n.\u0275\u0275template(8,I,2,4,"th",4),n.\u0275\u0275elementEnd(),n.\u0275\u0275template(9,h,5,7,"tr",5),n.\u0275\u0275elementEnd()()()),2&i){const p=n.\u0275\u0275nextContext();n.\u0275\u0275advance(2),n.\u0275\u0275textInterpolate1(" ",n.\u0275\u0275pipeBind1(3,3,"statistics.table.title."+p.report.reportType)," "),n.\u0275\u0275advance(6),n.\u0275\u0275property("ngForOf",p.headers),n.\u0275\u0275advance(1),n.\u0275\u0275property("ngForOf",p.report.points)}}let E=(()=>{class i{constructor(p,P){this.dsoService=p,this.nameService=P}ngOnInit(){this.hasData=this.report.points.length>0,this.hasData&&(this.headers=Object.keys(this.report.points[0].values))}getLabel(p){return"TotalVisits"===this.report.reportType?this.dsoService.findById(p.id).pipe((0,t.xw)(),(0,t.xe)(),(0,c.U)(P=>this.nameService.getName(P))):(0,r.of)(p.label)}}return i.\u0275fac=function(p){return new(p||i)(n.\u0275\u0275directiveInject(g.D),n.\u0275\u0275directiveInject(M._))},i.\u0275cmp=n.\u0275\u0275defineComponent({type:i,selectors:[["ds-statistics-table"]],inputs:{report:"report"},decls:1,vars:1,consts:[["class","m-1",4,"ngIf"],[1,"m-1"],[1,"table","table-striped"],["scope","col"],["scope","col",3,"class",4,"ngFor","ngForOf"],[3,"class",4,"ngFor","ngForOf"],["scope","row"]],template:function(p,P){1&p&&n.\u0275\u0275template(0,D,10,5,"div",0),2&p&&n.\u0275\u0275property("ngIf",P.hasData)},directives:[_.O5,_.sg],pipes:[T.X$,_.Ov],styles:["th[_ngcontent-%COMP%], td[_ngcontent-%COMP%]{padding:.5rem}td[_ngcontent-%COMP%]{width:50px;max-width:50px}"]}),i})()},83127:(y,v,e)=>{var l={"./custom/app/statistics-page/collection-statistics-page/collection-statistics-page.component":[29894,9894]};function r(c){if(!e.o(l,c))return Promise.resolve().then(()=>{var n=new Error("Cannot find module '"+c+"'");throw n.code="MODULE_NOT_FOUND",n});var t=l[c],g=t[0];return e.e(t[1]).then(()=>e(g))}r.keys=()=>Object.keys(l),r.id=83127,y.exports=r},37292:(y,v,e)=>{var l={"./custom/app/statistics-page/community-statistics-page/community-statistics-page.component":[27657,7657]};function r(c){if(!e.o(l,c))return Promise.resolve().then(()=>{var n=new Error("Cannot find module '"+c+"'");throw n.code="MODULE_NOT_FOUND",n});var t=l[c],g=t[0];return e.e(t[1]).then(()=>e(g))}r.keys=()=>Object.keys(l),r.id=37292,y.exports=r},85789:(y,v,e)=>{var l={"./custom/app/statistics-page/item-statistics-page/item-statistics-page.component":[85788,5788]};function r(c){if(!e.o(l,c))return Promise.resolve().then(()=>{var n=new Error("Cannot find module '"+c+"'");throw n.code="MODULE_NOT_FOUND",n});var t=l[c],g=t[0];return e.e(t[1]).then(()=>e(g))}r.keys=()=>Object.keys(l),r.id=85789,y.exports=r},48798:(y,v,e)=>{var l={"./custom/app/statistics-page/site-statistics-page/site-statistics-page.component":[74715,4715]};function r(c){if(!e.o(l,c))return Promise.resolve().then(()=>{var n=new Error("Cannot find module '"+c+"'");throw n.code="MODULE_NOT_FOUND",n});var t=l[c],g=t[0];return e.e(t[1]).then(()=>e(g))}r.keys=()=>Object.keys(l),r.id=48798,y.exports=r}}]);