"use strict";(self.webpackChunkdspace_angular=self.webpackChunkdspace_angular||[]).push([[5272],{66109:(Ee,W,o)=>{o.d(W,{T:()=>N,e:()=>_});var x=o(69810),B=o(71462);const N="bitstream-formats";function _(){return new x.R((0,B.T)(),N).toString()}},98917:(Ee,W,o)=>{o.r(W),o.d(W,{AdminRegistriesModule:()=>Re});var x=o(88551),B=o(35841),N=o(60276),_=o(53426),G=o(98865),n=o(77007),K=o(21160),$=o(77176),T=o(48358),J=o(25839),e=o(16228),k=o(30292);function F(c,y){return Object.assign(new k.R,y,{currentPage:c.currentPage,elementsPerPage:c.pageSize})}var E=o(5496),Y=o(57854),t=o(70074),M=o(37895),j=o(86553),U=o(59492),V=o(24656),fe=o(42857),A=o(10210),he=o(61792),H=o(45028);function Ce(c,y){1&c&&t.\u0275\u0275element(0,"div")}function _e(c,y){if(1&c&&(t.\u0275\u0275elementStart(0,"h4"),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&c){const r=t.\u0275\u0275nextContext();t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(2,1,r.messagePrefix+".create"))}}function ge(c,y){if(1&c&&(t.\u0275\u0275elementStart(0,"h4"),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&c){const r=t.\u0275\u0275nextContext();t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(2,1,r.messagePrefix+".edit"))}}let Ie=(()=>{class c{constructor(r,s,d){this.registryService=r,this.formBuilderService=s,this.translateService=d,this.formId="metadata-schema-form",this.messagePrefix="admin.registries.metadata.form",this.formLayout={name:{grid:{host:"col col-sm-6 d-inline-block"}},namespace:{grid:{host:"col col-sm-6 d-inline-block"}}},this.submitForm=new t.EventEmitter}ngOnInit(){(0,_.a)(this.translateService.get(`${this.messagePrefix}.name`),this.translateService.get(`${this.messagePrefix}.namespace`)).subscribe(([r,s])=>{this.name=new U.b1u({id:"name",label:r,name:"name",validators:{required:null,pattern:"^[^ ,_]{1,32}$"},required:!0}),this.namespace=new U.b1u({id:"namespace",label:s,name:"namespace",validators:{required:null},required:!0}),this.formModel=[new U.S_O({id:"metadatadataschemagroup",group:[this.namespace,this.name]})],this.formGroup=this.formBuilderService.createFormGroup(this.formModel),this.registryService.getActiveMetadataSchema().subscribe(d=>{this.formGroup.patchValue({metadatadataschemagroup:{name:null!=d?d.prefix:"",namespace:null!=d?d.namespace:""}})})})}onCancel(){this.registryService.cancelEditMetadataSchema()}onSubmit(){this.registryService.clearMetadataSchemaRequests().subscribe(),this.registryService.getActiveMetadataSchema().pipe((0,$.q)(1)).subscribe(r=>{const s={prefix:this.name.value,namespace:this.namespace.value};null==r?this.registryService.createOrUpdateMetadataSchema(Object.assign(new fe.B,s)).subscribe(d=>{this.submitForm.emit(d)}):this.registryService.createOrUpdateMetadataSchema(Object.assign(new fe.B,r,{id:r.id,prefix:s.prefix?s.prefix:r.prefix,namespace:s.namespace?s.namespace:r.namespace})).subscribe(d=>{this.submitForm.emit(d)}),this.clearFields(),this.registryService.cancelEditMetadataSchema()})}clearFields(){this.formGroup.patchValue({metadatadataschemagroup:{prefix:"",namespace:""}})}ngOnDestroy(){this.onCancel()}}return c.\u0275fac=function(r){return new(r||c)(t.\u0275\u0275directiveInject(x.k),t.\u0275\u0275directiveInject(V.c),t.\u0275\u0275directiveInject(j.sK))},c.\u0275cmp=t.\u0275\u0275defineComponent({type:c,selectors:[["ds-metadata-schema-form"]],outputs:{submitForm:"submitForm"},decls:7,vars:9,consts:[[4,"ngIf","ngIfThen","ngIfElse"],["createHeader",""],["editheader",""],[3,"formId","formModel","formGroup","formLayout","cancel","submitForm"]],template:function(r,s){if(1&r&&(t.\u0275\u0275template(0,Ce,1,0,"div",0),t.\u0275\u0275pipe(1,"async"),t.\u0275\u0275template(2,_e,3,3,"ng-template",null,1,t.\u0275\u0275templateRefExtractor),t.\u0275\u0275template(4,ge,3,3,"ng-template",null,2,t.\u0275\u0275templateRefExtractor),t.\u0275\u0275elementStart(6,"ds-form",3),t.\u0275\u0275listener("cancel",function(){return s.onCancel()})("submitForm",function(){return s.onSubmit()}),t.\u0275\u0275elementEnd()),2&r){const d=t.\u0275\u0275reference(3),h=t.\u0275\u0275reference(5);t.\u0275\u0275property("ngIf",t.\u0275\u0275pipeBind1(1,7,s.registryService.getActiveMetadataSchema()))("ngIfThen",h)("ngIfElse",d),t.\u0275\u0275advance(6),t.\u0275\u0275property("formId",s.formId)("formModel",s.formModel)("formGroup",s.formGroup)("formLayout",s.formLayout)}},directives:[A.O5,he.U,H.JL,H.sg],pipes:[A.Ov,j.X$],encapsulation:2}),c})();var ee=o(99292);const xe=function(c){return{"table-primary":c}},Z=function(c){return[c]};function Fe(c,y){if(1&c){const r=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"tr",14),t.\u0275\u0275pipe(1,"async"),t.\u0275\u0275elementStart(2,"td")(3,"label")(4,"input",15),t.\u0275\u0275listener("change",function(d){const b=t.\u0275\u0275restoreView(r).$implicit;return t.\u0275\u0275nextContext(2).selectMetadataSchema(b,d)}),t.\u0275\u0275pipe(5,"async"),t.\u0275\u0275elementEnd()()(),t.\u0275\u0275elementStart(6,"td",16),t.\u0275\u0275listener("click",function(){const h=t.\u0275\u0275restoreView(r).$implicit;return t.\u0275\u0275nextContext(2).editSchema(h)}),t.\u0275\u0275elementStart(7,"a",17),t.\u0275\u0275text(8),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(9,"td",16),t.\u0275\u0275listener("click",function(){const h=t.\u0275\u0275restoreView(r).$implicit;return t.\u0275\u0275nextContext(2).editSchema(h)}),t.\u0275\u0275elementStart(10,"a",17),t.\u0275\u0275text(11),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(12,"td",16),t.\u0275\u0275listener("click",function(){const h=t.\u0275\u0275restoreView(r).$implicit;return t.\u0275\u0275nextContext(2).editSchema(h)}),t.\u0275\u0275elementStart(13,"a",17),t.\u0275\u0275text(14),t.\u0275\u0275elementEnd()()()}if(2&c){const r=y.$implicit,s=t.\u0275\u0275nextContext(2);t.\u0275\u0275property("ngClass",t.\u0275\u0275pureFunction1(12,xe,t.\u0275\u0275pipeBind1(1,8,s.isActive(r)))),t.\u0275\u0275advance(4),t.\u0275\u0275property("checked",t.\u0275\u0275pipeBind1(5,10,s.isSelected(r))),t.\u0275\u0275advance(3),t.\u0275\u0275property("routerLink",t.\u0275\u0275pureFunction1(14,Z,r.prefix)),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate(r.id),t.\u0275\u0275advance(2),t.\u0275\u0275property("routerLink",t.\u0275\u0275pureFunction1(16,Z,r.prefix)),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate(r.namespace),t.\u0275\u0275advance(2),t.\u0275\u0275property("routerLink",t.\u0275\u0275pureFunction1(18,Z,r.prefix)),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate(r.prefix)}}function O(c,y){if(1&c&&(t.\u0275\u0275elementStart(0,"ds-pagination",9),t.\u0275\u0275pipe(1,"async"),t.\u0275\u0275elementStart(2,"div",10)(3,"table",11)(4,"thead")(5,"tr"),t.\u0275\u0275element(6,"th",12),t.\u0275\u0275elementStart(7,"th",12),t.\u0275\u0275text(8),t.\u0275\u0275pipe(9,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(10,"th",12),t.\u0275\u0275text(11),t.\u0275\u0275pipe(12,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(13,"th",12),t.\u0275\u0275text(14),t.\u0275\u0275pipe(15,"translate"),t.\u0275\u0275elementEnd()()(),t.\u0275\u0275elementStart(16,"tbody"),t.\u0275\u0275template(17,Fe,15,20,"tr",13),t.\u0275\u0275pipe(18,"async"),t.\u0275\u0275elementEnd()()()()),2&c){const r=t.\u0275\u0275nextContext();let s,d;t.\u0275\u0275property("paginationOptions",r.config)("collectionSize",null==(s=t.\u0275\u0275pipeBind1(1,8,r.metadataSchemas))||null==s.payload?null:s.payload.totalElements)("hideGear",!0)("hidePagerWhenSinglePage",!0),t.\u0275\u0275advance(8),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(9,10,"admin.registries.metadata.schemas.table.id")),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(12,12,"admin.registries.metadata.schemas.table.namespace")),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(15,14,"admin.registries.metadata.schemas.table.name")),t.\u0275\u0275advance(3),t.\u0275\u0275property("ngForOf",null==(d=t.\u0275\u0275pipeBind1(18,16,r.metadataSchemas))||null==d.payload?null:d.payload.page)}}function L(c,y){1&c&&(t.\u0275\u0275elementStart(0,"div",18),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&c&&(t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(2,1,"admin.registries.metadata.schemas.no-items")," "))}function P(c,y){if(1&c){const r=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"button",19),t.\u0275\u0275listener("click",function(){return t.\u0275\u0275restoreView(r),t.\u0275\u0275nextContext().deleteSchemas()}),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()}2&c&&(t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(2,1,"admin.registries.metadata.schemas.table.delete")))}let te=(()=>{class c{constructor(r,s,d,h,b){this.registryService=r,this.notificationsService=s,this.router=d,this.paginationService=h,this.translateService=b,this.config=Object.assign(new G.r,{id:"rm",pageSize:25}),this.needsUpdate$=new B.X(!0),this.updateSchemas()}updateSchemas(){this.metadataSchemas=this.needsUpdate$.pipe((0,n.h)(r=>!0===r),(0,K.w)(()=>this.paginationService.getCurrentPagination(this.config.id,this.config)),(0,K.w)(r=>this.registryService.getMetadataSchemas(F(r))))}forceUpdateSchemas(){this.needsUpdate$.next(!0)}editSchema(r){this.getActiveSchema().pipe((0,$.q)(1)).subscribe(s=>{r===s?this.registryService.cancelEditMetadataSchema():this.registryService.editMetadataSchema(r)})}isActive(r){return this.getActiveSchema().pipe((0,T.U)(s=>r===s))}getActiveSchema(){return this.registryService.getActiveMetadataSchema()}selectMetadataSchema(r,s){s.target.checked?this.registryService.selectMetadataSchema(r):this.registryService.deselectMetadataSchema(r)}isSelected(r){return this.registryService.getSelectedMetadataSchemas().pipe((0,T.U)(s=>null!=s.find(d=>d===r)))}deleteSchemas(){this.registryService.getSelectedMetadataSchemas().pipe((0,$.q)(1)).subscribe(r=>{const s=[];for(const d of r)(0,J.Uh)(d.id)&&s.push(this.registryService.deleteMetadataSchema(d.id).pipe((0,E.hC)()));(0,N.$)(...s).subscribe(d=>{const h=d.filter(R=>R.hasSucceeded),b=d.filter(R=>R.hasFailed);h.length>0&&this.showNotification(!0,h.length),b.length>0&&this.showNotification(!1,b.length),this.registryService.deselectAllMetadataSchema(),this.registryService.cancelEditMetadataSchema()})})}showNotification(r,s){const d="admin.registries.schema.notification",h=r?"success":"failure";(0,_.a)(this.translateService.get(`${d}.${h}`),this.translateService.get(`${d}.deleted.${h}`,{amount:s})).subscribe(([R,ce])=>{r?this.notificationsService.success(R,ce):this.notificationsService.error(R,ce)})}ngOnDestroy(){this.paginationService.clearPagination(this.config.id)}}return c.\u0275fac=function(r){return new(r||c)(t.\u0275\u0275directiveInject(x.k),t.\u0275\u0275directiveInject(e.T),t.\u0275\u0275directiveInject(M.F0),t.\u0275\u0275directiveInject(Y.N),t.\u0275\u0275directiveInject(j.sK))},c.\u0275cmp=t.\u0275\u0275defineComponent({type:c,selectors:[["ds-metadata-registry"]],decls:17,vars:15,consts:[[1,"container"],[1,"metadata-registry","row"],[1,"col-12"],["id","header",1,"border-bottom","pb-2"],["id","description",1,"pb-2"],[3,"submitForm"],[3,"paginationOptions","collectionSize","hideGear","hidePagerWhenSinglePage",4,"ngIf"],["class","alert alert-info w-100 mb-2","role","alert",4,"ngIf"],["type","submit","class","btn btn-danger float-right",3,"click",4,"ngIf"],[3,"paginationOptions","collectionSize","hideGear","hidePagerWhenSinglePage"],[1,"table-responsive"],["id","metadata-schemas",1,"table","table-striped","table-hover"],["scope","col"],[3,"ngClass",4,"ngFor","ngForOf"],[3,"ngClass"],["type","checkbox",3,"checked","change"],[1,"selectable-row",3,"click"],[3,"routerLink"],["role","alert",1,"alert","alert-info","w-100","mb-2"],["type","submit",1,"btn","btn-danger","float-right",3,"click"]],template:function(r,s){if(1&r&&(t.\u0275\u0275elementStart(0,"div",0)(1,"div",1)(2,"div",2)(3,"h2",3),t.\u0275\u0275text(4),t.\u0275\u0275pipe(5,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(6,"p",4),t.\u0275\u0275text(7),t.\u0275\u0275pipe(8,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(9,"ds-metadata-schema-form",5),t.\u0275\u0275listener("submitForm",function(){return s.forceUpdateSchemas()}),t.\u0275\u0275elementEnd(),t.\u0275\u0275template(10,O,19,18,"ds-pagination",6),t.\u0275\u0275pipe(11,"async"),t.\u0275\u0275template(12,L,3,3,"div",7),t.\u0275\u0275pipe(13,"async"),t.\u0275\u0275elementStart(14,"div"),t.\u0275\u0275template(15,P,3,3,"button",8),t.\u0275\u0275pipe(16,"async"),t.\u0275\u0275elementEnd()()()()),2&r){let d,h,b;t.\u0275\u0275advance(4),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(5,5,"admin.registries.metadata.head")),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(8,7,"admin.registries.metadata.description")),t.\u0275\u0275advance(3),t.\u0275\u0275property("ngIf",(null==(d=t.\u0275\u0275pipeBind1(11,9,s.metadataSchemas))||null==d.payload?null:d.payload.totalElements)>0),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngIf",0==(null==(h=t.\u0275\u0275pipeBind1(13,11,s.metadataSchemas))||null==h.payload?null:h.payload.totalElements)),t.\u0275\u0275advance(3),t.\u0275\u0275property("ngIf",(null==(b=t.\u0275\u0275pipeBind1(16,13,s.metadataSchemas))||null==b.payload||null==b.payload.page?null:b.payload.page.length)>0)}},directives:[Ie,A.O5,ee.Q,A.sg,A.mk,M.yS],pipes:[j.X$,A.Ov],styles:[".selectable-row[_ngcontent-%COMP%]:hover{cursor:pointer}"]}),c})();var X=o(9237),ne=o(41633),Q=o(43674);function ie(c,y){1&c&&t.\u0275\u0275element(0,"div")}function ve(c,y){if(1&c&&(t.\u0275\u0275elementStart(0,"h4"),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&c){const r=t.\u0275\u0275nextContext();t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(2,1,r.messagePrefix+".create"))}}function ye(c,y){if(1&c&&(t.\u0275\u0275elementStart(0,"h4"),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&c){const r=t.\u0275\u0275nextContext();t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(2,1,r.messagePrefix+".edit"))}}let ae=(()=>{class c{constructor(r,s,d){this.registryService=r,this.formBuilderService=s,this.translateService=d,this.formId="metadata-field-form",this.messagePrefix="admin.registries.schema.form",this.formLayout={element:{grid:{host:"col col-sm-6 d-inline-block"}},qualifier:{grid:{host:"col col-sm-6 d-inline-block"}},scopeNote:{grid:{host:"col col-sm-12 d-inline-block"}}},this.submitForm=new t.EventEmitter}ngOnInit(){(0,_.a)(this.translateService.get(`${this.messagePrefix}.element`),this.translateService.get(`${this.messagePrefix}.qualifier`),this.translateService.get(`${this.messagePrefix}.scopenote`)).subscribe(([r,s,d])=>{this.element=new U.b1u({id:"element",label:r,name:"element",validators:{required:null},required:!0}),this.qualifier=new U.b1u({id:"qualifier",label:s,name:"qualifier",required:!1}),this.scopeNote=new U.b1u({id:"scopeNote",label:d,name:"scopeNote",required:!1}),this.formModel=[new U.S_O({id:"metadatadatafieldgroup",group:[this.element,this.qualifier,this.scopeNote]})],this.formGroup=this.formBuilderService.createFormGroup(this.formModel),this.registryService.getActiveMetadataField().subscribe(h=>{this.formGroup.patchValue({metadatadatafieldgroup:{element:null!=h?h.element:"",qualifier:null!=h?h.qualifier:"",scopeNote:null!=h?h.scopeNote:""}})})})}onCancel(){this.registryService.cancelEditMetadataField()}onSubmit(){this.registryService.getActiveMetadataField().pipe((0,$.q)(1)).subscribe(r=>{const s={element:this.element.value,qualifier:this.qualifier.value,scopeNote:this.scopeNote.value};null==r?this.registryService.createMetadataField(Object.assign(new Q.b,s),this.metadataSchema).subscribe(d=>{this.submitForm.emit(d)}):this.registryService.updateMetadataField(Object.assign(new Q.b,r,{id:r.id,element:s.element?s.element:r.element,qualifier:s.qualifier?s.qualifier:r.qualifier,scopeNote:s.scopeNote?s.scopeNote:r.scopeNote})).subscribe(d=>{this.submitForm.emit(d)}),this.clearFields(),this.registryService.cancelEditMetadataField()})}clearFields(){this.formGroup.patchValue({metadatadatafieldgroup:{element:"",qualifier:"",scopeNote:""}})}ngOnDestroy(){this.onCancel()}}return c.\u0275fac=function(r){return new(r||c)(t.\u0275\u0275directiveInject(x.k),t.\u0275\u0275directiveInject(V.c),t.\u0275\u0275directiveInject(j.sK))},c.\u0275cmp=t.\u0275\u0275defineComponent({type:c,selectors:[["ds-metadata-field-form"]],inputs:{metadataSchema:"metadataSchema"},outputs:{submitForm:"submitForm"},decls:7,vars:9,consts:[[4,"ngIf","ngIfThen","ngIfElse"],["createHeader",""],["editheader",""],[3,"formId","formModel","formLayout","formGroup","cancel","submit"]],template:function(r,s){if(1&r&&(t.\u0275\u0275template(0,ie,1,0,"div",0),t.\u0275\u0275pipe(1,"async"),t.\u0275\u0275template(2,ve,3,3,"ng-template",null,1,t.\u0275\u0275templateRefExtractor),t.\u0275\u0275template(4,ye,3,3,"ng-template",null,2,t.\u0275\u0275templateRefExtractor),t.\u0275\u0275elementStart(6,"ds-form",3),t.\u0275\u0275listener("cancel",function(){return s.onCancel()})("submit",function(){return s.onSubmit()}),t.\u0275\u0275elementEnd()),2&r){const d=t.\u0275\u0275reference(3),h=t.\u0275\u0275reference(5);t.\u0275\u0275property("ngIf",t.\u0275\u0275pipeBind1(1,7,s.registryService.getActiveMetadataField()))("ngIfThen",h)("ngIfElse",d),t.\u0275\u0275advance(6),t.\u0275\u0275property("formId",s.formId)("formModel",s.formModel)("formLayout",s.formLayout)("formGroup",s.formGroup)}},directives:[A.O5,he.U,H.JL,H.sg],pipes:[A.Ov,j.X$],encapsulation:2}),c})();function Me(c,y){1&c&&(t.\u0275\u0275elementStart(0,"label"),t.\u0275\u0275text(1,"."),t.\u0275\u0275elementEnd())}const u=function(c){return{"table-primary":c}};function C(c,y){if(1&c){const r=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"tr",17),t.\u0275\u0275pipe(1,"async"),t.\u0275\u0275elementStart(2,"td")(3,"label")(4,"input",18),t.\u0275\u0275listener("change",function(d){const b=t.\u0275\u0275restoreView(r).$implicit;return t.\u0275\u0275nextContext(4).selectMetadataField(b,d)}),t.\u0275\u0275pipe(5,"async"),t.\u0275\u0275elementEnd()()(),t.\u0275\u0275elementStart(6,"td",19),t.\u0275\u0275listener("click",function(){const h=t.\u0275\u0275restoreView(r).$implicit;return t.\u0275\u0275nextContext(4).editField(h)}),t.\u0275\u0275text(7),t.\u0275\u0275template(8,Me,2,0,"label",20),t.\u0275\u0275text(9),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(10,"td",19),t.\u0275\u0275listener("click",function(){const h=t.\u0275\u0275restoreView(r).$implicit;return t.\u0275\u0275nextContext(4).editField(h)}),t.\u0275\u0275text(11),t.\u0275\u0275elementEnd()()}if(2&c){const r=y.$implicit,s=t.\u0275\u0275nextContext(3).ngVar,d=t.\u0275\u0275nextContext();t.\u0275\u0275property("ngClass",t.\u0275\u0275pureFunction1(11,u,t.\u0275\u0275pipeBind1(1,7,d.isActive(r)))),t.\u0275\u0275advance(4),t.\u0275\u0275property("checked",t.\u0275\u0275pipeBind1(5,9,d.isSelected(r))),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate2("",null==s?null:s.prefix,".",r.element,""),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",r.qualifier),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate(r.qualifier),t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate(r.scopeNote)}}function m(c,y){if(1&c&&(t.\u0275\u0275elementStart(0,"ds-pagination",12)(1,"div",13)(2,"table",14)(3,"thead")(4,"tr"),t.\u0275\u0275element(5,"th"),t.\u0275\u0275elementStart(6,"th",15),t.\u0275\u0275text(7),t.\u0275\u0275pipe(8,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(9,"th",15),t.\u0275\u0275text(10),t.\u0275\u0275pipe(11,"translate"),t.\u0275\u0275elementEnd()()(),t.\u0275\u0275elementStart(12,"tbody"),t.\u0275\u0275template(13,C,12,13,"tr",16),t.\u0275\u0275elementEnd()()()()),2&c){const r=t.\u0275\u0275nextContext().ngVar,s=t.\u0275\u0275nextContext(2);t.\u0275\u0275property("paginationOptions",s.config)("pageInfoState",r)("collectionSize",null==r?null:r.totalElements)("hideGear",!1)("hidePagerWhenSinglePage",!0),t.\u0275\u0275advance(7),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(8,8,"admin.registries.schema.fields.table.field")),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(11,10,"admin.registries.schema.fields.table.scopenote")),t.\u0275\u0275advance(3),t.\u0275\u0275property("ngForOf",null==r?null:r.page)}}function f(c,y){1&c&&(t.\u0275\u0275elementStart(0,"div",21),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&c&&(t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(2,1,"admin.registries.schema.fields.no-items")," "))}function g(c,y){if(1&c){const r=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"button",22),t.\u0275\u0275listener("click",function(){return t.\u0275\u0275restoreView(r),t.\u0275\u0275nextContext(3).deleteFields()}),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()}2&c&&(t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(2,1,"admin.registries.schema.fields.table.delete")))}const v=function(){return["/admin/registries/metadata"]};function w(c,y){if(1&c&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275template(1,m,14,12,"ds-pagination",8),t.\u0275\u0275template(2,f,3,3,"div",9),t.\u0275\u0275elementStart(3,"div")(4,"button",10),t.\u0275\u0275text(5),t.\u0275\u0275pipe(6,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275template(7,g,3,3,"button",11),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementContainerEnd()),2&c){const r=y.ngVar;t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",(null==r?null:r.totalElements)>0),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",0==(null==r?null:r.totalElements)),t.\u0275\u0275advance(2),t.\u0275\u0275property("routerLink",t.\u0275\u0275pureFunction0(7,v)),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(6,5,"admin.registries.schema.return")),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngIf",(null==r||null==r.page?null:r.page.length)>0)}}const D=function(c){return{namespace:c}};function Se(c,y){if(1&c){const r=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"div",3)(1,"h2",4),t.\u0275\u0275text(2),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(4,"p",5),t.\u0275\u0275text(5),t.\u0275\u0275pipe(6,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(7,"ds-metadata-field-form",6),t.\u0275\u0275listener("submitForm",function(){return t.\u0275\u0275restoreView(r),t.\u0275\u0275nextContext().forceUpdateFields()}),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(8,"h3"),t.\u0275\u0275text(9),t.\u0275\u0275pipe(10,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275template(11,w,8,8,"ng-container",7),t.\u0275\u0275pipe(12,"async"),t.\u0275\u0275elementEnd()}if(2&c){const r=y.ngVar,s=t.\u0275\u0275nextContext();let d;t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate2("",t.\u0275\u0275pipeBind1(3,6,"admin.registries.schema.head"),': "',null==r?null:r.prefix,'"'),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind2(6,8,"admin.registries.schema.description",t.\u0275\u0275pureFunction1(15,D,null==r?null:r.namespace))),t.\u0275\u0275advance(2),t.\u0275\u0275property("metadataSchema",r),t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(10,11,"admin.registries.schema.fields.head")),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngVar",null==(d=t.\u0275\u0275pipeBind1(12,13,s.metadataFields$))?null:d.payload)}}let Be=(()=>{class c{constructor(r,s,d,h,b,R){this.registryService=r,this.route=s,this.notificationsService=d,this.router=h,this.paginationService=b,this.translateService=R,this.config=Object.assign(new G.r,{id:"rm",pageSize:25,pageSizeOptions:[25,50,100,200]}),this.needsUpdate$=new B.X(!0)}ngOnInit(){this.route.params.subscribe(r=>{this.initialize(r)})}initialize(r){this.metadataSchema$=this.registryService.getMetadataSchemaByPrefix(r.schemaName).pipe((0,E.Gp)()),this.updateFields()}updateFields(){this.metadataFields$=this.paginationService.getCurrentPagination(this.config.id,this.config).pipe((0,K.w)(r=>(0,_.a)(this.metadataSchema$,this.needsUpdate$,(0,X.of)(r))),(0,K.w)(([r,s,d])=>(s&&this.needsUpdate$.next(!1),this.registryService.getMetadataFieldsBySchema(r,F(d),!s,!0))))}forceUpdateFields(){this.registryService.clearMetadataFieldRequests(),this.needsUpdate$.next(!0)}editField(r){this.getActiveField().pipe((0,$.q)(1)).subscribe(s=>{r===s?this.registryService.cancelEditMetadataField():this.registryService.editMetadataField(r)})}isActive(r){return this.getActiveField().pipe((0,T.U)(s=>r===s))}getActiveField(){return this.registryService.getActiveMetadataField()}selectMetadataField(r,s){s.target.checked?this.registryService.selectMetadataField(r):this.registryService.deselectMetadataField(r)}isSelected(r){return this.registryService.getSelectedMetadataFields().pipe((0,T.U)(s=>null!=s.find(d=>d===r)))}deleteFields(){this.registryService.getSelectedMetadataFields().pipe((0,$.q)(1)).subscribe(r=>{const s=[];for(const d of r)(0,J.Uh)(d.id)&&s.push(this.registryService.deleteMetadataField(d.id).pipe((0,E.hC)()));(0,N.$)(...s).subscribe(d=>{const h=d.filter(R=>R.hasSucceeded),b=d.filter(R=>R.hasFailed);h.length>0&&this.showNotification(!0,h.length),b.length>0&&this.showNotification(!1,b.length),this.registryService.deselectAllMetadataField(),this.registryService.cancelEditMetadataField()})})}showNotification(r,s){const d="admin.registries.schema.notification",h=r?"success":"failure";(0,_.a)(this.translateService.get(`${d}.${h}`),this.translateService.get(`${d}.field.deleted.${h}`,{amount:s})).subscribe(([R,ce])=>{r?this.notificationsService.success(R,ce):this.notificationsService.error(R,ce)})}ngOnDestroy(){this.paginationService.clearPagination(this.config.id)}}return c.\u0275fac=function(r){return new(r||c)(t.\u0275\u0275directiveInject(x.k),t.\u0275\u0275directiveInject(M.gz),t.\u0275\u0275directiveInject(e.T),t.\u0275\u0275directiveInject(M.F0),t.\u0275\u0275directiveInject(Y.N),t.\u0275\u0275directiveInject(j.sK))},c.\u0275cmp=t.\u0275\u0275defineComponent({type:c,selectors:[["ds-metadata-schema"]],decls:4,vars:3,consts:[[1,"container"],[1,"metadata-schema","row"],["class","col-12",4,"ngVar"],[1,"col-12"],["id","header",1,"border-bottom","pb-2"],["id","description",1,"pb-2"],[3,"metadataSchema","submitForm"],[4,"ngVar"],[3,"paginationOptions","pageInfoState","collectionSize","hideGear","hidePagerWhenSinglePage",4,"ngIf"],["class","alert alert-info w-100 mb-2","role","alert",4,"ngIf"],[1,"btn","btn-primary",3,"routerLink"],["type","submit","class","btn btn-danger float-right",3,"click",4,"ngIf"],[3,"paginationOptions","pageInfoState","collectionSize","hideGear","hidePagerWhenSinglePage"],[1,"table-responsive"],["id","metadata-fields",1,"table","table-striped","table-hover"],["scope","col"],[3,"ngClass",4,"ngFor","ngForOf"],[3,"ngClass"],["type","checkbox",3,"checked","change"],[1,"selectable-row",3,"click"],[4,"ngIf"],["role","alert",1,"alert","alert-info","w-100","mb-2"],["type","submit",1,"btn","btn-danger","float-right",3,"click"]],template:function(r,s){1&r&&(t.\u0275\u0275elementStart(0,"div",0)(1,"div",1),t.\u0275\u0275template(2,Se,13,17,"div",2),t.\u0275\u0275pipe(3,"async"),t.\u0275\u0275elementEnd()()),2&r&&(t.\u0275\u0275advance(2),t.\u0275\u0275property("ngVar",t.\u0275\u0275pipeBind1(3,1,s.metadataSchema$)))},directives:[ne.g,ae,A.O5,ee.Q,A.sg,A.mk,M.rH],pipes:[A.Ov,j.X$],styles:[".selectable-row[_ngcontent-%COMP%]:hover{cursor:pointer}"]}),c})();var z=o(64561),be=o(66109);let Ae=(()=>{class c{}return c.\u0275fac=function(r){return new(r||c)},c.\u0275mod=t.\u0275\u0275defineNgModule({type:c}),c.\u0275inj=t.\u0275\u0275defineInjector({imports:[[M.Bz.forChild([{path:"metadata",resolve:{breadcrumb:z.t},data:{title:"admin.registries.metadata.title",breadcrumbKey:"admin.registries.metadata"},children:[{path:"",component:te},{path:":schemaName",resolve:{breadcrumb:z.t},component:Be,data:{title:"admin.registries.schema.title",breadcrumbKey:"admin.registries.schema"}}]},{path:be.T,resolve:{breadcrumb:z.t},loadChildren:()=>Promise.resolve().then(o.bind(o,24562)).then(y=>y.BitstreamFormatsModule),data:{title:"admin.registries.bitstream-formats.title",breadcrumbKey:"admin.registries.bitstream-formats"}}])]]}),c})();var we=o(66004),Te=o(24562),q=o(48197);let Re=(()=>{class c{}return c.\u0275fac=function(r){return new(r||c)},c.\u0275mod=t.\u0275\u0275defineNgModule({type:c}),c.\u0275inj=t.\u0275\u0275defineInjector({imports:[[A.ez,we.m,M.Bz,Te.BitstreamFormatsModule,Ae,q.e]]}),c})()},24562:(Ee,W,o)=>{o.r(W),o.d(W,{BitstreamFormatsModule:()=>Me});var x=o(10210),B=o(37895),N=o(66004),_=o(65820),G=o(5496),n=o(70074);let K=(()=>{class u{constructor(m){this.bitstreamFormatDataService=m}resolve(m,f){return this.bitstreamFormatDataService.findById(m.params.id).pipe((0,G.hC)())}}return u.\u0275fac=function(m){return new(m||u)(n.\u0275\u0275inject(_.O))},u.\u0275prov=n.\u0275\u0275defineInjectable({token:u,factory:u.\u0275fac}),u})();var $=o(48358),T=o(16228),J=o(66109),e=o(86553),k=o(25818),F=o(43963),E=o(59492),Y=o(25839),t=o(61792);function M(u,C){if(1&u){const m=n.\u0275\u0275getCurrentView();n.\u0275\u0275elementStart(0,"ds-form",1),n.\u0275\u0275listener("submitForm",function(){return n.\u0275\u0275restoreView(m),n.\u0275\u0275nextContext().onSubmit()})("cancel",function(){return n.\u0275\u0275restoreView(m),n.\u0275\u0275nextContext().onCancel()}),n.\u0275\u0275elementEnd()}if(2&u){const m=n.\u0275\u0275nextContext();n.\u0275\u0275property("formId","comcol-form-id")("formModel",m.formModel)}}let j=(()=>{class u{constructor(m,f,g){this.dynamicFormService=m,this.translateService=f,this.router=g,this.bitstreamFormat=new k.A,this.updatedFormat=new n.EventEmitter,this.supportLevelOptions=[{label:F.o.Known,value:F.o.Known},{label:F.o.Unknown,value:F.o.Unknown},{label:F.o.Supported,value:F.o.Supported}],this.arrayElementLayout={grid:{group:"form-row"}},this.arrayInputElementLayout={grid:{host:"col"}},this.formModel=[new E.b1u({id:"shortDescription",name:"shortDescription",label:"admin.registries.bitstream-formats.edit.shortDescription.label",hint:"admin.registries.bitstream-formats.edit.shortDescription.hint",required:!0,validators:{required:null},errorMessages:{required:"Please enter a name for this bitstream format"}}),new E.b1u({id:"mimetype",name:"mimetype",label:"admin.registries.bitstream-formats.edit.mimetype.label",hint:"admin.registries.bitstream-formats.edit.mimetype.hint"}),new E.HBf({id:"description",name:"description",label:"admin.registries.bitstream-formats.edit.description.label",hint:"admin.registries.bitstream-formats.edit.description.hint"}),new E.nMt({id:"supportLevel",name:"supportLevel",options:this.supportLevelOptions,label:"admin.registries.bitstream-formats.edit.supportLevel.label",hint:"admin.registries.bitstream-formats.edit.supportLevel.hint",value:this.supportLevelOptions[0].value}),new E.dwp({id:"internal",name:"internal",label:"Internal",hint:"admin.registries.bitstream-formats.edit.internal.hint"}),new E.RRz({id:"extensions",name:"extensions",label:"admin.registries.bitstream-formats.edit.extensions.label",groupFactory:()=>[new E.b1u({id:"extension",placeholder:"admin.registries.bitstream-formats.edit.extensions.placeholder"},this.arrayInputElementLayout)]},this.arrayElementLayout)]}ngOnInit(){this.initValues()}initValues(){this.formModel.forEach(m=>{if("extensions"===m.name){if((0,Y.Uh)(this.bitstreamFormat.extensions)){const f=this.bitstreamFormat.extensions,g=m;for(let v=0;v<f.length;v++)g.insertGroup(v).group[0]=new E.b1u({id:`extension-${v}`,value:f[v]},this.arrayInputElementLayout)}}else(0,Y.Uh)(this.bitstreamFormat[m.name])&&(m.value=this.bitstreamFormat[m.name])})}onSubmit(){const m=Object.assign(new k.A,{id:this.bitstreamFormat.id});this.formModel.forEach(f=>{if("extensions"===f.name){const g=f,v=[];for(let w=0;w<g.groups.length;w++){const D=g.get(w).get(0).value;(0,Y.xb)(D)||v.push(g.get(w).get(0).value)}m.extensions=v}else m[f.name]=f.value}),this.updatedFormat.emit(m)}onCancel(){this.router.navigate([(0,J.e)()])}}return u.\u0275fac=function(m){return new(m||u)(n.\u0275\u0275directiveInject(E.w1X),n.\u0275\u0275directiveInject(e.sK),n.\u0275\u0275directiveInject(B.F0))},u.\u0275cmp=n.\u0275\u0275defineComponent({type:u,selectors:[["ds-bitstream-format-form"]],inputs:{bitstreamFormat:"bitstreamFormat"},outputs:{updatedFormat:"updatedFormat"},decls:1,vars:1,consts:[[3,"formId","formModel","submitForm","cancel",4,"ngIf"],[3,"formId","formModel","submitForm","cancel"]],template:function(m,f){1&m&&n.\u0275\u0275template(0,M,1,2,"ds-form",0),2&m&&n.\u0275\u0275property("ngIf",f.formModel)},directives:[x.O5,t.U],encapsulation:2}),u})();const U=function(u){return{format:u}};let V=(()=>{class u{constructor(m,f,g,v,w){this.route=m,this.router=f,this.notificationService=g,this.translateService=v,this.bitstreamFormatDataService=w}ngOnInit(){this.bitstreamFormatRD$=this.route.data.pipe((0,$.U)(m=>m.bitstreamFormat))}updateFormat(m){this.bitstreamFormatDataService.updateBitstreamFormat(m).pipe((0,G.hC)()).subscribe(f=>{f.hasSucceeded?(this.notificationService.success(this.translateService.get("admin.registries.bitstream-formats.edit.success.head"),this.translateService.get("admin.registries.bitstream-formats.edit.success.content")),this.router.navigate([(0,J.e)()])):this.notificationService.error("admin.registries.bitstream-formats.edit.failure.head","admin.registries.bitstream-formats.create.edit.content")})}}return u.\u0275fac=function(m){return new(m||u)(n.\u0275\u0275directiveInject(B.gz),n.\u0275\u0275directiveInject(B.F0),n.\u0275\u0275directiveInject(T.T),n.\u0275\u0275directiveInject(e.sK),n.\u0275\u0275directiveInject(_.O))},u.\u0275cmp=n.\u0275\u0275defineComponent({type:u,selectors:[["ds-edit-bitstream-format"]],decls:9,vars:11,consts:[[1,"container"],[1,"row"],[1,"col-12","mb-4"],["id","sub-header",1,"border-bottom","mb-2"],[3,"bitstreamFormat","updatedFormat"]],template:function(m,f){if(1&m&&(n.\u0275\u0275elementStart(0,"div",0)(1,"div",1)(2,"div",2)(3,"h2",3),n.\u0275\u0275text(4),n.\u0275\u0275pipe(5,"translate"),n.\u0275\u0275pipe(6,"async"),n.\u0275\u0275elementEnd(),n.\u0275\u0275elementStart(7,"ds-bitstream-format-form",4),n.\u0275\u0275listener("updatedFormat",function(v){return f.updateFormat(v)}),n.\u0275\u0275pipe(8,"async"),n.\u0275\u0275elementEnd()()()()),2&m){let g,v;n.\u0275\u0275advance(4),n.\u0275\u0275textInterpolate(n.\u0275\u0275pipeBind2(5,2,"admin.registries.bitstream-formats.edit.head",n.\u0275\u0275pureFunction1(9,U,null==(g=n.\u0275\u0275pipeBind1(6,5,f.bitstreamFormatRD$))?null:g.payload.shortDescription))),n.\u0275\u0275advance(3),n.\u0275\u0275property("bitstreamFormat",null==(v=n.\u0275\u0275pipeBind1(8,7,f.bitstreamFormatRD$))?null:v.payload)}},directives:[j],pipes:[e.X$,x.Ov],encapsulation:2}),u})();var fe=o(53426),A=o(98865),he=o(77176),H=o(69637),Ce=o(91519),_e=o(21160),ge=o(57854),Ie=o(30292),ee=o(99292);function xe(u,C){1&u&&(n.\u0275\u0275elementStart(0,"span"),n.\u0275\u0275text(1),n.\u0275\u0275pipe(2,"translate"),n.\u0275\u0275elementEnd()),2&u&&(n.\u0275\u0275advance(1),n.\u0275\u0275textInterpolate1("(",n.\u0275\u0275pipeBind1(2,1,"admin.registries.bitstream-formats.table.internal"),")"))}const Z=function(u){return["/admin/registries/bitstream-formats",u,"edit"]};function Fe(u,C){if(1&u){const m=n.\u0275\u0275getCurrentView();n.\u0275\u0275elementStart(0,"tr")(1,"td")(2,"label")(3,"input",16),n.\u0275\u0275listener("change",function(g){const w=n.\u0275\u0275restoreView(m).$implicit;return n.\u0275\u0275nextContext(2).selectBitStreamFormat(w,g)}),n.\u0275\u0275pipe(4,"async"),n.\u0275\u0275elementEnd()()(),n.\u0275\u0275elementStart(5,"td")(6,"a",17),n.\u0275\u0275text(7),n.\u0275\u0275elementEnd()(),n.\u0275\u0275elementStart(8,"td")(9,"a",17),n.\u0275\u0275text(10),n.\u0275\u0275template(11,xe,3,3,"span",18),n.\u0275\u0275elementEnd()(),n.\u0275\u0275elementStart(12,"td")(13,"a",17),n.\u0275\u0275text(14),n.\u0275\u0275pipe(15,"translate"),n.\u0275\u0275elementEnd()()()}if(2&u){const m=C.$implicit,f=n.\u0275\u0275nextContext(2);n.\u0275\u0275advance(3),n.\u0275\u0275property("checked",n.\u0275\u0275pipeBind1(4,8,f.isSelected(m))),n.\u0275\u0275advance(3),n.\u0275\u0275property("routerLink",n.\u0275\u0275pureFunction1(12,Z,m.id)),n.\u0275\u0275advance(1),n.\u0275\u0275textInterpolate(m.shortDescription),n.\u0275\u0275advance(2),n.\u0275\u0275property("routerLink",n.\u0275\u0275pureFunction1(14,Z,m.id)),n.\u0275\u0275advance(1),n.\u0275\u0275textInterpolate1("",m.mimetype," "),n.\u0275\u0275advance(1),n.\u0275\u0275property("ngIf",m.internal),n.\u0275\u0275advance(2),n.\u0275\u0275property("routerLink",n.\u0275\u0275pureFunction1(16,Z,m.id)),n.\u0275\u0275advance(1),n.\u0275\u0275textInterpolate(n.\u0275\u0275pipeBind1(15,10,"admin.registries.bitstream-formats.table.supportLevel."+m.supportLevel))}}function O(u,C){if(1&u&&(n.\u0275\u0275elementStart(0,"ds-pagination",11),n.\u0275\u0275pipe(1,"async"),n.\u0275\u0275pipe(2,"async"),n.\u0275\u0275elementStart(3,"div",12)(4,"table",13)(5,"thead")(6,"tr"),n.\u0275\u0275element(7,"th",14),n.\u0275\u0275elementStart(8,"th",14),n.\u0275\u0275text(9),n.\u0275\u0275pipe(10,"translate"),n.\u0275\u0275elementEnd(),n.\u0275\u0275elementStart(11,"th",14),n.\u0275\u0275text(12),n.\u0275\u0275pipe(13,"translate"),n.\u0275\u0275elementEnd(),n.\u0275\u0275elementStart(14,"th",14),n.\u0275\u0275text(15),n.\u0275\u0275pipe(16,"translate"),n.\u0275\u0275elementEnd()()(),n.\u0275\u0275elementStart(17,"tbody"),n.\u0275\u0275template(18,Fe,16,18,"tr",15),n.\u0275\u0275pipe(19,"async"),n.\u0275\u0275elementEnd()()()()),2&u){const m=n.\u0275\u0275nextContext();let f,g,v;n.\u0275\u0275property("paginationOptions",m.pageConfig)("pageInfoState",null==(f=n.\u0275\u0275pipeBind1(1,9,m.bitstreamFormats))?null:f.payload)("collectionSize",null==(g=n.\u0275\u0275pipeBind1(2,11,m.bitstreamFormats))||null==g.payload?null:g.payload.totalElements)("hideGear",!0)("hidePagerWhenSinglePage",!0),n.\u0275\u0275advance(9),n.\u0275\u0275textInterpolate(n.\u0275\u0275pipeBind1(10,13,"admin.registries.bitstream-formats.table.name")),n.\u0275\u0275advance(3),n.\u0275\u0275textInterpolate(n.\u0275\u0275pipeBind1(13,15,"admin.registries.bitstream-formats.table.mimetype")),n.\u0275\u0275advance(3),n.\u0275\u0275textInterpolate(n.\u0275\u0275pipeBind1(16,17,"admin.registries.bitstream-formats.table.supportLevel.head")),n.\u0275\u0275advance(3),n.\u0275\u0275property("ngForOf",null==(v=n.\u0275\u0275pipeBind1(19,19,m.bitstreamFormats))||null==v.payload?null:v.payload.page)}}function L(u,C){1&u&&(n.\u0275\u0275elementStart(0,"div",19),n.\u0275\u0275text(1),n.\u0275\u0275pipe(2,"translate"),n.\u0275\u0275elementEnd()),2&u&&(n.\u0275\u0275advance(1),n.\u0275\u0275textInterpolate1(" ",n.\u0275\u0275pipeBind1(2,1,"admin.registries.bitstream-formats.no-items")," "))}function P(u,C){if(1&u){const m=n.\u0275\u0275getCurrentView();n.\u0275\u0275elementStart(0,"button",20),n.\u0275\u0275listener("click",function(){return n.\u0275\u0275restoreView(m),n.\u0275\u0275nextContext().deselectAll()}),n.\u0275\u0275text(1),n.\u0275\u0275pipe(2,"translate"),n.\u0275\u0275elementEnd()}2&u&&(n.\u0275\u0275advance(1),n.\u0275\u0275textInterpolate(n.\u0275\u0275pipeBind1(2,1,"admin.registries.bitstream-formats.table.deselect-all")))}function te(u,C){if(1&u){const m=n.\u0275\u0275getCurrentView();n.\u0275\u0275elementStart(0,"button",21),n.\u0275\u0275listener("click",function(){return n.\u0275\u0275restoreView(m),n.\u0275\u0275nextContext().deleteFormats()}),n.\u0275\u0275text(1),n.\u0275\u0275pipe(2,"translate"),n.\u0275\u0275elementEnd()}2&u&&(n.\u0275\u0275advance(1),n.\u0275\u0275textInterpolate(n.\u0275\u0275pipeBind1(2,1,"admin.registries.bitstream-formats.table.delete")))}let X=(()=>{class u{constructor(m,f,g,v,w){this.notificationsService=m,this.router=f,this.translateService=g,this.bitstreamFormatService=v,this.paginationService=w,this.config=Object.assign(new Ie.R,{elementsPerPage:20}),this.pageConfig=Object.assign(new A.r,{id:"rbp",pageSize:20})}deleteFormats(){this.bitstreamFormatService.clearBitStreamFormatRequests(),this.bitstreamFormatService.getSelectedBitstreamFormats().pipe((0,he.q)(1),(0,H.z)(m=>m),(0,H.z)(m=>this.bitstreamFormatService.delete(m.id).pipe((0,G.hC)(),(0,$.U)(f=>f.hasSucceeded))),(0,Ce.q)()).subscribe(m=>{const f=m.filter(v=>v),g=m.filter(v=>!v);f.length>0&&this.showNotification(!0,f.length),g.length>0&&this.showNotification(!1,g.length),this.deselectAll(),this.paginationService.resetPage(this.pageConfig.id)})}deselectAll(){this.bitstreamFormatService.deselectAllBitstreamFormats()}isSelected(m){return this.bitstreamFormatService.getSelectedBitstreamFormats().pipe((0,$.U)(f=>null!=f.find(g=>g.id===m.id)))}selectBitStreamFormat(m,f){f.target.checked?this.bitstreamFormatService.selectBitstreamFormat(m):this.bitstreamFormatService.deselectBitstreamFormat(m)}showNotification(m,f){const g="admin.registries.bitstream-formats.delete",v=m?"success":"failure";(0,fe.a)(this.translateService.get(`${g}.${v}.head`),this.translateService.get(`${g}.${v}.amount`,{amount:f})).subscribe(([D,Se])=>{m?this.notificationsService.success(D,Se):this.notificationsService.error(D,Se)})}ngOnInit(){this.bitstreamFormats=this.paginationService.getFindListOptions(this.pageConfig.id,this.config).pipe((0,_e.w)(m=>this.bitstreamFormatService.findAll(m)))}ngOnDestroy(){this.paginationService.clearPagination(this.pageConfig.id)}}return u.\u0275fac=function(m){return new(m||u)(n.\u0275\u0275directiveInject(T.T),n.\u0275\u0275directiveInject(B.F0),n.\u0275\u0275directiveInject(e.sK),n.\u0275\u0275directiveInject(_.O),n.\u0275\u0275directiveInject(ge.N))},u.\u0275cmp=n.\u0275\u0275defineComponent({type:u,selectors:[["ds-bitstream-formats"]],decls:22,vars:22,consts:[[1,"container"],[1,"bitstream-formats","row"],[1,"col-12"],["id","header",1,"border-bottom","pb-2"],["id","description"],["id","create-new",1,"mb-2"],[1,"btn","btn-success",3,"routerLink"],[3,"paginationOptions","pageInfoState","collectionSize","hideGear","hidePagerWhenSinglePage",4,"ngIf"],["class","alert alert-info","role","alert",4,"ngIf"],["class","btn btn-primary deselect",3,"click",4,"ngIf"],["type","submit","class","btn btn-danger float-right",3,"click",4,"ngIf"],[3,"paginationOptions","pageInfoState","collectionSize","hideGear","hidePagerWhenSinglePage"],[1,"table-responsive"],["id","formats",1,"table","table-striped","table-hover"],["scope","col"],[4,"ngFor","ngForOf"],["type","checkbox",3,"checked","change"],[3,"routerLink"],[4,"ngIf"],["role","alert",1,"alert","alert-info"],[1,"btn","btn-primary","deselect",3,"click"],["type","submit",1,"btn","btn-danger","float-right",3,"click"]],template:function(m,f){if(1&m&&(n.\u0275\u0275elementStart(0,"div",0)(1,"div",1)(2,"div",2)(3,"h2",3),n.\u0275\u0275text(4),n.\u0275\u0275pipe(5,"translate"),n.\u0275\u0275elementEnd(),n.\u0275\u0275elementStart(6,"p",4),n.\u0275\u0275text(7),n.\u0275\u0275pipe(8,"translate"),n.\u0275\u0275elementEnd(),n.\u0275\u0275elementStart(9,"p",5)(10,"a",6),n.\u0275\u0275text(11),n.\u0275\u0275pipe(12,"translate"),n.\u0275\u0275elementEnd()(),n.\u0275\u0275template(13,O,20,21,"ds-pagination",7),n.\u0275\u0275pipe(14,"async"),n.\u0275\u0275template(15,L,3,3,"div",8),n.\u0275\u0275pipe(16,"async"),n.\u0275\u0275elementStart(17,"div"),n.\u0275\u0275template(18,P,3,3,"button",9),n.\u0275\u0275pipe(19,"async"),n.\u0275\u0275template(20,te,3,3,"button",10),n.\u0275\u0275pipe(21,"async"),n.\u0275\u0275elementEnd()()()()),2&m){let g,v,w,D;n.\u0275\u0275advance(4),n.\u0275\u0275textInterpolate(n.\u0275\u0275pipeBind1(5,8,"admin.registries.bitstream-formats.head")),n.\u0275\u0275advance(3),n.\u0275\u0275textInterpolate(n.\u0275\u0275pipeBind1(8,10,"admin.registries.bitstream-formats.description")),n.\u0275\u0275advance(3),n.\u0275\u0275property("routerLink","add"),n.\u0275\u0275advance(1),n.\u0275\u0275textInterpolate(n.\u0275\u0275pipeBind1(12,12,"admin.registries.bitstream-formats.create.new")),n.\u0275\u0275advance(2),n.\u0275\u0275property("ngIf",(null==(g=n.\u0275\u0275pipeBind1(14,14,f.bitstreamFormats))||null==g.payload?null:g.payload.totalElements)>0),n.\u0275\u0275advance(2),n.\u0275\u0275property("ngIf",0==(null==(v=n.\u0275\u0275pipeBind1(16,16,f.bitstreamFormats))||null==v.payload?null:v.payload.totalElements)),n.\u0275\u0275advance(3),n.\u0275\u0275property("ngIf",(null==(w=n.\u0275\u0275pipeBind1(19,18,f.bitstreamFormats))||null==w.payload||null==w.payload.page?null:w.payload.page.length)>0),n.\u0275\u0275advance(2),n.\u0275\u0275property("ngIf",(null==(D=n.\u0275\u0275pipeBind1(21,20,f.bitstreamFormats))||null==D.payload||null==D.payload.page?null:D.payload.page.length)>0)}},directives:[B.yS,x.O5,ee.Q,x.sg],pipes:[e.X$,x.Ov],encapsulation:2}),u})(),ne=(()=>{class u{constructor(m,f,g,v){this.router=m,this.notificationService=f,this.translateService=g,this.bitstreamFormatDataService=v}createBitstreamFormat(m){this.bitstreamFormatDataService.createBitstreamFormat(m).pipe((0,G.hC)()).subscribe(f=>{f.hasSucceeded?(this.notificationService.success(this.translateService.get("admin.registries.bitstream-formats.create.success.head"),this.translateService.get("admin.registries.bitstream-formats.create.success.content")),this.router.navigate([(0,J.e)()]),this.bitstreamFormatDataService.clearBitStreamFormatRequests().subscribe()):this.notificationService.error(this.translateService.get("admin.registries.bitstream-formats.create.failure.head"),this.translateService.get("admin.registries.bitstream-formats.create.failure.content"))})}}return u.\u0275fac=function(m){return new(m||u)(n.\u0275\u0275directiveInject(B.F0),n.\u0275\u0275directiveInject(T.T),n.\u0275\u0275directiveInject(e.sK),n.\u0275\u0275directiveInject(_.O))},u.\u0275cmp=n.\u0275\u0275defineComponent({type:u,selectors:[["ds-add-bitstream-format"]],decls:7,vars:3,consts:[[1,"container"],[1,"row"],[1,"col-12","mb-4"],["id","sub-header",1,"border-bottom","mb-2"],[3,"updatedFormat"]],template:function(m,f){1&m&&(n.\u0275\u0275elementStart(0,"div",0)(1,"div",1)(2,"div",2)(3,"h2",3),n.\u0275\u0275text(4),n.\u0275\u0275pipe(5,"translate"),n.\u0275\u0275elementEnd(),n.\u0275\u0275elementStart(6,"ds-bitstream-format-form",4),n.\u0275\u0275listener("updatedFormat",function(v){return f.createBitstreamFormat(v)}),n.\u0275\u0275elementEnd()()()()),2&m&&(n.\u0275\u0275advance(4),n.\u0275\u0275textInterpolate(n.\u0275\u0275pipeBind1(5,1,"admin.registries.bitstream-formats.create.new")))},directives:[j],pipes:[e.X$],encapsulation:2}),u})();var Q=o(64561);let ye=(()=>{class u{}return u.\u0275fac=function(m){return new(m||u)},u.\u0275mod=n.\u0275\u0275defineNgModule({type:u}),u.\u0275inj=n.\u0275\u0275defineInjector({providers:[K],imports:[[B.Bz.forChild([{path:"",component:X},{path:"add",resolve:{breadcrumb:Q.t},component:ne,data:{breadcrumbKey:"admin.registries.bitstream-formats.create"}},{path:":id/edit",component:V,resolve:{bitstreamFormat:K,breadcrumb:Q.t},data:{breadcrumbKey:"admin.registries.bitstream-formats.edit"}}])]]}),u})();var ae=o(48197);let Me=(()=>{class u{}return u.\u0275fac=function(m){return new(m||u)},u.\u0275mod=n.\u0275\u0275defineNgModule({type:u}),u.\u0275inj=n.\u0275\u0275defineInjector({imports:[[x.ez,N.m,B.Bz,ye,ae.e]]}),u})()},71462:(Ee,W,o)=>{o.d(W,{B:()=>N,T:()=>_});var x=o(69810),B=o(61562);const N="registries";function _(){return new x.R((0,B.V5)(),N).toString()}},75272:(Ee,W,o)=>{o.r(W),o.d(W,{AdminModule:()=>ut});var x=o(66004),B=o(59575),N=o(98917),_=o(37895),G=o(97965),n=o(85357),K=o(25839),$=o(16228),T=o(5496),J=o(67809),e=o(70074),k=o(10210),F=o(86553),E=o(45028),Y=o(41464);let t=(()=>{class i{constructor(a,p,S,I,Oe){this.location=a,this.translate=p,this.notificationsService=S,this.scriptDataService=I,this.router=Oe,this.validateOnly=!0}setFile(a){this.fileObject=a}onReturn(){this.location.back()}importMetadata(){if(null==this.fileObject)this.notificationsService.error(this.translate.get("admin.metadata-import.page.error.addFile"));else{const a=[Object.assign(new n.N,{name:"-f",value:this.fileObject.name})];this.validateOnly&&a.push(Object.assign(new n.N,{name:"-v",value:!0})),this.scriptDataService.invoke(G.As,a,[this.fileObject]).pipe((0,T.hC)()).subscribe(p=>{if(p.hasSucceeded){const S=this.translate.get("process.new.notification.success.title"),I=this.translate.get("process.new.notification.success.content");this.notificationsService.success(S,I),(0,K.UE)(p.payload)&&this.router.navigateByUrl((0,J.Ah)(p.payload.processId))}else{const S=this.translate.get("process.new.notification.error.title"),I=this.translate.get("process.new.notification.error.content");this.notificationsService.error(S,I)}})}}}return i.\u0275fac=function(a){return new(a||i)(e.\u0275\u0275directiveInject(k.Ye),e.\u0275\u0275directiveInject(F.sK),e.\u0275\u0275directiveInject($.T),e.\u0275\u0275directiveInject(G.UY),e.\u0275\u0275directiveInject(_.F0))},i.\u0275cmp=e.\u0275\u0275defineComponent({type:i,selectors:[["ds-metadata-import-page"]],decls:24,vars:21,consts:[[1,"container"],["id","header"],[1,"form-group"],[1,"form-check"],["type","checkbox","id","validateOnly",1,"form-check-input",3,"ngModel","ngModelChange"],["for","validateOnly",1,"form-check-label"],["id","validateOnlyHelpBlock",1,"form-text","text-muted"],[3,"dropMessageLabel","dropMessageLabelReplacement","onFileAdded"],[1,"space-children-mr"],["id","backButton",1,"btn","btn-secondary",3,"click"],["id","proceedButton",1,"btn","btn-primary",3,"click"]],template:function(a,p){1&a&&(e.\u0275\u0275elementStart(0,"div",0)(1,"h2",1),e.\u0275\u0275text(2),e.\u0275\u0275pipe(3,"translate"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(4,"p"),e.\u0275\u0275text(5),e.\u0275\u0275pipe(6,"translate"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(7,"div",2)(8,"div",3)(9,"input",4),e.\u0275\u0275listener("ngModelChange",function(I){return p.validateOnly=I}),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(10,"label",5),e.\u0275\u0275text(11),e.\u0275\u0275pipe(12,"translate"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(13,"small",6),e.\u0275\u0275text(14),e.\u0275\u0275pipe(15,"translate"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(16,"ds-file-dropzone-no-uploader",7),e.\u0275\u0275listener("onFileAdded",function(I){return p.setFile(I)}),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(17,"div",8)(18,"button",9),e.\u0275\u0275listener("click",function(){return p.onReturn()}),e.\u0275\u0275text(19),e.\u0275\u0275pipe(20,"translate"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(21,"button",10),e.\u0275\u0275listener("click",function(){return p.importMetadata()}),e.\u0275\u0275text(22),e.\u0275\u0275pipe(23,"translate"),e.\u0275\u0275elementEnd()()()),2&a&&(e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(3,9,"admin.metadata-import.page.header")),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(6,11,"admin.metadata-import.page.help")),e.\u0275\u0275advance(4),e.\u0275\u0275property("ngModel",p.validateOnly),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(12,13,"admin.metadata-import.page.validateOnly")," "),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(15,15,"admin.metadata-import.page.validateOnly.hint")," "),e.\u0275\u0275advance(2),e.\u0275\u0275property("dropMessageLabel","admin.metadata-import.page.dropMsg")("dropMessageLabelReplacement","admin.metadata-import.page.dropMsgReplace"),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(20,17,"admin.metadata-import.page.button.return")),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(23,19,"admin.metadata-import.page.button.proceed")))},directives:[E.Wl,E.JJ,E.On,Y.n],pipes:[F.X$],encapsulation:2}),i})();var M=o(10364),j=o(94719);let U=(()=>{class i{constructor(){this.context=M._.AdminSearch}}return i.\u0275fac=function(a){return new(a||i)},i.\u0275cmp=e.\u0275\u0275defineComponent({type:i,selectors:[["ds-admin-search-page"]],decls:1,vars:1,consts:[["configuration","administrativeView",3,"context"]],template:function(a,p){1&a&&e.\u0275\u0275element(0,"ds-configuration-search-page",0),2&a&&e.\u0275\u0275property("context",p.context)},directives:[j.ConfigurationSearchPageComponent],styles:[""]}),i})();var V=o(64561);let fe=(()=>{class i{constructor(){this.context=M._.AdminWorkflowSearch}}return i.\u0275fac=function(a){return new(a||i)},i.\u0275cmp=e.\u0275\u0275defineComponent({type:i,selectors:[["ds-admin-workflow-page"]],decls:1,vars:1,consts:[["configuration","workflowAdmin",3,"context"]],template:function(a,p){1&a&&e.\u0275\u0275element(0,"ds-configuration-search-page",0),2&a&&e.\u0275\u0275property("context",p.context)},directives:[j.ConfigurationSearchPageComponent],styles:[""]}),i})();var A=o(17241),he=o(12141);let H=(()=>{class i{}return i.\u0275fac=function(a){return new(a||i)},i.\u0275cmp=e.\u0275\u0275defineComponent({type:i,selectors:[["ds-admin-curation-task"]],decls:5,vars:3,consts:[[1,"container"]],template:function(a,p){1&a&&(e.\u0275\u0275elementStart(0,"div",0)(1,"h2"),e.\u0275\u0275text(2),e.\u0275\u0275pipe(3,"translate"),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(4,"ds-curation-form"),e.\u0275\u0275elementEnd()),2&a&&(e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(3,1,"admin.curation-tasks.header")))},directives:[he._],pipes:[F.X$],encapsulation:2}),i})();var Ce=o(71462),_e=o(80189),ge=o(77176),Ie=o(35053),ee=o(53043);function xe(i,l){if(1&i){const a=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"p"),e.\u0275\u0275text(1," selected collection: "),e.\u0275\u0275elementStart(2,"b"),e.\u0275\u0275text(3),e.\u0275\u0275elementEnd(),e.\u0275\u0275text(4,"\xa0 "),e.\u0275\u0275elementStart(5,"a",13),e.\u0275\u0275listener("click",function(){return e.\u0275\u0275restoreView(a),e.\u0275\u0275nextContext().removeDspaceObject()}),e.\u0275\u0275text(6),e.\u0275\u0275pipe(7,"translate"),e.\u0275\u0275elementEnd()()}if(2&i){const a=e.\u0275\u0275nextContext();e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(a.getDspaceObjectName()),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(7,2,"admin.batch-import.page.remove"))}}let Z=(()=>{class i{constructor(a,p,S,I,Oe,ft,ht){this.location=a,this.translate=p,this.notificationsService=S,this.scriptDataService=I,this.router=Oe,this.modalService=ft,this.dsoNameService=ht,this.validateOnly=!0,this.dso=null}setFile(a){this.fileObject=a}onReturn(){this.location.back()}selectCollection(){this.modalService.open(_e.w).componentInstance.response.pipe((0,ge.q)(1)).subscribe(p=>{this.dso=p||null})}importMetadata(){if(null==this.fileObject)this.notificationsService.error(this.translate.get("admin.metadata-import.page.error.addFile"));else{const a=[Object.assign(new n.N,{name:"--zip",value:this.fileObject.name}),Object.assign(new n.N,{name:"--add"})];this.dso&&a.push(Object.assign(new n.N,{name:"--collection",value:this.dso.uuid})),this.validateOnly&&a.push(Object.assign(new n.N,{name:"-v",value:!0})),this.scriptDataService.invoke(G.rI,a,[this.fileObject]).pipe((0,T.hC)()).subscribe(p=>{if(p.hasSucceeded){const S=this.translate.get("process.new.notification.success.title"),I=this.translate.get("process.new.notification.success.content");this.notificationsService.success(S,I),(0,K.UE)(p.payload)&&this.router.navigateByUrl((0,J.Ah)(p.payload.processId))}else{const S=this.translate.get("process.new.notification.error.title"),I=this.translate.get("process.new.notification.error.content");this.notificationsService.error(S,I)}})}}getDspaceObjectName(){return this.dso?this.dsoNameService.getName(this.dso):null}removeDspaceObject(){this.dso=null}}return i.\u0275fac=function(a){return new(a||i)(e.\u0275\u0275directiveInject(k.Ye),e.\u0275\u0275directiveInject(F.sK),e.\u0275\u0275directiveInject($.T),e.\u0275\u0275directiveInject(G.UY),e.\u0275\u0275directiveInject(_.F0),e.\u0275\u0275directiveInject(Ie.FF),e.\u0275\u0275directiveInject(ee._))},i.\u0275cmp=e.\u0275\u0275defineComponent({type:i,selectors:[["ds-batch-import-page"]],decls:29,vars:25,consts:[[1,"container"],["id","header"],[4,"ngIf"],[1,"btn","btn-primary",3,"click"],[1,"form-group"],[1,"form-check"],["type","checkbox","id","validateOnly",1,"form-check-input",3,"ngModel","ngModelChange"],["for","validateOnly",1,"form-check-label"],["id","validateOnlyHelpBlock",1,"form-text","text-muted"],[3,"dropMessageLabel","dropMessageLabelReplacement","onFileAdded"],[1,"space-children-mr"],["id","backButton",1,"btn","btn-secondary",3,"click"],["id","proceedButton",1,"btn","btn-primary",3,"click"],["href","javascript:void(0)",3,"click"]],template:function(a,p){1&a&&(e.\u0275\u0275elementStart(0,"div",0)(1,"h2",1),e.\u0275\u0275text(2),e.\u0275\u0275pipe(3,"translate"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(4,"p"),e.\u0275\u0275text(5),e.\u0275\u0275pipe(6,"translate"),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(7,xe,8,4,"p",2),e.\u0275\u0275elementStart(8,"p")(9,"button",3),e.\u0275\u0275listener("click",function(){return p.selectCollection()}),e.\u0275\u0275text(10),e.\u0275\u0275pipe(11,"translate"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(12,"div",4)(13,"div",5)(14,"input",6),e.\u0275\u0275listener("ngModelChange",function(I){return p.validateOnly=I}),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(15,"label",7),e.\u0275\u0275text(16),e.\u0275\u0275pipe(17,"translate"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(18,"small",8),e.\u0275\u0275text(19),e.\u0275\u0275pipe(20,"translate"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(21,"ds-file-dropzone-no-uploader",9),e.\u0275\u0275listener("onFileAdded",function(I){return p.setFile(I)}),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(22,"div",10)(23,"button",11),e.\u0275\u0275listener("click",function(){return p.onReturn()}),e.\u0275\u0275text(24),e.\u0275\u0275pipe(25,"translate"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(26,"button",12),e.\u0275\u0275listener("click",function(){return p.importMetadata()}),e.\u0275\u0275text(27),e.\u0275\u0275pipe(28,"translate"),e.\u0275\u0275elementEnd()()()),2&a&&(e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(3,11,"admin.batch-import.page.header")),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(6,13,"admin.batch-import.page.help")),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",p.dso),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(11,15,"admin.metadata-import.page.button.select-collection")),e.\u0275\u0275advance(4),e.\u0275\u0275property("ngModel",p.validateOnly),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(17,17,"admin.metadata-import.page.validateOnly")," "),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(20,19,"admin.batch-import.page.validateOnly.hint")," "),e.\u0275\u0275advance(2),e.\u0275\u0275property("dropMessageLabel","admin.batch-import.page.dropMsg")("dropMessageLabelReplacement","admin.batch-import.page.dropMsgReplace"),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(25,21,"admin.metadata-import.page.button.return")),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(28,23,"admin.metadata-import.page.button.proceed")))},directives:[k.O5,E.Wl,E.JJ,E.On,Y.n],pipes:[F.X$],encapsulation:2}),i})(),Fe=(()=>{class i{}return i.\u0275fac=function(a){return new(a||i)},i.\u0275mod=e.\u0275\u0275defineNgModule({type:i}),i.\u0275inj=e.\u0275\u0275defineInjector({providers:[V.t,A.d],imports:[[_.Bz.forChild([{path:Ce.B,loadChildren:()=>Promise.resolve().then(o.bind(o,98917)).then(l=>l.AdminRegistriesModule)},{path:"search",resolve:{breadcrumb:V.t},component:U,data:{title:"admin.search.title",breadcrumbKey:"admin.search"}},{path:"workflow",resolve:{breadcrumb:V.t},component:fe,data:{title:"admin.workflow.title",breadcrumbKey:"admin.workflow"}},{path:"curation-tasks",resolve:{breadcrumb:V.t},component:H,data:{title:"admin.curation-tasks.title",breadcrumbKey:"admin.curation-tasks"}},{path:"metadata-import",resolve:{breadcrumb:V.t},component:t,data:{title:"admin.metadata-import.title",breadcrumbKey:"admin.metadata-import"}},{path:"batch-import",resolve:{breadcrumb:V.t},component:Z,data:{title:"admin.batch-import.title",breadcrumbKey:"admin.batch-import"}}])]]}),i})();var O=o(70655),L=o(84484),P=o(17410),te=o(44126),X=o(77606),ne=o(93132),Q=o(94658),ie=o(72564),ve=o(8183),ye=o(72004),ae=o(70248),u=(o(41527),o(47864));function C(i,l){1&i&&(e.\u0275\u0275elementStart(0,"span",6),e.\u0275\u0275text(1),e.\u0275\u0275pipe(2,"translate"),e.\u0275\u0275elementEnd()),2&i&&(e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(2,1,"admin.workflow.item.delete"),""))}function m(i,l){1&i&&(e.\u0275\u0275elementStart(0,"span",6),e.\u0275\u0275text(1),e.\u0275\u0275pipe(2,"translate"),e.\u0275\u0275elementEnd()),2&i&&(e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(2,1,"admin.workflow.item.send-back"),""))}const f=function(i){return{"btn-sm":i}},g=function(i){return[i]};let v=(()=>{class i{getDeleteRoute(){return(0,u.fk)(this.wfi.id)}getSendBackRoute(){return(0,u.Du)(this.wfi.id)}}return i.\u0275fac=function(a){return new(a||i)},i.\u0275cmp=e.\u0275\u0275defineComponent({type:i,selectors:[["ds-workflow-item-admin-workflow-actions-element"]],inputs:{wfi:"wfi",small:"small"},decls:9,vars:20,consts:[[1,"space-children-mr"],[1,"btn","btn-light","my-1","delete-link",3,"ngClass","routerLink","title"],[1,"fa","fa-trash"],["class","d-none d-sm-inline",4,"ngIf"],[1,"btn","btn-light","my-1","send-back-link",3,"ngClass","routerLink","title"],[1,"fa","fa-hand-point-left"],[1,"d-none","d-sm-inline"]],template:function(a,p){1&a&&(e.\u0275\u0275elementStart(0,"div",0)(1,"a",1),e.\u0275\u0275pipe(2,"translate"),e.\u0275\u0275element(3,"i",2),e.\u0275\u0275template(4,C,3,3,"span",3),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(5,"a",4),e.\u0275\u0275pipe(6,"translate"),e.\u0275\u0275element(7,"i",5),e.\u0275\u0275template(8,m,3,3,"span",3),e.\u0275\u0275elementEnd()()),2&a&&(e.\u0275\u0275advance(1),e.\u0275\u0275property("ngClass",e.\u0275\u0275pureFunction1(12,f,p.small))("routerLink",e.\u0275\u0275pureFunction1(14,g,p.getDeleteRoute()))("title",e.\u0275\u0275pipeBind1(2,8,"admin.workflow.item.delete")),e.\u0275\u0275advance(3),e.\u0275\u0275property("ngIf",!p.small),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngClass",e.\u0275\u0275pureFunction1(16,f,p.small))("routerLink",e.\u0275\u0275pureFunction1(18,g,p.getSendBackRoute()))("title",e.\u0275\u0275pipeBind1(6,10,"admin.workflow.item.send-back")),e.\u0275\u0275advance(3),e.\u0275\u0275property("ngIf",!p.small))},directives:[_.yS,k.mk,k.O5],pipes:[F.X$],styles:[""]}),i})();const w=["badges"],D=["buttons"];function Se(i,l){}function Be(i,l){if(1&i&&e.\u0275\u0275element(0,"ds-workflow-item-admin-workflow-actions-element",9),2&i){const a=e.\u0275\u0275nextContext();e.\u0275\u0275property("wfi",a.dso)("small",!0)}}let z=class extends te.h{constructor(l,a,p,S,I){super(p,I),this.componentFactoryResolver=l,this.linkService=a,this.truncatableService=p,this.themeService=S,this.bitstreamDataService=I}ngOnInit(){super.ngOnInit(),this.dso=this.linkService.resolveLink(this.dso,(0,ve.l)("item")),this.item$=this.dso.item.pipe((0,T.g1)(),(0,T.xe)()),this.item$.pipe((0,ge.q)(1)).subscribe(l=>{const a=this.componentFactoryResolver.resolveComponentFactory(this.getComponent(l)),p=this.listableObjectDirective.viewContainerRef;p.clear();const S=p.createComponent(a,0,void 0,[[this.badges.nativeElement],[this.buttons.nativeElement]]);S.instance.object=l,S.instance.index=this.index,S.instance.linkType=this.linkType,S.instance.listID=this.listID,S.changeDetectorRef.detectChanges()})}getComponent(l){return(0,P.mt)(l.getRenderTypes(),L.w.GridElement,void 0,this.themeService.getThemeName())}};z.\u0275fac=function(l){return new(l||z)(e.\u0275\u0275directiveInject(e.ComponentFactoryResolver),e.\u0275\u0275directiveInject(ie.M),e.\u0275\u0275directiveInject(X.F),e.\u0275\u0275directiveInject(ae.fY),e.\u0275\u0275directiveInject(ne.J))},z.\u0275cmp=e.\u0275\u0275defineComponent({type:z,selectors:[["ds-workflow-item-search-result-admin-workflow-grid-element"]],viewQuery:function(l,a){if(1&l&&(e.\u0275\u0275viewQuery(Q.U,7),e.\u0275\u0275viewQuery(w,7),e.\u0275\u0275viewQuery(D,7)),2&l){let p;e.\u0275\u0275queryRefresh(p=e.\u0275\u0275loadQuery())&&(a.listableObjectDirective=p.first),e.\u0275\u0275queryRefresh(p=e.\u0275\u0275loadQuery())&&(a.badges=p.first),e.\u0275\u0275queryRefresh(p=e.\u0275\u0275loadQuery())&&(a.buttons=p.first)}},features:[e.\u0275\u0275InheritDefinitionFeature],decls:11,vars:4,consts:[["dsListableObject",""],[1,"position-absolute","ml-1"],["badges",""],[1,"workflow-badge"],[1,"badge","badge-info"],[1,"list-group","list-group-flush"],["buttons",""],[1,"list-group-item"],["class","d-flex justify-content-between",3,"wfi","small",4,"ngIf"],[1,"d-flex","justify-content-between",3,"wfi","small"]],template:function(l,a){1&l&&(e.\u0275\u0275template(0,Se,0,0,"ng-template",0),e.\u0275\u0275elementStart(1,"div",1,2)(3,"div",3)(4,"span",4),e.\u0275\u0275text(5),e.\u0275\u0275pipe(6,"translate"),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275elementStart(7,"ul",5,6)(9,"li",7),e.\u0275\u0275template(10,Be,1,2,"ds-workflow-item-admin-workflow-actions-element",8),e.\u0275\u0275elementEnd()()),2&l&&(e.\u0275\u0275advance(5),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(6,2,"admin.workflow.item.workflow")),e.\u0275\u0275advance(5),e.\u0275\u0275property("ngIf",a.object))},directives:[Q.U,k.O5,v],pipes:[F.X$],styles:[""]}),z=(0,O.__decorate)([(0,P.d$)(ye.s,L.w.GridElement,M._.AdminWorkflowSearch),(0,O.__metadata)("design:paramtypes",[e.ComponentFactoryResolver,ie.M,X.F,ae.fY,ne.J])],z);var be=o(83625),Ae=o(19349),we=o(99967);function Te(i,l){if(1&i&&(e.\u0275\u0275element(0,"ds-listable-object-component-loader",4),e.\u0275\u0275pipe(1,"async")),2&i){const a=e.\u0275\u0275nextContext();e.\u0275\u0275property("object",e.\u0275\u0275pipeBind1(1,5,a.item$))("viewMode",a.viewModes.ListElement)("index",a.index)("linkType",a.linkType)("listID",a.listID)}}let q=class extends be.c{constructor(l,a,p,S){super(a,p,S),this.linkService=l,this.truncatableService=a,this.dsoNameService=p,this.appConfig=S}ngOnInit(){super.ngOnInit(),this.dso=this.linkService.resolveLink(this.dso,(0,ve.l)("item")),this.item$=this.dso.item.pipe((0,T.g1)(),(0,T.xe)())}};q.\u0275fac=function(l){return new(l||q)(e.\u0275\u0275directiveInject(ie.M),e.\u0275\u0275directiveInject(X.F),e.\u0275\u0275directiveInject(ee._),e.\u0275\u0275directiveInject(Ae.q))},q.\u0275cmp=e.\u0275\u0275defineComponent({type:q,selectors:[["ds-workflow-item-search-result-admin-workflow-list-element"]],features:[e.\u0275\u0275InheritDefinitionFeature],decls:7,vars:8,consts:[[1,"workflow-badge"],[1,"badge","badge-info"],[3,"object","viewMode","index","linkType","listID",4,"ngIf"],[3,"wfi","small"],[3,"object","viewMode","index","linkType","listID"]],template:function(l,a){1&l&&(e.\u0275\u0275elementStart(0,"div",0)(1,"span",1),e.\u0275\u0275text(2),e.\u0275\u0275pipe(3,"translate"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275template(4,Te,2,7,"ds-listable-object-component-loader",2),e.\u0275\u0275pipe(5,"async"),e.\u0275\u0275element(6,"ds-workflow-item-admin-workflow-actions-element",3)),2&l&&(e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(3,4,"admin.workflow.item.workflow")),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",e.\u0275\u0275pipeBind1(5,6,a.item$)),e.\u0275\u0275advance(2),e.\u0275\u0275property("wfi",a.dso)("small",!1))},directives:[k.O5,we.p,v],pipes:[F.X$,k.Ov],styles:[""]}),q=(0,O.__decorate)([(0,P.d$)(ye.s,L.w.ListElement,M._.AdminWorkflowSearch),(0,O.__metadata)("design:paramtypes",[ie.M,X.F,ee._,Object])],q);var Re=o(90415);const c=[q,z];let y=(()=>{class i{static withEntryComponents(){return{ngModule:x.m,providers:c.map(a=>({provide:a}))}}}return i.\u0275fac=function(a){return new(a||i)},i.\u0275mod=e.\u0275\u0275defineNgModule({type:i}),i.\u0275inj=e.\u0275\u0275defineInjector({imports:[[Re.t,x.m.withEntryComponents()]]}),i})();var r=o(11771),d=(o(27899),o(69810)),h=o(96007),b=o(40238);function R(i,l){1&i&&(e.\u0275\u0275elementStart(0,"span",12),e.\u0275\u0275text(1),e.\u0275\u0275pipe(2,"translate"),e.\u0275\u0275elementEnd()),2&i&&(e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(2,1,"admin.search.item.move"),""))}function ce(i,l){1&i&&(e.\u0275\u0275elementStart(0,"span",12),e.\u0275\u0275text(1),e.\u0275\u0275pipe(2,"translate"),e.\u0275\u0275elementEnd()),2&i&&(e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(2,1,"admin.search.item.make-private"),""))}const de=function(i){return{"btn-sm":i}},pe=function(i){return[i]};function $e(i,l){if(1&i&&(e.\u0275\u0275elementStart(0,"a",13),e.\u0275\u0275pipe(1,"translate"),e.\u0275\u0275element(2,"i",14),e.\u0275\u0275template(3,ce,3,3,"span",3),e.\u0275\u0275elementEnd()),2&i){const a=e.\u0275\u0275nextContext();e.\u0275\u0275property("ngClass",e.\u0275\u0275pureFunction1(6,de,a.small))("routerLink",e.\u0275\u0275pureFunction1(8,pe,a.getPrivateRoute()))("title",e.\u0275\u0275pipeBind1(1,4,"admin.search.item.make-private")),e.\u0275\u0275advance(3),e.\u0275\u0275property("ngIf",!a.small)}}function We(i,l){1&i&&(e.\u0275\u0275elementStart(0,"span",12),e.\u0275\u0275text(1),e.\u0275\u0275pipe(2,"translate"),e.\u0275\u0275elementEnd()),2&i&&(e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(2,1,"admin.search.item.make-public"),""))}function Ne(i,l){if(1&i&&(e.\u0275\u0275elementStart(0,"a",15),e.\u0275\u0275pipe(1,"translate"),e.\u0275\u0275element(2,"i",16),e.\u0275\u0275template(3,We,3,3,"span",3),e.\u0275\u0275elementEnd()),2&i){const a=e.\u0275\u0275nextContext();e.\u0275\u0275property("ngClass",e.\u0275\u0275pureFunction1(6,de,a.small))("routerLink",e.\u0275\u0275pureFunction1(8,pe,a.getPublicRoute()))("title",e.\u0275\u0275pipeBind1(1,4,"admin.search.item.make-public")),e.\u0275\u0275advance(3),e.\u0275\u0275property("ngIf",!a.small)}}function Ge(i,l){1&i&&(e.\u0275\u0275elementStart(0,"span",12),e.\u0275\u0275text(1),e.\u0275\u0275pipe(2,"translate"),e.\u0275\u0275elementEnd()),2&i&&(e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(2,1,"admin.search.item.edit"),""))}function Ue(i,l){1&i&&(e.\u0275\u0275elementStart(0,"span",12),e.\u0275\u0275text(1),e.\u0275\u0275pipe(2,"translate"),e.\u0275\u0275elementEnd()),2&i&&(e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(2,1,"admin.search.item.withdraw"),""))}function Ve(i,l){if(1&i&&(e.\u0275\u0275elementStart(0,"a",17),e.\u0275\u0275pipe(1,"translate"),e.\u0275\u0275element(2,"i",18),e.\u0275\u0275template(3,Ue,3,3,"span",3),e.\u0275\u0275elementEnd()),2&i){const a=e.\u0275\u0275nextContext();e.\u0275\u0275property("ngClass",e.\u0275\u0275pureFunction1(6,de,a.small))("routerLink",e.\u0275\u0275pureFunction1(8,pe,a.getWithdrawRoute()))("title",e.\u0275\u0275pipeBind1(1,4,"admin.search.item.withdraw")),e.\u0275\u0275advance(3),e.\u0275\u0275property("ngIf",!a.small)}}function ze(i,l){1&i&&(e.\u0275\u0275elementStart(0,"span",12),e.\u0275\u0275text(1),e.\u0275\u0275pipe(2,"translate"),e.\u0275\u0275elementEnd()),2&i&&(e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(2,1,"admin.search.item.reinstate"),""))}function Ke(i,l){if(1&i&&(e.\u0275\u0275elementStart(0,"a",19),e.\u0275\u0275pipe(1,"translate"),e.\u0275\u0275element(2,"i",20),e.\u0275\u0275template(3,ze,3,3,"span",3),e.\u0275\u0275elementEnd()),2&i){const a=e.\u0275\u0275nextContext();e.\u0275\u0275property("ngClass",e.\u0275\u0275pureFunction1(6,de,a.small))("routerLink",e.\u0275\u0275pureFunction1(8,pe,a.getReinstateRoute()))("title",e.\u0275\u0275pipeBind1(1,4,"admin.search.item.reinstate")),e.\u0275\u0275advance(3),e.\u0275\u0275property("ngIf",!a.small)}}function Xe(i,l){1&i&&(e.\u0275\u0275elementStart(0,"span",12),e.\u0275\u0275text(1),e.\u0275\u0275pipe(2,"translate"),e.\u0275\u0275elementEnd()),2&i&&(e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(2,1,"admin.search.item.delete"),""))}let ke=(()=>{class i{getEditRoute(){return(0,h.tn)(this.item)}getMoveRoute(){return new d.R(this.getEditRoute(),b.Gr).toString()}getDeleteRoute(){return new d.R(this.getEditRoute(),b.kJ).toString()}getWithdrawRoute(){return new d.R(this.getEditRoute(),b.M0).toString()}getReinstateRoute(){return new d.R(this.getEditRoute(),b.Pu).toString()}getPrivateRoute(){return new d.R(this.getEditRoute(),b.X$).toString()}getPublicRoute(){return new d.R(this.getEditRoute(),b.dI).toString()}}return i.\u0275fac=function(a){return new(a||i)},i.\u0275cmp=e.\u0275\u0275defineComponent({type:i,selectors:[["ds-item-admin-search-result-actions-element"]],inputs:{item:"item",small:"small"},decls:17,vars:34,consts:[[1,"space-children-mr","my-1"],[1,"btn","btn-secondary","move-link",3,"ngClass","routerLink","title"],[1,"fa","fa-arrow-circle-right"],["class","d-none d-sm-inline",4,"ngIf"],["class","btn btn-secondary private-link",3,"ngClass","routerLink","title",4,"ngIf"],["class","btn btn-secondary public-link",3,"ngClass","routerLink","title",4,"ngIf"],[1,"btn","btn-secondary","edit-link",3,"ngClass","routerLink","title"],[1,"fa","fa-edit"],["class","btn btn-warning t withdraw-link",3,"ngClass","routerLink","title",4,"ngIf"],["class","btn btn-warning reinstate-link",3,"ngClass","routerLink","title",4,"ngIf"],[1,"btn","btn-danger","delete-link",3,"ngClass","routerLink","title"],[1,"fa","fa-trash"],[1,"d-none","d-sm-inline"],[1,"btn","btn-secondary","private-link",3,"ngClass","routerLink","title"],[1,"fa","fa-eye-slash"],[1,"btn","btn-secondary","public-link",3,"ngClass","routerLink","title"],[1,"fa","fa-eye"],[1,"btn","btn-warning","t","withdraw-link",3,"ngClass","routerLink","title"],[1,"fa","fa-ban"],[1,"btn","btn-warning","reinstate-link",3,"ngClass","routerLink","title"],[1,"fa","fa-undo"]],template:function(a,p){1&a&&(e.\u0275\u0275elementStart(0,"div",0)(1,"a",1),e.\u0275\u0275pipe(2,"translate"),e.\u0275\u0275element(3,"i",2),e.\u0275\u0275template(4,R,3,3,"span",3),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(5,$e,4,10,"a",4),e.\u0275\u0275template(6,Ne,4,10,"a",5),e.\u0275\u0275elementStart(7,"a",6),e.\u0275\u0275pipe(8,"translate"),e.\u0275\u0275element(9,"i",7),e.\u0275\u0275template(10,Ge,3,3,"span",3),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(11,Ve,4,10,"a",8),e.\u0275\u0275template(12,Ke,4,10,"a",9),e.\u0275\u0275elementStart(13,"a",10),e.\u0275\u0275pipe(14,"translate"),e.\u0275\u0275element(15,"i",11),e.\u0275\u0275template(16,Xe,3,3,"span",3),e.\u0275\u0275elementEnd()()),2&a&&(e.\u0275\u0275advance(1),e.\u0275\u0275property("ngClass",e.\u0275\u0275pureFunction1(22,de,p.small))("routerLink",e.\u0275\u0275pureFunction1(24,pe,p.getMoveRoute()))("title",e.\u0275\u0275pipeBind1(2,16,"admin.search.item.move")),e.\u0275\u0275advance(3),e.\u0275\u0275property("ngIf",!p.small),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",p.item&&p.item.isDiscoverable),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",p.item&&!p.item.isDiscoverable),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngClass",e.\u0275\u0275pureFunction1(26,de,p.small))("routerLink",e.\u0275\u0275pureFunction1(28,pe,p.getEditRoute()))("title",e.\u0275\u0275pipeBind1(8,18,"admin.search.item.edit")),e.\u0275\u0275advance(3),e.\u0275\u0275property("ngIf",!p.small),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",p.item&&!p.item.isWithdrawn),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",p.item&&p.item.isWithdrawn),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngClass",e.\u0275\u0275pureFunction1(30,de,p.small))("routerLink",e.\u0275\u0275pureFunction1(32,pe,p.getDeleteRoute()))("title",e.\u0275\u0275pipeBind1(14,20,"admin.search.item.delete")),e.\u0275\u0275advance(3),e.\u0275\u0275property("ngIf",!p.small))},directives:[_.yS,k.mk,k.O5],pipes:[F.X$],styles:[""]}),i})(),re=class extends be.c{};re.\u0275fac=function(){let i;return function(a){return(i||(i=e.\u0275\u0275getInheritedFactory(re)))(a||re)}}(),re.\u0275cmp=e.\u0275\u0275defineComponent({type:re,selectors:[["ds-item-admin-search-result-list-element"]],features:[e.\u0275\u0275InheritDefinitionFeature],decls:2,vars:8,consts:[[3,"object","viewMode","index","linkType","listID","hideBadges"],[3,"item","small"]],template:function(l,a){1&l&&e.\u0275\u0275element(0,"ds-listable-object-component-loader",0)(1,"ds-item-admin-search-result-actions-element",1),2&l&&(e.\u0275\u0275property("object",a.object)("viewMode",a.viewModes.ListElement)("index",a.index)("linkType",a.linkType)("listID",a.listID)("hideBadges",!0),e.\u0275\u0275advance(1),e.\u0275\u0275property("item",a.dso)("small",!1))},directives:[we.p,ke],styles:[""]}),re=(0,O.__decorate)([(0,P.d$)(r.T,L.w.ListElement,M._.AdminSearch)],re);var je=o(35540),Le=o(18595),Qe=o(36127);const Je=function(i){return[i]};let oe=class extends be.c{ngOnInit(){super.ngOnInit(),this.editPath=(0,Le.xm)(this.dso.uuid)}};oe.\u0275fac=function(){let i;return function(a){return(i||(i=e.\u0275\u0275getInheritedFactory(oe)))(a||oe)}}(),oe.\u0275cmp=e.\u0275\u0275defineComponent({type:oe,selectors:[["ds-community-admin-search-result-list-element"]],features:[e.\u0275\u0275InheritDefinitionFeature],decls:6,vars:10,consts:[[3,"object","index","linkType","listID"],[1,"btn","btn-light","mt-1",3,"routerLink"],[1,"fa","fa-edit"]],template:function(l,a){1&l&&(e.\u0275\u0275element(0,"ds-community-search-result-list-element",0),e.\u0275\u0275elementStart(1,"div")(2,"a",1),e.\u0275\u0275element(3,"i",2),e.\u0275\u0275text(4),e.\u0275\u0275pipe(5,"translate"),e.\u0275\u0275elementEnd()()),2&l&&(e.\u0275\u0275property("object",a.object)("index",a.index)("linkType",a.linkType)("listID",a.listID),e.\u0275\u0275advance(2),e.\u0275\u0275property("routerLink",e.\u0275\u0275pureFunction1(8,Je,a.editPath)),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(5,6,"admin.search.community.edit")," "))},directives:[Qe.K,_.yS],pipes:[F.X$],styles:[""]}),oe=(0,O.__decorate)([(0,P.d$)(je.o,L.w.ListElement,M._.AdminSearch)],oe);var Pe=o(35587),De=o(10954),Ye=o(67734);const He=function(i){return[i]};let se=class extends be.c{ngOnInit(){super.ngOnInit(),this.editPath=(0,De.Ou)(this.dso.uuid)}};se.\u0275fac=function(){let i;return function(a){return(i||(i=e.\u0275\u0275getInheritedFactory(se)))(a||se)}}(),se.\u0275cmp=e.\u0275\u0275defineComponent({type:se,selectors:[["ds-collection-admin-search-result-list-element"]],features:[e.\u0275\u0275InheritDefinitionFeature],decls:6,vars:10,consts:[[3,"object","index","linkType","listID"],[1,"btn","btn-light","mt-1",3,"routerLink"],[1,"fa","fa-edit"]],template:function(l,a){1&l&&(e.\u0275\u0275element(0,"ds-collection-search-result-list-element",0),e.\u0275\u0275elementStart(1,"div")(2,"a",1),e.\u0275\u0275element(3,"i",2),e.\u0275\u0275text(4),e.\u0275\u0275pipe(5,"translate"),e.\u0275\u0275elementEnd()()),2&l&&(e.\u0275\u0275property("object",a.object)("index",a.index)("linkType",a.linkType)("listID",a.listID),e.\u0275\u0275advance(2),e.\u0275\u0275property("routerLink",e.\u0275\u0275pureFunction1(8,He,a.editPath)),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(5,6,"admin.search.collection.edit")," "))},directives:[Ye.q,_.yS],pipes:[F.X$],styles:[""]}),se=(0,O.__decorate)([(0,P.d$)(Pe.o,L.w.ListElement,M._.AdminSearch)],se);const Ze=["badges"],qe=["buttons"];function et(i,l){}let ue=class extends te.h{constructor(l,a,p,S){super(l,a),this.truncatableService=l,this.bitstreamDataService=a,this.themeService=p,this.componentFactoryResolver=S}ngOnInit(){super.ngOnInit();const l=this.componentFactoryResolver.resolveComponentFactory(this.getComponent()),a=this.listableObjectDirective.viewContainerRef;a.clear();const p=a.createComponent(l,0,void 0,[[this.badges.nativeElement],[this.buttons.nativeElement]]);p.instance.object=this.object,p.instance.index=this.index,p.instance.linkType=this.linkType,p.instance.listID=this.listID}getComponent(){return(0,P.mt)(this.object.getRenderTypes(),L.w.GridElement,void 0,this.themeService.getThemeName())}};ue.\u0275fac=function(l){return new(l||ue)(e.\u0275\u0275directiveInject(X.F),e.\u0275\u0275directiveInject(ne.J),e.\u0275\u0275directiveInject(ae.fY),e.\u0275\u0275directiveInject(e.ComponentFactoryResolver))},ue.\u0275cmp=e.\u0275\u0275defineComponent({type:ue,selectors:[["ds-item-admin-search-result-grid-element"]],viewQuery:function(l,a){if(1&l&&(e.\u0275\u0275viewQuery(Q.U,7),e.\u0275\u0275viewQuery(Ze,7),e.\u0275\u0275viewQuery(qe,7)),2&l){let p;e.\u0275\u0275queryRefresh(p=e.\u0275\u0275loadQuery())&&(a.listableObjectDirective=p.first),e.\u0275\u0275queryRefresh(p=e.\u0275\u0275loadQuery())&&(a.badges=p.first),e.\u0275\u0275queryRefresh(p=e.\u0275\u0275loadQuery())&&(a.buttons=p.first)}},features:[e.\u0275\u0275InheritDefinitionFeature],ngContentSelectors:["*"],decls:8,vars:2,consts:[["dsListableObject",""],["badges",""],[1,"list-group","list-group-flush"],["buttons",""],[1,"list-group-item"],[1,"d-flex","justify-content-between",3,"item","small"]],template:function(l,a){1&l&&(e.\u0275\u0275projectionDef(),e.\u0275\u0275template(0,et,0,0,"ng-template",0),e.\u0275\u0275elementStart(1,"div",null,1),e.\u0275\u0275projection(3),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(4,"ul",2,3)(6,"li",4),e.\u0275\u0275element(7,"ds-item-admin-search-result-actions-element",5),e.\u0275\u0275elementEnd()()),2&l&&(e.\u0275\u0275advance(7),e.\u0275\u0275property("item",a.dso)("small",!0))},directives:[Q.U,ke],styles:[""]}),ue=(0,O.__decorate)([(0,P.d$)(r.T,L.w.GridElement,M._.AdminSearch),(0,O.__metadata)("design:paramtypes",[X.F,ne.J,ae.fY,e.ComponentFactoryResolver])],ue);var nt=o(1579);const it=function(i){return[i]};let le=class extends te.h{ngOnInit(){super.ngOnInit(),this.editPath=(0,Le.xm)(this.dso.uuid)}};le.\u0275fac=function(){let i;return function(a){return(i||(i=e.\u0275\u0275getInheritedFactory(le)))(a||le)}}(),le.\u0275cmp=e.\u0275\u0275defineComponent({type:le,selectors:[["ds-community-admin-search-result-grid-element"]],features:[e.\u0275\u0275InheritDefinitionFeature],decls:5,vars:7,consts:[[3,"object","index","linkType","listID"],[1,"list-group","list-group-flush"],[1,"list-group-item","text-center"],[1,"btn","btn-light","btn-sm","btn-auto","my-1","edit-link",3,"routerLink"],[1,"fa","fa-edit"]],template:function(l,a){1&l&&(e.\u0275\u0275elementStart(0,"ds-community-search-result-grid-element",0)(1,"ul",1)(2,"li",2)(3,"a",3),e.\u0275\u0275element(4,"i",4),e.\u0275\u0275elementEnd()()()()),2&l&&(e.\u0275\u0275property("object",a.object)("index",a.index)("linkType",a.linkType)("listID",a.listID),e.\u0275\u0275advance(3),e.\u0275\u0275property("routerLink",e.\u0275\u0275pureFunction1(5,it,a.editPath)))},directives:[nt.g,_.yS],styles:[""]}),le=(0,O.__decorate)([(0,P.d$)(je.o,L.w.GridElement,M._.AdminSearch)],le);var at=o(29836);const rt=function(i){return[i]};let me=class extends te.h{ngOnInit(){super.ngOnInit(),this.editPath=(0,De.Ou)(this.dso.uuid)}};me.\u0275fac=function(){let i;return function(a){return(i||(i=e.\u0275\u0275getInheritedFactory(me)))(a||me)}}(),me.\u0275cmp=e.\u0275\u0275defineComponent({type:me,selectors:[["ds-collection-admin-search-result-list-element"]],features:[e.\u0275\u0275InheritDefinitionFeature],decls:5,vars:7,consts:[[3,"object","index","linkType","listID"],[1,"list-group","list-group-flush"],[1,"list-group-item","text-center"],[1,"btn","btn-light","btn-sm","btn-auto","my-1","edit-link",3,"routerLink"],[1,"fa","fa-edit"]],template:function(l,a){1&l&&(e.\u0275\u0275elementStart(0,"ds-collection-search-result-grid-element",0)(1,"ul",1)(2,"li",2)(3,"a",3),e.\u0275\u0275element(4,"i",4),e.\u0275\u0275elementEnd()()()()),2&l&&(e.\u0275\u0275property("object",a.object)("index",a.index)("linkType",a.linkType)("listID",a.listID),e.\u0275\u0275advance(3),e.\u0275\u0275property("routerLink",e.\u0275\u0275pureFunction1(5,rt,a.editPath)))},directives:[at.a,_.yS],styles:[""]}),me=(0,O.__decorate)([(0,P.d$)(Pe.o,L.w.GridElement,M._.AdminSearch)],me);var ot=o(30504),st=o(42245);const lt=[re,oe,se,ue,le,me,ke];let mt=(()=>{class i{static withEntryComponents(){return{ngModule:x.m,providers:lt.map(a=>({provide:a}))}}}return i.\u0275fac=function(a){return new(a||i)},i.\u0275mod=e.\u0275\u0275defineNgModule({type:i}),i.\u0275inj=e.\u0275\u0275defineInjector({imports:[[Re.t,x.m.withEntryComponents(),ot.x.withEntryComponents(),st.a.withEntryComponents()]]}),i})();var ct=o(83067),dt=o(49913);const pt=[ct.F,dt.O];let ut=(()=>{class i{static withEntryComponents(){return{ngModule:i,providers:pt.map(a=>({provide:a}))}}}return i.\u0275fac=function(a){return new(a||i)},i.\u0275mod=e.\u0275\u0275defineNgModule({type:i}),i.\u0275inj=e.\u0275\u0275defineInjector({imports:[[Fe,N.AdminRegistriesModule,B.AccessControlModule,mt.withEntryComponents(),y.withEntryComponents(),x.m]]}),i})()}}]);