"use strict";(self.webpackChunkdspace_angular=self.webpackChunkdspace_angular||[]).push([[1317,6370],{69722:(z,D,n)=>{n.d(D,{U:()=>$});var O=n(61135),x=n(39841),I=n(68675),M=n(18505),E=n(11365),f=n(63900),u=n(22940),y=n(54004),t=n(36391),e=(n(33609),n(24702)),C=n(68285),L=n(17481),a=n(5e3),B=n(37796),T=n(69808),R=n(74202),U=n(86956);function A(d,P){if(1&d&&a.\u0275\u0275element(0,"span",7),2&d){const p=a.\u0275\u0275nextContext(2);a.\u0275\u0275property("innerHTML",p.separator,a.\u0275\u0275sanitizeHtml)}}const W=function(d){return["/collections",d]};function K(d,P){if(1&d&&(a.\u0275\u0275elementStart(0,"a",5)(1,"span"),a.\u0275\u0275text(2),a.\u0275\u0275elementEnd(),a.\u0275\u0275template(3,A,1,1,"span",6),a.\u0275\u0275elementEnd()),2&d){const p=P.$implicit,c=P.last;a.\u0275\u0275property("routerLink",a.\u0275\u0275pureFunction1(3,W,p.id)),a.\u0275\u0275advance(2),a.\u0275\u0275textInterpolate(null==p?null:p.name),a.\u0275\u0275advance(1),a.\u0275\u0275property("ngIf",!c)}}function F(d,P){1&d&&(a.\u0275\u0275elementStart(0,"div"),a.\u0275\u0275text(1),a.\u0275\u0275pipe(2,"translate"),a.\u0275\u0275elementEnd()),2&d&&(a.\u0275\u0275advance(1),a.\u0275\u0275textInterpolate1(" ",a.\u0275\u0275pipeBind1(2,1,"item.page.collections.loading")," "))}function j(d,P){if(1&d){const p=a.\u0275\u0275getCurrentView();a.\u0275\u0275elementStart(0,"a",8),a.\u0275\u0275listener("click",function(r){a.\u0275\u0275restoreView(p);const _=a.\u0275\u0275nextContext();return r.preventDefault(),_.handleLoadMore()}),a.\u0275\u0275text(1),a.\u0275\u0275pipe(2,"translate"),a.\u0275\u0275elementEnd()}2&d&&(a.\u0275\u0275advance(1),a.\u0275\u0275textInterpolate1(" ",a.\u0275\u0275pipeBind1(2,1,"item.page.collections.load-more")," "))}let $=(()=>{class d{constructor(p){this.cds=p,this.label="item.page.collections",this.separator="<br/>",this.pageSize=5,this.lastPage$=new O.X(0),this.loadMore$=new O.X(void 0),this.isLoading$=new O.X(!0),this.hasMore$=new O.X(!0)}ngOnInit(){const p=this.cds.findOwningCollectionFor(this.item).pipe((0,C.Gp)(),(0,I.O)(null)),c=this.loadMore$.pipe((0,M.b)(()=>this.isLoading$.next(!0)),(0,E.M)(this.lastPage$),(0,f.w)(([r,_])=>this.cds.findMappedCollectionsFor(this.item,Object.assign(new L.R,{elementsPerPage:this.pageSize,currentPage:_+1}))),(0,C.f1)(),(0,M.b)(()=>this.isLoading$.next(!1)),(0,C.mc)(),(0,M.b)(r=>this.hasMore$.next(r.currentPage<r.totalPages)),(0,M.b)(r=>this.lastPage$.next(r.currentPage)),(0,C.qP)(),(0,u.R)((r,_)=>[...r,..._],[]),(0,I.O)([]));this.collections$=(0,x.a)([p,c]).pipe((0,y.U)(([r,_])=>[r,..._].filter(i=>(0,e.Uh)(i))))}handleLoadMore(){this.loadMore$.next()}}return d.\u0275fac=function(p){return new(p||d)(a.\u0275\u0275directiveInject(t.W))},d.\u0275cmp=a.\u0275\u0275defineComponent({type:d,selectors:[["ds-item-page-collections"]],inputs:{item:"item",separator:"separator"},decls:10,vars:14,consts:[[3,"label"],[1,"collections"],[3,"routerLink",4,"ngFor","ngForOf"],[4,"ngIf"],["class","load-more-btn btn btn-sm btn-outline-secondary","role","button","href","javascript:void(0);",3,"click",4,"ngIf"],[3,"routerLink"],[3,"innerHTML",4,"ngIf"],[3,"innerHTML"],["role","button","href","javascript:void(0);",1,"load-more-btn","btn","btn-sm","btn-outline-secondary",3,"click"]],template:function(p,c){1&p&&(a.\u0275\u0275elementStart(0,"ds-metadata-field-wrapper",0),a.\u0275\u0275pipe(1,"translate"),a.\u0275\u0275elementStart(2,"div",1),a.\u0275\u0275template(3,K,4,5,"a",2),a.\u0275\u0275pipe(4,"async"),a.\u0275\u0275elementEnd(),a.\u0275\u0275template(5,F,3,3,"div",3),a.\u0275\u0275pipe(6,"async"),a.\u0275\u0275template(7,j,3,3,"a",4),a.\u0275\u0275pipe(8,"async"),a.\u0275\u0275pipe(9,"async"),a.\u0275\u0275elementEnd()),2&p&&(a.\u0275\u0275property("label",a.\u0275\u0275pipeBind1(1,4,c.label)),a.\u0275\u0275advance(3),a.\u0275\u0275property("ngForOf",a.\u0275\u0275pipeBind1(4,6,c.collections$)),a.\u0275\u0275advance(2),a.\u0275\u0275property("ngIf",a.\u0275\u0275pipeBind1(6,8,c.isLoading$)),a.\u0275\u0275advance(2),a.\u0275\u0275property("ngIf",!a.\u0275\u0275pipeBind1(8,10,c.isLoading$)&&a.\u0275\u0275pipeBind1(9,12,c.hasMore$)))},directives:[B.n,T.sg,R.yS,T.O5],pipes:[U.X$,T.Ov],encapsulation:2}),d})()},94281:(z,D,n)=>{n.d(D,{e:()=>c});var O=n(48532),I=(n(33609),n(93369)),M=n(57200),E=n(4177),f=n(63900),u=n(18505),y=n(82596),t=n(24702),S=n(77467),e=n(5e3),C=n(86956),L=n(37796),a=n(98605),B=n(69808),T=n(62697),R=n(4775),U=n(13582),A=n(54202);function W(r,_){if(1&r&&(e.\u0275\u0275elementStart(0,"div",7)(1,"div",8),e.\u0275\u0275element(2,"ds-thumbnail",9),e.\u0275\u0275pipe(3,"async"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(4,"div",10)(5,"dl",11)(6,"dt",12),e.\u0275\u0275text(7),e.\u0275\u0275pipe(8,"translate"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(9,"dd",13),e.\u0275\u0275text(10),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(11,"dt",12),e.\u0275\u0275text(12),e.\u0275\u0275pipe(13,"translate"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(14,"dd",13),e.\u0275\u0275text(15),e.\u0275\u0275pipe(16,"dsFileSize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(17,"dt",12),e.\u0275\u0275text(18),e.\u0275\u0275pipe(19,"translate"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(20,"dd",13),e.\u0275\u0275text(21),e.\u0275\u0275pipe(22,"async"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(23,"dt",12),e.\u0275\u0275text(24),e.\u0275\u0275pipe(25,"translate"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(26,"dd",13),e.\u0275\u0275text(27),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275elementStart(28,"div",14)(29,"ds-file-download-link",15),e.\u0275\u0275text(30),e.\u0275\u0275pipe(31,"translate"),e.\u0275\u0275elementEnd()()()),2&r){const i=_.$implicit,l=e.\u0275\u0275nextContext(4);let m,v;e.\u0275\u0275advance(2),e.\u0275\u0275property("thumbnail",null==(m=e.\u0275\u0275pipeBind1(3,12,i.thumbnail))?null:m.payload),e.\u0275\u0275advance(5),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(8,14,"item.page.filesection.name")),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(i.name),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(13,16,"item.page.filesection.size")),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(16,18,i.sizeBytes)),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(19,20,"item.page.filesection.format")),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(null==(v=e.\u0275\u0275pipeBind1(22,22,i.format))||null==v.payload?null:v.payload.description),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(25,24,"item.page.filesection.description")),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(i.firstMetadataValue("dc.description")),e.\u0275\u0275advance(2),e.\u0275\u0275property("bitstream",i)("item",l.item),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(31,26,"item.page.filesection.download")," ")}}function K(r,_){if(1&r&&(e.\u0275\u0275elementStart(0,"ds-pagination",5),e.\u0275\u0275template(1,W,32,28,"div",6),e.\u0275\u0275elementEnd()),2&r){const i=e.\u0275\u0275nextContext(2).ngVar,l=e.\u0275\u0275nextContext();e.\u0275\u0275property("hideGear",!0)("hidePagerWhenSinglePage",!0)("paginationOptions",l.originalOptions)("pageInfoState",i)("collectionSize",null==i?null:i.totalElements)("retainScrollPosition",!0),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngForOf",null==i?null:i.page)}}function F(r,_){if(1&r&&(e.\u0275\u0275elementStart(0,"div")(1,"h5",3),e.\u0275\u0275text(2),e.\u0275\u0275pipe(3,"translate"),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(4,K,2,7,"ds-pagination",4),e.\u0275\u0275elementEnd()),2&r){const i=e.\u0275\u0275nextContext().ngVar;e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(3,2,"item.page.filesection.original.bundle")),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",(null==i||null==i.page?null:i.page.length)>0)}}function j(r,_){if(1&r&&(e.\u0275\u0275elementStart(0,"div"),e.\u0275\u0275template(1,F,5,4,"div",2),e.\u0275\u0275elementEnd()),2&r){const i=_.ngVar,l=e.\u0275\u0275nextContext();e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",l.hasValuesInBundle(i))}}function $(r,_){if(1&r&&(e.\u0275\u0275elementStart(0,"div",17)(1,"div",8),e.\u0275\u0275element(2,"ds-thumbnail",9),e.\u0275\u0275pipe(3,"async"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(4,"div",10)(5,"dl",11)(6,"dt",12),e.\u0275\u0275text(7),e.\u0275\u0275pipe(8,"translate"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(9,"dd",13),e.\u0275\u0275text(10),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(11,"dt",12),e.\u0275\u0275text(12),e.\u0275\u0275pipe(13,"translate"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(14,"dd",13),e.\u0275\u0275text(15),e.\u0275\u0275pipe(16,"dsFileSize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(17,"dt",12),e.\u0275\u0275text(18),e.\u0275\u0275pipe(19,"translate"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(20,"dd",13),e.\u0275\u0275text(21),e.\u0275\u0275pipe(22,"async"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(23,"dt",12),e.\u0275\u0275text(24),e.\u0275\u0275pipe(25,"translate"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(26,"dd",13),e.\u0275\u0275text(27),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275elementStart(28,"div",14)(29,"ds-file-download-link",15),e.\u0275\u0275text(30),e.\u0275\u0275pipe(31,"translate"),e.\u0275\u0275elementEnd()()()),2&r){const i=_.$implicit,l=e.\u0275\u0275nextContext(4);let m,v;e.\u0275\u0275advance(2),e.\u0275\u0275property("thumbnail",null==(m=e.\u0275\u0275pipeBind1(3,12,i.thumbnail))?null:m.payload),e.\u0275\u0275advance(5),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(8,14,"item.page.filesection.name")),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(i.name),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(13,16,"item.page.filesection.size")),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(16,18,i.sizeBytes)),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(19,20,"item.page.filesection.format")),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(null==(v=e.\u0275\u0275pipeBind1(22,22,i.format))||null==v.payload?null:v.payload.description),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(25,24,"item.page.filesection.description")),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(i.firstMetadataValue("dc.description")),e.\u0275\u0275advance(2),e.\u0275\u0275property("bitstream",i)("item",l.item),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(31,26,"item.page.filesection.download")," ")}}function d(r,_){if(1&r&&(e.\u0275\u0275elementStart(0,"ds-pagination",5),e.\u0275\u0275template(1,$,32,28,"div",16),e.\u0275\u0275elementEnd()),2&r){const i=e.\u0275\u0275nextContext(2).ngVar,l=e.\u0275\u0275nextContext();e.\u0275\u0275property("hideGear",!0)("hidePagerWhenSinglePage",!0)("paginationOptions",l.licenseOptions)("pageInfoState",i)("collectionSize",null==i?null:i.totalElements)("retainScrollPosition",!0),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngForOf",null==i?null:i.page)}}function P(r,_){if(1&r&&(e.\u0275\u0275elementStart(0,"div")(1,"h5",3),e.\u0275\u0275text(2),e.\u0275\u0275pipe(3,"translate"),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(4,d,2,7,"ds-pagination",4),e.\u0275\u0275elementEnd()),2&r){const i=e.\u0275\u0275nextContext().ngVar;e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(3,2,"item.page.filesection.license.bundle")),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",(null==i||null==i.page?null:i.page.length)>0)}}function p(r,_){if(1&r&&(e.\u0275\u0275elementStart(0,"div"),e.\u0275\u0275template(1,P,5,4,"div",2),e.\u0275\u0275elementEnd()),2&r){const i=_.ngVar,l=e.\u0275\u0275nextContext();e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",l.hasValuesInBundle(i))}}let c=(()=>{class r extends M.FileSectionComponent{constructor(i,l,m,v){super(i,l,m),this.notificationsService=l,this.translateService=m,this.paginationService=v,this.pageSize=5,this.originalOptions=Object.assign(new E.r,{id:"obo",currentPage:1,pageSize:this.pageSize}),this.licenseOptions=Object.assign(new E.r,{id:"lbo",currentPage:1,pageSize:this.pageSize})}ngOnInit(){this.initialize()}initialize(){this.originals$=this.paginationService.getCurrentPagination(this.originalOptions.id,this.originalOptions).pipe((0,f.w)(i=>this.bitstreamDataService.findAllByItemAndBundleName(this.item,"ORIGINAL",{elementsPerPage:i.pageSize,currentPage:i.currentPage},!0,!0,(0,I.l)("format"),(0,I.l)("thumbnail"))),(0,u.b)(i=>{(0,t.Uh)(i.errorMessage)&&this.notificationsService.error(this.translateService.get("file-section.error.header"),`${i.statusCode} ${i.errorMessage}`)})),this.licenses$=this.paginationService.getCurrentPagination(this.licenseOptions.id,this.licenseOptions).pipe((0,f.w)(i=>this.bitstreamDataService.findAllByItemAndBundleName(this.item,"LICENSE",{elementsPerPage:i.pageSize,currentPage:i.currentPage},!0,!0,(0,I.l)("format"),(0,I.l)("thumbnail"))),(0,u.b)(i=>{(0,t.Uh)(i.errorMessage)&&this.notificationsService.error(this.translateService.get("file-section.error.header"),`${i.statusCode} ${i.errorMessage}`)}))}hasValuesInBundle(i){return(0,t.Uh)(i)&&!(0,t.xb)(i.page)}ngOnDestroy(){this.paginationService.clearPagination(this.originalOptions.id),this.paginationService.clearPagination(this.licenseOptions.id)}}return r.\u0275fac=function(i){return new(i||r)(e.\u0275\u0275directiveInject(O.J),e.\u0275\u0275directiveInject(y.T),e.\u0275\u0275directiveInject(C.sK),e.\u0275\u0275directiveInject(S.N))},r.\u0275cmp=e.\u0275\u0275defineComponent({type:r,selectors:[["ds-item-page-full-file-section"]],inputs:{item:"item"},features:[e.\u0275\u0275InheritDefinitionFeature],decls:6,vars:9,consts:[[3,"label"],[4,"ngVar"],[4,"ngIf"],[1,"simple-view-element-header"],[3,"hideGear","hidePagerWhenSinglePage","paginationOptions","pageInfoState","collectionSize","retainScrollPosition",4,"ngIf"],[3,"hideGear","hidePagerWhenSinglePage","paginationOptions","pageInfoState","collectionSize","retainScrollPosition"],["class","file-section row mb-3",4,"ngFor","ngForOf"],[1,"file-section","row","mb-3"],[1,"col-3"],[3,"thumbnail"],[1,"col-7"],[1,"row"],[1,"col-md-4"],[1,"col-md-8"],[1,"col-2"],[3,"bitstream","item"],["class","file-section row",4,"ngFor","ngForOf"],[1,"file-section","row"]],template:function(i,l){if(1&i&&(e.\u0275\u0275elementStart(0,"ds-metadata-field-wrapper",0),e.\u0275\u0275pipe(1,"translate"),e.\u0275\u0275template(2,j,2,1,"div",1),e.\u0275\u0275pipe(3,"async"),e.\u0275\u0275template(4,p,2,1,"div",1),e.\u0275\u0275pipe(5,"async"),e.\u0275\u0275elementEnd()),2&i){let m,v;e.\u0275\u0275property("label",e.\u0275\u0275pipeBind1(1,3,l.label)),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngVar",null==(m=e.\u0275\u0275pipeBind1(3,5,l.originals$))?null:m.payload),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngVar",null==(v=e.\u0275\u0275pipeBind1(5,7,l.licenses$))?null:v.payload)}},directives:[L.n,a.g,B.O5,T.Q,B.sg,R.Z,U.q],pipes:[C.X$,B.Ov,A.p],styles:["@media screen and (min-width: 768px){dt[_ngcontent-%COMP%]{text-align:right}}"]}),r})()},21317:(z,D,n)=>{n.r(D),n.d(D,{FullItemPageComponent:()=>V});var O=n(54004),x=n(39300),I=n(4353),M=n(83639),E=n(28652),f=n(24702),u=n(24755),y=n(19937),t=n(5e3),S=n(74202),e=n(69808),C=n(98605),L=n(72431),a=n(93212),B=n(66370),T=n(34261),R=n(42257),U=n(94281),A=n(69722),W=n(75112),K=n(41971),F=n(48106),j=n(86956);const $=function(s){return[s]};function d(s,g){if(1&s&&(t.\u0275\u0275elementStart(0,"div",20)(1,"a",21),t.\u0275\u0275pipe(2,"async"),t.\u0275\u0275text(3),t.\u0275\u0275pipe(4,"translate"),t.\u0275\u0275elementEnd()()),2&s){const o=t.\u0275\u0275nextContext(5);t.\u0275\u0275advance(1),t.\u0275\u0275property("routerLink",t.\u0275\u0275pureFunction1(6,$,t.\u0275\u0275pipeBind1(2,2,o.itemPageRoute$))),t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(4,4,"item.page.link.simple")," ")}}function P(s,g){if(1&s&&(t.\u0275\u0275elementStart(0,"tr")(1,"td"),t.\u0275\u0275text(2),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(3,"td"),t.\u0275\u0275text(4),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(5,"td"),t.\u0275\u0275text(6),t.\u0275\u0275elementEnd()()),2&s){const o=g.$implicit,h=t.\u0275\u0275nextContext().$implicit;t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate(h.key),t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate(o.value),t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate(o.language)}}function p(s,g){if(1&s&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275template(1,P,7,3,"tr",17),t.\u0275\u0275elementContainerEnd()),2&s){const o=g.$implicit;t.\u0275\u0275advance(1),t.\u0275\u0275property("ngForOf",o.value)}}function c(s,g){if(1&s){const o=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"div",22)(1,"div",23)(2,"button",24),t.\u0275\u0275listener("click",function(){return t.\u0275\u0275restoreView(o),t.\u0275\u0275nextContext(5).back()}),t.\u0275\u0275element(3,"i",25),t.\u0275\u0275text(4),t.\u0275\u0275pipe(5,"translate"),t.\u0275\u0275elementEnd()()()}2&s&&(t.\u0275\u0275advance(4),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(5,1,"item.page.return"),""))}function r(s,g){if(1&s&&(t.\u0275\u0275elementStart(0,"div",9)(1,"div",10),t.\u0275\u0275element(2,"ds-item-page-title-field",11),t.\u0275\u0275elementStart(3,"div",12),t.\u0275\u0275element(4,"ds-dso-page-edit-button",13),t.\u0275\u0275pipe(5,"async"),t.\u0275\u0275elementEnd()(),t.\u0275\u0275template(6,d,5,8,"div",14),t.\u0275\u0275elementStart(7,"div",15)(8,"table",16)(9,"tbody"),t.\u0275\u0275template(10,p,2,1,"ng-container",17),t.\u0275\u0275pipe(11,"keyvalue"),t.\u0275\u0275pipe(12,"async"),t.\u0275\u0275elementEnd()()(),t.\u0275\u0275element(13,"ds-item-page-full-file-section",6)(14,"ds-item-page-collections",6)(15,"ds-item-versions",18),t.\u0275\u0275template(16,c,6,3,"div",19),t.\u0275\u0275elementEnd()),2&s){const o=t.\u0275\u0275nextContext().ngIf,h=t.\u0275\u0275nextContext(3);t.\u0275\u0275advance(2),t.\u0275\u0275property("item",o),t.\u0275\u0275advance(2),t.\u0275\u0275property("pageRoute",t.\u0275\u0275pipeBind1(5,10,h.itemPageRoute$))("dso",o)("tooltipMsg","item.page.edit"),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngIf",!h.fromSubmissionObject),t.\u0275\u0275advance(4),t.\u0275\u0275property("ngForOf",t.\u0275\u0275pipeBind1(11,12,t.\u0275\u0275pipeBind1(12,14,h.metadata$))),t.\u0275\u0275advance(3),t.\u0275\u0275property("item",o),t.\u0275\u0275advance(1),t.\u0275\u0275property("item",o),t.\u0275\u0275advance(1),t.\u0275\u0275property("item",o),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",h.fromSubmissionObject)}}function _(s,g){if(1&s&&(t.\u0275\u0275elementStart(0,"div"),t.\u0275\u0275element(1,"ds-item-alerts",6)(2,"ds-item-versions-notice",6)(3,"ds-view-tracker",7),t.\u0275\u0275template(4,r,17,16,"div",8),t.\u0275\u0275pipe(5,"async"),t.\u0275\u0275elementEnd()),2&s){const o=g.ngIf,h=t.\u0275\u0275nextContext(3);t.\u0275\u0275advance(1),t.\u0275\u0275property("item",o),t.\u0275\u0275advance(1),t.\u0275\u0275property("item",o),t.\u0275\u0275advance(1),t.\u0275\u0275property("object",o),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",!o.isWithdrawn||t.\u0275\u0275pipeBind1(5,4,h.isAdmin$))}}function i(s,g){if(1&s&&(t.\u0275\u0275elementStart(0,"div",4),t.\u0275\u0275template(1,_,6,6,"div",5),t.\u0275\u0275elementEnd()),2&s){const o=t.\u0275\u0275nextContext().ngVar;t.\u0275\u0275property("@fadeInOut",void 0),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",null==o?null:o.payload)}}function l(s,g){1&s&&(t.\u0275\u0275element(0,"ds-error",26),t.\u0275\u0275pipe(1,"translate")),2&s&&t.\u0275\u0275propertyInterpolate("message",t.\u0275\u0275pipeBind1(1,1,"error.item"))}function m(s,g){1&s&&(t.\u0275\u0275element(0,"ds-themed-loading",26),t.\u0275\u0275pipe(1,"translate")),2&s&&t.\u0275\u0275propertyInterpolate("message",t.\u0275\u0275pipeBind1(1,1,"loading.item"))}function v(s,g){if(1&s&&(t.\u0275\u0275elementStart(0,"div",1),t.\u0275\u0275template(1,i,2,2,"div",2),t.\u0275\u0275template(2,l,2,3,"ds-error",3),t.\u0275\u0275template(3,m,2,3,"ds-themed-loading",3),t.\u0275\u0275elementEnd()),2&s){const o=g.ngVar;t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",null==o?null:o.hasSucceeded),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",null==o?null:o.hasFailed),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",null==o?null:o.isLoading)}}let V=(()=>{class s extends I.ItemPageComponent{constructor(o,h,b,X,G,N){super(o,h,b,X,G),this.route=o,this._location=N,this.fromSubmissionObject=!1,this.subs=[]}ngOnInit(){super.ngOnInit(),this.metadata$=this.itemRD$.pipe((0,O.U)(o=>o.payload),(0,x.h)(o=>(0,f.Uh)(o)),(0,O.U)(o=>o.metadata)),this.subs.push(this.route.data.subscribe(o=>{this.fromSubmissionObject=(0,f.Uh)(o.wfi)||(0,f.Uh)(o.wsi)}))}back(){this._location.back()}ngOnDestroy(){this.subs.filter(o=>(0,f.Uh)(o)).forEach(o=>o.unsubscribe())}}return s.\u0275fac=function(o){return new(o||s)(t.\u0275\u0275directiveInject(S.gz),t.\u0275\u0275directiveInject(S.F0),t.\u0275\u0275directiveInject(M.S),t.\u0275\u0275directiveInject(u.e8),t.\u0275\u0275directiveInject(y._),t.\u0275\u0275directiveInject(e.Ye))},s.\u0275cmp=t.\u0275\u0275defineComponent({type:s,selectors:[["ds-full-item-page"]],features:[t.\u0275\u0275InheritDefinitionFeature],decls:2,vars:3,consts:[["class","container",4,"ngVar"],[1,"container"],["class","item-page",4,"ngIf"],[3,"message",4,"ngIf"],[1,"item-page"],[4,"ngIf"],[3,"item"],[3,"object"],["class","full-item-info",4,"ngIf"],[1,"full-item-info"],[1,"d-flex","flex-row"],[1,"mr-auto",3,"item"],[1,"pl-2","space-children-mr"],[3,"pageRoute","dso","tooltipMsg"],["class","simple-view-link my-3",4,"ngIf"],[1,"table-responsive"],[1,"table","table-striped"],[4,"ngFor","ngForOf"],[1,"mt-2",3,"item"],["class","button-row bottom",4,"ngIf"],[1,"simple-view-link","my-3"],[1,"btn","btn-outline-primary",3,"routerLink"],[1,"button-row","bottom"],[1,"text-right"],[1,"btn","btn-outline-secondary","mr-1",3,"click"],[1,"fas","fa-arrow-left"],[3,"message"]],template:function(o,h){1&o&&(t.\u0275\u0275template(0,v,4,3,"div",0),t.\u0275\u0275pipe(1,"async")),2&o&&t.\u0275\u0275property("ngVar",t.\u0275\u0275pipeBind1(1,1,h.itemRD$))},directives:[C.g,e.O5,L.y,a.s,B.f,T.k,R._,S.yS,e.sg,U.e,A.U,W.h,K.q,F.Z],pipes:[e.Ov,j.X$,e.Nd],styles:["[_nghost-%COMP%]   div.simple-view-link[_ngcontent-%COMP%]{text-align:center}[_nghost-%COMP%]   div.simple-view-link[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{min-width:25%}"],data:{animation:[E.Ic]},changeDetection:0}),s})()},4353:(z,D,n)=>{n.r(D),n.d(D,{ItemPageComponent:()=>r});var O=n(54004),x=n(83639),I=n(28652),M=n(68285),E=n(51121),f=n(24755),u=n(40747),y=n(12691),t=n(19937),S=n(47235),e=n(5e3),C=n(74202),L=n(98605),a=n(69808),B=n(72431),T=n(93212),R=n(66370),U=n(91538),A=n(75112),W=n(41971),K=n(48106),F=n(86956);function j(_,i){if(1&_&&e.\u0275\u0275element(0,"ds-listable-object-component-loader",10),2&_){const l=e.\u0275\u0275nextContext().ngIf,m=e.\u0275\u0275nextContext(3);e.\u0275\u0275property("object",l)("viewMode",m.viewMode)}}function $(_,i){if(1&_&&(e.\u0275\u0275elementStart(0,"div"),e.\u0275\u0275element(1,"ds-item-alerts",6)(2,"ds-item-versions-notice",6)(3,"ds-view-tracker",7),e.\u0275\u0275template(4,j,1,2,"ds-listable-object-component-loader",8),e.\u0275\u0275pipe(5,"async"),e.\u0275\u0275element(6,"ds-item-versions",9),e.\u0275\u0275elementEnd()),2&_){const l=i.ngIf,m=e.\u0275\u0275nextContext(3);e.\u0275\u0275advance(1),e.\u0275\u0275property("item",l),e.\u0275\u0275advance(1),e.\u0275\u0275property("item",l),e.\u0275\u0275advance(1),e.\u0275\u0275property("object",l),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",!l.isWithdrawn||e.\u0275\u0275pipeBind1(5,6,m.isAdmin$)),e.\u0275\u0275advance(2),e.\u0275\u0275property("item",l)("displayActions",!1)}}function d(_,i){if(1&_&&(e.\u0275\u0275elementStart(0,"div",4),e.\u0275\u0275template(1,$,7,8,"div",5),e.\u0275\u0275elementEnd()),2&_){const l=e.\u0275\u0275nextContext().ngVar;e.\u0275\u0275property("@fadeInOut",void 0),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",null==l?null:l.payload)}}function P(_,i){1&_&&(e.\u0275\u0275element(0,"ds-error",11),e.\u0275\u0275pipe(1,"translate")),2&_&&e.\u0275\u0275propertyInterpolate("message",e.\u0275\u0275pipeBind1(1,1,"error.item"))}function p(_,i){1&_&&(e.\u0275\u0275element(0,"ds-themed-loading",11),e.\u0275\u0275pipe(1,"translate")),2&_&&e.\u0275\u0275propertyInterpolate("message",e.\u0275\u0275pipeBind1(1,1,"loading.item"))}function c(_,i){if(1&_&&(e.\u0275\u0275elementStart(0,"div",1),e.\u0275\u0275template(1,d,2,2,"div",2),e.\u0275\u0275template(2,P,2,3,"ds-error",3),e.\u0275\u0275template(3,p,2,3,"ds-themed-loading",3),e.\u0275\u0275elementEnd()),2&_){const l=i.ngVar;e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",null==l?null:l.hasSucceeded),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",null==l?null:l.hasFailed),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",null==l?null:l.isLoading)}}let r=(()=>{class _{constructor(l,m,v,V,s){this.route=l,this.router=m,this.items=v,this.authService=V,this.authorizationService=s,this.viewMode=E.w.StandalonePage}ngOnInit(){this.itemRD$=this.route.data.pipe((0,O.U)(l=>l.dso),(0,y.Gh)(this.router,this.authService)),this.itemPageRoute$=this.itemRD$.pipe((0,M.mc)(),(0,O.U)(l=>(0,u.Tt)(l))),this.isAdmin$=this.authorizationService.isAuthorized(S.i.AdministratorOf)}}return _.\u0275fac=function(l){return new(l||_)(e.\u0275\u0275directiveInject(C.gz),e.\u0275\u0275directiveInject(C.F0),e.\u0275\u0275directiveInject(x.S),e.\u0275\u0275directiveInject(f.e8),e.\u0275\u0275directiveInject(t._))},_.\u0275cmp=e.\u0275\u0275defineComponent({type:_,selectors:[["ds-item-page"]],decls:2,vars:3,consts:[["class","container",4,"ngVar"],[1,"container"],["class","item-page",4,"ngIf"],[3,"message",4,"ngIf"],[1,"item-page"],[4,"ngIf"],[3,"item"],[3,"object"],[3,"object","viewMode",4,"ngIf"],[1,"mt-2",3,"item","displayActions"],[3,"object","viewMode"],[3,"message"]],template:function(l,m){1&l&&(e.\u0275\u0275template(0,c,4,3,"div",0),e.\u0275\u0275pipe(1,"async")),2&l&&e.\u0275\u0275property("ngVar",e.\u0275\u0275pipeBind1(1,1,m.itemRD$))},directives:[L.g,a.O5,B.y,T.s,R.f,U.p,A.h,W.q,K.Z],pipes:[a.Ov,F.X$],styles:["@media (max-width: 991.98px){.container[_ngcontent-%COMP%]{width:100%;max-width:none}}"],data:{animation:[I.Ic]},changeDetection:0}),_})()},66370:(z,D,n)=>{n.d(D,{f:()=>M}),n(42621);var x=n(5e3),I=n(13758);let M=(()=>{class E{constructor(u){this.angulartics2=u}ngOnInit(){this.angulartics2.eventTrack.next({action:"pageView",properties:{object:this.object}})}}return E.\u0275fac=function(u){return new(u||E)(x.\u0275\u0275directiveInject(I.b))},E.\u0275cmp=x.\u0275\u0275defineComponent({type:E,selectors:[["ds-view-tracker"]],inputs:{object:"object"},decls:1,vars:0,template:function(u,y){1&u&&x.\u0275\u0275text(0,"\xa0\n")},styles:["[_nghost-%COMP%]{display:none}"]}),E})()}}]);