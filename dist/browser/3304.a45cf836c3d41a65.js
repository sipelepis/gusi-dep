(self.webpackChunkdspace_angular=self.webpackChunkdspace_angular||[]).push([[3304],{34075:(U,M,t)=>{"use strict";t.d(M,{C:()=>u});var p=t(59492),E=t(70920),_=t(7987),D=t(16228),P=t(63749),l=t(28709),I=t(37958),O=t(50939),n=t(70074),b=t(86553),c=t(41633),s=t(10210),e=t(26616),o=t(53858),A=t(61792);function j(a,f){if(1&a){const m=n.\u0275\u0275getCurrentView();n.\u0275\u0275elementStart(0,"button",15),n.\u0275\u0275listener("click",function(){return n.\u0275\u0275restoreView(m),n.\u0275\u0275nextContext(4).deleteLogo()}),n.\u0275\u0275pipe(1,"translate"),n.\u0275\u0275element(2,"i",16),n.\u0275\u0275elementEnd()}if(2&a){const m=n.\u0275\u0275nextContext(4);n.\u0275\u0275propertyInterpolate("title",n.\u0275\u0275pipeBind1(1,1,m.type.value+".edit.logo.delete.title"))}}function K(a,f){if(1&a){const m=n.\u0275\u0275getCurrentView();n.\u0275\u0275elementStart(0,"button",17),n.\u0275\u0275listener("click",function(){return n.\u0275\u0275restoreView(m),n.\u0275\u0275nextContext(4).undoDeleteLogo()}),n.\u0275\u0275pipe(1,"translate"),n.\u0275\u0275element(2,"i",18),n.\u0275\u0275elementEnd()}if(2&a){const m=n.\u0275\u0275nextContext(4);n.\u0275\u0275propertyInterpolate("title",n.\u0275\u0275pipeBind1(1,1,m.type.value+".edit.logo.delete-undo.title"))}}function V(a,f){if(1&a&&(n.\u0275\u0275elementStart(0,"div",12),n.\u0275\u0275template(1,j,3,3,"button",13),n.\u0275\u0275template(2,K,3,3,"button",14),n.\u0275\u0275elementEnd()),2&a){const m=n.\u0275\u0275nextContext(3);n.\u0275\u0275advance(1),n.\u0275\u0275property("ngIf",!m.markLogoForDeletion),n.\u0275\u0275advance(1),n.\u0275\u0275property("ngIf",m.markLogoForDeletion)}}const z=function(a){return{"alert-danger":a}};function $(a,f){if(1&a&&(n.\u0275\u0275elementStart(0,"div",7)(1,"div",1)(2,"div",8),n.\u0275\u0275element(3,"ds-comcol-page-logo",9),n.\u0275\u0275elementEnd(),n.\u0275\u0275elementStart(4,"div",10),n.\u0275\u0275template(5,V,3,2,"div",11),n.\u0275\u0275elementEnd()()()),2&a){const m=n.\u0275\u0275nextContext().ngVar,T=n.\u0275\u0275nextContext();n.\u0275\u0275property("ngClass",n.\u0275\u0275pureFunction1(3,z,T.markLogoForDeletion)),n.\u0275\u0275advance(3),n.\u0275\u0275property("logo",m),n.\u0275\u0275advance(2),n.\u0275\u0275property("ngIf",m)}}function W(a,f){if(1&a){const m=n.\u0275\u0275getCurrentView();n.\u0275\u0275elementStart(0,"ds-uploader",20),n.\u0275\u0275listener("onCompleteItem",function(){return n.\u0275\u0275restoreView(m),n.\u0275\u0275nextContext(3).onCompleteItem()})("onUploadError",function(){return n.\u0275\u0275restoreView(m),n.\u0275\u0275nextContext(3).onUploadError()}),n.\u0275\u0275elementEnd()}if(2&a){const m=n.\u0275\u0275nextContext(3);n.\u0275\u0275property("dropMsg",m.type.value+".edit.logo.upload")("dropOverDocumentMsg",m.type.value+".edit.logo.upload")("enableDragOverDocument",!0)("uploadFilesOptions",m.uploadFilesOptions)}}function F(a,f){if(1&a&&(n.\u0275\u0275elementStart(0,"div",2),n.\u0275\u0275template(1,W,1,4,"ds-uploader",19),n.\u0275\u0275pipe(2,"async"),n.\u0275\u0275elementEnd()),2&a){const m=n.\u0275\u0275nextContext(2);n.\u0275\u0275advance(1),n.\u0275\u0275property("ngIf",n.\u0275\u0275pipeBind1(2,1,m.initializedUploaderOptions))}}function h(a,f){if(1&a&&(n.\u0275\u0275elementContainerStart(0),n.\u0275\u0275template(1,$,6,5,"div",5),n.\u0275\u0275template(2,F,3,3,"div",6),n.\u0275\u0275elementContainerEnd()),2&a){const m=f.ngVar;n.\u0275\u0275advance(1),n.\u0275\u0275property("ngIf",m),n.\u0275\u0275advance(1),n.\u0275\u0275property("ngIf",!m)}}function y(a,f){if(1&a){const m=n.\u0275\u0275getCurrentView();n.\u0275\u0275elementStart(0,"ds-form",21),n.\u0275\u0275listener("submitForm",function(){return n.\u0275\u0275restoreView(m),n.\u0275\u0275nextContext().onSubmit()}),n.\u0275\u0275elementStart(1,"button",22),n.\u0275\u0275listener("click",function(){return n.\u0275\u0275restoreView(m),n.\u0275\u0275nextContext().back.emit()}),n.\u0275\u0275element(2,"i",23),n.\u0275\u0275text(3),n.\u0275\u0275pipe(4,"translate"),n.\u0275\u0275elementEnd()()}if(2&a){const m=n.\u0275\u0275nextContext();n.\u0275\u0275property("formId","comcol-form-id")("formModel",m.formModel)("displayCancel",!1),n.\u0275\u0275advance(3),n.\u0275\u0275textInterpolate1(" ",n.\u0275\u0275pipeBind1(4,4,m.type.value+".edit.return")," ")}}let u=(()=>{class a extends _.M{constructor(m,T,L,H,J,X,N){super(m,T,L,H,X,N),this.formService=m,this.translate=T,this.notificationsService=L,this.authService=H,this.dsoService=J,this.requestService=X,this.objectCache=N,this.dso=new E.S,this.type=E.S.type,this.formModel=[new p.b1u({id:"title",name:"dc.title",required:!0,validators:{required:null},errorMessages:{required:"Please enter a name for this title"}}),new p.HBf({id:"description",name:"dc.description"}),new p.HBf({id:"abstract",name:"dc.description.abstract"}),new p.HBf({id:"rights",name:"dc.rights"}),new p.HBf({id:"tableofcontents",name:"dc.description.tableofcontents"})]}}return a.\u0275fac=function(m){return new(m||a)(n.\u0275\u0275directiveInject(p.w1X),n.\u0275\u0275directiveInject(b.sK),n.\u0275\u0275directiveInject(D.T),n.\u0275\u0275directiveInject(l.e8),n.\u0275\u0275directiveInject(P.w),n.\u0275\u0275directiveInject(I.s),n.\u0275\u0275directiveInject(O.a))},a.\u0275cmp=n.\u0275\u0275defineComponent({type:a,selectors:[["ds-community-form"]],inputs:{dso:"dso"},features:[n.\u0275\u0275InheritDefinitionFeature],decls:9,vars:7,consts:[[1,"container-fluid"],[1,"row"],[1,"col-12","d-inline-block"],[4,"ngVar"],[3,"formId","formModel","displayCancel","submitForm",4,"ngIf"],["class","col-12 d-inline-block alert","id","logo-section",3,"ngClass",4,"ngIf"],["class","col-12 d-inline-block",4,"ngIf"],["id","logo-section",1,"col-12","d-inline-block","alert",3,"ngClass"],[1,"col-8","d-inline-block"],[3,"logo"],[1,"col-4","d-inline-block"],["class","btn-group btn-group-sm float-right","role","group",4,"ngIf"],["role","group",1,"btn-group","btn-group-sm","float-right"],["type","button","class","btn btn-danger",3,"title","click",4,"ngIf"],["type","button","class","btn btn-warning",3,"title","click",4,"ngIf"],["type","button",1,"btn","btn-danger",3,"title","click"],["aria-hidden","true",1,"fas","fa-trash"],["type","button",1,"btn","btn-warning",3,"title","click"],["aria-hidden","true",1,"fas","fa-undo"],[3,"dropMsg","dropOverDocumentMsg","enableDragOverDocument","uploadFilesOptions","onCompleteItem","onUploadError",4,"ngIf"],[3,"dropMsg","dropOverDocumentMsg","enableDragOverDocument","uploadFilesOptions","onCompleteItem","onUploadError"],[3,"formId","formModel","displayCancel","submitForm"],["before","",1,"btn","btn-outline-secondary",3,"click"],[1,"fas","fa-arrow-left"]],template:function(m,T){if(1&m&&(n.\u0275\u0275elementStart(0,"div",0)(1,"div",1)(2,"div",2)(3,"label"),n.\u0275\u0275text(4),n.\u0275\u0275pipe(5,"translate"),n.\u0275\u0275elementEnd()(),n.\u0275\u0275template(6,h,3,2,"ng-container",3),n.\u0275\u0275pipe(7,"async"),n.\u0275\u0275elementEnd()(),n.\u0275\u0275template(8,y,5,6,"ds-form",4)),2&m){let L;n.\u0275\u0275advance(4),n.\u0275\u0275textInterpolate(n.\u0275\u0275pipeBind1(5,3,T.type.value+".edit.logo.label")),n.\u0275\u0275advance(2),n.\u0275\u0275property("ngVar",null==(L=n.\u0275\u0275pipeBind1(7,5,null==T.dso?null:T.dso.logo))?null:L.payload),n.\u0275\u0275advance(2),n.\u0275\u0275property("ngIf",T.formModel)}},directives:[c.g,s.O5,s.mk,e.e,o.B,A.U],pipes:[b.X$,s.Ov],styles:[""]}),a})()},72057:(U,M,t)=>{"use strict";t.d(M,{T:()=>P});var p=t(66004),E=t(39570),_=t(48197),D=t(70074);let P=(()=>{class l{}return l.\u0275fac=function(O){return new(O||l)},l.\u0275mod=D.\u0275\u0275defineNgModule({type:l}),l.\u0275inj=D.\u0275\u0275defineInjector({imports:[[E.H,_.e,p.m]]}),l})()},90975:(U,M,t)=>{"use strict";t.r(M),t.d(M,{CommunityPageComponent:()=>k});var p=t(48358),E=t(77007),_=t(69637),D=t(63749),P=t(93244),l=t(95033),I=t(25839),O=t(5496),n=t(28709),b=t(30835),c=t(84705),s=t(18595),e=t(59846),o=t(70074),A=t(37895),j=t(41633),K=t(10210),V=t(7115),z=t(10957),$=t(26616),W=t(81588),F=t(88908),h=t(6813),y=t(82104),u=t(71111),a=t(21038),f=t(61206),m=t(76924),T=t(86553);function L(g,R){if(1&g&&(o.\u0275\u0275element(0,"ds-comcol-page-logo",20),o.\u0275\u0275pipe(1,"async")),2&g){const d=o.\u0275\u0275nextContext(4);let S;o.\u0275\u0275property("logo",null==(S=o.\u0275\u0275pipeBind1(1,2,d.logoRD$))?null:S.payload)("alternateText","Community Logo")}}function H(g,R){if(1&g&&(o.\u0275\u0275element(0,"ds-dso-page-edit-button",21),o.\u0275\u0275pipe(1,"async")),2&g){const d=o.\u0275\u0275nextContext().$implicit,S=o.\u0275\u0275nextContext(3);o.\u0275\u0275property("pageRoute",o.\u0275\u0275pipeBind1(1,3,S.communityPageRoute$))("dso",d)("tooltipMsg","community.page.edit")}}function J(g,R){if(1&g&&(o.\u0275\u0275elementStart(0,"footer",22),o.\u0275\u0275element(1,"ds-comcol-page-content",12),o.\u0275\u0275elementEnd()),2&g){const d=o.\u0275\u0275nextContext().$implicit;o.\u0275\u0275advance(1),o.\u0275\u0275property("content",d.copyrightText)("hasInnerHtml",!0)}}function X(g,R){if(1&g&&(o.\u0275\u0275elementStart(0,"div"),o.\u0275\u0275element(1,"ds-view-tracker",6),o.\u0275\u0275elementStart(2,"div",7)(3,"header",8),o.\u0275\u0275element(4,"ds-comcol-page-header",9),o.\u0275\u0275template(5,L,2,4,"ds-comcol-page-logo",10),o.\u0275\u0275element(6,"ds-themed-comcol-page-handle",11)(7,"ds-comcol-page-content",12)(8,"ds-comcol-page-content",13),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementStart(9,"div",14),o.\u0275\u0275template(10,H,2,5,"ds-dso-page-edit-button",15),o.\u0275\u0275pipe(11,"async"),o.\u0275\u0275elementEnd()(),o.\u0275\u0275elementStart(12,"section",16),o.\u0275\u0275element(13,"ds-themed-comcol-page-browse-by",17)(14,"ds-themed-community-page-sub-community-list",18)(15,"ds-themed-community-page-sub-collection-list",18),o.\u0275\u0275elementEnd(),o.\u0275\u0275template(16,J,2,2,"footer",19),o.\u0275\u0275elementEnd()),2&g){const d=R.$implicit,S=o.\u0275\u0275nextContext(3);o.\u0275\u0275advance(1),o.\u0275\u0275property("object",d),o.\u0275\u0275advance(3),o.\u0275\u0275property("name",d.name),o.\u0275\u0275advance(1),o.\u0275\u0275property("ngIf",S.logoRD$),o.\u0275\u0275advance(1),o.\u0275\u0275property("content",d.handle)("title","community.page.handle"),o.\u0275\u0275advance(1),o.\u0275\u0275property("content",d.introductoryText)("hasInnerHtml",!0),o.\u0275\u0275advance(1),o.\u0275\u0275property("content",d.sidebarText)("hasInnerHtml",!0)("title","community.page.news"),o.\u0275\u0275advance(2),o.\u0275\u0275property("ngIf",o.\u0275\u0275pipeBind1(11,16,S.isCommunityAdmin$)),o.\u0275\u0275advance(3),o.\u0275\u0275property("id",d.id)("contentType",d.type),o.\u0275\u0275advance(1),o.\u0275\u0275property("community",d),o.\u0275\u0275advance(1),o.\u0275\u0275property("community",d),o.\u0275\u0275advance(1),o.\u0275\u0275property("ngIf",d.copyrightText)}}function N(g,R){if(1&g&&(o.\u0275\u0275elementStart(0,"div",4),o.\u0275\u0275template(1,X,17,18,"div",5),o.\u0275\u0275elementEnd()),2&g){const d=o.\u0275\u0275nextContext().ngVar;o.\u0275\u0275property("@fadeInOut",void 0),o.\u0275\u0275advance(1),o.\u0275\u0275property("ngIf",null==d?null:d.payload)}}function Z(g,R){1&g&&(o.\u0275\u0275element(0,"ds-error",23),o.\u0275\u0275pipe(1,"translate")),2&g&&o.\u0275\u0275propertyInterpolate("message",o.\u0275\u0275pipeBind1(1,1,"error.community"))}function w(g,R){1&g&&(o.\u0275\u0275element(0,"ds-themed-loading",23),o.\u0275\u0275pipe(1,"translate")),2&g&&o.\u0275\u0275propertyInterpolate("message",o.\u0275\u0275pipeBind1(1,1,"loading.community"))}function Y(g,R){if(1&g&&(o.\u0275\u0275elementStart(0,"div",1),o.\u0275\u0275template(1,N,2,2,"div",2),o.\u0275\u0275template(2,Z,2,3,"ds-error",3),o.\u0275\u0275template(3,w,2,3,"ds-themed-loading",3),o.\u0275\u0275elementEnd()),2&g){const d=R.ngVar;o.\u0275\u0275advance(1),o.\u0275\u0275property("ngIf",null==d?null:d.hasSucceeded),o.\u0275\u0275advance(1),o.\u0275\u0275property("ngIf",null==d?null:d.hasFailed),o.\u0275\u0275advance(1),o.\u0275\u0275property("ngIf",null==d?null:d.isLoading)}}let k=(()=>{class g{constructor(d,S,q,Q,tt,et){this.communityDataService=d,this.metadata=S,this.route=q,this.router=Q,this.authService=tt,this.authorizationDataService=et}ngOnInit(){this.communityRD$=this.route.data.pipe((0,p.U)(d=>d.dso),(0,e.Gh)(this.router,this.authService)),this.logoRD$=this.communityRD$.pipe((0,p.U)(d=>d.payload),(0,E.h)(d=>(0,I.Uh)(d)),(0,_.z)(d=>d.logo)),this.communityPageRoute$=this.communityRD$.pipe((0,O.mc)(),(0,p.U)(d=>(0,s.Ke)(d.id))),this.isCommunityAdmin$=this.authorizationDataService.isAuthorized(c.i.IsCommunityAdmin)}}return g.\u0275fac=function(d){return new(d||g)(o.\u0275\u0275directiveInject(D.w),o.\u0275\u0275directiveInject(P.D),o.\u0275\u0275directiveInject(A.gz),o.\u0275\u0275directiveInject(A.F0),o.\u0275\u0275directiveInject(n.e8),o.\u0275\u0275directiveInject(b._))},g.\u0275cmp=o.\u0275\u0275defineComponent({type:g,selectors:[["ds-community-page"]],decls:2,vars:3,consts:[["class","container",4,"ngVar"],[1,"container"],["class","community-page",4,"ngIf"],[3,"message",4,"ngIf"],[1,"community-page"],[4,"ngIf"],[3,"object"],[1,"d-flex","flex-row","border-bottom","mb-4","pb-4"],[1,"comcol-header","mr-auto"],[3,"name"],[3,"logo","alternateText",4,"ngIf"],[3,"content","title"],[3,"content","hasInnerHtml"],[3,"content","hasInnerHtml","title"],[1,"pl-2","space-children-mr"],[3,"pageRoute","dso","tooltipMsg",4,"ngIf"],[1,"comcol-page-browse-section"],[3,"id","contentType"],[3,"community"],["class","border-top my-5 pt-4",4,"ngIf"],[3,"logo","alternateText"],[3,"pageRoute","dso","tooltipMsg"],[1,"border-top","my-5","pt-4"],[3,"message"]],template:function(d,S){1&d&&(o.\u0275\u0275template(0,Y,4,3,"div",0),o.\u0275\u0275pipe(1,"async")),2&d&&o.\u0275\u0275property("ngVar",o.\u0275\u0275pipeBind1(1,1,S.communityRD$))},directives:[j.g,K.O5,V.f,z.U,$.e,W.g,F.v,h._,y.g,u.v,a.F,f.q,m.Z],pipes:[K.Ov,T.X$],styles:[""],data:{animation:[l.Ic]},changeDetection:0}),g})()},73304:(U,M,t)=>{"use strict";t.r(M),t.d(M,{CommunityPageModule:()=>pt});var p=t(10210),E=t(66004),P=(t(90975),t(31114),t(37895)),l=t(52258),I=t(70920),O=t(63749),n=t(43685),b=t(81175),c=t(16228),s=t(37958),e=t(70074),o=t(86553),A=t(41633),j=t(34075);function K(i,v){1&i&&(e.\u0275\u0275elementStart(0,"h2",7),e.\u0275\u0275text(1),e.\u0275\u0275pipe(2,"translate"),e.\u0275\u0275elementEnd()),2&i&&(e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(2,1,"community.create.head")))}const V=function(i){return{parent:i}};function z(i,v){if(1&i&&(e.\u0275\u0275elementStart(0,"h2",8),e.\u0275\u0275text(1),e.\u0275\u0275pipe(2,"translate"),e.\u0275\u0275elementEnd()),2&i){const r=e.\u0275\u0275nextContext().ngVar;e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind2(2,1,"community.create.sub-head",e.\u0275\u0275pureFunction1(4,V,r.name)))}}function $(i,v){if(1&i&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275template(1,K,3,3,"h2",5),e.\u0275\u0275template(2,z,3,6,"h2",6),e.\u0275\u0275elementContainerEnd()),2&i){const r=v.ngVar;e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",!r),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",r)}}let W=(()=>{class i extends b.k{constructor(r,C,x,B,G,ot){super(r,r,C,x,B,G,ot),this.communityDataService=r,this.routeService=C,this.router=x,this.notificationsService=B,this.translate=G,this.requestService=ot,this.frontendURL="/communities/",this.type=I.S.type}}return i.\u0275fac=function(r){return new(r||i)(e.\u0275\u0275directiveInject(O.w),e.\u0275\u0275directiveInject(n.MZ),e.\u0275\u0275directiveInject(P.F0),e.\u0275\u0275directiveInject(c.T),e.\u0275\u0275directiveInject(o.sK),e.\u0275\u0275directiveInject(s.s))},i.\u0275cmp=e.\u0275\u0275defineComponent({type:i,selectors:[["ds-create-community"]],features:[e.\u0275\u0275InheritDefinitionFeature],decls:6,vars:3,consts:[[1,"container"],[1,"row"],[1,"col-12","pb-4"],[4,"ngVar"],[3,"submitForm","back","finish"],["id","header","class","border-bottom pb-2",4,"ngIf"],["id","sub-header","class","border-bottom pb-2",4,"ngIf"],["id","header",1,"border-bottom","pb-2"],["id","sub-header",1,"border-bottom","pb-2"]],template:function(r,C){if(1&r&&(e.\u0275\u0275elementStart(0,"div",0)(1,"div",1)(2,"div",2),e.\u0275\u0275template(3,$,3,2,"ng-container",3),e.\u0275\u0275pipe(4,"async"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(5,"ds-community-form",4),e.\u0275\u0275listener("submitForm",function(B){return C.onSubmit(B)})("back",function(){return C.navigateToHome()})("finish",function(){return C.navigateToNewPage()}),e.\u0275\u0275elementEnd()()),2&r){let x;e.\u0275\u0275advance(3),e.\u0275\u0275property("ngVar",null==(x=e.\u0275\u0275pipeBind1(4,1,C.parentRD$))?null:x.payload)}},directives:[A.g,p.O5,j.C],pipes:[p.Ov,o.X$],styles:[""]}),i})();var F=t(54818),h=t(25839),y=t(48358),u=t(27303),a=t(9237),f=t(5496);let m=(()=>{class i{constructor(r,C){this.router=r,this.communityService=C}canActivate(r,C){const x=r.queryParams.parent;return(0,h.xI)(x)?(0,a.of)(!0):this.communityService.findById(x).pipe((0,f.hC)(),(0,y.U)(B=>(0,h.Uh)(B)&&B.hasSucceeded&&(0,h.Uh)(B.payload)),(0,u.b)(B=>{B||this.router.navigate(["/404"])}))}}return i.\u0275fac=function(r){return new(r||i)(e.\u0275\u0275inject(P.F0),e.\u0275\u0275inject(O.w))},i.\u0275prov=e.\u0275\u0275defineInjectable({token:i,factory:i.\u0275fac}),i})();var T=t(6781);function L(i,v){1&i&&(e.\u0275\u0275elementStart(0,"span"),e.\u0275\u0275element(1,"i",12),e.\u0275\u0275text(2),e.\u0275\u0275pipe(3,"translate"),e.\u0275\u0275elementEnd()),2&i&&(e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(3,1,"community.delete.processing"),""))}function H(i,v){1&i&&(e.\u0275\u0275elementStart(0,"span"),e.\u0275\u0275element(1,"i",13),e.\u0275\u0275text(2),e.\u0275\u0275pipe(3,"translate"),e.\u0275\u0275elementEnd()),2&i&&(e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(3,1,"community.delete.confirm"),""))}const J=function(i){return{dso:i}};function X(i,v){if(1&i){const r=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275elementStart(1,"div",3)(2,"h2",4),e.\u0275\u0275text(3),e.\u0275\u0275pipe(4,"translate"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(5,"p",5),e.\u0275\u0275text(6),e.\u0275\u0275pipe(7,"translate"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(8,"div",6)(9,"div",7)(10,"button",8),e.\u0275\u0275listener("click",function(){const B=e.\u0275\u0275restoreView(r).ngVar;return e.\u0275\u0275nextContext().onCancel(B)}),e.\u0275\u0275pipe(11,"async"),e.\u0275\u0275element(12,"i",9),e.\u0275\u0275text(13),e.\u0275\u0275pipe(14,"translate"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(15,"button",10),e.\u0275\u0275listener("click",function(){const B=e.\u0275\u0275restoreView(r).ngVar;return e.\u0275\u0275nextContext().onConfirm(B)}),e.\u0275\u0275pipe(16,"async"),e.\u0275\u0275template(17,L,4,3,"span",11),e.\u0275\u0275pipe(18,"async"),e.\u0275\u0275template(19,H,4,3,"span",11),e.\u0275\u0275pipe(20,"async"),e.\u0275\u0275elementEnd()()()(),e.\u0275\u0275elementContainerEnd()}if(2&i){const r=v.ngVar,C=e.\u0275\u0275nextContext();e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(4,7,"community.delete.head")),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind2(7,9,"community.delete.text",e.\u0275\u0275pureFunction1(22,J,r.name))),e.\u0275\u0275advance(4),e.\u0275\u0275property("disabled",e.\u0275\u0275pipeBind1(11,12,C.processing$)),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(14,14,"community.delete.cancel")," "),e.\u0275\u0275advance(2),e.\u0275\u0275property("disabled",e.\u0275\u0275pipeBind1(16,16,C.processing$)),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",e.\u0275\u0275pipeBind1(18,18,C.processing$)),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",!e.\u0275\u0275pipeBind1(20,20,C.processing$))}}let N=(()=>{class i extends T.M{constructor(r,C,x,B,G){super(r,C,x,B,G),this.dsoDataService=r,this.router=C,this.route=x,this.notifications=B,this.translate=G,this.frontendURL="/communities/"}}return i.\u0275fac=function(r){return new(r||i)(e.\u0275\u0275directiveInject(O.w),e.\u0275\u0275directiveInject(P.F0),e.\u0275\u0275directiveInject(P.gz),e.\u0275\u0275directiveInject(c.T),e.\u0275\u0275directiveInject(o.sK))},i.\u0275cmp=e.\u0275\u0275defineComponent({type:i,selectors:[["ds-delete-community"]],features:[e.\u0275\u0275InheritDefinitionFeature],decls:4,vars:3,consts:[[1,"container"],[1,"row"],[4,"ngVar"],[1,"col-12","pb-4"],["id","header",1,"border-bottom","pb-2"],[1,"pb-2"],[1,"form-group","row"],[1,"col","text-right","space-children-mr"],[1,"btn","btn-outline-secondary",3,"disabled","click"],[1,"fas","fa-times"],[1,"btn","btn-danger",3,"disabled","click"],[4,"ngIf"],[1,"fas","fa-circle-notch","fa-spin"],[1,"fas","fa-trash"]],template:function(r,C){if(1&r&&(e.\u0275\u0275elementStart(0,"div",0)(1,"div",1),e.\u0275\u0275template(2,X,21,24,"ng-container",2),e.\u0275\u0275pipe(3,"async"),e.\u0275\u0275elementEnd()()),2&r){let x;e.\u0275\u0275advance(2),e.\u0275\u0275property("ngVar",null==(x=e.\u0275\u0275pipeBind1(3,1,C.dsoRD$))?null:x.payload)}},directives:[A.g,p.O5],pipes:[p.Ov,o.X$],styles:[""]}),i})();var Z=t(45234),w=t(23679);let Y=(()=>{class i extends w.t{constructor(r,C){super(r,C),this.breadcrumbService=r,this.dataService=C}get followLinks(){return l.x}}return i.\u0275fac=function(r){return new(r||i)(e.\u0275\u0275inject(Z.B),e.\u0275\u0275inject(O.w))},i.\u0275prov=e.\u0275\u0275defineInjectable({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();var k=t(72564),g=t(18595),R=t(30835),d=t(9910),S=t(84705),q=t(28709);let Q=(()=>{class i extends d.h{constructor(r,C,x,B){super(r,C,x,B),this.resolver=r,this.authorizationService=C,this.router=x,this.authService=B}getFeatureID(r,C){return(0,a.of)(S.i.AdministratorOf)}}return i.\u0275fac=function(r){return new(r||i)(e.\u0275\u0275inject(l.h),e.\u0275\u0275inject(R._),e.\u0275\u0275inject(P.F0),e.\u0275\u0275inject(q.e8))},i.\u0275prov=e.\u0275\u0275defineInjectable({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();var tt=t(46533);function et(i,v){}let nt=(()=>{class i extends tt.F{getComponentName(){return"CommunityPageComponent"}importThemedComponent(r){return t(67695)(`./${r}/app/community-page/community-page.component`)}importUnthemedComponent(){return Promise.resolve().then(t.bind(t,90975))}}return i.\u0275fac=function(){let v;return function(C){return(v||(v=e.\u0275\u0275getInheritedFactory(i)))(C||i)}}(),i.\u0275cmp=e.\u0275\u0275defineComponent({type:i,selectors:[["ds-themed-community-page"]],features:[e.\u0275\u0275InheritDefinitionFeature],decls:2,vars:0,consts:[["vcr",""]],template:function(r,C){1&r&&e.\u0275\u0275template(0,et,0,0,"ng-template",null,0,e.\u0275\u0275templateRefExtractor)},encapsulation:2}),i})();var it=t(65199);let at=(()=>{class i{}return i.\u0275fac=function(r){return new(r||i)},i.\u0275mod=e.\u0275\u0275defineNgModule({type:i}),i.\u0275inj=e.\u0275\u0275defineInjector({providers:[l.h,Y,Z.B,k.M,m,Q],imports:[[P.Bz.forChild([{path:g.GR,component:W,canActivate:[F.J,m]},{path:":id",resolve:{dso:l.h,breadcrumb:Y},runGuardsAndResolvers:"always",children:[{path:g.WY,loadChildren:()=>t.e(3511).then(t.bind(t,3511)).then(v=>v.EditCommunityPageModule),canActivate:[Q]},{path:"delete",pathMatch:"full",component:N,canActivate:[F.J]},{path:"",component:nt,pathMatch:"full"}],data:{menu:{public:[{id:"statistics_community_:id",active:!0,visible:!0,model:{type:it.U.LINK,text:"menu.section.statistics",link:"statistics/communities/:id/"}}]}}}])]]}),i})();t(48363);var rt=t(55450),st=t(72057),ct=t(39570);t(71111),t(21038);let pt=(()=>{class i{}return i.\u0275fac=function(r){return new(r||i)},i.\u0275mod=e.\u0275\u0275defineNgModule({type:i}),i.\u0275inj=e.\u0275\u0275defineInjector({imports:[[p.ez,E.m,at,rt.p.forRoot(),st.T,ct.H]]}),i})()},31114:(U,M,t)=>{"use strict";t.r(M),t.d(M,{CommunityPageSubCollectionListComponent:()=>F});var p=t(35841),E=t(53426),D=(t(70920),t(95033)),P=t(98865),l=t(1367),I=t(64508),O=t(57854),n=t(21160),b=t(25839),c=t(70074),s=t(41633),e=t(10210),o=t(64285),A=t(61206),j=t(76924),K=t(86553);function V(h,y){if(1&h&&(c.\u0275\u0275elementStart(0,"div")(1,"h2"),c.\u0275\u0275text(2),c.\u0275\u0275pipe(3,"translate"),c.\u0275\u0275elementEnd(),c.\u0275\u0275element(4,"ds-viewable-collection",3),c.\u0275\u0275elementEnd()),2&h){const u=c.\u0275\u0275nextContext().ngVar,a=c.\u0275\u0275nextContext();c.\u0275\u0275property("@fadeIn",void 0),c.\u0275\u0275advance(2),c.\u0275\u0275textInterpolate(c.\u0275\u0275pipeBind1(3,6,"community.sub-collection-list.head")),c.\u0275\u0275advance(2),c.\u0275\u0275property("config",a.config)("sortConfig",a.sortConfig)("objects",u)("hideGear",!1)}}function z(h,y){1&h&&(c.\u0275\u0275element(0,"ds-error",4),c.\u0275\u0275pipe(1,"translate")),2&h&&c.\u0275\u0275propertyInterpolate("message",c.\u0275\u0275pipeBind1(1,1,"error.sub-collections"))}function $(h,y){1&h&&(c.\u0275\u0275element(0,"ds-themed-loading",4),c.\u0275\u0275pipe(1,"translate")),2&h&&c.\u0275\u0275propertyInterpolate("message",c.\u0275\u0275pipeBind1(1,1,"loading.sub-collections"))}function W(h,y){if(1&h&&(c.\u0275\u0275elementContainerStart(0),c.\u0275\u0275template(1,V,5,8,"div",1),c.\u0275\u0275template(2,z,2,3,"ds-error",2),c.\u0275\u0275template(3,$,2,3,"ds-themed-loading",2),c.\u0275\u0275elementContainerEnd()),2&h){const u=y.ngVar;c.\u0275\u0275advance(1),c.\u0275\u0275property("ngIf",(null==u?null:u.hasSucceeded)&&(null==u?null:u.payload.totalElements)>0),c.\u0275\u0275advance(1),c.\u0275\u0275property("ngIf",null==u?null:u.hasFailed),c.\u0275\u0275advance(1),c.\u0275\u0275property("ngIf",null==u?null:u.isLoading)}}let F=(()=>{class h{constructor(u,a){this.cds=u,this.paginationService=a,this.pageId="cmcl",this.subCollectionsRDObs=new p.X({})}ngOnInit(){this.config=new P.r,this.config.id=this.pageId,(0,b.Uh)(this.pageSize)&&(this.config.pageSize=this.pageSize),this.config.currentPage=1,this.sortConfig=new l.o("dc.title",l.S.ASC),this.initPage()}initPage(){const u=this.paginationService.getCurrentPagination(this.config.id,this.config),a=this.paginationService.getCurrentSort(this.config.id,this.sortConfig);(0,E.a)([u,a]).pipe((0,n.w)(([f,m])=>this.cds.findByParent(this.community.id,{currentPage:f.currentPage,elementsPerPage:f.pageSize,sort:{field:m.field,direction:m.direction}}))).subscribe(f=>{this.subCollectionsRDObs.next(f)})}ngOnDestroy(){this.paginationService.clearPagination(this.config.id)}}return h.\u0275fac=function(u){return new(u||h)(c.\u0275\u0275directiveInject(I.W),c.\u0275\u0275directiveInject(O.N))},h.\u0275cmp=c.\u0275\u0275defineComponent({type:h,selectors:[["ds-community-page-sub-collection-list"]],inputs:{community:"community",pageSize:"pageSize"},decls:2,vars:3,consts:[[4,"ngVar"],[4,"ngIf"],[3,"message",4,"ngIf"],[3,"config","sortConfig","objects","hideGear"],[3,"message"]],template:function(u,a){1&u&&(c.\u0275\u0275template(0,W,4,3,"ng-container",0),c.\u0275\u0275pipe(1,"async")),2&u&&c.\u0275\u0275property("ngVar",c.\u0275\u0275pipeBind1(1,1,a.subCollectionsRDObs))},directives:[s.g,e.O5,o.c,A.q,j.Z],pipes:[e.Ov,K.X$],styles:[""],data:{animation:[D.Ji]}}),h})()},21038:(U,M,t)=>{"use strict";t.d(M,{F:()=>P});var p=t(46533),_=(t(70920),t(70074));function D(l,I){}let P=(()=>{class l extends p.F{constructor(){super(...arguments),this.inAndOutputNames=["community","pageSize"]}getComponentName(){return"CommunityPageSubCollectionListComponent"}importThemedComponent(O){return t(89108)(`./${O}/app/community-page/sub-collection-list/community-page-sub-collection-list.component`)}importUnthemedComponent(){return Promise.resolve().then(t.bind(t,31114))}}return l.\u0275fac=function(){let I;return function(n){return(I||(I=_.\u0275\u0275getInheritedFactory(l)))(n||l)}}(),l.\u0275cmp=_.\u0275\u0275defineComponent({type:l,selectors:[["ds-themed-community-page-sub-collection-list"]],inputs:{community:"community",pageSize:"pageSize"},features:[_.\u0275\u0275InheritDefinitionFeature],decls:2,vars:0,consts:[["vcr",""]],template:function(O,n){1&O&&_.\u0275\u0275template(0,D,0,0,"ng-template",null,0,_.\u0275\u0275templateRefExtractor)},encapsulation:2}),l})()},48363:(U,M,t)=>{"use strict";t.r(M),t.d(M,{CommunityPageSubCommunityListComponent:()=>h});var p=t(35841),E=t(53426),D=(t(70920),t(95033)),P=t(98865),l=t(1367),I=t(63749),O=t(5496),n=t(21160),b=t(57854),c=t(25839),s=t(70074),e=t(41633),o=t(10210),A=t(64285),j=t(61206),K=t(76924),V=t(86553);function z(y,u){if(1&y&&(s.\u0275\u0275elementStart(0,"div")(1,"h2"),s.\u0275\u0275text(2),s.\u0275\u0275pipe(3,"translate"),s.\u0275\u0275elementEnd(),s.\u0275\u0275element(4,"ds-viewable-collection",3),s.\u0275\u0275elementEnd()),2&y){const a=s.\u0275\u0275nextContext().ngVar,f=s.\u0275\u0275nextContext();s.\u0275\u0275property("@fadeIn",void 0),s.\u0275\u0275advance(2),s.\u0275\u0275textInterpolate(s.\u0275\u0275pipeBind1(3,6,"community.sub-community-list.head")),s.\u0275\u0275advance(2),s.\u0275\u0275property("config",f.config)("sortConfig",f.sortConfig)("objects",a)("hideGear",!1)}}function $(y,u){1&y&&(s.\u0275\u0275element(0,"ds-error",4),s.\u0275\u0275pipe(1,"translate")),2&y&&s.\u0275\u0275propertyInterpolate("message",s.\u0275\u0275pipeBind1(1,1,"error.sub-communities"))}function W(y,u){1&y&&(s.\u0275\u0275element(0,"ds-themed-loading",4),s.\u0275\u0275pipe(1,"translate")),2&y&&s.\u0275\u0275propertyInterpolate("message",s.\u0275\u0275pipeBind1(1,1,"loading.sub-communities"))}function F(y,u){if(1&y&&(s.\u0275\u0275elementContainerStart(0),s.\u0275\u0275template(1,z,5,8,"div",1),s.\u0275\u0275template(2,$,2,3,"ds-error",2),s.\u0275\u0275template(3,W,2,3,"ds-themed-loading",2),s.\u0275\u0275elementContainerEnd()),2&y){const a=u.ngVar;s.\u0275\u0275advance(1),s.\u0275\u0275property("ngIf",(null==a?null:a.hasSucceeded)&&(null==a?null:a.payload.totalElements)>0),s.\u0275\u0275advance(1),s.\u0275\u0275property("ngIf",null==a?null:a.hasFailed),s.\u0275\u0275advance(1),s.\u0275\u0275property("ngIf",null==a?null:a.isLoading)}}let h=(()=>{class y{constructor(a,f){this.cds=a,this.paginationService=f,this.pageId="cmscm",this.subCommunitiesRDObs=new p.X({})}ngOnInit(){this.config=new P.r,this.config.id=this.pageId,(0,c.Uh)(this.pageSize)&&(this.config.pageSize=this.pageSize),this.config.currentPage=1,this.sortConfig=new l.o("dc.title",l.S.ASC),this.initPage()}initPage(){const a=this.paginationService.getCurrentPagination(this.config.id,this.config),f=this.paginationService.getCurrentSort(this.config.id,this.sortConfig);(0,E.a)([a,f]).pipe((0,n.w)(([m,T])=>this.cds.findByParent(this.community.id,{currentPage:m.currentPage,elementsPerPage:m.pageSize,sort:{field:T.field,direction:T.direction}}))).subscribe(m=>{this.subCommunitiesRDObs.next(m)}),this.cds.findByParent(this.community.id,{currentPage:this.config.currentPage,elementsPerPage:this.config.pageSize,sort:{field:this.sortConfig.field,direction:this.sortConfig.direction}}).pipe((0,O.Ot)()).subscribe(m=>{this.subCommunitiesRDObs.next(m)})}ngOnDestroy(){this.paginationService.clearPagination(this.config.id)}}return y.\u0275fac=function(a){return new(a||y)(s.\u0275\u0275directiveInject(I.w),s.\u0275\u0275directiveInject(b.N))},y.\u0275cmp=s.\u0275\u0275defineComponent({type:y,selectors:[["ds-community-page-sub-community-list"]],inputs:{community:"community",pageSize:"pageSize"},decls:2,vars:3,consts:[[4,"ngVar"],[4,"ngIf"],[3,"message",4,"ngIf"],[3,"config","sortConfig","objects","hideGear"],[3,"message"]],template:function(a,f){1&a&&(s.\u0275\u0275template(0,F,4,3,"ng-container",0),s.\u0275\u0275pipe(1,"async")),2&a&&s.\u0275\u0275property("ngVar",s.\u0275\u0275pipeBind1(1,1,f.subCommunitiesRDObs))},directives:[e.g,o.O5,A.c,j.q,K.Z],pipes:[o.Ov,V.X$],styles:[""],data:{animation:[D.Ji]}}),y})()},71111:(U,M,t)=>{"use strict";t.d(M,{v:()=>P});var p=t(46533),_=(t(70920),t(70074));function D(l,I){}let P=(()=>{class l extends p.F{constructor(){super(...arguments),this.inAndOutputNames=["community","pageSize"]}getComponentName(){return"CommunityPageSubCommunityListComponent"}importThemedComponent(O){return t(58655)(`./${O}/app/community-page/sub-community-list/community-page-sub-community-list.component`)}importUnthemedComponent(){return Promise.resolve().then(t.bind(t,48363))}}return l.\u0275fac=function(){let I;return function(n){return(I||(I=_.\u0275\u0275getInheritedFactory(l)))(n||l)}}(),l.\u0275cmp=_.\u0275\u0275defineComponent({type:l,selectors:[["ds-themed-community-page-sub-community-list"]],inputs:{community:"community",pageSize:"pageSize"},features:[_.\u0275\u0275InheritDefinitionFeature],decls:2,vars:0,consts:[["vcr",""]],template:function(O,n){1&O&&_.\u0275\u0275template(0,D,0,0,"ng-template",null,0,_.\u0275\u0275templateRefExtractor)},encapsulation:2}),l})()},67695:(U,M,t)=>{var p={"./custom/app/community-page/community-page.component":[25671,5671],"./gusi/app/community-page/community-page.component":[13591,3591]};function E(_){if(!t.o(p,_))return Promise.resolve().then(()=>{var l=new Error("Cannot find module '"+_+"'");throw l.code="MODULE_NOT_FOUND",l});var D=p[_],P=D[0];return t.e(D[1]).then(()=>t(P))}E.keys=()=>Object.keys(p),E.id=67695,U.exports=E},89108:(U,M,t)=>{var p={"./custom/app/community-page/sub-collection-list/community-page-sub-collection-list.component":[84490,4490],"./gusi/app/community-page/sub-collection-list/community-page-sub-collection-list.component":[39710,9710]};function E(_){if(!t.o(p,_))return Promise.resolve().then(()=>{var l=new Error("Cannot find module '"+_+"'");throw l.code="MODULE_NOT_FOUND",l});var D=p[_],P=D[0];return t.e(D[1]).then(()=>t(P))}E.keys=()=>Object.keys(p),E.id=89108,U.exports=E},58655:(U,M,t)=>{var p={"./custom/app/community-page/sub-community-list/community-page-sub-community-list.component":[41371,1371],"./gusi/app/community-page/sub-community-list/community-page-sub-community-list.component":[76666,6666]};function E(_){if(!t.o(p,_))return Promise.resolve().then(()=>{var l=new Error("Cannot find module '"+_+"'");throw l.code="MODULE_NOT_FOUND",l});var D=p[_],P=D[0];return t.e(D[1]).then(()=>t(P))}E.keys=()=>Object.keys(p),E.id=58655,U.exports=E}}]);