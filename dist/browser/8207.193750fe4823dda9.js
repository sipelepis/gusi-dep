"use strict";(self.webpackChunkdspace_angular=self.webpackChunkdspace_angular||[]).push([[8207],{88207:(At,P,s)=>{s.r(P),s.d(P,{BitstreamPageModule:()=>Et});var I=s(10210),H=s(66004),v=s(37895),p=s(48358),T=s(21160),V=s(69637),D=s(53426),F=s(9237),h=s(59492),j=s(81637),G=s(61001),b=s(93132),o=s(5496),_=s(16228),W=s(65820),$=s(43963),m=s(25839),f=s(59874),N=s(96007),y=s(92361),z=s(75607),e=s(70074),C=s(86553),O=s(53043),X=s(41633),K=s(7553),Y=s(61792),R=s(45028),J=s(61206),Z=s(76924),Q=s(69748);const k=function(i){return["/bitstreams",i,"authorizations"]};function q(i,r){if(1&i){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"ds-form",12),e.\u0275\u0275listener("submitForm",function(){return e.\u0275\u0275restoreView(t),e.\u0275\u0275nextContext(4).onSubmit()})("cancel",function(){return e.\u0275\u0275restoreView(t),e.\u0275\u0275nextContext(4).onCancel()})("dfChange",function(n){return e.\u0275\u0275restoreView(t),e.\u0275\u0275nextContext(4).onChange(n)}),e.\u0275\u0275elementStart(1,"div",13)(2,"a",14),e.\u0275\u0275text(3),e.\u0275\u0275pipe(4,"translate"),e.\u0275\u0275elementEnd()()()}if(2&i){const t=e.\u0275\u0275nextContext(3).ngVar,a=e.\u0275\u0275nextContext();e.\u0275\u0275property("formId","edit-bitstream-form-id")("formGroup",a.formGroup)("formModel",a.formModel)("formLayout",a.formLayout)("submitLabel","form.save"),e.\u0275\u0275advance(2),e.\u0275\u0275property("routerLink",e.\u0275\u0275pureFunction1(9,k,null==t||null==t.payload?null:t.payload.id)),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(4,7,"bitstream.edit.authorizations.link"))}}function tt(i,r){if(1&i&&(e.\u0275\u0275elementStart(0,"div",5)(1,"div",6),e.\u0275\u0275element(2,"ds-thumbnail",7),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(3,"div",8)(4,"div",2)(5,"div",5)(6,"div",9)(7,"h3"),e.\u0275\u0275text(8),e.\u0275\u0275elementStart(9,"span",10),e.\u0275\u0275text(10),e.\u0275\u0275pipe(11,"dsFileSize"),e.\u0275\u0275elementEnd()()()()(),e.\u0275\u0275template(12,q,5,11,"ds-form",11),e.\u0275\u0275elementEnd()()),2&i){const t=e.\u0275\u0275nextContext(2).ngVar,a=e.\u0275\u0275nextContext();e.\u0275\u0275advance(2),e.\u0275\u0275property("thumbnail",null==t?null:t.payload),e.\u0275\u0275advance(6),e.\u0275\u0275textInterpolate1("",null==t||null==t.payload?null:t.payload.name," "),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1("(",e.\u0275\u0275pipeBind1(11,4,null==t||null==t.payload?null:t.payload.sizeBytes),")"),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",a.formGroup)}}function et(i,r){1&i&&(e.\u0275\u0275element(0,"ds-error",15),e.\u0275\u0275pipe(1,"translate")),2&i&&e.\u0275\u0275propertyInterpolate("message",e.\u0275\u0275pipeBind1(1,1,"error.bitstream"))}function it(i,r){1&i&&(e.\u0275\u0275element(0,"ds-themed-loading",15),e.\u0275\u0275pipe(1,"translate")),2&i&&e.\u0275\u0275propertyInterpolate("message",e.\u0275\u0275pipeBind1(1,1,"loading.bitstream"))}function at(i,r){if(1&i&&(e.\u0275\u0275elementStart(0,"div",2),e.\u0275\u0275template(1,tt,13,6,"div",3),e.\u0275\u0275template(2,et,2,3,"ds-error",4),e.\u0275\u0275template(3,it,2,3,"ds-themed-loading",4),e.\u0275\u0275elementEnd()),2&i){const t=r.ngVar,a=e.\u0275\u0275nextContext().ngVar;e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",(null==a?null:a.hasSucceeded)&&(null==t?null:t.hasSucceeded)),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",null==a?null:a.hasFailed),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",!a||!t||(null==a?null:a.isLoading)||(null==t?null:t.isLoading))}}function st(i,r){if(1&i&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275template(1,at,4,3,"div",1),e.\u0275\u0275pipe(2,"async"),e.\u0275\u0275elementContainerEnd()),2&i){const t=e.\u0275\u0275nextContext();e.\u0275\u0275advance(1),e.\u0275\u0275property("ngVar",e.\u0275\u0275pipeBind1(2,1,t.bitstreamFormatsRD$))}}let nt=(()=>{class i{constructor(t,a,n,l,c,d,x,u,g,L){this.route=t,this.router=a,this.changeDetectorRef=n,this.location=l,this.formService=c,this.translate=d,this.bitstreamService=x,this.dsoNameService=u,this.notificationsService=g,this.bitstreamFormatService=L,this.KEY_PREFIX="bitstream.edit.form.",this.LABEL_KEY_SUFFIX=".label",this.HINT_KEY_SUFFIX=".hint",this.NOTIFICATIONS_PREFIX="bitstream.edit.notifications.",this.IMAGE_WIDTH_METADATA="iiif.image.width",this.IMAGE_HEIGHT_METADATA="iiif.image.height",this.IIIF_TOC_METADATA="iiif.toc",this.IIIF_LABEL_METADATA="iiif.label",this.findAllOptions={elementsPerPage:9999},this.fileNameModel=new y.u({hasSelectableMetadata:!1,metadataFields:[],repeatable:!1,submissionId:"",id:"fileName",name:"fileName",required:!0,validators:{required:null},errorMessages:{required:"You must provide a file name for the bitstream"}}),this.primaryBitstreamModel=new j.p({id:"primaryBitstream",name:"primaryBitstream"}),this.descriptionModel=new z.D({hasSelectableMetadata:!1,metadataFields:[],repeatable:!1,submissionId:"",id:"description",name:"description",rows:10}),this.selectedFormatModel=new h.nMt({id:"selectedFormat",name:"selectedFormat"}),this.newFormatModel=new h.b1u({id:"newFormat",name:"newFormat"}),this.iiifLabelModel=new y.u({hasSelectableMetadata:!1,metadataFields:[],repeatable:!1,submissionId:"",id:"iiifLabel",name:"iiifLabel"},{grid:{host:"col col-lg-6 d-inline-block"}}),this.iiifLabelContainer=new h.S_O({id:"iiifLabelContainer",group:[this.iiifLabelModel]},{grid:{host:"form-row"}}),this.iiifTocModel=new y.u({hasSelectableMetadata:!1,metadataFields:[],repeatable:!1,submissionId:"",id:"iiifToc",name:"iiifToc"},{grid:{host:"col col-lg-6 d-inline-block"}}),this.iiifTocContainer=new h.S_O({id:"iiifTocContainer",group:[this.iiifTocModel]},{grid:{host:"form-row"}}),this.iiifWidthModel=new y.u({hasSelectableMetadata:!1,metadataFields:[],repeatable:!1,submissionId:"",id:"iiifWidth",name:"iiifWidth"},{grid:{host:"col col-lg-6 d-inline-block"}}),this.iiifWidthContainer=new h.S_O({id:"iiifWidthContainer",group:[this.iiifWidthModel]},{grid:{host:"form-row"}}),this.iiifHeightModel=new y.u({hasSelectableMetadata:!1,metadataFields:[],repeatable:!1,submissionId:"",id:"iiifHeight",name:"iiifHeight"},{grid:{host:"col col-lg-6 d-inline-block"}}),this.iiifHeightContainer=new h.S_O({id:"iiifHeightContainer",group:[this.iiifHeightModel]},{grid:{host:"form-row"}}),this.inputModels=[this.fileNameModel,this.primaryBitstreamModel,this.descriptionModel,this.selectedFormatModel,this.newFormatModel],this.formModel=[new h.S_O({id:"fileNamePrimaryContainer",group:[this.fileNameModel,this.primaryBitstreamModel]},{grid:{host:"form-row"}}),new h.S_O({id:"descriptionContainer",group:[this.descriptionModel]}),new h.S_O({id:"formatContainer",group:[this.selectedFormatModel,this.newFormatModel]})],this.newFormatBaseLayout="col col-sm-6 d-inline-block",this.formLayout={fileName:{grid:{host:"col col-sm-8 d-inline-block"}},primaryBitstream:{grid:{host:"col col-sm-4 d-inline-block switch"}},description:{grid:{host:"col-12 d-inline-block"}},embargo:{grid:{host:"col-12 d-inline-block"}},selectedFormat:{grid:{host:"col col-sm-6 d-inline-block"}},newFormat:{grid:{host:this.newFormatBaseLayout+" invisible"}},fileNamePrimaryContainer:{grid:{host:"row position-relative"}},descriptionContainer:{grid:{host:"row"}},formatContainer:{grid:{host:"row"}}},this.isIIIF=!1,this.subs=[]}ngOnInit(){this.itemId=this.route.snapshot.queryParams.itemId,this.entityType=this.route.snapshot.queryParams.entityType,this.bitstreamRD$=this.route.data.pipe((0,p.U)(n=>n.bitstream)),this.bitstreamFormatsRD$=this.bitstreamFormatService.findAll(this.findAllOptions);const t=this.bitstreamRD$.pipe((0,o.xw)(),(0,o.xe)()),a=this.bitstreamFormatsRD$.pipe((0,o.xw)(),(0,o.xe)());this.subs.push((0,D.a)(t,a).subscribe(([n,l])=>{this.bitstream=n,this.formats=l.page,this.setIiifStatus(this.bitstream)})),this.subs.push(this.translate.onLangChange.subscribe(()=>{this.updateFieldTranslations()}))}setForm(){this.formGroup=this.formService.createFormGroup(this.formModel),this.updateFormatModel(),this.updateForm(this.bitstream),this.updateFieldTranslations()}updateForm(t){this.formGroup.patchValue({fileNamePrimaryContainer:{fileName:t.name,primaryBitstream:!1},descriptionContainer:{description:t.firstMetadataValue("dc.description")},formatContainer:{newFormat:(0,m.Uh)(t.firstMetadata("dc.format"))?t.firstMetadata("dc.format").value:void 0}}),this.isIIIF&&this.formGroup.patchValue({iiifLabelContainer:{iiifLabel:t.firstMetadataValue(this.IIIF_LABEL_METADATA)},iiifTocContainer:{iiifToc:t.firstMetadataValue(this.IIIF_TOC_METADATA)},iiifWidthContainer:{iiifWidth:t.firstMetadataValue(this.IMAGE_WIDTH_METADATA)},iiifHeightContainer:{iiifHeight:t.firstMetadataValue(this.IMAGE_HEIGHT_METADATA)}}),this.bitstream.format.pipe((0,o.mc)()).subscribe(a=>{this.originalFormat=a,this.formGroup.patchValue({formatContainer:{selectedFormat:a.id}}),this.updateNewFormatLayout(a.id)})}updateFormatModel(){this.selectedFormatModel.options=this.formats.map(t=>Object.assign({value:t.id,label:this.isUnknownFormat(t.id)?this.translate.instant(this.KEY_PREFIX+"selectedFormat.unknown"):t.shortDescription}))}updateNewFormatLayout(t){this.formLayout.newFormat.grid.host=this.isUnknownFormat(t)?this.newFormatBaseLayout:this.newFormatBaseLayout+" invisible"}isUnknownFormat(t){const a=this.formats.find(n=>n.id===t);return(0,m.Uh)(a)&&a.supportLevel===$.o.Unknown}updateFieldTranslations(){this.inputModels.forEach(t=>{this.updateFieldTranslation(t)})}updateFieldTranslation(t){t.label=this.translate.instant(this.KEY_PREFIX+t.id+this.LABEL_KEY_SUFFIX),t.id!==this.primaryBitstreamModel.id&&(t.hint=this.translate.instant(this.KEY_PREFIX+t.id+this.HINT_KEY_SUFFIX))}onChange(t){const a=t.model;a.id===this.selectedFormatModel.id&&this.updateNewFormatLayout(a.value)}onSubmit(){const t=this.formGroup.getRawValue(),a=this.formToBitstream(t),n=this.formats.find(d=>d.id===t.formatContainer.selectedFormat);let c;c=n.id!==this.originalFormat.id?this.bitstreamService.updateFormat(this.bitstream,n).pipe((0,o.hC)(),(0,p.U)(d=>{if(!(0,m.Uh)(d)||!d.hasFailed)return d.payload;this.notificationsService.error(this.translate.instant(this.NOTIFICATIONS_PREFIX+"error.format.title"),d.errorMessage)})):(0,F.of)(this.bitstream),c.pipe((0,T.w)(()=>this.bitstreamService.update(a).pipe((0,o.Gp)()))).subscribe(()=>{this.bitstreamService.commitUpdates(),this.notificationsService.success(this.translate.instant(this.NOTIFICATIONS_PREFIX+"saved.title"),this.translate.instant(this.NOTIFICATIONS_PREFIX+"saved.content")),this.navigateToItemEditBitstreams()})}formToBitstream(t){const a=(0,G.cloneDeep)(this.bitstream),n=a.metadata;return f.S.setFirstValue(n,"dc.title",t.fileNamePrimaryContainer.fileName),f.S.setFirstValue(n,"dc.description",t.descriptionContainer.description),this.isIIIF&&((0,m.xb)(t.iiifLabelContainer.iiifLabel)?delete n[this.IIIF_LABEL_METADATA]:f.S.setFirstValue(n,this.IIIF_LABEL_METADATA,t.iiifLabelContainer.iiifLabel),(0,m.xb)(t.iiifTocContainer.iiifToc)?delete n[this.IIIF_TOC_METADATA]:f.S.setFirstValue(n,this.IIIF_TOC_METADATA,t.iiifTocContainer.iiifToc),(0,m.xb)(t.iiifWidthContainer.iiifWidth)?delete n[this.IMAGE_WIDTH_METADATA]:f.S.setFirstValue(n,this.IMAGE_WIDTH_METADATA,t.iiifWidthContainer.iiifWidth),(0,m.xb)(t.iiifHeightContainer.iiifHeight)?delete n[this.IMAGE_HEIGHT_METADATA]:f.S.setFirstValue(n,this.IMAGE_HEIGHT_METADATA,t.iiifHeightContainer.iiifHeight)),(0,m.UE)(t.formatContainer.newFormat)&&f.S.setFirstValue(n,"dc.format",t.formatContainer.newFormat),a.metadata=n,a}onCancel(){this.navigateToItemEditBitstreams()}navigateToItemEditBitstreams(){(0,m.Uh)(this.itemId)?this.router.navigate([(0,N.dZ)(this.entityType,this.itemId),"bitstreams"]):this.bitstream.bundle.pipe((0,o.Gp)(),(0,V.z)(t=>t.item.pipe((0,o.Gp)()))).subscribe(t=>{this.router.navigate([(0,N.tn)(t),"bitstreams"])})}setIiifStatus(t){const a=/OTHERCONTENT|THUMBNAIL|LICENSE/,n=/true|yes/i,l=this.bitstream.format.pipe((0,o.xw)(),(0,p.U)(u=>u.payload.mimetype.includes("image/"))),c=this.bitstream.bundle.pipe((0,o.xw)(),(0,p.U)(u=>null==this.dsoNameService.getName(u.payload).match(a))),d=this.bitstream.bundle.pipe((0,o.xw)(),(0,p.U)(u=>u.payload.item.pipe((0,o.xw)(),(0,p.U)(g=>g.payload.firstMetadataValue("dspace.iiif.enabled")&&null!==g.payload.firstMetadataValue("dspace.iiif.enabled").match(n))))),x=(0,D.a)(l,c,d).subscribe(([u,g,L])=>{u&&g&&L&&(this.isIIIF=!0,this.inputModels.push(this.iiifLabelModel),this.formModel.push(this.iiifLabelContainer),this.inputModels.push(this.iiifTocModel),this.formModel.push(this.iiifTocContainer),this.inputModels.push(this.iiifWidthModel),this.formModel.push(this.iiifWidthContainer),this.inputModels.push(this.iiifHeightModel),this.formModel.push(this.iiifHeightContainer)),this.setForm(),this.changeDetectorRef.detectChanges()});this.subs.push(x)}ngOnDestroy(){this.subs.filter(t=>(0,m.Uh)(t)).forEach(t=>t.unsubscribe())}}return i.\u0275fac=function(t){return new(t||i)(e.\u0275\u0275directiveInject(v.gz),e.\u0275\u0275directiveInject(v.F0),e.\u0275\u0275directiveInject(e.ChangeDetectorRef),e.\u0275\u0275directiveInject(I.Ye),e.\u0275\u0275directiveInject(h.w1X),e.\u0275\u0275directiveInject(C.sK),e.\u0275\u0275directiveInject(b.J),e.\u0275\u0275directiveInject(O._),e.\u0275\u0275directiveInject(_.T),e.\u0275\u0275directiveInject(W.O))},i.\u0275cmp=e.\u0275\u0275defineComponent({type:i,selectors:[["ds-edit-bitstream-page"]],decls:2,vars:3,consts:[[4,"ngVar"],["class","container",4,"ngVar"],[1,"container"],["class","row",4,"ngIf"],[3,"message",4,"ngIf"],[1,"row"],[1,"col-md-2"],[3,"thumbnail"],[1,"col-md-10"],[1,"col-12"],[1,"text-muted"],[3,"formId","formGroup","formModel","formLayout","submitLabel","submitForm","cancel","dfChange",4,"ngIf"],[3,"formId","formGroup","formModel","formLayout","submitLabel","submitForm","cancel","dfChange"],["additional","",1,"container","py-3"],[3,"routerLink"],[3,"message"]],template:function(t,a){1&t&&(e.\u0275\u0275template(0,st,3,3,"ng-container",0),e.\u0275\u0275pipe(1,"async")),2&t&&e.\u0275\u0275property("ngVar",e.\u0275\u0275pipeBind1(1,1,a.bitstreamRD$))},directives:[X.g,I.O5,K.Z,Y.U,R.JL,R.sg,v.yS,J.q,Z.Z],pipes:[I.Ov,Q.p,C.X$],styles:["[_nghost-%COMP%]     .switch{position:absolute;top:calc(var(--bs-spacer) * 2.5)}[_nghost-%COMP%]     ds-dynamic-form-control-container>div>label{margin-top:1.75rem}"],changeDetection:0}),i})();var rt=s(54818),B=s(8183);const E=[(0,B.l)("bundle",{},(0,B.l)("item")),(0,B.l)("format")];let M=(()=>{class i{constructor(t){this.bitstreamService=t}resolve(t,a){return this.bitstreamService.findById(t.params.id,!0,!1,...this.followLinks).pipe((0,o.hC)())}get followLinks(){return E}}return i.\u0275fac=function(t){return new(t||i)(e.\u0275\u0275inject(b.J))},i.\u0275prov=e.\u0275\u0275defineInjectable({token:i,factory:i.\u0275fac}),i})();var A=s(30723),ot=s(37443),lt=s(91870),dt=s(66057),mt=s(40279),ct=s(76215),ht=s(45452);const ut=function(i){return["/bitstreams",i,"edit"]};let pt=(()=>{class i{constructor(t){this.route=t}ngOnInit(){this.dsoRD$=this.route.data.pipe((0,ct.P)(),(0,p.U)(t=>t.bitstream))}}return i.\u0275fac=function(t){return new(t||i)(e.\u0275\u0275directiveInject(v.gz))},i.\u0275cmp=e.\u0275\u0275defineComponent({type:i,selectors:[["ds-collection-authorizations"]],decls:10,vars:12,consts:[[1,"container"],[3,"resourceType","resourceUUID"],[1,"button-row","bottom"],[1,"text-right"],["role","button",1,"btn","btn-outline-secondary","mr-1",3,"routerLink"],[1,"fas","fa-arrow-left"]],template:function(t,a){if(1&t&&(e.\u0275\u0275elementStart(0,"div",0),e.\u0275\u0275element(1,"ds-resource-policies",1),e.\u0275\u0275pipe(2,"async"),e.\u0275\u0275elementStart(3,"div",2)(4,"div",3)(5,"a",4),e.\u0275\u0275pipe(6,"async"),e.\u0275\u0275element(7,"i",5),e.\u0275\u0275text(8),e.\u0275\u0275pipe(9,"translate"),e.\u0275\u0275elementEnd()()()()),2&t){let n,l;e.\u0275\u0275advance(1),e.\u0275\u0275property("resourceType","bitstream")("resourceUUID",null==(n=e.\u0275\u0275pipeBind1(2,4,a.dsoRD$))||null==n.payload?null:n.payload.id),e.\u0275\u0275advance(4),e.\u0275\u0275property("routerLink",e.\u0275\u0275pureFunction1(10,ut,null==(l=e.\u0275\u0275pipeBind1(6,6,a.dsoRD$))||null==l.payload?null:l.payload.id)),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(9,8,"bitstream.edit.return")," ")}},directives:[ht.F,v.yS],pipes:[I.Ov,C.X$],encapsulation:2}),i})(),U=(()=>{class i{constructor(t){this.bitstreamDataService=t}resolve(t,a){const n=t.params.prefix,l=t.params.suffix,c=t.params.filename;let d=t.params.sequence_id;return(0,m.xI)(d)&&(d=t.queryParams.sequenceId),this.bitstreamDataService.findByItemHandle(`${n}/${l}`,d,c).pipe((0,o.hC)())}}return i.\u0275fac=function(t){return new(t||i)(e.\u0275\u0275inject(b.J))},i.\u0275prov=e.\u0275\u0275defineInjectable({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();var ft=s(23679),vt=s(74388),gt=s(72564),It=s(61562),bt=s(45234);let w=(()=>{class i extends bt.B{constructor(t,a,n){super(a,n),this.bitstreamService=t,this.linkService=a,this.dsoNameService=n}getBreadcrumbs(t,a){const n=this.dsoNameService.getName(t),l=new vt.a(n,a);return this.getOwningItem(t.uuid).pipe((0,T.w)(c=>{if((0,m.UE)(c)&&(0,m.Uh)(c.payload)){const d=c.payload;return super.getBreadcrumbs(d,(0,It.Y4)(d))}return(0,F.of)([])}),(0,p.U)(c=>[...c,l]))}getOwningItem(t){return this.bitstreamService.findById(t,!0,!0,...E).pipe((0,o.hC)(),(0,o.xe)(),(0,T.w)(a=>(0,m.Uh)(a)?a.bundle.pipe((0,o.hC)(),(0,o.xe)(),(0,T.w)(n=>(0,m.Uh)(n)?n.item.pipe((0,o.hC)()):(0,F.of)(void 0))):(0,F.of)(void 0)))}}return i.\u0275fac=function(t){return new(t||i)(e.\u0275\u0275inject(b.J),e.\u0275\u0275inject(gt.M),e.\u0275\u0275inject(O._))},i.\u0275prov=e.\u0275\u0275defineInjectable({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),S=(()=>{class i extends ft.t{constructor(t,a){super(t,a),this.breadcrumbService=t,this.dataService=a}get followLinks(){return E}}return i.\u0275fac=function(t){return new(t||i)(e.\u0275\u0275inject(w),e.\u0275\u0275inject(b.J))},i.\u0275prov=e.\u0275\u0275defineInjectable({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();var yt=s(64561);let Mt=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=e.\u0275\u0275defineNgModule({type:i}),i.\u0275inj=e.\u0275\u0275defineInjector({providers:[M,S,w],imports:[[v.Bz.forChild([{path:"handle/:prefix/:suffix/:filename",component:A.h,resolve:{bitstream:U}},{path:":prefix/:suffix/:sequence_id/:filename",component:A.h,resolve:{bitstream:U}},{path:":id/download",component:A.h,resolve:{bitstream:M}},{path:":id/edit",component:nt,resolve:{bitstream:M,breadcrumb:S},canActivate:[rt.J]},{path:":id/authorizations",children:[{path:"create",resolve:{resourcePolicyTarget:ot.a},component:lt.v,data:{title:"resource-policies.create.page.title",showBreadcrumbs:!0}},{path:"edit",resolve:{breadcrumb:yt.t,resourcePolicy:dt.b},component:mt.x,data:{breadcrumbKey:"item.edit",title:"resource-policies.edit.page.title",showBreadcrumbs:!0}},{path:"",resolve:{bitstream:M,breadcrumb:S},component:pt,data:{title:"bitstream.edit.authorizations.title",showBreadcrumbs:!0}}]}])]]}),i})();var Ct=s(48197),Bt=s(36331);let Et=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=e.\u0275\u0275defineNgModule({type:i}),i.\u0275inj=e.\u0275\u0275defineInjector({imports:[[I.ez,H.m,Mt,Ct.e,Bt.q]]}),i})()}}]);