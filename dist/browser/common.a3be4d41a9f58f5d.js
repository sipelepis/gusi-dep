(self.webpackChunkdspace_angular=self.webpackChunkdspace_angular||[]).push([[8592],{85012:(A,m,e)=>{"use strict";e.r(m),e.d(m,{BrowseBySwitcherComponent:()=>i});var r=e(48358),a=e(23863),l=e(70248),c=e(70074),_=e(37895),o=e(10210);function E(p,M){1&p&&c.\u0275\u0275elementContainer(0)}let i=(()=>{class p{constructor(O,T,R){this.route=O,this.themeService=T,this.getComponentByBrowseByType=R}ngOnInit(){this.browseByComponent=this.route.data.pipe((0,r.U)(O=>this.getComponentByBrowseByType(O.browseDefinition.dataType,this.themeService.getThemeName())))}}return p.\u0275fac=function(O){return new(O||p)(c.\u0275\u0275directiveInject(_.gz),c.\u0275\u0275directiveInject(l.fY),c.\u0275\u0275directiveInject(a.t3))},p.\u0275cmp=c.\u0275\u0275defineComponent({type:p,selectors:[["ds-browse-by-switcher"]],decls:2,vars:3,consts:[[4,"ngComponentOutlet"]],template:function(O,T){1&O&&(c.\u0275\u0275template(0,E,1,0,"ng-container",0),c.\u0275\u0275pipe(1,"async")),2&O&&c.\u0275\u0275property("ngComponentOutlet",c.\u0275\u0275pipeBind1(1,1,T.browseByComponent))},directives:[o.$G],pipes:[o.Ov],encapsulation:2}),p})()},46821:(A,m,e)=>{"use strict";e.r(m),e.d(m,{CollectionPageComponent:()=>_e});var r=e(35841),a=e(53426),l=e(48358),c=e(77176),_=e(77007),o=e(69637),E=e(21160),i=e(9302),p=e(34978),M=e(49965),O=e(1367),T=e(64508),R=e(46685),x=e(5496),C=e(95033),d=e(25839),t=e(98865),P=e(28709),v=e(57854),h=e(30835),g=e(84705),B=e(10954),f=e(59846),U=e(17373),n=e(70074),L=e(37895),V=e(41633),$=e(10210),b=e(7115),X=e(10957),G=e(26616),y=e(81588),F=e(88908),s=e(6813),D=e(82104),S=e(64285),w=e(61206),z=e(76924),H=e(86553);function Z(I,W){if(1&I&&(n.\u0275\u0275element(0,"ds-comcol-page-logo",19),n.\u0275\u0275pipe(1,"async")),2&I){const u=n.\u0275\u0275nextContext(4);let K;n.\u0275\u0275property("logo",null==(K=n.\u0275\u0275pipeBind1(1,2,u.logoRD$))?null:K.payload)("alternateText","Collection Logo")}}function J(I,W){if(1&I&&(n.\u0275\u0275element(0,"ds-dso-page-edit-button",20),n.\u0275\u0275pipe(1,"async")),2&I){const u=n.\u0275\u0275nextContext().ngIf,K=n.\u0275\u0275nextContext(3);n.\u0275\u0275property("pageRoute",n.\u0275\u0275pipeBind1(1,3,K.collectionPageRoute$))("dso",u)("tooltipMsg","collection.page.edit")}}function Y(I,W){if(1&I&&(n.\u0275\u0275elementStart(0,"div",23)(1,"h3",24),n.\u0275\u0275text(2),n.\u0275\u0275pipe(3,"translate"),n.\u0275\u0275elementEnd(),n.\u0275\u0275element(4,"ds-viewable-collection",25),n.\u0275\u0275elementEnd()),2&I){const u=n.\u0275\u0275nextContext().ngVar,K=n.\u0275\u0275nextContext(4);n.\u0275\u0275property("@fadeIn",void 0),n.\u0275\u0275advance(2),n.\u0275\u0275textInterpolate(n.\u0275\u0275pipeBind1(3,6,"collection.page.browse.recent.head")),n.\u0275\u0275advance(2),n.\u0275\u0275property("config",K.paginationConfig)("sortConfig",K.sortConfig)("objects",u)("hideGear",!0)}}function Q(I,W){1&I&&(n.\u0275\u0275element(0,"ds-error",26),n.\u0275\u0275pipe(1,"translate")),2&I&&n.\u0275\u0275propertyInterpolate("message",n.\u0275\u0275pipeBind1(1,1,"error.recent-submissions"))}function k(I,W){1&I&&(n.\u0275\u0275element(0,"ds-themed-loading",26),n.\u0275\u0275pipe(1,"translate")),2&I&&n.\u0275\u0275propertyInterpolate("message",n.\u0275\u0275pipeBind1(1,1,"loading.recent-submissions"))}function ee(I,W){1&I&&(n.\u0275\u0275elementStart(0,"div",27),n.\u0275\u0275text(1),n.\u0275\u0275pipe(2,"translate"),n.\u0275\u0275elementEnd()),2&I&&(n.\u0275\u0275advance(1),n.\u0275\u0275textInterpolate1(" ",n.\u0275\u0275pipeBind1(2,1,"collection.page.browse.recent.empty")," "))}function te(I,W){if(1&I&&(n.\u0275\u0275elementContainerStart(0),n.\u0275\u0275template(1,Y,5,8,"div",21),n.\u0275\u0275template(2,Q,2,3,"ds-error",4),n.\u0275\u0275template(3,k,2,3,"ds-themed-loading",4),n.\u0275\u0275template(4,ee,3,3,"div",22),n.\u0275\u0275elementContainerEnd()),2&I){const u=W.ngVar;n.\u0275\u0275advance(1),n.\u0275\u0275property("ngIf",null==u?null:u.hasSucceeded),n.\u0275\u0275advance(1),n.\u0275\u0275property("ngIf",null==u?null:u.hasFailed),n.\u0275\u0275advance(1),n.\u0275\u0275property("ngIf",!u||u.isLoading),n.\u0275\u0275advance(1),n.\u0275\u0275property("ngIf",!(null!=u&&u.isLoading)&&0===(null==u||null==u.payload?null:u.payload.page.length))}}function ne(I,W){if(1&I&&(n.\u0275\u0275elementStart(0,"footer",28),n.\u0275\u0275element(1,"ds-comcol-page-content",11),n.\u0275\u0275elementEnd()),2&I){const u=n.\u0275\u0275nextContext().ngIf;n.\u0275\u0275advance(1),n.\u0275\u0275property("content",u.copyrightText)("hasInnerHtml",!0)}}function oe(I,W){if(1&I&&(n.\u0275\u0275elementStart(0,"div"),n.\u0275\u0275element(1,"ds-view-tracker",5),n.\u0275\u0275elementStart(2,"div",6)(3,"header",7),n.\u0275\u0275element(4,"ds-comcol-page-header",8),n.\u0275\u0275template(5,Z,2,4,"ds-comcol-page-logo",9),n.\u0275\u0275element(6,"ds-themed-comcol-page-handle",10)(7,"ds-comcol-page-content",11)(8,"ds-comcol-page-content",12),n.\u0275\u0275elementEnd(),n.\u0275\u0275elementStart(9,"div",13),n.\u0275\u0275template(10,J,2,5,"ds-dso-page-edit-button",14),n.\u0275\u0275pipe(11,"async"),n.\u0275\u0275elementEnd()(),n.\u0275\u0275elementStart(12,"section",15),n.\u0275\u0275element(13,"ds-themed-comcol-page-browse-by",16),n.\u0275\u0275template(14,te,5,4,"ng-container",17),n.\u0275\u0275pipe(15,"async"),n.\u0275\u0275elementEnd(),n.\u0275\u0275template(16,ne,2,2,"footer",18),n.\u0275\u0275elementEnd()),2&I){const u=W.ngIf,K=n.\u0275\u0275nextContext(3);n.\u0275\u0275advance(1),n.\u0275\u0275property("object",u),n.\u0275\u0275advance(3),n.\u0275\u0275property("name",u.name),n.\u0275\u0275advance(1),n.\u0275\u0275property("ngIf",K.logoRD$),n.\u0275\u0275advance(1),n.\u0275\u0275property("content",u.handle)("title","collection.page.handle"),n.\u0275\u0275advance(1),n.\u0275\u0275property("content",u.introductoryText)("hasInnerHtml",!0),n.\u0275\u0275advance(1),n.\u0275\u0275property("content",u.sidebarText)("hasInnerHtml",!0)("title","collection.page.news"),n.\u0275\u0275advance(2),n.\u0275\u0275property("ngIf",n.\u0275\u0275pipeBind1(11,15,K.isCollectionAdmin$)),n.\u0275\u0275advance(3),n.\u0275\u0275property("id",u.id)("contentType",u.type),n.\u0275\u0275advance(1),n.\u0275\u0275property("ngVar",n.\u0275\u0275pipeBind1(15,17,K.itemRD$)),n.\u0275\u0275advance(2),n.\u0275\u0275property("ngIf",u.copyrightText)}}function ie(I,W){if(1&I&&(n.\u0275\u0275elementStart(0,"div"),n.\u0275\u0275template(1,oe,17,19,"div",3),n.\u0275\u0275elementEnd()),2&I){const u=n.\u0275\u0275nextContext().ngVar;n.\u0275\u0275property("@fadeInOut",void 0),n.\u0275\u0275advance(1),n.\u0275\u0275property("ngIf",null==u?null:u.payload)}}function ae(I,W){1&I&&(n.\u0275\u0275element(0,"ds-error",26),n.\u0275\u0275pipe(1,"translate")),2&I&&n.\u0275\u0275propertyInterpolate("message",n.\u0275\u0275pipeBind1(1,1,"error.collection"))}function re(I,W){1&I&&(n.\u0275\u0275element(0,"ds-themed-loading",26),n.\u0275\u0275pipe(1,"translate")),2&I&&n.\u0275\u0275propertyInterpolate("message",n.\u0275\u0275pipeBind1(1,1,"loading.collection"))}function se(I,W){if(1&I&&(n.\u0275\u0275elementStart(0,"div",2),n.\u0275\u0275template(1,ie,2,2,"div",3),n.\u0275\u0275template(2,ae,2,3,"ds-error",4),n.\u0275\u0275template(3,re,2,3,"ds-themed-loading",4),n.\u0275\u0275elementEnd()),2&I){const u=W.ngVar;n.\u0275\u0275advance(1),n.\u0275\u0275property("ngIf",null==u?null:u.hasSucceeded),n.\u0275\u0275advance(1),n.\u0275\u0275property("ngIf",null==u?null:u.hasFailed),n.\u0275\u0275advance(1),n.\u0275\u0275property("ngIf",null==u?null:u.isLoading)}}let _e=(()=>{class I{constructor(u,K,j,q,N,ce,le){this.collectionDataService=u,this.searchService=K,this.route=j,this.router=q,this.authService=N,this.paginationService=ce,this.authorizationDataService=le,this.paginationConfig=new t.r,this.paginationConfig.id="cp",this.paginationConfig.pageSize=5,this.paginationConfig.currentPage=1,this.sortConfig=new O.o("dc.date.accessioned",O.S.DESC)}ngOnInit(){this.collectionRD$=this.route.data.pipe((0,l.U)(j=>j.dso),(0,f.Gh)(this.router,this.authService),(0,c.q)(1)),this.logoRD$=this.collectionRD$.pipe((0,l.U)(j=>j.payload),(0,_.h)(j=>(0,d.Uh)(j)),(0,o.z)(j=>j.logo)),this.isCollectionAdmin$=this.authorizationDataService.isAuthorized(g.i.IsCollectionAdmin),this.paginationChanges$=new r.X({paginationConfig:this.paginationConfig,sortConfig:this.sortConfig});const u=this.paginationService.getCurrentPagination(this.paginationConfig.id,this.paginationConfig),K=this.paginationService.getCurrentSort(this.paginationConfig.id,this.sortConfig);this.itemRD$=(0,a.a)([u,K]).pipe((0,E.w)(([j,q])=>this.collectionRD$.pipe((0,x.xw)(),(0,l.U)(N=>N.payload.id),(0,E.w)(N=>this.searchService.search(new p.t({scope:N,pagination:j,sort:q,dsoTypes:[R.h.ITEM]}),null,!0,!0,...U.a).pipe((0,x.Ie)())),(0,i.O)(void 0)))),this.collectionPageRoute$=this.collectionRD$.pipe((0,x.mc)(),(0,l.U)(j=>(0,B.MI)(j.id)))}isNotEmpty(u){return(0,d.UE)(u)}ngOnDestroy(){this.paginationService.clearPagination(this.paginationConfig.id)}}return I.\u0275fac=function(u){return new(u||I)(n.\u0275\u0275directiveInject(T.W),n.\u0275\u0275directiveInject(M.o),n.\u0275\u0275directiveInject(L.gz),n.\u0275\u0275directiveInject(L.F0),n.\u0275\u0275directiveInject(P.e8),n.\u0275\u0275directiveInject(v.N),n.\u0275\u0275directiveInject(h._))},I.\u0275cmp=n.\u0275\u0275defineComponent({type:I,selectors:[["ds-collection-page"]],decls:3,vars:3,consts:[[1,"container"],["class","collection-page",4,"ngVar"],[1,"collection-page"],[4,"ngIf"],[3,"message",4,"ngIf"],[3,"object"],[1,"d-flex","flex-row","border-bottom","mb-4","pb-4"],[1,"comcol-header","mr-auto"],[3,"name"],[3,"logo","alternateText",4,"ngIf"],[3,"content","title"],[3,"content","hasInnerHtml"],[3,"content","hasInnerHtml","title"],[1,"pl-2","space-children-mr"],[3,"pageRoute","dso","tooltipMsg",4,"ngIf"],[1,"comcol-page-browse-section"],[3,"id","contentType"],[4,"ngVar"],["class","border-top my-5 pt-4",4,"ngIf"],[3,"logo","alternateText"],[3,"pageRoute","dso","tooltipMsg"],["class","mt-4",4,"ngIf"],["class","alert alert-info w-100","role","alert",4,"ngIf"],[1,"mt-4"],[1,"sr-only"],[3,"config","sortConfig","objects","hideGear"],[3,"message"],["role","alert",1,"alert","alert-info","w-100"],[1,"border-top","my-5","pt-4"]],template:function(u,K){1&u&&(n.\u0275\u0275elementStart(0,"div",0),n.\u0275\u0275template(1,se,4,3,"div",1),n.\u0275\u0275pipe(2,"async"),n.\u0275\u0275elementEnd()),2&u&&(n.\u0275\u0275advance(1),n.\u0275\u0275property("ngVar",n.\u0275\u0275pipeBind1(2,1,K.collectionRD$)))},directives:[V.g,$.O5,b.f,X.U,G.e,y.g,F.v,s._,D.g,S.c,w.q,z.Z],pipes:[$.Ov,H.X$],styles:[""],data:{animation:[C.Ji,C.Ic]},changeDetection:0}),I})()},98225:(A,m,e)=>{"use strict";e.d(m,{C:()=>E,l:()=>i});var r=e(64508),a=e(8183),l=e(5496),c=e(52695),_=e(70074),o=e(5328);const E=[(0,a.l)("parentCommunity",{},(0,a.l)("parentCommunity")),(0,a.l)("logo")];let i=(()=>{class p{constructor(O,T){this.collectionService=O,this.store=T}resolve(O,T){const R=this.collectionService.findById(O.params.id,!0,!1,...E).pipe((0,l.hC)());return R.subscribe(x=>{this.store.dispatch(new c.K(T.url,x.payload))}),R}}return p.\u0275fac=function(O){return new(O||p)(_.\u0275\u0275inject(r.W),_.\u0275\u0275inject(o.yh))},p.\u0275prov=_.\u0275\u0275defineInjectable({token:p,factory:p.\u0275fac}),p})()},99818:(A,m,e)=>{"use strict";e.r(m),e.d(m,{EditItemTemplatePageComponent:()=>B});var r=e(76215),a=e(48358),l=e(21160),c=e(95034),_=e(10954),o=e(5496),E=e(338),i=e(70074),p=e(37895),M=e(41633),O=e(10210),T=e(78405),R=e(76924),x=e(7519),C=e(86553);const d=function(f){return{collection:f}};function t(f,U){if(1&f&&(i.\u0275\u0275elementContainerStart(0),i.\u0275\u0275elementStart(1,"h2",8),i.\u0275\u0275text(2),i.\u0275\u0275pipe(3,"translate"),i.\u0275\u0275elementEnd(),i.\u0275\u0275element(4,"ds-themed-item-metadata",9),i.\u0275\u0275elementStart(5,"button",10),i.\u0275\u0275text(6),i.\u0275\u0275pipe(7,"translate"),i.\u0275\u0275elementEnd(),i.\u0275\u0275elementContainerEnd()),2&f){const n=i.\u0275\u0275nextContext().ngVar,L=i.\u0275\u0275nextContext().ngVar,V=i.\u0275\u0275nextContext();i.\u0275\u0275advance(2),i.\u0275\u0275textInterpolate(i.\u0275\u0275pipeBind2(3,5,"collection.edit.template.head",i.\u0275\u0275pureFunction1(10,d,null==L?null:L.name))),i.\u0275\u0275advance(2),i.\u0275\u0275property("updateService",V.itemTemplateService)("item",null==n?null:n.payload),i.\u0275\u0275advance(1),i.\u0275\u0275property("routerLink",V.getCollectionEditUrl(L)),i.\u0275\u0275advance(1),i.\u0275\u0275textInterpolate(i.\u0275\u0275pipeBind1(7,8,"collection.edit.template.cancel"))}}function P(f,U){1&f&&(i.\u0275\u0275element(0,"ds-themed-loading",11),i.\u0275\u0275pipe(1,"translate")),2&f&&i.\u0275\u0275property("message",i.\u0275\u0275pipeBind1(1,1,"collection.edit.template.loading"))}function v(f,U){if(1&f&&(i.\u0275\u0275element(0,"ds-alert",12),i.\u0275\u0275pipe(1,"translate")),2&f){const n=i.\u0275\u0275nextContext(3);i.\u0275\u0275property("type",n.AlertTypeEnum.Error)("content",i.\u0275\u0275pipeBind1(1,2,"collection.edit.template.error"))}}function h(f,U){if(1&f&&(i.\u0275\u0275elementStart(0,"div",4),i.\u0275\u0275template(1,t,8,12,"ng-container",5),i.\u0275\u0275template(2,P,2,3,"ds-themed-loading",6),i.\u0275\u0275template(3,v,2,4,"ds-alert",7),i.\u0275\u0275elementEnd()),2&f){const n=U.ngVar;i.\u0275\u0275advance(1),i.\u0275\u0275property("ngIf",null==n?null:n.hasSucceeded),i.\u0275\u0275advance(1),i.\u0275\u0275property("ngIf",null==n?null:n.isLoading),i.\u0275\u0275advance(1),i.\u0275\u0275property("ngIf",null==n?null:n.hasFailed)}}function g(f,U){if(1&f&&(i.\u0275\u0275elementStart(0,"div",1)(1,"div",2),i.\u0275\u0275template(2,h,4,3,"div",3),i.\u0275\u0275pipe(3,"async"),i.\u0275\u0275elementEnd()()),2&f){const n=i.\u0275\u0275nextContext();i.\u0275\u0275advance(2),i.\u0275\u0275property("ngVar",i.\u0275\u0275pipeBind1(3,1,n.itemRD$))}}let B=(()=>{class f{constructor(n,L){this.route=n,this.itemTemplateService=L,this.AlertTypeEnum=E.N}ngOnInit(){this.collectionRD$=this.route.parent.data.pipe((0,r.P)(),(0,a.U)(n=>n.dso)),this.itemRD$=this.collectionRD$.pipe((0,o.Gp)(),(0,l.w)(n=>this.itemTemplateService.findByCollectionID(n.id)))}getCollectionEditUrl(n){return n?(0,_.Ou)(n.uuid):""}}return f.\u0275fac=function(n){return new(n||f)(i.\u0275\u0275directiveInject(p.gz),i.\u0275\u0275directiveInject(c.w))},f.\u0275cmp=i.\u0275\u0275defineComponent({type:f,selectors:[["ds-edit-item-template-page"]],decls:2,vars:3,consts:[["class","container",4,"ngVar"],[1,"container"],[1,"row"],["class","col-12",4,"ngVar"],[1,"col-12"],[4,"ngIf"],[3,"message",4,"ngIf"],[3,"type","content",4,"ngIf"],[1,"border-bottom"],[3,"updateService","item"],[1,"btn","btn-outline-secondary",3,"routerLink"],[3,"message"],[3,"type","content"]],template:function(n,L){if(1&n&&(i.\u0275\u0275template(0,g,4,3,"div",0),i.\u0275\u0275pipe(1,"async")),2&n){let V;i.\u0275\u0275property("ngVar",null==(V=i.\u0275\u0275pipeBind1(1,1,L.collectionRD$))?null:V.payload)}},directives:[M.g,O.O5,T.Z,p.rH,R.Z,x.w],pipes:[O.Ov,C.X$],encapsulation:2}),f})()},52258:(A,m,e)=>{"use strict";e.d(m,{h:()=>i,x:()=>E});var r=e(63749),a=e(8183),l=e(5496),c=e(52695),_=e(70074),o=e(5328);const E=[(0,a.l)("logo"),(0,a.l)("subcommunities"),(0,a.l)("collections"),(0,a.l)("parentCommunity")];let i=(()=>{class p{constructor(O,T){this.communityService=O,this.store=T}resolve(O,T){const R=this.communityService.findById(O.params.id,!0,!1,...E).pipe((0,l.hC)());return R.subscribe(x=>{this.store.dispatch(new c.K(T.url,x.payload))}),R}}return p.\u0275fac=function(O){return new(O||p)(_.\u0275\u0275inject(r.w),_.\u0275\u0275inject(o.yh))},p.\u0275prov=_.\u0275\u0275defineInjectable({token:p,factory:p.\u0275fac}),p})()},43963:(A,m,e)=>{"use strict";e.d(m,{o:()=>r});var r=(()=>{return(a=r||(r={})).Known="KNOWN",a.Unknown="UNKNOWN",a.Supported="SUPPORTED",r;var a})()},94650:(A,m,e)=>{"use strict";e.d(m,{m:()=>E});var r=e(8183),a=e(21160),l=e(5496),c=e(65651),_=e(70074),o=e(5328);let E=(()=>{class i{constructor(M,O){this.dataService=M,this.store=O}resolve(M,O){return this.dataService.findById(M.params.id,!0,!1,(0,r.l)("item")).pipe((0,l.hC)(),(0,a.w)(R=>R.payload.item),(0,l.hC)())}}return i.\u0275fac=function(M){return new(M||i)(_.\u0275\u0275inject(c.t),_.\u0275\u0275inject(o.yh))},i.\u0275prov=_.\u0275\u0275defineInjectable({token:i,factory:i.\u0275fac}),i})()},40984:(A,m,e)=>{"use strict";e.r(m),e.d(m,{ForgotEmailComponent:()=>l});var r=e(70074),a=e(82111);let l=(()=>{class c{}return c.\u0275fac=function(o){return new(o||c)},c.\u0275cmp=r.\u0275\u0275defineComponent({type:c,selectors:[["ds-forgot-email"]],decls:1,vars:1,consts:[[3,"MESSAGE_PREFIX"]],template:function(o,E){1&o&&r.\u0275\u0275element(0,"ds-register-email-form",0),2&o&&r.\u0275\u0275property("MESSAGE_PREFIX","forgot-email.form")},directives:[a.Z],styles:[""]}),c})()},73383:(A,m,e)=>{"use strict";e.r(m),e.d(m,{ForgotPasswordFormComponent:()=>R});var r=e(53019),a=e(16228),l=e(48358),c=e(80485),_=e(5496),o=e(70074),E=e(86553),i=e(5328),p=e(37895),M=e(10210),O=e(48723);function T(x,C){if(1&x){const d=o.\u0275\u0275getCurrentView();o.\u0275\u0275elementStart(0,"div",1)(1,"h3",2),o.\u0275\u0275text(2),o.\u0275\u0275pipe(3,"translate"),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementStart(4,"div",3)(5,"div",4),o.\u0275\u0275text(6),o.\u0275\u0275pipe(7,"translate"),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementStart(8,"div",5)(9,"div",6)(10,"div",7)(11,"label",8),o.\u0275\u0275text(12),o.\u0275\u0275pipe(13,"translate"),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementStart(14,"span",9),o.\u0275\u0275text(15),o.\u0275\u0275pipe(16,"async"),o.\u0275\u0275elementEnd()()()()(),o.\u0275\u0275elementStart(17,"div",3)(18,"div",4),o.\u0275\u0275text(19),o.\u0275\u0275pipe(20,"translate"),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementStart(21,"div",5)(22,"ds-profile-page-security-form",10),o.\u0275\u0275listener("isInvalid",function(P){return o.\u0275\u0275restoreView(d),o.\u0275\u0275nextContext().setInValid(P)})("passwordValue",function(P){return o.\u0275\u0275restoreView(d),o.\u0275\u0275nextContext().setPasswordValue(P)}),o.\u0275\u0275elementEnd()()(),o.\u0275\u0275elementStart(23,"div",6)(24,"div",7)(25,"button",11),o.\u0275\u0275listener("click",function(){return o.\u0275\u0275restoreView(d),o.\u0275\u0275nextContext().submit()}),o.\u0275\u0275text(26),o.\u0275\u0275pipe(27,"translate"),o.\u0275\u0275elementEnd()()()()}if(2&x){const d=o.\u0275\u0275nextContext();o.\u0275\u0275advance(2),o.\u0275\u0275textInterpolate(o.\u0275\u0275pipeBind1(3,9,"forgot-password.form.head")),o.\u0275\u0275advance(4),o.\u0275\u0275textInterpolate(o.\u0275\u0275pipeBind1(7,11,"forgot-password.form.identification.header")),o.\u0275\u0275advance(6),o.\u0275\u0275textInterpolate(o.\u0275\u0275pipeBind1(13,13,"forgot-password.form.identification.email")),o.\u0275\u0275advance(3),o.\u0275\u0275textInterpolate(o.\u0275\u0275pipeBind1(16,15,d.registration$).email),o.\u0275\u0275advance(4),o.\u0275\u0275textInterpolate(o.\u0275\u0275pipeBind1(20,17,"forgot-password.form.card.security")),o.\u0275\u0275advance(3),o.\u0275\u0275property("passwordCanBeEmpty",!1)("FORM_PREFIX","forgot-password.form."),o.\u0275\u0275advance(3),o.\u0275\u0275property("disabled",d.isInValid),o.\u0275\u0275advance(1),o.\u0275\u0275textInterpolate(o.\u0275\u0275pipeBind1(27,19,"forgot-password.form.submit"))}}let R=(()=>{class x{constructor(d,t,P,v,h,g){this.ePersonDataService=d,this.translateService=t,this.notificationsService=P,this.store=v,this.router=h,this.route=g,this.isInValid=!0,this.NOTIFICATIONS_PREFIX="forgot-password.form.notification"}ngOnInit(){this.registration$=this.route.data.pipe((0,l.U)(d=>d.registration),(0,_.Gp)()),this.registration$.subscribe(d=>{this.email=d.email,this.token=d.token,this.user=d.user})}setInValid(d){this.isInValid=d}setPasswordValue(d){this.password=d}submit(){this.isInValid||this.ePersonDataService.patchPasswordWithToken(this.user,this.token,this.password).pipe((0,_.hC)()).subscribe(d=>{d.hasSucceeded?(this.notificationsService.success(this.translateService.instant(this.NOTIFICATIONS_PREFIX+".success.title"),this.translateService.instant(this.NOTIFICATIONS_PREFIX+".success.content")),this.store.dispatch(new c.zn(this.email,this.password)),this.router.navigate(["/home"])):this.notificationsService.error(this.translateService.instant(this.NOTIFICATIONS_PREFIX+".error.title"),d.errorMessage)})}}return x.\u0275fac=function(d){return new(d||x)(o.\u0275\u0275directiveInject(r.k),o.\u0275\u0275directiveInject(E.sK),o.\u0275\u0275directiveInject(a.T),o.\u0275\u0275directiveInject(i.yh),o.\u0275\u0275directiveInject(p.F0),o.\u0275\u0275directiveInject(p.gz))},x.\u0275cmp=o.\u0275\u0275defineComponent({type:x,selectors:[["ds-forgot-password-form"]],decls:2,vars:3,consts:[["class","container",4,"ngIf"],[1,"container"],[1,"mb-4"],[1,"card","mb-4"],[1,"card-header"],[1,"card-body"],[1,"row"],[1,"col-12"],["for","email",1,"font-weight-bold"],["id","email"],[3,"passwordCanBeEmpty","FORM_PREFIX","isInvalid","passwordValue"],[1,"btn","btn-default","btn-primary",3,"disabled","click"]],template:function(d,t){1&d&&(o.\u0275\u0275template(0,T,28,21,"div",0),o.\u0275\u0275pipe(1,"async")),2&d&&o.\u0275\u0275property("ngIf",o.\u0275\u0275pipeBind1(1,1,t.registration$))},directives:[M.O5,O.V],pipes:[M.Ov,E.X$],styles:[""]}),x})()},78405:(A,m,e)=>{"use strict";e.d(m,{Z:()=>_}),e(27899);var a=e(46533),l=e(70074);function c(o,E){}let _=(()=>{class o extends a.F{constructor(){super(...arguments),this.inAndOutputNames=["item","updateService"]}getComponentName(){return"ItemMetadataComponent"}importThemedComponent(i){return e(47007)(`./${i}/app/item-page/edit-item-page/item-metadata/item-metadata.component`)}importUnthemedComponent(){return Promise.resolve().then(e.bind(e,71260))}}return o.\u0275fac=function(){let E;return function(p){return(E||(E=l.\u0275\u0275getInheritedFactory(o)))(p||o)}}(),o.\u0275cmp=l.\u0275\u0275defineComponent({type:o,selectors:[["ds-themed-item-metadata"]],inputs:{item:"item",updateService:"updateService"},features:[l.\u0275\u0275InheritDefinitionFeature],decls:2,vars:0,consts:[["vcr",""]],template:function(i,p){1&i&&l.\u0275\u0275template(0,c,0,0,"ng-template",null,0,l.\u0275\u0275templateRefExtractor)},encapsulation:2}),o})()},39537:(A,m,e)=>{"use strict";e.r(m),e.d(m,{LoginPageComponent:()=>R});var r=e(53426),a=e(77007),l=e(77176),c=e(80485),_=e(25839),o=e(93373),E=e(55826),i=e(70074),p=e(37895),M=e(5328),O=e(40551),T=e(86553);let R=(()=>{class x{constructor(d,t){this.route=d,this.store=t}ngOnInit(){const d=this.route.queryParams,t=this.store.select(E.$8);this.sub=(0,r.a)(d,t).pipe((0,a.h)(([P,v])=>(0,_.UE)(P.token)||(0,_.UE)(P.expired)),(0,l.q)(1)).subscribe(([P,v])=>{const h=P.token;let g;v?(0,_.UE)(h)&&(g=new o.Y(h),this.store.dispatch(new c.$L(g))):(0,_.UE)(h)?(g=new o.Y(h),this.store.dispatch(new c.LF(g))):(0,_.UE)(P.expired)&&this.store.dispatch(new c.vT("auth.messages.expired"))})}ngOnDestroy(){(0,_.Uh)(this.sub)&&this.sub.unsubscribe(),this.store.dispatch(new c.wO)}}return x.\u0275fac=function(d){return new(d||x)(i.\u0275\u0275directiveInject(p.gz),i.\u0275\u0275directiveInject(M.yh))},x.\u0275cmp=i.\u0275\u0275defineComponent({type:x,selectors:[["ds-login-page"]],decls:9,vars:7,consts:[[1,"container","w-100","h-100"],[1,"text-center","mt-5","row","justify-content-center"],["src","assets/images/dspace-logo.png",1,"mb-4","login-logo",3,"alt"],[1,"h3","mb-0","font-weight-normal"],[3,"isStandalonePage"]],template:function(d,t){1&d&&(i.\u0275\u0275elementStart(0,"div",0)(1,"div",1)(2,"div"),i.\u0275\u0275element(3,"img",2),i.\u0275\u0275pipe(4,"translate"),i.\u0275\u0275elementStart(5,"h1",3),i.\u0275\u0275text(6),i.\u0275\u0275pipe(7,"translate"),i.\u0275\u0275elementEnd(),i.\u0275\u0275element(8,"ds-log-in",4),i.\u0275\u0275elementEnd()()()),2&d&&(i.\u0275\u0275advance(3),i.\u0275\u0275propertyInterpolate("alt",i.\u0275\u0275pipeBind1(4,3,"repository.image.logo")),i.\u0275\u0275advance(3),i.\u0275\u0275textInterpolate(i.\u0275\u0275pipeBind1(7,5,"login.form.header")),i.\u0275\u0275advance(2),i.\u0275\u0275property("isStandalonePage",!0))},directives:[O.D],pipes:[T.X$],styles:[".login-logo[_ngcontent-%COMP%]{height:var(--ds-login-logo-height);width:var(--ds-login-logo-width)}"]}),x})()},73215:(A,m,e)=>{"use strict";e.r(m),e.d(m,{LogoutPageComponent:()=>c});var r=e(70074),a=e(23721),l=e(86553);let c=(()=>{class _{}return _.\u0275fac=function(E){return new(E||_)},_.\u0275cmp=r.\u0275\u0275defineComponent({type:_,selectors:[["ds-logout-page"]],decls:8,vars:3,consts:[[1,"container","w-100","h-100"],[1,"text-center","mt-5","row","justify-content-md-center"],[1,"mx-auto"],["src","assets/images/dspace-logo.png",1,"mb-4","login-logo"],[1,"h3","mb-0","font-weight-normal"]],template:function(E,i){1&E&&(r.\u0275\u0275elementStart(0,"div",0)(1,"div",1)(2,"div",2),r.\u0275\u0275element(3,"img",3),r.\u0275\u0275elementStart(4,"h1",4),r.\u0275\u0275text(5),r.\u0275\u0275pipe(6,"translate"),r.\u0275\u0275elementEnd(),r.\u0275\u0275element(7,"ds-log-out"),r.\u0275\u0275elementEnd()()()),2&E&&(r.\u0275\u0275advance(5),r.\u0275\u0275textInterpolate(r.\u0275\u0275pipeBind1(6,1,"logout.form.header")))},directives:[a.P],pipes:[l.X$],styles:[".login-logo[_ngcontent-%COMP%]{height:var(--ds-login-logo-height);width:var(--ds-login-logo-width)}"]}),_})()},26292:(A,m,e)=>{"use strict";e.r(m),e.d(m,{ObjectNotFoundComponent:()=>c});var r=e(70074),a=e(37895),l=e(86553);let c=(()=>{class _{constructor(E){this.route=E,E.params.subscribe(i=>{this.idType=i.idType,this.id=i.id})}ngOnInit(){this.missingItem=this.idType.startsWith("handle")||this.idType.startsWith("uuid")?this.idType+": "+this.id:"handle: "+this.idType+"/"+this.id}}return _.\u0275fac=function(E){return new(E||_)(r.\u0275\u0275directiveInject(a.gz))},_.\u0275cmp=r.\u0275\u0275defineComponent({type:_,selectors:[["ds-objnotfound"]],decls:13,vars:7,consts:[[1,"object-not-found","container"],[1,"text-center"],["routerLink","/home",1,"btn","btn-primary"]],template:function(E,i){1&E&&(r.\u0275\u0275elementStart(0,"div",0)(1,"h1"),r.\u0275\u0275text(2),r.\u0275\u0275pipe(3,"translate"),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementStart(4,"h2")(5,"small")(6,"em"),r.\u0275\u0275text(7),r.\u0275\u0275elementEnd()()(),r.\u0275\u0275element(8,"br"),r.\u0275\u0275elementStart(9,"p",1)(10,"a",2),r.\u0275\u0275text(11),r.\u0275\u0275pipe(12,"translate"),r.\u0275\u0275elementEnd()()()),2&E&&(r.\u0275\u0275advance(2),r.\u0275\u0275textInterpolate(r.\u0275\u0275pipeBind1(3,3,"error.identifier")),r.\u0275\u0275advance(5),r.\u0275\u0275textInterpolate(i.missingItem),r.\u0275\u0275advance(4),r.\u0275\u0275textInterpolate(r.\u0275\u0275pipeBind1(12,5,"404.link.home-page")))},directives:[a.yS],pipes:[l.X$],styles:[""]}),_})()},51515:(A,m,e)=>{"use strict";e.r(m),e.d(m,{ExpandableNavbarSectionComponent:()=>P});var r=e(70655),a=e(70074),l=e(20195),c=e(43479),_=e(17272),o=e(76215),E=e(90016),i=e(73661),p=e(52307),M=e(41633),O=e(37895),T=e(10210);function R(v,h){1&v&&a.\u0275\u0275elementContainer(0)}function x(v,h){1&v&&a.\u0275\u0275elementContainer(0)}function C(v,h){if(1&v&&(a.\u0275\u0275elementContainerStart(0),a.\u0275\u0275template(1,x,1,0,"ng-container",3),a.\u0275\u0275pipe(2,"async"),a.\u0275\u0275pipe(3,"async"),a.\u0275\u0275elementContainerEnd()),2&v){const g=h.$implicit,B=a.\u0275\u0275nextContext(3);a.\u0275\u0275advance(1),a.\u0275\u0275property("ngComponentOutlet",a.\u0275\u0275pipeBind1(2,2,B.sectionMap$).get(g.id).component)("ngComponentOutletInjector",a.\u0275\u0275pipeBind1(3,4,B.sectionMap$).get(g.id).injector)}}function d(v,h){if(1&v){const g=a.\u0275\u0275getCurrentView();a.\u0275\u0275elementStart(0,"ul",5),a.\u0275\u0275listener("click",function(f){return a.\u0275\u0275restoreView(g),a.\u0275\u0275nextContext(2).deactivateSection(f)}),a.\u0275\u0275template(1,C,4,6,"ng-container",6),a.\u0275\u0275pipe(2,"async"),a.\u0275\u0275elementEnd()}if(2&v){const g=a.\u0275\u0275nextContext(2);a.\u0275\u0275property("@slide",void 0),a.\u0275\u0275advance(1),a.\u0275\u0275property("ngForOf",a.\u0275\u0275pipeBind1(2,2,g.subSections$))}}function t(v,h){if(1&v){const g=a.\u0275\u0275getCurrentView();a.\u0275\u0275elementStart(0,"div",1),a.\u0275\u0275listener("keyup.enter",function(f){const n=a.\u0275\u0275restoreView(g).ngVar,L=a.\u0275\u0275nextContext();return n?L.deactivateSection(f):L.activateSection(f)})("keyup.space",function(f){const n=a.\u0275\u0275restoreView(g).ngVar,L=a.\u0275\u0275nextContext();return n?L.deactivateSection(f):L.activateSection(f)})("keydown.space",function(f){return f.preventDefault()})("mouseenter",function(f){return a.\u0275\u0275restoreView(g),a.\u0275\u0275nextContext().activateSection(f)})("mouseleave",function(f){return a.\u0275\u0275restoreView(g),a.\u0275\u0275nextContext().deactivateSection(f)}),a.\u0275\u0275elementStart(1,"a",2),a.\u0275\u0275listener("click",function(f){return a.\u0275\u0275restoreView(g),a.\u0275\u0275nextContext().toggleSection(f)}),a.\u0275\u0275template(2,R,1,0,"ng-container",3),a.\u0275\u0275pipe(3,"async"),a.\u0275\u0275pipe(4,"async"),a.\u0275\u0275elementEnd(),a.\u0275\u0275template(5,d,3,4,"ul",4),a.\u0275\u0275pipe(6,"async"),a.\u0275\u0275elementEnd()}if(2&v){const g=a.\u0275\u0275nextContext();a.\u0275\u0275advance(2),a.\u0275\u0275property("ngComponentOutlet",a.\u0275\u0275pipeBind1(3,3,g.sectionMap$).get(g.section.id).component)("ngComponentOutletInjector",a.\u0275\u0275pipeBind1(4,5,g.sectionMap$).get(g.section.id).injector),a.\u0275\u0275advance(3),a.\u0275\u0275property("ngIf",a.\u0275\u0275pipeBind1(6,7,g.active))}}let P=class extends l.h{constructor(h,g,B,f){super(h,g,B),this.menuService=g,this.injector=B,this.windowService=f,this.menuID=p.z.PUBLIC}ngOnInit(){super.ngOnInit()}activateSection(h){this.windowService.isXsOrSm().pipe((0,o.P)()).subscribe(g=>{g||super.activateSection(h)})}deactivateSection(h){this.windowService.isXsOrSm().pipe((0,o.P)()).subscribe(g=>{g||super.deactivateSection(h)})}toggleSection(h){h.preventDefault(),this.windowService.isXsOrSm().pipe((0,o.P)()).subscribe(g=>{g&&super.toggleSection(h)})}};P.\u0275fac=function(h){return new(h||P)(a.\u0275\u0275directiveInject("sectionDataProvider"),a.\u0275\u0275directiveInject(c.h),a.\u0275\u0275directiveInject(a.Injector),a.\u0275\u0275directiveInject(E.I))},P.\u0275cmp=a.\u0275\u0275defineComponent({type:P,selectors:[["ds-expandable-navbar-section"]],features:[a.\u0275\u0275InheritDefinitionFeature],decls:2,vars:3,consts:[["class","nav-item dropdown expandable-navbar-section",3,"keyup.enter","keyup.space","keydown.space","mouseenter","mouseleave",4,"ngVar"],[1,"nav-item","dropdown","expandable-navbar-section",3,"keyup.enter","keyup.space","keydown.space","mouseenter","mouseleave"],["href","javascript:void(0);","routerLinkActive","active","id","browseDropdown","data-toggle","dropdown",1,"nav-link","dropdown-toggle",3,"click"],[4,"ngComponentOutlet","ngComponentOutletInjector"],["class","m-0 shadow-none border-top-0 dropdown-menu show",3,"click",4,"ngIf"],[1,"m-0","shadow-none","border-top-0","dropdown-menu","show",3,"click"],[4,"ngFor","ngForOf"]],template:function(h,g){1&h&&(a.\u0275\u0275template(0,t,7,9,"div",0),a.\u0275\u0275pipe(1,"async")),2&h&&a.\u0275\u0275property("ngVar",a.\u0275\u0275pipeBind1(1,1,g.active))},directives:[M.g,O.Od,T.$G,T.O5,T.sg],pipes:[T.Ov],styles:[".dropdown-menu[_ngcontent-%COMP%]{overflow:hidden;min-width:100%;border-top-left-radius:0;border-top-right-radius:0}.dropdown-menu[_ngcontent-%COMP%]     a.nav-link{padding-right:var(--bs-spacer);padding-left:var(--bs-spacer);white-space:nowrap}@media screen and (max-width: 768px){.dropdown-toggle[_ngcontent-%COMP%]:after{float:right;margin-top:calc(var(--bs-spacer) / 2)}.dropdown-menu[_ngcontent-%COMP%]{border:0}}"],data:{animation:[_.JD]}}),P=(0,r.__decorate)([(0,i.h)(p.z.PUBLIC,!0),(0,r.__metadata)("design:paramtypes",[Object,c.h,a.Injector,E.I])],P)},71716:(A,m,e)=>{"use strict";e.d(m,{N:()=>r});var r=(()=>{return(a=r||(r={}))[a.SCHEDULED=0]="SCHEDULED",a[a.RUNNING=1]="RUNNING",a[a.COMPLETED=2]="COMPLETED",a[a.FAILED=3]="FAILED",r;var a})()},82111:(A,m,e)=>{"use strict";e.d(m,{Z:()=>G});var r=e(37188),a=e(16228),l=e(45028),c=e(82094),_=e(5496),o=e(25839),E=e(35841),i=e(53426),p=e(21160),M=e(9237),O=e(48358),T=e(77176),R=e(9302),x=e(49638),C=e(338),d=e(45101),t=e(70074),P=e(86553),v=e(37895),h=e(50814),g=e(10210),B=e(7519),f=e(65324);function U(y,F){if(1&y&&(t.\u0275\u0275elementStart(0,"span"),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&y){const s=t.\u0275\u0275nextContext(2);t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(2,1,s.MESSAGE_PREFIX+".email.error.required")," ")}}function n(y,F){if(1&y&&(t.\u0275\u0275elementStart(0,"span"),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&y){const s=t.\u0275\u0275nextContext(2);t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(2,1,s.MESSAGE_PREFIX+".email.error.pattern")," ")}}function L(y,F){if(1&y&&(t.\u0275\u0275elementStart(0,"div",12),t.\u0275\u0275template(1,U,3,3,"span",13),t.\u0275\u0275template(2,n,3,3,"span",13),t.\u0275\u0275elementEnd()),2&y){const s=t.\u0275\u0275nextContext();t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",s.email.errors&&s.email.errors.required),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",s.email.errors&&s.email.errors.pattern)}}function V(y,F){if(1&y){const s=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"ds-alert",14),t.\u0275\u0275element(1,"p",15),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementStart(3,"p",16)(4,"a",17),t.\u0275\u0275listener("click",function(){return t.\u0275\u0275restoreView(s),t.\u0275\u0275nextContext().klaroService.showSettings()}),t.\u0275\u0275text(5),t.\u0275\u0275pipe(6,"translate"),t.\u0275\u0275elementEnd()()()}if(2&y){const s=t.\u0275\u0275nextContext();t.\u0275\u0275property("type",s.AlertTypeEnum.Warning),t.\u0275\u0275advance(1),t.\u0275\u0275property("innerHTML",t.\u0275\u0275pipeBind1(2,3,s.MESSAGE_PREFIX+".google-recaptcha.must-accept-cookies"),t.\u0275\u0275sanitizeHtml),t.\u0275\u0275advance(4),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(6,5,s.MESSAGE_PREFIX+".google-recaptcha.open-cookie-settings"))}}function $(y,F){if(1&y){const s=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"div",18)(1,"ds-google-recaptcha",19),t.\u0275\u0275listener("executeRecaptcha",function(S){return t.\u0275\u0275restoreView(s),t.\u0275\u0275nextContext().register(S)})("checkboxChecked",function(S){return t.\u0275\u0275restoreView(s),t.\u0275\u0275nextContext().onCheckboxChecked(S)})("showNotification",function(S){return t.\u0275\u0275restoreView(s),t.\u0275\u0275nextContext().showNotification(S)}),t.\u0275\u0275pipe(2,"async"),t.\u0275\u0275elementEnd()()}if(2&y){const s=t.\u0275\u0275nextContext();t.\u0275\u0275advance(1),t.\u0275\u0275property("captchaMode",t.\u0275\u0275pipeBind1(2,1,s.googleRecaptchaService.captchaMode()))}}function b(y,F){if(1&y){const s=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275elementStart(1,"button",20),t.\u0275\u0275listener("click",function(){return t.\u0275\u0275restoreView(s),t.\u0275\u0275nextContext().register()}),t.\u0275\u0275text(2),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementContainerEnd()}if(2&y){const s=t.\u0275\u0275nextContext();t.\u0275\u0275advance(1),t.\u0275\u0275property("disabled",s.form.invalid||s.registrationVerification&&!s.isRecaptchaCookieAccepted()||s.disableUntilChecked),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(3,2,s.MESSAGE_PREFIX+".submit")," ")}}function X(y,F){if(1&y){const s=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"button",20),t.\u0275\u0275listener("click",function(){return t.\u0275\u0275restoreView(s),t.\u0275\u0275nextContext().executeRecaptcha()}),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()}if(2&y){const s=t.\u0275\u0275nextContext();t.\u0275\u0275property("disabled",s.form.invalid),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(2,2,s.MESSAGE_PREFIX+".submit")," ")}}let G=(()=>{class y{constructor(s,D,S,w,z,H,Z,J,Y,Q,k){this.epersonRegistrationService=s,this.notificationService=D,this.translateService=S,this.router=w,this.formBuilder=z,this.configService=H,this.googleRecaptchaService=Z,this.cookieService=J,this.klaroService=Y,this.changeDetectorRef=Q,this.notificationsService=k,this.AlertTypeEnum=C.N,this.registrationVerification=!1,this.checkboxCheckedSubject$=new E.X(!1),this.disableUntilChecked=!0}captchaVersion(){return this.googleRecaptchaService.captchaVersion()}captchaMode(){return this.googleRecaptchaService.captchaMode()}ngOnInit(){this.form=this.formBuilder.group({email:new l.NI("",{validators:[l.kI.required,l.kI.pattern("^[a-z0-9._%+-]+@[a-z0-9.-]+.[a-z]{2,4}$")]})}),this.configService.findByPropertyName("registration.verification.enabled").pipe((0,_.Gp)(),(0,O.U)(s=>"true"===(null==s?void 0:s.values[0].toLowerCase()))).subscribe(s=>{this.registrationVerification=s}),this.disableUntilCheckedFcn().subscribe(s=>{this.disableUntilChecked=s,this.changeDetectorRef.detectChanges()})}executeRecaptcha(){this.googleRecaptchaService.executeRecaptcha()}register(s){this.form.invalid||(this.registrationVerification?(0,i.a)([this.captchaVersion(),this.captchaMode()]).pipe((0,p.w)(([D,S])=>"v3"===D?this.googleRecaptchaService.getRecaptchaToken("register_email"):"v2"===D&&"checkbox"===S?(0,M.of)(this.googleRecaptchaService.getRecaptchaTokenResponse()):"v2"===D&&"invisible"===S?(0,M.of)(s):(console.error(`Invalid reCaptcha configuration: version = ${D}, mode = ${S}`),void this.showNotification("error"))),(0,T.q)(1)).subscribe(D=>{(0,o.UE)(D)?this.registration(D):(console.error("reCaptcha error"),this.showNotification("error"))}):this.registration())}registration(s=null){(s?this.epersonRegistrationService.registerEmail(this.email.value,s):this.epersonRegistrationService.registerEmail(this.email.value)).subscribe(S=>{S.hasSucceeded?(this.notificationService.success(this.translateService.get(`${this.MESSAGE_PREFIX}.success.head`),this.translateService.get(`${this.MESSAGE_PREFIX}.success.content`,{email:this.email.value})),this.router.navigate(["/home"])):this.notificationService.error(this.translateService.get(`${this.MESSAGE_PREFIX}.error.head`),this.translateService.get(`${this.MESSAGE_PREFIX}.error.content`,{email:this.email.value}))})}isRecaptchaCookieAccepted(){const s=this.cookieService.get("klaro-anonymous");return!!(0,o.UE)(s)&&s[x.LI]}disableUntilCheckedFcn(){const s=this.checkboxCheckedSubject$.asObservable();return(0,i.a)([this.captchaVersion(),this.captchaMode(),s]).pipe((0,p.w)(([D,S,w])=>(0,M.of)("v2"===D&&"checkbox"===S&&!w)),(0,R.O)(!0))}get email(){return this.form.get("email")}onCheckboxChecked(s){this.checkboxCheckedSubject$.next(s)}showNotification(s){const D=this.translateService.get(this.MESSAGE_PREFIX+".google-recaptcha.notification.title"),S=this.translateService.get(this.MESSAGE_PREFIX+".google-recaptcha.notification.message.error"),w=this.translateService.get(this.MESSAGE_PREFIX+".google-recaptcha.notification.message.expired");switch(s){case"expired":this.notificationsService.warning(D,w);break;case"error":this.notificationsService.error(D,S);break;default:console.warn(`Unimplemented notification '${s}' from reCaptcha service`)}}}return y.\u0275fac=function(s){return new(s||y)(t.\u0275\u0275directiveInject(r.m),t.\u0275\u0275directiveInject(a.T),t.\u0275\u0275directiveInject(P.sK),t.\u0275\u0275directiveInject(v.F0),t.\u0275\u0275directiveInject(l.qu),t.\u0275\u0275directiveInject(c.i),t.\u0275\u0275directiveInject(x.v0),t.\u0275\u0275directiveInject(d.N),t.\u0275\u0275directiveInject(h.D,8),t.\u0275\u0275directiveInject(t.ChangeDetectorRef),t.\u0275\u0275directiveInject(a.T))},y.\u0275cmp=t.\u0275\u0275defineComponent({type:y,selectors:[["ds-register-email-form"]],inputs:{MESSAGE_PREFIX:"MESSAGE_PREFIX"},decls:27,vars:27,consts:[[1,"container"],[3,"formGroup"],[1,"form-group"],[1,"row"],[1,"col-12"],["for","email",1,"font-weight-bold"],["type","text","id","email","formControlName","email",3,"className"],["class","invalid-feedback show-feedback",4,"ngIf"],[3,"type",4,"ngIf"],["class","my-3",4,"ngIf"],[4,"ngIf","ngIfElse"],["v2Invisible",""],[1,"invalid-feedback","show-feedback"],[4,"ngIf"],[3,"type"],[1,"m-0",3,"innerHTML"],[1,"m-0"],["href","javascript:void(0);",3,"click"],[1,"my-3"],[3,"captchaMode","executeRecaptcha","checkboxChecked","showNotification"],[1,"btn","btn-primary",3,"disabled","click"]],template:function(s,D){if(1&s&&(t.\u0275\u0275elementStart(0,"div",0)(1,"h2"),t.\u0275\u0275text(2),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(4,"p"),t.\u0275\u0275text(5),t.\u0275\u0275pipe(6,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(7,"form",1)(8,"div",2)(9,"div",3)(10,"div",4)(11,"label",5),t.\u0275\u0275text(12),t.\u0275\u0275pipe(13,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275element(14,"input",6),t.\u0275\u0275template(15,L,3,2,"div",7),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(16,"div",4),t.\u0275\u0275text(17),t.\u0275\u0275pipe(18,"translate"),t.\u0275\u0275elementEnd()()(),t.\u0275\u0275template(19,V,7,7,"ds-alert",8),t.\u0275\u0275template(20,$,3,3,"div",9),t.\u0275\u0275pipe(21,"async"),t.\u0275\u0275template(22,b,4,4,"ng-container",10),t.\u0275\u0275pipe(23,"async"),t.\u0275\u0275pipe(24,"async"),t.\u0275\u0275template(25,X,3,4,"ng-template",null,11,t.\u0275\u0275templateRefExtractor),t.\u0275\u0275elementEnd()()),2&s){const S=t.\u0275\u0275reference(26);t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(3,13,D.MESSAGE_PREFIX+".header")),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(6,15,D.MESSAGE_PREFIX+".info")),t.\u0275\u0275advance(2),t.\u0275\u0275classMap("ng-invalid"),t.\u0275\u0275property("formGroup",D.form),t.\u0275\u0275advance(5),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(13,17,D.MESSAGE_PREFIX+".email")),t.\u0275\u0275advance(2),t.\u0275\u0275property("className",D.email.invalid&&(D.email.dirty||D.email.touched)?"form-control is-invalid":"form-control"),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",D.email.invalid&&(D.email.dirty||D.email.touched)),t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(18,19,D.MESSAGE_PREFIX+".email.hint")," "),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngIf",D.registrationVerification&&!D.isRecaptchaCookieAccepted()),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",D.isRecaptchaCookieAccepted()&&"v2"===t.\u0275\u0275pipeBind1(21,21,D.googleRecaptchaService.captchaVersion())),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngIf",!("v2"===t.\u0275\u0275pipeBind1(23,23,D.googleRecaptchaService.captchaVersion())&&"invisible"===t.\u0275\u0275pipeBind1(24,25,D.googleRecaptchaService.captchaMode())))("ngIfElse",S)}},directives:[l._Y,l.JL,l.sg,l.Fj,l.JJ,l.u,g.O5,B.w,f.C],pipes:[P.X$,g.Ov],encapsulation:2}),y})()},73457:(A,m,e)=>{"use strict";e.r(m),e.d(m,{RegisterEmailComponent:()=>l});var r=e(70074),a=e(82111);let l=(()=>{class c{}return c.\u0275fac=function(o){return new(o||c)},c.\u0275cmp=r.\u0275\u0275defineComponent({type:c,selectors:[["ds-register-email"]],decls:1,vars:1,consts:[[3,"MESSAGE_PREFIX"]],template:function(o,E){1&o&&r.\u0275\u0275element(0,"ds-register-email-form",0),2&o&&r.\u0275\u0275property("MESSAGE_PREFIX","register-page.registration")},directives:[a.Z],styles:[""]}),c})()},72004:(A,m,e)=>{"use strict";e.d(m,{s:()=>_});var r=e(70655),a=e(41527),l=e(46894),c=e(91807);let _=class extends l.l{};_=(0,r.__decorate)([(0,c.D)(a.p)],_)},37314:(A,m,e)=>{"use strict";e.d(m,{V:()=>T});var r=e(48358),a=e(21160),l=e(77176),c=e(20736),_=e(43685),o=e(16228),E=e(5496),i=e(25839),p=e(70074),M=e(37895),O=e(86553);let T=(()=>{class R{constructor(C,d,t,P,v,h){this.route=C,this.workflowItemService=d,this.router=t,this.routeService=P,this.notificationsService=v,this.translationService=h}ngOnInit(){this.type=this.getType(),this.wfi$=this.route.data.pipe((0,r.U)(C=>C.wfi),(0,E.xe)()),this.item$=this.wfi$.pipe((0,a.w)(C=>C.item.pipe((0,E.g1)(),(0,E.xe)())))}performAction(){this.wfi$.pipe((0,l.q)(1),(0,a.w)(C=>this.sendRequest(C.id))).subscribe(C=>{if(C){const d=this.translationService.get("workflow-item."+this.type+".notification.success.title"),t=this.translationService.get("workflow-item."+this.type+".notification.success.content");this.notificationsService.success(d,t)}else{const d=this.translationService.get("workflow-item."+this.type+".notification.error.title"),t=this.translationService.get("workflow-item."+this.type+".notification.error.content");this.notificationsService.error(d,t)}this.previousPage()})}previousPage(){this.routeService.getPreviousUrl().pipe((0,l.q)(1)).subscribe(C=>{(0,i.xb)(C)&&(C="/mydspace"),this.router.navigateByUrl(C)})}}return R.\u0275fac=function(C){return new(C||R)(p.\u0275\u0275directiveInject(M.gz),p.\u0275\u0275directiveInject(c.K),p.\u0275\u0275directiveInject(M.F0),p.\u0275\u0275directiveInject(_.MZ),p.\u0275\u0275directiveInject(o.T),p.\u0275\u0275directiveInject(O.sK))},R.\u0275cmp=p.\u0275\u0275defineComponent({type:R,selectors:[["ds-workflowitem-action-page"]],decls:0,vars:0,template:function(C,d){},encapsulation:2}),R})()},59026:(A,m,e)=>{"use strict";e.r(m),e.d(m,{WorkflowItemDeleteComponent:()=>d});var r=e(37314),a=e(20736),l=e(43685),c=e(16228),_=e(37958),o=e(48358),E=e(5496),i=e(70074),p=e(37895),M=e(86553),O=e(41633),T=e(10210),R=e(2679);function x(t,P){if(1&t&&i.\u0275\u0275element(0,"ds-modify-item-overview",5),2&t){const v=i.\u0275\u0275nextContext().ngVar;i.\u0275\u0275property("item",v)}}function C(t,P){if(1&t){const v=i.\u0275\u0275getCurrentView();i.\u0275\u0275elementStart(0,"div",1)(1,"h2"),i.\u0275\u0275text(2),i.\u0275\u0275pipe(3,"translate"),i.\u0275\u0275elementEnd(),i.\u0275\u0275template(4,x,1,1,"ds-modify-item-overview",2),i.\u0275\u0275elementStart(5,"button",3),i.\u0275\u0275listener("click",function(){return i.\u0275\u0275restoreView(v),i.\u0275\u0275nextContext().previousPage()}),i.\u0275\u0275text(6),i.\u0275\u0275pipe(7,"translate"),i.\u0275\u0275elementEnd(),i.\u0275\u0275elementStart(8,"button",4),i.\u0275\u0275listener("click",function(){return i.\u0275\u0275restoreView(v),i.\u0275\u0275nextContext().performAction()}),i.\u0275\u0275text(9),i.\u0275\u0275pipe(10,"translate"),i.\u0275\u0275elementEnd()()}if(2&t){const v=P.ngVar,h=i.\u0275\u0275nextContext();i.\u0275\u0275advance(2),i.\u0275\u0275textInterpolate(i.\u0275\u0275pipeBind1(3,4,"workflow-item."+h.type+".header")),i.\u0275\u0275advance(2),i.\u0275\u0275property("ngIf",v),i.\u0275\u0275advance(2),i.\u0275\u0275textInterpolate(i.\u0275\u0275pipeBind1(7,6,"workflow-item."+h.type+".button.cancel")),i.\u0275\u0275advance(3),i.\u0275\u0275textInterpolate(i.\u0275\u0275pipeBind1(10,8,"workflow-item."+h.type+".button.confirm"))}}let d=(()=>{class t extends r.V{constructor(v,h,g,B,f,U,n){super(v,h,g,B,f,U),this.route=v,this.workflowItemService=h,this.router=g,this.routeService=B,this.notificationsService=f,this.translationService=U,this.requestService=n}getType(){return"delete"}sendRequest(v){return this.requestService.removeByHrefSubstring("/discover"),this.workflowItemService.delete(v).pipe((0,E.hC)(),(0,o.U)(h=>h.hasSucceeded))}}return t.\u0275fac=function(v){return new(v||t)(i.\u0275\u0275directiveInject(p.gz),i.\u0275\u0275directiveInject(a.K),i.\u0275\u0275directiveInject(p.F0),i.\u0275\u0275directiveInject(l.MZ),i.\u0275\u0275directiveInject(c.T),i.\u0275\u0275directiveInject(M.sK),i.\u0275\u0275directiveInject(_.s))},t.\u0275cmp=i.\u0275\u0275defineComponent({type:t,selectors:[["ds-workflow-item-delete"]],features:[i.\u0275\u0275InheritDefinitionFeature],decls:2,vars:3,consts:[["class","container",4,"ngVar"],[1,"container"],[3,"item",4,"ngIf"],[1,"btn","btn-default",3,"click"],[1,"btn","btn-danger",3,"click"],[3,"item"]],template:function(v,h){1&v&&(i.\u0275\u0275template(0,C,11,10,"div",0),i.\u0275\u0275pipe(1,"async")),2&v&&i.\u0275\u0275property("ngVar",i.\u0275\u0275pipeBind1(1,1,h.item$))},directives:[O.g,T.O5,R.E],pipes:[T.Ov,M.X$],encapsulation:2}),t})()},14445:(A,m,e)=>{"use strict";e.r(m),e.d(m,{WorkflowItemSendBackComponent:()=>x});var r=e(37314),a=e(20736),l=e(43685),c=e(16228),_=e(37958),o=e(70074),E=e(37895),i=e(86553),p=e(41633),M=e(10210),O=e(2679);function T(C,d){if(1&C&&o.\u0275\u0275element(0,"ds-modify-item-overview",5),2&C){const t=o.\u0275\u0275nextContext().ngVar;o.\u0275\u0275property("item",t)}}function R(C,d){if(1&C){const t=o.\u0275\u0275getCurrentView();o.\u0275\u0275elementStart(0,"div",1)(1,"h2"),o.\u0275\u0275text(2),o.\u0275\u0275pipe(3,"translate"),o.\u0275\u0275elementEnd(),o.\u0275\u0275template(4,T,1,1,"ds-modify-item-overview",2),o.\u0275\u0275elementStart(5,"button",3),o.\u0275\u0275listener("click",function(){return o.\u0275\u0275restoreView(t),o.\u0275\u0275nextContext().previousPage()}),o.\u0275\u0275text(6),o.\u0275\u0275pipe(7,"translate"),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementStart(8,"button",4),o.\u0275\u0275listener("click",function(){return o.\u0275\u0275restoreView(t),o.\u0275\u0275nextContext().performAction()}),o.\u0275\u0275text(9),o.\u0275\u0275pipe(10,"translate"),o.\u0275\u0275elementEnd()()}if(2&C){const t=d.ngVar,P=o.\u0275\u0275nextContext();o.\u0275\u0275advance(2),o.\u0275\u0275textInterpolate(o.\u0275\u0275pipeBind1(3,4,"workflow-item."+P.type+".header")),o.\u0275\u0275advance(2),o.\u0275\u0275property("ngIf",t),o.\u0275\u0275advance(2),o.\u0275\u0275textInterpolate(o.\u0275\u0275pipeBind1(7,6,"workflow-item."+P.type+".button.cancel")),o.\u0275\u0275advance(3),o.\u0275\u0275textInterpolate(o.\u0275\u0275pipeBind1(10,8,"workflow-item."+P.type+".button.confirm"))}}let x=(()=>{class C extends r.V{constructor(t,P,v,h,g,B,f){super(t,P,v,h,g,B),this.route=t,this.workflowItemService=P,this.router=v,this.routeService=h,this.notificationsService=g,this.translationService=B,this.requestService=f}getType(){return"send-back"}sendRequest(t){return this.requestService.removeByHrefSubstring("/discover"),this.workflowItemService.sendBack(t)}}return C.\u0275fac=function(t){return new(t||C)(o.\u0275\u0275directiveInject(E.gz),o.\u0275\u0275directiveInject(a.K),o.\u0275\u0275directiveInject(E.F0),o.\u0275\u0275directiveInject(l.MZ),o.\u0275\u0275directiveInject(c.T),o.\u0275\u0275directiveInject(i.sK),o.\u0275\u0275directiveInject(_.s))},C.\u0275cmp=o.\u0275\u0275defineComponent({type:C,selectors:[["ds-workflow-item-send-back"]],features:[o.\u0275\u0275InheritDefinitionFeature],decls:2,vars:3,consts:[["class","container",4,"ngVar"],[1,"container"],[3,"item",4,"ngIf"],[1,"btn","btn-default",3,"click"],[1,"btn","btn-danger",3,"click"],[3,"item"]],template:function(t,P){1&t&&(o.\u0275\u0275template(0,R,11,10,"div",0),o.\u0275\u0275pipe(1,"async")),2&t&&o.\u0275\u0275property("ngVar",o.\u0275\u0275pipeBind1(1,1,P.item$))},directives:[p.g,M.O5,O.E],pipes:[M.Ov,i.X$],encapsulation:2}),C})()},47007:(A,m,e)=>{var r={"./custom/app/item-page/edit-item-page/item-metadata/item-metadata.component":[94814,659],"./gusi/app/item-page/edit-item-page/item-metadata/item-metadata.component":[84301,4301]};function a(l){if(!e.o(r,l))return Promise.resolve().then(()=>{var o=new Error("Cannot find module '"+l+"'");throw o.code="MODULE_NOT_FOUND",o});var c=r[l],_=c[0];return e.e(c[1]).then(()=>e(_))}a.keys=()=>Object.keys(r),a.id=47007,A.exports=a}}]);