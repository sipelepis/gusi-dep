(self.webpackChunkdspace_angular=self.webpackChunkdspace_angular||[]).push([[6497],{7379:(y,h,e)=>{"use strict";e.d(h,{f:()=>O});var l=e(70655),m=e(41881),_=e(50939),t=e(19339),P=e(37958),n=e(23969),T=e(5496),f=e(48358),S=e(65651),M=e(11635),x=e(8411),I=e(70074);let O=class extends S.t{constructor(s,g,r,v){super("usagereports",s,g,v,r),this.requestService=s,this.rdbService=g,this.halService=r,this.objectCache=v,this.searchData=new M.l(this.linkPath,s,g,v,r,this.responseMsToLive)}getStatistic(s,g){return this.findById(`${s}_${g}`).pipe((0,T.xw)(),(0,T.xe)())}searchStatistics(s,g,r){return this.searchBy("object",{searchParams:[{fieldName:"uri",fieldValue:s}],currentPage:g,elementsPerPage:r},!0,!1).pipe((0,T.xw)(),(0,T.xe)(),(0,f.U)(v=>v.page))}searchBy(s,g,r,v,...U){return this.searchData.searchBy(s,g,r,v,...U)}};O.\u0275fac=function(s){return new(s||O)(I.\u0275\u0275inject(P.s),I.\u0275\u0275inject(m.Q),I.\u0275\u0275inject(t.q),I.\u0275\u0275inject(_.a))},O.\u0275prov=I.\u0275\u0275defineInjectable({token:O,factory:O.\u0275fac}),O=(0,l.__decorate)([(0,x.cQ)(n._),(0,l.__metadata)("design:paramtypes",[P.s,m.Q,t.q,_.a])],O)},38071:(y,h,e)=>{"use strict";e.r(h),e.d(h,{CollectionStatisticsPageComponent:()=>A});var l=e(12467),m=e(7379),_=e(28709),t=e(70074),P=e(37895),n=e(53043),T=e(41633),f=e(10210),S=e(76924),M=e(11602),x=e(86553);const I=function(i){return{scope:i}};function O(i,p){if(1&i&&(t.\u0275\u0275elementStart(0,"h2",3),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&i){const a=t.\u0275\u0275nextContext().ngVar,c=t.\u0275\u0275nextContext();t.\u0275\u0275propertyInterpolate("id",a.id),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind2(2,2,"statistics.header",t.\u0275\u0275pureFunction1(5,I,c.getName(a)))," ")}}function C(i,p){if(1&i&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275template(1,O,3,7,"h2",2),t.\u0275\u0275elementContainerEnd()),2&i){const a=p.ngVar;t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",a)}}function s(i,p){1&i&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275element(1,"ds-themed-loading"),t.\u0275\u0275elementContainerEnd())}function g(i,p){if(1&i&&t.\u0275\u0275element(0,"ds-statistics-table",6),2&i){const a=p.$implicit;t.\u0275\u0275classMapInterpolate1("m-2 ",a.id,""),t.\u0275\u0275property("report",a)}}function r(i,p){1&i&&(t.\u0275\u0275elementStart(0,"div"),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&i&&(t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(2,1,"statistics.page.no-data")," "))}function v(i,p){if(1&i&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275template(1,g,1,4,"ds-statistics-table",5),t.\u0275\u0275template(2,r,3,3,"div",4),t.\u0275\u0275pipe(3,"async"),t.\u0275\u0275elementContainerEnd()),2&i){const a=t.\u0275\u0275nextContext().ngVar,c=t.\u0275\u0275nextContext();t.\u0275\u0275advance(1),t.\u0275\u0275property("ngForOf",a),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",!t.\u0275\u0275pipeBind1(3,2,c.hasData$))}}function U(i,p){if(1&i&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275template(1,s,2,0,"ng-container",4),t.\u0275\u0275template(2,v,4,4,"ng-container",4),t.\u0275\u0275elementContainerEnd()),2&i){const a=p.ngVar;t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",!a),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",a)}}let A=(()=>{class i extends l.f{constructor(a,c,d,D,R){super(a,c,d,D,R),this.route=a,this.router=c,this.usageReportService=d,this.nameService=D,this.authService=R,this.types=["TotalVisits","TotalVisitsPerMonth","TopCountries","TopCities"]}}return i.\u0275fac=function(a){return new(a||i)(t.\u0275\u0275directiveInject(P.gz),t.\u0275\u0275directiveInject(P.F0),t.\u0275\u0275directiveInject(m.f),t.\u0275\u0275directiveInject(n._),t.\u0275\u0275directiveInject(_.e8))},i.\u0275cmp=t.\u0275\u0275defineComponent({type:i,selectors:[["ds-collection-statistics-page"]],features:[t.\u0275\u0275InheritDefinitionFeature],decls:5,vars:6,consts:[[1,"container"],[4,"ngVar"],["class","header",3,"id",4,"ngIf"],[1,"header",3,"id"],[4,"ngIf"],[3,"report","class",4,"ngFor","ngForOf"],[3,"report"]],template:function(a,c){1&a&&(t.\u0275\u0275elementStart(0,"div",0),t.\u0275\u0275template(1,C,2,1,"ng-container",1),t.\u0275\u0275pipe(2,"async"),t.\u0275\u0275template(3,U,3,2,"ng-container",1),t.\u0275\u0275pipe(4,"async"),t.\u0275\u0275elementEnd()),2&a&&(t.\u0275\u0275advance(1),t.\u0275\u0275property("ngVar",t.\u0275\u0275pipeBind1(2,2,c.scope$)),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngVar",t.\u0275\u0275pipeBind1(4,4,c.reports$)))},directives:[T.g,f.O5,S.Z,f.sg,M.A],pipes:[f.Ov,x.X$],styles:[""]}),i})()},2887:(y,h,e)=>{"use strict";e.r(h),e.d(h,{CommunityStatisticsPageComponent:()=>A});var l=e(12467),m=e(7379),_=e(28709),t=e(70074),P=e(37895),n=e(53043),T=e(41633),f=e(10210),S=e(76924),M=e(11602),x=e(86553);const I=function(i){return{scope:i}};function O(i,p){if(1&i&&(t.\u0275\u0275elementStart(0,"h2",3),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&i){const a=t.\u0275\u0275nextContext().ngVar,c=t.\u0275\u0275nextContext();t.\u0275\u0275propertyInterpolate("id",a.id),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind2(2,2,"statistics.header",t.\u0275\u0275pureFunction1(5,I,c.getName(a)))," ")}}function C(i,p){if(1&i&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275template(1,O,3,7,"h2",2),t.\u0275\u0275elementContainerEnd()),2&i){const a=p.ngVar;t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",a)}}function s(i,p){1&i&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275element(1,"ds-themed-loading"),t.\u0275\u0275elementContainerEnd())}function g(i,p){if(1&i&&t.\u0275\u0275element(0,"ds-statistics-table",6),2&i){const a=p.$implicit;t.\u0275\u0275classMapInterpolate1("m-2 ",a.id,""),t.\u0275\u0275property("report",a)}}function r(i,p){1&i&&(t.\u0275\u0275elementStart(0,"div"),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&i&&(t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(2,1,"statistics.page.no-data")," "))}function v(i,p){if(1&i&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275template(1,g,1,4,"ds-statistics-table",5),t.\u0275\u0275template(2,r,3,3,"div",4),t.\u0275\u0275pipe(3,"async"),t.\u0275\u0275elementContainerEnd()),2&i){const a=t.\u0275\u0275nextContext().ngVar,c=t.\u0275\u0275nextContext();t.\u0275\u0275advance(1),t.\u0275\u0275property("ngForOf",a),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",!t.\u0275\u0275pipeBind1(3,2,c.hasData$))}}function U(i,p){if(1&i&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275template(1,s,2,0,"ng-container",4),t.\u0275\u0275template(2,v,4,4,"ng-container",4),t.\u0275\u0275elementContainerEnd()),2&i){const a=p.ngVar;t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",!a),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",a)}}let A=(()=>{class i extends l.f{constructor(a,c,d,D,R){super(a,c,d,D,R),this.route=a,this.router=c,this.usageReportService=d,this.nameService=D,this.authService=R,this.types=["TotalVisits","TotalVisitsPerMonth","TopCountries","TopCities"]}}return i.\u0275fac=function(a){return new(a||i)(t.\u0275\u0275directiveInject(P.gz),t.\u0275\u0275directiveInject(P.F0),t.\u0275\u0275directiveInject(m.f),t.\u0275\u0275directiveInject(n._),t.\u0275\u0275directiveInject(_.e8))},i.\u0275cmp=t.\u0275\u0275defineComponent({type:i,selectors:[["ds-community-statistics-page"]],features:[t.\u0275\u0275InheritDefinitionFeature],decls:5,vars:6,consts:[[1,"container"],[4,"ngVar"],["class","header",3,"id",4,"ngIf"],[1,"header",3,"id"],[4,"ngIf"],[3,"report","class",4,"ngFor","ngForOf"],[3,"report"]],template:function(a,c){1&a&&(t.\u0275\u0275elementStart(0,"div",0),t.\u0275\u0275template(1,C,2,1,"ng-container",1),t.\u0275\u0275pipe(2,"async"),t.\u0275\u0275template(3,U,3,2,"ng-container",1),t.\u0275\u0275pipe(4,"async"),t.\u0275\u0275elementEnd()),2&a&&(t.\u0275\u0275advance(1),t.\u0275\u0275property("ngVar",t.\u0275\u0275pipeBind1(2,2,c.scope$)),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngVar",t.\u0275\u0275pipeBind1(4,4,c.reports$)))},directives:[T.g,f.O5,S.Z,f.sg,M.A],pipes:[f.Ov,x.X$],styles:[""]}),i})()},81414:(y,h,e)=>{"use strict";e.r(h),e.d(h,{ItemStatisticsPageComponent:()=>A});var l=e(12467),m=e(7379),_=e(28709),t=e(70074),P=e(37895),n=e(53043),T=e(41633),f=e(10210),S=e(76924),M=e(11602),x=e(86553);const I=function(i){return{scope:i}};function O(i,p){if(1&i&&(t.\u0275\u0275elementStart(0,"h2",3),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&i){const a=t.\u0275\u0275nextContext().ngVar,c=t.\u0275\u0275nextContext();t.\u0275\u0275propertyInterpolate("id",a.id),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind2(2,2,"statistics.header",t.\u0275\u0275pureFunction1(5,I,c.getName(a)))," ")}}function C(i,p){if(1&i&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275template(1,O,3,7,"h2",2),t.\u0275\u0275elementContainerEnd()),2&i){const a=p.ngVar;t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",a)}}function s(i,p){1&i&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275element(1,"ds-themed-loading"),t.\u0275\u0275elementContainerEnd())}function g(i,p){if(1&i&&t.\u0275\u0275element(0,"ds-statistics-table",6),2&i){const a=p.$implicit;t.\u0275\u0275classMapInterpolate1("m-2 ",a.id,""),t.\u0275\u0275property("report",a)}}function r(i,p){1&i&&(t.\u0275\u0275elementStart(0,"div"),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&i&&(t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(2,1,"statistics.page.no-data")," "))}function v(i,p){if(1&i&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275template(1,g,1,4,"ds-statistics-table",5),t.\u0275\u0275template(2,r,3,3,"div",4),t.\u0275\u0275pipe(3,"async"),t.\u0275\u0275elementContainerEnd()),2&i){const a=t.\u0275\u0275nextContext().ngVar,c=t.\u0275\u0275nextContext();t.\u0275\u0275advance(1),t.\u0275\u0275property("ngForOf",a),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",!t.\u0275\u0275pipeBind1(3,2,c.hasData$))}}function U(i,p){if(1&i&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275template(1,s,2,0,"ng-container",4),t.\u0275\u0275template(2,v,4,4,"ng-container",4),t.\u0275\u0275elementContainerEnd()),2&i){const a=p.ngVar;t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",!a),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",a)}}let A=(()=>{class i extends l.f{constructor(a,c,d,D,R){super(a,c,d,D,R),this.route=a,this.router=c,this.usageReportService=d,this.nameService=D,this.authService=R,this.types=["TotalVisits","TotalVisitsPerMonth","TotalDownloads","TopCountries","TopCities"]}}return i.\u0275fac=function(a){return new(a||i)(t.\u0275\u0275directiveInject(P.gz),t.\u0275\u0275directiveInject(P.F0),t.\u0275\u0275directiveInject(m.f),t.\u0275\u0275directiveInject(n._),t.\u0275\u0275directiveInject(_.e8))},i.\u0275cmp=t.\u0275\u0275defineComponent({type:i,selectors:[["ds-item-statistics-page"]],features:[t.\u0275\u0275InheritDefinitionFeature],decls:5,vars:6,consts:[[1,"container"],[4,"ngVar"],["class","header",3,"id",4,"ngIf"],[1,"header",3,"id"],[4,"ngIf"],[3,"report","class",4,"ngFor","ngForOf"],[3,"report"]],template:function(a,c){1&a&&(t.\u0275\u0275elementStart(0,"div",0),t.\u0275\u0275template(1,C,2,1,"ng-container",1),t.\u0275\u0275pipe(2,"async"),t.\u0275\u0275template(3,U,3,2,"ng-container",1),t.\u0275\u0275pipe(4,"async"),t.\u0275\u0275elementEnd()),2&a&&(t.\u0275\u0275advance(1),t.\u0275\u0275property("ngVar",t.\u0275\u0275pipeBind1(2,2,c.scope$)),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngVar",t.\u0275\u0275pipeBind1(4,4,c.reports$)))},directives:[T.g,f.O5,S.Z,f.sg,M.A],pipes:[f.Ov,x.X$],styles:[""]}),i})()},17599:(y,h,e)=>{"use strict";e.r(h),e.d(h,{SiteStatisticsPageComponent:()=>p});var l=e(12467),m=e(11262),_=e(7379),t=e(21160),P=e(28709),n=e(70074),T=e(37895),f=e(53043),S=e(41633),M=e(10210),x=e(76924),I=e(11602),O=e(86553);const C=function(a){return{scope:a}};function s(a,c){if(1&a&&(n.\u0275\u0275elementStart(0,"h2",3),n.\u0275\u0275text(1),n.\u0275\u0275pipe(2,"translate"),n.\u0275\u0275elementEnd()),2&a){const d=n.\u0275\u0275nextContext().ngVar,D=n.\u0275\u0275nextContext();n.\u0275\u0275propertyInterpolate("id",d.id),n.\u0275\u0275advance(1),n.\u0275\u0275textInterpolate1(" ",n.\u0275\u0275pipeBind2(2,2,"statistics.header",n.\u0275\u0275pureFunction1(5,C,D.getName(d)))," ")}}function g(a,c){if(1&a&&(n.\u0275\u0275elementContainerStart(0),n.\u0275\u0275template(1,s,3,7,"h2",2),n.\u0275\u0275elementContainerEnd()),2&a){const d=c.ngVar;n.\u0275\u0275advance(1),n.\u0275\u0275property("ngIf",d)}}function r(a,c){1&a&&(n.\u0275\u0275elementContainerStart(0),n.\u0275\u0275element(1,"ds-themed-loading"),n.\u0275\u0275elementContainerEnd())}function v(a,c){if(1&a&&n.\u0275\u0275element(0,"ds-statistics-table",6),2&a){const d=c.$implicit;n.\u0275\u0275classMapInterpolate1("m-2 ",d.id,""),n.\u0275\u0275property("report",d)}}function U(a,c){1&a&&(n.\u0275\u0275elementStart(0,"div"),n.\u0275\u0275text(1),n.\u0275\u0275pipe(2,"translate"),n.\u0275\u0275elementEnd()),2&a&&(n.\u0275\u0275advance(1),n.\u0275\u0275textInterpolate1(" ",n.\u0275\u0275pipeBind1(2,1,"statistics.page.no-data")," "))}function A(a,c){if(1&a&&(n.\u0275\u0275elementContainerStart(0),n.\u0275\u0275template(1,v,1,4,"ds-statistics-table",5),n.\u0275\u0275template(2,U,3,3,"div",4),n.\u0275\u0275pipe(3,"async"),n.\u0275\u0275elementContainerEnd()),2&a){const d=n.\u0275\u0275nextContext().ngVar,D=n.\u0275\u0275nextContext();n.\u0275\u0275advance(1),n.\u0275\u0275property("ngForOf",d),n.\u0275\u0275advance(1),n.\u0275\u0275property("ngIf",!n.\u0275\u0275pipeBind1(3,2,D.hasData$))}}function i(a,c){if(1&a&&(n.\u0275\u0275elementContainerStart(0),n.\u0275\u0275template(1,r,2,0,"ng-container",4),n.\u0275\u0275template(2,A,4,4,"ng-container",4),n.\u0275\u0275elementContainerEnd()),2&a){const d=c.ngVar;n.\u0275\u0275advance(1),n.\u0275\u0275property("ngIf",!d),n.\u0275\u0275advance(1),n.\u0275\u0275property("ngIf",d)}}let p=(()=>{class a extends l.f{constructor(d,D,R,L,K,W){super(d,D,R,L,W),this.route=d,this.router=D,this.usageReportService=R,this.nameService=L,this.siteService=K,this.authService=W,this.types=["TotalVisits"]}getScope$(){return this.siteService.find()}getReports$(){return this.scope$.pipe((0,t.w)(d=>this.usageReportService.searchStatistics(d._links.self.href,0,10)))}}return a.\u0275fac=function(d){return new(d||a)(n.\u0275\u0275directiveInject(T.gz),n.\u0275\u0275directiveInject(T.F0),n.\u0275\u0275directiveInject(_.f),n.\u0275\u0275directiveInject(f._),n.\u0275\u0275directiveInject(m.a),n.\u0275\u0275directiveInject(P.e8))},a.\u0275cmp=n.\u0275\u0275defineComponent({type:a,selectors:[["ds-site-statistics-page"]],features:[n.\u0275\u0275InheritDefinitionFeature],decls:5,vars:6,consts:[[1,"container"],[4,"ngVar"],["class","header",3,"id",4,"ngIf"],[1,"header",3,"id"],[4,"ngIf"],[3,"report","class",4,"ngFor","ngForOf"],[3,"report"]],template:function(d,D){1&d&&(n.\u0275\u0275elementStart(0,"div",0),n.\u0275\u0275template(1,g,2,1,"ng-container",1),n.\u0275\u0275pipe(2,"async"),n.\u0275\u0275template(3,i,3,2,"ng-container",1),n.\u0275\u0275pipe(4,"async"),n.\u0275\u0275elementEnd()),2&d&&(n.\u0275\u0275advance(1),n.\u0275\u0275property("ngVar",n.\u0275\u0275pipeBind1(2,2,D.scope$)),n.\u0275\u0275advance(2),n.\u0275\u0275property("ngVar",n.\u0275\u0275pipeBind1(4,4,D.reports$)))},directives:[S.g,M.O5,x.Z,M.sg,I.A],pipes:[M.Ov,O.X$],styles:[""]}),a})()},6497:(y,h,e)=>{"use strict";e.r(h),e.d(h,{StatisticsPageRoutingModule:()=>G});var l=e(37895),m=e(64561),_=e(17241),t=e(10210),P=e(39179),n=e(66004),T=e(55450),f=e(7379),C=(e(17599),e(11602),e(81414),e(38071),e(2887),e(46533)),s=e(70074);function g(o,E){}let r=(()=>{class o extends C.F{getComponentName(){return"CollectionStatisticsPageComponent"}importThemedComponent(u){return e(91972)(`./${u}/app/statistics-page/collection-statistics-page/collection-statistics-page.component`)}importUnthemedComponent(){return Promise.resolve().then(e.bind(e,38071))}}return o.\u0275fac=function(){let E;return function(B){return(E||(E=s.\u0275\u0275getInheritedFactory(o)))(B||o)}}(),o.\u0275cmp=s.\u0275\u0275defineComponent({type:o,selectors:[["ds-themed-collection-statistics-page"]],features:[s.\u0275\u0275InheritDefinitionFeature],decls:2,vars:0,consts:[["vcr",""]],template:function(u,B){1&u&&s.\u0275\u0275template(0,g,0,0,"ng-template",null,0,s.\u0275\u0275templateRefExtractor)},encapsulation:2}),o})();function v(o,E){}let U=(()=>{class o extends C.F{getComponentName(){return"CommunityStatisticsPageComponent"}importThemedComponent(u){return e(37292)(`./${u}/app/statistics-page/community-statistics-page/community-statistics-page.component`)}importUnthemedComponent(){return Promise.resolve().then(e.bind(e,2887))}}return o.\u0275fac=function(){let E;return function(B){return(E||(E=s.\u0275\u0275getInheritedFactory(o)))(B||o)}}(),o.\u0275cmp=s.\u0275\u0275defineComponent({type:o,selectors:[["ds-themed-collection-statistics-page"]],features:[s.\u0275\u0275InheritDefinitionFeature],decls:2,vars:0,consts:[["vcr",""]],template:function(u,B){1&u&&s.\u0275\u0275template(0,v,0,0,"ng-template",null,0,s.\u0275\u0275templateRefExtractor)},encapsulation:2}),o})();function A(o,E){}let i=(()=>{class o extends C.F{getComponentName(){return"ItemStatisticsPageComponent"}importThemedComponent(u){return e(85789)(`./${u}/app/statistics-page/item-statistics-page/item-statistics-page.component`)}importUnthemedComponent(){return Promise.resolve().then(e.bind(e,81414))}}return o.\u0275fac=function(){let E;return function(B){return(E||(E=s.\u0275\u0275getInheritedFactory(o)))(B||o)}}(),o.\u0275cmp=s.\u0275\u0275defineComponent({type:o,selectors:[["ds-themed-item-statistics-page"]],features:[s.\u0275\u0275InheritDefinitionFeature],decls:2,vars:0,consts:[["vcr",""]],template:function(u,B){1&u&&s.\u0275\u0275template(0,A,0,0,"ng-template",null,0,s.\u0275\u0275templateRefExtractor)},encapsulation:2}),o})();function p(o,E){}let a=(()=>{class o extends C.F{getComponentName(){return"SiteStatisticsPageComponent"}importThemedComponent(u){return e(48798)(`./${u}/app/statistics-page/site-statistics-page/site-statistics-page.component`)}importUnthemedComponent(){return Promise.resolve().then(e.bind(e,17599))}}return o.\u0275fac=function(){let E;return function(B){return(E||(E=s.\u0275\u0275getInheritedFactory(o)))(B||o)}}(),o.\u0275cmp=s.\u0275\u0275defineComponent({type:o,selectors:[["ds-themed-site-statistics-page"]],features:[s.\u0275\u0275InheritDefinitionFeature],decls:2,vars:0,consts:[["vcr",""]],template:function(u,B){1&u&&s.\u0275\u0275template(0,p,0,0,"ng-template",null,0,s.\u0275\u0275templateRefExtractor)},encapsulation:2}),o})();var c=e(35053);let D=(()=>{class o{}return o.\u0275fac=function(u){return new(u||o)},o.\u0275mod=s.\u0275\u0275defineNgModule({type:o}),o.\u0275inj=s.\u0275\u0275defineInjector({providers:[f.f],imports:[[t.ez,n.m,P.IR.forRoot(),T.p.forRoot(),c.Gs]]}),o})();var R=e(98225),L=e(52258),K=e(34846),W=e(18043),$=e(30835),V=e(28709),N=e(9237),z=e(84705);let F=(()=>{class o extends W.C{constructor(u,B,j){super(u,B,j),this.authorizationService=u,this.router=B,this.authService=j}getFeatureID(u,B){return(0,N.of)(z.i.CanViewUsageStatistics)}}return o.\u0275fac=function(u){return new(u||o)(s.\u0275\u0275inject($._),s.\u0275\u0275inject(l.F0),s.\u0275\u0275inject(V.e8))},o.\u0275prov=s.\u0275\u0275defineInjectable({token:o,factory:o.\u0275fac,providedIn:"root"}),o})(),G=(()=>{class o{}return o.\u0275fac=function(u){return new(u||o)},o.\u0275mod=s.\u0275\u0275defineNgModule({type:o}),o.\u0275inj=s.\u0275\u0275defineInjector({providers:[m.t,_.d,R.l,L.h,K.I],imports:[[D,l.Bz.forChild([{path:"",resolve:{breadcrumb:m.t},data:{title:"statistics.title",breadcrumbKey:"statistics"},children:[{path:"",component:a}],canActivate:[F]},{path:"items/:id",resolve:{scope:K.I,breadcrumb:m.t},data:{title:"statistics.title",breadcrumbKey:"statistics"},component:i,canActivate:[F]},{path:"collections/:id",resolve:{scope:R.l,breadcrumb:m.t},data:{title:"statistics.title",breadcrumbKey:"statistics"},component:r,canActivate:[F]},{path:"communities/:id",resolve:{scope:L.h,breadcrumb:m.t},data:{title:"statistics.title",breadcrumbKey:"statistics"},component:U,canActivate:[F]}])]]}),o})()},12467:(y,h,e)=>{"use strict";e.d(h,{f:()=>x});var l=e(53426),m=e(7379),_=e(48358),t=e(21160),P=e(5496),n=e(28709),T=e(59846),f=e(70074),S=e(37895),M=e(53043);let x=(()=>{class I{constructor(C,s,g,r,v){this.route=C,this.router=s,this.usageReportService=g,this.nameService=r,this.authService=v}ngOnInit(){this.scope$=this.getScope$(),this.reports$=this.getReports$(),this.hasData$=this.reports$.pipe((0,_.U)(C=>C.some(s=>s.points.length>0)))}getScope$(){return this.route.data.pipe((0,_.U)(C=>C.scope),(0,T.Gh)(this.router,this.authService),(0,P.xw)(),(0,P.xe)())}getReports$(){return this.scope$.pipe((0,t.w)(C=>(0,l.a)(this.types.map(s=>this.usageReportService.getStatistic(C.id,s)))))}getName(C){return this.nameService.getName(C)}}return I.\u0275fac=function(C){return new(C||I)(f.\u0275\u0275directiveInject(S.gz),f.\u0275\u0275directiveInject(S.F0),f.\u0275\u0275directiveInject(m.f),f.\u0275\u0275directiveInject(M._),f.\u0275\u0275directiveInject(n.e8))},I.\u0275cmp=f.\u0275\u0275defineComponent({type:I,selectors:[["ds-statistics-page"]],decls:0,vars:0,template:function(C,s){},encapsulation:2}),I})()},11602:(y,h,e)=>{"use strict";e.d(h,{A:()=>C}),e(6110);var m=e(9237),_=e(48358),t=e(5496),P=e(51163),n=e(70074),T=e(53043),f=e(10210),S=e(86553);function M(s,g){if(1&s&&(n.\u0275\u0275elementStart(0,"th",3),n.\u0275\u0275text(1),n.\u0275\u0275elementEnd()),2&s){const r=g.$implicit;n.\u0275\u0275classMapInterpolate1("",r,"-header"),n.\u0275\u0275advance(1),n.\u0275\u0275textInterpolate1(" ",r," ")}}function x(s,g){if(1&s&&(n.\u0275\u0275elementStart(0,"td"),n.\u0275\u0275text(1),n.\u0275\u0275elementEnd()),2&s){const r=g.$implicit,v=n.\u0275\u0275nextContext().$implicit;n.\u0275\u0275classMapInterpolate2("",v.id,"-",r,"-data"),n.\u0275\u0275advance(1),n.\u0275\u0275textInterpolate1(" ",v.values[r]," ")}}function I(s,g){if(1&s&&(n.\u0275\u0275elementStart(0,"tr")(1,"th",6),n.\u0275\u0275text(2),n.\u0275\u0275pipe(3,"async"),n.\u0275\u0275elementEnd(),n.\u0275\u0275template(4,x,2,5,"td",5),n.\u0275\u0275elementEnd()),2&s){const r=g.$implicit,v=n.\u0275\u0275nextContext(2);n.\u0275\u0275classMapInterpolate1("",r.id,"-data"),n.\u0275\u0275advance(2),n.\u0275\u0275textInterpolate1(" ",n.\u0275\u0275pipeBind1(3,5,v.getLabel(r))," "),n.\u0275\u0275advance(2),n.\u0275\u0275property("ngForOf",v.headers)}}function O(s,g){if(1&s&&(n.\u0275\u0275elementStart(0,"div",1)(1,"h3",1),n.\u0275\u0275text(2),n.\u0275\u0275pipe(3,"translate"),n.\u0275\u0275elementEnd(),n.\u0275\u0275elementStart(4,"table",2)(5,"tbody")(6,"tr"),n.\u0275\u0275element(7,"th",3),n.\u0275\u0275template(8,M,2,4,"th",4),n.\u0275\u0275elementEnd(),n.\u0275\u0275template(9,I,5,7,"tr",5),n.\u0275\u0275elementEnd()()()),2&s){const r=n.\u0275\u0275nextContext();n.\u0275\u0275advance(2),n.\u0275\u0275textInterpolate1(" ",n.\u0275\u0275pipeBind1(3,3,"statistics.table.title."+r.report.reportType)," "),n.\u0275\u0275advance(6),n.\u0275\u0275property("ngForOf",r.headers),n.\u0275\u0275advance(1),n.\u0275\u0275property("ngForOf",r.report.points)}}let C=(()=>{class s{constructor(r,v){this.dsoService=r,this.nameService=v}ngOnInit(){this.hasData=this.report.points.length>0,this.hasData&&(this.headers=Object.keys(this.report.points[0].values))}getLabel(r){return"TotalVisits"===this.report.reportType?this.dsoService.findById(r.id).pipe((0,t.xw)(),(0,t.xe)(),(0,_.U)(v=>this.nameService.getName(v))):(0,m.of)(r.label)}}return s.\u0275fac=function(r){return new(r||s)(n.\u0275\u0275directiveInject(P.D),n.\u0275\u0275directiveInject(T._))},s.\u0275cmp=n.\u0275\u0275defineComponent({type:s,selectors:[["ds-statistics-table"]],inputs:{report:"report"},decls:1,vars:1,consts:[["class","m-1",4,"ngIf"],[1,"m-1"],[1,"table","table-striped"],["scope","col"],["scope","col",3,"class",4,"ngFor","ngForOf"],[3,"class",4,"ngFor","ngForOf"],["scope","row"]],template:function(r,v){1&r&&n.\u0275\u0275template(0,O,10,5,"div",0),2&r&&n.\u0275\u0275property("ngIf",v.hasData)},directives:[f.O5,f.sg],pipes:[S.X$,f.Ov],styles:["th[_ngcontent-%COMP%], td[_ngcontent-%COMP%]{padding:.5rem}td[_ngcontent-%COMP%]{width:50px;max-width:50px}"]}),s})()},91972:(y,h,e)=>{var l={"./custom/app/statistics-page/collection-statistics-page/collection-statistics-page.component":[42700,2700],"./dspace/app/statistics-page/collection-statistics-page/collection-statistics-page.component":[14638,4638],"./gusi/app/statistics-page/collection-statistics-page/collection-statistics-page.component":[21100,1100]};function m(_){if(!e.o(l,_))return Promise.resolve().then(()=>{var n=new Error("Cannot find module '"+_+"'");throw n.code="MODULE_NOT_FOUND",n});var t=l[_],P=t[0];return e.e(t[1]).then(()=>e(P))}m.keys=()=>Object.keys(l),m.id=91972,y.exports=m},37292:(y,h,e)=>{var l={"./custom/app/statistics-page/community-statistics-page/community-statistics-page.component":[87182,7182],"./dspace/app/statistics-page/community-statistics-page/community-statistics-page.component":[92156,2156],"./gusi/app/statistics-page/community-statistics-page/community-statistics-page.component":[69839,9839]};function m(_){if(!e.o(l,_))return Promise.resolve().then(()=>{var n=new Error("Cannot find module '"+_+"'");throw n.code="MODULE_NOT_FOUND",n});var t=l[_],P=t[0];return e.e(t[1]).then(()=>e(P))}m.keys=()=>Object.keys(l),m.id=37292,y.exports=m},85789:(y,h,e)=>{var l={"./custom/app/statistics-page/item-statistics-page/item-statistics-page.component":[87131,7131],"./dspace/app/statistics-page/item-statistics-page/item-statistics-page.component":[96489,6489],"./gusi/app/statistics-page/item-statistics-page/item-statistics-page.component":[27910,7910]};function m(_){if(!e.o(l,_))return Promise.resolve().then(()=>{var n=new Error("Cannot find module '"+_+"'");throw n.code="MODULE_NOT_FOUND",n});var t=l[_],P=t[0];return e.e(t[1]).then(()=>e(P))}m.keys=()=>Object.keys(l),m.id=85789,y.exports=m},48798:(y,h,e)=>{var l={"./custom/app/statistics-page/site-statistics-page/site-statistics-page.component":[21447,1447],"./dspace/app/statistics-page/site-statistics-page/site-statistics-page.component":[37167,7167],"./gusi/app/statistics-page/site-statistics-page/site-statistics-page.component":[20011,11]};function m(_){if(!e.o(l,_))return Promise.resolve().then(()=>{var n=new Error("Cannot find module '"+_+"'");throw n.code="MODULE_NOT_FOUND",n});var t=l[_],P=t[0];return e.e(t[1]).then(()=>e(P))}m.keys=()=>Object.keys(l),m.id=48798,y.exports=m}}]);