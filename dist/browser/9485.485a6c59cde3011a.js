(self.webpackChunkdspace_angular=self.webpackChunkdspace_angular||[]).push([[9485],{92414:(b,y,e)=>{"use strict";e.d(y,{CH:()=>c,EV:()=>B});var g=e(23631),u=e(50503);const c="groups";function B(l){return new g.R((0,u.sr)(),c,l).toString()}},83772:(b,y,e)=>{"use strict";e.d(y,{a:()=>g});class g{constructor(c,h){this.text=c,this.url=h}}},39985:(b,y,e)=>{"use strict";e.r(y),e.d(y,{BrowseByDatePageComponent:()=>C});var g=e(33996),u=e(39841),c=e(24702),h=e(27645),B=e(83360),l=e(37308),x=e(77467),E=e(54004),i=e(42943),t=e(38723),W=e(63645),n=e(5e3),O=e(74202),K=e(98605),T=e(69808),A=e(62512),L=e(38934),R=e(75838),j=e(56572),M=e(13530),F=e(48106),V=e(86956);function H(o,p){if(1&o&&(n.\u0275\u0275elementContainerStart(0),n.\u0275\u0275elementStart(1,"header",7),n.\u0275\u0275element(2,"ds-comcol-page-header",8)(3,"ds-themed-comcol-page-handle",9)(4,"ds-comcol-page-content",10)(5,"ds-comcol-page-content",11),n.\u0275\u0275elementEnd(),n.\u0275\u0275element(6,"ds-themed-comcol-page-browse-by",12),n.\u0275\u0275elementContainerEnd()),2&o){const r=p.ngIf;n.\u0275\u0275advance(2),n.\u0275\u0275property("name",r.name),n.\u0275\u0275advance(1),n.\u0275\u0275property("content",r.handle)("title",r.type+".page.handle"),n.\u0275\u0275advance(1),n.\u0275\u0275property("content",r.introductoryText)("hasInnerHtml",!0),n.\u0275\u0275advance(1),n.\u0275\u0275property("content",r.sidebarText)("hasInnerHtml",!0)("title","community.page.news"),n.\u0275\u0275advance(1),n.\u0275\u0275property("id",r.id)("contentType",r.type)}}function N(o,p){if(1&o&&(n.\u0275\u0275elementContainerStart(0),n.\u0275\u0275template(1,H,7,10,"ng-container",6),n.\u0275\u0275elementContainerEnd()),2&o){const r=p.ngVar;n.\u0275\u0275advance(1),n.\u0275\u0275property("ngIf",null==r?null:r.payload)}}const Y=function(o){return{startsWith:o}},G=function(o,p,r,_){return{collection:o,field:p,startsWith:r,value:_}};function Z(o,p){if(1&o){const r=n.\u0275\u0275getCurrentView();n.\u0275\u0275elementStart(0,"ds-browse-by",13),n.\u0275\u0275listener("prev",function(){return n.\u0275\u0275restoreView(r),n.\u0275\u0275nextContext().goPrev()})("next",function(){return n.\u0275\u0275restoreView(r),n.\u0275\u0275nextContext().goNext()}),n.\u0275\u0275pipe(1,"translate"),n.\u0275\u0275pipe(2,"async"),n.\u0275\u0275pipe(3,"translate"),n.\u0275\u0275pipe(4,"translate"),n.\u0275\u0275pipe(5,"async"),n.\u0275\u0275pipe(6,"async"),n.\u0275\u0275pipe(7,"async"),n.\u0275\u0275elementEnd()}if(2&o){const r=n.\u0275\u0275nextContext();let _,f;n.\u0275\u0275propertyInterpolate("title",n.\u0275\u0275pipeBind2(1,7,"browse.title",n.\u0275\u0275pureFunction4(25,G,(null==(_=n.\u0275\u0275pipeBind1(2,10,r.parent$))||null==_.payload?null:_.payload.name)||"",n.\u0275\u0275pipeBind1(3,12,"browse.metadata."+r.browseId),r.startsWith?n.\u0275\u0275pipeBind2(4,14,"browse.startsWith",n.\u0275\u0275pureFunction1(23,Y,'"'+r.startsWith+'"')):"",r.value?'"'+r.value+'"':""))),n.\u0275\u0275propertyInterpolate("parentname",(null==(f=n.\u0275\u0275pipeBind1(5,17,r.parent$))||null==f.payload?null:f.payload.name)||""),n.\u0275\u0275property("objects$",void 0!==r.items$?r.items$:r.browseEntries$)("paginationConfig",n.\u0275\u0275pipeBind1(6,19,r.currentPagination$))("sortConfig",n.\u0275\u0275pipeBind1(7,21,r.currentSort$))("type",r.startsWithType)("startsWithOptions",r.startsWithOptions)}}function $(o,p){1&o&&(n.\u0275\u0275element(0,"ds-themed-loading",14),n.\u0275\u0275pipe(1,"translate")),2&o&&n.\u0275\u0275propertyInterpolate("message",n.\u0275\u0275pipeBind1(1,1,"loading.browse-by-page"))}function S(o,p){if(1&o&&(n.\u0275\u0275elementStart(0,"footer",16)(1,"div"),n.\u0275\u0275element(2,"ds-comcol-page-content",10),n.\u0275\u0275elementEnd()()),2&o){const r=n.\u0275\u0275nextContext().ngIf;n.\u0275\u0275advance(2),n.\u0275\u0275property("content",r.copyrightText)("hasInnerHtml",!0)}}function z(o,p){if(1&o&&(n.\u0275\u0275elementContainerStart(0),n.\u0275\u0275template(1,S,3,2,"footer",15),n.\u0275\u0275elementContainerEnd()),2&o){const r=p.ngIf;n.\u0275\u0275advance(1),n.\u0275\u0275property("ngIf",r.copyrightText)}}function d(o,p){if(1&o&&(n.\u0275\u0275elementContainerStart(0),n.\u0275\u0275template(1,z,2,1,"ng-container",6),n.\u0275\u0275elementContainerEnd()),2&o){const r=p.ngVar;n.\u0275\u0275advance(1),n.\u0275\u0275property("ngIf",null==r?null:r.payload)}}let C=(()=>{class o extends g.BrowseByMetadataPageComponent{constructor(r,_,f,I,P,U,a){super(r,_,f,P,I,a),this.route=r,this.browseService=_,this.dsoService=f,this.router=I,this.paginationService=P,this.cdRef=U,this.appConfig=a,this.defaultMetadataKeys=["dc.date.issued"]}ngOnInit(){const r=new i.o("default",i.S.ASC);this.startsWithType=l.C4.date,this.updatePage((0,g.getBrowseSearchOptions)(this.defaultBrowseId,this.paginationConfig,r,this.fetchThumbnails)),this.currentPagination$=this.paginationService.getCurrentPagination(this.paginationConfig.id,this.paginationConfig),this.currentSort$=this.paginationService.getCurrentSort(this.paginationConfig.id,r),this.subs.push((0,u.a)([this.route.params,this.route.queryParams,this.route.data,this.currentPagination$,this.currentSort$]).pipe((0,E.U)(([_,f,I,P,U])=>[Object.assign({},_,f,I),P,U])).subscribe(([_,f,I])=>{const P=_.browseDefinition?_.browseDefinition.metadataKeys:this.defaultMetadataKeys;this.browseId=_.id||this.defaultBrowseId,this.startsWith=+_.startsWith||_.startsWith;const U=(0,g.browseParamsToOptions)(_,f,I,this.browseId,this.fetchThumbnails);this.updatePageWithItems(U,this.value,void 0),this.updateParent(_.scope),this.updateStartsWithOptions(this.browseId,P,_.scope)}))}updateStartsWithOptions(r,_,f){this.subs.push(this.browseService.getFirstItemFor(r,f).subscribe(I=>{let P=this.appConfig.browseBy.defaultLowerLimit;if((0,c.Uh)(I.payload)){const D=I.payload.firstMetadataValue(_);if((0,c.UE)(D)&&(0,t.qb)(D)){const w=new Date(D);P=isNaN(w.getUTCFullYear())?P:w.getUTCFullYear()}}const U=[],a=(new Date).getUTCFullYear(),m=5*Math.floor((a-this.appConfig.browseBy.oneYearLimit)/5),s=10*Math.floor((a-this.appConfig.browseBy.fiveYearLimit)/10);P-=P<=s?10:P<=m?5:1;let v=a;for(;v>P;)U.push(v),v<=s?v-=10:v<=m?v-=5:v--;(0,c.UE)(U)&&(this.startsWithOptions=U,this.cdRef.detectChanges())}))}}return o.\u0275fac=function(r){return new(r||o)(n.\u0275\u0275directiveInject(O.gz),n.\u0275\u0275directiveInject(h.I),n.\u0275\u0275directiveInject(B.D),n.\u0275\u0275directiveInject(O.F0),n.\u0275\u0275directiveInject(x.N),n.\u0275\u0275directiveInject(n.ChangeDetectorRef),n.\u0275\u0275directiveInject(W.q))},o.\u0275cmp=n.\u0275\u0275defineComponent({type:o,selectors:[["ds-browse-by-date-page"]],features:[n.\u0275\u0275InheritDefinitionFeature],decls:9,vars:8,consts:[[1,"container"],[4,"ngVar"],[1,"comcol-page-browse-section"],[1,"browse-by-metadata","w-100"],["class","col-xs-12 w-100",3,"title","parentname","objects$","paginationConfig","sortConfig","type","startsWithOptions","prev","next",4,"ngIf"],[3,"message",4,"ngIf"],[4,"ngIf"],[1,"comcol-header","border-bottom","mb-4","pb-4"],[3,"name"],[3,"content","title"],[3,"content","hasInnerHtml"],[3,"content","hasInnerHtml","title"],[3,"id","contentType"],[1,"col-xs-12","w-100",3,"title","parentname","objects$","paginationConfig","sortConfig","type","startsWithOptions","prev","next"],[3,"message"],["class","border-top my-5 pt-4",4,"ngIf"],[1,"border-top","my-5","pt-4"]],template:function(r,_){1&r&&(n.\u0275\u0275elementStart(0,"div",0),n.\u0275\u0275template(1,N,2,1,"ng-container",1),n.\u0275\u0275pipe(2,"async"),n.\u0275\u0275elementStart(3,"section",2)(4,"div",3),n.\u0275\u0275template(5,Z,8,30,"ds-browse-by",4),n.\u0275\u0275template(6,$,2,3,"ds-themed-loading",5),n.\u0275\u0275elementEnd()(),n.\u0275\u0275template(7,d,2,1,"ng-container",1),n.\u0275\u0275pipe(8,"async"),n.\u0275\u0275elementEnd()),2&r&&(n.\u0275\u0275advance(1),n.\u0275\u0275property("ngVar",n.\u0275\u0275pipeBind1(2,4,_.parent$)),n.\u0275\u0275advance(4),n.\u0275\u0275property("ngIf",_.startsWithOptions),n.\u0275\u0275advance(1),n.\u0275\u0275property("ngIf",!_.startsWithOptions),n.\u0275\u0275advance(1),n.\u0275\u0275property("ngVar",n.\u0275\u0275pipeBind1(8,6,_.parent$)))},directives:[K.g,T.O5,A.U,L.g,R.v,j.g,M.B,F.Z],pipes:[T.Ov,V.X$],styles:[""]}),o})()},35378:(b,y,e)=>{"use strict";e.r(y),e.d(y,{BrowseByPageModule:()=>U});var g=e(74202),u=e(83360),c=e(24702),h=e(63900),B=e(54004),l=e(68285),x=e(39646),E=e(87367),i=e(5e3),t=e(86956);let W=(()=>{class a{constructor(s,v,D){this.dsoService=s,this.translate=v,this.browseDefinitionService=D}canActivate(s,v){const D=s.data.title,w=s.params.id||s.queryParams.id||s.data.id;let X;X=(0,c.xI)(s.data.browseDefinition)&&(0,c.Uh)(w)?this.browseDefinitionService.findById(w).pipe((0,l.Gp)()):(0,x.of)(s.data.browseDefinition);const J=s.queryParams.scope,Q=s.queryParams.value,k=this.translate.instant("browse.metadata."+w);return X.pipe((0,h.w)(q=>(0,c.Uh)(J)?this.dsoService.findById(J).pipe((0,l.xw)()).pipe((0,B.U)(ee=>(s.data=this.createData(D,w,q,ee.payload.name,k,Q,s),!0))):(s.data=this.createData(D,w,q,"",k,Q,s),(0,x.of)(!0))))}createData(s,v,D,w,X,J,Q){return Object.assign({},Q.data,{title:s,id:v,browseDefinition:D,collection:w,field:X,value:(0,c.Uh)(J)?`"${J}"`:""})}}return a.\u0275fac=function(s){return new(s||a)(i.\u0275\u0275inject(u.D),i.\u0275\u0275inject(t.sK),i.\u0275\u0275inject(E.v))},a.\u0275prov=i.\u0275\u0275defineInjectable({token:a,factory:a.\u0275fac}),a})();var n=e(86362),O=e(50503);let K=(()=>{class a{constructor(s,v){this.breadcrumbService=s,this.dataService=v}resolve(s,v){const D=s.queryParams.scope;if((0,c.Uh)(D))return this.dataService.findById(D).pipe((0,l.xw)(),(0,l.xe)(),(0,B.U)(w=>({provider:this.breadcrumbService,key:w,url:(0,O.Y4)(w)})))}}return a.\u0275fac=function(s){return new(s||a)(i.\u0275\u0275inject(n.B),i.\u0275\u0275inject(u.D))},a.\u0275prov=i.\u0275\u0275defineInjectable({token:a,factory:a.\u0275fac}),a})();var T=e(98655),A=e(43001);let L=(()=>{class a extends T.t{constructor(s){super(s),this.breadcrumbService=s}resolve(s,v){return s.data=Object.assign({},s.data,{breadcrumbKey:s.data.breadcrumbKey+"."+s.params.id}),super.resolve(s,v)}}return a.\u0275fac=function(s){return new(s||a)(i.\u0275\u0275inject(A.d))},a.\u0275prov=i.\u0275\u0275defineInjectable({token:a,factory:a.\u0275fac}),a})();var R=e(25330);function j(a,m){}let M=(()=>{class a extends R.F{getComponentName(){return"BrowseBySwitcherComponent"}importThemedComponent(s){return e(12960)(`./${s}/app/browse-by/browse-by-switcher/browse-by-switcher.component`)}importUnthemedComponent(){return e.e(8592).then(e.bind(e,57106))}}return a.\u0275fac=function(){let m;return function(v){return(m||(m=i.\u0275\u0275getInheritedFactory(a)))(v||a)}}(),a.\u0275cmp=i.\u0275\u0275defineComponent({type:a,selectors:[["ds-themed-browse-by-switcher"]],features:[i.\u0275\u0275InheritDefinitionFeature],decls:2,vars:0,consts:[["vcr",""]],template:function(s,v){1&s&&i.\u0275\u0275template(0,j,0,0,"ng-template",null,0,i.\u0275\u0275templateRefExtractor)},encapsulation:2}),a})(),F=(()=>{class a{}return a.\u0275fac=function(s){return new(s||a)},a.\u0275mod=i.\u0275\u0275defineNgModule({type:a}),a.\u0275inj=i.\u0275\u0275defineInjector({providers:[L,K],imports:[[g.Bz.forChild([{path:"",resolve:{breadcrumb:K},children:[{path:":id",component:M,canActivate:[W],resolve:{breadcrumb:L},data:{title:"browse.title.page",breadcrumbKey:"browse.metadata"}}]}])]]}),a})();var V=e(69808),H=e(4696),N=e(57981),Y=e(33996),G=e(39985),Z=e(18247),$=e(70655),S=e(26106);function z(a,m){}let d=class extends R.F{getComponentName(){return"BrowseByMetadataPageComponent"}importThemedComponent(m){return e(64818)(`./${m}/app/browse-by/browse-by-metadata-page/browse-by-metadata-page.component`)}importUnthemedComponent(){return Promise.resolve().then(e.bind(e,33996))}};function C(a,m){}d.\u0275fac=function(){let a;return function(s){return(a||(a=i.\u0275\u0275getInheritedFactory(d)))(s||d)}}(),d.\u0275cmp=i.\u0275\u0275defineComponent({type:d,selectors:[["ds-themed-browse-by-metadata-page"]],features:[i.\u0275\u0275InheritDefinitionFeature],decls:2,vars:0,consts:[["vcr",""]],template:function(m,s){1&m&&i.\u0275\u0275template(0,z,0,0,"ng-template",null,0,i.\u0275\u0275templateRefExtractor)},encapsulation:2}),d=(0,$.gn)([(0,S.du)(S.Zt.Metadata)],d);let o=class extends R.F{getComponentName(){return"BrowseByDatePageComponent"}importThemedComponent(m){return e(10117)(`./${m}/app/browse-by/browse-by-date-page/browse-by-date-page.component`)}importUnthemedComponent(){return Promise.resolve().then(e.bind(e,39985))}};function p(a,m){}o.\u0275fac=function(){let a;return function(s){return(a||(a=i.\u0275\u0275getInheritedFactory(o)))(s||o)}}(),o.\u0275cmp=i.\u0275\u0275defineComponent({type:o,selectors:[["ds-themed-browse-by-metadata-page"]],features:[i.\u0275\u0275InheritDefinitionFeature],decls:2,vars:0,consts:[["vcr",""]],template:function(m,s){1&m&&i.\u0275\u0275template(0,C,0,0,"ng-template",null,0,i.\u0275\u0275templateRefExtractor)},encapsulation:2}),o=(0,$.gn)([(0,S.du)(S.Zt.Date)],o);let r=class extends R.F{getComponentName(){return"BrowseByTitlePageComponent"}importThemedComponent(m){return e(75420)(`./${m}/app/browse-by/browse-by-title-page/browse-by-title-page.component`)}importUnthemedComponent(){return Promise.resolve().then(e.bind(e,4696))}};r.\u0275fac=function(){let a;return function(s){return(a||(a=i.\u0275\u0275getInheritedFactory(r)))(s||r)}}(),r.\u0275cmp=i.\u0275\u0275defineComponent({type:r,selectors:[["ds-themed-browse-by-title-page"]],features:[i.\u0275\u0275InheritDefinitionFeature],decls:2,vars:0,consts:[["vcr",""]],template:function(m,s){1&m&&i.\u0275\u0275template(0,p,0,0,"ng-template",null,0,i.\u0275\u0275templateRefExtractor)},encapsulation:2}),r=(0,$.gn)([(0,S.du)(S.Zt.Title)],r);const _=[H.BrowseByTitlePageComponent,Y.BrowseByMetadataPageComponent,G.BrowseByDatePageComponent,d,o,r];let f=(()=>{class a{static withEntryComponents(){return{ngModule:N.m,providers:_.map(s=>({provide:s}))}}}return a.\u0275fac=function(s){return new(s||a)},a.\u0275mod=i.\u0275\u0275defineNgModule({type:a}),a.\u0275inj=i.\u0275\u0275defineInjector({imports:[[V.ez,Z.H,N.m]]}),a})();var I=e(83639),P=e(27645);let U=(()=>{class a{}return a.\u0275fac=function(s){return new(s||a)},a.\u0275mod=i.\u0275\u0275defineNgModule({type:a}),a.\u0275inj=i.\u0275\u0275defineInjector({providers:[I.S,P.I,W],imports:[[F,f.withEntryComponents()]]}),a})()},4696:(b,y,e)=>{"use strict";e.r(y),e.d(y,{BrowseByTitlePageComponent:()=>z});var g=e(39841),u=e(24702),c=e(33996),h=e(83360),B=e(27645),l=e(42943),x=e(77467),E=e(54004),i=e(63645),t=e(5e3),W=e(74202),n=e(98605),O=e(69808),K=e(62512),T=e(38934),A=e(75838),L=e(56572),R=e(13530),j=e(48106),M=e(86956);function F(d,C){if(1&d&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275elementStart(1,"header",7),t.\u0275\u0275element(2,"ds-comcol-page-header",8)(3,"ds-themed-comcol-page-handle",9)(4,"ds-comcol-page-content",10)(5,"ds-comcol-page-content",11),t.\u0275\u0275elementEnd(),t.\u0275\u0275element(6,"ds-themed-comcol-page-browse-by",12),t.\u0275\u0275elementContainerEnd()),2&d){const o=C.ngIf;t.\u0275\u0275advance(2),t.\u0275\u0275property("name",o.name),t.\u0275\u0275advance(1),t.\u0275\u0275property("content",o.handle)("title",o.type+".page.handle"),t.\u0275\u0275advance(1),t.\u0275\u0275property("content",o.introductoryText)("hasInnerHtml",!0),t.\u0275\u0275advance(1),t.\u0275\u0275property("content",o.sidebarText)("hasInnerHtml",!0)("title","community.page.news"),t.\u0275\u0275advance(1),t.\u0275\u0275property("id",o.id)("contentType",o.type)}}function V(d,C){if(1&d&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275template(1,F,7,10,"ng-container",6),t.\u0275\u0275elementContainerEnd()),2&d){const o=C.ngVar;t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",null==o?null:o.payload)}}const H=function(d){return{startsWith:d}},N=function(d,C,o,p){return{collection:d,field:C,startsWith:o,value:p}};function Y(d,C){if(1&d){const o=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"ds-browse-by",13),t.\u0275\u0275listener("prev",function(){return t.\u0275\u0275restoreView(o),t.\u0275\u0275nextContext().goPrev()})("next",function(){return t.\u0275\u0275restoreView(o),t.\u0275\u0275nextContext().goNext()}),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275pipe(2,"async"),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275pipe(4,"translate"),t.\u0275\u0275pipe(5,"async"),t.\u0275\u0275pipe(6,"async"),t.\u0275\u0275pipe(7,"async"),t.\u0275\u0275elementEnd()}if(2&d){const o=t.\u0275\u0275nextContext();let p,r;t.\u0275\u0275propertyInterpolate("title",t.\u0275\u0275pipeBind2(1,7,"browse.title",t.\u0275\u0275pureFunction4(25,N,(null==(p=t.\u0275\u0275pipeBind1(2,10,o.parent$))||null==p.payload?null:p.payload.name)||"",t.\u0275\u0275pipeBind1(3,12,"browse.metadata."+o.browseId),o.startsWith?t.\u0275\u0275pipeBind2(4,14,"browse.startsWith",t.\u0275\u0275pureFunction1(23,H,'"'+o.startsWith+'"')):"",o.value?'"'+o.value+'"':""))),t.\u0275\u0275propertyInterpolate("parentname",(null==(r=t.\u0275\u0275pipeBind1(5,17,o.parent$))||null==r.payload?null:r.payload.name)||""),t.\u0275\u0275property("objects$",void 0!==o.items$?o.items$:o.browseEntries$)("paginationConfig",t.\u0275\u0275pipeBind1(6,19,o.currentPagination$))("sortConfig",t.\u0275\u0275pipeBind1(7,21,o.currentSort$))("type",o.startsWithType)("startsWithOptions",o.startsWithOptions)}}function G(d,C){1&d&&(t.\u0275\u0275element(0,"ds-themed-loading",14),t.\u0275\u0275pipe(1,"translate")),2&d&&t.\u0275\u0275propertyInterpolate("message",t.\u0275\u0275pipeBind1(1,1,"loading.browse-by-page"))}function Z(d,C){if(1&d&&(t.\u0275\u0275elementStart(0,"footer",16)(1,"div"),t.\u0275\u0275element(2,"ds-comcol-page-content",10),t.\u0275\u0275elementEnd()()),2&d){const o=t.\u0275\u0275nextContext().ngIf;t.\u0275\u0275advance(2),t.\u0275\u0275property("content",o.copyrightText)("hasInnerHtml",!0)}}function $(d,C){if(1&d&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275template(1,Z,3,2,"footer",15),t.\u0275\u0275elementContainerEnd()),2&d){const o=C.ngIf;t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",o.copyrightText)}}function S(d,C){if(1&d&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275template(1,$,2,1,"ng-container",6),t.\u0275\u0275elementContainerEnd()),2&d){const o=C.ngVar;t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",null==o?null:o.payload)}}let z=(()=>{class d extends c.BrowseByMetadataPageComponent{constructor(o,p,r,_,f,I){super(o,p,r,_,f,I),this.route=o,this.browseService=p,this.dsoService=r,this.paginationService=_,this.router=f,this.appConfig=I}ngOnInit(){const o=new l.o("dc.title",l.S.ASC);this.updatePage((0,c.getBrowseSearchOptions)(this.defaultBrowseId,this.paginationConfig,o,this.fetchThumbnails)),this.currentPagination$=this.paginationService.getCurrentPagination(this.paginationConfig.id,this.paginationConfig),this.currentSort$=this.paginationService.getCurrentSort(this.paginationConfig.id,o),this.subs.push((0,g.a)([this.route.params,this.route.queryParams,this.currentPagination$,this.currentSort$]).pipe((0,E.U)(([p,r,_,f])=>[Object.assign({},p,r),_,f])).subscribe(([p,r,_])=>{this.startsWith=+p.startsWith||p.startsWith,this.browseId=p.id||this.defaultBrowseId,this.updatePageWithItems((0,c.browseParamsToOptions)(p,r,_,this.browseId,this.fetchThumbnails),void 0,void 0),this.updateParent(p.scope)})),this.updateStartsWithTextOptions()}ngOnDestroy(){this.subs.filter(o=>(0,u.Uh)(o)).forEach(o=>o.unsubscribe())}}return d.\u0275fac=function(o){return new(o||d)(t.\u0275\u0275directiveInject(W.gz),t.\u0275\u0275directiveInject(B.I),t.\u0275\u0275directiveInject(h.D),t.\u0275\u0275directiveInject(x.N),t.\u0275\u0275directiveInject(W.F0),t.\u0275\u0275directiveInject(i.q))},d.\u0275cmp=t.\u0275\u0275defineComponent({type:d,selectors:[["ds-browse-by-title-page"]],features:[t.\u0275\u0275InheritDefinitionFeature],decls:9,vars:8,consts:[[1,"container"],[4,"ngVar"],[1,"comcol-page-browse-section"],[1,"browse-by-metadata","w-100"],["class","col-xs-12 w-100",3,"title","parentname","objects$","paginationConfig","sortConfig","type","startsWithOptions","prev","next",4,"ngIf"],[3,"message",4,"ngIf"],[4,"ngIf"],[1,"comcol-header","border-bottom","mb-4","pb-4"],[3,"name"],[3,"content","title"],[3,"content","hasInnerHtml"],[3,"content","hasInnerHtml","title"],[3,"id","contentType"],[1,"col-xs-12","w-100",3,"title","parentname","objects$","paginationConfig","sortConfig","type","startsWithOptions","prev","next"],[3,"message"],["class","border-top my-5 pt-4",4,"ngIf"],[1,"border-top","my-5","pt-4"]],template:function(o,p){1&o&&(t.\u0275\u0275elementStart(0,"div",0),t.\u0275\u0275template(1,V,2,1,"ng-container",1),t.\u0275\u0275pipe(2,"async"),t.\u0275\u0275elementStart(3,"section",2)(4,"div",3),t.\u0275\u0275template(5,Y,8,30,"ds-browse-by",4),t.\u0275\u0275template(6,G,2,3,"ds-themed-loading",5),t.\u0275\u0275elementEnd()(),t.\u0275\u0275template(7,S,2,1,"ng-container",1),t.\u0275\u0275pipe(8,"async"),t.\u0275\u0275elementEnd()),2&o&&(t.\u0275\u0275advance(1),t.\u0275\u0275property("ngVar",t.\u0275\u0275pipeBind1(2,4,p.parent$)),t.\u0275\u0275advance(4),t.\u0275\u0275property("ngIf",p.startsWithOptions),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",!p.startsWithOptions),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngVar",t.\u0275\u0275pipeBind1(8,6,p.parent$)))},directives:[n.g,O.O5,K.U,T.g,A.v,L.g,R.B,j.Z],pipes:[O.Ov,M.X$],styles:[""]}),d})()},86362:(b,y,e)=>{"use strict";e.d(y,{B:()=>n});var g=e(83772),u=e(39646),c=e(94476),h=e(93369),B=e(40367),l=e(63900),x=e(54004),E=e(24702),i=e(50503),t=e(5e3),W=e(83616);let n=(()=>{class O{constructor(T,A){this.linkService=T,this.dsoNameService=A}getBreadcrumbs(T,A){const L=this.dsoNameService.getName(T),R=new g.a(L,A),j=T.getParentLinkKey();return this.linkService.resolveLink(T,(0,h.l)(j))[j].pipe((0,B.s)(M=>M.hasSucceeded||204===M.statusCode),(0,l.w)(M=>{if((0,E.Uh)(M.payload)){const F=M.payload;return this.getBreadcrumbs(F,(0,i.Y4)(F))}return(0,u.of)([])}),(0,x.U)(M=>[...M,R]))}}return O.\u0275fac=function(T){return new(T||O)(t.\u0275\u0275inject(c.M),t.\u0275\u0275inject(W._))},O.\u0275prov=t.\u0275\u0275defineInjectable({token:O,factory:O.\u0275fac,providedIn:"root"}),O})()},98655:(b,y,e)=>{"use strict";e.d(y,{t:()=>B});var g=e(24702),u=e(78056),c=e(5e3),h=e(43001);let B=(()=>{class l{constructor(E){this.breadcrumbService=E}resolve(E,i){const t=E.data.breadcrumbKey;if((0,g.xI)(t))throw new Error('You provided an i18nBreadcrumbResolver for url "'+E.url+"\" but no breadcrumbKey in the route's data");const W=(0,u.i)(E);return{provider:this.breadcrumbService,key:t,url:W}}}return l.\u0275fac=function(E){return new(E||l)(c.\u0275\u0275inject(h.d))},l.\u0275prov=c.\u0275\u0275defineInjectable({token:l,factory:l.\u0275fac,providedIn:"root"}),l})()},43001:(b,y,e)=>{"use strict";e.d(y,{d:()=>B});var g=e(83772),u=e(39646),c=e(5e3);let B=(()=>{class l{getBreadcrumbs(E,i){return(0,u.of)([new g.a(E+".breadcrumbs",i)])}}return l.\u0275fac=function(E){return new(E||l)},l.\u0275prov=c.\u0275\u0275defineInjectable({token:l,factory:l.\u0275fac,providedIn:"root"}),l})()},10117:(b,y,e)=>{var g={"./custom/app/browse-by/browse-by-date-page/browse-by-date-page.component":[95332,5332]};function u(c){if(!e.o(g,c))return Promise.resolve().then(()=>{var l=new Error("Cannot find module '"+c+"'");throw l.code="MODULE_NOT_FOUND",l});var h=g[c],B=h[0];return e.e(h[1]).then(()=>e(B))}u.keys=()=>Object.keys(g),u.id=10117,b.exports=u},64818:(b,y,e)=>{var g={"./custom/app/browse-by/browse-by-metadata-page/browse-by-metadata-page.component":[50290,5211]};function u(c){if(!e.o(g,c))return Promise.resolve().then(()=>{var l=new Error("Cannot find module '"+c+"'");throw l.code="MODULE_NOT_FOUND",l});var h=g[c],B=h[0];return e.e(h[1]).then(()=>e(B))}u.keys=()=>Object.keys(g),u.id=64818,b.exports=u},12960:(b,y,e)=>{var g={"./custom/app/browse-by/browse-by-switcher/browse-by-switcher.component":[81193,8592,1193]};function u(c){if(!e.o(g,c))return Promise.resolve().then(()=>{var l=new Error("Cannot find module '"+c+"'");throw l.code="MODULE_NOT_FOUND",l});var h=g[c],B=h[0];return Promise.all(h.slice(1).map(e.e)).then(()=>e(B))}u.keys=()=>Object.keys(g),u.id=12960,b.exports=u},75420:(b,y,e)=>{var g={"./custom/app/browse-by/browse-by-title-page/browse-by-title-page.component":[63192,3192]};function u(c){if(!e.o(g,c))return Promise.resolve().then(()=>{var l=new Error("Cannot find module '"+c+"'");throw l.code="MODULE_NOT_FOUND",l});var h=g[c],B=h[0];return e.e(h[1]).then(()=>e(B))}u.keys=()=>Object.keys(g),u.id=75420,b.exports=u}}]);