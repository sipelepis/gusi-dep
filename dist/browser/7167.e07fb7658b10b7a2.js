"use strict";(self.webpackChunkdspace_angular=self.webpackChunkdspace_angular||[]).push([[7167],{37167:(_,r,a)=>{a.r(r),a.d(r,{SiteStatisticsPageComponent:()=>G});var v=a(12467),h=a(11262),f=a(7379),S=a(21160),u=a(28709),o=a(10210),t=a(70074),p=a(37895),c=a(78819);let C=(()=>{class e{constructor(n,s){this.http=n,this.httpBackend=s}callWithoutInterceptor(){return this.httpBackend.handle(new c.aW("GET","http://localhost:3000/stats"))}test(){this.http.get("http://localhost:3000/stats").subscribe(n=>{console.log(n)})}getData(){return this.http.get("http://localhost:3000/stats",{withCredentials:!0})}getRunreport(){}}return e.\u0275fac=function(n){return new(n||e)(t.\u0275\u0275inject(c.eN),t.\u0275\u0275inject(c.jN))},e.\u0275prov=t.\u0275\u0275defineInjectable({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var I=a(53043),x=a(41633),y=a(76924),j=a(11602),P=a(86553);const T=function(e){return{scope:e}};function B(e,i){if(1&e&&(t.\u0275\u0275elementStart(0,"h2",3),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&e){const n=t.\u0275\u0275nextContext().ngVar,s=t.\u0275\u0275nextContext();t.\u0275\u0275propertyInterpolate("id",n.id),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind2(2,2,"statistics.header",t.\u0275\u0275pureFunction1(5,T,s.getName(n)))," ")}}function E(e,i){if(1&e&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275template(1,B,3,7,"h2",2),t.\u0275\u0275elementContainerEnd()),2&e){const n=i.ngVar;t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",n)}}function F(e,i){1&e&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275element(1,"ds-themed-loading"),t.\u0275\u0275elementContainerEnd())}function $(e,i){if(1&e&&t.\u0275\u0275element(0,"ds-statistics-table",6),2&e){const n=i.$implicit;t.\u0275\u0275classMapInterpolate1("m-2 ",n.id,""),t.\u0275\u0275property("report",n)}}function V(e,i){1&e&&(t.\u0275\u0275elementStart(0,"div"),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&e&&(t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(2,1,"statistics.page.no-data")," "))}function A(e,i){if(1&e&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275template(1,$,1,4,"ds-statistics-table",5),t.\u0275\u0275template(2,V,3,3,"div",4),t.\u0275\u0275pipe(3,"async"),t.\u0275\u0275elementContainerEnd()),2&e){const n=t.\u0275\u0275nextContext().ngVar,s=t.\u0275\u0275nextContext();t.\u0275\u0275advance(1),t.\u0275\u0275property("ngForOf",n),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",!t.\u0275\u0275pipeBind1(3,2,s.hasData$))}}function D(e,i){if(1&e&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275template(1,F,2,0,"ng-container",4),t.\u0275\u0275template(2,A,4,4,"ng-container",4),t.\u0275\u0275elementContainerEnd()),2&e){const n=i.ngVar;t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",!n),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",n)}}let G=(()=>{class e extends v.f{constructor(n,s,l,d,g,N,m,O,R){super(n,l,d,g,m),this.route=n,this.gaservice=s,this.router=l,this.usageReportService=d,this.nameService=g,this.siteService=N,this.authService=m,this.http=O,this.data=this.getActualData()}getActualData(){this.gaservice.callWithoutInterceptor().subscribe(n=>{this.data=n,console.log(n)})}getScope$(){return this.siteService.find()}getReports$(){return this.scope$.pipe((0,S.w)(n=>this.usageReportService.searchStatistics(n._links.self.href,0,10)))}}return e.\u0275fac=function(n){return new(n||e)(t.\u0275\u0275directiveInject(p.gz),t.\u0275\u0275directiveInject(C),t.\u0275\u0275directiveInject(p.F0),t.\u0275\u0275directiveInject(f.f),t.\u0275\u0275directiveInject(I._),t.\u0275\u0275directiveInject(h.a),t.\u0275\u0275directiveInject(u.e8),t.\u0275\u0275directiveInject(c.eN),t.\u0275\u0275directiveInject(o.K0))},e.\u0275cmp=t.\u0275\u0275defineComponent({type:e,selectors:[["ds-site-statistics-page"]],features:[t.\u0275\u0275InheritDefinitionFeature],decls:7,vars:9,consts:[[1,"container"],[4,"ngVar"],["class","header",3,"id",4,"ngIf"],[1,"header",3,"id"],[4,"ngIf"],[3,"report","class",4,"ngFor","ngForOf"],[3,"report"]],template:function(n,s){1&n&&(t.\u0275\u0275text(0),t.\u0275\u0275pipe(1,"json"),t.\u0275\u0275elementStart(2,"div",0),t.\u0275\u0275template(3,E,2,1,"ng-container",1),t.\u0275\u0275pipe(4,"async"),t.\u0275\u0275template(5,D,3,2,"ng-container",1),t.\u0275\u0275pipe(6,"async"),t.\u0275\u0275elementEnd()),2&n&&(t.\u0275\u0275textInterpolate1("\n",t.\u0275\u0275pipeBind1(1,3,s.data),"\n"),t.\u0275\u0275advance(3),t.\u0275\u0275property("ngVar",t.\u0275\u0275pipeBind1(4,5,s.scope$)),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngVar",t.\u0275\u0275pipeBind1(6,7,s.reports$)))},directives:[x.g,o.O5,y.Z,o.sg,j.A],pipes:[o.Ts,o.Ov,P.X$],styles:[""]}),e})()}}]);