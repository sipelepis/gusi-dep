(self.webpackChunkdspace_angular=self.webpackChunkdspace_angular||[]).push([[6857,6370],{88917:(O,v,e)=>{"use strict";e.d(v,{v:()=>p});var t=e(25330),c=e(5e3);function i(l,_){}let p=(()=>{class l extends t.F{getComponentName(){return"HomeNewsComponent"}importThemedComponent(s){return e(82948)(`./${s}/app/home-page/home-news/home-news.component`)}importUnthemedComponent(){return Promise.resolve().then(e.bind(e,41130))}}return l.\u0275fac=function(){let _;return function(E){return(_||(_=c.\u0275\u0275getInheritedFactory(l)))(E||l)}}(),l.\u0275cmp=c.\u0275\u0275defineComponent({type:l,selectors:[["ds-themed-home-news"]],features:[c.\u0275\u0275InheritDefinitionFeature],decls:2,vars:0,consts:[["vcr",""]],template:function(s,E){1&s&&c.\u0275\u0275template(0,i,0,0,"ng-template",null,0,c.\u0275\u0275templateRefExtractor)},encapsulation:2}),l})()},71748:(O,v,e)=>{"use strict";e.r(v),e.d(v,{HomePageComponent:()=>f});var t=e(54004),c=e(21540),i=e(5e3),p=e(74202),l=e(88917),_=e(69808),s=e(66370),E=e(13511),T=e(53482),L=e(30690),n=e(86956);function y(g,C){if(1&g&&(i.\u0275\u0275elementContainerStart(0),i.\u0275\u0275element(1,"ds-view-tracker",3),i.\u0275\u0275elementContainerEnd()),2&g){const h=C.ngIf;i.\u0275\u0275advance(1),i.\u0275\u0275property("object",h)}}function D(g,C){1&g&&i.\u0275\u0275element(0,"ds-recent-item-list")}let f=(()=>{class g{constructor(h){this.route=h,this.recentSubmissionspageSize=c.N.homePage.recentSubmissions.pageSize}ngOnInit(){this.site$=this.route.data.pipe((0,t.U)(h=>h.site))}}return g.\u0275fac=function(h){return new(h||g)(i.\u0275\u0275directiveInject(p.gz))},g.\u0275cmp=i.\u0275\u0275defineComponent({type:g,selectors:[["ds-home-page"]],decls:8,vars:8,consts:[[1,"container"],[4,"ngIf"],[3,"inPlaceSearch","searchPlaceholder"],[3,"object"]],template:function(h,M){1&h&&(i.\u0275\u0275element(0,"ds-themed-home-news"),i.\u0275\u0275elementStart(1,"div",0),i.\u0275\u0275template(2,y,2,1,"ng-container",1),i.\u0275\u0275pipe(3,"async"),i.\u0275\u0275element(4,"ds-search-form",2),i.\u0275\u0275pipe(5,"translate"),i.\u0275\u0275element(6,"ds-top-level-community-list"),i.\u0275\u0275template(7,D,1,0,"ds-recent-item-list",1),i.\u0275\u0275elementEnd()),2&h&&(i.\u0275\u0275advance(2),i.\u0275\u0275property("ngIf",i.\u0275\u0275pipeBind1(3,4,M.site$)),i.\u0275\u0275advance(2),i.\u0275\u0275property("inPlaceSearch",!1)("searchPlaceholder",i.\u0275\u0275pipeBind1(5,6,"home.search-form.placeholder")),i.\u0275\u0275advance(3),i.\u0275\u0275property("ngIf",M.recentSubmissionspageSize>0))},directives:[l.v,_.O5,s.f,E.o,T._,L.l],pipes:[_.Ov,n.X$],styles:[""]}),g})()},56857:(O,v,e)=>{"use strict";e.r(v),e.d(v,{HomePageModule:()=>U});var t=e(69808),c=e(57981),p=(e(41130),e(74202)),l=e(23380),_=e(95698),s=e(5e3);let E=(()=>{class o{constructor(a){this.siteService=a}resolve(a,P){return this.siteService.find().pipe((0,_.q)(1))}}return o.\u0275fac=function(a){return new(a||o)(s.\u0275\u0275inject(l.a))},o.\u0275prov=s.\u0275\u0275defineInjectable({token:o,factory:o.\u0275fac}),o})();var T=e(25330);function L(o,d){}let n=(()=>{class o extends T.F{getComponentName(){return"HomePageComponent"}importThemedComponent(a){return e(54367)(`./${a}/app/home-page/home-page.component`)}importUnthemedComponent(){return Promise.resolve().then(e.bind(e,71748))}}return o.\u0275fac=function(){let d;return function(P){return(d||(d=s.\u0275\u0275getInheritedFactory(o)))(P||o)}}(),o.\u0275cmp=s.\u0275\u0275defineComponent({type:o,selectors:[["ds-themed-home-page"]],features:[s.\u0275\u0275InheritDefinitionFeature],decls:2,vars:0,consts:[["vcr",""]],template:function(a,P){1&a&&s.\u0275\u0275template(0,L,0,0,"ng-template",null,0,s.\u0275\u0275templateRefExtractor)},encapsulation:2}),o})();var y=e(58460);let D=(()=>{class o{}return o.\u0275fac=function(a){return new(a||o)},o.\u0275mod=s.\u0275\u0275defineNgModule({type:o}),o.\u0275inj=s.\u0275\u0275defineInjector({providers:[E],imports:[[p.Bz.forChild([{path:"",component:n,pathMatch:"full",data:{title:"home.title",menu:{public:[{id:"statistics_site",active:!0,visible:!0,index:2,model:{type:y.U.LINK,text:"menu.section.statistics",link:"statistics"}}]}},resolve:{site:E}}])]]}),o})();e(71748),e(53482);var C=e(79248),R=(e(88917),e(30690),e(74227)),B=e(84376);let U=(()=>{class o{}return o.\u0275fac=function(a){return new(a||o)},o.\u0275mod=s.\u0275\u0275defineNgModule({type:o}),o.\u0275inj=s.\u0275\u0275defineInjector({imports:[[t.ez,c.m.withEntryComponents(),R.x.withEntryComponents(),B.a.withEntryComponents(),D,C.p.forRoot()]]}),o})()},30690:(O,v,e)=>{"use strict";e.d(v,{l:()=>P});var t=e(5e3),c=e(35598),i=e(28652),p=e(4177),l=e(77467),_=e(5164),s=e(42943),E=e(21540),T=e(51121),L=e(36872),n=e(68285),y=e(93369),D=e(63645),f=e(69808),g=e(78063),C=e(98605),h=e(91538),M=e(41971),R=e(45863),B=e(86956);function A(m,u){if(1&m&&(t.\u0275\u0275elementStart(0,"div",7),t.\u0275\u0275element(1,"ds-listable-object-component-loader",8),t.\u0275\u0275elementEnd()),2&m){const r=u.$implicit,I=t.\u0275\u0275nextContext(3);t.\u0275\u0275advance(1),t.\u0275\u0275property("object",r)("viewMode",I.viewMode)}}function U(m,u){if(1&m){const r=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"div",3),t.\u0275\u0275element(1,"div",4),t.\u0275\u0275elementStart(2,"h2"),t.\u0275\u0275text(3),t.\u0275\u0275pipe(4,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275template(5,A,2,2,"div",5),t.\u0275\u0275elementStart(6,"button",6),t.\u0275\u0275listener("click",function(){return t.\u0275\u0275restoreView(r),t.\u0275\u0275nextContext(2).onLoadMore()}),t.\u0275\u0275text(7,"Load more..."),t.\u0275\u0275elementEnd()()}if(2&m){const r=t.\u0275\u0275nextContext().ngVar,I=t.\u0275\u0275nextContext();t.\u0275\u0275property("ngClass",I.placeholderFontClass)("@fadeIn",void 0),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(4,4,"home.recent-submissions.head"),""),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngForOf",null==r||null==r.payload?null:r.payload.page)}}function o(m,u){1&m&&(t.\u0275\u0275element(0,"ds-error",9),t.\u0275\u0275pipe(1,"translate")),2&m&&t.\u0275\u0275propertyInterpolate("message",t.\u0275\u0275pipeBind1(1,1,"error.recent-submissions"))}function d(m,u){1&m&&(t.\u0275\u0275element(0,"ds-loading",9),t.\u0275\u0275pipe(1,"translate")),2&m&&t.\u0275\u0275propertyInterpolate("message",t.\u0275\u0275pipeBind1(1,1,"loading.recent-submissions"))}function a(m,u){if(1&m&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275template(1,U,8,6,"div",1),t.\u0275\u0275template(2,o,2,3,"ds-error",2),t.\u0275\u0275template(3,d,2,3,"ds-loading",2),t.\u0275\u0275elementContainerEnd()),2&m){const r=u.ngVar;t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",(null==r?null:r.hasSucceeded)&&(null==r||null==r.payload?null:r.payload.page.length)>0),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",null==r?null:r.hasFailed),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",!r||r.isLoading)}}let P=(()=>{class m{constructor(r,I,x,W,K,S){this.searchService=r,this.paginationService=I,this.searchConfigurationService=x,this.elementRef=W,this.appConfig=K,this.platformId=S,this.viewMode=T.w.ListElement,this.paginationConfig=Object.assign(new p.r,{id:"hp",pageSize:E.N.homePage.recentSubmissions.pageSize,currentPage:1,maxSize:1}),this.sortConfig=new s.o(E.N.homePage.recentSubmissions.sortField,s.S.DESC)}ngOnInit(){const r=[];this.appConfig.browseBy.showThumbnails&&r.push((0,y.l)("thumbnail")),this.itemRD$=this.searchService.search(new c.t({pagination:this.paginationConfig,sort:this.sortConfig}),void 0,void 0,void 0,...r).pipe((0,n.Ie)())}ngOnDestroy(){this.paginationService.clearPagination(this.paginationConfig.id)}onLoadMore(){this.paginationService.updateRouteWithUrl(this.searchConfigurationService.paginationID,["search"],{sortField:E.N.homePage.recentSubmissions.sortField,sortDirection:"DESC",page:1})}get placeholderFontClass(){return void 0===this._placeholderFontClass&&(this._placeholderFontClass=(0,f.NF)(this.platformId)?(0,g.X)(this.elementRef.nativeElement.offsetWidth):"hide-placeholder-text"),this._placeholderFontClass}}return m.\u0275fac=function(r){return new(r||m)(t.\u0275\u0275directiveInject(_.o),t.\u0275\u0275directiveInject(l.N),t.\u0275\u0275directiveInject(L.U),t.\u0275\u0275directiveInject(t.ElementRef),t.\u0275\u0275directiveInject(D.q),t.\u0275\u0275directiveInject(t.PLATFORM_ID))},m.\u0275cmp=t.\u0275\u0275defineComponent({type:m,selectors:[["ds-recent-item-list"]],decls:2,vars:3,consts:[[4,"ngVar"],["class","mt-4",3,"ngClass",4,"ngIf"],[3,"message",4,"ngIf"],[1,"mt-4",3,"ngClass"],[1,"d-flex","flex-row","border-bottom","mb-4","pb-4","ng-tns-c416-2"],["class","my-4",4,"ngFor","ngForOf"],[1,"btn","btn-primary","search-button","mt-4","float-left","ng-tns-c290-40",3,"click"],[1,"my-4"],[1,"pb-4",3,"object","viewMode"],[3,"message"]],template:function(r,I){1&r&&(t.\u0275\u0275template(0,a,4,3,"ng-container",0),t.\u0275\u0275pipe(1,"async")),2&r&&t.\u0275\u0275property("ngVar",t.\u0275\u0275pipeBind1(1,1,I.itemRD$))},directives:[C.g,f.O5,f.mk,f.sg,h.p,M.q,R.LoadingComponent],pipes:[f.Ov,B.X$],styles:[""],data:{animation:[i.Ji,i.Ic]},changeDetection:0}),m})()},53482:(O,v,e)=>{"use strict";e.d(v,{_:()=>U});var t=e(61135),c=e(39841),i=e(42943),p=e(16422),l=e(28652),_=e(4177),s=e(24702),E=e(63900),T=e(77467),L=e(63645),n=e(5e3),y=e(98605),D=e(69808),f=e(70714),g=e(41971),C=e(48106),h=e(86956);function M(o,d){if(1&o&&(n.\u0275\u0275elementStart(0,"div")(1,"h2"),n.\u0275\u0275text(2),n.\u0275\u0275pipe(3,"translate"),n.\u0275\u0275elementEnd(),n.\u0275\u0275elementStart(4,"p",3),n.\u0275\u0275text(5),n.\u0275\u0275pipe(6,"translate"),n.\u0275\u0275elementEnd(),n.\u0275\u0275element(7,"ds-viewable-collection",4),n.\u0275\u0275pipe(8,"async"),n.\u0275\u0275elementEnd()),2&o){const a=n.\u0275\u0275nextContext(2);n.\u0275\u0275advance(2),n.\u0275\u0275textInterpolate(n.\u0275\u0275pipeBind1(3,6,"home.top-level-communities.head")),n.\u0275\u0275advance(3),n.\u0275\u0275textInterpolate(n.\u0275\u0275pipeBind1(6,8,"home.top-level-communities.help")),n.\u0275\u0275advance(2),n.\u0275\u0275property("config",a.config)("sortConfig",a.sortConfig)("objects",n.\u0275\u0275pipeBind1(8,10,a.communitiesRD$))("hideGear",!0)}}function R(o,d){1&o&&(n.\u0275\u0275element(0,"ds-error",5),n.\u0275\u0275pipe(1,"translate")),2&o&&n.\u0275\u0275propertyInterpolate("message",n.\u0275\u0275pipeBind1(1,1,"error.top-level-communites"))}function B(o,d){1&o&&(n.\u0275\u0275element(0,"ds-themed-loading",5),n.\u0275\u0275pipe(1,"translate")),2&o&&n.\u0275\u0275propertyInterpolate("message",n.\u0275\u0275pipeBind1(1,1,"loading.top-level-communities"))}function A(o,d){if(1&o&&(n.\u0275\u0275elementContainerStart(0),n.\u0275\u0275template(1,M,9,12,"div",1),n.\u0275\u0275template(2,R,2,3,"ds-error",2),n.\u0275\u0275template(3,B,2,3,"ds-themed-loading",2),n.\u0275\u0275elementContainerEnd()),2&o){const a=d.ngVar;n.\u0275\u0275advance(1),n.\u0275\u0275property("ngIf",null==a?null:a.hasSucceeded),n.\u0275\u0275advance(1),n.\u0275\u0275property("ngIf",null==a?null:a.hasFailed),n.\u0275\u0275advance(1),n.\u0275\u0275property("ngIf",null==a?null:a.isLoading)}}let U=(()=>{class o{constructor(a,P,m){this.appConfig=a,this.cds=P,this.paginationService=m,this.communitiesRD$=new t.X({}),this.pageId="tl",this.config=new _.r,this.config.id=this.pageId,this.config.pageSize=a.homePage.topLevelCommunityList.pageSize,this.config.currentPage=1,this.sortConfig=new i.o("dc.title",i.S.ASC)}ngOnInit(){this.initPage()}initPage(){const a=this.paginationService.getCurrentPagination(this.config.id,this.config),P=this.paginationService.getCurrentSort(this.config.id,this.sortConfig);this.currentPageSubscription=(0,c.a)([a,P]).pipe((0,E.w)(([m,u])=>this.cds.findTop({currentPage:m.currentPage,elementsPerPage:m.pageSize,sort:{field:u.field,direction:u.direction}}))).subscribe(m=>{this.communitiesRD$.next(m)})}unsubscribe(){(0,s.Uh)(this.currentPageSubscription)&&this.currentPageSubscription.unsubscribe()}ngOnDestroy(){this.unsubscribe(),this.paginationService.clearPagination(this.config.id)}}return o.\u0275fac=function(a){return new(a||o)(n.\u0275\u0275directiveInject(L.q),n.\u0275\u0275directiveInject(p.w),n.\u0275\u0275directiveInject(T.N))},o.\u0275cmp=n.\u0275\u0275defineComponent({type:o,selectors:[["ds-top-level-community-list"]],decls:2,vars:3,consts:[[4,"ngVar"],[4,"ngIf"],[3,"message",4,"ngIf"],[1,"lead"],[3,"config","sortConfig","objects","hideGear"],[3,"message"]],template:function(a,P){1&a&&(n.\u0275\u0275template(0,A,4,3,"ng-container",0),n.\u0275\u0275pipe(1,"async")),2&a&&n.\u0275\u0275property("ngVar",n.\u0275\u0275pipeBind1(1,1,P.communitiesRD$))},directives:[y.g,D.O5,f.c,g.q,C.Z],pipes:[D.Ov,h.X$],styles:[""],data:{animation:[l.Ic]},changeDetection:0}),o})()},66370:(O,v,e)=>{"use strict";e.d(v,{f:()=>p}),e(42621);var c=e(5e3),i=e(13758);let p=(()=>{class l{constructor(s){this.angulartics2=s}ngOnInit(){this.angulartics2.eventTrack.next({action:"pageView",properties:{object:this.object}})}}return l.\u0275fac=function(s){return new(s||l)(c.\u0275\u0275directiveInject(i.b))},l.\u0275cmp=c.\u0275\u0275defineComponent({type:l,selectors:[["ds-view-tracker"]],inputs:{object:"object"},decls:1,vars:0,template:function(s,E){1&s&&c.\u0275\u0275text(0,"\xa0\n")},styles:["[_nghost-%COMP%]{display:none}"]}),l})()},82948:(O,v,e)=>{var t={"./custom/app/home-page/home-news/home-news.component":[29598,9598],"./dspace/app/home-page/home-news/home-news.component":[54092]};function c(i){if(!e.o(t,i))return Promise.resolve().then(()=>{var _=new Error("Cannot find module '"+i+"'");throw _.code="MODULE_NOT_FOUND",_});var p=t[i],l=p[0];return Promise.all(p.slice(1).map(e.e)).then(()=>e(l))}c.keys=()=>Object.keys(t),c.id=82948,O.exports=c},54367:(O,v,e)=>{var t={"./custom/app/home-page/home-page.component":[39979,9979]};function c(i){if(!e.o(t,i))return Promise.resolve().then(()=>{var _=new Error("Cannot find module '"+i+"'");throw _.code="MODULE_NOT_FOUND",_});var p=t[i],l=p[0];return e.e(p[1]).then(()=>e(l))}c.keys=()=>Object.keys(t),c.id=54367,O.exports=c}}]);