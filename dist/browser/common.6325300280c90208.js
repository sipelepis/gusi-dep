(self.webpackChunkdspace_angular=self.webpackChunkdspace_angular||[]).push([[8592],{57106:(B,m,e)=>{"use strict";e.r(m),e.d(m,{BrowseBySwitcherComponent:()=>i});var r=e(54004),a=e(26106),c=e(96728),l=e(5e3),s=e(74202),n=e(69808);function E(d,M){1&d&&l.\u0275\u0275elementContainer(0)}let i=(()=>{class d{constructor(g,x,R){this.route=g,this.themeService=x,this.getComponentByBrowseByType=R}ngOnInit(){this.browseByComponent=this.route.data.pipe((0,r.U)(g=>this.getComponentByBrowseByType(g.browseDefinition.dataType,this.themeService.getThemeName())))}}return d.\u0275fac=function(g){return new(g||d)(l.\u0275\u0275directiveInject(s.gz),l.\u0275\u0275directiveInject(c.fY),l.\u0275\u0275directiveInject(a.t3))},d.\u0275cmp=l.\u0275\u0275defineComponent({type:d,selectors:[["ds-browse-by-switcher"]],decls:2,vars:3,consts:[[4,"ngComponentOutlet"]],template:function(g,x){1&g&&(l.\u0275\u0275template(0,E,1,0,"ng-container",0),l.\u0275\u0275pipe(1,"async")),2&g&&l.\u0275\u0275property("ngComponentOutlet",l.\u0275\u0275pipeBind1(1,1,x.browseByComponent))},directives:[n.$G],pipes:[n.Ov],encapsulation:2}),d})()},52466:(B,m,e)=>{"use strict";e.r(m),e.d(m,{CollectionPageComponent:()=>_e});var r=e(61135),a=e(39841),c=e(54004),l=e(95698),s=e(39300),n=e(86099),E=e(63900),i=e(68675),d=e(35598),M=e(5164),g=e(42943),x=e(36391),R=e(95642),T=e(68285),P=e(28652),p=e(24702),t=e(4177),I=e(24755),v=e(77467),u=e(19937),h=e(47235),S=e(95376),f=e(12691),U=e(27645),o=e(5e3),L=e(74202),V=e(98605),$=e(69808),b=e(66370),X=e(62512),G=e(38187),y=e(38934),F=e(75838),_=e(42257),D=e(56572),A=e(70714),w=e(41971),z=e(48106),H=e(86956);function Z(O,W){if(1&O&&(o.\u0275\u0275element(0,"ds-comcol-page-logo",19),o.\u0275\u0275pipe(1,"async")),2&O){const C=o.\u0275\u0275nextContext(4);let K;o.\u0275\u0275property("logo",null==(K=o.\u0275\u0275pipeBind1(1,2,C.logoRD$))?null:K.payload)("alternateText","Collection Logo")}}function J(O,W){if(1&O&&(o.\u0275\u0275element(0,"ds-dso-page-edit-button",20),o.\u0275\u0275pipe(1,"async")),2&O){const C=o.\u0275\u0275nextContext().ngIf,K=o.\u0275\u0275nextContext(3);o.\u0275\u0275property("pageRoute",o.\u0275\u0275pipeBind1(1,3,K.collectionPageRoute$))("dso",C)("tooltipMsg","collection.page.edit")}}function Y(O,W){if(1&O&&(o.\u0275\u0275elementStart(0,"div",23)(1,"h3",24),o.\u0275\u0275text(2),o.\u0275\u0275pipe(3,"translate"),o.\u0275\u0275elementEnd(),o.\u0275\u0275element(4,"ds-viewable-collection",25),o.\u0275\u0275elementEnd()),2&O){const C=o.\u0275\u0275nextContext().ngVar,K=o.\u0275\u0275nextContext(4);o.\u0275\u0275property("@fadeIn",void 0),o.\u0275\u0275advance(2),o.\u0275\u0275textInterpolate(o.\u0275\u0275pipeBind1(3,6,"collection.page.browse.recent.head")),o.\u0275\u0275advance(2),o.\u0275\u0275property("config",K.paginationConfig)("sortConfig",K.sortConfig)("objects",C)("hideGear",!0)}}function Q(O,W){1&O&&(o.\u0275\u0275element(0,"ds-error",26),o.\u0275\u0275pipe(1,"translate")),2&O&&o.\u0275\u0275propertyInterpolate("message",o.\u0275\u0275pipeBind1(1,1,"error.recent-submissions"))}function k(O,W){1&O&&(o.\u0275\u0275element(0,"ds-themed-loading",26),o.\u0275\u0275pipe(1,"translate")),2&O&&o.\u0275\u0275propertyInterpolate("message",o.\u0275\u0275pipeBind1(1,1,"loading.recent-submissions"))}function ee(O,W){1&O&&(o.\u0275\u0275elementStart(0,"div",27),o.\u0275\u0275text(1),o.\u0275\u0275pipe(2,"translate"),o.\u0275\u0275elementEnd()),2&O&&(o.\u0275\u0275advance(1),o.\u0275\u0275textInterpolate1(" ",o.\u0275\u0275pipeBind1(2,1,"collection.page.browse.recent.empty")," "))}function te(O,W){if(1&O&&(o.\u0275\u0275elementContainerStart(0),o.\u0275\u0275template(1,Y,5,8,"div",21),o.\u0275\u0275template(2,Q,2,3,"ds-error",4),o.\u0275\u0275template(3,k,2,3,"ds-themed-loading",4),o.\u0275\u0275template(4,ee,3,3,"div",22),o.\u0275\u0275elementContainerEnd()),2&O){const C=W.ngVar;o.\u0275\u0275advance(1),o.\u0275\u0275property("ngIf",null==C?null:C.hasSucceeded),o.\u0275\u0275advance(1),o.\u0275\u0275property("ngIf",null==C?null:C.hasFailed),o.\u0275\u0275advance(1),o.\u0275\u0275property("ngIf",!C||C.isLoading),o.\u0275\u0275advance(1),o.\u0275\u0275property("ngIf",!(null!=C&&C.isLoading)&&0===(null==C||null==C.payload?null:C.payload.page.length))}}function ne(O,W){if(1&O&&(o.\u0275\u0275elementStart(0,"footer",28),o.\u0275\u0275element(1,"ds-comcol-page-content",11),o.\u0275\u0275elementEnd()),2&O){const C=o.\u0275\u0275nextContext().ngIf;o.\u0275\u0275advance(1),o.\u0275\u0275property("content",C.copyrightText)("hasInnerHtml",!0)}}function oe(O,W){if(1&O&&(o.\u0275\u0275elementStart(0,"div"),o.\u0275\u0275element(1,"ds-view-tracker",5),o.\u0275\u0275elementStart(2,"div",6)(3,"header",7),o.\u0275\u0275element(4,"ds-comcol-page-header",8),o.\u0275\u0275template(5,Z,2,4,"ds-comcol-page-logo",9),o.\u0275\u0275element(6,"ds-themed-comcol-page-handle",10)(7,"ds-comcol-page-content",11)(8,"ds-comcol-page-content",12),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementStart(9,"div",13),o.\u0275\u0275template(10,J,2,5,"ds-dso-page-edit-button",14),o.\u0275\u0275pipe(11,"async"),o.\u0275\u0275elementEnd()(),o.\u0275\u0275elementStart(12,"section",15),o.\u0275\u0275element(13,"ds-themed-comcol-page-browse-by",16),o.\u0275\u0275template(14,te,5,4,"ng-container",17),o.\u0275\u0275pipe(15,"async"),o.\u0275\u0275elementEnd(),o.\u0275\u0275template(16,ne,2,2,"footer",18),o.\u0275\u0275elementEnd()),2&O){const C=W.ngIf,K=o.\u0275\u0275nextContext(3);o.\u0275\u0275advance(1),o.\u0275\u0275property("object",C),o.\u0275\u0275advance(3),o.\u0275\u0275property("name",C.name),o.\u0275\u0275advance(1),o.\u0275\u0275property("ngIf",K.logoRD$),o.\u0275\u0275advance(1),o.\u0275\u0275property("content",C.handle)("title","collection.page.handle"),o.\u0275\u0275advance(1),o.\u0275\u0275property("content",C.introductoryText)("hasInnerHtml",!0),o.\u0275\u0275advance(1),o.\u0275\u0275property("content",C.sidebarText)("hasInnerHtml",!0)("title","collection.page.news"),o.\u0275\u0275advance(2),o.\u0275\u0275property("ngIf",o.\u0275\u0275pipeBind1(11,15,K.isCollectionAdmin$)),o.\u0275\u0275advance(3),o.\u0275\u0275property("id",C.id)("contentType",C.type),o.\u0275\u0275advance(1),o.\u0275\u0275property("ngVar",o.\u0275\u0275pipeBind1(15,17,K.itemRD$)),o.\u0275\u0275advance(2),o.\u0275\u0275property("ngIf",C.copyrightText)}}function ie(O,W){if(1&O&&(o.\u0275\u0275elementStart(0,"div"),o.\u0275\u0275template(1,oe,17,19,"div",3),o.\u0275\u0275elementEnd()),2&O){const C=o.\u0275\u0275nextContext().ngVar;o.\u0275\u0275property("@fadeInOut",void 0),o.\u0275\u0275advance(1),o.\u0275\u0275property("ngIf",null==C?null:C.payload)}}function ae(O,W){1&O&&(o.\u0275\u0275element(0,"ds-error",26),o.\u0275\u0275pipe(1,"translate")),2&O&&o.\u0275\u0275propertyInterpolate("message",o.\u0275\u0275pipeBind1(1,1,"error.collection"))}function re(O,W){1&O&&(o.\u0275\u0275element(0,"ds-themed-loading",26),o.\u0275\u0275pipe(1,"translate")),2&O&&o.\u0275\u0275propertyInterpolate("message",o.\u0275\u0275pipeBind1(1,1,"loading.collection"))}function se(O,W){if(1&O&&(o.\u0275\u0275elementStart(0,"div",2),o.\u0275\u0275template(1,ie,2,2,"div",3),o.\u0275\u0275template(2,ae,2,3,"ds-error",4),o.\u0275\u0275template(3,re,2,3,"ds-themed-loading",4),o.\u0275\u0275elementEnd()),2&O){const C=W.ngVar;o.\u0275\u0275advance(1),o.\u0275\u0275property("ngIf",null==C?null:C.hasSucceeded),o.\u0275\u0275advance(1),o.\u0275\u0275property("ngIf",null==C?null:C.hasFailed),o.\u0275\u0275advance(1),o.\u0275\u0275property("ngIf",null==C?null:C.isLoading)}}let _e=(()=>{class O{constructor(C,K,j,q,N,ce,le){this.collectionDataService=C,this.searchService=K,this.route=j,this.router=q,this.authService=N,this.paginationService=ce,this.authorizationDataService=le,this.paginationConfig=new t.r,this.paginationConfig.id="cp",this.paginationConfig.pageSize=5,this.paginationConfig.currentPage=1,this.sortConfig=new g.o("dc.date.accessioned",g.S.DESC)}ngOnInit(){this.collectionRD$=this.route.data.pipe((0,c.U)(j=>j.dso),(0,f.Gh)(this.router,this.authService),(0,l.q)(1)),this.logoRD$=this.collectionRD$.pipe((0,c.U)(j=>j.payload),(0,s.h)(j=>(0,p.Uh)(j)),(0,n.z)(j=>j.logo)),this.isCollectionAdmin$=this.authorizationDataService.isAuthorized(h.i.IsCollectionAdmin),this.paginationChanges$=new r.X({paginationConfig:this.paginationConfig,sortConfig:this.sortConfig});const C=this.paginationService.getCurrentPagination(this.paginationConfig.id,this.paginationConfig),K=this.paginationService.getCurrentSort(this.paginationConfig.id,this.sortConfig);this.itemRD$=(0,a.a)([C,K]).pipe((0,E.w)(([j,q])=>this.collectionRD$.pipe((0,T.xw)(),(0,c.U)(N=>N.payload.id),(0,E.w)(N=>this.searchService.search(new d.t({scope:N,pagination:j,sort:q,dsoTypes:[R.h.ITEM]}),null,!0,!0,...U.a).pipe((0,T.Ie)())),(0,i.O)(void 0)))),this.collectionPageRoute$=this.collectionRD$.pipe((0,T.mc)(),(0,c.U)(j=>(0,S.MI)(j.id)))}isNotEmpty(C){return(0,p.UE)(C)}ngOnDestroy(){this.paginationService.clearPagination(this.paginationConfig.id)}}return O.\u0275fac=function(C){return new(C||O)(o.\u0275\u0275directiveInject(x.W),o.\u0275\u0275directiveInject(M.o),o.\u0275\u0275directiveInject(L.gz),o.\u0275\u0275directiveInject(L.F0),o.\u0275\u0275directiveInject(I.e8),o.\u0275\u0275directiveInject(v.N),o.\u0275\u0275directiveInject(u._))},O.\u0275cmp=o.\u0275\u0275defineComponent({type:O,selectors:[["ds-collection-page"]],decls:3,vars:3,consts:[[1,"container"],["class","collection-page",4,"ngVar"],[1,"collection-page"],[4,"ngIf"],[3,"message",4,"ngIf"],[3,"object"],[1,"d-flex","flex-row","border-bottom","mb-4","pb-4"],[1,"comcol-header","mr-auto"],[3,"name"],[3,"logo","alternateText",4,"ngIf"],[3,"content","title"],[3,"content","hasInnerHtml"],[3,"content","hasInnerHtml","title"],[1,"pl-2","space-children-mr"],[3,"pageRoute","dso","tooltipMsg",4,"ngIf"],[1,"comcol-page-browse-section"],[3,"id","contentType"],[4,"ngVar"],["class","border-top my-5 pt-4",4,"ngIf"],[3,"logo","alternateText"],[3,"pageRoute","dso","tooltipMsg"],["class","mt-4",4,"ngIf"],["class","alert alert-info w-100","role","alert",4,"ngIf"],[1,"mt-4"],[1,"sr-only"],[3,"config","sortConfig","objects","hideGear"],[3,"message"],["role","alert",1,"alert","alert-info","w-100"],[1,"border-top","my-5","pt-4"]],template:function(C,K){1&C&&(o.\u0275\u0275elementStart(0,"div",0),o.\u0275\u0275template(1,se,4,3,"div",1),o.\u0275\u0275pipe(2,"async"),o.\u0275\u0275elementEnd()),2&C&&(o.\u0275\u0275advance(1),o.\u0275\u0275property("ngVar",o.\u0275\u0275pipeBind1(2,1,K.collectionRD$)))},directives:[V.g,$.O5,b.f,X.U,G.e,y.g,F.v,_._,D.g,A.c,w.q,z.Z],pipes:[$.Ov,H.X$],styles:[""],data:{animation:[P.Ji,P.Ic]},changeDetection:0}),O})()},88840:(B,m,e)=>{"use strict";e.d(m,{C:()=>E,l:()=>i});var r=e(36391),a=e(93369),c=e(68285),l=e(8136),s=e(5e3),n=e(65620);const E=[(0,a.l)("parentCommunity",{},(0,a.l)("parentCommunity")),(0,a.l)("logo")];let i=(()=>{class d{constructor(g,x){this.collectionService=g,this.store=x}resolve(g,x){const R=this.collectionService.findById(g.params.id,!0,!1,...E).pipe((0,c.hC)());return R.subscribe(T=>{this.store.dispatch(new l.K(x.url,T.payload))}),R}}return d.\u0275fac=function(g){return new(g||d)(s.\u0275\u0275inject(r.W),s.\u0275\u0275inject(n.yh))},d.\u0275prov=s.\u0275\u0275defineInjectable({token:d,factory:d.\u0275fac}),d})()},61781:(B,m,e)=>{"use strict";e.r(m),e.d(m,{EditItemTemplatePageComponent:()=>S});var r=e(50590),a=e(54004),c=e(63900),l=e(79530),s=e(95376),n=e(68285),E=e(74711),i=e(5e3),d=e(74202),M=e(98605),g=e(69808),x=e(82986),R=e(48106),T=e(38605),P=e(86956);const p=function(f){return{collection:f}};function t(f,U){if(1&f&&(i.\u0275\u0275elementContainerStart(0),i.\u0275\u0275elementStart(1,"h2",8),i.\u0275\u0275text(2),i.\u0275\u0275pipe(3,"translate"),i.\u0275\u0275elementEnd(),i.\u0275\u0275element(4,"ds-themed-item-metadata",9),i.\u0275\u0275elementStart(5,"button",10),i.\u0275\u0275text(6),i.\u0275\u0275pipe(7,"translate"),i.\u0275\u0275elementEnd(),i.\u0275\u0275elementContainerEnd()),2&f){const o=i.\u0275\u0275nextContext().ngVar,L=i.\u0275\u0275nextContext().ngVar,V=i.\u0275\u0275nextContext();i.\u0275\u0275advance(2),i.\u0275\u0275textInterpolate(i.\u0275\u0275pipeBind2(3,5,"collection.edit.template.head",i.\u0275\u0275pureFunction1(10,p,null==L?null:L.name))),i.\u0275\u0275advance(2),i.\u0275\u0275property("updateService",V.itemTemplateService)("item",null==o?null:o.payload),i.\u0275\u0275advance(1),i.\u0275\u0275property("routerLink",V.getCollectionEditUrl(L)),i.\u0275\u0275advance(1),i.\u0275\u0275textInterpolate(i.\u0275\u0275pipeBind1(7,8,"collection.edit.template.cancel"))}}function I(f,U){1&f&&(i.\u0275\u0275element(0,"ds-themed-loading",11),i.\u0275\u0275pipe(1,"translate")),2&f&&i.\u0275\u0275property("message",i.\u0275\u0275pipeBind1(1,1,"collection.edit.template.loading"))}function v(f,U){if(1&f&&(i.\u0275\u0275element(0,"ds-alert",12),i.\u0275\u0275pipe(1,"translate")),2&f){const o=i.\u0275\u0275nextContext(3);i.\u0275\u0275property("type",o.AlertTypeEnum.Error)("content",i.\u0275\u0275pipeBind1(1,2,"collection.edit.template.error"))}}function u(f,U){if(1&f&&(i.\u0275\u0275elementStart(0,"div",4),i.\u0275\u0275template(1,t,8,12,"ng-container",5),i.\u0275\u0275template(2,I,2,3,"ds-themed-loading",6),i.\u0275\u0275template(3,v,2,4,"ds-alert",7),i.\u0275\u0275elementEnd()),2&f){const o=U.ngVar;i.\u0275\u0275advance(1),i.\u0275\u0275property("ngIf",null==o?null:o.hasSucceeded),i.\u0275\u0275advance(1),i.\u0275\u0275property("ngIf",null==o?null:o.isLoading),i.\u0275\u0275advance(1),i.\u0275\u0275property("ngIf",null==o?null:o.hasFailed)}}function h(f,U){if(1&f&&(i.\u0275\u0275elementStart(0,"div",1)(1,"div",2),i.\u0275\u0275template(2,u,4,3,"div",3),i.\u0275\u0275pipe(3,"async"),i.\u0275\u0275elementEnd()()),2&f){const o=i.\u0275\u0275nextContext();i.\u0275\u0275advance(2),i.\u0275\u0275property("ngVar",i.\u0275\u0275pipeBind1(3,1,o.itemRD$))}}let S=(()=>{class f{constructor(o,L){this.route=o,this.itemTemplateService=L,this.AlertTypeEnum=E.N}ngOnInit(){this.collectionRD$=this.route.parent.data.pipe((0,r.P)(),(0,a.U)(o=>o.dso)),this.itemRD$=this.collectionRD$.pipe((0,n.Gp)(),(0,c.w)(o=>this.itemTemplateService.findByCollectionID(o.id)))}getCollectionEditUrl(o){return o?(0,s.Ou)(o.uuid):""}}return f.\u0275fac=function(o){return new(o||f)(i.\u0275\u0275directiveInject(d.gz),i.\u0275\u0275directiveInject(l.w))},f.\u0275cmp=i.\u0275\u0275defineComponent({type:f,selectors:[["ds-edit-item-template-page"]],decls:2,vars:3,consts:[["class","container",4,"ngVar"],[1,"container"],[1,"row"],["class","col-12",4,"ngVar"],[1,"col-12"],[4,"ngIf"],[3,"message",4,"ngIf"],[3,"type","content",4,"ngIf"],[1,"border-bottom"],[3,"updateService","item"],[1,"btn","btn-outline-secondary",3,"routerLink"],[3,"message"],[3,"type","content"]],template:function(o,L){if(1&o&&(i.\u0275\u0275template(0,h,4,3,"div",0),i.\u0275\u0275pipe(1,"async")),2&o){let V;i.\u0275\u0275property("ngVar",null==(V=i.\u0275\u0275pipeBind1(1,1,L.collectionRD$))?null:V.payload)}},directives:[M.g,g.O5,x.Z,d.rH,R.Z,T.w],pipes:[g.Ov,P.X$],encapsulation:2}),f})()},32125:(B,m,e)=>{"use strict";e.d(m,{x:()=>E,h:()=>i});var r=e(16422),a=e(93369),c=e(68285),l=e(8136),s=e(5e3),n=e(65620);const E=[(0,a.l)("logo"),(0,a.l)("subcommunities"),(0,a.l)("collections"),(0,a.l)("parentCommunity")];let i=(()=>{class d{constructor(g,x){this.communityService=g,this.store=x}resolve(g,x){const R=this.communityService.findById(g.params.id,!0,!1,...E).pipe((0,c.hC)());return R.subscribe(T=>{this.store.dispatch(new l.K(x.url,T.payload))}),R}}return d.\u0275fac=function(g){return new(g||d)(s.\u0275\u0275inject(r.w),s.\u0275\u0275inject(n.yh))},d.\u0275prov=s.\u0275\u0275defineInjectable({token:d,factory:d.\u0275fac}),d})()},70178:(B,m,e)=>{"use strict";e.d(m,{o:()=>r});var r=(()=>{return(a=r||(r={})).Known="KNOWN",a.Unknown="UNKNOWN",a.Supported="SUPPORTED",r;var a})()},22656:(B,m,e)=>{"use strict";e.d(m,{m:()=>E});var r=e(93369),a=e(63900),c=e(68285),l=e(72839),s=e(5e3),n=e(65620);let E=(()=>{class i{constructor(M,g){this.dataService=M,this.store=g}resolve(M,g){return this.dataService.findById(M.params.id,!0,!1,(0,r.l)("item")).pipe((0,c.hC)(),(0,a.w)(R=>R.payload.item),(0,c.hC)())}}return i.\u0275fac=function(M){return new(M||i)(s.\u0275\u0275inject(l.t),s.\u0275\u0275inject(n.yh))},i.\u0275prov=s.\u0275\u0275defineInjectable({token:i,factory:i.\u0275fac}),i})()},23868:(B,m,e)=>{"use strict";e.r(m),e.d(m,{ForgotEmailComponent:()=>c});var r=e(5e3),a=e(59860);let c=(()=>{class l{}return l.\u0275fac=function(n){return new(n||l)},l.\u0275cmp=r.\u0275\u0275defineComponent({type:l,selectors:[["ds-forgot-email"]],decls:1,vars:1,consts:[[3,"MESSAGE_PREFIX"]],template:function(n,E){1&n&&r.\u0275\u0275element(0,"ds-register-email-form",0),2&n&&r.\u0275\u0275property("MESSAGE_PREFIX","forgot-email.form")},directives:[a.Z],styles:[""]}),l})()},91694:(B,m,e)=>{"use strict";e.r(m),e.d(m,{ForgotPasswordFormComponent:()=>R});var r=e(45061),a=e(82596),c=e(54004),l=e(64200),s=e(68285),n=e(5e3),E=e(86956),i=e(65620),d=e(74202),M=e(69808),g=e(31389);function x(T,P){if(1&T){const p=n.\u0275\u0275getCurrentView();n.\u0275\u0275elementStart(0,"div",1)(1,"h3",2),n.\u0275\u0275text(2),n.\u0275\u0275pipe(3,"translate"),n.\u0275\u0275elementEnd(),n.\u0275\u0275elementStart(4,"div",3)(5,"div",4),n.\u0275\u0275text(6),n.\u0275\u0275pipe(7,"translate"),n.\u0275\u0275elementEnd(),n.\u0275\u0275elementStart(8,"div",5)(9,"div",6)(10,"div",7)(11,"label",8),n.\u0275\u0275text(12),n.\u0275\u0275pipe(13,"translate"),n.\u0275\u0275elementEnd(),n.\u0275\u0275elementStart(14,"span",9),n.\u0275\u0275text(15),n.\u0275\u0275pipe(16,"async"),n.\u0275\u0275elementEnd()()()()(),n.\u0275\u0275elementStart(17,"div",3)(18,"div",4),n.\u0275\u0275text(19),n.\u0275\u0275pipe(20,"translate"),n.\u0275\u0275elementEnd(),n.\u0275\u0275elementStart(21,"div",5)(22,"ds-profile-page-security-form",10),n.\u0275\u0275listener("isInvalid",function(I){return n.\u0275\u0275restoreView(p),n.\u0275\u0275nextContext().setInValid(I)})("passwordValue",function(I){return n.\u0275\u0275restoreView(p),n.\u0275\u0275nextContext().setPasswordValue(I)}),n.\u0275\u0275elementEnd()()(),n.\u0275\u0275elementStart(23,"div",6)(24,"div",7)(25,"button",11),n.\u0275\u0275listener("click",function(){return n.\u0275\u0275restoreView(p),n.\u0275\u0275nextContext().submit()}),n.\u0275\u0275text(26),n.\u0275\u0275pipe(27,"translate"),n.\u0275\u0275elementEnd()()()()}if(2&T){const p=n.\u0275\u0275nextContext();n.\u0275\u0275advance(2),n.\u0275\u0275textInterpolate(n.\u0275\u0275pipeBind1(3,9,"forgot-password.form.head")),n.\u0275\u0275advance(4),n.\u0275\u0275textInterpolate(n.\u0275\u0275pipeBind1(7,11,"forgot-password.form.identification.header")),n.\u0275\u0275advance(6),n.\u0275\u0275textInterpolate(n.\u0275\u0275pipeBind1(13,13,"forgot-password.form.identification.email")),n.\u0275\u0275advance(3),n.\u0275\u0275textInterpolate(n.\u0275\u0275pipeBind1(16,15,p.registration$).email),n.\u0275\u0275advance(4),n.\u0275\u0275textInterpolate(n.\u0275\u0275pipeBind1(20,17,"forgot-password.form.card.security")),n.\u0275\u0275advance(3),n.\u0275\u0275property("passwordCanBeEmpty",!1)("FORM_PREFIX","forgot-password.form."),n.\u0275\u0275advance(3),n.\u0275\u0275property("disabled",p.isInValid),n.\u0275\u0275advance(1),n.\u0275\u0275textInterpolate(n.\u0275\u0275pipeBind1(27,19,"forgot-password.form.submit"))}}let R=(()=>{class T{constructor(p,t,I,v,u,h){this.ePersonDataService=p,this.translateService=t,this.notificationsService=I,this.store=v,this.router=u,this.route=h,this.isInValid=!0,this.NOTIFICATIONS_PREFIX="forgot-password.form.notification"}ngOnInit(){this.registration$=this.route.data.pipe((0,c.U)(p=>p.registration),(0,s.Gp)()),this.registration$.subscribe(p=>{this.email=p.email,this.token=p.token,this.user=p.user})}setInValid(p){this.isInValid=p}setPasswordValue(p){this.password=p}submit(){this.isInValid||this.ePersonDataService.patchPasswordWithToken(this.user,this.token,this.password).pipe((0,s.hC)()).subscribe(p=>{p.hasSucceeded?(this.notificationsService.success(this.translateService.instant(this.NOTIFICATIONS_PREFIX+".success.title"),this.translateService.instant(this.NOTIFICATIONS_PREFIX+".success.content")),this.store.dispatch(new l.zn(this.email,this.password)),this.router.navigate(["/home"])):this.notificationsService.error(this.translateService.instant(this.NOTIFICATIONS_PREFIX+".error.title"),p.errorMessage)})}}return T.\u0275fac=function(p){return new(p||T)(n.\u0275\u0275directiveInject(r.k),n.\u0275\u0275directiveInject(E.sK),n.\u0275\u0275directiveInject(a.T),n.\u0275\u0275directiveInject(i.yh),n.\u0275\u0275directiveInject(d.F0),n.\u0275\u0275directiveInject(d.gz))},T.\u0275cmp=n.\u0275\u0275defineComponent({type:T,selectors:[["ds-forgot-password-form"]],decls:2,vars:3,consts:[["class","container",4,"ngIf"],[1,"container"],[1,"mb-4"],[1,"card","mb-4"],[1,"card-header"],[1,"card-body"],[1,"row"],[1,"col-12"],["for","email",1,"font-weight-bold"],["id","email"],[3,"passwordCanBeEmpty","FORM_PREFIX","isInvalid","passwordValue"],[1,"btn","btn-default","btn-primary",3,"disabled","click"]],template:function(p,t){1&p&&(n.\u0275\u0275template(0,x,28,21,"div",0),n.\u0275\u0275pipe(1,"async")),2&p&&n.\u0275\u0275property("ngIf",n.\u0275\u0275pipeBind1(1,1,t.registration$))},directives:[M.O5,g.V],pipes:[M.Ov,E.X$],styles:[""]}),T})()},82986:(B,m,e)=>{"use strict";e.d(m,{Z:()=>s}),e(33609);var a=e(25330),c=e(5e3);function l(n,E){}let s=(()=>{class n extends a.F{constructor(){super(...arguments),this.inAndOutputNames=["item","updateService"]}getComponentName(){return"ItemMetadataComponent"}importThemedComponent(i){return e(47007)(`./${i}/app/item-page/edit-item-page/item-metadata/item-metadata.component`)}importUnthemedComponent(){return Promise.resolve().then(e.bind(e,7803))}}return n.\u0275fac=function(){let E;return function(d){return(E||(E=c.\u0275\u0275getInheritedFactory(n)))(d||n)}}(),n.\u0275cmp=c.\u0275\u0275defineComponent({type:n,selectors:[["ds-themed-item-metadata"]],inputs:{item:"item",updateService:"updateService"},features:[c.\u0275\u0275InheritDefinitionFeature],decls:2,vars:0,consts:[["vcr",""]],template:function(i,d){1&i&&c.\u0275\u0275template(0,l,0,0,"ng-template",null,0,c.\u0275\u0275templateRefExtractor)},encapsulation:2}),n})()},36509:(B,m,e)=>{"use strict";e.r(m),e.d(m,{LoginPageComponent:()=>R});var r=e(39841),a=e(39300),c=e(95698),l=e(64200),s=e(24702),n=e(99705),E=e(19168),i=e(5e3),d=e(74202),M=e(65620),g=e(4065),x=e(86956);let R=(()=>{class T{constructor(p,t){this.route=p,this.store=t}ngOnInit(){const p=this.route.queryParams,t=this.store.select(E.$8);this.sub=(0,r.a)(p,t).pipe((0,a.h)(([I,v])=>(0,s.UE)(I.token)||(0,s.UE)(I.expired)),(0,c.q)(1)).subscribe(([I,v])=>{const u=I.token;let h;v?(0,s.UE)(u)&&(h=new n.Y(u),this.store.dispatch(new l.$L(h))):(0,s.UE)(u)?(h=new n.Y(u),this.store.dispatch(new l.LF(h))):(0,s.UE)(I.expired)&&this.store.dispatch(new l.vT("auth.messages.expired"))})}ngOnDestroy(){(0,s.Uh)(this.sub)&&this.sub.unsubscribe(),this.store.dispatch(new l.wO)}}return T.\u0275fac=function(p){return new(p||T)(i.\u0275\u0275directiveInject(d.gz),i.\u0275\u0275directiveInject(M.yh))},T.\u0275cmp=i.\u0275\u0275defineComponent({type:T,selectors:[["ds-login-page"]],decls:9,vars:7,consts:[[1,"container","w-100","h-100"],[1,"text-center","mt-5","row","justify-content-center"],["src","assets/images/dspace-logo.png",1,"mb-4","login-logo",3,"alt"],[1,"h3","mb-0","font-weight-normal"],[3,"isStandalonePage"]],template:function(p,t){1&p&&(i.\u0275\u0275elementStart(0,"div",0)(1,"div",1)(2,"div"),i.\u0275\u0275element(3,"img",2),i.\u0275\u0275pipe(4,"translate"),i.\u0275\u0275elementStart(5,"h1",3),i.\u0275\u0275text(6),i.\u0275\u0275pipe(7,"translate"),i.\u0275\u0275elementEnd(),i.\u0275\u0275element(8,"ds-log-in",4),i.\u0275\u0275elementEnd()()()),2&p&&(i.\u0275\u0275advance(3),i.\u0275\u0275propertyInterpolate("alt",i.\u0275\u0275pipeBind1(4,3,"repository.image.logo")),i.\u0275\u0275advance(3),i.\u0275\u0275textInterpolate(i.\u0275\u0275pipeBind1(7,5,"login.form.header")),i.\u0275\u0275advance(2),i.\u0275\u0275property("isStandalonePage",!0))},directives:[g.D],pipes:[x.X$],styles:[".login-logo[_ngcontent-%COMP%]{height:var(--ds-login-logo-height);width:var(--ds-login-logo-width)}"]}),T})()},95886:(B,m,e)=>{"use strict";e.r(m),e.d(m,{LogoutPageComponent:()=>l});var r=e(5e3),a=e(62185),c=e(86956);let l=(()=>{class s{}return s.\u0275fac=function(E){return new(E||s)},s.\u0275cmp=r.\u0275\u0275defineComponent({type:s,selectors:[["ds-logout-page"]],decls:8,vars:3,consts:[[1,"container","w-100","h-100"],[1,"text-center","mt-5","row","justify-content-md-center"],[1,"mx-auto"],["src","assets/images/dspace-logo.png",1,"mb-4","login-logo"],[1,"h3","mb-0","font-weight-normal"]],template:function(E,i){1&E&&(r.\u0275\u0275elementStart(0,"div",0)(1,"div",1)(2,"div",2),r.\u0275\u0275element(3,"img",3),r.\u0275\u0275elementStart(4,"h1",4),r.\u0275\u0275text(5),r.\u0275\u0275pipe(6,"translate"),r.\u0275\u0275elementEnd(),r.\u0275\u0275element(7,"ds-log-out"),r.\u0275\u0275elementEnd()()()),2&E&&(r.\u0275\u0275advance(5),r.\u0275\u0275textInterpolate(r.\u0275\u0275pipeBind1(6,1,"logout.form.header")))},directives:[a.P],pipes:[c.X$],styles:[".login-logo[_ngcontent-%COMP%]{height:var(--ds-login-logo-height);width:var(--ds-login-logo-width)}"]}),s})()},58664:(B,m,e)=>{"use strict";e.r(m),e.d(m,{ObjectNotFoundComponent:()=>l});var r=e(5e3),a=e(74202),c=e(86956);let l=(()=>{class s{constructor(E){this.route=E,E.params.subscribe(i=>{this.idType=i.idType,this.id=i.id})}ngOnInit(){this.missingItem=this.idType.startsWith("handle")||this.idType.startsWith("uuid")?this.idType+": "+this.id:"handle: "+this.idType+"/"+this.id}}return s.\u0275fac=function(E){return new(E||s)(r.\u0275\u0275directiveInject(a.gz))},s.\u0275cmp=r.\u0275\u0275defineComponent({type:s,selectors:[["ds-objnotfound"]],decls:13,vars:7,consts:[[1,"object-not-found","container"],[1,"text-center"],["routerLink","/home",1,"btn","btn-primary"]],template:function(E,i){1&E&&(r.\u0275\u0275elementStart(0,"div",0)(1,"h1"),r.\u0275\u0275text(2),r.\u0275\u0275pipe(3,"translate"),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementStart(4,"h2")(5,"small")(6,"em"),r.\u0275\u0275text(7),r.\u0275\u0275elementEnd()()(),r.\u0275\u0275element(8,"br"),r.\u0275\u0275elementStart(9,"p",1)(10,"a",2),r.\u0275\u0275text(11),r.\u0275\u0275pipe(12,"translate"),r.\u0275\u0275elementEnd()()()),2&E&&(r.\u0275\u0275advance(2),r.\u0275\u0275textInterpolate(r.\u0275\u0275pipeBind1(3,3,"error.identifier")),r.\u0275\u0275advance(5),r.\u0275\u0275textInterpolate(i.missingItem),r.\u0275\u0275advance(4),r.\u0275\u0275textInterpolate(r.\u0275\u0275pipeBind1(12,5,"404.link.home-page")))},directives:[a.yS],pipes:[c.X$],styles:[""]}),s})()},55724:(B,m,e)=>{"use strict";e.r(m),e.d(m,{ExpandableNavbarSectionComponent:()=>I});var r=e(70655),a=e(5e3),c=e(37457),l=e(54541),s=e(41672),n=e(50590),E=e(958),i=e(9498),d=e(78969),M=e(98605),g=e(74202),x=e(69808);function R(v,u){1&v&&a.\u0275\u0275elementContainer(0)}function T(v,u){1&v&&a.\u0275\u0275elementContainer(0)}function P(v,u){if(1&v&&(a.\u0275\u0275elementContainerStart(0),a.\u0275\u0275template(1,T,1,0,"ng-container",3),a.\u0275\u0275pipe(2,"async"),a.\u0275\u0275pipe(3,"async"),a.\u0275\u0275elementContainerEnd()),2&v){const h=u.$implicit,S=a.\u0275\u0275nextContext(3);a.\u0275\u0275advance(1),a.\u0275\u0275property("ngComponentOutlet",a.\u0275\u0275pipeBind1(2,2,S.sectionMap$).get(h.id).component)("ngComponentOutletInjector",a.\u0275\u0275pipeBind1(3,4,S.sectionMap$).get(h.id).injector)}}function p(v,u){if(1&v){const h=a.\u0275\u0275getCurrentView();a.\u0275\u0275elementStart(0,"ul",5),a.\u0275\u0275listener("click",function(f){return a.\u0275\u0275restoreView(h),a.\u0275\u0275nextContext(2).deactivateSection(f)}),a.\u0275\u0275template(1,P,4,6,"ng-container",6),a.\u0275\u0275pipe(2,"async"),a.\u0275\u0275elementEnd()}if(2&v){const h=a.\u0275\u0275nextContext(2);a.\u0275\u0275property("@slide",void 0),a.\u0275\u0275advance(1),a.\u0275\u0275property("ngForOf",a.\u0275\u0275pipeBind1(2,2,h.subSections$))}}function t(v,u){if(1&v){const h=a.\u0275\u0275getCurrentView();a.\u0275\u0275elementStart(0,"div",1),a.\u0275\u0275listener("keyup.enter",function(f){const o=a.\u0275\u0275restoreView(h).ngVar,L=a.\u0275\u0275nextContext();return o?L.deactivateSection(f):L.activateSection(f)})("keyup.space",function(f){const o=a.\u0275\u0275restoreView(h).ngVar,L=a.\u0275\u0275nextContext();return o?L.deactivateSection(f):L.activateSection(f)})("keydown.space",function(f){return f.preventDefault()})("mouseenter",function(f){return a.\u0275\u0275restoreView(h),a.\u0275\u0275nextContext().activateSection(f)})("mouseleave",function(f){return a.\u0275\u0275restoreView(h),a.\u0275\u0275nextContext().deactivateSection(f)}),a.\u0275\u0275elementStart(1,"a",2),a.\u0275\u0275listener("click",function(f){return a.\u0275\u0275restoreView(h),a.\u0275\u0275nextContext().toggleSection(f)}),a.\u0275\u0275template(2,R,1,0,"ng-container",3),a.\u0275\u0275pipe(3,"async"),a.\u0275\u0275pipe(4,"async"),a.\u0275\u0275elementEnd(),a.\u0275\u0275template(5,p,3,4,"ul",4),a.\u0275\u0275pipe(6,"async"),a.\u0275\u0275elementEnd()}if(2&v){const h=a.\u0275\u0275nextContext();a.\u0275\u0275advance(2),a.\u0275\u0275property("ngComponentOutlet",a.\u0275\u0275pipeBind1(3,3,h.sectionMap$).get(h.section.id).component)("ngComponentOutletInjector",a.\u0275\u0275pipeBind1(4,5,h.sectionMap$).get(h.section.id).injector),a.\u0275\u0275advance(3),a.\u0275\u0275property("ngIf",a.\u0275\u0275pipeBind1(6,7,h.active))}}let I=class extends c.h{constructor(u,h,S,f){super(u,h,S),this.menuService=h,this.injector=S,this.windowService=f,this.menuID=d.z.PUBLIC}ngOnInit(){super.ngOnInit()}activateSection(u){this.windowService.isXsOrSm().pipe((0,n.P)()).subscribe(h=>{h||super.activateSection(u)})}deactivateSection(u){this.windowService.isXsOrSm().pipe((0,n.P)()).subscribe(h=>{h||super.deactivateSection(u)})}toggleSection(u){u.preventDefault(),this.windowService.isXsOrSm().pipe((0,n.P)()).subscribe(h=>{h&&super.toggleSection(u)})}};I.\u0275fac=function(u){return new(u||I)(a.\u0275\u0275directiveInject("sectionDataProvider"),a.\u0275\u0275directiveInject(l.h),a.\u0275\u0275directiveInject(a.Injector),a.\u0275\u0275directiveInject(E.I))},I.\u0275cmp=a.\u0275\u0275defineComponent({type:I,selectors:[["ds-expandable-navbar-section"]],features:[a.\u0275\u0275InheritDefinitionFeature],decls:2,vars:3,consts:[["class","nav-item dropdown expandable-navbar-section",3,"keyup.enter","keyup.space","keydown.space","mouseenter","mouseleave",4,"ngVar"],[1,"nav-item","dropdown","expandable-navbar-section",3,"keyup.enter","keyup.space","keydown.space","mouseenter","mouseleave"],["href","javascript:void(0);","routerLinkActive","active","id","browseDropdown","data-toggle","dropdown",1,"nav-link","dropdown-toggle",3,"click"],[4,"ngComponentOutlet","ngComponentOutletInjector"],["class","m-0 shadow-none border-top-0 dropdown-menu show",3,"click",4,"ngIf"],[1,"m-0","shadow-none","border-top-0","dropdown-menu","show",3,"click"],[4,"ngFor","ngForOf"]],template:function(u,h){1&u&&(a.\u0275\u0275template(0,t,7,9,"div",0),a.\u0275\u0275pipe(1,"async")),2&u&&a.\u0275\u0275property("ngVar",a.\u0275\u0275pipeBind1(1,1,h.active))},directives:[M.g,g.Od,x.$G,x.O5,x.sg],pipes:[x.Ov],styles:[".dropdown-menu[_ngcontent-%COMP%]{overflow:hidden;min-width:100%;border-top-left-radius:0;border-top-right-radius:0}.dropdown-menu[_ngcontent-%COMP%]     a.nav-link{padding-right:var(--bs-spacer);padding-left:var(--bs-spacer);white-space:nowrap}@media screen and (max-width: 768px){.dropdown-toggle[_ngcontent-%COMP%]:after{float:right;margin-top:calc(var(--bs-spacer) / 2)}.dropdown-menu[_ngcontent-%COMP%]{border:0}}"],data:{animation:[s.JD]}}),I=(0,r.gn)([(0,i.h)(d.z.PUBLIC,!0),(0,r.w6)("design:paramtypes",[Object,l.h,a.Injector,E.I])],I)},79910:(B,m,e)=>{"use strict";e.d(m,{N:()=>r});var r=(()=>{return(a=r||(r={}))[a.SCHEDULED=0]="SCHEDULED",a[a.RUNNING=1]="RUNNING",a[a.COMPLETED=2]="COMPLETED",a[a.FAILED=3]="FAILED",r;var a})()},59860:(B,m,e)=>{"use strict";e.d(m,{Z:()=>G});var r=e(93459),a=e(82596),c=e(93075),l=e(59656),s=e(68285),n=e(24702),E=e(61135),i=e(39841),d=e(63900),M=e(39646),g=e(54004),x=e(95698),R=e(68675),T=e(20036),P=e(74711),p=e(57388),t=e(5e3),I=e(86956),v=e(74202),u=e(92834),h=e(69808),S=e(38605),f=e(88235);function U(y,F){if(1&y&&(t.\u0275\u0275elementStart(0,"span"),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&y){const _=t.\u0275\u0275nextContext(2);t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(2,1,_.MESSAGE_PREFIX+".email.error.required")," ")}}function o(y,F){if(1&y&&(t.\u0275\u0275elementStart(0,"span"),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&y){const _=t.\u0275\u0275nextContext(2);t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(2,1,_.MESSAGE_PREFIX+".email.error.pattern")," ")}}function L(y,F){if(1&y&&(t.\u0275\u0275elementStart(0,"div",12),t.\u0275\u0275template(1,U,3,3,"span",13),t.\u0275\u0275template(2,o,3,3,"span",13),t.\u0275\u0275elementEnd()),2&y){const _=t.\u0275\u0275nextContext();t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",_.email.errors&&_.email.errors.required),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",_.email.errors&&_.email.errors.pattern)}}function V(y,F){if(1&y){const _=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"ds-alert",14),t.\u0275\u0275element(1,"p",15),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementStart(3,"p",16)(4,"a",17),t.\u0275\u0275listener("click",function(){return t.\u0275\u0275restoreView(_),t.\u0275\u0275nextContext().klaroService.showSettings()}),t.\u0275\u0275text(5),t.\u0275\u0275pipe(6,"translate"),t.\u0275\u0275elementEnd()()()}if(2&y){const _=t.\u0275\u0275nextContext();t.\u0275\u0275property("type",_.AlertTypeEnum.Warning),t.\u0275\u0275advance(1),t.\u0275\u0275property("innerHTML",t.\u0275\u0275pipeBind1(2,3,_.MESSAGE_PREFIX+".google-recaptcha.must-accept-cookies"),t.\u0275\u0275sanitizeHtml),t.\u0275\u0275advance(4),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(6,5,_.MESSAGE_PREFIX+".google-recaptcha.open-cookie-settings"))}}function $(y,F){if(1&y){const _=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"div",18)(1,"ds-google-recaptcha",19),t.\u0275\u0275listener("executeRecaptcha",function(A){return t.\u0275\u0275restoreView(_),t.\u0275\u0275nextContext().register(A)})("checkboxChecked",function(A){return t.\u0275\u0275restoreView(_),t.\u0275\u0275nextContext().onCheckboxChecked(A)})("showNotification",function(A){return t.\u0275\u0275restoreView(_),t.\u0275\u0275nextContext().showNotification(A)}),t.\u0275\u0275pipe(2,"async"),t.\u0275\u0275elementEnd()()}if(2&y){const _=t.\u0275\u0275nextContext();t.\u0275\u0275advance(1),t.\u0275\u0275property("captchaMode",t.\u0275\u0275pipeBind1(2,1,_.googleRecaptchaService.captchaMode()))}}function b(y,F){if(1&y){const _=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275elementStart(1,"button",20),t.\u0275\u0275listener("click",function(){return t.\u0275\u0275restoreView(_),t.\u0275\u0275nextContext().register()}),t.\u0275\u0275text(2),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementContainerEnd()}if(2&y){const _=t.\u0275\u0275nextContext();t.\u0275\u0275advance(1),t.\u0275\u0275property("disabled",_.form.invalid||_.registrationVerification&&!_.isRecaptchaCookieAccepted()||_.disableUntilChecked),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(3,2,_.MESSAGE_PREFIX+".submit")," ")}}function X(y,F){if(1&y){const _=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"button",20),t.\u0275\u0275listener("click",function(){return t.\u0275\u0275restoreView(_),t.\u0275\u0275nextContext().executeRecaptcha()}),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()}if(2&y){const _=t.\u0275\u0275nextContext();t.\u0275\u0275property("disabled",_.form.invalid),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(2,2,_.MESSAGE_PREFIX+".submit")," ")}}let G=(()=>{class y{constructor(_,D,A,w,z,H,Z,J,Y,Q,k){this.epersonRegistrationService=_,this.notificationService=D,this.translateService=A,this.router=w,this.formBuilder=z,this.configService=H,this.googleRecaptchaService=Z,this.cookieService=J,this.klaroService=Y,this.changeDetectorRef=Q,this.notificationsService=k,this.AlertTypeEnum=P.N,this.registrationVerification=!1,this.checkboxCheckedSubject$=new E.X(!1),this.disableUntilChecked=!0}captchaVersion(){return this.googleRecaptchaService.captchaVersion()}captchaMode(){return this.googleRecaptchaService.captchaMode()}ngOnInit(){this.form=this.formBuilder.group({email:new c.NI("",{validators:[c.kI.required,c.kI.pattern("^[a-z0-9._%+-]+@[a-z0-9.-]+.[a-z]{2,4}$")]})}),this.configService.findByPropertyName("registration.verification.enabled").pipe((0,s.Gp)(),(0,g.U)(_=>"true"===(null==_?void 0:_.values[0].toLowerCase()))).subscribe(_=>{this.registrationVerification=_}),this.disableUntilCheckedFcn().subscribe(_=>{this.disableUntilChecked=_,this.changeDetectorRef.detectChanges()})}executeRecaptcha(){this.googleRecaptchaService.executeRecaptcha()}register(_){this.form.invalid||(this.registrationVerification?(0,i.a)([this.captchaVersion(),this.captchaMode()]).pipe((0,d.w)(([D,A])=>"v3"===D?this.googleRecaptchaService.getRecaptchaToken("register_email"):"v2"===D&&"checkbox"===A?(0,M.of)(this.googleRecaptchaService.getRecaptchaTokenResponse()):"v2"===D&&"invisible"===A?(0,M.of)(_):(console.error(`Invalid reCaptcha configuration: version = ${D}, mode = ${A}`),void this.showNotification("error"))),(0,x.q)(1)).subscribe(D=>{(0,n.UE)(D)?this.registration(D):(console.error("reCaptcha error"),this.showNotification("error"))}):this.registration())}registration(_=null){(_?this.epersonRegistrationService.registerEmail(this.email.value,_):this.epersonRegistrationService.registerEmail(this.email.value)).subscribe(A=>{A.hasSucceeded?(this.notificationService.success(this.translateService.get(`${this.MESSAGE_PREFIX}.success.head`),this.translateService.get(`${this.MESSAGE_PREFIX}.success.content`,{email:this.email.value})),this.router.navigate(["/home"])):this.notificationService.error(this.translateService.get(`${this.MESSAGE_PREFIX}.error.head`),this.translateService.get(`${this.MESSAGE_PREFIX}.error.content`,{email:this.email.value}))})}isRecaptchaCookieAccepted(){const _=this.cookieService.get("klaro-anonymous");return!!(0,n.UE)(_)&&_[T.LI]}disableUntilCheckedFcn(){const _=this.checkboxCheckedSubject$.asObservable();return(0,i.a)([this.captchaVersion(),this.captchaMode(),_]).pipe((0,d.w)(([D,A,w])=>(0,M.of)("v2"===D&&"checkbox"===A&&!w)),(0,R.O)(!0))}get email(){return this.form.get("email")}onCheckboxChecked(_){this.checkboxCheckedSubject$.next(_)}showNotification(_){const D=this.translateService.get(this.MESSAGE_PREFIX+".google-recaptcha.notification.title"),A=this.translateService.get(this.MESSAGE_PREFIX+".google-recaptcha.notification.message.error"),w=this.translateService.get(this.MESSAGE_PREFIX+".google-recaptcha.notification.message.expired");switch(_){case"expired":this.notificationsService.warning(D,w);break;case"error":this.notificationsService.error(D,A);break;default:console.warn(`Unimplemented notification '${_}' from reCaptcha service`)}}}return y.\u0275fac=function(_){return new(_||y)(t.\u0275\u0275directiveInject(r.m),t.\u0275\u0275directiveInject(a.T),t.\u0275\u0275directiveInject(I.sK),t.\u0275\u0275directiveInject(v.F0),t.\u0275\u0275directiveInject(c.qu),t.\u0275\u0275directiveInject(l.i),t.\u0275\u0275directiveInject(T.v0),t.\u0275\u0275directiveInject(p.N),t.\u0275\u0275directiveInject(u.D,8),t.\u0275\u0275directiveInject(t.ChangeDetectorRef),t.\u0275\u0275directiveInject(a.T))},y.\u0275cmp=t.\u0275\u0275defineComponent({type:y,selectors:[["ds-register-email-form"]],inputs:{MESSAGE_PREFIX:"MESSAGE_PREFIX"},decls:27,vars:27,consts:[[1,"container"],[3,"formGroup"],[1,"form-group"],[1,"row"],[1,"col-12"],["for","email",1,"font-weight-bold"],["type","text","id","email","formControlName","email",3,"className"],["class","invalid-feedback show-feedback",4,"ngIf"],[3,"type",4,"ngIf"],["class","my-3",4,"ngIf"],[4,"ngIf","ngIfElse"],["v2Invisible",""],[1,"invalid-feedback","show-feedback"],[4,"ngIf"],[3,"type"],[1,"m-0",3,"innerHTML"],[1,"m-0"],["href","javascript:void(0);",3,"click"],[1,"my-3"],[3,"captchaMode","executeRecaptcha","checkboxChecked","showNotification"],[1,"btn","btn-primary",3,"disabled","click"]],template:function(_,D){if(1&_&&(t.\u0275\u0275elementStart(0,"div",0)(1,"h2"),t.\u0275\u0275text(2),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(4,"p"),t.\u0275\u0275text(5),t.\u0275\u0275pipe(6,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(7,"form",1)(8,"div",2)(9,"div",3)(10,"div",4)(11,"label",5),t.\u0275\u0275text(12),t.\u0275\u0275pipe(13,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275element(14,"input",6),t.\u0275\u0275template(15,L,3,2,"div",7),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(16,"div",4),t.\u0275\u0275text(17),t.\u0275\u0275pipe(18,"translate"),t.\u0275\u0275elementEnd()()(),t.\u0275\u0275template(19,V,7,7,"ds-alert",8),t.\u0275\u0275template(20,$,3,3,"div",9),t.\u0275\u0275pipe(21,"async"),t.\u0275\u0275template(22,b,4,4,"ng-container",10),t.\u0275\u0275pipe(23,"async"),t.\u0275\u0275pipe(24,"async"),t.\u0275\u0275template(25,X,3,4,"ng-template",null,11,t.\u0275\u0275templateRefExtractor),t.\u0275\u0275elementEnd()()),2&_){const A=t.\u0275\u0275reference(26);t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(3,13,D.MESSAGE_PREFIX+".header")),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(6,15,D.MESSAGE_PREFIX+".info")),t.\u0275\u0275advance(2),t.\u0275\u0275classMap("ng-invalid"),t.\u0275\u0275property("formGroup",D.form),t.\u0275\u0275advance(5),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(13,17,D.MESSAGE_PREFIX+".email")),t.\u0275\u0275advance(2),t.\u0275\u0275property("className",D.email.invalid&&(D.email.dirty||D.email.touched)?"form-control is-invalid":"form-control"),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",D.email.invalid&&(D.email.dirty||D.email.touched)),t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(18,19,D.MESSAGE_PREFIX+".email.hint")," "),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngIf",D.registrationVerification&&!D.isRecaptchaCookieAccepted()),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",D.isRecaptchaCookieAccepted()&&"v2"===t.\u0275\u0275pipeBind1(21,21,D.googleRecaptchaService.captchaVersion())),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngIf",!("v2"===t.\u0275\u0275pipeBind1(23,23,D.googleRecaptchaService.captchaVersion())&&"invisible"===t.\u0275\u0275pipeBind1(24,25,D.googleRecaptchaService.captchaMode())))("ngIfElse",A)}},directives:[c._Y,c.JL,c.sg,c.Fj,c.JJ,c.u,h.O5,S.w,f.C],pipes:[I.X$,h.Ov],encapsulation:2}),y})()},4734:(B,m,e)=>{"use strict";e.d(m,{E:()=>l});var r=e(69808),a=e(57981),c=e(5e3);let l=(()=>{class s{}return s.\u0275fac=function(E){return new(E||s)},s.\u0275mod=c.\u0275\u0275defineNgModule({type:s}),s.\u0275inj=c.\u0275\u0275defineInjector({providers:[],imports:[[r.ez,a.m]]}),s})()},11923:(B,m,e)=>{"use strict";e.r(m),e.d(m,{RegisterEmailComponent:()=>c});var r=e(5e3),a=e(59860);let c=(()=>{class l{}return l.\u0275fac=function(n){return new(n||l)},l.\u0275cmp=r.\u0275\u0275defineComponent({type:l,selectors:[["ds-register-email"]],decls:1,vars:1,consts:[[3,"MESSAGE_PREFIX"]],template:function(n,E){1&n&&r.\u0275\u0275element(0,"ds-register-email-form",0),2&n&&r.\u0275\u0275property("MESSAGE_PREFIX","register-page.registration")},directives:[a.Z],styles:[""]}),l})()},26831:(B,m,e)=>{"use strict";e.d(m,{E:()=>i});var r=e(93459),a=e(24755),c=e(54004),l=e(68285),s=e(12691),n=e(5e3),E=e(74202);let i=(()=>{class d{constructor(g,x,R){this.epersonRegistrationService=g,this.router=x,this.authService=R}canActivate(g,x){return this.epersonRegistrationService.searchByToken(g.params.token).pipe((0,l.hC)(),(0,s.Gh)(this.router,this.authService),(0,c.U)(T=>(g.data=Object.assign(Object.assign({},g.data),{registration:T}),T.hasSucceeded)))}}return d.\u0275fac=function(g){return new(g||d)(n.\u0275\u0275inject(r.m),n.\u0275\u0275inject(E.F0),n.\u0275\u0275inject(a.e8))},d.\u0275prov=n.\u0275\u0275defineInjectable({token:d,factory:d.\u0275fac,providedIn:"root"}),d})()},2951:(B,m,e)=>{"use strict";e.d(m,{s:()=>s});var r=e(70655),a=e(61200),c=e(2764),l=e(50678);let s=class extends c.l{};s=(0,r.gn)([(0,l.D)(a.p)],s)},6070:(B,m,e)=>{"use strict";e.d(m,{V:()=>x});var r=e(54004),a=e(63900),c=e(95698),l=e(21899),s=e(5360),n=e(82596),E=e(68285),i=e(24702),d=e(5e3),M=e(74202),g=e(86956);let x=(()=>{class R{constructor(P,p,t,I,v,u){this.route=P,this.workflowItemService=p,this.router=t,this.routeService=I,this.notificationsService=v,this.translationService=u}ngOnInit(){this.type=this.getType(),this.wfi$=this.route.data.pipe((0,r.U)(P=>P.wfi),(0,E.xe)()),this.item$=this.wfi$.pipe((0,a.w)(P=>P.item.pipe((0,E.g1)(),(0,E.xe)())))}performAction(){this.wfi$.pipe((0,c.q)(1),(0,a.w)(P=>this.sendRequest(P.id))).subscribe(P=>{if(P){const p=this.translationService.get("workflow-item."+this.type+".notification.success.title"),t=this.translationService.get("workflow-item."+this.type+".notification.success.content");this.notificationsService.success(p,t)}else{const p=this.translationService.get("workflow-item."+this.type+".notification.error.title"),t=this.translationService.get("workflow-item."+this.type+".notification.error.content");this.notificationsService.error(p,t)}this.previousPage()})}previousPage(){this.routeService.getPreviousUrl().pipe((0,c.q)(1)).subscribe(P=>{(0,i.xb)(P)&&(P="/mydspace"),this.router.navigateByUrl(P)})}}return R.\u0275fac=function(P){return new(P||R)(d.\u0275\u0275directiveInject(M.gz),d.\u0275\u0275directiveInject(l.K),d.\u0275\u0275directiveInject(M.F0),d.\u0275\u0275directiveInject(s.MZ),d.\u0275\u0275directiveInject(n.T),d.\u0275\u0275directiveInject(g.sK))},R.\u0275cmp=d.\u0275\u0275defineComponent({type:R,selectors:[["ds-workflowitem-action-page"]],decls:0,vars:0,template:function(P,p){},encapsulation:2}),R})()},64008:(B,m,e)=>{"use strict";e.r(m),e.d(m,{WorkflowItemDeleteComponent:()=>p});var r=e(6070),a=e(21899),c=e(5360),l=e(82596),s=e(31241),n=e(54004),E=e(68285),i=e(5e3),d=e(74202),M=e(86956),g=e(98605),x=e(69808),R=e(30409);function T(t,I){if(1&t&&i.\u0275\u0275element(0,"ds-modify-item-overview",5),2&t){const v=i.\u0275\u0275nextContext().ngVar;i.\u0275\u0275property("item",v)}}function P(t,I){if(1&t){const v=i.\u0275\u0275getCurrentView();i.\u0275\u0275elementStart(0,"div",1)(1,"h2"),i.\u0275\u0275text(2),i.\u0275\u0275pipe(3,"translate"),i.\u0275\u0275elementEnd(),i.\u0275\u0275template(4,T,1,1,"ds-modify-item-overview",2),i.\u0275\u0275elementStart(5,"button",3),i.\u0275\u0275listener("click",function(){return i.\u0275\u0275restoreView(v),i.\u0275\u0275nextContext().previousPage()}),i.\u0275\u0275text(6),i.\u0275\u0275pipe(7,"translate"),i.\u0275\u0275elementEnd(),i.\u0275\u0275elementStart(8,"button",4),i.\u0275\u0275listener("click",function(){return i.\u0275\u0275restoreView(v),i.\u0275\u0275nextContext().performAction()}),i.\u0275\u0275text(9),i.\u0275\u0275pipe(10,"translate"),i.\u0275\u0275elementEnd()()}if(2&t){const v=I.ngVar,u=i.\u0275\u0275nextContext();i.\u0275\u0275advance(2),i.\u0275\u0275textInterpolate(i.\u0275\u0275pipeBind1(3,4,"workflow-item."+u.type+".header")),i.\u0275\u0275advance(2),i.\u0275\u0275property("ngIf",v),i.\u0275\u0275advance(2),i.\u0275\u0275textInterpolate(i.\u0275\u0275pipeBind1(7,6,"workflow-item."+u.type+".button.cancel")),i.\u0275\u0275advance(3),i.\u0275\u0275textInterpolate(i.\u0275\u0275pipeBind1(10,8,"workflow-item."+u.type+".button.confirm"))}}let p=(()=>{class t extends r.V{constructor(v,u,h,S,f,U,o){super(v,u,h,S,f,U),this.route=v,this.workflowItemService=u,this.router=h,this.routeService=S,this.notificationsService=f,this.translationService=U,this.requestService=o}getType(){return"delete"}sendRequest(v){return this.requestService.removeByHrefSubstring("/discover"),this.workflowItemService.delete(v).pipe((0,E.hC)(),(0,n.U)(u=>u.hasSucceeded))}}return t.\u0275fac=function(v){return new(v||t)(i.\u0275\u0275directiveInject(d.gz),i.\u0275\u0275directiveInject(a.K),i.\u0275\u0275directiveInject(d.F0),i.\u0275\u0275directiveInject(c.MZ),i.\u0275\u0275directiveInject(l.T),i.\u0275\u0275directiveInject(M.sK),i.\u0275\u0275directiveInject(s.s))},t.\u0275cmp=i.\u0275\u0275defineComponent({type:t,selectors:[["ds-workflow-item-delete"]],features:[i.\u0275\u0275InheritDefinitionFeature],decls:2,vars:3,consts:[["class","container",4,"ngVar"],[1,"container"],[3,"item",4,"ngIf"],[1,"btn","btn-default",3,"click"],[1,"btn","btn-danger",3,"click"],[3,"item"]],template:function(v,u){1&v&&(i.\u0275\u0275template(0,P,11,10,"div",0),i.\u0275\u0275pipe(1,"async")),2&v&&i.\u0275\u0275property("ngVar",i.\u0275\u0275pipeBind1(1,1,u.item$))},directives:[g.g,x.O5,R.E],pipes:[x.Ov,M.X$],encapsulation:2}),t})()},45812:(B,m,e)=>{"use strict";e.r(m),e.d(m,{WorkflowItemSendBackComponent:()=>T});var r=e(6070),a=e(21899),c=e(5360),l=e(82596),s=e(31241),n=e(5e3),E=e(74202),i=e(86956),d=e(98605),M=e(69808),g=e(30409);function x(P,p){if(1&P&&n.\u0275\u0275element(0,"ds-modify-item-overview",5),2&P){const t=n.\u0275\u0275nextContext().ngVar;n.\u0275\u0275property("item",t)}}function R(P,p){if(1&P){const t=n.\u0275\u0275getCurrentView();n.\u0275\u0275elementStart(0,"div",1)(1,"h2"),n.\u0275\u0275text(2),n.\u0275\u0275pipe(3,"translate"),n.\u0275\u0275elementEnd(),n.\u0275\u0275template(4,x,1,1,"ds-modify-item-overview",2),n.\u0275\u0275elementStart(5,"button",3),n.\u0275\u0275listener("click",function(){return n.\u0275\u0275restoreView(t),n.\u0275\u0275nextContext().previousPage()}),n.\u0275\u0275text(6),n.\u0275\u0275pipe(7,"translate"),n.\u0275\u0275elementEnd(),n.\u0275\u0275elementStart(8,"button",4),n.\u0275\u0275listener("click",function(){return n.\u0275\u0275restoreView(t),n.\u0275\u0275nextContext().performAction()}),n.\u0275\u0275text(9),n.\u0275\u0275pipe(10,"translate"),n.\u0275\u0275elementEnd()()}if(2&P){const t=p.ngVar,I=n.\u0275\u0275nextContext();n.\u0275\u0275advance(2),n.\u0275\u0275textInterpolate(n.\u0275\u0275pipeBind1(3,4,"workflow-item."+I.type+".header")),n.\u0275\u0275advance(2),n.\u0275\u0275property("ngIf",t),n.\u0275\u0275advance(2),n.\u0275\u0275textInterpolate(n.\u0275\u0275pipeBind1(7,6,"workflow-item."+I.type+".button.cancel")),n.\u0275\u0275advance(3),n.\u0275\u0275textInterpolate(n.\u0275\u0275pipeBind1(10,8,"workflow-item."+I.type+".button.confirm"))}}let T=(()=>{class P extends r.V{constructor(t,I,v,u,h,S,f){super(t,I,v,u,h,S),this.route=t,this.workflowItemService=I,this.router=v,this.routeService=u,this.notificationsService=h,this.translationService=S,this.requestService=f}getType(){return"send-back"}sendRequest(t){return this.requestService.removeByHrefSubstring("/discover"),this.workflowItemService.sendBack(t)}}return P.\u0275fac=function(t){return new(t||P)(n.\u0275\u0275directiveInject(E.gz),n.\u0275\u0275directiveInject(a.K),n.\u0275\u0275directiveInject(E.F0),n.\u0275\u0275directiveInject(c.MZ),n.\u0275\u0275directiveInject(l.T),n.\u0275\u0275directiveInject(i.sK),n.\u0275\u0275directiveInject(s.s))},P.\u0275cmp=n.\u0275\u0275defineComponent({type:P,selectors:[["ds-workflow-item-send-back"]],features:[n.\u0275\u0275InheritDefinitionFeature],decls:2,vars:3,consts:[["class","container",4,"ngVar"],[1,"container"],[3,"item",4,"ngIf"],[1,"btn","btn-default",3,"click"],[1,"btn","btn-danger",3,"click"],[3,"item"]],template:function(t,I){1&t&&(n.\u0275\u0275template(0,R,11,10,"div",0),n.\u0275\u0275pipe(1,"async")),2&t&&n.\u0275\u0275property("ngVar",n.\u0275\u0275pipeBind1(1,1,I.item$))},directives:[d.g,M.O5,g.E],pipes:[M.Ov,i.X$],encapsulation:2}),P})()},47007:(B,m,e)=>{var r={"./custom/app/item-page/edit-item-page/item-metadata/item-metadata.component":[48314,8314]};function a(c){if(!e.o(r,c))return Promise.resolve().then(()=>{var n=new Error("Cannot find module '"+c+"'");throw n.code="MODULE_NOT_FOUND",n});var l=r[c],s=l[0];return e.e(l[1]).then(()=>e(s))}a.keys=()=>Object.keys(r),a.id=47007,B.exports=a}}]);