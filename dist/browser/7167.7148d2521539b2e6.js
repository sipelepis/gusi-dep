"use strict";(self.webpackChunkdspace_angular=self.webpackChunkdspace_angular||[]).push([[7167],{37167:(N,c,a)=>{a.r(c),a.d(c,{SiteStatisticsPageComponent:()=>D});var v=a(12467),h=a(11262),S=a(7379),f=a(21160),u=a(28709),s=a(10210),t=a(70074),l=a(37895),o=a(78819);let x=(()=>{class e{constructor(n,r){this.http=n,this.httpBackend=r}callWithoutInterceptor(){return this.httpBackend.handle(new o.aW("GET","http://localhost:1337/stats/ga1"))}test(){return this.http.get("http://www.7timer.info/bin/api.pl?lon=113.17&lat=23.09&product=astro&output=json")}getData(){return this.http.get("http://localhost:3000/stats",{withCredentials:!0})}getRunreport(){}}return e.\u0275fac=function(n){return new(n||e)(t.\u0275\u0275inject(o.eN),t.\u0275\u0275inject(o.jN))},e.\u0275prov=t.\u0275\u0275defineInjectable({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var E=a(53043),I=a(41633),C=a(76924),y=a(11602),P=a(86553);const j=function(e){return{scope:e}};function T(e,i){if(1&e&&(t.\u0275\u0275elementStart(0,"h2",16),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&e){const n=t.\u0275\u0275nextContext().ngVar,r=t.\u0275\u0275nextContext();t.\u0275\u0275propertyInterpolate("id",n.id),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind2(2,2,"statistics.header",t.\u0275\u0275pureFunction1(5,j,r.getName(n)))," ")}}function A(e,i){if(1&e&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275template(1,T,3,7,"h2",15),t.\u0275\u0275elementContainerEnd()),2&e){const n=i.ngVar;t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",n)}}function B(e,i){1&e&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275element(1,"ds-themed-loading"),t.\u0275\u0275elementContainerEnd())}function V(e,i){if(1&e&&t.\u0275\u0275element(0,"ds-statistics-table",18),2&e){const n=i.$implicit;t.\u0275\u0275classMapInterpolate1("m-2 ",n.id,""),t.\u0275\u0275property("report",n)}}function F(e,i){1&e&&(t.\u0275\u0275elementStart(0,"div"),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&e&&(t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(2,1,"statistics.page.no-data")," "))}function _(e,i){if(1&e&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275template(1,V,1,4,"ds-statistics-table",17),t.\u0275\u0275template(2,F,3,3,"div",2),t.\u0275\u0275pipe(3,"async"),t.\u0275\u0275elementContainerEnd()),2&e){const n=t.\u0275\u0275nextContext().ngVar,r=t.\u0275\u0275nextContext();t.\u0275\u0275advance(1),t.\u0275\u0275property("ngForOf",n),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",!t.\u0275\u0275pipeBind1(3,2,r.hasData$))}}function $(e,i){if(1&e&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275template(1,B,2,0,"ng-container",2),t.\u0275\u0275template(2,_,4,4,"ng-container",2),t.\u0275\u0275elementContainerEnd()),2&e){const n=i.ngVar;t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",!n),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",n)}}function O(e,i){if(1&e&&(t.\u0275\u0275elementStart(0,"p"),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"json"),t.\u0275\u0275elementEnd()),2&e){const n=t.\u0275\u0275nextContext();t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(2,1,n.data))}}let D=(()=>{class e extends v.f{constructor(n,r,p,d,m,G,g,R,W){super(n,p,d,m,g),this.route=n,this.gaservice=r,this.router=p,this.usageReportService=d,this.nameService=m,this.siteService=G,this.authService=g,this.http=R,this.data=void 0,this.dataInvalid='{ "type": 0 }',this.isJson=!1}ngOnInit(){this.getActData(),super.ngOnInit()}getActualData(){this.gaservice.callWithoutInterceptor().subscribe(n=>{this.data=n,console.log(n),this.isJson=!0,console.log(typeof n)})}getActData(){this.gaservice.test().subscribe(n=>{console.log(n)})}getScope$(){return this.siteService.find()}getReports$(){return this.scope$.pipe((0,f.w)(n=>this.usageReportService.searchStatistics(n._links.self.href,0,10)))}}return e.\u0275fac=function(n){return new(n||e)(t.\u0275\u0275directiveInject(l.gz),t.\u0275\u0275directiveInject(x),t.\u0275\u0275directiveInject(l.F0),t.\u0275\u0275directiveInject(S.f),t.\u0275\u0275directiveInject(E._),t.\u0275\u0275directiveInject(h.a),t.\u0275\u0275directiveInject(u.e8),t.\u0275\u0275directiveInject(o.eN),t.\u0275\u0275directiveInject(s.K0))},e.\u0275cmp=t.\u0275\u0275defineComponent({type:e,selectors:[["ds-site-statistics-page"]],features:[t.\u0275\u0275InheritDefinitionFeature],decls:75,vars:7,consts:[[1,"container"],[4,"ngVar"],[4,"ngIf"],[1,"row"],[1,"col-lg-3","col-md-6","mb-4"],[1,"card"],[1,"card-body"],[1,"text-uppercase","small","mb-2"],[1,"mb-0"],[1,"text-success","ms-2"],[1,"fas","fa-arrow-up","fa-sm","pe-1"],[1,"text-uppercase","text-muted","small","mb-2"],[1,"text-muted","mb-0"],[1,"text-danger","ms-2"],[1,"fas","fa-arrow-down","fa-sm","pe-1"],["class","header",3,"id",4,"ngIf"],[1,"header",3,"id"],[3,"report","class",4,"ngFor","ngForOf"],[3,"report"]],template:function(n,r){1&n&&(t.\u0275\u0275elementStart(0,"div",0),t.\u0275\u0275template(1,A,2,1,"ng-container",1),t.\u0275\u0275pipe(2,"async"),t.\u0275\u0275template(3,$,3,2,"ng-container",1),t.\u0275\u0275pipe(4,"async"),t.\u0275\u0275template(5,O,3,3,"p",2),t.\u0275\u0275elementStart(6,"div",3)(7,"div",4)(8,"div",5)(9,"div",6)(10,"p",7)(11,"strong"),t.\u0275\u0275text(12,"USERS"),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(13,"h5",8)(14,"strong"),t.\u0275\u0275text(15,"14 567"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(16,"small",9),t.\u0275\u0275element(17,"i",10),t.\u0275\u0275text(18,"13,48%"),t.\u0275\u0275elementEnd()(),t.\u0275\u0275element(19,"hr"),t.\u0275\u0275elementStart(20,"p",11),t.\u0275\u0275text(21," Previous period "),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(22,"h5",12),t.\u0275\u0275text(23,"11 467"),t.\u0275\u0275elementEnd()()()(),t.\u0275\u0275elementStart(24,"div",4)(25,"div",5)(26,"div",6)(27,"p",7)(28,"strong"),t.\u0275\u0275text(29,"PAGE VIEWS"),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(30,"h5",8)(31,"strong"),t.\u0275\u0275text(32,"51 354 "),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(33,"small",9),t.\u0275\u0275element(34,"i",10),t.\u0275\u0275text(35,"23,58%"),t.\u0275\u0275elementEnd()(),t.\u0275\u0275element(36,"hr"),t.\u0275\u0275elementStart(37,"p",11),t.\u0275\u0275text(38," Previous period "),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(39,"h5",12),t.\u0275\u0275text(40,"38 454"),t.\u0275\u0275elementEnd()()()(),t.\u0275\u0275elementStart(41,"div",4)(42,"div",5)(43,"div",6)(44,"p",7)(45,"strong"),t.\u0275\u0275text(46,"AVERAGE TIME"),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(47,"h5",8)(48,"strong"),t.\u0275\u0275text(49,"00:04:20"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(50,"small",13),t.\u0275\u0275element(51,"i",14),t.\u0275\u0275text(52,"23,58%"),t.\u0275\u0275elementEnd()(),t.\u0275\u0275element(53,"hr"),t.\u0275\u0275elementStart(54,"p",11),t.\u0275\u0275text(55," Previous period "),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(56,"h5",12),t.\u0275\u0275text(57,"00:05:20"),t.\u0275\u0275elementEnd()()()(),t.\u0275\u0275elementStart(58,"div",4)(59,"div",5)(60,"div",6)(61,"p",7)(62,"strong"),t.\u0275\u0275text(63,"BOUNCE RATE"),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(64,"h5",8)(65,"strong"),t.\u0275\u0275text(66,"32.35%"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(67,"small",13),t.\u0275\u0275element(68,"i",14),t.\u0275\u0275text(69,"23,58%"),t.\u0275\u0275elementEnd()(),t.\u0275\u0275element(70,"hr"),t.\u0275\u0275elementStart(71,"p",11),t.\u0275\u0275text(72," Previous period "),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(73,"h5",12),t.\u0275\u0275text(74,"24.35%"),t.\u0275\u0275elementEnd()()()()()()),2&n&&(t.\u0275\u0275advance(1),t.\u0275\u0275property("ngVar",t.\u0275\u0275pipeBind1(2,3,r.scope$)),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngVar",t.\u0275\u0275pipeBind1(4,5,r.reports$)),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngIf",r.data!==r.dataInvalid))},directives:[I.g,s.O5,C.Z,s.sg,y.A],pipes:[s.Ov,P.X$,s.Ts],styles:[""]}),e})()}}]);