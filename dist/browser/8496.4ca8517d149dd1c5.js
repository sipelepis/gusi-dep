"use strict";(self.webpackChunkdspace_angular=self.webpackChunkdspace_angular||[]).push([[8496],{98496:(v,c,n)=>{n.r(c),n.d(c,{ComcolPageBrowseByComponent:()=>P});var d=n(48358),m=n(18595),_=n(10954),g=n(5496),u=n(17373),e=n(70074),l=n(37895),p=n(10210),i=n(45028),C=n(86553);function O(a,r){if(1&a&&(e.\u0275\u0275elementStart(0,"a",8),e.\u0275\u0275text(1),e.\u0275\u0275pipe(2,"translate"),e.\u0275\u0275elementEnd()),2&a){const t=r.$implicit;e.\u0275\u0275property("routerLink",t.routerLink)("queryParams",t.params),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(2,3,t.label))}}function h(a,r){if(1&a&&(e.\u0275\u0275elementStart(0,"option",9),e.\u0275\u0275pipe(1,"async"),e.\u0275\u0275text(2),e.\u0275\u0275pipe(3,"translate"),e.\u0275\u0275elementEnd()),2&a){const t=r.$implicit,o=e.\u0275\u0275nextContext();e.\u0275\u0275property("ngValue",t.id),e.\u0275\u0275attribute("selected",e.\u0275\u0275pipeBind1(1,3,o.currentOptionId$)===t.id?"selected":null),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(3,5,t.label))}}let P=(()=>{class a{constructor(t,o,s){this.route=t,this.router=o,this.browseService=s}ngOnInit(){this.browseService.getBrowseDefinitions().pipe((0,g.hC)()).subscribe(t=>{t.hasSucceeded&&(this.allOptions=t.payload.page.map(o=>({id:o.id,label:`browse.comcol.by.${o.id}`,routerLink:`/browse/${o.id}`,params:{scope:this.id}})),"collection"===this.contentType?this.allOptions=[{id:this.id,label:"collection.page.browse.recent.head",routerLink:(0,_.MI)(this.id)},...this.allOptions]:"community"===this.contentType&&(this.allOptions=[{id:this.id,label:"community.all-lists.head",routerLink:(0,m.Ke)(this.id)},...this.allOptions]))}),this.currentOptionId$=this.route.params.pipe((0,d.U)(t=>t.id))}onSelectChange(t){const o=this.allOptions.find(s=>s.id===t);this.router.navigate([o.routerLink],{queryParams:o.params})}}return a.\u0275fac=function(t){return new(t||a)(e.\u0275\u0275directiveInject(l.gz),e.\u0275\u0275directiveInject(l.F0),e.\u0275\u0275directiveInject(u.I))},a.\u0275cmp=e.\u0275\u0275defineComponent({type:a,selectors:[["ds-comcol-page-browse-by"]],inputs:{id:"id",contentType:"contentType"},decls:11,vars:8,consts:[[1,"comcol-browse-label","h5"],["aria-label","Browse Community or Collection",1,"comcol-browse","mb-4"],[1,"d-none","d-sm-block"],[1,"list-group","list-group-horizontal"],["class","list-group-item","routerLinkActive","active",3,"routerLink","queryParams",4,"ngFor","ngForOf"],[1,"d-block","d-sm-none"],["name","browse-type","aria-label","Browse Community or Collection",1,"form-control",3,"ngModel","ngModelChange"],[3,"ngValue",4,"ngFor","ngForOf"],["routerLinkActive","active",1,"list-group-item",3,"routerLink","queryParams"],[3,"ngValue"]],template:function(t,o){1&t&&(e.\u0275\u0275elementStart(0,"h2",0),e.\u0275\u0275text(1),e.\u0275\u0275pipe(2,"translate"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(3,"nav",1)(4,"div",2)(5,"div",3),e.\u0275\u0275template(6,O,3,5,"a",4),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(7,"div",5)(8,"select",6),e.\u0275\u0275listener("ngModelChange",function(y){return o.onSelectChange(y)}),e.\u0275\u0275pipe(9,"async"),e.\u0275\u0275template(10,h,4,7,"option",7),e.\u0275\u0275elementEnd()()()),2&t&&(e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(2,4,"browse.comcol.head")),e.\u0275\u0275advance(5),e.\u0275\u0275property("ngForOf",o.allOptions),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngModel",e.\u0275\u0275pipeBind1(9,6,o.currentOptionId$)),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngForOf",o.allOptions))},directives:[p.sg,l.yS,l.Od,i.EJ,i.JJ,i.On,i.YN,i.Kr],pipes:[C.X$,p.Ov],styles:["a[_ngcontent-%COMP%]{color:#da1212}a[_ngcontent-%COMP%]:hover, a[_ngcontent-%COMP%]:focus{color:#da1212}a[_ngcontent-%COMP%]:focus, a[_ngcontent-%COMP%]:focus{text-decoration:underline;box-shadow:none}a[_ngcontent-%COMP%]:disabled{color:#da1212}.list-group-item.active[_ngcontent-%COMP%]{color:#fff!important;background-color:#da1212!important;border-color:#da1212!important}"]}),a})()}}]);